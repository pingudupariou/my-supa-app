var lP=e=>{throw TypeError(e)};var K0=(e,t,r)=>t.has(e)||lP("Cannot "+r);var ye=(e,t,r)=>(K0(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?lP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),vt=(e,t,r,n)=>(K0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Sn=(e,t,r)=>(K0(e,t,"access private method"),r);var gp=(e,t,r,n)=>({set _(a){vt(e,t,a,r)},get _(){return ye(e,t,n)}});function b8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GR={exports:{}},Gy={},YR={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=Symbol.for("react.element"),w8=Symbol.for("react.portal"),j8=Symbol.for("react.fragment"),_8=Symbol.for("react.strict_mode"),S8=Symbol.for("react.profiler"),C8=Symbol.for("react.provider"),N8=Symbol.for("react.context"),P8=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),E8=Symbol.for("react.memo"),A8=Symbol.for("react.lazy"),cP=Symbol.iterator;function O8(e){return e===null||typeof e!="object"?null:(e=cP&&e[cP]||e["@@iterator"],typeof e=="function"?e:null)}var XR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZR=Object.assign,QR={};function Ed(e,t,r){this.props=e,this.context=t,this.refs=QR,this.updater=r||XR}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JR(){}JR.prototype=Ed.prototype;function Z_(e,t,r){this.props=e,this.context=t,this.refs=QR,this.updater=r||XR}var Q_=Z_.prototype=new JR;Q_.constructor=Z_;ZR(Q_,Ed.prototype);Q_.isPureReactComponent=!0;var uP=Array.isArray,eM=Object.prototype.hasOwnProperty,J_={current:null},tM={key:!0,ref:!0,__self:!0,__source:!0};function rM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)eM.call(t,n)&&!tM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Km,type:e,key:i,ref:o,props:a,_owner:J_.current}}function T8(e,t){return{$$typeof:Km,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Km}function R8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dP=/\/+/g;function G0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R8(""+e.key):t.toString(36)}function gg(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Km:case w8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+G0(o,0):n,uP(a)?(r="",e!=null&&(r=e.replace(dP,"$&/")+"/"),gg(a,t,r,"",function(u){return u})):a!=null&&(eS(a)&&(a=T8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(dP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",uP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+G0(i,l);o+=gg(i,t,r,c,a)}else if(c=O8(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+G0(i,l++),o+=gg(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yp(e,t,r){if(e==null)return e;var n=[],a=0;return gg(e,n,"","",function(i){return t.call(r,i,a++)}),n}function M8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kn={current:null},vg={transition:null},$8={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:vg,ReactCurrentOwner:J_};function nM(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:yp,forEach:function(e,t,r){yp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yp(e,function(){t++}),t},toArray:function(e){return yp(e,function(t){return t})||[]},only:function(e){if(!eS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Ed;jt.Fragment=j8;jt.Profiler=S8;jt.PureComponent=Z_;jt.StrictMode=_8;jt.Suspense=k8;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$8;jt.act=nM;jt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZR({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=J_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)eM.call(t,c)&&!tM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Km,type:e.type,key:a,ref:i,props:n,_owner:o}};jt.createContext=function(e){return e={$$typeof:N8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C8,_context:e},e.Consumer=e};jt.createElement=rM;jt.createFactory=function(e){var t=rM.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:P8,render:e}};jt.isValidElement=eS;jt.lazy=function(e){return{$$typeof:A8,_payload:{_status:-1,_result:e},_init:M8}};jt.memo=function(e,t){return{$$typeof:E8,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=vg.transition;vg.transition={};try{e()}finally{vg.transition=t}};jt.unstable_act=nM;jt.useCallback=function(e,t){return Kn.current.useCallback(e,t)};jt.useContext=function(e){return Kn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Kn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Kn.current.useEffect(e,t)};jt.useId=function(){return Kn.current.useId()};jt.useImperativeHandle=function(e,t,r){return Kn.current.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return Kn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Kn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Kn.current.useMemo(e,t)};jt.useReducer=function(e,t,r){return Kn.current.useReducer(e,t,r)};jt.useRef=function(e){return Kn.current.useRef(e)};jt.useState=function(e){return Kn.current.useState(e)};jt.useSyncExternalStore=function(e,t,r){return Kn.current.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return Kn.current.useTransition()};jt.version="18.3.1";YR.exports=jt;var w=YR.exports;const I=It(w),tS=b8({__proto__:null,default:I},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I8=w,D8=Symbol.for("react.element"),L8=Symbol.for("react.fragment"),B8=Object.prototype.hasOwnProperty,F8=I8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z8={key:!0,ref:!0,__self:!0,__source:!0};function aM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)B8.call(t,n)&&!z8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:D8,type:e,key:i,ref:o,props:a,_owner:F8.current}}Gy.Fragment=L8;Gy.jsx=aM;Gy.jsxs=aM;GR.exports=Gy;var s=GR.exports,iM={exports:{}},_a={},sM={exports:{}},oM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var z=L.length;L.push(B);e:for(;0<z;){var re=z-1>>>1,ee=L[re];if(0<a(ee,B))L[re]=B,L[z]=ee,z=re;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],z=L.pop();if(z!==B){L[0]=z;e:for(var re=0,ee=L.length,se=ee>>>1;re<se;){var U=2*(re+1)-1,V=L[U],K=U+1,q=L[K];if(0>a(V,z))K<ee&&0>a(q,V)?(L[re]=q,L[K]=z,re=K):(L[re]=V,L[U]=z,re=U);else if(K<ee&&0>a(q,z))L[re]=q,L[K]=z,re=K;else break e}}return B}function a(L,B){var z=L.sortIndex-B.sortIndex;return z!==0?z:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function _(L){if(g=!1,b(L),!y)if(r(c)!==null)y=!0,$(j);else{var B=r(u);B!==null&&M(_,B.startTime-L)}}function j(L,B){y=!1,g&&(g=!1,v(k),k=-1),m=!0;var z=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||L&&!O());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var ee=re(f.expirationTime<=B);B=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var U=r(u);U!==null&&M(_,U.startTime-B),se=!1}return se}finally{f=null,h=z,m=!1}}var S=!1,C=null,k=-1,N=5,R=-1;function O(){return!(e.unstable_now()-R<N)}function E(){if(C!==null){var L=e.unstable_now();R=L;var B=!0;try{B=C(!0,L)}finally{B?T():(S=!1,C=null)}}else S=!1}var T;if(typeof x=="function")T=function(){x(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,A=P.port2;P.port1.onmessage=E,T=function(){A.postMessage(null)}}else T=function(){p(E,0)};function $(L){C=L,S||(S=!0,T())}function M(L,B){k=p(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,$(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return B()}finally{h=z}},e.unstable_scheduleCallback=function(L,B,z){var re=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,L={id:d++,callback:B,priorityLevel:L,startTime:z,expirationTime:ee,sortIndex:-1},z>re?(L.sortIndex=z,t(u,L),r(c)===null&&L===r(u)&&(g?(v(k),k=-1):g=!0,M(_,z-re))):(L.sortIndex=ee,t(c,L),y||m||(y=!0,$(j))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var B=h;return function(){var z=h;h=B;try{return L.apply(this,arguments)}finally{h=z}}}})(oM);sM.exports=oM;var U8=sM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8=w,wa=U8;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lM=new Set,xh={};function lc(e,t){Ou(e,t),Ou(e+"Capture",t)}function Ou(e,t){for(xh[e]=t,e=0;e<t.length;e++)lM.add(t[e])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,W8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fP={},hP={};function H8(e){return Mw.call(hP,e)?!0:Mw.call(fP,e)?!1:W8.test(e)?hP[e]=!0:(fP[e]=!0,!1)}function q8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K8(e,t,r,n){if(t===null||typeof t>"u"||q8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var rS=/[\-:]([a-z])/g;function nS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rS,nS);wn[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rS,nS);wn[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rS,nS);wn[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function aS(e,t,r,n){var a=wn.hasOwnProperty(t)?wn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K8(t,r,a,n)&&(r=null),n||a===null?H8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Is=V8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xp=Symbol.for("react.element"),Vc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),iS=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),cM=Symbol.for("react.provider"),uM=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),Iw=Symbol.for("react.suspense"),Dw=Symbol.for("react.suspense_list"),oS=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),dM=Symbol.for("react.offscreen"),mP=Symbol.iterator;function df(e){return e===null||typeof e!="object"?null:(e=mP&&e[mP]||e["@@iterator"],typeof e=="function"?e:null)}var Er=Object.assign,Y0;function Bf(e){if(Y0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Y0=t&&t[1]||""}return`
`+Y0+e}var X0=!1;function Z0(e,t){if(!e||X0)return"";X0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{X0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bf(e):""}function G8(e){switch(e.tag){case 5:return Bf(e.type);case 16:return Bf("Lazy");case 13:return Bf("Suspense");case 19:return Bf("SuspenseList");case 0:case 2:case 15:return e=Z0(e.type,!1),e;case 11:return e=Z0(e.type.render,!1),e;case 1:return e=Z0(e.type,!0),e;default:return""}}function Lw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wc:return"Fragment";case Vc:return"Portal";case $w:return"Profiler";case iS:return"StrictMode";case Iw:return"Suspense";case Dw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uM:return(e.displayName||"Context")+".Consumer";case cM:return(e._context.displayName||"Context")+".Provider";case sS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oS:return t=e.displayName||null,t!==null?t:Lw(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return Lw(e(t))}catch{}}return null}function Y8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lw(t);case 8:return t===iS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X8(e){var t=fM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bp(e){e._valueTracker||(e._valueTracker=X8(e))}function hM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bw(e,t){var r=t.checked;return Er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Do(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mM(e,t){t=t.checked,t!=null&&aS(e,"checked",t,!1)}function Fw(e,t){mM(e,t);var r=Do(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zw(e,t.type,r):t.hasOwnProperty("defaultValue")&&zw(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zw(e,t,r){(t!=="number"||Dg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ff=Array.isArray;function lu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Do(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Uw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(Ff(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Do(r)}}function pM(e,t){var r=Do(t.value),n=Do(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wp,vM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wp=wp||document.createElement("div"),wp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z8=["Webkit","ms","Moz","O"];Object.keys(Kf).forEach(function(e){Z8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kf[t]=Kf[e]})});function yM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kf.hasOwnProperty(e)&&Kf[e]?(""+t).trim():t+"px"}function xM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=yM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Q8=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ww(e,t){if(t){if(Q8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Hw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=null;function lS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kw=null,cu=null,uu=null;function xP(e){if(e=Xm(e)){if(typeof Kw!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Jy(t),Kw(e.stateNode,e.type,t))}}function bM(e){cu?uu?uu.push(e):uu=[e]:cu=e}function wM(){if(cu){var e=cu,t=uu;if(uu=cu=null,xP(e),t)for(e=0;e<t.length;e++)xP(t[e])}}function jM(e,t){return e(t)}function _M(){}var Q0=!1;function SM(e,t,r){if(Q0)return e(t,r);Q0=!0;try{return jM(e,t,r)}finally{Q0=!1,(cu!==null||uu!==null)&&(_M(),wM())}}function wh(e,t){var r=e.stateNode;if(r===null)return null;var n=Jy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var Gw=!1;if(Cs)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){Gw=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{Gw=!1}function J8(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gf=!1,Lg=null,Bg=!1,Yw=null,e6={onError:function(e){Gf=!0,Lg=e}};function t6(e,t,r,n,a,i,o,l,c){Gf=!1,Lg=null,J8.apply(e6,arguments)}function r6(e,t,r,n,a,i,o,l,c){if(t6.apply(this,arguments),Gf){if(Gf){var u=Lg;Gf=!1,Lg=null}else throw Error(_e(198));Bg||(Bg=!0,Yw=u)}}function cc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function CM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bP(e){if(cc(e)!==e)throw Error(_e(188))}function n6(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return bP(a),e;if(i===n)return bP(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function NM(e){return e=n6(e),e!==null?PM(e):null}function PM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=PM(e);if(t!==null)return t;e=e.sibling}return null}var kM=wa.unstable_scheduleCallback,wP=wa.unstable_cancelCallback,a6=wa.unstable_shouldYield,i6=wa.unstable_requestPaint,Fr=wa.unstable_now,s6=wa.unstable_getCurrentPriorityLevel,cS=wa.unstable_ImmediatePriority,EM=wa.unstable_UserBlockingPriority,Fg=wa.unstable_NormalPriority,o6=wa.unstable_LowPriority,AM=wa.unstable_IdlePriority,Yy=null,Vi=null;function l6(e){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Yy,e,void 0,(e.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:d6,c6=Math.log,u6=Math.LN2;function d6(e){return e>>>=0,e===0?32:31-(c6(e)/u6|0)|0}var jp=64,_p=4194304;function zf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=zf(l):(i&=o,i!==0&&(n=zf(i)))}else o=r&~a,o!==0?n=zf(o):i!==0&&(n=zf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mi(t),a=1<<r,n|=e[r],t&=~a;return n}function f6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=f6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Xw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OM(){var e=jp;return jp<<=1,!(jp&4194240)&&(jp=64),e}function J0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mi(t),e[t]=r}function m6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-mi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function uS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Wt=0;function TM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RM,dS,MM,$M,IM,Zw=!1,Sp=[],jo=null,_o=null,So=null,jh=new Map,_h=new Map,no=[],p6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jP(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function hf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Xm(t),t!==null&&dS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function g6(e,t,r,n,a){switch(t){case"focusin":return jo=hf(jo,e,t,r,n,a),!0;case"dragenter":return _o=hf(_o,e,t,r,n,a),!0;case"mouseover":return So=hf(So,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return jh.set(i,hf(jh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,_h.set(i,hf(_h.get(i)||null,e,t,r,n,a)),!0}return!1}function DM(e){var t=Sl(e.target);if(t!==null){var r=cc(t);if(r!==null){if(t=r.tag,t===13){if(t=CM(r),t!==null){e.blockedOn=t,IM(e.priority,function(){MM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qw=n,r.target.dispatchEvent(n),qw=null}else return t=Xm(r),t!==null&&dS(t),e.blockedOn=r,!1;t.shift()}return!0}function _P(e,t,r){yg(e)&&r.delete(t)}function v6(){Zw=!1,jo!==null&&yg(jo)&&(jo=null),_o!==null&&yg(_o)&&(_o=null),So!==null&&yg(So)&&(So=null),jh.forEach(_P),_h.forEach(_P)}function mf(e,t){e.blockedOn===t&&(e.blockedOn=null,Zw||(Zw=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,v6)))}function Sh(e){function t(a){return mf(a,e)}if(0<Sp.length){mf(Sp[0],e);for(var r=1;r<Sp.length;r++){var n=Sp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jo!==null&&mf(jo,e),_o!==null&&mf(_o,e),So!==null&&mf(So,e),jh.forEach(t),_h.forEach(t),r=0;r<no.length;r++)n=no[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)DM(r),r.blockedOn===null&&no.shift()}var du=Is.ReactCurrentBatchConfig,Ug=!0;function y6(e,t,r,n){var a=Wt,i=du.transition;du.transition=null;try{Wt=1,fS(e,t,r,n)}finally{Wt=a,du.transition=i}}function x6(e,t,r,n){var a=Wt,i=du.transition;du.transition=null;try{Wt=4,fS(e,t,r,n)}finally{Wt=a,du.transition=i}}function fS(e,t,r,n){if(Ug){var a=Qw(e,t,r,n);if(a===null)cb(e,t,n,Vg,r),jP(e,n);else if(g6(a,e,t,r,n))n.stopPropagation();else if(jP(e,n),t&4&&-1<p6.indexOf(e)){for(;a!==null;){var i=Xm(a);if(i!==null&&RM(i),i=Qw(e,t,r,n),i===null&&cb(e,t,n,Vg,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else cb(e,t,n,null,r)}}var Vg=null;function Qw(e,t,r,n){if(Vg=null,e=lS(n),e=Sl(e),e!==null)if(t=cc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=CM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vg=e,null}function LM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s6()){case cS:return 1;case EM:return 4;case Fg:case o6:return 16;case AM:return 536870912;default:return 16}default:return 16}}var ho=null,hS=null,xg=null;function BM(){if(xg)return xg;var e,t=hS,r=t.length,n,a="value"in ho?ho.value:ho.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return xg=a.slice(e,1<n?1-n:void 0)}function bg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cp(){return!0}function SP(){return!1}function Sa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cp:SP,this.isPropagationStopped=SP,this}return Er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),t}var Ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mS=Sa(Ad),Ym=Er({},Ad,{view:0,detail:0}),b6=Sa(Ym),eb,tb,pf,Xy=Er({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pf&&(pf&&e.type==="mousemove"?(eb=e.screenX-pf.screenX,tb=e.screenY-pf.screenY):tb=eb=0,pf=e),eb)},movementY:function(e){return"movementY"in e?e.movementY:tb}}),CP=Sa(Xy),w6=Er({},Xy,{dataTransfer:0}),j6=Sa(w6),_6=Er({},Ym,{relatedTarget:0}),rb=Sa(_6),S6=Er({},Ad,{animationName:0,elapsedTime:0,pseudoElement:0}),C6=Sa(S6),N6=Er({},Ad,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P6=Sa(N6),k6=Er({},Ad,{data:0}),NP=Sa(k6),E6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O6[e])?!!t[e]:!1}function pS(){return T6}var R6=Er({},Ym,{key:function(e){if(e.key){var t=E6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pS,charCode:function(e){return e.type==="keypress"?bg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M6=Sa(R6),$6=Er({},Xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PP=Sa($6),I6=Er({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pS}),D6=Sa(I6),L6=Er({},Ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=Sa(L6),F6=Er({},Xy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z6=Sa(F6),U6=[9,13,27,32],gS=Cs&&"CompositionEvent"in window,Yf=null;Cs&&"documentMode"in document&&(Yf=document.documentMode);var V6=Cs&&"TextEvent"in window&&!Yf,FM=Cs&&(!gS||Yf&&8<Yf&&11>=Yf),kP=" ",EP=!1;function zM(e,t){switch(e){case"keyup":return U6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hc=!1;function W6(e,t){switch(e){case"compositionend":return UM(t);case"keypress":return t.which!==32?null:(EP=!0,kP);case"textInput":return e=t.data,e===kP&&EP?null:e;default:return null}}function H6(e,t){if(Hc)return e==="compositionend"||!gS&&zM(e,t)?(e=BM(),xg=hS=ho=null,Hc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FM&&t.locale!=="ko"?null:t.data;default:return null}}var q6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q6[e.type]:t==="textarea"}function VM(e,t,r,n){bM(n),t=Wg(t,"onChange"),0<t.length&&(r=new mS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xf=null,Ch=null;function K6(e){e$(e,0)}function Zy(e){var t=Gc(e);if(hM(t))return e}function G6(e,t){if(e==="change")return t}var WM=!1;if(Cs){var nb;if(Cs){var ab="oninput"in document;if(!ab){var OP=document.createElement("div");OP.setAttribute("oninput","return;"),ab=typeof OP.oninput=="function"}nb=ab}else nb=!1;WM=nb&&(!document.documentMode||9<document.documentMode)}function TP(){Xf&&(Xf.detachEvent("onpropertychange",HM),Ch=Xf=null)}function HM(e){if(e.propertyName==="value"&&Zy(Ch)){var t=[];VM(t,Ch,e,lS(e)),SM(K6,t)}}function Y6(e,t,r){e==="focusin"?(TP(),Xf=t,Ch=r,Xf.attachEvent("onpropertychange",HM)):e==="focusout"&&TP()}function X6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zy(Ch)}function Z6(e,t){if(e==="click")return Zy(t)}function Q6(e,t){if(e==="input"||e==="change")return Zy(t)}function J6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bi=typeof Object.is=="function"?Object.is:J6;function Nh(e,t){if(bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Mw.call(t,a)||!bi(e[a],t[a]))return!1}return!0}function RP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MP(e,t){var r=RP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=RP(r)}}function qM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KM(){for(var e=window,t=Dg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dg(e.document)}return t}function vS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eV(e){var t=KM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qM(r.ownerDocument.documentElement,r)){if(n!==null&&vS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=MP(r,i);var o=MP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tV=Cs&&"documentMode"in document&&11>=document.documentMode,qc=null,Jw=null,Zf=null,ej=!1;function $P(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ej||qc==null||qc!==Dg(n)||(n=qc,"selectionStart"in n&&vS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zf&&Nh(Zf,n)||(Zf=n,n=Wg(Jw,"onSelect"),0<n.length&&(t=new mS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qc)))}function Np(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kc={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},ib={},GM={};Cs&&(GM=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Qy(e){if(ib[e])return ib[e];if(!Kc[e])return e;var t=Kc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in GM)return ib[e]=t[r];return e}var YM=Qy("animationend"),XM=Qy("animationiteration"),ZM=Qy("animationstart"),QM=Qy("transitionend"),JM=new Map,IP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){JM.set(e,t),lc(t,[e])}for(var sb=0;sb<IP.length;sb++){var ob=IP[sb],rV=ob.toLowerCase(),nV=ob[0].toUpperCase()+ob.slice(1);qo(rV,"on"+nV)}qo(YM,"onAnimationEnd");qo(XM,"onAnimationIteration");qo(ZM,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(QM,"onTransitionEnd");Ou("onMouseEnter",["mouseout","mouseover"]);Ou("onMouseLeave",["mouseout","mouseover"]);Ou("onPointerEnter",["pointerout","pointerover"]);Ou("onPointerLeave",["pointerout","pointerover"]);lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function DP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,r6(n,t,void 0,e),e.currentTarget=null}function e$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;DP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;DP(a,l,u),i=c}}}if(Bg)throw e=Yw,Bg=!1,Yw=null,e}function ur(e,t){var r=t[ij];r===void 0&&(r=t[ij]=new Set);var n=e+"__bubble";r.has(n)||(t$(t,e,2,!1),r.add(n))}function lb(e,t,r){var n=0;t&&(n|=4),t$(r,e,n,t)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function Ph(e){if(!e[Pp]){e[Pp]=!0,lM.forEach(function(r){r!=="selectionchange"&&(aV.has(r)||lb(r,!1,e),lb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pp]||(t[Pp]=!0,lb("selectionchange",!1,t))}}function t$(e,t,r,n){switch(LM(t)){case 1:var a=y6;break;case 4:a=x6;break;default:a=fS}r=a.bind(null,t,r,e),a=void 0,!Gw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function cb(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Sl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}SM(function(){var u=i,d=lS(r),f=[];e:{var h=JM.get(e);if(h!==void 0){var m=mS,y=e;switch(e){case"keypress":if(bg(r)===0)break e;case"keydown":case"keyup":m=M6;break;case"focusin":y="focus",m=rb;break;case"focusout":y="blur",m=rb;break;case"beforeblur":case"afterblur":m=rb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=CP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=D6;break;case YM:case XM:case ZM:m=C6;break;case QM:m=B6;break;case"scroll":m=b6;break;case"wheel":m=z6;break;case"copy":case"cut":case"paste":m=P6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=PP}var g=(t&4)!==0,p=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=wh(x,v),_!=null&&g.push(kh(x,_,b)))),p)break;x=x.return}0<g.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==qw&&(y=r.relatedTarget||r.fromElement)&&(Sl(y)||y[Ns]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Sl(y):null,y!==null&&(p=cc(y),y!==p||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=CP,_="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=PP,_="onPointerLeave",v="onPointerEnter",x="pointer"),p=m==null?h:Gc(m),b=y==null?h:Gc(y),h=new g(_,x+"leave",m,r,d),h.target=p,h.relatedTarget=b,_=null,Sl(d)===u&&(g=new g(v,x+"enter",y,r,d),g.target=b,g.relatedTarget=p,_=g),p=_,m&&y)t:{for(g=m,v=y,x=0,b=g;b;b=gc(b))x++;for(b=0,_=v;_;_=gc(_))b++;for(;0<x-b;)g=gc(g),x--;for(;0<b-x;)v=gc(v),b--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=gc(g),v=gc(v)}g=null}else g=null;m!==null&&LP(f,h,m,g,!1),y!==null&&p!==null&&LP(f,p,y,g,!0)}}e:{if(h=u?Gc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=G6;else if(AP(h))if(WM)j=Q6;else{j=X6;var S=Y6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Z6);if(j&&(j=j(e,u))){VM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&zw(h,"number",h.value)}switch(S=u?Gc(u):window,e){case"focusin":(AP(S)||S.contentEditable==="true")&&(qc=S,Jw=u,Zf=null);break;case"focusout":Zf=Jw=qc=null;break;case"mousedown":ej=!0;break;case"contextmenu":case"mouseup":case"dragend":ej=!1,$P(f,r,d);break;case"selectionchange":if(tV)break;case"keydown":case"keyup":$P(f,r,d)}var C;if(gS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hc?zM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(FM&&r.locale!=="ko"&&(Hc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Hc&&(C=BM()):(ho=d,hS="value"in ho?ho.value:ho.textContent,Hc=!0)),S=Wg(u,k),0<S.length&&(k=new NP(k,e,null,r,d),f.push({event:k,listeners:S}),C?k.data=C:(C=UM(r),C!==null&&(k.data=C)))),(C=V6?W6(e,r):H6(e,r))&&(u=Wg(u,"onBeforeInput"),0<u.length&&(d=new NP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}e$(f,t)})}function kh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wh(e,r),i!=null&&n.unshift(kh(e,i,a)),i=wh(e,t),i!=null&&n.push(kh(e,i,a))),e=e.return}return n}function gc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wh(r,i),c!=null&&o.unshift(kh(r,c,l))):a||(c=wh(r,i),c!=null&&o.push(kh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var iV=/\r\n?/g,sV=/\u0000|\uFFFD/g;function BP(e){return(typeof e=="string"?e:""+e).replace(iV,`
`).replace(sV,"")}function kp(e,t,r){if(t=BP(t),BP(e)!==t&&r)throw Error(_e(425))}function Hg(){}var tj=null,rj=null;function nj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aj=typeof setTimeout=="function"?setTimeout:void 0,oV=typeof clearTimeout=="function"?clearTimeout:void 0,FP=typeof Promise=="function"?Promise:void 0,lV=typeof queueMicrotask=="function"?queueMicrotask:typeof FP<"u"?function(e){return FP.resolve(null).then(e).catch(cV)}:aj;function cV(e){setTimeout(function(){throw e})}function ub(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sh(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Od=Math.random().toString(36).slice(2),$i="__reactFiber$"+Od,Eh="__reactProps$"+Od,Ns="__reactContainer$"+Od,ij="__reactEvents$"+Od,uV="__reactListeners$"+Od,dV="__reactHandles$"+Od;function Sl(e){var t=e[$i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ns]||r[$i]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zP(e);e!==null;){if(r=e[$i])return r;e=zP(e)}return t}e=r,r=e.parentNode}return null}function Xm(e){return e=e[$i]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Jy(e){return e[Eh]||null}var sj=[],Yc=-1;function Ko(e){return{current:e}}function gr(e){0>Yc||(e.current=sj[Yc],sj[Yc]=null,Yc--)}function sr(e,t){Yc++,sj[Yc]=e.current,e.current=t}var Lo={},In=Ko(Lo),ra=Ko(!1),Hl=Lo;function Tu(e,t){var r=e.type.contextTypes;if(!r)return Lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function na(e){return e=e.childContextTypes,e!=null}function qg(){gr(ra),gr(In)}function UP(e,t,r){if(In.current!==Lo)throw Error(_e(168));sr(In,t),sr(ra,r)}function r$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,Y8(e)||"Unknown",a));return Er({},r,n)}function Kg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Hl=In.current,sr(In,e),sr(ra,ra.current),!0}function VP(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=r$(e,t,Hl),n.__reactInternalMemoizedMergedChildContext=e,gr(ra),gr(In),sr(In,e)):gr(ra),sr(ra,r)}var hs=null,ex=!1,db=!1;function n$(e){hs===null?hs=[e]:hs.push(e)}function fV(e){ex=!0,n$(e)}function Go(){if(!db&&hs!==null){db=!0;var e=0,t=Wt;try{var r=hs;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hs=null,ex=!1}catch(a){throw hs!==null&&(hs=hs.slice(e+1)),kM(cS,Go),a}finally{Wt=t,db=!1}}return null}var Xc=[],Zc=0,Gg=null,Yg=0,Ta=[],Ra=0,ql=null,gs=1,vs="";function hl(e,t){Xc[Zc++]=Yg,Xc[Zc++]=Gg,Gg=e,Yg=t}function a$(e,t,r){Ta[Ra++]=gs,Ta[Ra++]=vs,Ta[Ra++]=ql,ql=e;var n=gs;e=vs;var a=32-mi(n)-1;n&=~(1<<a),r+=1;var i=32-mi(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gs=1<<32-mi(t)+a|r<<a|n,vs=i+e}else gs=1<<i|r<<a|n,vs=e}function yS(e){e.return!==null&&(hl(e,1),a$(e,1,0))}function xS(e){for(;e===Gg;)Gg=Xc[--Zc],Xc[Zc]=null,Yg=Xc[--Zc],Xc[Zc]=null;for(;e===ql;)ql=Ta[--Ra],Ta[Ra]=null,vs=Ta[--Ra],Ta[Ra]=null,gs=Ta[--Ra],Ta[Ra]=null}var ya=null,va=null,wr=!1,ui=null;function i$(e,t){var r=$a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function WP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ql!==null?{id:gs,overflow:vs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ya=e,va=null,!0):!1;default:return!1}}function oj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lj(e){if(wr){var t=va;if(t){var r=t;if(!WP(e,t)){if(oj(e))throw Error(_e(418));t=Co(r.nextSibling);var n=ya;t&&WP(e,t)?i$(n,r):(e.flags=e.flags&-4097|2,wr=!1,ya=e)}}else{if(oj(e))throw Error(_e(418));e.flags=e.flags&-4097|2,wr=!1,ya=e}}}function HP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function Ep(e){if(e!==ya)return!1;if(!wr)return HP(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nj(e.type,e.memoizedProps)),t&&(t=va)){if(oj(e))throw s$(),Error(_e(418));for(;t;)i$(e,t),t=Co(t.nextSibling)}if(HP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=Co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?Co(e.stateNode.nextSibling):null;return!0}function s$(){for(var e=va;e;)e=Co(e.nextSibling)}function Ru(){va=ya=null,wr=!1}function bS(e){ui===null?ui=[e]:ui.push(e)}var hV=Is.ReactCurrentBatchConfig;function gf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Ap(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qP(e){var t=e._init;return t(e._payload)}function o$(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=Eo(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,_){return x===null||x.tag!==6?(x=yb(b,v.mode,_),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,_){var j=b.type;return j===Wc?d(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qs&&qP(j)===x.type)?(_=a(x,b.props),_.ref=gf(v,x,b),_.return=v,_):(_=Pg(b.type,b.key,b.props,null,v.mode,_),_.ref=gf(v,x,b),_.return=v,_)}function u(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=xb(b,v.mode,_),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function d(v,x,b,_,j){return x===null||x.tag!==7?(x=Ul(b,v.mode,_,j),x.return=v,x):(x=a(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yb(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xp:return b=Pg(x.type,x.key,x.props,null,v.mode,b),b.ref=gf(v,null,x),b.return=v,b;case Vc:return x=xb(x,v.mode,b),x.return=v,x;case Qs:var _=x._init;return f(v,_(x._payload),b)}if(Ff(x)||df(x))return x=Ul(x,v.mode,b,null),x.return=v,x;Ap(v,x)}return null}function h(v,x,b,_){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xp:return b.key===j?c(v,x,b,_):null;case Vc:return b.key===j?u(v,x,b,_):null;case Qs:return j=b._init,h(v,x,j(b._payload),_)}if(Ff(b)||df(b))return j!==null?null:d(v,x,b,_,null);Ap(v,b)}return null}function m(v,x,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(x,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xp:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,j);case Vc:return v=v.get(_.key===null?b:_.key)||null,u(x,v,_,j);case Qs:var S=_._init;return m(v,x,b,S(_._payload),j)}if(Ff(_)||df(_))return v=v.get(b)||null,d(x,v,_,j,null);Ap(x,_)}return null}function y(v,x,b,_){for(var j=null,S=null,C=x,k=x=0,N=null;C!==null&&k<b.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var R=h(v,C,b[k],_);if(R===null){C===null&&(C=N);break}e&&C&&R.alternate===null&&t(v,C),x=i(R,x,k),S===null?j=R:S.sibling=R,S=R,C=N}if(k===b.length)return r(v,C),wr&&hl(v,k),j;if(C===null){for(;k<b.length;k++)C=f(v,b[k],_),C!==null&&(x=i(C,x,k),S===null?j=C:S.sibling=C,S=C);return wr&&hl(v,k),j}for(C=n(v,C);k<b.length;k++)N=m(C,v,k,b[k],_),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),x=i(N,x,k),S===null?j=N:S.sibling=N,S=N);return e&&C.forEach(function(O){return t(v,O)}),wr&&hl(v,k),j}function g(v,x,b,_){var j=df(b);if(typeof j!="function")throw Error(_e(150));if(b=j.call(b),b==null)throw Error(_e(151));for(var S=j=null,C=x,k=x=0,N=null,R=b.next();C!==null&&!R.done;k++,R=b.next()){C.index>k?(N=C,C=null):N=C.sibling;var O=h(v,C,R.value,_);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(v,C),x=i(O,x,k),S===null?j=O:S.sibling=O,S=O,C=N}if(R.done)return r(v,C),wr&&hl(v,k),j;if(C===null){for(;!R.done;k++,R=b.next())R=f(v,R.value,_),R!==null&&(x=i(R,x,k),S===null?j=R:S.sibling=R,S=R);return wr&&hl(v,k),j}for(C=n(v,C);!R.done;k++,R=b.next())R=m(C,v,k,R.value,_),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?k:R.key),x=i(R,x,k),S===null?j=R:S.sibling=R,S=R);return e&&C.forEach(function(E){return t(v,E)}),wr&&hl(v,k),j}function p(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===Wc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xp:e:{for(var j=b.key,S=x;S!==null;){if(S.key===j){if(j=b.type,j===Wc){if(S.tag===7){r(v,S.sibling),x=a(S,b.props.children),x.return=v,v=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qs&&qP(j)===S.type){r(v,S.sibling),x=a(S,b.props),x.ref=gf(v,S,b),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===Wc?(x=Ul(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=Pg(b.type,b.key,b.props,null,v.mode,_),_.ref=gf(v,x,b),_.return=v,v=_)}return o(v);case Vc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=xb(b,v.mode,_),x.return=v,v=x}return o(v);case Qs:return S=b._init,p(v,x,S(b._payload),_)}if(Ff(b))return y(v,x,b,_);if(df(b))return g(v,x,b,_);Ap(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=a(x,b),x.return=v,v=x):(r(v,x),x=yb(b,v.mode,_),x.return=v,v=x),o(v)):r(v,x)}return p}var Mu=o$(!0),l$=o$(!1),Xg=Ko(null),Zg=null,Qc=null,wS=null;function jS(){wS=Qc=Zg=null}function _S(e){var t=Xg.current;gr(Xg),e._currentValue=t}function cj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fu(e,t){Zg=e,wS=Qc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(wS!==e)if(e={context:e,memoizedValue:t,next:null},Qc===null){if(Zg===null)throw Error(_e(308));Qc=e,Zg.dependencies={lanes:0,firstContext:e}}else Qc=Qc.next=e;return t}var Cl=null;function SS(e){Cl===null?Cl=[e]:Cl.push(e)}function c$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,SS(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ps(e,n)}function Ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Js=!1;function CS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Nt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ps(e,r)}return a=n.interleaved,a===null?(t.next=t,SS(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ps(e,r)}function wg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}function KP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qg(e,t,r,n){var a=e.updateQueue;Js=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(h=t,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Er({},f,h);break e;case 2:Js=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Gl|=o,e.lanes=o,e.memoizedState=f}}function GP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var Zm={},Wi=Ko(Zm),Ah=Ko(Zm),Oh=Ko(Zm);function Nl(e){if(e===Zm)throw Error(_e(174));return e}function NS(e,t){switch(sr(Oh,t),sr(Ah,e),sr(Wi,Zm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vw(t,e)}gr(Wi),sr(Wi,t)}function $u(){gr(Wi),gr(Ah),gr(Oh)}function d$(e){Nl(Oh.current);var t=Nl(Wi.current),r=Vw(t,e.type);t!==r&&(sr(Ah,e),sr(Wi,r))}function PS(e){Ah.current===e&&(gr(Wi),gr(Ah))}var Sr=Ko(0);function Jg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fb=[];function kS(){for(var e=0;e<fb.length;e++)fb[e]._workInProgressVersionPrimary=null;fb.length=0}var jg=Is.ReactCurrentDispatcher,hb=Is.ReactCurrentBatchConfig,Kl=0,Pr=null,Jr=null,cn=null,ev=!1,Qf=!1,Th=0,mV=0;function Cn(){throw Error(_e(321))}function ES(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bi(e[r],t[r]))return!1;return!0}function AS(e,t,r,n,a,i){if(Kl=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jg.current=e===null||e.memoizedState===null?yV:xV,e=r(n,a),Qf){i=0;do{if(Qf=!1,Th=0,25<=i)throw Error(_e(301));i+=1,cn=Jr=null,t.updateQueue=null,jg.current=bV,e=r(n,a)}while(Qf)}if(jg.current=tv,t=Jr!==null&&Jr.next!==null,Kl=0,cn=Jr=Pr=null,ev=!1,t)throw Error(_e(300));return e}function OS(){var e=Th!==0;return Th=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Pr.memoizedState=cn=e:cn=cn.next=e,cn}function Fa(){if(Jr===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=cn===null?Pr.memoizedState:cn.next;if(t!==null)cn=t,Jr=e;else{if(e===null)throw Error(_e(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},cn===null?Pr.memoizedState=cn=e:cn=cn.next=e}return cn}function Rh(e,t){return typeof t=="function"?t(e):t}function mb(e){var t=Fa(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=Jr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Kl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pr.lanes|=d,Gl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,bi(n,t.memoizedState)||(ea=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pr.lanes|=i,Gl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pb(e){var t=Fa(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);bi(i,t.memoizedState)||(ea=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function f$(){}function h$(e,t){var r=Pr,n=Fa(),a=t(),i=!bi(n.memoizedState,a);if(i&&(n.memoizedState=a,ea=!0),n=n.queue,TS(g$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||cn!==null&&cn.memoizedState.tag&1){if(r.flags|=2048,Mh(9,p$.bind(null,r,n,a,t),void 0,null),dn===null)throw Error(_e(349));Kl&30||m$(r,t,a)}return a}function m$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function p$(e,t,r,n){t.value=r,t.getSnapshot=n,v$(t)&&y$(e)}function g$(e,t,r){return r(function(){v$(t)&&y$(e)})}function v$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bi(e,r)}catch{return!0}}function y$(e){var t=Ps(e,1);t!==null&&pi(t,e,1,-1)}function YP(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:e},t.queue=e,e=e.dispatch=vV.bind(null,Pr,e),[t.memoizedState,e]}function Mh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function x$(){return Fa().memoizedState}function _g(e,t,r,n){var a=Oi();Pr.flags|=e,a.memoizedState=Mh(1|t,r,void 0,n===void 0?null:n)}function tx(e,t,r,n){var a=Fa();n=n===void 0?null:n;var i=void 0;if(Jr!==null){var o=Jr.memoizedState;if(i=o.destroy,n!==null&&ES(n,o.deps)){a.memoizedState=Mh(t,r,i,n);return}}Pr.flags|=e,a.memoizedState=Mh(1|t,r,i,n)}function XP(e,t){return _g(8390656,8,e,t)}function TS(e,t){return tx(2048,8,e,t)}function b$(e,t){return tx(4,2,e,t)}function w$(e,t){return tx(4,4,e,t)}function j$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _$(e,t,r){return r=r!=null?r.concat([e]):null,tx(4,4,j$.bind(null,t,e),r)}function RS(){}function S$(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ES(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C$(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ES(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function N$(e,t,r){return Kl&21?(bi(r,t)||(r=OM(),Pr.lanes|=r,Gl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=r)}function pV(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=hb.transition;hb.transition={};try{e(!1),t()}finally{Wt=r,hb.transition=n}}function P$(){return Fa().memoizedState}function gV(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k$(e))E$(t,r);else if(r=c$(e,t,r,n),r!==null){var a=Hn();pi(r,e,n,a),A$(r,t,n)}}function vV(e,t,r){var n=ko(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k$(e))E$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,bi(l,o)){var c=t.interleaved;c===null?(a.next=a,SS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=c$(e,t,a,n),r!==null&&(a=Hn(),pi(r,e,n,a),A$(r,t,n))}}function k$(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function E$(e,t){Qf=ev=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function A$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}var tv={readContext:Ba,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},yV={readContext:Ba,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Ba,useEffect:XP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_g(4194308,4,j$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _g(4194308,4,e,t)},useInsertionEffect:function(e,t){return _g(4,2,e,t)},useMemo:function(e,t){var r=Oi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Oi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gV.bind(null,Pr,e),[n.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:YP,useDebugValue:RS,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=YP(!1),t=e[0];return e=pV.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pr,a=Oi();if(wr){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),dn===null)throw Error(_e(349));Kl&30||m$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,XP(g$.bind(null,n,i,e),[e]),n.flags|=2048,Mh(9,p$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Oi(),t=dn.identifierPrefix;if(wr){var r=vs,n=gs;r=(n&~(1<<32-mi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Th++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xV={readContext:Ba,useCallback:S$,useContext:Ba,useEffect:TS,useImperativeHandle:_$,useInsertionEffect:b$,useLayoutEffect:w$,useMemo:C$,useReducer:mb,useRef:x$,useState:function(){return mb(Rh)},useDebugValue:RS,useDeferredValue:function(e){var t=Fa();return N$(t,Jr.memoizedState,e)},useTransition:function(){var e=mb(Rh)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:f$,useSyncExternalStore:h$,useId:P$,unstable_isNewReconciler:!1},bV={readContext:Ba,useCallback:S$,useContext:Ba,useEffect:TS,useImperativeHandle:_$,useInsertionEffect:b$,useLayoutEffect:w$,useMemo:C$,useReducer:pb,useRef:x$,useState:function(){return pb(Rh)},useDebugValue:RS,useDeferredValue:function(e){var t=Fa();return Jr===null?t.memoizedState=e:N$(t,Jr.memoizedState,e)},useTransition:function(){var e=pb(Rh)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:f$,useSyncExternalStore:h$,useId:P$,unstable_isNewReconciler:!1};function ei(e,t){if(e&&e.defaultProps){t=Er({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Er({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rx={isMounted:function(e){return(e=e._reactInternals)?cc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=ko(e),i=ws(n,a);i.payload=t,r!=null&&(i.callback=r),t=No(e,i,a),t!==null&&(pi(t,e,a,n),wg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=ko(e),i=ws(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=No(e,i,a),t!==null&&(pi(t,e,a,n),wg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hn(),n=ko(e),a=ws(r,n);a.tag=2,t!=null&&(a.callback=t),t=No(e,a,n),t!==null&&(pi(t,e,n,r),wg(t,e,n))}};function ZP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Nh(r,n)||!Nh(a,i):!0}function O$(e,t,r){var n=!1,a=Lo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ba(i):(a=na(t)?Hl:In.current,n=t.contextTypes,i=(n=n!=null)?Tu(e,a):Lo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function QP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rx.enqueueReplaceState(t,t.state,null)}function dj(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},CS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ba(i):(i=na(t)?Hl:In.current,a.context=Tu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uj(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&rx.enqueueReplaceState(a,a.state,null),Qg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Iu(e,t){try{var r="",n=t;do r+=G8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function gb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wV=typeof WeakMap=="function"?WeakMap:Map;function T$(e,t,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nv||(nv=!0,jj=n),fj(e,t)},r}function R$(e,t,r){r=ws(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){fj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fj(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function JP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$V.bind(null,e,t,r),t.then(e,e))}function ek(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ws(-1,1),t.tag=2,No(r,t,1))),r.lanes|=1),e)}var jV=Is.ReactCurrentOwner,ea=!1;function Bn(e,t,r,n){t.child=e===null?l$(t,null,r,n):Mu(t,e.child,r,n)}function rk(e,t,r,n,a){r=r.render;var i=t.ref;return fu(t,a),n=AS(e,t,r,n,i,a),r=OS(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ks(e,t,a)):(wr&&r&&yS(t),t.flags|=1,Bn(e,t,n,a),t.child)}function nk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!zS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,M$(e,t,i,n,a)):(e=Pg(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nh,r(o,n)&&e.ref===t.ref)return ks(e,t,a)}return t.flags|=1,e=Eo(i,n),e.ref=t.ref,e.return=t,t.child=e}function M$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Nh(i,n)&&e.ref===t.ref)if(ea=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,ks(e,t,a)}return hj(e,t,r,n,a)}function $$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(eu,da),da|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(eu,da),da|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,sr(eu,da),da|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,sr(eu,da),da|=n;return Bn(e,t,a,r),t.child}function I$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hj(e,t,r,n,a){var i=na(r)?Hl:In.current;return i=Tu(t,i),fu(t,a),r=AS(e,t,r,n,i,a),n=OS(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ks(e,t,a)):(wr&&n&&yS(t),t.flags|=1,Bn(e,t,r,a),t.child)}function ak(e,t,r,n,a){if(na(r)){var i=!0;Kg(t)}else i=!1;if(fu(t,a),t.stateNode===null)Sg(e,t),O$(t,r,n),dj(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ba(u):(u=na(r)?Hl:In.current,u=Tu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QP(t,o,n,u),Js=!1;var h=t.memoizedState;o.state=h,Qg(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ra.current||Js?(typeof d=="function"&&(uj(t,r,d,n),c=t.memoizedState),(l=Js||ZP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,u$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ei(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ba(c):(c=na(r)?Hl:In.current,c=Tu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&QP(t,o,n,c),Js=!1,h=t.memoizedState,o.state=h,Qg(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||ra.current||Js?(typeof m=="function"&&(uj(t,r,m,n),y=t.memoizedState),(u=Js||ZP(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return mj(e,t,r,n,i,a)}function mj(e,t,r,n,a,i){I$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&VP(t,r,!1),ks(e,t,i);n=t.stateNode,jV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Mu(t,e.child,null,i),t.child=Mu(t,null,l,i)):Bn(e,t,l,i),t.memoizedState=n.state,a&&VP(t,r,!0),t.child}function D$(e){var t=e.stateNode;t.pendingContext?UP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UP(e,t.context,!1),NS(e,t.containerInfo)}function ik(e,t,r,n,a){return Ru(),bS(a),t.flags|=256,Bn(e,t,r,n),t.child}var pj={dehydrated:null,treeContext:null,retryLane:0};function gj(e){return{baseLanes:e,cachePool:null,transitions:null}}function L$(e,t,r){var n=t.pendingProps,a=Sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),sr(Sr,a&1),e===null)return lj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ix(o,n,0,null),e=Ul(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gj(r),t.memoizedState=pj,e):MS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return _V(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Eo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Eo(l,i):(i=Ul(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?gj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=pj,n}return i=e.child,e=i.sibling,n=Eo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function MS(e,t){return t=ix({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Op(e,t,r,n){return n!==null&&bS(n),Mu(t,e.child,null,r),e=MS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _V(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=gb(Error(_e(422))),Op(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ix({mode:"visible",children:n.children},a,0,null),i=Ul(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Mu(t,e.child,null,o),t.child.memoizedState=gj(o),t.memoizedState=pj,i);if(!(t.mode&1))return Op(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=gb(i,n,void 0),Op(e,t,o,n)}if(l=(o&e.childLanes)!==0,ea||l){if(n=dn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ps(e,a),pi(n,e,a,-1))}return FS(),n=gb(Error(_e(421))),Op(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,va=Co(a.nextSibling),ya=t,wr=!0,ui=null,e!==null&&(Ta[Ra++]=gs,Ta[Ra++]=vs,Ta[Ra++]=ql,gs=e.id,vs=e.overflow,ql=t),t=MS(t,n.children),t.flags|=4096,t)}function sk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cj(e.return,t,r)}function vb(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function B$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Bn(e,t,n.children,r),n=Sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sk(e,r,t);else if(e.tag===19)sk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(Sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Jg(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),vb(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Jg(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}vb(t,!0,r,null,i);break;case"together":vb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=Eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function SV(e,t,r){switch(t.tag){case 3:D$(t),Ru();break;case 5:d$(t);break;case 1:na(t.type)&&Kg(t);break;case 4:NS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;sr(Xg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(Sr,Sr.current&1),t.flags|=128,null):r&t.child.childLanes?L$(e,t,r):(sr(Sr,Sr.current&1),e=ks(e,t,r),e!==null?e.sibling:null);sr(Sr,Sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return B$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),sr(Sr,Sr.current),n)break;return null;case 22:case 23:return t.lanes=0,$$(e,t,r)}return ks(e,t,r)}var F$,vj,z$,U$;F$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vj=function(){};z$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Nl(Wi.current);var i=null;switch(r){case"input":a=Bw(e,a),n=Bw(e,n),i=[];break;case"select":a=Er({},a,{value:void 0}),n=Er({},n,{value:void 0}),i=[];break;case"textarea":a=Uw(e,a),n=Uw(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hg)}Ww(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ur("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};U$=function(e,t,r,n){r!==n&&(t.flags|=4)};function vf(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CV(e,t,r){var n=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return na(t.type)&&qg(),Nn(t),null;case 3:return n=t.stateNode,$u(),gr(ra),gr(In),kS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ep(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ui!==null&&(Cj(ui),ui=null))),vj(e,t),Nn(t),null;case 5:PS(t);var a=Nl(Oh.current);if(r=t.type,e!==null&&t.stateNode!=null)z$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return Nn(t),null}if(e=Nl(Wi.current),Ep(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[$i]=t,n[Eh]=i,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(a=0;a<Uf.length;a++)ur(Uf[a],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":pP(n,i),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ur("invalid",n);break;case"textarea":vP(n,i),ur("invalid",n)}Ww(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kp(n.textContent,l,e),a=["children",""+l]):xh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ur("scroll",n)}switch(r){case"input":bp(n),gP(n,i,!0);break;case"textarea":bp(n),yP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[$i]=t,e[Eh]=n,F$(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hw(r,n),r){case"dialog":ur("cancel",e),ur("close",e),a=n;break;case"iframe":case"object":case"embed":ur("load",e),a=n;break;case"video":case"audio":for(a=0;a<Uf.length;a++)ur(Uf[a],e);a=n;break;case"source":ur("error",e),a=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),a=n;break;case"details":ur("toggle",e),a=n;break;case"input":pP(e,n),a=Bw(e,n),ur("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Er({},n,{value:void 0}),ur("invalid",e);break;case"textarea":vP(e,n),a=Uw(e,n),ur("invalid",e);break;default:a=n}Ww(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?xM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bh(e,c):typeof c=="number"&&bh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ur("scroll",e):c!=null&&aS(e,i,c,o))}switch(r){case"input":bp(e),gP(e,n,!1);break;case"textarea":bp(e),yP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Do(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?lu(e,!!n.multiple,i,!1):n.defaultValue!=null&&lu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Hg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)U$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Nl(Oh.current),Nl(Wi.current),Ep(t)){if(n=t.stateNode,r=t.memoizedProps,n[$i]=t,(i=n.nodeValue!==r)&&(e=ya,e!==null))switch(e.tag){case 3:kp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$i]=t,t.stateNode=n}return Nn(t),null;case 13:if(gr(Sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&va!==null&&t.mode&1&&!(t.flags&128))s$(),Ru(),t.flags|=98560,i=!1;else if(i=Ep(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[$i]=t}else Ru(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),i=!1}else ui!==null&&(Cj(ui),ui=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?tn===0&&(tn=3):FS())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return $u(),vj(e,t),e===null&&Ph(t.stateNode.containerInfo),Nn(t),null;case 10:return _S(t.type._context),Nn(t),null;case 17:return na(t.type)&&qg(),Nn(t),null;case 19:if(gr(Sr),i=t.memoizedState,i===null)return Nn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)vf(i,!1);else{if(tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jg(e),o!==null){for(t.flags|=128,vf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(Sr,Sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fr()>Du&&(t.flags|=128,n=!0,vf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Jg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wr)return Nn(t),null}else 2*Fr()-i.renderingStartTime>Du&&r!==1073741824&&(t.flags|=128,n=!0,vf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fr(),t.sibling=null,r=Sr.current,sr(Sr,n?r&1|2:r&1),t):(Nn(t),null);case 22:case 23:return BS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?da&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function NV(e,t){switch(xS(t),t.tag){case 1:return na(t.type)&&qg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $u(),gr(ra),gr(In),kS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return PS(t),null;case 13:if(gr(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Ru()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gr(Sr),null;case 4:return $u(),null;case 10:return _S(t.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var Tp=!1,On=!1,PV=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Jc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$r(e,t,n)}else r.current=null}function yj(e,t,r){try{r()}catch(n){$r(e,t,n)}}var ok=!1;function kV(e,t){if(tj=Ug,e=KM(),vS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rj={focusedElem:e,selectionRange:r},Ug=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,p=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ei(t.type,g),p);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(_){$r(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return y=ok,ok=!1,y}function Jf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&yj(t,r,i)}a=a.next}while(a!==n)}}function nx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function V$(e){var t=e.alternate;t!==null&&(e.alternate=null,V$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[Eh],delete t[ij],delete t[uV],delete t[dV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W$(e){return e.tag===5||e.tag===3||e.tag===4}function lk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hg));else if(n!==4&&(e=e.child,e!==null))for(bj(e,t,r),e=e.sibling;e!==null;)bj(e,t,r),e=e.sibling}function wj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wj(e,t,r),e=e.sibling;e!==null;)wj(e,t,r),e=e.sibling}var yn=null,si=!1;function Hs(e,t,r){for(r=r.child;r!==null;)H$(e,t,r),r=r.sibling}function H$(e,t,r){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Yy,r)}catch{}switch(r.tag){case 5:On||Jc(r,t);case 6:var n=yn,a=si;yn=null,Hs(e,t,r),yn=n,si=a,yn!==null&&(si?(e=yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yn.removeChild(r.stateNode));break;case 18:yn!==null&&(si?(e=yn,r=r.stateNode,e.nodeType===8?ub(e.parentNode,r):e.nodeType===1&&ub(e,r),Sh(e)):ub(yn,r.stateNode));break;case 4:n=yn,a=si,yn=r.stateNode.containerInfo,si=!0,Hs(e,t,r),yn=n,si=a;break;case 0:case 11:case 14:case 15:if(!On&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yj(r,t,o),a=a.next}while(a!==n)}Hs(e,t,r);break;case 1:if(!On&&(Jc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$r(r,t,l)}Hs(e,t,r);break;case 21:Hs(e,t,r);break;case 22:r.mode&1?(On=(n=On)||r.memoizedState!==null,Hs(e,t,r),On=n):Hs(e,t,r);break;default:Hs(e,t,r)}}function ck(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PV),t.forEach(function(n){var a=DV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ya(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,si=!1;break e;case 3:yn=l.stateNode.containerInfo,si=!0;break e;case 4:yn=l.stateNode.containerInfo,si=!0;break e}l=l.return}if(yn===null)throw Error(_e(160));H$(i,o,a),yn=null,si=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){$r(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q$(t,e),t=t.sibling}function q$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ya(t,e),Ei(e),n&4){try{Jf(3,e,e.return),nx(3,e)}catch(g){$r(e,e.return,g)}try{Jf(5,e,e.return)}catch(g){$r(e,e.return,g)}}break;case 1:Ya(t,e),Ei(e),n&512&&r!==null&&Jc(r,r.return);break;case 5:if(Ya(t,e),Ei(e),n&512&&r!==null&&Jc(r,r.return),e.flags&32){var a=e.stateNode;try{bh(a,"")}catch(g){$r(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mM(a,i),Hw(l,o);var u=Hw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?xM(a,f):d==="dangerouslySetInnerHTML"?vM(a,f):d==="children"?bh(a,f):aS(a,d,f,u)}switch(l){case"input":Fw(a,i);break;case"textarea":pM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?lu(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?lu(a,!!i.multiple,i.defaultValue,!0):lu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Eh]=i}catch(g){$r(e,e.return,g)}}break;case 6:if(Ya(t,e),Ei(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){$r(e,e.return,g)}}break;case 3:if(Ya(t,e),Ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sh(t.containerInfo)}catch(g){$r(e,e.return,g)}break;case 4:Ya(t,e),Ei(e);break;case 13:Ya(t,e),Ei(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(DS=Fr())),n&4&&ck(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(On=(u=On)||d,Ya(t,e),On=u):Ya(t,e),Ei(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(f=Le=d;Le!==null;){switch(h=Le,m=h.child,h.tag){case 0:case 11:case 14:case 15:Jf(4,h,h.return);break;case 1:Jc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){$r(n,r,g)}}break;case 5:Jc(h,h.return);break;case 22:if(h.memoizedState!==null){dk(f);continue}}m!==null?(m.return=h,Le=m):dk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yM("display",o))}catch(g){$r(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){$r(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ya(t,e),Ei(e),n&4&&ck(e);break;case 21:break;default:Ya(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(W$(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bh(a,""),n.flags&=-33);var i=lk(e);wj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=lk(e);bj(e,l,o);break;default:throw Error(_e(161))}}catch(c){$r(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EV(e,t,r){Le=e,K$(e)}function K$(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Tp;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||On;l=Tp;var u=On;if(Tp=o,(On=c)&&!u)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?fk(a):c!==null?(c.return=o,Le=c):fk(a);for(;i!==null;)Le=i,K$(i),i=i.sibling;Le=a,Tp=l,On=u}uk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):uk(e)}}function uk(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||nx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!On)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ei(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&GP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}GP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}On||t.flags&512&&xj(t)}catch(h){$r(t,t.return,h)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function dk(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function fk(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nx(4,t)}catch(c){$r(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$r(t,a,c)}}var i=t.return;try{xj(t)}catch(c){$r(t,i,c)}break;case 5:var o=t.return;try{xj(t)}catch(c){$r(t,o,c)}}}catch(c){$r(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var AV=Math.ceil,rv=Is.ReactCurrentDispatcher,$S=Is.ReactCurrentOwner,Da=Is.ReactCurrentBatchConfig,Nt=0,dn=null,qr=null,bn=0,da=0,eu=Ko(0),tn=0,$h=null,Gl=0,ax=0,IS=0,eh=null,Jn=null,DS=0,Du=1/0,us=null,nv=!1,jj=null,Po=null,Rp=!1,mo=null,av=0,th=0,_j=null,Cg=-1,Ng=0;function Hn(){return Nt&6?Fr():Cg!==-1?Cg:Cg=Fr()}function ko(e){return e.mode&1?Nt&2&&bn!==0?bn&-bn:hV.transition!==null?(Ng===0&&(Ng=OM()),Ng):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:LM(e.type)),e):1}function pi(e,t,r,n){if(50<th)throw th=0,_j=null,Error(_e(185));Gm(e,r,n),(!(Nt&2)||e!==dn)&&(e===dn&&(!(Nt&2)&&(ax|=r),tn===4&&ao(e,bn)),aa(e,n),r===1&&Nt===0&&!(t.mode&1)&&(Du=Fr()+500,ex&&Go()))}function aa(e,t){var r=e.callbackNode;h6(e,t);var n=zg(e,e===dn?bn:0);if(n===0)r!==null&&wP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wP(r),t===1)e.tag===0?fV(hk.bind(null,e)):n$(hk.bind(null,e)),lV(function(){!(Nt&6)&&Go()}),r=null;else{switch(TM(n)){case 1:r=cS;break;case 4:r=EM;break;case 16:r=Fg;break;case 536870912:r=AM;break;default:r=Fg}r=tI(r,G$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function G$(e,t){if(Cg=-1,Ng=0,Nt&6)throw Error(_e(327));var r=e.callbackNode;if(hu()&&e.callbackNode!==r)return null;var n=zg(e,e===dn?bn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=iv(e,n);else{t=n;var a=Nt;Nt|=2;var i=X$();(dn!==e||bn!==t)&&(us=null,Du=Fr()+500,zl(e,t));do try{RV();break}catch(l){Y$(e,l)}while(!0);jS(),rv.current=i,Nt=a,qr!==null?t=0:(dn=null,bn=0,t=tn)}if(t!==0){if(t===2&&(a=Xw(e),a!==0&&(n=a,t=Sj(e,a))),t===1)throw r=$h,zl(e,0),ao(e,n),aa(e,Fr()),r;if(t===6)ao(e,n);else{if(a=e.current.alternate,!(n&30)&&!OV(a)&&(t=iv(e,n),t===2&&(i=Xw(e),i!==0&&(n=i,t=Sj(e,i))),t===1))throw r=$h,zl(e,0),ao(e,n),aa(e,Fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:ml(e,Jn,us);break;case 3:if(ao(e,n),(n&130023424)===n&&(t=DS+500-Fr(),10<t)){if(zg(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Hn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aj(ml.bind(null,e,Jn,us),t);break}ml(e,Jn,us);break;case 4:if(ao(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-mi(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AV(n/1960))-n,10<n){e.timeoutHandle=aj(ml.bind(null,e,Jn,us),n);break}ml(e,Jn,us);break;case 5:ml(e,Jn,us);break;default:throw Error(_e(329))}}}return aa(e,Fr()),e.callbackNode===r?G$.bind(null,e):null}function Sj(e,t){var r=eh;return e.current.memoizedState.isDehydrated&&(zl(e,t).flags|=256),e=iv(e,t),e!==2&&(t=Jn,Jn=r,t!==null&&Cj(t)),e}function Cj(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function OV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ao(e,t){for(t&=~IS,t&=~ax,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mi(t),n=1<<r;e[r]=-1,t&=~n}}function hk(e){if(Nt&6)throw Error(_e(327));hu();var t=zg(e,0);if(!(t&1))return aa(e,Fr()),null;var r=iv(e,t);if(e.tag!==0&&r===2){var n=Xw(e);n!==0&&(t=n,r=Sj(e,n))}if(r===1)throw r=$h,zl(e,0),ao(e,t),aa(e,Fr()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ml(e,Jn,us),aa(e,Fr()),null}function LS(e,t){var r=Nt;Nt|=1;try{return e(t)}finally{Nt=r,Nt===0&&(Du=Fr()+500,ex&&Go())}}function Yl(e){mo!==null&&mo.tag===0&&!(Nt&6)&&hu();var t=Nt;Nt|=1;var r=Da.transition,n=Wt;try{if(Da.transition=null,Wt=1,e)return e()}finally{Wt=n,Da.transition=r,Nt=t,!(Nt&6)&&Go()}}function BS(){da=eu.current,gr(eu)}function zl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oV(r)),qr!==null)for(r=qr.return;r!==null;){var n=r;switch(xS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qg();break;case 3:$u(),gr(ra),gr(In),kS();break;case 5:PS(n);break;case 4:$u();break;case 13:gr(Sr);break;case 19:gr(Sr);break;case 10:_S(n.type._context);break;case 22:case 23:BS()}r=r.return}if(dn=e,qr=e=Eo(e.current,null),bn=da=t,tn=0,$h=null,IS=ax=Gl=0,Jn=eh=null,Cl!==null){for(t=0;t<Cl.length;t++)if(r=Cl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Cl=null}return e}function Y$(e,t){do{var r=qr;try{if(jS(),jg.current=tv,ev){for(var n=Pr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ev=!1}if(Kl=0,cn=Jr=Pr=null,Qf=!1,Th=0,$S.current=null,r===null||r.return===null){tn=1,$h=t,qr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=bn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ek(o);if(m!==null){m.flags&=-257,tk(m,o,l,i,t),m.mode&1&&JP(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){JP(i,u,t),FS();break e}c=Error(_e(426))}}else if(wr&&l.mode&1){var p=ek(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),tk(p,o,l,i,t),bS(Iu(c,l));break e}}i=c=Iu(c,l),tn!==4&&(tn=2),eh===null?eh=[i]:eh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=T$(i,c,t);KP(i,v);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=R$(i,l,t);KP(i,_);break e}}i=i.return}while(i!==null)}Q$(r)}catch(j){t=j,qr===r&&r!==null&&(qr=r=r.return);continue}break}while(!0)}function X$(){var e=rv.current;return rv.current=tv,e===null?tv:e}function FS(){(tn===0||tn===3||tn===2)&&(tn=4),dn===null||!(Gl&268435455)&&!(ax&268435455)||ao(dn,bn)}function iv(e,t){var r=Nt;Nt|=2;var n=X$();(dn!==e||bn!==t)&&(us=null,zl(e,t));do try{TV();break}catch(a){Y$(e,a)}while(!0);if(jS(),Nt=r,rv.current=n,qr!==null)throw Error(_e(261));return dn=null,bn=0,tn}function TV(){for(;qr!==null;)Z$(qr)}function RV(){for(;qr!==null&&!a6();)Z$(qr)}function Z$(e){var t=eI(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?Q$(e):qr=t,$S.current=null}function Q$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NV(r,t),r!==null){r.flags&=32767,qr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tn=6,qr=null;return}}else if(r=CV(r,t,da),r!==null){qr=r;return}if(t=t.sibling,t!==null){qr=t;return}qr=t=e}while(t!==null);tn===0&&(tn=5)}function ml(e,t,r){var n=Wt,a=Da.transition;try{Da.transition=null,Wt=1,MV(e,t,r,n)}finally{Da.transition=a,Wt=n}return null}function MV(e,t,r,n){do hu();while(mo!==null);if(Nt&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(m6(e,i),e===dn&&(qr=dn=null,bn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rp||(Rp=!0,tI(Fg,function(){return hu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Da.transition,Da.transition=null;var o=Wt;Wt=1;var l=Nt;Nt|=4,$S.current=null,kV(e,r),q$(r,e),eV(rj),Ug=!!tj,rj=tj=null,e.current=r,EV(r),i6(),Nt=l,Wt=o,Da.transition=i}else e.current=r;if(Rp&&(Rp=!1,mo=e,av=a),i=e.pendingLanes,i===0&&(Po=null),l6(r.stateNode),aa(e,Fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(nv)throw nv=!1,e=jj,jj=null,e;return av&1&&e.tag!==0&&hu(),i=e.pendingLanes,i&1?e===_j?th++:(th=0,_j=e):th=0,Go(),null}function hu(){if(mo!==null){var e=TM(av),t=Da.transition,r=Wt;try{if(Da.transition=null,Wt=16>e?16:e,mo===null)var n=!1;else{if(e=mo,mo=null,av=0,Nt&6)throw Error(_e(331));var a=Nt;for(Nt|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Le=u;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Jf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Le=f;else for(;Le!==null;){d=Le;var h=d.sibling,m=d.return;if(V$(d),d===u){Le=null;break}if(h!==null){h.return=m,Le=h;break}Le=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Le=v;break e}Le=i.return}}var x=e.current;for(Le=x;Le!==null;){o=Le;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Le=b;else e:for(o=x;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nx(9,l)}}catch(j){$r(l,l.return,j)}if(l===o){Le=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Le=_;break e}Le=l.return}}if(Nt=a,Go(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Yy,e)}catch{}n=!0}return n}finally{Wt=r,Da.transition=t}}return!1}function mk(e,t,r){t=Iu(r,t),t=T$(e,t,1),e=No(e,t,1),t=Hn(),e!==null&&(Gm(e,1,t),aa(e,t))}function $r(e,t,r){if(e.tag===3)mk(e,e,r);else for(;t!==null;){if(t.tag===3){mk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=Iu(r,e),e=R$(t,e,1),t=No(t,e,1),e=Hn(),t!==null&&(Gm(t,1,e),aa(t,e));break}}t=t.return}}function $V(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&r,dn===e&&(bn&r)===r&&(tn===4||tn===3&&(bn&130023424)===bn&&500>Fr()-DS?zl(e,0):IS|=r),aa(e,t)}function J$(e,t){t===0&&(e.mode&1?(t=_p,_p<<=1,!(_p&130023424)&&(_p=4194304)):t=1);var r=Hn();e=Ps(e,t),e!==null&&(Gm(e,t,r),aa(e,r))}function IV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),J$(e,r)}function DV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),J$(e,r)}var eI;eI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ra.current)ea=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ea=!1,SV(e,t,r);ea=!!(e.flags&131072)}else ea=!1,wr&&t.flags&1048576&&a$(t,Yg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sg(e,t),e=t.pendingProps;var a=Tu(t,In.current);fu(t,r),a=AS(null,t,n,e,a,r);var i=OS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(n)?(i=!0,Kg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,CS(t),a.updater=rx,t.stateNode=a,a._reactInternals=t,dj(t,n,e,r),t=mj(null,t,n,!0,i,r)):(t.tag=0,wr&&i&&yS(t),Bn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=BV(n),e=ei(n,e),a){case 0:t=hj(null,t,n,e,r);break e;case 1:t=ak(null,t,n,e,r);break e;case 11:t=rk(null,t,n,e,r);break e;case 14:t=nk(null,t,n,ei(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),hj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),ak(e,t,n,a,r);case 3:e:{if(D$(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,u$(e,t),Qg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Iu(Error(_e(423)),t),t=ik(e,t,n,r,a);break e}else if(n!==a){a=Iu(Error(_e(424)),t),t=ik(e,t,n,r,a);break e}else for(va=Co(t.stateNode.containerInfo.firstChild),ya=t,wr=!0,ui=null,r=l$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ru(),n===a){t=ks(e,t,r);break e}Bn(e,t,n,r)}t=t.child}return t;case 5:return d$(t),e===null&&lj(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,nj(n,a)?o=null:i!==null&&nj(n,i)&&(t.flags|=32),I$(e,t),Bn(e,t,o,r),t.child;case 6:return e===null&&lj(t),null;case 13:return L$(e,t,r);case 4:return NS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mu(t,null,n,r):Bn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),rk(e,t,n,a,r);case 7:return Bn(e,t,t.pendingProps,r),t.child;case 8:return Bn(e,t,t.pendingProps.children,r),t.child;case 12:return Bn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,sr(Xg,n._currentValue),n._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===a.children&&!ra.current){t=ks(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ws(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),cj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),cj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,fu(t,r),a=Ba(a),n=n(a),t.flags|=1,Bn(e,t,n,r),t.child;case 14:return n=t.type,a=ei(n,t.pendingProps),a=ei(n.type,a),nk(e,t,n,a,r);case 15:return M$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),Sg(e,t),t.tag=1,na(n)?(e=!0,Kg(t)):e=!1,fu(t,r),O$(t,n,a),dj(t,n,a,r),mj(null,t,n,!0,e,r);case 19:return B$(e,t,r);case 22:return $$(e,t,r)}throw Error(_e(156,t.tag))};function tI(e,t){return kM(e,t)}function LV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(e,t,r,n){return new LV(e,t,r,n)}function zS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BV(e){if(typeof e=="function")return zS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sS)return 11;if(e===oS)return 14}return 2}function Eo(e,t){var r=e.alternate;return r===null?(r=$a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pg(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")zS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wc:return Ul(r.children,a,i,t);case iS:o=8,a|=8;break;case $w:return e=$a(12,r,t,a|2),e.elementType=$w,e.lanes=i,e;case Iw:return e=$a(13,r,t,a),e.elementType=Iw,e.lanes=i,e;case Dw:return e=$a(19,r,t,a),e.elementType=Dw,e.lanes=i,e;case dM:return ix(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cM:o=10;break e;case uM:o=9;break e;case sS:o=11;break e;case oS:o=14;break e;case Qs:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=$a(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ul(e,t,r,n){return e=$a(7,e,n,t),e.lanes=r,e}function ix(e,t,r,n){return e=$a(22,e,n,t),e.elementType=dM,e.lanes=r,e.stateNode={isHidden:!1},e}function yb(e,t,r){return e=$a(6,e,null,t),e.lanes=r,e}function xb(e,t,r){return t=$a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J0(0),this.expirationTimes=J0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function US(e,t,r,n,a,i,o,l,c){return e=new FV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$a(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},CS(i),e}function zV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rI(e){if(!e)return Lo;e=e._reactInternals;e:{if(cc(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(na(r))return r$(e,r,t)}return t}function nI(e,t,r,n,a,i,o,l,c){return e=US(r,n,!0,e,a,i,o,l,c),e.context=rI(null),r=e.current,n=Hn(),a=ko(r),i=ws(n,a),i.callback=t??null,No(r,i,a),e.current.lanes=a,Gm(e,a,n),aa(e,n),e}function sx(e,t,r,n){var a=t.current,i=Hn(),o=ko(a);return r=rI(r),t.context===null?t.context=r:t.pendingContext=r,t=ws(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=No(a,t,o),e!==null&&(pi(e,a,o,i),wg(e,a,o)),o}function sv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function VS(e,t){pk(e,t),(e=e.alternate)&&pk(e,t)}function UV(){return null}var aI=typeof reportError=="function"?reportError:function(e){console.error(e)};function WS(e){this._internalRoot=e}ox.prototype.render=WS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));sx(e,t,null,null)};ox.prototype.unmount=WS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yl(function(){sx(null,e,null,null)}),t[Ns]=null}};function ox(e){this._internalRoot=e}ox.prototype.unstable_scheduleHydration=function(e){if(e){var t=$M();e={blockedOn:null,target:e,priority:t};for(var r=0;r<no.length&&t!==0&&t<no[r].priority;r++);no.splice(r,0,e),r===0&&DM(e)}};function HS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gk(){}function VV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=sv(o);i.call(u)}}var o=nI(t,n,e,0,null,!1,!1,"",gk);return e._reactRootContainer=o,e[Ns]=o.current,Ph(e.nodeType===8?e.parentNode:e),Yl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=sv(c);l.call(u)}}var c=US(e,0,!1,null,null,!1,!1,"",gk);return e._reactRootContainer=c,e[Ns]=c.current,Ph(e.nodeType===8?e.parentNode:e),Yl(function(){sx(t,c,r,n)}),c}function cx(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=sv(o);l.call(c)}}sx(t,o,e,a)}else o=VV(r,t,e,a,n);return sv(o)}RM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zf(t.pendingLanes);r!==0&&(uS(t,r|1),aa(t,Fr()),!(Nt&6)&&(Du=Fr()+500,Go()))}break;case 13:Yl(function(){var n=Ps(e,1);if(n!==null){var a=Hn();pi(n,e,1,a)}}),VS(e,1)}};dS=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var r=Hn();pi(t,e,134217728,r)}VS(e,134217728)}};MM=function(e){if(e.tag===13){var t=ko(e),r=Ps(e,t);if(r!==null){var n=Hn();pi(r,e,t,n)}VS(e,t)}};$M=function(){return Wt};IM=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};Kw=function(e,t,r){switch(t){case"input":if(Fw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Jy(n);if(!a)throw Error(_e(90));hM(n),Fw(n,a)}}}break;case"textarea":pM(e,r);break;case"select":t=r.value,t!=null&&lu(e,!!r.multiple,t,!1)}};jM=LS;_M=Yl;var WV={usingClientEntryPoint:!1,Events:[Xm,Gc,Jy,bM,wM,LS]},yf={findFiberByHostInstance:Sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HV={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NM(e),e===null?null:e.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||UV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{Yy=Mp.inject(HV),Vi=Mp}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;_a.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HS(t))throw Error(_e(200));return zV(e,t,null,r)};_a.createRoot=function(e,t){if(!HS(e))throw Error(_e(299));var r=!1,n="",a=aI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=US(e,1,!1,null,null,r,!1,n,a),e[Ns]=t.current,Ph(e.nodeType===8?e.parentNode:e),new WS(t)};_a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=NM(t),e=e===null?null:e.stateNode,e};_a.flushSync=function(e){return Yl(e)};_a.hydrate=function(e,t,r){if(!lx(t))throw Error(_e(200));return cx(null,e,t,!0,r)};_a.hydrateRoot=function(e,t,r){if(!HS(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=aI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nI(t,null,e,1,r??null,a,!1,i,o),e[Ns]=t.current,Ph(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ox(t)};_a.render=function(e,t,r){if(!lx(t))throw Error(_e(200));return cx(null,e,t,!1,r)};_a.unmountComponentAtNode=function(e){if(!lx(e))throw Error(_e(40));return e._reactRootContainer?(Yl(function(){cx(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};_a.unstable_batchedUpdates=LS;_a.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lx(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return cx(e,t,r,!1,n)};_a.version="18.3.1-next-f1338f8080-20240426";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(e){console.error(e)}}iI(),iM.exports=_a;var uc=iM.exports;const sI=It(uc);var oI,vk=uc;oI=vk.createRoot,vk.hydrateRoot;const qV=1,KV=1e6;let bb=0;function GV(){return bb=(bb+1)%Number.MAX_SAFE_INTEGER,bb.toString()}const wb=new Map,yk=e=>{if(wb.has(e))return;const t=setTimeout(()=>{wb.delete(e),rh({type:"REMOVE_TOAST",toastId:e})},KV);wb.set(e,t)},YV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?yk(r):e.toasts.forEach(n=>{yk(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},kg=[];let Eg={toasts:[]};function rh(e){Eg=YV(Eg,e),kg.forEach(t=>{t(Eg)})}function xn({...e}){const t=GV(),r=a=>rh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>rh({type:"DISMISS_TOAST",toastId:t});return rh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function qS(){const[e,t]=w.useState(Eg);return w.useEffect(()=>(kg.push(t),()=>{const r=kg.indexOf(t);r>-1&&kg.splice(r,1)}),[e]),{...e,toast:xn,dismiss:r=>rh({type:"DISMISS_TOAST",toastId:r})}}function Te(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lI(...e){return t=>{let r=!1;const n=e.map(a=>{const i=xk(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():xk(e[a],null)}}}}function ft(...e){return w.useCallback(lI(...e),e)}function XV(e,t){const r=w.createContext(t),n=i=>{const{children:o,...l}=i,c=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Yn(e,t=[]){let r=[];function n(i,o){const l=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:m,...y}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,p=w.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:p,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,y=w.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,ZV(a,...t)]}function ZV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Xl(e){const t=QV(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),c=l.find(JV);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var cI=Xl("Slot");function QV(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=tW(a),l=eW(i,a.props);return a.type!==w.Fragment&&(l.ref=n?lI(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uI=Symbol("radix.slottable");function dI(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=uI,t}function JV(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uI}function eW(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function tW(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ux(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:p,children:v}=g,x=I.useRef(null),b=I.useRef(new Map).current;return s.jsx(a,{scope:p,itemMap:b,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Xl(l),u=I.forwardRef((g,p)=>{const{scope:v,children:x}=g,b=i(l,v),_=ft(p,b.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Xl(d),m=I.forwardRef((g,p)=>{const{scope:v,children:x,...b}=g,_=I.useRef(null),j=ft(p,_),S=i(d,v);return I.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function y(g){const p=i(e+"CollectionConsumer",g);return I.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var rW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=rW.reduce((e,t)=>{const r=Xl(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fI(e,t){e&&uc.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aW="DismissableLayer",Nj="dismissableLayer.update",iW="dismissableLayer.pointerDownOutside",sW="dismissableLayer.focusOutside",bk,hI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Td=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(hI),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),y=ft(t,C=>f(C)),g=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(p),x=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,j=lW(C=>{const k=C.target,N=[...u.branches].some(R=>R.contains(k));!_||N||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),S=cW(C=>{const k=C.target;[...u.branches].some(R=>R.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return nW(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=bk)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wk())},[d,u]),w.useEffect(()=>{const C=()=>m({});return document.addEventListener(Nj,C),()=>document.removeEventListener(Nj,C)},[]),s.jsx(He.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,j.onPointerDownCapture)})});Td.displayName=aW;var oW="DismissableLayerBranch",mI=w.forwardRef((e,t)=>{const r=w.useContext(hI),n=w.useRef(null),a=ft(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(He.div,{...e,ref:a})});mI.displayName=oW;function lW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){pI(iW,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&pI(sW,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wk(){const e=new CustomEvent(Nj);document.dispatchEvent(e)}function pI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?fI(a,i):a.dispatchEvent(i)}var uW=Td,dW=mI,fn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},fW="Portal",Qm=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=w.useState(!1);fn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sI.createPortal(s.jsx(He.div,{...n,ref:t}),o):null});Qm.displayName=fW;function hW(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var sa=e=>{const{present:t,children:r}=e,n=mW(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=ft(n.ref,pW(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};sa.displayName="Presence";function mW(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=hW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=$p(n.current);i.current=l==="mounted"?u:"none"},[l]),fn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=$p(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=$p(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(i.current=$p(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $p(e){return(e==null?void 0:e.animationName)||"none"}function pW(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gW=tS[" useInsertionEffect ".trim().toString()]||fn;function ia({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=vW({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=yW(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function vW({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return gW(()=>{i.current=t},[t]),w.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function yW(e){return typeof e=="function"}var gI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xW="VisuallyHidden",dx=w.forwardRef((e,t)=>s.jsx(He.span,{...e,ref:t,style:{...gI,...e.style}}));dx.displayName=xW;var bW=dx,KS="ToastProvider",[GS,wW,jW]=ux("Toast"),[vI,m2e]=Yn("Toast",[jW]),[_W,fx]=vI(KS),yI=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${KS}\`. Expected non-empty \`string\`.`),s.jsx(GS.Provider,{scope:t,children:s.jsx(_W,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};yI.displayName=KS;var xI="ToastViewport",SW=["F8"],Pj="toast.viewportPause",kj="toast.viewportResume",bI=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=SW,label:a="Notifications ({hotkey})",...i}=e,o=fx(xI,r),l=wW(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=ft(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const p=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),w.useEffect(()=>{const p=c.current,v=f.current;if(y&&p&&v){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Pj);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(kj);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!p.contains(S.relatedTarget)&&b()},j=()=>{p.contains(document.activeElement)||b()};return p.addEventListener("focusin",x),p.addEventListener("focusout",_),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",_),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:p})=>{const x=l().map(b=>{const _=b.ref.current,j=[_,...DW(_)];return p==="forwards"?j:j.reverse()});return(p==="forwards"?x.reverse():x).flat()},[l]);return w.useEffect(()=>{const p=f.current;if(p){const v=x=>{var j,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,N=x.shiftKey;if(x.target===p&&N){(j=u.current)==null||j.focus();return}const E=g({tabbingDirection:N?"backwards":"forwards"}),T=E.findIndex(P=>P===k);jb(E.slice(T+1))?x.preventDefault():N?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return p.addEventListener("keydown",v),()=>p.removeEventListener("keydown",v)}},[l,g]),s.jsxs(dW,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(Ej,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});jb(p)}}),s.jsx(GS.Slot,{scope:r,children:s.jsx(He.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(Ej,{ref:d,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});jb(p)}})]})});bI.displayName=xI;var wI="ToastFocusProxy",Ej=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=fx(wI,r);return s.jsx(dx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Ej.displayName=wI;var Jm="Toast",CW="toast.swipeStart",NW="toast.swipeMove",PW="toast.swipeCancel",kW="toast.swipeEnd",jI=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ia({prop:n,defaultProp:a??!0,onChange:i,caller:Jm});return s.jsx(sa,{present:r||l,children:s.jsx(OW,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:en(e.onPause),onResume:en(e.onResume),onSwipeStart:Te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});jI.displayName=Jm;var[EW,AW]=vI(Jm,{onClose(){}}),OW=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=fx(Jm,r),[p,v]=w.useState(null),x=ft(t,P=>v(P)),b=w.useRef(null),_=w.useRef(null),j=a||g.duration,S=w.useRef(0),C=w.useRef(j),k=w.useRef(0),{onToastAdd:N,onToastRemove:R}=g,O=en(()=>{var A;(p==null?void 0:p.contains(document.activeElement))&&((A=g.viewport)==null||A.focus()),o()}),E=w.useCallback(P=>{!P||P===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(O,P))},[O]);w.useEffect(()=>{const P=g.viewport;if(P){const A=()=>{E(C.current),u==null||u()},$=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(k.current),c==null||c()};return P.addEventListener(Pj,$),P.addEventListener(kj,A),()=>{P.removeEventListener(Pj,$),P.removeEventListener(kj,A)}}},[g.viewport,j,c,u,E]),w.useEffect(()=>{i&&!g.isClosePausedRef.current&&E(j)},[i,j,g.isClosePausedRef,E]),w.useEffect(()=>(N(),()=>R()),[N,R]);const T=w.useMemo(()=>p?EI(p):null,[p]);return g.viewport?s.jsxs(s.Fragment,{children:[T&&s.jsx(TW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),s.jsx(EW,{scope:r,onClose:O,children:uc.createPortal(s.jsx(GS.ItemSlot,{scope:r,children:s.jsx(uW,{asChild:!0,onEscapeKeyDown:Te(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Te(e.onPointerDown,P=>{P.button===0&&(b.current={x:P.clientX,y:P.clientY})}),onPointerMove:Te(e.onPointerMove,P=>{if(!b.current)return;const A=P.clientX-b.current.x,$=P.clientY-b.current.y,M=!!_.current,L=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=L?B(0,A):0,re=L?0:B(0,$),ee=P.pointerType==="touch"?10:2,se={x:z,y:re},U={originalEvent:P,delta:se};M?(_.current=se,Ip(NW,f,U,{discrete:!1})):jk(se,g.swipeDirection,ee)?(_.current=se,Ip(CW,d,U,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(A)>ee||Math.abs($)>ee)&&(b.current=null)}),onPointerUp:Te(e.onPointerUp,P=>{const A=_.current,$=P.target;if($.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),_.current=null,b.current=null,A){const M=P.currentTarget,L={originalEvent:P,delta:A};jk(A,g.swipeDirection,g.swipeThreshold)?Ip(kW,m,L,{discrete:!0}):Ip(PW,h,L,{discrete:!0}),M.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),TW=e=>{const{__scopeToast:t,children:r,...n}=e,a=fx(Jm,t),[i,o]=w.useState(!1),[l,c]=w.useState(!1);return $W(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Qm,{asChild:!0,children:s.jsx(dx,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},RW="ToastTitle",_I=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(He.div,{...n,ref:t})});_I.displayName=RW;var MW="ToastDescription",SI=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(He.div,{...n,ref:t})});SI.displayName=MW;var CI="ToastAction",NI=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(kI,{altText:r,asChild:!0,children:s.jsx(YS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${CI}\`. Expected non-empty \`string\`.`),null)});NI.displayName=CI;var PI="ToastClose",YS=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=AW(PI,r);return s.jsx(kI,{asChild:!0,children:s.jsx(He.button,{type:"button",...n,ref:t,onClick:Te(e.onClick,a.onClose)})})});YS.displayName=PI;var kI=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function EI(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),IW(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...EI(n))}}),t}function Ip(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?fI(a,i):a.dispatchEvent(i)}var jk=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function $W(e=()=>{}){const t=en(e);fn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function IW(e){return e.nodeType===e.ELEMENT_NODE}function DW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LW=yI,AI=bI,OI=jI,TI=_I,RI=SI,MI=NI,$I=YS;function II(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=II(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=II(e))&&(n&&(n+=" "),n+=t);return n}const _k=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sk=dt,Rd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Sk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=_k(d)||_k(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,p]=y;return Array.isArray(p)?p.includes({...i,...l}[g]):{...i,...l}[g]===p})?[...u,f,h]:u},[]);return Sk(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...FW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DI("lucide",a),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(zW,{ref:i,iconNode:t,className:DI(`lucide-${BW(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Me("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Me("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Me("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Me("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Me("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Me("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=Me("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Me("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Me("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Me("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Me("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=Me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Me("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),JS="-",cH=e=>{const t=dH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(JS);return l[0]===""&&l.length!==1&&l.shift(),XI(l,t)||uH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},XI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?XI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(JS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Pk=/^\[(.+)\]$/,uH=e=>{if(Pk.test(e)){const t=Pk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return hH(Object.entries(e.classGroups),r).forEach(([i,o])=>{Tj(o,n,i,t)}),n},Tj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:kk(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(fH(a)){Tj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Tj(o,kk(t,i),r,n)})})},kk=(e,t)=>{let r=e;return t.split(JS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fH=e=>e.isThemeGetter,hH=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,mH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},ZI="!",pH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let p=0;p<l.length;p++){let v=l[p];if(u===0){if(v===a&&(n||l.slice(p,p+i)===t)){c.push(l.slice(d,p)),d=p+i;continue}if(v==="/"){f=p;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ZI),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},gH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},vH=e=>({cache:mH(e.cacheSize),parseClassName:pH(e),...cH(e)}),yH=/\s+/,xH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(yH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const p=gH(d).join(":"),v=f?p+ZI:p,x=v+g;if(i.includes(x))continue;i.push(x);const b=a(g,y);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function bH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=QI(t))&&(n&&(n+=" "),n+=r);return n}const QI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=QI(e[n]))&&(r&&(r+=" "),r+=t);return r};function wH(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=vH(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=xH(c,r);return a(c,d),d}return function(){return i(bH.apply(null,arguments))}}const cr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},JI=/^\[(?:([a-z-]+):)?(.+)\]$/i,jH=/^\d+\/\d+$/,_H=new Set(["px","full","screen"]),SH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>mu(e)||_H.has(e)||jH.test(e),qs=e=>$d(e,"length",IH),mu=e=>!!e&&!Number.isNaN(Number(e)),Cb=e=>$d(e,"number",mu),xf=e=>!!e&&Number.isInteger(Number(e)),EH=e=>e.endsWith("%")&&mu(e.slice(0,-1)),bt=e=>JI.test(e),Ks=e=>SH.test(e),AH=new Set(["length","size","percentage"]),OH=e=>$d(e,AH,eD),TH=e=>$d(e,"position",eD),RH=new Set(["image","url"]),MH=e=>$d(e,RH,LH),$H=e=>$d(e,"",DH),bf=()=>!0,$d=(e,t,r)=>{const n=JI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},IH=e=>CH.test(e)&&!NH.test(e),eD=()=>!1,DH=e=>PH.test(e),LH=e=>kH.test(e),BH=()=>{const e=cr("colors"),t=cr("spacing"),r=cr("blur"),n=cr("brightness"),a=cr("borderColor"),i=cr("borderRadius"),o=cr("borderSpacing"),l=cr("borderWidth"),c=cr("contrast"),u=cr("grayscale"),d=cr("hueRotate"),f=cr("invert"),h=cr("gap"),m=cr("gradientColorStops"),y=cr("gradientColorStopPositions"),g=cr("inset"),p=cr("margin"),v=cr("opacity"),x=cr("padding"),b=cr("saturate"),_=cr("scale"),j=cr("sepia"),S=cr("skew"),C=cr("space"),k=cr("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",bt,t],E=()=>[bt,t],T=()=>["",ss,qs],P=()=>["auto",mu,bt],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",bt],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[mu,bt];return{cacheSize:500,separator:":",theme:{colors:[bf],spacing:[ss,qs],blur:["none","",Ks,bt],brightness:re(),borderColor:[e],borderRadius:["none","","full",Ks,bt],borderSpacing:E(),borderWidth:T(),contrast:re(),grayscale:B(),hueRotate:re(),invert:B(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[EH,qs],inset:O(),margin:O(),opacity:re(),padding:E(),saturate:re(),scale:re(),sepia:B(),skew:re(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[Ks]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),bt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xf,bt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",xf,bt]}],"grid-cols":[{"grid-cols":[bf]}],"col-start-end":[{col:["auto",{span:["full",xf,bt]},bt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[bf]}],"row-start-end":[{row:["auto",{span:[xf,bt]},bt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,t]}],"min-w":[{"min-w":[bt,t,"min","max","fit"]}],"max-w":[{"max-w":[bt,t,"none","full","min","max","fit","prose",{screen:[Ks]},Ks]}],h:[{h:[bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ks,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cb]}],"font-family":[{font:[bf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",mu,Cb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,qs]}],"underline-offset":[{"underline-offset":["auto",ss,bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),TH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MH]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ss,bt]}],"outline-w":[{outline:[ss,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ss,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ks,$H]}],"shadow-color":[{shadow:[bf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ks,bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xf,bt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,qs,Cb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FH=wH(BH);function de(...e){return FH(dt(e))}const zH=LW,tD=w.forwardRef(({className:e,...t},r)=>s.jsx(AI,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));tD.displayName=AI.displayName;const UH=Rd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rD=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(OI,{ref:n,className:de(UH({variant:t}),e),...r}));rD.displayName=OI.displayName;const VH=w.forwardRef(({className:e,...t},r)=>s.jsx(MI,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));VH.displayName=MI.displayName;const nD=w.forwardRef(({className:e,...t},r)=>s.jsx($I,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(za,{className:"h-4 w-4"})}));nD.displayName=$I.displayName;const aD=w.forwardRef(({className:e,...t},r)=>s.jsx(TI,{ref:r,className:de("text-sm font-semibold",e),...t}));aD.displayName=TI.displayName;const iD=w.forwardRef(({className:e,...t},r)=>s.jsx(RI,{ref:r,className:de("text-sm opacity-90",e),...t}));iD.displayName=RI.displayName;function WH(){const{toasts:e}=qS();return s.jsxs(zH,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(rD,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(aD,{children:r}),n&&s.jsx(iD,{children:n})]}),a,s.jsx(nD,{})]},t)}),s.jsx(tD,{})]})}var Ek=["light","dark"],HH="(prefers-color-scheme: dark)",qH=w.createContext(void 0),KH={setTheme:e=>{},themes:[]},GH=()=>{var e;return(e=w.useContext(qH))!=null?e:KH};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Ek.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,p=!0)=>{let v=o?o[y]:y,x=g?y+"|| ''":`'${v}'`,b="";return a&&p&&!g&&Ek.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${HH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var YH=e=>{switch(e){case"success":return QH;case"info":return eq;case"warning":return JH;case"error":return tq;default:return null}},XH=Array(12).fill(0),ZH=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},XH.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),QH=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JH=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nq=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Rj=1,aq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rj++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],I.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(sq(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Rj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qn=new aq,iq=(e,t)=>{let r=(t==null?void 0:t.id)||Rj++;return Qn.addToast({title:e,...t,id:r}),r},sq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",oq=iq,lq=()=>Qn.toasts,cq=()=>Qn.getActiveToasts(),Ee=Object.assign(oq,{success:Qn.success,info:Qn.info,warning:Qn.warning,error:Qn.error,custom:Qn.custom,message:Qn.message,promise:Qn.promise,dismiss:Qn.dismiss,loading:Qn.loading},{getHistory:lq,getToasts:cq});function uq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}uq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dp(e){return e.label!==void 0}var dq=3,fq="32px",hq="16px",Ak=4e3,mq=356,pq=14,gq=20,vq=200;function Xa(...e){return e.filter(Boolean).join(" ")}function yq(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var xq=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:y,interacting:g,setHeights:p,visibleToasts:v,heights:x,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:C,closeButton:k,style:N,cancelButtonStyle:R,actionButtonStyle:O,className:E="",descriptionClassName:T="",duration:P,position:A,gap:$,loadingIcon:M,expandByDefault:L,classNames:B,icons:z,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:ee}=e,[se,U]=I.useState(null),[V,K]=I.useState(null),[q,me]=I.useState(!1),[D,G]=I.useState(!1),[W,X]=I.useState(!1),[Q,we]=I.useState(!1),[$e,qe]=I.useState(!1),[ge,Pe]=I.useState(0),[Ze,F]=I.useState(0),Z=I.useRef(m.duration||P||Ak),oe=I.useRef(null),J=I.useRef(null),ce=b===0,pe=b+1<=v,ue=m.type,ve=m.dismissible!==!1,ke=m.className||"",ot=m.descriptionClassName||"",Ue=I.useMemo(()=>x.findIndex(rt=>rt.toastId===m.id)||0,[x,m.id]),ht=I.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:k},[m.closeButton,k]),fe=I.useMemo(()=>m.duration||P||Ak,[m.duration,P]),Ve=I.useRef(0),ut=I.useRef(0),Mt=I.useRef(0),xt=I.useRef(null),[mt,sn]=A.split("-"),Gr=I.useMemo(()=>x.reduce((rt,Et,Yt)=>Yt>=Ue?rt:rt+Et.height,0),[x,Ue]),jn=nq(),sl=m.invert||h,Ws=ue==="loading";ut.current=I.useMemo(()=>Ue*$+Gr,[Ue,Gr]),I.useEffect(()=>{Z.current=fe},[fe]),I.useEffect(()=>{me(!0)},[]),I.useEffect(()=>{let rt=J.current;if(rt){let Et=rt.getBoundingClientRect().height;return F(Et),p(Yt=>[{toastId:m.id,height:Et,position:m.position},...Yt]),()=>p(Yt=>Yt.filter(_n=>_n.toastId!==m.id))}},[p,m.id]),I.useLayoutEffect(()=>{if(!q)return;let rt=J.current,Et=rt.style.height;rt.style.height="auto";let Yt=rt.getBoundingClientRect().height;rt.style.height=Et,F(Yt),p(_n=>_n.find(Dn=>Dn.toastId===m.id)?_n.map(Dn=>Dn.toastId===m.id?{...Dn,height:Yt}:Dn):[{toastId:m.id,height:Yt,position:m.position},..._n])},[q,m.title,m.description,p,m.id]);let Na=I.useCallback(()=>{G(!0),Pe(ut.current),p(rt=>rt.filter(Et=>Et.toastId!==m.id)),setTimeout(()=>{S(m)},vq)},[m,S,p,ut]);I.useEffect(()=>{if(m.promise&&ue==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return j||g||ee&&jn?(()=>{if(Mt.current<Ve.current){let Et=new Date().getTime()-Ve.current;Z.current=Z.current-Et}Mt.current=new Date().getTime()})():Z.current!==1/0&&(Ve.current=new Date().getTime(),rt=setTimeout(()=>{var Et;(Et=m.onAutoClose)==null||Et.call(m,m),Na()},Z.current)),()=>clearTimeout(rt)},[j,g,m,ue,ee,jn,Na]),I.useEffect(()=>{m.delete&&Na()},[Na,m.delete]);function uf(){var rt,Et,Yt;return z!=null&&z.loading?I.createElement("div",{className:Xa(B==null?void 0:B.loader,(rt=m==null?void 0:m.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":ue==="loading"},z.loading):M?I.createElement("div",{className:Xa(B==null?void 0:B.loader,(Et=m==null?void 0:m.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":ue==="loading"},M):I.createElement(ZH,{className:Xa(B==null?void 0:B.loader,(Yt=m==null?void 0:m.classNames)==null?void 0:Yt.loader),visible:ue==="loading"})}return I.createElement("li",{tabIndex:0,ref:J,className:Xa(E,ke,B==null?void 0:B.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[ue],(r=m==null?void 0:m.classNames)==null?void 0:r[ue]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":$e,"data-removed":D,"data-visible":pe,"data-y-position":mt,"data-x-position":sn,"data-index":b,"data-front":ce,"data-swiping":W,"data-dismissible":ve,"data-type":ue,"data-invert":sl,"data-swipe-out":Q,"data-swipe-direction":V,"data-expanded":!!(j||L&&q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${D?ge:ut.current}px`,"--initial-height":L?"auto":`${Ze}px`,...N,...m.style},onDragEnd:()=>{X(!1),U(null),xt.current=null},onPointerDown:rt=>{Ws||!ve||(oe.current=new Date,Pe(ut.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(X(!0),xt.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,Et,Yt,_n;if(Q||!ve)return;xt.current=null;let Dn=Number(((rt=J.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mn=Number(((Et=J.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Y=new Date().getTime()-((Yt=oe.current)==null?void 0:Yt.getTime()),le=se==="x"?Dn:mn,ne=Math.abs(le)/Y;if(Math.abs(le)>=gq||ne>.11){Pe(ut.current),(_n=m.onDismiss)==null||_n.call(m,m),K(se==="x"?Dn>0?"right":"left":mn>0?"down":"up"),Na(),we(!0),qe(!1);return}X(!1),U(null)},onPointerMove:rt=>{var Et,Yt,_n,Dn;if(!xt.current||!ve||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;let mn=rt.clientY-xt.current.y,Y=rt.clientX-xt.current.x,le=(Yt=e.swipeDirections)!=null?Yt:yq(A);!se&&(Math.abs(Y)>1||Math.abs(mn)>1)&&U(Math.abs(Y)>Math.abs(mn)?"x":"y");let ne={x:0,y:0};se==="y"?(le.includes("top")||le.includes("bottom"))&&(le.includes("top")&&mn<0||le.includes("bottom")&&mn>0)&&(ne.y=mn):se==="x"&&(le.includes("left")||le.includes("right"))&&(le.includes("left")&&Y<0||le.includes("right")&&Y>0)&&(ne.x=Y),(Math.abs(ne.x)>0||Math.abs(ne.y)>0)&&qe(!0),(_n=J.current)==null||_n.style.setProperty("--swipe-amount-x",`${ne.x}px`),(Dn=J.current)==null||Dn.style.setProperty("--swipe-amount-y",`${ne.y}px`)}},ht&&!m.jsx?I.createElement("button",{"aria-label":re,"data-disabled":Ws,"data-close-button":!0,onClick:Ws||!ve?()=>{}:()=>{var rt;Na(),(rt=m.onDismiss)==null||rt.call(m,m)},className:Xa(B==null?void 0:B.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=z==null?void 0:z.close)!=null?i:rq):null,m.jsx||w.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:I.createElement(I.Fragment,null,ue||m.icon||m.promise?I.createElement("div",{"data-icon":"",className:Xa(B==null?void 0:B.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||uf():null,m.type!=="loading"?m.icon||(z==null?void 0:z[ue])||YH(ue):null):null,I.createElement("div",{"data-content":"",className:Xa(B==null?void 0:B.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:Xa(B==null?void 0:B.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?I.createElement("div",{"data-description":"",className:Xa(T,ot,B==null?void 0:B.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),w.isValidElement(m.cancel)?m.cancel:m.cancel&&Dp(m.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:rt=>{var Et,Yt;Dp(m.cancel)&&ve&&((Yt=(Et=m.cancel).onClick)==null||Yt.call(Et,rt),Na())},className:Xa(B==null?void 0:B.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,w.isValidElement(m.action)?m.action:m.action&&Dp(m.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:rt=>{var Et,Yt;Dp(m.action)&&((Yt=(Et=m.action).onClick)==null||Yt.call(Et,rt),!rt.defaultPrevented&&Na())},className:Xa(B==null?void 0:B.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Ok(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function bq(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?hq:fq;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var wq=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:y=dq,toastOptions:g,dir:p=Ok(),gap:v=pq,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=I.useState([]),k=I.useMemo(()=>Array.from(new Set([n].concat(S.filter(ee=>ee.position).map(ee=>ee.position)))),[S,n]),[N,R]=I.useState([]),[O,E]=I.useState(!1),[T,P]=I.useState(!1),[A,$]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=I.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=I.useRef(null),z=I.useRef(!1),re=I.useCallback(ee=>{C(se=>{var U;return(U=se.find(V=>V.id===ee.id))!=null&&U.delete||Qn.dismiss(ee.id),se.filter(({id:V})=>V!==ee.id)})},[]);return I.useEffect(()=>Qn.subscribe(ee=>{if(ee.dismiss){C(se=>se.map(U=>U.id===ee.id?{...U,delete:!0}:U));return}setTimeout(()=>{sI.flushSync(()=>{C(se=>{let U=se.findIndex(V=>V.id===ee.id);return U!==-1?[...se.slice(0,U),{...se[U],...ee},...se.slice(U+1)]:[ee,...se]})})})}),[]),I.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:se})=>{$(se?"dark":"light")})}catch{ee.addListener(({matches:U})=>{try{$(U?"dark":"light")}catch(V){console.error(V)}})}},[d]),I.useEffect(()=>{S.length<=1&&E(!1)},[S]),I.useEffect(()=>{let ee=se=>{var U,V;a.every(K=>se[K]||se.code===K)&&(E(!0),(U=M.current)==null||U.focus()),se.code==="Escape"&&(document.activeElement===M.current||(V=M.current)!=null&&V.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),I.useEffect(()=>{if(M.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,z.current=!1)}},[M.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((ee,se)=>{var U;let[V,K]=ee.split("-");return S.length?I.createElement("ol",{key:ee,dir:p==="auto"?Ok():p,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":V,"data-lifted":O&&S.length>1&&!i,"data-x-position":K,style:{"--front-toast-height":`${((U=N[0])==null?void 0:U.height)||0}px`,"--width":`${mq}px`,"--gap":`${v}px`,...m,...bq(c,u)},onBlur:q=>{z.current&&!q.currentTarget.contains(q.relatedTarget)&&(z.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||z.current||(z.current=!0,B.current=q.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{T||E(!1)},onDragEnd:()=>E(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},S.filter(q=>!q.position&&se===0||q.position===ee).map((q,me)=>{var D,G;return I.createElement(xq,{key:q.id,icons:b,index:me,toast:q,defaultRichColors:f,duration:(D=g==null?void 0:g.duration)!=null?D:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:y,closeButton:(G=g==null?void 0:g.closeButton)!=null?G:o,interacting:T,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:S.filter(W=>W.position==q.position),heights:N.filter(W=>W.position==q.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const jq=({...e})=>{const{theme:t="system"}=GH();return s.jsx(wq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _q=tS[" useId ".trim().toString()]||(()=>{}),Sq=0;function qi(e){const[t,r]=w.useState(_q());return fn(()=>{r(n=>n??String(Sq++))},[e]),t?`radix-${t}`:""}const Cq=["top","right","bottom","left"],Fo=Math.min,ma=Math.max,uv=Math.round,Lp=Math.floor,Ki=e=>({x:e,y:e}),Nq={left:"right",right:"left",bottom:"top",top:"bottom"},Pq={start:"end",end:"start"};function Mj(e,t,r){return ma(e,Fo(t,r))}function Es(e,t){return typeof e=="function"?e(t):e}function As(e){return e.split("-")[0]}function Id(e){return e.split("-")[1]}function eC(e){return e==="x"?"y":"x"}function tC(e){return e==="y"?"height":"width"}const kq=new Set(["top","bottom"]);function Bi(e){return kq.has(As(e))?"y":"x"}function rC(e){return eC(Bi(e))}function Eq(e,t,r){r===void 0&&(r=!1);const n=Id(e),a=rC(e),i=tC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=dv(o)),[o,dv(o)]}function Aq(e){const t=dv(e);return[$j(e),t,$j(t)]}function $j(e){return e.replace(/start|end/g,t=>Pq[t])}const Tk=["left","right"],Rk=["right","left"],Oq=["top","bottom"],Tq=["bottom","top"];function Rq(e,t,r){switch(e){case"top":case"bottom":return r?t?Rk:Tk:t?Tk:Rk;case"left":case"right":return t?Oq:Tq;default:return[]}}function Mq(e,t,r,n){const a=Id(e);let i=Rq(As(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map($j)))),i}function dv(e){return e.replace(/left|right|bottom|top/g,t=>Nq[t])}function $q(e){return{top:0,right:0,bottom:0,left:0,...e}}function sD(e){return typeof e!="number"?$q(e):{top:e,right:e,bottom:e,left:e}}function fv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Mk(e,t,r){let{reference:n,floating:a}=e;const i=Bi(t),o=rC(t),l=tC(o),c=As(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Id(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Iq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Mk(u,n,c),h=n,m={},y=0;for(let g=0;g<l.length;g++){const{name:p,fn:v}=l[g],{x,y:b,data:_,reset:j}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,m={...m,[p]:{...m[p],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=Mk(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Bh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Es(t,e),y=sD(m),p=l[h?f==="floating"?"reference":"floating":f],v=fv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=fv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-j.top+y.top)/_.y,bottom:(j.bottom-v.bottom+y.bottom)/_.y,left:(v.left-j.left+y.left)/_.x,right:(j.right-v.right+y.right)/_.x}}const Dq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Es(e,t)||{};if(u==null)return{};const f=sD(d),h={x:r,y:n},m=rC(a),y=tC(m),g=await o.getDimensions(u),p=m==="y",v=p?"top":"left",x=p?"bottom":"right",b=p?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const k=_/2-j/2,N=C/2-g[y]/2-1,R=Fo(f[v],N),O=Fo(f[x],N),E=R,T=C-g[y]-O,P=C/2-g[y]/2+k,A=Mj(E,P,T),$=!c.arrow&&Id(a)!=null&&P!==A&&i.reference[y]/2-(P<E?R:O)-g[y]/2<0,M=$?P<E?P-E:P-T:0;return{[m]:h[m]+M,data:{[m]:A,centerOffset:P-A-M,...$&&{alignmentOffset:M}},reset:$}}}),Lq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...p}=Es(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=As(a),x=Bi(l),b=As(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!g?[dv(l)]:Aq(l)),S=y!=="none";!h&&S&&j.push(...Mq(l,g,y,_));const C=[l,...j],k=await Bh(t,p),N=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&N.push(k[v]),f){const P=Eq(a,o,_);N.push(k[P[0]],k[P[1]])}if(R=[...R,{placement:a,overflows:N}],!N.every(P=>P<=0)){var O,E;const P=(((O=i.flip)==null?void 0:O.index)||0)+1,A=C[P];if(A&&(!(f==="alignment"?x!==Bi(A):!1)||R.every(L=>L.overflows[0]>0&&Bi(L.placement)===x)))return{data:{index:P,overflows:R},reset:{placement:A}};let $=(E=R.filter(M=>M.overflows[0]<=0).sort((M,L)=>M.overflows[1]-L.overflows[1])[0])==null?void 0:E.placement;if(!$)switch(m){case"bestFit":{var T;const M=(T=R.filter(L=>{if(S){const B=Bi(L.placement);return B===x||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,z)=>B+z,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:T[0];M&&($=M);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function $k(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ik(e){return Cq.some(t=>e[t]>=0)}const Bq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Es(e,t);switch(n){case"referenceHidden":{const i=await Bh(t,{...a,elementContext:"reference"}),o=$k(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ik(o)}}}case"escaped":{const i=await Bh(t,{...a,altBoundary:!0}),o=$k(i,r.floating);return{data:{escapedOffsets:o,escaped:Ik(o)}}}default:return{}}}}},oD=new Set(["left","top"]);async function Fq(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=As(r),l=Id(r),c=Bi(r)==="y",u=oD.has(o)?-1:1,d=i&&c?-1:1,f=Es(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const zq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Fq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Uq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:v,y:x}=p;return{x:v,y:x}}},...c}=Es(e,t),u={x:r,y:n},d=await Bh(t,c),f=Bi(As(a)),h=eC(f);let m=u[h],y=u[f];if(i){const p=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=m+d[p],b=m-d[v];m=Mj(x,m,b)}if(o){const p=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+d[p],b=y-d[v];y=Mj(x,y,b)}const g=l.fn({...t,[h]:m,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},Vq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Es(e,t),d={x:r,y:n},f=Bi(a),h=eC(f);let m=d[h],y=d[f];const g=Es(l,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+p.mainAxis,j=i.reference[h]+i.reference[b]-p.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var v,x;const b=h==="y"?"width":"height",_=oD.has(As(a)),j=i.reference[f]-i.floating[b]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:p.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?p.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[f]:y}}}},Wq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Es(e,t),d=await Bh(t,u),f=As(a),h=Id(a),m=Bi(a)==="y",{width:y,height:g}=i.floating;let p,v;f==="top"||f==="bottom"?(p=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,p=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=y-d.left-d.right,_=Fo(g-d[p],x),j=Fo(y-d[v],b),S=!t.middlewareData.shift;let C=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const R=ma(d.left,0),O=ma(d.right,0),E=ma(d.top,0),T=ma(d.bottom,0);m?k=y-2*(R!==0||O!==0?R+O:ma(d.left,d.right)):C=g-2*(E!==0||T!==0?E+T:ma(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const N=await o.getDimensions(l.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function mx(){return typeof window<"u"}function Dd(e){return lD(e)?(e.nodeName||"").toLowerCase():"#document"}function xa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function es(e){var t;return(t=(lD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lD(e){return mx()?e instanceof Node||e instanceof xa(e).Node:!1}function wi(e){return mx()?e instanceof Element||e instanceof xa(e).Element:!1}function Zi(e){return mx()?e instanceof HTMLElement||e instanceof xa(e).HTMLElement:!1}function Dk(e){return!mx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xa(e).ShadowRoot}const Hq=new Set(["inline","contents"]);function rp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Hq.has(a)}const qq=new Set(["table","td","th"]);function Kq(e){return qq.has(Dd(e))}const Gq=[":popover-open",":modal"];function px(e){return Gq.some(t=>{try{return e.matches(t)}catch{return!1}})}const Yq=["transform","translate","scale","rotate","perspective"],Xq=["transform","translate","scale","rotate","perspective","filter"],Zq=["paint","layout","strict","content"];function nC(e){const t=aC(),r=wi(e)?ji(e):e;return Yq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Xq.some(n=>(r.willChange||"").includes(n))||Zq.some(n=>(r.contain||"").includes(n))}function Qq(e){let t=zo(e);for(;Zi(t)&&!zu(t);){if(nC(t))return t;if(px(t))return null;t=zo(t)}return null}function aC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jq=new Set(["html","body","#document"]);function zu(e){return Jq.has(Dd(e))}function ji(e){return xa(e).getComputedStyle(e)}function gx(e){return wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zo(e){if(Dd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dk(e)&&e.host||es(e);return Dk(t)?t.host:t}function cD(e){const t=zo(e);return zu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zi(t)&&rp(t)?t:cD(t)}function Fh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=cD(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=xa(a);if(i){const l=Ij(o);return t.concat(o,o.visualViewport||[],rp(a)?a:[],l&&r?Fh(l):[])}return t.concat(a,Fh(a,[],r))}function Ij(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uD(e){const t=ji(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=uv(r)!==i||uv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function iC(e){return wi(e)?e:e.contextElement}function pu(e){const t=iC(e);if(!Zi(t))return Ki(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=uD(t);let o=(i?uv(r.width):r.width)/n,l=(i?uv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const e9=Ki(0);function dD(e){const t=xa(e);return!aC()||!t.visualViewport?e9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xa(e)?!1:t}function Ql(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=iC(e);let o=Ki(1);t&&(n?wi(n)&&(o=pu(n)):o=pu(e));const l=t9(i,r,n)?dD(i):Ki(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=xa(i),m=n&&wi(n)?xa(n):n;let y=h,g=Ij(y);for(;g&&n&&m!==y;){const p=pu(g),v=g.getBoundingClientRect(),x=ji(g),b=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,_=v.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;c*=p.x,u*=p.y,d*=p.x,f*=p.y,c+=b,u+=_,y=xa(g),g=Ij(y)}}return fv({width:d,height:f,x:c,y:u})}function sC(e,t){const r=gx(e).scrollLeft;return t?t.left+r:Ql(es(e)).left+r}function fD(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:sC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function r9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=es(n),l=t?px(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ki(1);const d=Ki(0),f=Zi(n);if((f||!f&&!i)&&((Dd(n)!=="body"||rp(o))&&(c=gx(n)),Zi(n))){const m=Ql(n);u=pu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?fD(o,c,!0):Ki(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function n9(e){return Array.from(e.getClientRects())}function a9(e){const t=es(e),r=gx(e),n=e.ownerDocument.body,a=ma(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ma(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sC(e);const l=-r.scrollTop;return ji(n).direction==="rtl"&&(o+=ma(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function i9(e,t){const r=xa(e),n=es(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=aC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const s9=new Set(["absolute","fixed"]);function o9(e,t){const r=Ql(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zi(e)?pu(e):Ki(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Lk(e,t,r){let n;if(t==="viewport")n=i9(e,r);else if(t==="document")n=a9(es(e));else if(wi(t))n=o9(t,r);else{const a=dD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fv(n)}function hD(e,t){const r=zo(e);return r===t||!wi(r)||zu(r)?!1:ji(r).position==="fixed"||hD(r,t)}function l9(e,t){const r=t.get(e);if(r)return r;let n=Fh(e,[],!1).filter(l=>wi(l)&&Dd(l)!=="body"),a=null;const i=ji(e).position==="fixed";let o=i?zo(e):e;for(;wi(o)&&!zu(o);){const l=ji(o),c=nC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&s9.has(a.position)||rp(o)&&!c&&hD(e,o))?n=n.filter(d=>d!==o):a=l,o=zo(o)}return t.set(e,n),n}function c9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?px(t)?[]:l9(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Lk(t,d,a);return u.top=ma(f.top,u.top),u.right=Fo(f.right,u.right),u.bottom=Fo(f.bottom,u.bottom),u.left=ma(f.left,u.left),u},Lk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function u9(e){const{width:t,height:r}=uD(e);return{width:t,height:r}}function d9(e,t,r){const n=Zi(t),a=es(t),i=r==="fixed",o=Ql(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ki(0);function u(){c.x=sC(a)}if(n||!n&&!i)if((Dd(t)!=="body"||rp(a))&&(l=gx(t)),n){const m=Ql(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?fD(a,l):Ki(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Nb(e){return ji(e).position==="static"}function Bk(e,t){if(!Zi(e)||ji(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return es(e)===r&&(r=r.ownerDocument.body),r}function mD(e,t){const r=xa(e);if(px(e))return r;if(!Zi(e)){let a=zo(e);for(;a&&!zu(a);){if(wi(a)&&!Nb(a))return a;a=zo(a)}return r}let n=Bk(e,t);for(;n&&Kq(n)&&Nb(n);)n=Bk(n,t);return n&&zu(n)&&Nb(n)&&!nC(n)?r:n||Qq(e)||r}const f9=async function(e){const t=this.getOffsetParent||mD,r=this.getDimensions,n=await r(e.floating);return{reference:d9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function h9(e){return ji(e).direction==="rtl"}const m9={convertOffsetParentRelativeRectToViewportRelativeRect:r9,getDocumentElement:es,getClippingRect:c9,getOffsetParent:mD,getElementRects:f9,getClientRects:n9,getDimensions:u9,getScale:pu,isElement:wi,isRTL:h9};function pD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function p9(e,t){let r=null,n;const a=es(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=Lp(f),g=Lp(a.clientWidth-(d+h)),p=Lp(a.clientHeight-(f+m)),v=Lp(d),b={rootMargin:-y+"px "+-g+"px "+-p+"px "+-v+"px",threshold:ma(0,Fo(1,c))||1};let _=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!pD(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function g9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=iC(e),d=a||i?[...u?Fh(u):[],...Fh(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?p9(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?Ql(e):null;c&&p();function p(){const v=Ql(e);g&&!pD(g,v)&&r(),g=v,y=requestAnimationFrame(p)}return r(),()=>{var v;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const v9=zq,y9=Uq,x9=Lq,b9=Wq,w9=Bq,Fk=Dq,j9=Vq,_9=(e,t,r)=>{const n=new Map,a={platform:m9,...r},i={...a.platform,_c:n};return Iq(e,t,{...a,platform:i})};var S9=typeof document<"u",C9=function(){},Tg=S9?w.useLayoutEffect:C9;function hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!hv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zk(e,t){const r=gD(e);return Math.round(t*r)/r}function Pb(e){const t=w.useRef(e);return Tg(()=>{t.current=e}),t}function N9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);hv(h,n)||m(n);const[y,g]=w.useState(null),[p,v]=w.useState(null),x=w.useCallback(L=>{L!==S.current&&(S.current=L,g(L))},[]),b=w.useCallback(L=>{L!==C.current&&(C.current=L,v(L))},[]),_=i||y,j=o||p,S=w.useRef(null),C=w.useRef(null),k=w.useRef(d),N=c!=null,R=Pb(c),O=Pb(a),E=Pb(u),T=w.useCallback(()=>{if(!S.current||!C.current)return;const L={placement:t,strategy:r,middleware:h};O.current&&(L.platform=O.current),_9(S.current,C.current,L).then(B=>{const z={...B,isPositioned:E.current!==!1};P.current&&!hv(k.current,z)&&(k.current=z,uc.flushSync(()=>{f(z)}))})},[h,t,r,O,E]);Tg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const P=w.useRef(!1);Tg(()=>(P.current=!0,()=>{P.current=!1}),[]),Tg(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(R.current)return R.current(_,j,T);T()}},[_,j,T,R,N]);const A=w.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),$=w.useMemo(()=>({reference:_,floating:j}),[_,j]),M=w.useMemo(()=>{const L={position:r,left:0,top:0};if(!$.floating)return L;const B=zk($.floating,d.x),z=zk($.floating,d.y);return l?{...L,transform:"translate("+B+"px, "+z+"px)",...gD($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:z}},[r,l,$.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:T,refs:A,elements:$,floatingStyles:M}),[d,T,A,$,M])}const P9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Fk({element:n.current,padding:a}).fn(r):{}:n?Fk({element:n,padding:a}).fn(r):{}}}},k9=(e,t)=>({...v9(e),options:[e,t]}),E9=(e,t)=>({...y9(e),options:[e,t]}),A9=(e,t)=>({...j9(e),options:[e,t]}),O9=(e,t)=>({...x9(e),options:[e,t]}),T9=(e,t)=>({...b9(e),options:[e,t]}),R9=(e,t)=>({...w9(e),options:[e,t]}),M9=(e,t)=>({...P9(e),options:[e,t]});var $9="Arrow",vD=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(He.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});vD.displayName=$9;var I9=vD;function vx(e){const[t,r]=w.useState(void 0);return fn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var oC="Popper",[yD,Ld]=Yn(oC),[D9,xD]=yD(oC),bD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return s.jsx(D9,{scope:t,anchor:n,onAnchorChange:a,children:r})};bD.displayName=oC;var wD="PopperAnchor",jD=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=xD(wD,r),o=w.useRef(null),l=ft(t,o);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(He.div,{...a,ref:l})});jD.displayName=wD;var lC="PopperContent",[L9,B9]=yD(lC),_D=w.forwardRef((e,t)=>{var q,me,D,G,W,X;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,p=xD(lC,r),[v,x]=w.useState(null),b=ft(t,Q=>x(Q)),[_,j]=w.useState(null),S=vx(_),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,N=n+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],E=O.length>0,T={padding:R,boundary:O.filter(z9),altBoundary:E},{refs:P,floatingStyles:A,placement:$,isPositioned:M,middlewareData:L}=N9({strategy:"fixed",placement:N,whileElementsMounted:(...Q)=>g9(...Q,{animationFrame:m==="always"}),elements:{reference:p.anchor},middleware:[k9({mainAxis:a+k,alignmentAxis:o}),c&&E9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?A9():void 0,...T}),c&&O9({...T}),T9({...T,apply:({elements:Q,rects:we,availableWidth:$e,availableHeight:qe})=>{const{width:ge,height:Pe}=we.reference,Ze=Q.floating.style;Ze.setProperty("--radix-popper-available-width",`${$e}px`),Ze.setProperty("--radix-popper-available-height",`${qe}px`),Ze.setProperty("--radix-popper-anchor-width",`${ge}px`),Ze.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),_&&M9({element:_,padding:l}),U9({arrowWidth:C,arrowHeight:k}),h&&R9({strategy:"referenceHidden",...T})]}),[B,z]=ND($),re=en(y);fn(()=>{M&&(re==null||re())},[M,re]);const ee=(q=L.arrow)==null?void 0:q.x,se=(me=L.arrow)==null?void 0:me.y,U=((D=L.arrow)==null?void 0:D.centerOffset)!==0,[V,K]=w.useState();return fn(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:M?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(G=L.transformOrigin)==null?void 0:G.x,(W=L.transformOrigin)==null?void 0:W.y].join(" "),...((X=L.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(L9,{scope:r,placedSide:B,onArrowChange:j,arrowX:ee,arrowY:se,shouldHideArrow:U,children:s.jsx(He.div,{"data-side":B,"data-align":z,...g,ref:b,style:{...g.style,animation:M?void 0:"none"}})})})});_D.displayName=lC;var SD="PopperArrow",F9={top:"bottom",right:"left",bottom:"top",left:"right"},CD=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=B9(SD,n),o=F9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(I9,{...a,ref:r,style:{...a.style,display:"block"}})})});CD.displayName=SD;function z9(e){return e!==null}var U9=e=>({name:"transformOrigin",options:e,fn(t){var p,v,x;const{placement:r,rects:n,middlewareData:a}=t,o=((p=a.arrow)==null?void 0:p.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=ND(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function ND(e){const[t,r="center"]=e.split("-");return[t,r]}var cC=bD,yx=jD,uC=_D,dC=CD,[xx,p2e]=Yn("Tooltip",[Ld]),bx=Ld(),PD="TooltipProvider",V9=700,Dj="tooltip.open",[W9,fC]=xx(PD),kD=e=>{const{__scopeTooltip:t,delayDuration:r=V9,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(W9,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};kD.displayName=PD;var zh="Tooltip",[H9,wx]=xx(zh),ED=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=fC(zh,e.__scopeTooltip),u=bx(t),[d,f]=w.useState(null),h=qi(),m=w.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,p=w.useRef(!1),[v,x]=ia({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Dj))):c.onClose(),i==null||i(C)},caller:zh}),b=w.useMemo(()=>v?p.current?"delayed-open":"instant-open":"closed",[v]),_=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,p.current=!1,x(!0)},[x]),j=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{p.current=!0,x(!0),m.current=0},g)},[g,x]);return w.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(cC,{...u,children:s.jsx(H9,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:w.useCallback(()=>{y?j():(window.clearTimeout(m.current),m.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};ED.displayName=zh;var Lj="TooltipTrigger",AD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=wx(Lj,r),i=fC(Lj,r),o=bx(r),l=w.useRef(null),c=ft(t,l,a.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(yx,{asChild:!0,...o,children:s.jsx(He.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Te(e.onBlur,a.onClose),onClick:Te(e.onClick,a.onClose)})})});AD.displayName=Lj;var q9="TooltipPortal",[g2e,K9]=xx(q9,{forceMount:void 0}),Uu="TooltipContent",OD=w.forwardRef((e,t)=>{const r=K9(Uu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=wx(Uu,e.__scopeTooltip);return s.jsx(sa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(TD,{side:a,...i,ref:t}):s.jsx(G9,{side:a,...i,ref:t})})}),G9=w.forwardRef((e,t)=>{const r=wx(Uu,e.__scopeTooltip),n=fC(Uu,e.__scopeTooltip),a=w.useRef(null),i=ft(t,a),[o,l]=w.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{l(null),f(!1)},[f]),m=w.useCallback((y,g)=>{const p=y.currentTarget,v={x:y.clientX,y:y.clientY},x=J9(v,p.getBoundingClientRect()),b=e7(v,x),_=t7(g.getBoundingClientRect()),j=n7([...b,..._]);l(j),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const y=p=>m(p,d),g=p=>m(p,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),w.useEffect(()=>{if(o){const y=g=>{const p=g.target,v={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(p))||(d==null?void 0:d.contains(p)),b=!r7(v,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(TD,{...e,ref:i})}),[Y9,X9]=xx(zh,{isInside:!1}),Z9=dI("TooltipContent"),TD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=wx(Uu,r),u=bx(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(Dj,d),()=>document.removeEventListener(Dj,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Td,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(uC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Z9,{children:n}),s.jsx(Y9,{scope:r,isInside:!0,children:s.jsx(bW,{id:c.contentId,role:"tooltip",children:a||n})})]})})});OD.displayName=Uu;var RD="TooltipArrow",Q9=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=bx(r);return X9(RD,r).isInside?null:s.jsx(dC,{...a,...n,ref:t})});Q9.displayName=RD;function J9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function e7(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function t7(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function r7(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function n7(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),a7(t)}function a7(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var i7=kD,s7=ED,o7=AD,MD=OD;const l7=i7,c7=s7,u7=o7,$D=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(MD,{ref:n,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));$D.displayName=MD.displayName;var jx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_x=typeof window>"u"||"Deno"in globalThis;function ti(){}function d7(e,t){return typeof e=="function"?e(t):e}function f7(e){return typeof e=="number"&&e>=0&&e!==1/0}function h7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bj(e,t){return typeof e=="function"?e(t):e}function m7(e,t){return typeof e=="function"?e(t):e}function Uk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==hC(o,t.options))return!1}else if(!Vh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Vk(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Uh(t.options.mutationKey)!==Uh(i))return!1}else if(!Vh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function hC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uh)(e)}function Uh(e){return JSON.stringify(e,(t,r)=>Fj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Vh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Vh(e[r],t[r])):!1}function ID(e,t){if(e===t)return e;const r=Wk(e)&&Wk(t);if(r||Fj(e)&&Fj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=ID(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Wk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fj(e){if(!Hk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Hk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hk(e){return Object.prototype.toString.call(e)==="[object Object]"}function p7(e){return new Promise(t=>{setTimeout(t,e)})}function g7(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ID(e,t):t}function v7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function y7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var mC=Symbol();function DD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $l,oo,_u,FR,x7=(FR=class extends jx{constructor(){super();At(this,$l);At(this,oo);At(this,_u);vt(this,_u,t=>{if(!_x&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,oo)||this.setEventListener(ye(this,_u))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,oo))==null||t.call(this),vt(this,oo,void 0))}setEventListener(t){var r;vt(this,_u,t),(r=ye(this,oo))==null||r.call(this),vt(this,oo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,$l)!==t&&(vt(this,$l,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ye(this,$l)=="boolean"?ye(this,$l):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$l=new WeakMap,oo=new WeakMap,_u=new WeakMap,FR),LD=new x7,Su,lo,Cu,zR,b7=(zR=class extends jx{constructor(){super();At(this,Su,!0);At(this,lo);At(this,Cu);vt(this,Cu,t=>{if(!_x&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,lo)||this.setEventListener(ye(this,Cu))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,lo))==null||t.call(this),vt(this,lo,void 0))}setEventListener(t){var r;vt(this,Cu,t),(r=ye(this,lo))==null||r.call(this),vt(this,lo,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Su)!==t&&(vt(this,Su,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Su)}},Su=new WeakMap,lo=new WeakMap,Cu=new WeakMap,zR),mv=new b7;function w7(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function j7(e){return Math.min(1e3*2**e,3e4)}function BD(e){return(e??"online")==="online"?mv.isOnline():!0}var FD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kb(e){return e instanceof FD}function zD(e){let t=!1,r=0,n=!1,a;const i=w7(),o=g=>{var p;n||(h(new FD(g)),(p=e.abort)==null||p.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>LD.isFocused()&&(e.networkMode==="always"||mv.isOnline())&&e.canRun(),d=()=>BD(e.networkMode)&&e.canRun(),f=g=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,g),a==null||a(),i.resolve(g))},h=g=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,g),a==null||a(),i.reject(g))},m=()=>new Promise(g=>{var p;a=v=>{(n||u())&&g(v)},(p=e.onPause)==null||p.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const p=r===0?e.initialPromise:void 0;try{g=p??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var S;if(n)return;const x=e.retry??(_x?0:3),b=e.retryDelay??j7,_=typeof b=="function"?b(r,v):b,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!j){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),p7(_).then(()=>u()?void 0:m()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var _7=e=>setTimeout(e,0);function S7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=_7;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var zn=S7(),Il,UR,UD=(UR=class{constructor(){At(this,Il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f7(this.gcTime)&&vt(this,Il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_x?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Il)&&(clearTimeout(ye(this,Il)),vt(this,Il,void 0))}},Il=new WeakMap,UR),Nu,Dl,Oa,Ll,En,Hm,Bl,ai,cs,VR,C7=(VR=class extends UD{constructor(t){super();At(this,ai);At(this,Nu);At(this,Dl);At(this,Oa);At(this,Ll);At(this,En);At(this,Hm);At(this,Bl);vt(this,Bl,!1),vt(this,Hm,t.defaultOptions),this.setOptions(t.options),this.observers=[],vt(this,Ll,t.client),vt(this,Oa,ye(this,Ll).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,vt(this,Nu,P7(this.options)),this.state=t.state??ye(this,Nu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,En))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,Hm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,Oa).remove(this)}setData(t,r){const n=g7(this.state.data,t,this.options);return Sn(this,ai,cs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Sn(this,ai,cs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ye(this,En))==null?void 0:n.promise;return(a=ye(this,En))==null||a.cancel(t),r?r.then(ti).catch(ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,Nu))}isActive(){return this.observers.some(t=>m7(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bj(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!h7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,En))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,En))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,Oa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,En)&&(ye(this,Bl)?ye(this,En).cancel({revert:!0}):ye(this,En).cancelRetry()),this.scheduleGc()),ye(this,Oa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,ai,cs).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,En))return ye(this,En).continueRetry(),ye(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(vt(this,Bl,!0),n.signal)})},i=()=>{const h=DD(this.options,r),y=(()=>{const g={client:ye(this,Ll),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return vt(this,Bl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,Ll),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),vt(this,Dl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Sn(this,ai,cs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,y,g,p;kb(h)&&h.silent||Sn(this,ai,cs).call(this,{type:"error",error:h}),kb(h)||((y=(m=ye(this,Oa).config).onError)==null||y.call(m,h,this),(p=(g=ye(this,Oa).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return vt(this,En,zD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,y,g,p;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(m=ye(this,Oa).config).onSuccess)==null||y.call(m,h,this),(p=(g=ye(this,Oa).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Sn(this,ai,cs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Sn(this,ai,cs).call(this,{type:"pause"})},onContinue:()=>{Sn(this,ai,cs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ye(this,En).start()}},Nu=new WeakMap,Dl=new WeakMap,Oa=new WeakMap,Ll=new WeakMap,En=new WeakMap,Hm=new WeakMap,Bl=new WeakMap,ai=new WeakSet,cs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...N7(n.data,this.options),fetchMeta:t.meta??null};case"success":return vt(this,Dl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return kb(a)&&a.revert&&ye(this,Dl)?{...ye(this,Dl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,Oa).notify({query:this,type:"updated",action:t})})},VR);function N7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ti,WR,k7=(WR=class extends jx{constructor(t={}){super();At(this,Ti);this.config=t,vt(this,Ti,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??hC(a,r);let o=this.get(i);return o||(o=new C7({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ye(this,Ti).has(t.queryHash)||(ye(this,Ti).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Ti).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Ti).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Ti).get(t)}getAll(){return[...ye(this,Ti).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Uk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Uk(t,n)):r}notify(t){zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ti=new WeakMap,WR),Ri,Ln,Fl,Mi,Ys,HR,E7=(HR=class extends UD{constructor(t){super();At(this,Mi);At(this,Ri);At(this,Ln);At(this,Fl);this.mutationId=t.mutationId,vt(this,Ln,t.mutationCache),vt(this,Ri,[]),this.state=t.state||A7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,Ri).includes(t)||(ye(this,Ri).push(t),this.clearGcTimeout(),ye(this,Ln).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){vt(this,Ri,ye(this,Ri).filter(r=>r!==t)),this.scheduleGc(),ye(this,Ln).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Ln).remove(this))}continue(){var t;return((t=ye(this,Fl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,y,g,p,v,x,b,_,j,S,C,k;const r=()=>{Sn(this,Mi,Ys).call(this,{type:"continue"})};vt(this,Fl,zD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{Sn(this,Mi,Ys).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{Sn(this,Mi,Ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Ln).canRun(this)}));const n=this.state.status==="pending",a=!ye(this,Fl).canStart();try{if(n)r();else{Sn(this,Mi,Ys).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=ye(this,Ln).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&Sn(this,Mi,Ys).call(this,{type:"pending",context:R,variables:t,isPaused:a})}const N=await ye(this,Fl).start();return await((d=(u=ye(this,Ln).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((y=(m=ye(this,Ln).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,N,null,t,this.state.context)),Sn(this,Mi,Ys).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(v=ye(this,Ln).config).onError)==null?void 0:x.call(v,N,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,t,this.state.context)),await((S=(j=ye(this,Ln).config).onSettled)==null?void 0:S.call(j,void 0,N,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,N,t,this.state.context)),N}finally{Sn(this,Mi,Ys).call(this,{type:"error",error:N})}}finally{ye(this,Ln).runNext(this)}}},Ri=new WeakMap,Ln=new WeakMap,Fl=new WeakMap,Mi=new WeakSet,Ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zn.batch(()=>{ye(this,Ri).forEach(n=>{n.onMutationUpdate(t)}),ye(this,Ln).notify({mutation:this,type:"updated",action:t})})},HR);function A7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ms,ii,qm,qR,O7=(qR=class extends jx{constructor(t={}){super();At(this,ms);At(this,ii);At(this,qm);this.config=t,vt(this,ms,new Set),vt(this,ii,new Map),vt(this,qm,0)}build(t,r,n){const a=new E7({mutationCache:this,mutationId:++gp(this,qm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ye(this,ms).add(t);const r=Bp(t);if(typeof r=="string"){const n=ye(this,ii).get(r);n?n.push(t):ye(this,ii).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,ms).delete(t)){const r=Bp(t);if(typeof r=="string"){const n=ye(this,ii).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ye(this,ii).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bp(t);if(typeof r=="string"){const n=ye(this,ii).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bp(t);if(typeof r=="string"){const a=(n=ye(this,ii).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{ye(this,ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,ms).clear(),ye(this,ii).clear()})}getAll(){return Array.from(ye(this,ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Vk(r,n))}findAll(t={}){return this.getAll().filter(r=>Vk(t,r))}notify(t){zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ti))))}},ms=new WeakMap,ii=new WeakMap,qm=new WeakMap,qR);function Bp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function qk(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=DD(t.options,t.fetchOptions),x=async(b,_,j)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return p(O),O})(),k=await v(C),{maxPages:N}=t.options,R=j?y7:v7;return{pages:R(b.pages,k,N),pageParams:R(b.pageParams,_,N)}};if(a&&i.length){const b=a==="backward",_=b?T7:Kk,j={pages:i,pageParams:o},S=_(n,j);l=await x(j,S,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Kk(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,p;return(p=(g=t.options).persister)==null?void 0:p.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Kk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function T7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Tr,co,uo,Pu,ku,fo,Eu,Au,KR,R7=(KR=class{constructor(e={}){At(this,Tr);At(this,co);At(this,uo);At(this,Pu);At(this,ku);At(this,fo);At(this,Eu);At(this,Au);vt(this,Tr,e.queryCache||new k7),vt(this,co,e.mutationCache||new O7),vt(this,uo,e.defaultOptions||{}),vt(this,Pu,new Map),vt(this,ku,new Map),vt(this,fo,0)}mount(){gp(this,fo)._++,ye(this,fo)===1&&(vt(this,Eu,LD.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Tr).onFocus())})),vt(this,Au,mv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Tr).onOnline())})))}unmount(){var e,t;gp(this,fo)._--,ye(this,fo)===0&&((e=ye(this,Eu))==null||e.call(this),vt(this,Eu,void 0),(t=ye(this,Au))==null||t.call(this),vt(this,Au,void 0))}isFetching(e){return ye(this,Tr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,co).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Tr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ye(this,Tr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bj(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ye(this,Tr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ye(this,Tr).get(n.queryHash),i=a==null?void 0:a.state.data,o=d7(t,i);if(o!==void 0)return ye(this,Tr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zn.batch(()=>ye(this,Tr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Tr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ye(this,Tr);zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,Tr);return zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zn.batch(()=>ye(this,Tr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ti).catch(ti)}invalidateQueries(e,t={}){return zn.batch(()=>(ye(this,Tr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zn.batch(()=>ye(this,Tr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ti)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ti)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,Tr).build(this,t);return r.isStaleByTime(Bj(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ti).catch(ti)}fetchInfiniteQuery(e){return e.behavior=qk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ti).catch(ti)}ensureInfiniteQueryData(e){return e.behavior=qk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mv.isOnline()?ye(this,co).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Tr)}getMutationCache(){return ye(this,co)}getDefaultOptions(){return ye(this,uo)}setDefaultOptions(e){vt(this,uo,e)}setQueryDefaults(e,t){ye(this,Pu).set(Uh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Pu).values()],r={};return t.forEach(n=>{Vh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ye(this,ku).set(Uh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,ku).values()],r={};return t.forEach(n=>{Vh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,uo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,uo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,Tr).clear(),ye(this,co).clear()}},Tr=new WeakMap,co=new WeakMap,uo=new WeakMap,Pu=new WeakMap,ku=new WeakMap,fo=new WeakMap,Eu=new WeakMap,Au=new WeakMap,KR),M7=w.createContext(void 0),$7=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(M7.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}var po;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(po||(po={}));const Gk="popstate";function I7(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return zj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:pv(a)}return L7(t,r,null,e)}function kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D7(){return Math.random().toString(36).substr(2,8)}function Yk(e,t){return{usr:e.state,key:e.key,idx:t}}function zj(e,t,r,n){return r===void 0&&(r=null),Wh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bd(t):t,{state:r,key:t&&t.key||n||D7()})}function pv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function L7(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=po.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=po.Pop;let p=d(),v=p==null?null:p-u;u=p,c&&c({action:l,location:g.location,delta:v})}function h(p,v){l=po.Push;let x=zj(g.location,p,v);u=d()+1;let b=Yk(x,u),_=g.createHref(x);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(p,v){l=po.Replace;let x=zj(g.location,p,v);u=d();let b=Yk(x,u),_=g.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function y(p){let v=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof p=="string"?p:pv(p);return x=x.replace(/ $/,"%20"),kr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return l},get location(){return e(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gk,f),c=p,()=>{a.removeEventListener(Gk,f),c=null}},createHref(p){return t(a,p)},createURL:y,encodeLocation(p){let v=y(p);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(p){return o.go(p)}};return g}var Xk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xk||(Xk={}));function B7(e,t,r){return r===void 0&&(r="/"),F7(e,t,r,!1)}function F7(e,t,r,n){let a=typeof t=="string"?Bd(t):t,i=Vu(a.pathname||"/",r);if(i==null)return null;let o=WD(e);z7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Q7(i);l=X7(o[c],u,n)}return l}function WD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(kr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=To([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:G7(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of HD(i.path))a(i,o,c)}),t}function HD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=HD(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function z7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const U7=/^:[\w-]+$/,V7=3,W7=2,H7=1,q7=10,K7=-2,Zk=e=>e==="*";function G7(e,t){let r=e.split("/"),n=r.length;return r.some(Zk)&&(n+=K7),t&&(n+=W7),r.filter(a=>!Zk(a)).reduce((a,i)=>a+(U7.test(i)?V7:i===""?H7:q7),n)}function Y7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function X7(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=gv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=gv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:To([i,f.pathname]),pathnameBase:rK(To([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=To([i,f.pathnameBase]))}return o}function gv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Z7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),VD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Q7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return VD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function J7(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bd(e):e;return{pathname:r?r.startsWith("/")?r:eK(r,t):t,search:nK(n),hash:aK(a)}}function eK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Eb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pC(e,t){let r=tK(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Bd(e):(a=Wh({},e),kr(!a.pathname||!a.pathname.includes("?"),Eb("?","pathname","search",a)),kr(!a.pathname||!a.pathname.includes("#"),Eb("#","pathname","hash",a)),kr(!a.search||!a.search.includes("#"),Eb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=J7(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),rK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qD=["post","put","patch","delete"];new Set(qD);const sK=["get",...qD];new Set(sK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}const Sx=w.createContext(null),KD=w.createContext(null),Ds=w.createContext(null),Cx=w.createContext(null),Yo=w.createContext({outlet:null,matches:[],isDataRoute:!1}),GD=w.createContext(null);function oK(e,t){let{relative:r}=t===void 0?{}:t;Fd()||kr(!1);let{basename:n,navigator:a}=w.useContext(Ds),{hash:i,pathname:o,search:l}=Nx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:To([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Fd(){return w.useContext(Cx)!=null}function dc(){return Fd()||kr(!1),w.useContext(Cx).location}function YD(e){w.useContext(Ds).static||w.useLayoutEffect(e)}function np(){let{isDataRoute:e}=w.useContext(Yo);return e?bK():lK()}function lK(){Fd()||kr(!1);let e=w.useContext(Sx),{basename:t,future:r,navigator:n}=w.useContext(Ds),{matches:a}=w.useContext(Yo),{pathname:i}=dc(),o=JSON.stringify(pC(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return YD(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=gC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:To([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Nx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(Ds),{matches:a}=w.useContext(Yo),{pathname:i}=dc(),o=JSON.stringify(pC(a,n.v7_relativeSplatPath));return w.useMemo(()=>gC(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function cK(e,t){return uK(e,t)}function uK(e,t,r,n){Fd()||kr(!1);let{navigator:a}=w.useContext(Ds),{matches:i}=w.useContext(Yo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=dc(),d;if(t){var f;let p=typeof t=="string"?Bd(t):t;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||kr(!1),d=p}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let y=B7(e,{pathname:m}),g=pK(y&&y.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:To([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:To([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return t&&g?w.createElement(Cx.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:po.Pop}},g):g}function dK(){let e=xK(),t=iK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const fK=w.createElement(dK,null);class hK extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Yo.Provider,{value:this.props.routeContext},w.createElement(GD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mK(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(Sx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Yo.Provider,{value:t},n)}function pK(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||kr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,g=null,p=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||fK,c&&(u<0&&h===0?(y=!0,p=null):u===h&&(y=!0,p=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=g:y?b=p:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(mK,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(hK,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var XD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XD||{}),vv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vv||{});function gK(e){let t=w.useContext(Sx);return t||kr(!1),t}function vK(e){let t=w.useContext(KD);return t||kr(!1),t}function yK(e){let t=w.useContext(Yo);return t||kr(!1),t}function ZD(e){let t=yK(),r=t.matches[t.matches.length-1];return r.route.id||kr(!1),r.route.id}function xK(){var e;let t=w.useContext(GD),r=vK(vv.UseRouteError),n=ZD(vv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bK(){let{router:e}=gK(XD.UseNavigateStable),t=ZD(vv.UseNavigateStable),r=w.useRef(!1);return YD(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Hh({fromRouteId:t},i)))},[e,t])}function wK(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yv(e){let{to:t,replace:r,state:n,relative:a}=e;Fd()||kr(!1);let{future:i,static:o}=w.useContext(Ds),{matches:l}=w.useContext(Yo),{pathname:c}=dc(),u=np(),d=gC(t,pC(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Lr(e){kr(!1)}function jK(e){let{basename:t="/",children:r=null,location:n,navigationType:a=po.Pop,navigator:i,static:o=!1,future:l}=e;Fd()&&kr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Hh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Bd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,g=w.useMemo(()=>{let p=Vu(d,c);return p==null?null:{location:{pathname:p,search:f,hash:h,state:m,key:y},navigationType:a}},[c,d,f,h,m,y,a]);return g==null?null:w.createElement(Ds.Provider,{value:u},w.createElement(Cx.Provider,{children:r,value:g}))}function _K(e){let{children:t,location:r}=e;return cK(Uj(t),r)}new Promise(()=>{});function Uj(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Uj(n.props.children,i));return}n.type!==Lr&&kr(!1),!n.props.index||!n.props.children||kr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Uj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function QD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function SK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CK(e,t){return e.button===0&&(!t||t==="_self")&&!SK(e)}const NK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PK=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kK="6";try{window.__reactRouterVersion=kK}catch{}const EK=w.createContext({isTransitioning:!1}),AK="startTransition",Qk=tS[AK];function OK(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=I7({window:a,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&Qk?Qk(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>wK(n),[n]),w.createElement(jK,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const TK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MK=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=QD(t,NK),{basename:m}=w.useContext(Ds),y,g=!1;if(typeof u=="string"&&RK.test(u)&&(y=u,TK))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Vu(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let p=oK(u,{relative:a}),v=IK(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||v(b)}return w.createElement("a",xv({},h,{href:y||p,onClick:g||i?n:x,ref:r,target:c}))}),Jk=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=QD(t,PK),h=Nx(c,{relative:f.relative}),m=dc(),y=w.useContext(KD),{navigator:g,basename:p}=w.useContext(Ds),v=y!=null&&DK(h)&&u===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&p&&(_=Vu(_,p)||_);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!o&&b.startsWith(x)&&b.charAt(j)==="/",C=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),k={isActive:S,isPending:C,isTransitioning:v},N=S?n:void 0,R;typeof i=="function"?R=i(k):R=[i,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(k):l;return w.createElement(MK,xv({},f,{"aria-current":N,className:R,ref:r,style:O,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var Vj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vj||(Vj={}));var eE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eE||(eE={}));function $K(e){let t=w.useContext(Sx);return t||kr(!1),t}function IK(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=np(),u=dc(),d=Nx(e,{relative:o});return w.useCallback(f=>{if(CK(f,r)){f.preventDefault();let h=n!==void 0?n:pv(u)===pv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function DK(e,t){t===void 0&&(t={});let r=w.useContext(EK);r==null&&kr(!1);let{basename:n}=$K(Vj.useViewTransitionState),a=Nx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Vu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Vu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gv(a.pathname,o)!=null||gv(a.pathname,i)!=null}const LK=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,priceHT_B2B:690,priceHT_OEM:520,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,priceHT_B2B:1200,priceHT_OEM:900,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,priceHT_B2B:420,priceHT_OEM:320,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,priceHT_B2B:750,priceHT_OEM:580,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],BK=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],FK=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],vC=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function zK(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,o=i+a;return t>=i&&t<o?r+n.devCost/a:r},0)}function UK(e,t,r){let n=0,a=0;return e.forEach(i=>{const o=i.volumesByChannel;if(o){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,d=i.coef_oem||1.4,f=l/c/u,h=i.unitCost*d,m=Math.round((o.B2C[t]||0)*(1+r.volumeAdjustment));n+=m*l*(1+r.priceAdjustment),a+=m*i.unitCost;const y=Math.round((o.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),a+=y*i.unitCost;const g=Math.round((o.OEM[t]||0)*(1+r.volumeAdjustment));n+=g*h*(1+r.priceAdjustment),a+=g*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function VK(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function WK(e,t,r,n,a,i,o="detailed",l){if(o==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=a*(u.volumeRatio||0);break;case"step":const m=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();m&&(d=m.newAnnualCost);break}d=d*(1+i.opexAdjustment),c+=d}),c}function HK(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function qK(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,o=a.launchYear,l=o+i;if(t>=o&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function KK(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),o=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+o+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function GK(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function YK(e,t,r,n,a,i,o,l,c="detailed",u){const d=[];let f=a,h=a,m=a,y=0,g=null,p=0,v=0,x=0;const b=GK(e);for(let C=0;C<o;C++){const k=i+C,N=f,{revenue:R,cogs:O}=UK(e,k,l),{payroll:E,headcount:T}=VK(t,k),P=KK(e,k,l),A=WK(r,k,i,R,P,l,c,u),$=HK(e,k),{total:M,byProduct:L}=qK(e,k);v+=$,x+=M;const B=R-O,z=R>0?B/R:0,re=B-E-A,ee=R>0?re/R:0,se=re-M,U=O+E+A+$,V=R-U,K=n.filter($e=>$e.year===k),q=K.reduce(($e,qe)=>$e+qe.amount,0);p+=q;const me=V/4,D={Q1:0,Q2:0,Q3:0,Q4:0};let G=N,W=N;["Q1","Q2","Q3","Q4"].forEach($e=>{const ge=K.filter(Pe=>Pe.quarter===$e).reduce((Pe,Ze)=>Pe+Ze.amount,0);W+=me+ge,D[$e]=W,W<G&&(G=W)});const Q=N+V+q;f=Q,G<h&&(h=G);const we=a+d.reduce(($e,qe)=>$e+qe.cashFlow,0)+V;we<m&&(m=we),V<0&&Math.abs(V)>y&&(y=Math.abs(V)),g===null&&V>0&&(g=k),d.push({year:k,revenue:R,fundingInjection:q,cogs:O,payroll:E,opex:A,capex:$,grossMargin:B,grossMarginRate:z,ebitda:re,ebitdaMargin:ee,depreciation:M,depreciationByProduct:L,operatingResult:se,totalCosts:U,cashFlow:V,treasuryStart:N,treasuryEnd:Q,quarterlyTreasury:D,minTreasuryInYear:G,headcount:T})}const _=Math.max(0,-m),j=y/12,S=j>0?Math.floor(a/j):999;return{years:d,initialCash:a,totalFundingRaised:p,fundingNeed:_,minTreasury:h,breakEvenYear:g,maxBurn:y,runway:S,productAmortizations:b,totalCapex:v,totalDepreciation:x}}const XK=["Q1","Q2","Q3","Q4"],Pl=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function ZK(){return[{delayMonths:0,percentage:100}]}function tE(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function JD(){return{revenueSeasonality:tE(),cogsSeasonality:tE(),cogsPaymentTerms:ZK(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function rE(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function QK(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=tG(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<a&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,o=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((o-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(o<=i)return n;if(e.frequency==="monthly"){const l=o-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const g=d*c,p=u-g;d-=p,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,p),interest:g,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((o-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f*3,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const g=d*c,p=u-g;d-=p,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,p),interest:g,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((o-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,m=e.startDate.month;if(h<t||h>=a)continue;const y=d*c,g=u-y;d-=g,n.push({loanId:e.id,loanName:e.name,year:h,month:m,principal:Math.max(0,g),interest:y,total:u,isManuallyModified:!1})}}return n}function JK(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function eG(e,t,r,n,a,i,o=!1){var R,O;const l=[];let c=n,u=n,d=null,f=null,h=0,m=0,y=0,g=0;const p=rE(e.revenueSeasonality),v=rE(e.cogsSeasonality),x=e.cogsPaymentTerms&&e.cogsPaymentTerms.length>0?e.cogsPaymentTerms:[{delayMonths:0,percentage:100}],b=x.reduce((E,T)=>E+T.percentage,0),_=b>0?x.map(E=>({...E,percentage:E.percentage/b})):[{delayMonths:0,percentage:1}],j=[];e.loans.forEach(E=>{j.push(...QK(E,a,i))});const S=e.capexPayments||[],C=i*12,k=[];for(let E=0;E<i;E++){const T=a+E,A=(t.annualCogs[T]||0)/12;for(let $=0;$<12;$++)k.push(A*v[$])}const N=new Array(C+24).fill(0);k.forEach((E,T)=>{_.forEach(P=>{const A=T+P.delayMonths;A<N.length&&(N[A]+=E*P.percentage)})});for(let E=0;E<i;E++){const T=a+E,P=t.annualRevenue[T]||0,A=t.annualPayroll[T]||0,$=t.annualOpex[T]||0,M=P/12,L=A/12,B=$/12;for(let z=0;z<12;z++){const re=z,ee=c,se=M*p[z];let U=0;if(!o){const F=JK(re);z%3===0&&r.forEach(oe=>{oe.year===T&&oe.quarter===F&&(U+=oe.amount,h+=oe.amount)})}const V=`${T}-${re.toString().padStart(2,"0")}`,K=((R=e.otherInflows[V])==null?void 0:R.amount)||0,q=se+U+K,me=E*12+z,D=N[me]||0;let G=0;const W=[];e.variableCharges.forEach(F=>{const Z=se*F.rateOfRevenue;G+=Z,W.push({name:F.name,amount:Z})}),m+=G;const X=j.filter(F=>F.year===T&&F.month===re),Q=X.reduce((F,Z)=>F+Z.total,0);y+=Q;const we=S.filter(F=>F.year===T&&F.month===re),$e=we.reduce((F,Z)=>F+Z.amount,0);g+=$e;const qe=((O=e.otherOutflows[V])==null?void 0:O.amount)||0,ge=D+L+B+G+Q+$e+qe,Pe=q-ge,Ze=ee+Pe;Ze<u&&(u=Ze,d={year:T,month:re}),f===null&&Pe>0&&l.length>0&&l.slice(-3).some(Z=>Z.netCashFlow<0)&&(f={year:T,month:re}),l.push({year:T,month:re,monthName:Pl[z],revenue:se,fundingInjection:U,otherInflows:K,totalInflows:q,cogs:D,payroll:L,opex:B,variableCharges:G,loanPayments:Q,capexPayments:$e,otherOutflows:qe,totalOutflows:ge,treasuryStart:ee,netCashFlow:Pe,treasuryEnd:Ze,loanPaymentDetails:X,variableChargeDetails:W,capexPaymentDetails:we}),c=Ze}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:m,totalLoanPayments:y,totalCapexPayments:g}}function tG(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function zd(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const Ft=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ft.displayName="Card";const hr=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...t}));hr.displayName="CardHeader";const mr=w.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));mr.displayName="CardTitle";const js=w.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...t}));js.displayName="CardDescription";const Qt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("p-6 pt-0",e),...t}));Qt.displayName="CardContent";const rG=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...t}));rG.displayName="CardFooter";function Pt({label:e,value:t,subValue:r,trend:n,className:a}){return s.jsx(Ft,{className:de("",a),children:s.jsxs(Qt,{className:"pt-4 pb-3",children:[s.jsx("div",{className:"kpi-label mb-1",children:e}),s.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&s.jsx(Bo,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&s.jsx(ah,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function Ye({title:e,children:t,id:r,className:n,action:a}){return s.jsxs(Ft,{className:de("",n),id:r,children:[s.jsxs(hr,{className:"pb-3 flex flex-row items-center justify-between",children:[s.jsx(mr,{className:"text-lg",children:e}),a]}),s.jsx(Qt,{children:t})]})}const be=w.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";function qh(e,[t,r]){return Math.min(r,Math.max(t,e))}var nG=w.createContext(void 0);function Ud(e){const t=w.useContext(nG);return e||t||"ltr"}function Px(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var e3=["PageUp","PageDown"],t3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],r3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vd="Slider",[Wj,aG,iG]=ux(Vd),[n3,v2e]=Yn(Vd,[iG]),[sG,kx]=n3(Vd),a3=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=e,p=w.useRef(new Set),v=w.useRef(0),b=o==="horizontal"?oG:lG,[_=[],j]=ia({prop:d,defaultProp:u,onChange:O=>{var T;(T=[...p.current][v.current])==null||T.focus(),f(O)}}),S=w.useRef(_);function C(O){const E=hG(_,O);R(O,E)}function k(O){R(O,v.current)}function N(){const O=S.current[v.current];_[v.current]!==O&&h(_)}function R(O,E,{commit:T}={commit:!1}){const P=vG(i),A=yG(Math.round((O-n)/i)*i+n,P),$=qh(A,[n,a]);j((M=[])=>{const L=dG(M,$,E);if(gG(L,c*i)){v.current=L.indexOf($);const B=String(L)!==String(M);return B&&T&&h(L),B?L:M}else return M})}return s.jsx(sG,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:p.current,values:_,orientation:o,form:y,children:s.jsx(Wj.Provider,{scope:e.__scopeSlider,children:s.jsx(Wj.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Te(g.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&R(n,0,{commit:!0}),onEndKeyDown:()=>!l&&R(a,_.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:E})=>{if(!l){const A=e3.includes(O.key)||O.shiftKey&&t3.includes(O.key)?10:1,$=v.current,M=_[$],L=i*A*E;R(M+L,$,{commit:!0})}}})})})})});a3.displayName=Vd;var[i3,s3]=n3(Vd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oG=w.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=w.useState(null),m=ft(t,b=>h(b)),y=w.useRef(void 0),g=Ud(a),p=g==="ltr",v=p&&!i||!p&&i;function x(b){const _=y.current||f.getBoundingClientRect(),j=[0,_.width],C=yC(j,v?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return s.jsx(i3,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(o3,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=r3[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),lG=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=w.useRef(null),f=ft(t,d),h=w.useRef(void 0),m=!a;function y(g){const p=h.current||d.current.getBoundingClientRect(),v=[0,p.height],b=yC(v,m?[n,r]:[r,n]);return h.current=p,b(g-p.top)}return s.jsx(i3,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(o3,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=y(g.clientY);i==null||i(p)},onSlideMove:g=>{const p=y(g.clientY);o==null||o(p)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=r3[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),o3=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=kx(Vd,r);return s.jsx(He.span,{...u,ref:t,onKeyDown:Te(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):e3.concat(t3).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Te(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Te(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Te(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),l3="SliderTrack",c3=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=kx(l3,r);return s.jsx(He.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});c3.displayName=l3;var Hj="SliderRange",u3=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=kx(Hj,r),i=s3(Hj,r),o=w.useRef(null),l=ft(t,o),c=a.values.length,u=a.values.map(h=>h3(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(He.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});u3.displayName=Hj;var qj="SliderThumb",d3=w.forwardRef((e,t)=>{const r=aG(e.__scopeSlider),[n,a]=w.useState(null),i=ft(t,l=>a(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(cG,{...e,ref:i,index:o})}),cG=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=kx(qj,r),l=s3(qj,r),[c,u]=w.useState(null),d=ft(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=vx(c),m=o.values[n],y=m===void 0?0:h3(m,o.min,o.max),g=fG(n,o.values.length),p=h==null?void 0:h[l.size],v=p?mG(p,y,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[s.jsx(Wj.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(He.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Te(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(f3,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});d3.displayName=qj;var uG="RadioBubbleInput",f3=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=w.useRef(null),i=ft(a,n),o=Px(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(He.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});f3.displayName=uG;function dG(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function h3(e,t,r){const i=100/(r-t)*(e-t);return qh(i,[0,100])}function fG(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function hG(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function mG(e,t,r){const n=e/2,i=yC([0,50],[0,n]);return(n-i(t)*r)*r}function pG(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function gG(e,t){if(t>0){const r=pG(e);return Math.min(...r)>=t}return!0}function yC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function vG(e){return(String(e).split(".")[1]||"").length}function yG(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var m3=a3,xG=c3,bG=u3,wG=d3;const zr=w.forwardRef(({className:e,...t},r)=>s.jsxs(m3,{ref:r,className:de("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(xG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(bG,{className:"absolute h-full bg-primary"})}),s.jsx(wG,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zr.displayName=m3.displayName;const xC=Rd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?cI:"button";return s.jsx(o,{className:de(xC({variant:t,size:r,className:e})),ref:i,...a})});ae.displayName="Button";function te(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function rn(e){return`${(e*100).toFixed(1)}%`}const bv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function Kh(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function Kj(e,t){const r=e.marginRates||bv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function jG(e,t){return Kh(e,t)-Kj(e,t)}const Ab=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function _G({config:e,onChange:t,years:r}){const n=e.marginRates||bv.marginRates,a=e.growthRates||bv.growthRates,i=(m,y,g)=>{t({...e,[m]:{...e[m],[y]:g}})},o=(m,y)=>{t({...e,marginRates:{...n,[m]:y}})},l=(m,y)=>{t({...e,growthRates:{...a,[m]:y}})},c=m=>{const y=r[0],g=e[m][y]||0;if(g<=0)return;const p=a[m],v={...e[m]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(g*Math.pow(1+p,b)))}),t({...e,[m]:v})},u=()=>{let m={...e};Ab.forEach(({key:y})=>{const g=e[y][r[0]]||0;if(g<=0)return;const p=a[y],v={...e[y]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(g*Math.pow(1+p,b)))}),m={...m,[y]:v}}),t(m)},d=r.reduce((m,y)=>m+Kh(e,y),0),f=r.reduce((m,y)=>m+Kj(e,y),0),h=d>0?f/d:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ye,{title:"Paramtres par Canal",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ab.map(m=>s.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[s.jsx("div",{className:"font-medium text-sm",children:m.label}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de croissance"}),s.jsxs("span",{className:"font-mono",children:[(a[m.key]*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[a[m.key]*100],onValueChange:([y])=>l(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de marge"}),s.jsxs("span",{className:"font-mono",children:[(n[m.key]*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[n[m.key]*100],onValueChange:([y])=>o(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(m.key),children:[s.jsx(Nk,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},m.key))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(ae,{variant:"default",size:"sm",onClick:u,children:[s.jsx(Nk,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),s.jsx(Ye,{title:"CA Global par Canal",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(m=>s.jsx("th",{className:"text-center py-2 px-3",children:m},m)),s.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),s.jsxs("tbody",{children:[Ab.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:[m.label,s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[m.key]*100).toFixed(0),"%)"]})]}),r.map(y=>s.jsx("td",{className:"py-2 px-3 text-center",children:s.jsx(be,{type:"number",value:e[m.key][y]||0,onChange:g=>i(m.key,y,Number(g.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:te(r.reduce((y,g)=>y+(e[m.key][g]||0),0),!0)})]},m.key)),s.jsxs("tr",{className:"font-semibold border-t",children:[s.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:te(Kh(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(d,!0)})]}),s.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",s.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:te(Kj(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:te(f,!0)})]})]})]})})})]})}var SG="Label",p3=w.forwardRef((e,t)=>s.jsx(He.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));p3.displayName=SG;var g3=p3;const CG=Rd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ne=w.forwardRef(({className:e,...t},r)=>s.jsx(g3,{ref:r,className:de(CG(),e),...t}));Ne.displayName=g3.displayName;const NG={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function PG({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*e.ocRatio,a=e.totalRaise*(1-e.ocRatio),i=r+a,o=i>0?a/i:0;return s.jsx(Ye,{title:"Simulation de Dilution",id:"valuation-dilution",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ne,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%  Equity: ",((1-e.ocRatio)*100).toFixed(0),"%"]}),s.jsx(zr,{value:[e.ocRatio*100],onValueChange:([l])=>t({...e,ocRatio:l/100}),min:0,max:99,step:1})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:te(r,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part OC"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:te(n,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(e.ocRatio*100).toFixed(0),"% de la leve"]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part Equity"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:te(a,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[((1-e.ocRatio)*100).toFixed(0),"% de la leve"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:te(i,!0)})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution (equity uniquement)"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:rn(o)})]})]})]})})}var Ii=function(){return Ii=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ii.apply(this,arguments)};function Wd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function kG(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function EG(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const AG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class OG extends bC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nE extends bC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aE extends bC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gj||(Gj={}));class TG{constructor(t,{headers:r={},customFetch:n,region:a=Gj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=AG(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kG(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let p=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(p=o.signal,d.addEventListener("abort",()=>o.abort())):p=o.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:p}).catch(j=>{throw new OG(j)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new nE(v);if(!v.ok)throw new aE(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof aE||l instanceof nE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var RG=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},MG=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),p=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&p&&p.length>1&&(c=parseInt(p[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new RG(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},$G=class extends MG{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const iE=new RegExp("[,()]");var $c=class extends $G{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},IG=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new $c({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new $c({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new $c({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new $c({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new $c({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},DG=class v3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new IG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new v3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new $c({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class LG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const BG="2.93.3",FG=`realtime-js/${BG}`,zG="1.0.0",y3="2.0.0",sE=y3,Yj=1e4,UG=1e3,VG=100;var eo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(eo||(eo={}));var Zr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zr||(Zr={}));var oi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oi||(oi={}));var Xj;(function(e){e.websocket="websocket"})(Xj||(Xj={}));var wl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wl||(wl={}));class WG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,l.length),y.setUint8(g++,o.length),y.setUint8(g++,u.length),y.setUint8(g++,f.length),y.setUint8(g++,r),Array.from(c,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(g++,v.charCodeAt(0)));var p=new Uint8Array(m.byteLength+n.byteLength);return p.set(new Uint8Array(m),0),p.set(new Uint8Array(n),m.byteLength),p.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class x3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nr||(nr={}));const oE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=HG(o,e,t,a),i),{}):{}},HG=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?b3(i,o):Zj(o)},b3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YG(t,r)}switch(e){case nr.bool:return qG(t);case nr.float4:case nr.float8:case nr.int2:case nr.int4:case nr.int8:case nr.numeric:case nr.oid:return KG(t);case nr.json:case nr.jsonb:return GG(t);case nr.timestamp:return XG(t);case nr.abstime:case nr.date:case nr.daterange:case nr.int4range:case nr.int8range:case nr.money:case nr.reltime:case nr.text:case nr.time:case nr.timestamptz:case nr.timetz:case nr.tsrange:case nr.tstzrange:return Zj(t);default:return Zj(t)}},Zj=e=>e,qG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},YG=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>b3(t,l))}return e},XG=e=>typeof e=="string"?e.replace(" ","T"):e,w3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ob{constructor(t,r,n={},a=Yj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lE||(lE={}));class ih{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ih.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ih.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ih.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(p=>p.presence_ref),m=f.map(p=>p.presence_ref),y=d.filter(p=>m.indexOf(p.presence_ref)<0),g=f.filter(p=>h.indexOf(p.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cE||(cE={}));var sh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sh||(sh={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class tu{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ob(this,oi.join,this.params,this.timeout),this.rejoinTimer=new x3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ih(this),this.broadcastEndpointURL=w3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[sh.PRESENCE]&&this.bindings[sh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ds.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ds.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<p;x++){const b=g[x],{filter:{event:_,schema:j,table:S,filter:C}}=b,k=m&&m[x];if(k&&k.event===_&&tu.isFilterValueEqual(k.schema,j)&&tu.isFilterValueEqual(k.table,S)&&tu.isFilterValueEqual(k.filter,C))v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=Zr.errored,t==null||t(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ds.SUBSCRIBED);return}}).receive("error",m=>{this.state=Zr.errored,t==null||t(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Zr.joined&&t===sh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Ob(this,oi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ob(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VG){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oi;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,g,p;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((p=(g=m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,p,v,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const _=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:p,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oi.close,{},t)}_onError(t){this._on(oi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=oE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=oE(t.columns,t.old_record)),r}}const Tb=()=>{},Fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZG=[1e3,2e3,5e3,1e4],QG=1e4,JG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eY{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yj,this.transport=null,this.heartbeatIntervalMs=Fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tb,this.ref=0,this.reconnectTimer=null,this.vsn=sE,this.logger=Tb,this.conn=null,this.sendBuffer=[],this.serializer=new WG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xj.websocket}`,this.httpEndpoint=w3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case eo.connecting:return wl.Connecting;case eo.open:return wl.Open;case eo.closing:return wl.Closing;default:return wl.Closed}}isConnected(){return this.connectionState()===wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new tu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(UG,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===eo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===eo.open||this.conn.readyState===eo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(oi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JG],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:FG};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(oi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new x3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yj,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Fp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Tb,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:sE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>ZG[y-1]||QG,this.vsn){case zG:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,g)=>g(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case y3:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tY(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function rY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=tY(e.baseUrl,n,a),c=await rY(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new Gh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function zp(e){return e.join("")}var aY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:zp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zp(e.namespace)}`}),!0}catch(t){if(t instanceof Gh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Gh&&r.status===409)return;throw r}}};function vc(e){return e.join("")}var iY=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Gh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Gh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},sY=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nY({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aY(this.client,t),this.tableOps=new iY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ex=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ax(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Up=class extends Ex{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},j3=class extends Ex{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const oY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qj=e=>{if(Array.isArray(e))return e.map(r=>Qj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Qj(n)}),t},cY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function uY(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dY(e){var t=uY(e,"string");return Yh(t)=="symbol"?t:t+""}function fY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){fY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const dE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},hY=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Up(dE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Up(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Up(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Up(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new j3(dE(e),e,n))},mY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?at(at({},a),r):(lY(n)?(a.headers=at({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),at(at({},a),r))};async function wf(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,mY(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>hY(u,c,n,o))})}function _3(e="storage"){return{get:async(t,r,n,a)=>wf(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>wf(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>wf(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>wf(t,"HEAD",r,at(at({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>wf(t,"DELETE",r,a,i,n,e)}}const pY=_3("storage"),{get:Xh,post:ri,put:Jj,head:gY,remove:wC}=pY,pa=_3("vectors");var Hd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=oY(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ax(r))return{data:null,error:r};throw r}}},vY=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}}};let S3;S3=Symbol.toStringTag;var yY=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[S3]="BlobDownloadBuilder",this.promise=null}asStream(){return new vY(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}}};const xY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bY=class extends Hd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=at(at({},fE),n);let l=at(at({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=at(at({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?Jj:ri)(a.fetch,`${a.url}/object/${d}`,i,at({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=at({upsert:fE.upsert},n),d=at(at({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Jj(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=at({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ri(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ex("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ri(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ri(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await ri(n.fetch,`${n.url}/object/sign/${a}`,at({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ri(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>at(at({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Xh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new yY(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Qj(await Xh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await gY(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ax(n)&&n instanceof j3){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await wC(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=at(at(at({},xY),t),{},{prefix:e||""});return await ri(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=at({},e);return await ri(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const wY="2.93.3",ap={"X-Client-Info":`storage-js/${wY}`};var jY=class extends Hd{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=at(at({},ap),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Xh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Xh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ri(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Jj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ri(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},_Y=class extends Hd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},ap),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ri(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Xh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!cY(e))throw new Ex("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new sY({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},SY=class extends Hd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},ap),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await pa.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await pa.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},CY=class extends Hd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},ap),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},NY=class extends Hd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},ap),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},PY=class extends NY{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new kY(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},kY=class extends SY{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new EY(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},EY=class extends CY{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},AY=class extends jY{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new bY(this.url,this.headers,e,this.fetch)}get vectors(){return new PY(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _Y(this.url+"/iceberg",this.headers,this.fetch)}};const C3="2.93.3",Ic=30*1e3,e1=3,Rb=e1*Ic,OY="http://localhost:9999",TY="supabase.auth.token",RY={"X-Client-Info":`gotrue-js/${C3}`},t1="X-Supabase-Api-Version",N3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$Y=10*60*1e3;class Zh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IY extends Zh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DY(e){return Ge(e)&&e.name==="AuthApiError"}class jl extends Zh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ls extends Zh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends Ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mb(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class yc extends Ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vp extends Ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wp extends Ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LY(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class hE extends Ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BY extends Ls{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class r1 extends Ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $b(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class mE extends Ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class n1 extends Ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pE=` 	
\r=`.split(""),FY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pE.length;t+=1)e[pE[t].charCodeAt(0)]=-2;for(let t=0;t<wv.length;t+=1)e[wv[t].charCodeAt(0)]=t;return e})();function gE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wv[n]),t.queuedBits-=6}}function P3(e,t,r){const n=FY[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{VY(o,n,r)};for(let o=0;o<e.length;o+=1)P3(e.charCodeAt(o),a,i);return t.join("")}function zY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UY(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zY(n,t)}}function VY(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)P3(e.charCodeAt(a),r,n);return new Uint8Array(t)}function WY(e){const t=[];return UY(e,r=>t.push(r)),new Uint8Array(t)}function kl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>gE(a,r,n)),gE(null,r,n),t.join("")}function HY(e){return Math.round(Date.now()/1e3)+e}function qY(){return Symbol("auth-callback")}const gn=()=>typeof window<"u"&&typeof document<"u",ol={tested:!1,writable:!1},k3=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ol.tested)return ol.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ol.tested=!0,ol.writable=!0}catch{ol.tested=!0,ol.writable=!1}return ol.writable};function KY(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const E3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ll=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pn=async(e,t)=>{await e.removeItem(t)};class Ox{constructor(){this.promise=new Ox.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ox.promiseConstructor=Promise;function Hp(e){const t=e.split(".");if(t.length!==3)throw new n1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!MY.test(t[n]))throw new n1("JWT not in base64url format");return{header:JSON.parse(vE(t[0])),payload:JSON.parse(vE(t[1])),signature:gu(t[2]),raw:{header:t[0],payload:t[1]}}}async function YY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XY(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function ZY(e){return("0"+e.toString(16)).substr(-2)}function QY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,ZY).join("")}async function JY(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function eX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await JY(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(e,t,r=!1){const n=QY();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Dc(e,`${t}-code-verifier`,a);const i=await eX(n);return[i,n===i?"plain":"s256"]}const tX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rX(e){const t=e.headers.get(t1);if(!t||!t.match(tX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function aX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bc(e){if(!iX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ib(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sX(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function yE(e){return JSON.parse(JSON.stringify(e))}const pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oX=[502,503,504];async function xE(e){var t;if(!GY(e))throw new r1(pl(e),0);if(oX.includes(e.status))throw new r1(pl(e),e.status);let r;try{r=await e.json()}catch(i){throw new jl(pl(i),i)}let n;const a=rX(e);if(a&&a.getTime()>=N3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mE(pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mE(pl(r),e.status,r.weak_password.reasons);throw new IY(pl(r),e.status||500,n)}const lX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function tt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[t1]||(i[t1]=N3["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cX(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function cX(e,t,r,n,a,i){const o=lX(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new r1(pl(c),0)}if(l.ok||await xE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xE(c)}}function Qa(e){var t;let r=null;fX(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=HY(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bE(e){const t=Qa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function io(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uX(e){return{data:e,error:null}}function dX(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Wd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function wE(e){return e}function fX(e){return e.access_token&&e.refresh_token&&e.expires_in}const Db=["global","local","others"];class hX{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=E3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Db[0]){if(Db.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Db.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:io})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Wd(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:dX,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:io})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(y.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bc(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:io})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bc(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:io})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bc(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:io})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bc(t.userId);try{const{data:r,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bc(t.userId),bc(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(y.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ge(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}function jE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const wc={debug:!!(globalThis&&k3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mX extends A3{}async function pX(e,t,r){wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function O3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vX(e){return parseInt(e,16)}function yX(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xX(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=O3(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",p=`${y} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${p}
${v}`}class Hr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class jv extends Hr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function bX({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(T3(o)){if(i.rp.id!==o)return new Hr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function wX({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(T3(n)){if(r.rpId!==n)return new Hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class jX{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _X=new jX;function SX(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Wd(e,["challenge","user","excludeCredentials"]),i=gu(t).buffer,o=Object.assign(Object.assign({},r),{id:gu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:gu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function CX(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Wd(e,["challenge","allowCredentials"]),a=gu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:gu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function NX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:kl(new Uint8Array(e.response.attestationObject)),clientDataJSON:kl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kl(new Uint8Array(a.authenticatorData)),clientDataJSON:kl(new Uint8Array(a.clientDataJSON)),signature:kl(new Uint8Array(a.signature)),userHandle:a.userHandle?kl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _E(){var e,t;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kX(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jv("Browser returned unexpected credential type",t)}:{data:null,error:new jv("Empty credential response",t)}}catch(t){return{data:null,error:bX({error:t,options:e})}}}async function EX(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jv("Browser returned unexpected credential type",t)}:{data:null,error:new jv("Empty credential response",t)}}catch(t){return{data:null,error:wX({error:t,options:e})}}}const AX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _v(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=_v(l,o):n[i]=_v(o)}else n[i]=o}return n}function TX(e,t){return _v(AX,e,t||{})}function RX(e,t){return _v(OX,e,t||{})}class MX{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??_X.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=TX(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await kX({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=RX(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await EX(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Ge(l)?{data:null,error:l}:{data:null,error:new jl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Zh("rpId is required for WebAuthn authentication")};try{if(!_E())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new jl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Zh("rpId is required for WebAuthn registration")};try{if(!_E())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new jl("Unexpected error in register",o)}}}}gX();const $X={url:OY,storageKey:TY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function SE(e,t,r){return await r()}const jc={};class Qh{get jwks(){var t,r;return(r=(t=jc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},$X),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Qh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&gn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=E3(i.fetch),this.lock=i.lock||SE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pX:this.lock=SE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:k3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jE(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${C3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(gn()&&(r=KY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),LY(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new jl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qa}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await xc(this.storage,this.storageKey)),i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Qa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qa})}else throw new Vp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await pn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bE})}else throw new Vp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new yc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:g,wallet:p,statement:v,options:x}=t;let b;if(gn())if(typeof p=="object")b=p;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=O3(j[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const N=await b.request({method:"eth_chainId"});C=vX(N)}const k={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=xX(k),y=await b.request({method:"personal_sign",params:[yX(m),S]})}try{const{data:g,error:p}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qa});if(p)throw p;if(!g||!g.session||!g.user){const v=new yc;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:p})}catch(g){if(Ge(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:x,options:b}=t;let _;if(gn())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:p,error:v}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:kl(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qa});if(v)throw v;if(!p||!p.session||!p.user){const x=new yc;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(Ge(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async _exchangeCodeForSession(t){const r=await ll(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new BY;const{data:i,error:o}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qa});if(await pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new yc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qa}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new yc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xc(this.storage,this.storageKey));const{error:f}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Vp("You must provide either an email or phone number.")}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await xc(this.storage,this.storageKey));const u=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:uX});return!((i=u.data)===null||i===void 0)&&i.url&&gn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Vp("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ll(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ll(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ib()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=sX(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:io}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:io})})}catch(r){if(Ge(r))return Mb(r)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xc(this.storage,this.storageKey));const{data:u,error:d}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:io});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Hp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!gn())throw new Wp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Wp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ic&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:p}=await this._getUser(i);if(p)throw p;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ll(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!Mb(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(DY(l)&&(l.status===404||l.status===401||l.status===403)||Mb(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=qY(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await xc(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return gn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qa}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new yc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XY(async a=>(a>0&&await YY(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&$b(i)&&Date.now()+o-n<Ic})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ll(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ll(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Dc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ib()}else if(a&&!a.user&&!a.user){const o=await ll(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await pn(this.storage,this.storageKey+"-user"),await Dc(this.storage,this.storageKey,a)):a.user=Ib()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rb}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),$b(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ox;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ge(i)){const o={data:null,error:i};return $b(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=yE(a);await Dc(this.storage,this.storageKey,i)}else{const a=yE(r);await Dc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ic);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ic);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ic}ms, refresh threshold is ${e1} ticks`),a<=e1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof A3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await xc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NX(t.webauthn.credential_response):PX(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:SX(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:CX(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=Hp(t);let y=null;m.aal&&(y=m.aal);let g=y;const{data:{user:p},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(r=p==null?void 0:p.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const b=m.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:b},error:null}}catch(m){if(Ge(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Hp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new la})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new la});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new la});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new la})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new la})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+$Y>a)return n;const{data:i,error:o}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Hp(n);r!=null&&r.allowExpired||nX(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=aX(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,WY(`${l}.${c}`)))throw new n1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}}Qh.nextInstanceID={};const IX=Qh,DX="2.93.3";let Vf="";typeof Deno<"u"?Vf="deno":typeof document<"u"?Vf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vf="react-native":Vf="node";const LX={"X-Client-Info":`supabase-js-${Vf}/${DX}`},BX={headers:LX},FX={schema:"public"},zX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UX={};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function VX(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e){var t=VX(e,"string");return Jh(t)=="symbol"?t:t+""}function HX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KX=()=>Headers,GX=(e,t,r)=>{const n=qX(r),a=KX();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Rr(Rr({},o),{},{headers:u}))}};function YX(e){return e.endsWith("/")?e:e+"/"}function XX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Rr(Rr({},c),a),auth:Rr(Rr({},u),i),realtime:Rr(Rr({},d),o),storage:{},global:Rr(Rr(Rr({},f),l),{},{headers:Rr(Rr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ZX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QX=class extends IX{constructor(e){super(e)}},JX=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=ZX(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:FX,realtime:UX,auth:Rr(Rr({},zX),{},{storageKey:o}),global:BX},c=XX(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=GX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Rr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new DG(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new AY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new TG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QX({url:this.authUrl.href,headers:Rr(Rr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eY(this.realtimeUrl.href,Rr(Rr({},e),{},{params:Rr(Rr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const eZ=(e,t,r)=>new JX(e,t,r);function tZ(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rZ="https://twkcoxagbajvopzzinor.supabase.co",nZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",xe=eZ(rZ,nZ,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),R3=w.createContext(void 0);function aZ({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,o]=w.useState("lecteur"),[l,c]=w.useState({});w.useEffect(()=>{const{data:{subscription:p}}=xe.auth.onAuthStateChange((v,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return xe.auth.getSession().then(({data:{session:v}})=>{r((v==null?void 0:v.user)??null),a(!1),v!=null&&v.user&&(u(v.user.id),d())}),()=>p.unsubscribe()},[]);const u=async p=>{try{const{data:v}=await xe.from("user_roles").select("role").eq("user_id",p).single();v&&o(v.role)}catch{o("lecteur")}},d=async()=>{try{const{data:p}=await xe.from("tab_permissions").select("*");if(p){const v={};p.forEach(x=>{v[x.role]||(v[x.role]={}),v[x.role][x.tab_key]=x.permission}),c(v)}}catch{}},f=async(p,v)=>{const{error:x}=await xe.auth.signInWithPassword({email:p,password:v});return{error:x}},h=async(p,v,x)=>{const{error:b}=await xe.auth.signUp({email:p,password:v,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},m=async()=>{await xe.auth.signOut(),r(null)},y=i==="admin",g=p=>{if(y)return"write";const v=l[i];return v&&v[p]||"write"};return s.jsx(R3.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:f,signUp:h,signOut:m,getTabPermission:g},children:e})}function Ca(){const e=w.useContext(R3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const jC={selectedMethods:["revenue_multiple","ebitda_multiple"],valuationBasis:"projected",historicalYear:2024,projectedYear:2028,mixWeight:.5,averageYears:[],valuationParams:{revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}},dilutionConfig:{...NG},exitScenarios:{conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}},a1="novaride_financial_state_v5";function iZ(){try{const e=localStorage.getItem(a1);if(e){const t=JSON.parse(e);return t.valuationConfig||(t.valuationConfig={...jC}),t.monthlyTreasuryConfig&&!t.monthlyTreasuryConfig.cogsPaymentTerms&&(t.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),t.excludeFundingFromTreasury===void 0&&(t.excludeFundingFromTreasury=!1),t.fundingRounds?t.fundingRounds=t.fundingRounds.map(r=>({...r,quarter:r.quarter||"Q1"})):t.fundingRounds=vC,t.clientRevenueConfig||(t.clientRevenueConfig={entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}}),t.simpleOpexConfig&&!t.simpleOpexConfig.strategicOpex&&(t.simpleOpexConfig.strategicOpex=[]),t}}catch{}return sZ()}function sZ(){return{products:LK,roles:BK,expenses:FK,fundingRounds:vC,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:bv,clientRevenueConfig:{entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}},opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05,strategicOpex:[]},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:JD(),valuationConfig:{...jC}}}const M3=w.createContext(void 0);function oZ({children:e}){const{user:t}=Ca(),[r,n]=w.useState(iZ),[a,i]=w.useState(!1);w.useRef(null),w.useEffect(()=>{!t||a||(async()=>{try{const{data:P}=await xe.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(P!=null&&P.state_data){const A=P.state_data;A.valuationConfig||(A.valuationConfig={...jC}),A.excludeFundingFromTreasury===void 0&&(A.excludeFundingFromTreasury=!1),A.fundingRounds?A.fundingRounds=A.fundingRounds.map($=>({...$,quarter:$.quarter||"Q1"})):A.fundingRounds=vC,A.monthlyTreasuryConfig||(A.monthlyTreasuryConfig=JD()),A.monthlyTreasuryConfig&&!A.monthlyTreasuryConfig.cogsPaymentTerms&&(A.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),A.clientRevenueConfig||(A.clientRevenueConfig={entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}}),A.simpleOpexConfig&&!A.simpleOpexConfig.strategicOpex&&(A.simpleOpexConfig.strategicOpex=[]),n({...A,hasUnsavedChanges:!1}),localStorage.setItem(a1,JSON.stringify(A))}}catch(P){console.warn("Failed to load from cloud:",P)}finally{i(!0)}})()},[t,a]),w.useCallback(()=>{n(P=>({...P,hasUnsavedChanges:!0}))},[]);const o=w.useCallback(P=>{n(A=>({...A,products:P,hasUnsavedChanges:!0}))},[]),l=w.useCallback(P=>{n(A=>({...A,products:[...A.products,P],hasUnsavedChanges:!0}))},[]),c=w.useCallback(P=>{n(A=>({...A,products:A.products.filter($=>$.id!==P),hasUnsavedChanges:!0}))},[]),u=w.useCallback(P=>{n(A=>({...A,roles:P,hasUnsavedChanges:!0}))},[]),d=w.useCallback(P=>{n(A=>({...A,roles:[...A.roles,P],hasUnsavedChanges:!0}))},[]),f=w.useCallback(P=>{n(A=>({...A,roles:A.roles.filter($=>$.id!==P),hasUnsavedChanges:!0}))},[]),h=w.useCallback(P=>{n(A=>({...A,expenses:P,hasUnsavedChanges:!0}))},[]),m=w.useCallback(P=>{n(A=>({...A,expenses:[...A.expenses,P],hasUnsavedChanges:!0}))},[]),y=w.useCallback(P=>{n(A=>({...A,expenses:A.expenses.filter($=>$.id!==P),hasUnsavedChanges:!0}))},[]),g=w.useCallback(P=>{n(A=>({...A,fundingRounds:P,hasUnsavedChanges:!0}))},[]),p=w.useCallback(P=>{n(A=>({...A,scenarioSettings:{...A.scenarioSettings,...P},hasUnsavedChanges:!0}))},[]),v=w.useCallback(P=>{n(A=>({...A,activeScenarioId:P}))},[]),x=w.useCallback((P,A)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[P]:{...$.scenarioConfigs[P],...A}},hasUnsavedChanges:!0}))},[]),b=w.useCallback(P=>{n(A=>({...A,revenueMode:P,hasUnsavedChanges:!0}))},[]),_=w.useCallback(P=>{n(A=>({...A,globalRevenueConfig:P,hasUnsavedChanges:!0}))},[]),j=w.useCallback(P=>{n(A=>({...A,clientRevenueConfig:P,hasUnsavedChanges:!0}))},[]),S=w.useCallback(P=>{n(A=>({...A,opexMode:P,hasUnsavedChanges:!0}))},[]),C=w.useCallback(P=>{n(A=>({...A,simpleOpexConfig:{...A.simpleOpexConfig,...P},hasUnsavedChanges:!0}))},[]),k=w.useCallback(P=>{n(A=>({...A,excludeFundingFromTreasury:P,hasUnsavedChanges:!0}))},[]),N=w.useCallback(P=>{n(A=>({...A,historicalData:P,hasUnsavedChanges:!0}))},[]),R=w.useCallback(P=>{n(A=>({...A,monthlyTreasuryConfig:P,hasUnsavedChanges:!0}))},[]),O=w.useCallback(P=>{n(A=>({...A,valuationConfig:{...A.valuationConfig,...P},hasUnsavedChanges:!0}))},[]),E=w.useCallback(async()=>{try{const P={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(a1,JSON.stringify(P)),n(P),t){const{hasUnsavedChanges:A,...$}=P;await xe.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}xn({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{xn({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),T=w.useMemo(()=>{const{products:P,roles:A,expenses:$,fundingRounds:M,scenarioSettings:L,scenarioConfigs:B,activeScenarioId:z,opexMode:re,simpleOpexConfig:ee,excludeFundingFromTreasury:se,monthlyTreasuryConfig:U}=r,{startYear:V,durationYears:K,initialCash:q}=L,me=B[z],D=Array.from({length:K},(ue,ve)=>V+ve),G=P.reduce((ue,ve)=>ue+ve.devCost,0),W=D.map((ue,ve)=>{if(r.revenueMode==="by-channel-global"){const Ue=Kh(r.globalRevenueConfig,ue),ht=jG(r.globalRevenueConfig,ue);return{year:ue,revenue:Ue,cogs:ht}}if(r.revenueMode==="by-client"){const Ue=r.clientRevenueConfig||{entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}},ht=V;let fe=0,Ve=0;return Ue.entries.forEach(ut=>{var mt;let Mt;if(ut.revenueByYear&&ut.revenueByYear[ue]!==void 0&&ut.revenueByYear[ue]!==null)Mt=ut.revenueByYear[ue];else{const sn=ut.individualGrowthRate!==null&&ut.individualGrowthRate!==void 0?ut.individualGrowthRate:Ue.growthRate,Gr=ue-ht+1;Mt=ut.baseRevenue*Math.pow(1+sn,Gr)}let xt=Ue.marginRate;ut.channel==="B2C"?xt=Ue.marginB2C??Ue.marginRate:ut.categoryId&&((mt=Ue.marginByCategory)==null?void 0:mt[ut.categoryId])!==void 0&&(xt=Ue.marginByCategory[ut.categoryId]),fe+=Mt,Ve+=Mt*(1-xt)}),{year:ue,revenue:fe,cogs:Ve}}let ke=0,ot=0;return P.forEach(Ue=>{if(Ue.volumesByChannel){const ht=Math.round((Ue.volumesByChannel.B2C[ue]||0)*(1+me.volumeAdjustment)),fe=Math.round((Ue.volumesByChannel.B2B[ue]||0)*(1+me.volumeAdjustment)),Ve=Math.round((Ue.volumesByChannel.OEM[ue]||0)*(1+me.volumeAdjustment));ke+=ht*Ue.priceHT*(1+me.priceAdjustment)+fe*(Ue.priceHT_B2B||Ue.priceHT)*(1+me.priceAdjustment)+Ve*(Ue.priceHT_OEM||Ue.priceHT)*(1+me.priceAdjustment),ot+=(ht+fe+Ve)*Ue.unitCost}else{const ht=Math.round((Ue.volumesByYear[ue]||0)*(1+me.volumeAdjustment));ke+=ht*Ue.priceHT*(1+me.priceAdjustment),ot+=ht*Ue.unitCost}}),{year:ue,revenue:ke,cogs:ot}}),X=D.map(ue=>{const ve=A.filter(ke=>ke.startYear<=ue);return{year:ue,payroll:ve.reduce((ke,ot)=>ke+ot.annualCostLoaded,0),headcount:ve.length}}),Q=D.map((ue,ve)=>{let ke=0;const ot={};if(re==="simple"){const Ue=(ee.strategicOpex||[]).reduce((ht,fe)=>ht+fe.amount,0);ke=(ee.baseAmount+Ue)*Math.pow(1+ee.growthRate,ve)}else $.forEach(Ue=>{var Ve,ut;if(Ue.startYear>ue)return;let ht=Ue.baseAnnualCost;const fe=ue-Ue.startYear;if(Ue.evolutionType==="growth_rate")ht*=Math.pow(1+(Ue.growthRate||0),fe);else if(Ue.evolutionType==="linked_to_revenue")ht=(((Ve=W[ve])==null?void 0:Ve.revenue)||0)*(Ue.revenueRatio||0);else if(Ue.evolutionType==="step"){const Mt=(ut=Ue.steps)==null?void 0:ut.filter(xt=>xt.year<=ue).pop();Mt&&(ht=Mt.newAnnualCost)}ht*=1+me.opexAdjustment,ke+=ht,ot[Ue.category]=(ot[Ue.category]||0)+ht});return{year:ue,opex:ke,byCategory:ot}}),we=D.map(ue=>({year:ue,capex:P.filter(ve=>ve.launchYear===ue).reduce((ve,ke)=>ve+ke.devCost,0),depreciation:zK(P,ue)})),$e=V,qe=A.filter(ue=>ue.startYear<=$e).length,ge=A.filter(ue=>ue.startYear<=$e).reduce((ue,ve)=>ue+ve.annualCostLoaded,0),Pe=M.map(ue=>({...ue,quarter:ue.quarter||"Q1"})),F=YK(P,A,$,se?[]:Pe,q,V,K,me,re,ee),Z={},oe={},J={},ce={};W.forEach(ue=>{Z[ue.year]=ue.revenue,oe[ue.year]=ue.cogs}),X.forEach(ue=>{J[ue.year]=ue.payroll}),Q.forEach(ue=>{ce[ue.year]=ue.opex});const pe=eG(U,{annualRevenue:Z,annualCogs:oe,annualPayroll:J,annualOpex:ce},M,q,V,K,se);return{totalDevCost:G,revenueByYear:W,payrollByYear:X,opexByYear:Q,capexByYear:we,totalHeadcount:qe,currentPayroll:ge,treasuryProjection:F,monthlyTreasuryProjection:pe}},[r]);return s.jsx(M3.Provider,{value:{state:r,computed:T,updateProducts:o,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:m,removeExpense:y,updateFundingRounds:g,updateScenarioSettings:p,setActiveScenario:v,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,updateClientRevenueConfig:j,setOpexMode:S,updateSimpleOpexConfig:C,setExcludeFundingFromTreasury:k,updateHistoricalData:N,updateMonthlyTreasuryConfig:R,updateValuationConfig:O,saveAll:E},children:e})}function ts(){const e=w.useContext(M3);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function _C({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return s.jsx("div",{className:de("flex items-center gap-2",r),children:s.jsxs("span",{className:de("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",s.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const lZ=[{items:[{to:"/",label:"Tableau de bord",icon:QW,tabKey:"costflow"}]},{label:"Prvisionnel",items:[{to:"/product",label:"Plan Produit",icon:Zl,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:Oo,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:iH,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:lv,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:zI,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:UW,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:Bo,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:Lu,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:aH,tabKey:"crm"},{to:"/pricing",label:"Pricing",icon:QS,tabKey:"pricing"},{to:"/costflow",label:"Production et BE",icon:WI,tabKey:"costflow"},{to:"/planning-dev",label:"Planning Dev",icon:Aj,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:XS,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:HI,tabKey:"snapshots"}]}];function Pn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Ca(),a=np(),[i,o]=w.useState(!1),l=async()=>{await t(),a("/auth")},c=lZ.map(u=>({...u,items:u.items.filter(d=>n(d.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>o(!i),children:i?s.jsx(za,{className:"h-5 w-5"}):s.jsx(nH,{className:"h-5 w-5"})}),s.jsxs("aside",{className:de("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[s.jsx(_C,{variant:"compact",color:"light"}),s.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,d)=>s.jsxs("div",{className:de(d>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&s.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(f=>{const h=f.icon;return s.jsxs(Jk,{to:f.to,end:!0,onClick:()=>o(!1),className:({isActive:m})=>de("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",m?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(h,{className:"h-4 w-4"}),f.label]},f.to)})]},d)),r&&s.jsxs(Jk,{to:"/permissions",onClick:()=>o(!1),className:({isActive:u})=>de("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(YI,{className:"h-4 w-4"}),"Administration"]})]}),s.jsx("div",{className:"p-4 border-t border-sidebar-border",children:s.jsxs(ae,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[s.jsx(tH,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>o(!1)}),s.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function kn({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=Ca();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?s.jsx(yv,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(yv,{to:"/auth",replace:!0})}function Bs({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return s.jsx("div",{className:de("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:s.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[s.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&s.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function qd({onSave:e,hasUnsavedChanges:t}){return s.jsxs(ae,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[s.jsx(tp,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Ht=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...t})}));Ht.displayName="Table";const qt=w.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...t}));qt.displayName="TableHeader";const Kt=w.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...t}));Kt.displayName="TableBody";const cZ=w.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));cZ.displayName="TableFooter";const Se=w.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:de("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Se.displayName="TableRow";const ie=w.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableHead";const H=w.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));H.displayName="TableCell";const uZ=w.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...t}));uZ.displayName="TableCaption";function dZ({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,priceHT_B2B:300,priceHT_OEM:220,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return s.jsxs(Ye,{title:"Pricing Produits",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Produit"}),s.jsx(ie,{className:"text-center",children:"Lancement"}),s.jsx(ie,{className:"text-right",children:"Prix TTC B2C"}),s.jsx(ie,{className:"text-right",children:"Prix HT B2C"}),s.jsx(ie,{className:"text-right",children:"Prix HT B2B"}),s.jsx(ie,{className:"text-right",children:"Prix HT OEM"}),s.jsx(ie,{className:"text-right",children:"Cot Unitaire"}),s.jsx(ie,{className:"text-right",children:"Marque B2C"}),s.jsx(ie,{className:"text-right",children:"Marque B2B"}),s.jsx(ie,{className:"text-right",children:"Marque OEM"}),s.jsx(ie,{className:"text-right",children:"CAPEX R&D"}),s.jsx(ie,{className:"text-center",children:"Amort. (ans)"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:e.map(i=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsx(be,{value:i.name,onChange:o=>t({...i,name:o.target.value}),className:"h-8 w-40"})}),s.jsx(H,{className:"text-center",children:s.jsx(be,{type:"number",value:i.launchYear,onChange:o=>t({...i,launchYear:Number(o.target.value)}),className:"h-8 w-20 text-center mx-auto"})}),s.jsx(H,{className:"text-right font-mono-numbers",children:s.jsx(be,{type:"number",value:i.priceTTC_B2C,onChange:o=>{const l=Number(o.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),s.jsx(H,{className:"text-right font-mono-numbers",children:te(i.priceHT)}),s.jsx(H,{className:"text-right font-mono-numbers",children:s.jsx(be,{type:"number",value:i.priceHT_B2B,onChange:o=>t({...i,priceHT_B2B:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsx(H,{className:"text-right font-mono-numbers",children:s.jsx(be,{type:"number",value:i.priceHT_OEM,onChange:o=>t({...i,priceHT_OEM:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsx(H,{className:"text-right font-mono-numbers",children:s.jsx(be,{type:"number",value:i.unitCost,onChange:o=>t({...i,unitCost:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsxs(H,{className:"text-right font-mono-numbers",children:[i.priceHT>0?((1-i.unitCost/i.priceHT)*100).toFixed(1):0,"%"]}),s.jsxs(H,{className:"text-right font-mono-numbers",children:[i.priceHT_B2B>0?((1-i.unitCost/i.priceHT_B2B)*100).toFixed(1):0,"%"]}),s.jsxs(H,{className:"text-right font-mono-numbers",children:[i.priceHT_OEM>0?((1-i.unitCost/i.priceHT_OEM)*100).toFixed(1):0,"%"]}),s.jsx(H,{className:"text-right font-mono-numbers",children:s.jsx(be,{type:"number",value:i.devCost,onChange:o=>t({...i,devCost:Number(o.target.value)}),className:"h-8 w-28 text-right"})}),s.jsx(H,{className:"text-center",children:s.jsx(be,{type:"number",value:i.devAmortizationYears||5,min:1,onChange:o=>t({...i,devAmortizationYears:Number(o.target.value)}),className:"h-8 w-16 text-center mx-auto"})}),s.jsx(H,{children:s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:s.jsx(lr,{className:"h-4 w-4"})})})]},i.id))})]})}),s.jsxs(ae,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var fZ=Array.isArray,oa=fZ,hZ=typeof vp=="object"&&vp&&vp.Object===Object&&vp,$3=hZ,mZ=$3,pZ=typeof self=="object"&&self&&self.Object===Object&&self,gZ=mZ||pZ||Function("return this")(),rs=gZ,vZ=rs,yZ=vZ.Symbol,ip=yZ,NE=ip,I3=Object.prototype,xZ=I3.hasOwnProperty,bZ=I3.toString,jf=NE?NE.toStringTag:void 0;function wZ(e){var t=xZ.call(e,jf),r=e[jf];try{e[jf]=void 0;var n=!0}catch{}var a=bZ.call(e);return n&&(t?e[jf]=r:delete e[jf]),a}var jZ=wZ,_Z=Object.prototype,SZ=_Z.toString;function CZ(e){return SZ.call(e)}var NZ=CZ,PE=ip,PZ=jZ,kZ=NZ,EZ="[object Null]",AZ="[object Undefined]",kE=PE?PE.toStringTag:void 0;function OZ(e){return e==null?e===void 0?AZ:EZ:kE&&kE in Object(e)?PZ(e):kZ(e)}var Fs=OZ;function TZ(e){return e!=null&&typeof e=="object"}var zs=TZ,RZ=Fs,MZ=zs,$Z="[object Symbol]";function IZ(e){return typeof e=="symbol"||MZ(e)&&RZ(e)==$Z}var Kd=IZ,DZ=oa,LZ=Kd,BZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FZ=/^\w*$/;function zZ(e,t){if(DZ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||LZ(e)?!0:FZ.test(e)||!BZ.test(e)||t!=null&&e in Object(t)}var SC=zZ;function UZ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xo=UZ;const Gd=It(Xo);var VZ=Fs,WZ=Xo,HZ="[object AsyncFunction]",qZ="[object Function]",KZ="[object GeneratorFunction]",GZ="[object Proxy]";function YZ(e){if(!WZ(e))return!1;var t=VZ(e);return t==qZ||t==KZ||t==HZ||t==GZ}var CC=YZ;const Je=It(CC);var XZ=rs,ZZ=XZ["__core-js_shared__"],QZ=ZZ,Lb=QZ,EE=function(){var e=/[^.]+$/.exec(Lb&&Lb.keys&&Lb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JZ(e){return!!EE&&EE in e}var eQ=JZ,tQ=Function.prototype,rQ=tQ.toString;function nQ(e){if(e!=null){try{return rQ.call(e)}catch{}try{return e+""}catch{}}return""}var D3=nQ,aQ=CC,iQ=eQ,sQ=Xo,oQ=D3,lQ=/[\\^$.*+?()[\]{}|]/g,cQ=/^\[object .+?Constructor\]$/,uQ=Function.prototype,dQ=Object.prototype,fQ=uQ.toString,hQ=dQ.hasOwnProperty,mQ=RegExp("^"+fQ.call(hQ).replace(lQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pQ(e){if(!sQ(e)||iQ(e))return!1;var t=aQ(e)?mQ:cQ;return t.test(oQ(e))}var gQ=pQ;function vQ(e,t){return e==null?void 0:e[t]}var yQ=vQ,xQ=gQ,bQ=yQ;function wQ(e,t){var r=bQ(e,t);return xQ(r)?r:void 0}var fc=wQ,jQ=fc,_Q=jQ(Object,"create"),Tx=_Q,AE=Tx;function SQ(){this.__data__=AE?AE(null):{},this.size=0}var CQ=SQ;function NQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PQ=NQ,kQ=Tx,EQ="__lodash_hash_undefined__",AQ=Object.prototype,OQ=AQ.hasOwnProperty;function TQ(e){var t=this.__data__;if(kQ){var r=t[e];return r===EQ?void 0:r}return OQ.call(t,e)?t[e]:void 0}var RQ=TQ,MQ=Tx,$Q=Object.prototype,IQ=$Q.hasOwnProperty;function DQ(e){var t=this.__data__;return MQ?t[e]!==void 0:IQ.call(t,e)}var LQ=DQ,BQ=Tx,FQ="__lodash_hash_undefined__";function zQ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=BQ&&t===void 0?FQ:t,this}var UQ=zQ,VQ=CQ,WQ=PQ,HQ=RQ,qQ=LQ,KQ=UQ;function Yd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yd.prototype.clear=VQ;Yd.prototype.delete=WQ;Yd.prototype.get=HQ;Yd.prototype.has=qQ;Yd.prototype.set=KQ;var GQ=Yd;function YQ(){this.__data__=[],this.size=0}var XQ=YQ;function ZQ(e,t){return e===t||e!==e&&t!==t}var NC=ZQ,QQ=NC;function JQ(e,t){for(var r=e.length;r--;)if(QQ(e[r][0],t))return r;return-1}var Rx=JQ,eJ=Rx,tJ=Array.prototype,rJ=tJ.splice;function nJ(e){var t=this.__data__,r=eJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rJ.call(t,r,1),--this.size,!0}var aJ=nJ,iJ=Rx;function sJ(e){var t=this.__data__,r=iJ(t,e);return r<0?void 0:t[r][1]}var oJ=sJ,lJ=Rx;function cJ(e){return lJ(this.__data__,e)>-1}var uJ=cJ,dJ=Rx;function fJ(e,t){var r=this.__data__,n=dJ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hJ=fJ,mJ=XQ,pJ=aJ,gJ=oJ,vJ=uJ,yJ=hJ;function Xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xd.prototype.clear=mJ;Xd.prototype.delete=pJ;Xd.prototype.get=gJ;Xd.prototype.has=vJ;Xd.prototype.set=yJ;var Mx=Xd,xJ=fc,bJ=rs,wJ=xJ(bJ,"Map"),PC=wJ,OE=GQ,jJ=Mx,_J=PC;function SJ(){this.size=0,this.__data__={hash:new OE,map:new(_J||jJ),string:new OE}}var CJ=SJ;function NJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PJ=NJ,kJ=PJ;function EJ(e,t){var r=e.__data__;return kJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $x=EJ,AJ=$x;function OJ(e){var t=AJ(this,e).delete(e);return this.size-=t?1:0,t}var TJ=OJ,RJ=$x;function MJ(e){return RJ(this,e).get(e)}var $J=MJ,IJ=$x;function DJ(e){return IJ(this,e).has(e)}var LJ=DJ,BJ=$x;function FJ(e,t){var r=BJ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zJ=FJ,UJ=CJ,VJ=TJ,WJ=$J,HJ=LJ,qJ=zJ;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zd.prototype.clear=UJ;Zd.prototype.delete=VJ;Zd.prototype.get=WJ;Zd.prototype.has=HJ;Zd.prototype.set=qJ;var kC=Zd,L3=kC,KJ="Expected a function";function EC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(KJ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(EC.Cache||L3),r}EC.Cache=L3;var B3=EC;const GJ=It(B3);var YJ=B3,XJ=500;function ZJ(e){var t=YJ(e,function(n){return r.size===XJ&&r.clear(),n}),r=t.cache;return t}var QJ=ZJ,JJ=QJ,eee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tee=/\\(\\)?/g,ree=JJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eee,function(r,n,a,i){t.push(a?i.replace(tee,"$1"):n||r)}),t}),nee=ree;function aee(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var AC=aee,TE=ip,iee=AC,see=oa,oee=Kd,lee=1/0,RE=TE?TE.prototype:void 0,ME=RE?RE.toString:void 0;function F3(e){if(typeof e=="string")return e;if(see(e))return iee(e,F3)+"";if(oee(e))return ME?ME.call(e):"";var t=e+"";return t=="0"&&1/e==-lee?"-0":t}var cee=F3,uee=cee;function dee(e){return e==null?"":uee(e)}var z3=dee,fee=oa,hee=SC,mee=nee,pee=z3;function gee(e,t){return fee(e)?e:hee(e,t)?[e]:mee(pee(e))}var U3=gee,vee=Kd,yee=1/0;function xee(e){if(typeof e=="string"||vee(e))return e;var t=e+"";return t=="0"&&1/e==-yee?"-0":t}var Ix=xee,bee=U3,wee=Ix;function jee(e,t){t=bee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wee(t[r++])];return r&&r==n?e:void 0}var OC=jee,_ee=OC;function See(e,t,r){var n=e==null?void 0:_ee(e,t);return n===void 0?r:n}var V3=See;const ba=It(V3);function Cee(e){return e==null}var Nee=Cee;const Qe=It(Nee);var Pee=Fs,kee=oa,Eee=zs,Aee="[object String]";function Oee(e){return typeof e=="string"||!kee(e)&&Eee(e)&&Pee(e)==Aee}var Tee=Oee;const Jl=It(Tee);var W3={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=Symbol.for("react.element"),RC=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),zx=Symbol.for("react.context"),Ree=Symbol.for("react.server_context"),Ux=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Wx=Symbol.for("react.suspense_list"),Hx=Symbol.for("react.memo"),qx=Symbol.for("react.lazy"),Mee=Symbol.for("react.offscreen"),H3;H3=Symbol.for("react.module.reference");function Wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case TC:switch(e=e.type,e){case Dx:case Bx:case Lx:case Vx:case Wx:return e;default:switch(e=e&&e.$$typeof,e){case Ree:case zx:case Ux:case qx:case Hx:case Fx:return e;default:return t}}case RC:return t}}}Gt.ContextConsumer=zx;Gt.ContextProvider=Fx;Gt.Element=TC;Gt.ForwardRef=Ux;Gt.Fragment=Dx;Gt.Lazy=qx;Gt.Memo=Hx;Gt.Portal=RC;Gt.Profiler=Bx;Gt.StrictMode=Lx;Gt.Suspense=Vx;Gt.SuspenseList=Wx;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(e){return Wa(e)===zx};Gt.isContextProvider=function(e){return Wa(e)===Fx};Gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===TC};Gt.isForwardRef=function(e){return Wa(e)===Ux};Gt.isFragment=function(e){return Wa(e)===Dx};Gt.isLazy=function(e){return Wa(e)===qx};Gt.isMemo=function(e){return Wa(e)===Hx};Gt.isPortal=function(e){return Wa(e)===RC};Gt.isProfiler=function(e){return Wa(e)===Bx};Gt.isStrictMode=function(e){return Wa(e)===Lx};Gt.isSuspense=function(e){return Wa(e)===Vx};Gt.isSuspenseList=function(e){return Wa(e)===Wx};Gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dx||e===Bx||e===Lx||e===Vx||e===Wx||e===Mee||typeof e=="object"&&e!==null&&(e.$$typeof===qx||e.$$typeof===Hx||e.$$typeof===Fx||e.$$typeof===zx||e.$$typeof===Ux||e.$$typeof===H3||e.getModuleId!==void 0)};Gt.typeOf=Wa;W3.exports=Gt;var $ee=W3.exports,Iee=Fs,Dee=zs,Lee="[object Number]";function Bee(e){return typeof e=="number"||Dee(e)&&Iee(e)==Lee}var q3=Bee;const Fee=It(q3);var zee=q3;function Uee(e){return zee(e)&&e!=+e}var Vee=Uee;const Qd=It(Vee);var Un=function(t){return t===0?0:t>0?1:-1},El=function(t){return Jl(t)&&t.indexOf("%")===t.length-1},je=function(t){return Fee(t)&&!Qd(t)},Wee=function(t){return Qe(t)},nn=function(t){return je(t)||Jl(t)},Hee=0,Zo=function(t){var r=++Hee;return"".concat(t||"").concat(r)},Vn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!Jl(t))return n;var i;if(El(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Qd(i)&&(i=n),a&&i>r&&(i=r),i},so=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Cr=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function Sv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ba(n,t))===r})}var Kee=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},Gee=function(t,r){return je(t)&&je(r)?t-r:Jl(t)&&Jl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function vu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}var Yee=["viewBox","children"],Xee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$E=["points","pathLength"],Bb={svg:Yee,polygon:$E,polyline:$E},MC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Gd(n))return null;var a={};return Object.keys(n).forEach(function(i){MC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Zee=function(t,r,n){return function(a){return t(r,n,a),null}},Uo=function(t,r,n){if(!Gd(t)||i1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];MC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Zee(o,r,n))}),a},Qee=["children"],Jee=["children"];function IE(e,t){if(e==null)return{};var r=ete(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}var DE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_s=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LE=null,Fb=null,$C=function e(t){if(t===LE&&Array.isArray(Fb))return Fb;var r=[];return w.Children.forEach(t,function(n){Qe(n)||($ee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Fb=r,LE=t,r};function qn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return _s(a)}):n=[_s(t)],$C(e).forEach(function(a){var i=ba(a,"type.displayName")||ba(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function fa(e,t){var r=qn(e,t);return r&&r[0]}var BE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},tte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rte=function(t){return t&&t.type&&Jl(t.type)&&tte.indexOf(t.type)>=0},K3=function(t){return t&&s1(t)==="object"&&"clipDot"in t},nte=function(t,r,n,a){var i,o=(i=Bb==null?void 0:Bb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Je(t)&&(a&&o.includes(r)||Xee.includes(r))||n&&MC.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Gd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;nte((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},o1=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!FE(i,o))return!1}return!0},FE=function(t,r){if(Qe(t)&&Qe(r))return!0;if(!Qe(t)&&!Qe(r)){var n=t.props||{},a=n.children,i=IE(n,Qee),o=r.props||{},l=o.children,c=IE(o,Jee);return a&&l?vu(i,c)&&o1(a,l):!a&&!l?vu(i,c):!1}return!1},zE=function(t,r){var n=[],a={};return $C(t).forEach(function(i,o){if(rte(i))n.push(i);else if(i){var l=_s(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},ate=function(t){var r=t&&t.type;return r&&DE[r]?DE[r]:null},ite=function(t,r){return $C(r).indexOf(t)},ste=["children","width","height","viewBox","className","style","title","desc"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}function ote(e,t){if(e==null)return{};var r=lte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ote(e,ste),d=a||{width:r,height:n,x:0,y:0},f=dt("recharts-surface",i);return I.createElement("svg",l1({},We(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var cte=["children","className"];function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(this,arguments)}function ute(e,t){if(e==null)return{};var r=dte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yt=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=ute(e,cte),i=dt("recharts-layer",n);return I.createElement("g",u1({className:i},We(a,!0),{ref:t}),r)}),vi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function fte(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var hte=fte,mte=hte;function pte(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:mte(e,t,r)}var gte=pte,vte="\\ud800-\\udfff",yte="\\u0300-\\u036f",xte="\\ufe20-\\ufe2f",bte="\\u20d0-\\u20ff",wte=yte+xte+bte,jte="\\ufe0e\\ufe0f",_te="\\u200d",Ste=RegExp("["+_te+vte+wte+jte+"]");function Cte(e){return Ste.test(e)}var G3=Cte;function Nte(e){return e.split("")}var Pte=Nte,Y3="\\ud800-\\udfff",kte="\\u0300-\\u036f",Ete="\\ufe20-\\ufe2f",Ate="\\u20d0-\\u20ff",Ote=kte+Ete+Ate,Tte="\\ufe0e\\ufe0f",Rte="["+Y3+"]",d1="["+Ote+"]",f1="\\ud83c[\\udffb-\\udfff]",Mte="(?:"+d1+"|"+f1+")",X3="[^"+Y3+"]",Z3="(?:\\ud83c[\\udde6-\\uddff]){2}",Q3="[\\ud800-\\udbff][\\udc00-\\udfff]",$te="\\u200d",J3=Mte+"?",eL="["+Tte+"]?",Ite="(?:"+$te+"(?:"+[X3,Z3,Q3].join("|")+")"+eL+J3+")*",Dte=eL+J3+Ite,Lte="(?:"+[X3+d1+"?",d1,Z3,Q3,Rte].join("|")+")",Bte=RegExp(f1+"(?="+f1+")|"+Lte+Dte,"g");function Fte(e){return e.match(Bte)||[]}var zte=Fte,Ute=Pte,Vte=G3,Wte=zte;function Hte(e){return Vte(e)?Wte(e):Ute(e)}var qte=Hte,Kte=gte,Gte=G3,Yte=qte,Xte=z3;function Zte(e){return function(t){t=Xte(t);var r=Gte(t)?Yte(t):void 0,n=r?r[0]:t.charAt(0),a=r?Kte(r,1).join(""):t.slice(1);return n[e]()+a}}var Qte=Zte,Jte=Qte,ere=Jte("toUpperCase"),tre=ere;const Kx=It(tre);function ir(e){return function(){return e}}const tL=Math.cos,Nv=Math.sin,Si=Math.sqrt,Pv=Math.PI,Gx=2*Pv,h1=Math.PI,m1=2*h1,gl=1e-6,rre=m1-gl;function rL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class are{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rL:nre(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>gl)if(!(Math.abs(f*c-u*d)>gl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=a-l,g=c*c+u*u,p=m*m+y*y,v=Math.sqrt(g),x=Math.sqrt(h),b=i*Math.tan((h1-Math.acos((g+h-p)/(2*v*x)))/2),_=b/x,j=b/v;Math.abs(_-1)>gl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gl||Math.abs(this._y1-d)>gl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%m1+m1),h>rre?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>gl&&this._append`A${n},${n},0,${+(h>=h1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function IC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new are(t)}function DC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nL(e){this._context=e}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yx(e){return new nL(e)}function aL(e){return e[0]}function iL(e){return e[1]}function sL(e,t){var r=ir(!0),n=null,a=Yx,i=null,o=IC(l);e=typeof e=="function"?e:e===void 0?aL:ir(e),t=typeof t=="function"?t:t===void 0?iL:ir(t);function l(c){var u,d=(c=DC(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ir(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ir(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ir(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function qp(e,t,r){var n=null,a=ir(!0),i=null,o=Yx,l=null,c=IC(u);e=typeof e=="function"?e:e===void 0?aL:ir(+e),t=typeof t=="function"?t:ir(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iL:ir(+r);function u(f){var h,m,y,g=(f=DC(f)).length,p,v=!1,x,b=new Array(g),_=new Array(g);for(i==null&&(l=o(x=c())),h=0;h<=g;++h){if(!(h<g&&a(p=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(p,h,f),_[h]=+t(p,h,f),l.point(n?+n(p,h,f):b[h],r?+r(p,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return sL().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ir(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ir(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ir(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class oL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ire(e){return new oL(e,!0)}function sre(e){return new oL(e,!1)}const LC={draw(e,t){const r=Si(t/Pv);e.moveTo(r,0),e.arc(0,0,r,0,Gx)}},ore={draw(e,t){const r=Si(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lL=Si(1/3),lre=lL*2,cre={draw(e,t){const r=Si(t/lre),n=r*lL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ure={draw(e,t){const r=Si(t),n=-r/2;e.rect(n,n,r,r)}},dre=.8908130915292852,cL=Nv(Pv/10)/Nv(7*Pv/10),fre=Nv(Gx/10)*cL,hre=-tL(Gx/10)*cL,mre={draw(e,t){const r=Si(t*dre),n=fre*r,a=hre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Gx*i/5,l=tL(o),c=Nv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},zb=Si(3),pre={draw(e,t){const r=-Si(t/(zb*3));e.moveTo(0,r*2),e.lineTo(-zb*r,-r),e.lineTo(zb*r,-r),e.closePath()}},Pa=-.5,ka=Si(3)/2,p1=1/Si(12),gre=(p1/2+1)*3,vre={draw(e,t){const r=Si(t/gre),n=r/2,a=r*p1,i=n,o=r*p1+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Pa*n-ka*a,ka*n+Pa*a),e.lineTo(Pa*i-ka*o,ka*i+Pa*o),e.lineTo(Pa*l-ka*c,ka*l+Pa*c),e.lineTo(Pa*n+ka*a,Pa*a-ka*n),e.lineTo(Pa*i+ka*o,Pa*o-ka*i),e.lineTo(Pa*l+ka*c,Pa*c-ka*l),e.closePath()}};function yre(e,t){let r=null,n=IC(a);e=typeof e=="function"?e:ir(e||LC),t=typeof t=="function"?t:ir(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ir(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ir(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function kv(){}function Ev(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uL(e){this._context=e}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xre(e){return new uL(e)}function dL(e){this._context=e}dL.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bre(e){return new dL(e)}function fL(e){this._context=e}fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wre(e){return new fL(e)}function hL(e){this._context=e}hL.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jre(e){return new hL(e)}function UE(e){return e<0?-1:1}function VE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(UE(i)+UE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function WE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ub(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Av(e){this._context=e}Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ub(this,this._t0,WE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ub(this,WE(this,r=VE(this,e,t)),r);break;default:Ub(this,this._t0,r=VE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mL(e){this._context=new pL(e)}(mL.prototype=Object.create(Av.prototype)).point=function(e,t){Av.prototype.point.call(this,t,e)};function pL(e){this._context=e}pL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function _re(e){return new Av(e)}function Sre(e){return new mL(e)}function gL(e){this._context=e}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=HE(e),a=HE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Cre(e){return new gL(e)}function Xx(e,t){this._context=e,this._t=t}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Nre(e){return new Xx(e,.5)}function Pre(e){return new Xx(e,0)}function kre(e){return new Xx(e,1)}function Wu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function g1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ere(e,t){return e[t]}function Are(e){const t=[];return t.key=e,t}function Ore(){var e=ir([]),t=g1,r=Wu,n=Ere;function a(i){var o=Array.from(e.apply(this,arguments),Are),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=DC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ir(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ir(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?g1:typeof i=="function"?i:ir(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Wu,a):r},a}function Tre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Wu(e,t)}}function Rre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Wu(e,t)}}function Mre(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var g=e[t[y]],p=g[n][1]||0,v=g[n-1][1]||0;m+=p-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Wu(e,t)}}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}var $re=["type","size","sizeType"];function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return t=Dre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Lre(e,"string");return em(t)=="symbol"?t:t+""}function Lre(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bre(e,t){if(e==null)return{};var r=Fre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vL={symbolCircle:LC,symbolCross:ore,symbolDiamond:cre,symbolSquare:ure,symbolStar:mre,symbolTriangle:pre,symbolWye:vre},zre=Math.PI/180,Ure=function(t){var r="symbol".concat(Kx(t));return vL[r]||LC},Vre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*zre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Wre=function(t,r){vL["symbol".concat(Kx(t))]=r},Zx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Bre(t,$re),u=KE(KE({},c),{},{type:n,size:i,sizeType:l}),d=function(){var p=Ure(n),v=yre().type(p).size(Vre(i,l,n));return v()},f=u.className,h=u.cx,m=u.cy,y=We(u,!0);return h===+h&&m===+m&&i===+i?I.createElement("path",v1({},y,{className:dt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Zx.registerSymbol=Wre;function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xL(n.key),n)}}function Gre(e,t,r){return t&&Kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yre(e,t,r){return t=Ov(t),Xre(e,yL()?Reflect.construct(t,r||[],Ov(e).constructor):t.apply(e,r))}function Xre(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zre(e)}function Zre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!e})()}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(e)}function Qre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x1(e,t)}function tm(e,t,r){return t=xL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=Jre(e,"string");return Hu(t)=="symbol"?t:t+""}function Jre(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ea=32,BC=function(e){function t(){return qre(this,t),Yre(this,t,arguments)}return Qre(t,e),Gre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ea/2,o=Ea/6,l=Ea/3,c=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ea,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ea,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ea/8,"h").concat(Ea,"v").concat(Ea*3/4,"h").concat(-Ea,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=Hre({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(Zx,{fill:c,cx:i,cy:i,size:Ea,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ea,height:Ea},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var g=m.formatter||c,p=dt(tm(tm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Je(m.value)?null:m.value;vi(!Je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return I.createElement("li",y1({className:p,style:f,key:"legend-item-".concat(y)},Uo(n.props,m,y)),I.createElement(c1,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(v,m,y):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);tm(BC,"displayName","Legend");tm(BC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ene=Mx;function tne(){this.__data__=new ene,this.size=0}var rne=tne;function nne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ane=nne;function ine(e){return this.__data__.get(e)}var sne=ine;function one(e){return this.__data__.has(e)}var lne=one,cne=Mx,une=PC,dne=kC,fne=200;function hne(e,t){var r=this.__data__;if(r instanceof cne){var n=r.__data__;if(!une||n.length<fne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new dne(n)}return r.set(e,t),this.size=r.size,this}var mne=hne,pne=Mx,gne=rne,vne=ane,yne=sne,xne=lne,bne=mne;function Jd(e){var t=this.__data__=new pne(e);this.size=t.size}Jd.prototype.clear=gne;Jd.prototype.delete=vne;Jd.prototype.get=yne;Jd.prototype.has=xne;Jd.prototype.set=bne;var bL=Jd,wne="__lodash_hash_undefined__";function jne(e){return this.__data__.set(e,wne),this}var _ne=jne;function Sne(e){return this.__data__.has(e)}var Cne=Sne,Nne=kC,Pne=_ne,kne=Cne;function Tv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Nne;++t<r;)this.add(e[t])}Tv.prototype.add=Tv.prototype.push=Pne;Tv.prototype.has=kne;var wL=Tv;function Ene(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var jL=Ene;function Ane(e,t){return e.has(t)}var _L=Ane,One=wL,Tne=jL,Rne=_L,Mne=1,$ne=2;function Ine(e,t,r,n,a,i){var o=r&Mne,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&$ne?new One:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],g=t[f];if(n)var p=o?n(g,y,f,t,e,i):n(y,g,f,e,t,i);if(p!==void 0){if(p)continue;h=!1;break}if(m){if(!Tne(t,function(v,x){if(!Rne(m,x)&&(y===v||a(y,v,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(y===g||a(y,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var SL=Ine,Dne=rs,Lne=Dne.Uint8Array,Bne=Lne;function Fne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var zne=Fne;function Une(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var FC=Une,YE=ip,XE=Bne,Vne=NC,Wne=SL,Hne=zne,qne=FC,Kne=1,Gne=2,Yne="[object Boolean]",Xne="[object Date]",Zne="[object Error]",Qne="[object Map]",Jne="[object Number]",eae="[object RegExp]",tae="[object Set]",rae="[object String]",nae="[object Symbol]",aae="[object ArrayBuffer]",iae="[object DataView]",ZE=YE?YE.prototype:void 0,Vb=ZE?ZE.valueOf:void 0;function sae(e,t,r,n,a,i,o){switch(r){case iae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aae:return!(e.byteLength!=t.byteLength||!i(new XE(e),new XE(t)));case Yne:case Xne:case Jne:return Vne(+e,+t);case Zne:return e.name==t.name&&e.message==t.message;case eae:case rae:return e==t+"";case Qne:var l=Hne;case tae:var c=n&Kne;if(l||(l=qne),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Gne,o.set(e,t);var d=Wne(l(e),l(t),n,a,i,o);return o.delete(e),d;case nae:if(Vb)return Vb.call(e)==Vb.call(t)}return!1}var oae=sae;function lae(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var CL=lae,cae=CL,uae=oa;function dae(e,t,r){var n=t(e);return uae(e)?n:cae(n,r(e))}var fae=dae;function hae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var mae=hae;function pae(){return[]}var gae=pae,vae=mae,yae=gae,xae=Object.prototype,bae=xae.propertyIsEnumerable,QE=Object.getOwnPropertySymbols,wae=QE?function(e){return e==null?[]:(e=Object(e),vae(QE(e),function(t){return bae.call(e,t)}))}:yae,jae=wae;function _ae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Sae=_ae,Cae=Fs,Nae=zs,Pae="[object Arguments]";function kae(e){return Nae(e)&&Cae(e)==Pae}var Eae=kae,JE=Eae,Aae=zs,NL=Object.prototype,Oae=NL.hasOwnProperty,Tae=NL.propertyIsEnumerable,Rae=JE(function(){return arguments}())?JE:function(e){return Aae(e)&&Oae.call(e,"callee")&&!Tae.call(e,"callee")},zC=Rae,Rv={exports:{}};function Mae(){return!1}var $ae=Mae;Rv.exports;(function(e,t){var r=rs,n=$ae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Rv,Rv.exports);var PL=Rv.exports,Iae=9007199254740991,Dae=/^(?:0|[1-9]\d*)$/;function Lae(e,t){var r=typeof e;return t=t??Iae,!!t&&(r=="number"||r!="symbol"&&Dae.test(e))&&e>-1&&e%1==0&&e<t}var UC=Lae,Bae=9007199254740991;function Fae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bae}var VC=Fae,zae=Fs,Uae=VC,Vae=zs,Wae="[object Arguments]",Hae="[object Array]",qae="[object Boolean]",Kae="[object Date]",Gae="[object Error]",Yae="[object Function]",Xae="[object Map]",Zae="[object Number]",Qae="[object Object]",Jae="[object RegExp]",eie="[object Set]",tie="[object String]",rie="[object WeakMap]",nie="[object ArrayBuffer]",aie="[object DataView]",iie="[object Float32Array]",sie="[object Float64Array]",oie="[object Int8Array]",lie="[object Int16Array]",cie="[object Int32Array]",uie="[object Uint8Array]",die="[object Uint8ClampedArray]",fie="[object Uint16Array]",hie="[object Uint32Array]",dr={};dr[iie]=dr[sie]=dr[oie]=dr[lie]=dr[cie]=dr[uie]=dr[die]=dr[fie]=dr[hie]=!0;dr[Wae]=dr[Hae]=dr[nie]=dr[qae]=dr[aie]=dr[Kae]=dr[Gae]=dr[Yae]=dr[Xae]=dr[Zae]=dr[Qae]=dr[Jae]=dr[eie]=dr[tie]=dr[rie]=!1;function mie(e){return Vae(e)&&Uae(e.length)&&!!dr[zae(e)]}var pie=mie;function gie(e){return function(t){return e(t)}}var kL=gie,Mv={exports:{}};Mv.exports;(function(e,t){var r=$3,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Mv,Mv.exports);var vie=Mv.exports,yie=pie,xie=kL,eA=vie,tA=eA&&eA.isTypedArray,bie=tA?xie(tA):yie,EL=bie,wie=Sae,jie=zC,_ie=oa,Sie=PL,Cie=UC,Nie=EL,Pie=Object.prototype,kie=Pie.hasOwnProperty;function Eie(e,t){var r=_ie(e),n=!r&&jie(e),a=!r&&!n&&Sie(e),i=!r&&!n&&!a&&Nie(e),o=r||n||a||i,l=o?wie(e.length,String):[],c=l.length;for(var u in e)(t||kie.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cie(u,c)))&&l.push(u);return l}var Aie=Eie,Oie=Object.prototype;function Tie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Oie;return e===r}var Rie=Tie;function Mie(e,t){return function(r){return e(t(r))}}var AL=Mie,$ie=AL,Iie=$ie(Object.keys,Object),Die=Iie,Lie=Rie,Bie=Die,Fie=Object.prototype,zie=Fie.hasOwnProperty;function Uie(e){if(!Lie(e))return Bie(e);var t=[];for(var r in Object(e))zie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Vie=Uie,Wie=CC,Hie=VC;function qie(e){return e!=null&&Hie(e.length)&&!Wie(e)}var sp=qie,Kie=Aie,Gie=Vie,Yie=sp;function Xie(e){return Yie(e)?Kie(e):Gie(e)}var Qx=Xie,Zie=fae,Qie=jae,Jie=Qx;function ese(e){return Zie(e,Jie,Qie)}var tse=ese,rA=tse,rse=1,nse=Object.prototype,ase=nse.hasOwnProperty;function ise(e,t,r,n,a,i){var o=r&rse,l=rA(e),c=l.length,u=rA(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:ase.call(t,h)))return!1}var m=i.get(e),y=i.get(t);if(m&&y)return m==t&&y==e;var g=!0;i.set(e,t),i.set(t,e);for(var p=o;++f<c;){h=l[f];var v=e[h],x=t[h];if(n)var b=o?n(x,v,h,t,e,i):n(v,x,h,e,t,i);if(!(b===void 0?v===x||a(v,x,r,n,i):b)){g=!1;break}p||(p=h=="constructor")}if(g&&!p){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(t),g}var sse=ise,ose=fc,lse=rs,cse=ose(lse,"DataView"),use=cse,dse=fc,fse=rs,hse=dse(fse,"Promise"),mse=hse,pse=fc,gse=rs,vse=pse(gse,"Set"),OL=vse,yse=fc,xse=rs,bse=yse(xse,"WeakMap"),wse=bse,b1=use,w1=PC,j1=mse,_1=OL,S1=wse,TL=Fs,ef=D3,nA="[object Map]",jse="[object Object]",aA="[object Promise]",iA="[object Set]",sA="[object WeakMap]",oA="[object DataView]",_se=ef(b1),Sse=ef(w1),Cse=ef(j1),Nse=ef(_1),Pse=ef(S1),vl=TL;(b1&&vl(new b1(new ArrayBuffer(1)))!=oA||w1&&vl(new w1)!=nA||j1&&vl(j1.resolve())!=aA||_1&&vl(new _1)!=iA||S1&&vl(new S1)!=sA)&&(vl=function(e){var t=TL(e),r=t==jse?e.constructor:void 0,n=r?ef(r):"";if(n)switch(n){case _se:return oA;case Sse:return nA;case Cse:return aA;case Nse:return iA;case Pse:return sA}return t});var kse=vl,Wb=bL,Ese=SL,Ase=oae,Ose=sse,lA=kse,cA=oa,uA=PL,Tse=EL,Rse=1,dA="[object Arguments]",fA="[object Array]",Kp="[object Object]",Mse=Object.prototype,hA=Mse.hasOwnProperty;function $se(e,t,r,n,a,i){var o=cA(e),l=cA(t),c=o?fA:lA(e),u=l?fA:lA(t);c=c==dA?Kp:c,u=u==dA?Kp:u;var d=c==Kp,f=u==Kp,h=c==u;if(h&&uA(e)){if(!uA(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Wb),o||Tse(e)?Ese(e,t,r,n,a,i):Ase(e,t,c,r,n,a,i);if(!(r&Rse)){var m=d&&hA.call(e,"__wrapped__"),y=f&&hA.call(t,"__wrapped__");if(m||y){var g=m?e.value():e,p=y?t.value():t;return i||(i=new Wb),a(g,p,r,n,i)}}return h?(i||(i=new Wb),Ose(e,t,r,n,a,i)):!1}var Ise=$se,Dse=Ise,mA=zs;function RL(e,t,r,n,a){return e===t?!0:e==null||t==null||!mA(e)&&!mA(t)?e!==e&&t!==t:Dse(e,t,r,n,RL,a)}var WC=RL,Lse=bL,Bse=WC,Fse=1,zse=2;function Use(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Lse;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Bse(d,u,Fse|zse,n,f):h))return!1}}return!0}var Vse=Use,Wse=Xo;function Hse(e){return e===e&&!Wse(e)}var ML=Hse,qse=ML,Kse=Qx;function Gse(e){for(var t=Kse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,qse(a)]}return t}var Yse=Gse;function Xse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $L=Xse,Zse=Vse,Qse=Yse,Jse=$L;function eoe(e){var t=Qse(e);return t.length==1&&t[0][2]?Jse(t[0][0],t[0][1]):function(r){return r===e||Zse(r,e,t)}}var toe=eoe;function roe(e,t){return e!=null&&t in Object(e)}var noe=roe,aoe=U3,ioe=zC,soe=oa,ooe=UC,loe=VC,coe=Ix;function uoe(e,t,r){t=aoe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=coe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&loe(a)&&ooe(o,a)&&(soe(e)||ioe(e)))}var doe=uoe,foe=noe,hoe=doe;function moe(e,t){return e!=null&&hoe(e,t,foe)}var poe=moe,goe=WC,voe=V3,yoe=poe,xoe=SC,boe=ML,woe=$L,joe=Ix,_oe=1,Soe=2;function Coe(e,t){return xoe(e)&&boe(t)?woe(joe(e),t):function(r){var n=voe(r,e);return n===void 0&&n===t?yoe(r,e):goe(t,n,_oe|Soe)}}var Noe=Coe;function Poe(e){return e}var tf=Poe;function koe(e){return function(t){return t==null?void 0:t[e]}}var Eoe=koe,Aoe=OC;function Ooe(e){return function(t){return Aoe(t,e)}}var Toe=Ooe,Roe=Eoe,Moe=Toe,$oe=SC,Ioe=Ix;function Doe(e){return $oe(e)?Roe(Ioe(e)):Moe(e)}var Loe=Doe,Boe=toe,Foe=Noe,zoe=tf,Uoe=oa,Voe=Loe;function Woe(e){return typeof e=="function"?e:e==null?zoe:typeof e=="object"?Uoe(e)?Foe(e[0],e[1]):Boe(e):Voe(e)}var ns=Woe;function Hoe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var IL=Hoe;function qoe(e){return e!==e}var Koe=qoe;function Goe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Yoe=Goe,Xoe=IL,Zoe=Koe,Qoe=Yoe;function Joe(e,t,r){return t===t?Qoe(e,t,r):Xoe(e,Zoe,r)}var ele=Joe,tle=ele;function rle(e,t){var r=e==null?0:e.length;return!!r&&tle(e,t,0)>-1}var nle=rle;function ale(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var ile=ale;function sle(){}var ole=sle,Hb=OL,lle=ole,cle=FC,ule=1/0,dle=Hb&&1/cle(new Hb([,-0]))[1]==ule?function(e){return new Hb(e)}:lle,fle=dle,hle=wL,mle=nle,ple=ile,gle=_L,vle=fle,yle=FC,xle=200;function ble(e,t,r){var n=-1,a=mle,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=ple;else if(i>=xle){var u=t?null:vle(e);if(u)return yle(u);o=!1,a=gle,c=new hle}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var wle=ble,jle=ns,_le=wle;function Sle(e,t){return e&&e.length?_le(e,jle(t)):[]}var Cle=Sle;const pA=It(Cle);function DL(e,t,r){return t===!0?pA(e,r):Je(t)?pA(e,t):e}function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}var Nle=["ref"];function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BL(n.key),n)}}function kle(e,t,r){return t&&vA(e.prototype,t),r&&vA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ele(e,t,r){return t=$v(t),Ale(e,LL()?Reflect.construct(t,r||[],$v(e).constructor):t.apply(e,r))}function Ale(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ole(e)}function Ole(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(e)}function Tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(e,t)}function Jx(e,t,r){return t=BL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=Rle(e,"string");return qu(t)=="symbol"?t:t+""}function Rle(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mle(e,t){if(e==null)return{};var r=$le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ile(e){return e.value}function Dle(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=Mle(t,Nle);return I.createElement(BC,r)}var yA=1,Dr=function(e){function t(){var r;Ple(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ele(this,t,[].concat(a)),Jx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Tle(t,e),kle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yA||Math.abs(a.height-this.lastBoundingBox.height)>yA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?os({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return os(os({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=os(os({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Dle(i,os(os({},this.props),{},{payload:DL(d,u,Ile)})))}}],[{key:"getWithHeight",value:function(n,a){var i=os(os({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);Jx(Dr,"displayName","Legend");Jx(Dr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xA=ip,Lle=zC,Ble=oa,bA=xA?xA.isConcatSpreadable:void 0;function Fle(e){return Ble(e)||Lle(e)||!!(bA&&e&&e[bA])}var zle=Fle,Ule=CL,Vle=zle;function FL(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Vle),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?FL(l,t-1,r,n,a):Ule(a,l):n||(a[a.length]=l)}return a}var zL=FL;function Wle(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Hle=Wle,qle=Hle,Kle=qle(),Gle=Kle,Yle=Gle,Xle=Qx;function Zle(e,t){return e&&Yle(e,t,Xle)}var UL=Zle,Qle=sp;function Jle(e,t){return function(r,n){if(r==null)return r;if(!Qle(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var ece=Jle,tce=UL,rce=ece,nce=rce(tce),HC=nce,ace=HC,ice=sp;function sce(e,t){var r=-1,n=ice(e)?Array(e.length):[];return ace(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var VL=sce;function oce(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var lce=oce,wA=Kd;function cce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=wA(e),o=t!==void 0,l=t===null,c=t===t,u=wA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var uce=cce,dce=uce;function fce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=dce(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var hce=fce,qb=AC,mce=OC,pce=ns,gce=VL,vce=lce,yce=kL,xce=hce,bce=tf,wce=oa;function jce(e,t,r){t.length?t=qb(t,function(i){return wce(i)?function(o){return mce(o,i.length===1?i[0]:i)}:i}):t=[bce];var n=-1;t=qb(t,yce(pce));var a=gce(e,function(i,o,l){var c=qb(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return vce(a,function(i,o){return xce(i,o,r)})}var _ce=jce;function Sce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Cce=Sce,Nce=Cce,jA=Math.max;function Pce(e,t,r){return t=jA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=jA(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Nce(e,this,l)}}var kce=Pce;function Ece(e){return function(){return e}}var Ace=Ece,Oce=fc,Tce=function(){try{var e=Oce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WL=Tce,Rce=Ace,_A=WL,Mce=tf,$ce=_A?function(e,t){return _A(e,"toString",{configurable:!0,enumerable:!1,value:Rce(t),writable:!0})}:Mce,Ice=$ce,Dce=800,Lce=16,Bce=Date.now;function Fce(e){var t=0,r=0;return function(){var n=Bce(),a=Lce-(n-r);if(r=n,a>0){if(++t>=Dce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zce=Fce,Uce=Ice,Vce=zce,Wce=Vce(Uce),Hce=Wce,qce=tf,Kce=kce,Gce=Hce;function Yce(e,t){return Gce(Kce(e,t,qce),e+"")}var Xce=Yce,Zce=NC,Qce=sp,Jce=UC,eue=Xo;function tue(e,t,r){if(!eue(r))return!1;var n=typeof t;return(n=="number"?Qce(r)&&Jce(t,r.length):n=="string"&&t in r)?Zce(r[t],e):!1}var e0=tue,rue=zL,nue=_ce,aue=Xce,SA=e0,iue=aue(function(e,t){if(e==null)return[];var r=t.length;return r>1&&SA(e,t[0],t[1])?t=[]:r>2&&SA(t[0],t[1],t[2])&&(t=[t[0]]),nue(e,rue(t,1),[])}),sue=iue;const qC=It(sue);function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function oue(e,t){return due(e)||uue(e,t)||cue(e,t)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function due(e){if(Array.isArray(e))return e}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){fue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fue(e,t,r){return t=hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hue(e){var t=mue(e,"string");return rm(t)=="symbol"?t:t+""}function mue(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pue(e){return Array.isArray(e)&&nn(e[0])&&nn(e[1])?e.join(" ~ "):e}var gue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,g=t.label,p=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(d&&d.length){var E={padding:0,margin:0},T=(h?qC(d,h):d).map(function(P,A){if(P.type==="none")return null;var $=Kb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},l),M=P.formatter||f||pue,L=P.value,B=P.name,z=L,re=B;if(M&&z!=null&&re!=null){var ee=M(L,B,P,A,d);if(Array.isArray(ee)){var se=oue(ee,2);z=se[0],re=se[1]}else z=ee}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:$},nn(re)?I.createElement("span",{className:"recharts-tooltip-item-name"},re):null,nn(re)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},_=Kb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Kb({margin:0},u),S=!Qe(g),C=S?g:"",k=dt("recharts-default-tooltip",m),N=dt("recharts-tooltip-label",y);S&&p&&d!==void 0&&d!==null&&(C=p(g,d));var R=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",N1({className:k,style:_},R),I.createElement("p",{className:N,style:j},I.isValidElement(C)?C:"".concat(C)),b())};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function Gp(e,t,r){return t=vue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=yue(e,"string");return nm(t)=="symbol"?t:t+""}function yue(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f="recharts-tooltip-wrapper",xue={visibility:"hidden"};function bue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return dt(_f,Gp(Gp(Gp(Gp({},"".concat(_f,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(_f,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(_f,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(_f,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function PA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function wue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=PA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=PA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=wue({translateX:d,translateY:f,useTranslate3d:l})):u=xue,{cssProperties:u,cssClasses:bue({translateX:d,translateY:f,coordinate:r})}}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){k1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qL(n.key),n)}}function Cue(e,t,r){return t&&Sue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nue(e,t,r){return t=Iv(t),Pue(e,HL()?Reflect.construct(t,r||[],Iv(e).constructor):t.apply(e,r))}function Pue(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(e)}function kue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!e})()}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(e)}function Eue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P1(e,t)}function k1(e,t,r){return t=qL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=Aue(e,"string");return Ku(t)=="symbol"?t:t+""}function Aue(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AA=1,Oue=function(e){function t(){var r;_ue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Nue(this,t,[].concat(a)),k1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),k1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Eue(t,e),Cue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AA||Math.abs(n.height-this.state.lastBoundingBox.height)>AA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,y=a.position,g=a.reverseDirection,p=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,b=jue({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:v}),_=b.cssClasses,j=b.cssProperties,S=EA(EA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(w.PureComponent),Tue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},La={isSsr:Tue(),get:function(t){return La[t]},set:function(t,r){if(typeof t=="string")La[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){La[a]=t[a]})}}};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){KC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GL(n.key),n)}}function $ue(e,t,r){return t&&Mue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iue(e,t,r){return t=Dv(t),Due(e,KL()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function Due(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lue(e)}function Lue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function Bue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E1(e,t)}function KC(e,t,r){return t=GL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e){var t=Fue(e,"string");return Gu(t)=="symbol"?t:t+""}function Fue(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zue(e){return e.dataKey}function Uue(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(gue,t)}var St=function(e){function t(){return Rue(this,t),Iue(this,t,arguments)}return Bue(t,e),$ue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,y=a.payload,g=a.payloadUniqBy,p=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=y??[];f&&j.length&&(j=DL(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),g,zue));var S=j.length>0;return I.createElement(Oue,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:p,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},Uue(u,TA(TA({},this.props),{},{payload:j})))}}])}(w.PureComponent);KC(St,"displayName","Tooltip");KC(St,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!La.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vue=rs,Wue=function(){return Vue.Date.now()},Hue=Wue,que=/\s/;function Kue(e){for(var t=e.length;t--&&que.test(e.charAt(t)););return t}var Gue=Kue,Yue=Gue,Xue=/^\s+/;function Zue(e){return e&&e.slice(0,Yue(e)+1).replace(Xue,"")}var Que=Zue,Jue=Que,RA=Xo,ede=Kd,MA=NaN,tde=/^[-+]0x[0-9a-f]+$/i,rde=/^0b[01]+$/i,nde=/^0o[0-7]+$/i,ade=parseInt;function ide(e){if(typeof e=="number")return e;if(ede(e))return MA;if(RA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jue(e);var r=rde.test(e);return r||nde.test(e)?ade(e.slice(2),r?2:8):tde.test(e)?MA:+e}var YL=ide,sde=Xo,Gb=Hue,$A=YL,ode="Expected a function",lde=Math.max,cde=Math.min;function ude(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(ode);t=$A(t)||0,sde(r)&&(d=!!r.leading,f="maxWait"in r,i=f?lde($A(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var C=n,k=a;return n=a=void 0,u=S,o=e.apply(k,C),o}function y(S){return u=S,l=setTimeout(v,t),d?m(S):o}function g(S){var C=S-c,k=S-u,N=t-C;return f?cde(N,i-k):N}function p(S){var C=S-c,k=S-u;return c===void 0||C>=t||C<0||f&&k>=i}function v(){var S=Gb();if(p(S))return x(S);l=setTimeout(v,g(S))}function x(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(Gb())}function j(){var S=Gb(),C=p(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return j.cancel=b,j.flush=_,j}var dde=ude,fde=dde,hde=Xo,mde="Expected a function";function pde(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(mde);return hde(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),fde(e,t,{leading:n,maxWait:t,trailing:a})}var gde=pde;const XL=It(gde);function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){vde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vde(e,t,r){return t=yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=xde(e,"string");return am(t)=="symbol"?t:t+""}function xde(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bde(e,t){return Sde(e)||_de(e,t)||jde(e,t)||wde()}function wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(e,t){if(e){if(typeof e=="string")return DA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(e,t)}}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _de(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Sde(e){if(Array.isArray(e))return e}var br=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,g=y===void 0?0:y,p=e.id,v=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,j=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),k=bde(C,2),N=k[0],R=k[1],O=w.useCallback(function(T,P){R(function(A){var $=Math.round(T),M=Math.round(P);return A.containerWidth===$&&A.containerHeight===M?A:{containerWidth:$,containerHeight:M}})},[]);w.useEffect(function(){var T=function(B){var z,re=B[0].contentRect,ee=re.width,se=re.height;O(ee,se),(z=S.current)===null||z===void 0||z.call(S,ee,se)};g>0&&(T=XL(T,g,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),A=j.current.getBoundingClientRect(),$=A.width,M=A.height;return O($,M),P.observe(j.current),function(){P.disconnect()}},[O,g]);var E=w.useMemo(function(){var T=N.containerWidth,P=N.containerHeight;if(T<0||P<0)return null;vi(El(o)||El(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=El(o)?T:o,$=El(c)?P:c;r&&r>0&&(A?$=A/r:$&&(A=$*r),h&&$>h&&($=h)),vi(A>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,$,o,c,d,f,r);var M=!Array.isArray(m)&&_s(m.type).endsWith("Chart");return I.Children.map(m,function(L){return I.isValidElement(L)?w.cloneElement(L,Yp({width:A,height:$},M?{style:Yp({height:"100%",width:"100%",maxHeight:$,maxWidth:A},L.props.style)}:{})):L})},[r,m,c,h,f,d,N,o]);return I.createElement("div",{id:p?"".concat(p):void 0,className:dt("recharts-responsive-container",v),style:Yp(Yp({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),Qo=function(t){return null};Qo.displayName="Cell";function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){Cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cde(e,t,r){return t=Nde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nde(e){var t=Pde(e,"string");return im(t)=="symbol"?t:t+""}function Pde(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _c={widthCache:{},cacheCount:0},kde=2e3,Ede={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BA="recharts_measurement_span";function Ade(e){var t=A1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var oh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||La.isSsr)return{width:0,height:0};var n=Ade(r),a=JSON.stringify({text:t,copyStyle:n});if(_c.widthCache[a])return _c.widthCache[a];try{var i=document.getElementById(BA);i||(i=document.createElement("span"),i.setAttribute("id",BA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=A1(A1({},Ede),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return _c.widthCache[a]=c,++_c.cacheCount>kde&&(_c.cacheCount=0,_c.widthCache={}),c}catch{return{width:0,height:0}}},Ode=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function Lv(e,t){return $de(e)||Mde(e,t)||Rde(e,t)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $de(e){if(Array.isArray(e))return e}function Ide(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lde(n.key),n)}}function Dde(e,t,r){return t&&zA(e.prototype,t),r&&zA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lde(e){var t=Bde(e,"string");return sm(t)=="symbol"?t:t+""}function Bde(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ude=Object.keys(ZL),ru="NaN";function Vde(e,t){return e*ZL[t]}var Xp=function(){function e(t,r){Ide(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Fde.test(r)&&(this.num=NaN,this.unit=""),Ude.includes(r)&&(this.num=Vde(t,r),this.unit="px")}return Dde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=zde.exec(r))!==null&&n!==void 0?n:[],i=Lv(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function QL(e){if(e.includes(ru))return ru;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=UA.exec(t))!==null&&r!==void 0?r:[],a=Lv(n,4),i=a[1],o=a[2],l=a[3],c=Xp.parse(i??""),u=Xp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ru;t=t.replace(UA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=VA.exec(t))!==null&&f!==void 0?f:[],m=Lv(h,4),y=m[1],g=m[2],p=m[3],v=Xp.parse(y??""),x=Xp.parse(p??""),b=g==="+"?v.add(x):v.subtract(x);if(b.isNaN())return ru;t=t.replace(VA,b.toString())}return t}var WA=/\(([^()]*)\)/;function Wde(e){for(var t=e;t.includes("(");){var r=WA.exec(t),n=Lv(r,2),a=n[1];t=t.replace(WA,QL(a))}return t}function Hde(e){var t=e.replace(/\s+/g,"");return t=Wde(t),t=QL(t),t}function qde(e){try{return Hde(e)}catch{return ru}}function Yb(e){var t=qde(e.slice(5,-1));return t===ru?"":t}var Kde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gde=["dx","dy","angle","className","breakAll"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}function HA(e,t){if(e==null)return{};var r=Yde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qA(e,t){return Jde(e)||Qde(e,t)||Zde(e,t)||Xde()}function Xde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zde(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Jde(e){if(Array.isArray(e))return e}var JL=/[ \f\n\r\t\v\u2028\u2029]+/,e4=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Qe(r)||(n?i=r.toString().split(""):i=r.toString().split(JL));var o=i.map(function(c){return{word:c,width:oh(c,a).width}}),l=n?0:oh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},efe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),f=l,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function($,M){var L=M.word,B=M.width,z=$[$.length-1];if(z&&(a==null||i||z.width+B+n<Number(a)))z.words.push(L),z.width+=B+n;else{var re={words:[L],width:B};$.push(re)}return $},[])},m=h(r),y=function(A){return A.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return m;for(var g="",p=function(A){var $=f.slice(0,A),M=e4({breakAll:u,style:c,children:$+g}).wordsWithComputedWidth,L=h(M),B=L.length>o||y(L).width>Number(a);return[B,L]},v=0,x=f.length-1,b=0,_;v<=x&&b<=f.length-1;){var j=Math.floor((v+x)/2),S=j-1,C=p(S),k=qA(C,2),N=k[0],R=k[1],O=p(j),E=qA(O,1),T=E[0];if(!N&&!T&&(v=j+1),N&&T&&(x=j-1),!N&&T){_=R;break}b++}return _||m},GA=function(t){var r=Qe(t)?[]:t.toString().split(JL);return[{words:r}]},tfe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!La.isSsr){var c,u,d=e4({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return GA(a);return efe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return GA(a)},YA="#808080",ec=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,g=y===void 0?"end":y,p=t.fill,v=p===void 0?YA:p,x=HA(t,Kde),b=w.useMemo(function(){return tfe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,j=x.dy,S=x.angle,C=x.className,k=x.breakAll,N=HA(x,Gde);if(!nn(n)||!nn(i))return null;var R=n+(je(_)?_:0),O=i+(je(j)?j:0),E;switch(g){case"start":E=Yb("calc(".concat(u,")"));break;case"middle":E=Yb("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Yb("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(f){var P=b[0].width,A=x.width;T.push("scale(".concat((je(A)?A/P:1)/P,")"))}return S&&T.push("rotate(".concat(S,", ").concat(R,", ").concat(O,")")),T.length&&(N.transform=T.join(" ")),I.createElement("text",O1({},We(N,!0),{x:R,y:O,className:dt("recharts-text",C),textAnchor:m,fill:v.includes("url")?YA:v}),b.map(function($,M){var L=$.words.join(k?"":" ");return I.createElement("tspan",{x:R,dy:M===0?E:l,key:"".concat(L,"-").concat(M)},L)}))};function Ro(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GC(e){let t,r,n;e.length!==2?(t=Ro,r=(l,c)=>Ro(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ro||e===rfe?e:nfe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function nfe(){return 0}function t4(e){return e===null?NaN:+e}function*afe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ife=GC(Ro),op=ife.right;GC(t4).center;class XA extends Map{constructor(t,r=lfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ZA(this,t))}has(t){return super.has(ZA(this,t))}set(t,r){return super.set(sfe(this,t),r)}delete(t){return super.delete(ofe(this,t))}}function ZA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function sfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ofe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cfe(e=Ro){if(e===Ro)return r4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ufe=Math.sqrt(50),dfe=Math.sqrt(10),ffe=Math.sqrt(2);function Bv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=ufe?10:i>=dfe?5:i>=ffe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Bv(e,t,r*2):[l,c,u]}function T1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Bv(t,e,r):Bv(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function R1(e,t,r){return t=+t,e=+e,r=+r,Bv(e,t,r)[2]}function M1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?R1(t,e,r):R1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function QA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?r4:cfe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));n4(e,t,m,y,a)}const i=e[t];let o=r,l=n;for(Sf(e,r,t),a(e[n],i)>0&&Sf(e,r,n);o<l;){for(Sf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Sf(e,r,l):(++l,Sf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Sf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hfe(e,t,r){if(e=Float64Array.from(afe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return JA(e);if(t>=1)return QA(e);var n,a=(n-1)*t,i=Math.floor(a),o=QA(n4(e,i).subarray(0,i+1)),l=JA(e.subarray(i+1));return o+(l-o)*(a-i)}}function mfe(e,t,r=t4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function pfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Us(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $1=Symbol("implicit");function YC(){var e=new XA,t=[],r=[],n=$1;function a(i){let o=e.get(i);if(o===void 0){if(n!==$1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new XA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return YC(t,r).unknown(n)},Ha.apply(a,arguments),a}function om(){var e=YC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,y=m?a:n,g=m?n:a;i=(g-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var p=pfe(h).map(function(v){return y+i*v});return r(m?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return om(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ha.apply(f(),arguments)}function a4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a4(t())},e}function lh(){return a4(om.apply(null,arguments).paddingInner(1))}function XC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lp(){}var lm=.7,Fv=1/lm,yu="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gfe=/^#([0-9a-f]{3,8})$/,vfe=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),yfe=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),xfe=new RegExp(`^rgba\\(${yu},${yu},${yu},${cm}\\)$`),bfe=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${cm}\\)$`),wfe=new RegExp(`^hsl\\(${cm},${Gi},${Gi}\\)$`),jfe=new RegExp(`^hsla\\(${cm},${Gi},${Gi},${cm}\\)$`),eO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XC(lp,um,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tO,formatHex:tO,formatHex8:_fe,formatHsl:Sfe,formatRgb:rO,toString:rO});function tO(){return this.rgb().formatHex()}function _fe(){return this.rgb().formatHex8()}function Sfe(){return s4(this).formatHsl()}function rO(){return this.rgb().formatRgb()}function um(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nO(t):r===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vfe.exec(e))?new ta(t[1],t[2],t[3],1):(t=yfe.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xfe.exec(e))?Zp(t[1],t[2],t[3],t[4]):(t=bfe.exec(e))?Zp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wfe.exec(e))?sO(t[1],t[2]/100,t[3]/100,1):(t=jfe.exec(e))?sO(t[1],t[2]/100,t[3]/100,t[4]):eO.hasOwnProperty(e)?nO(eO[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function nO(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function Zp(e,t,r,n){return n<=0&&(e=t=r=NaN),new ta(e,t,r,n)}function Cfe(e){return e instanceof lp||(e=um(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function I1(e,t,r,n){return arguments.length===1?Cfe(e):new ta(e,t,r,n??1)}function ta(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}XC(ta,I1,i4(lp,{brighter(e){return e=e==null?Fv:Math.pow(Fv,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(Vl(this.r),Vl(this.g),Vl(this.b),zv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aO,formatHex:aO,formatHex8:Nfe,formatRgb:iO,toString:iO}));function aO(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function Nfe(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function iO(){const e=zv(this.opacity);return`${e===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${e===1?")":`, ${e})`}`}function zv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Al(e){return e=Vl(e),(e<16?"0":"")+e.toString(16)}function sO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new di(e,t,r,n)}function s4(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);if(e instanceof lp||(e=um(e)),!e)return new di;if(e instanceof di)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new di(o,l,c,e.opacity)}function Pfe(e,t,r,n){return arguments.length===1?s4(e):new di(e,t,r,n??1)}function di(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}XC(di,Pfe,i4(lp,{brighter(e){return e=e==null?Fv:Math.pow(Fv,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ta(Xb(e>=240?e-240:e+120,a,n),Xb(e,a,n),Xb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new di(oO(this.h),Qp(this.s),Qp(this.l),zv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zv(this.opacity);return`${e===1?"hsl(":"hsla("}${oO(this.h)}, ${Qp(this.s)*100}%, ${Qp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oO(e){return e=(e||0)%360,e<0?e+360:e}function Qp(e){return Math.max(0,Math.min(1,e||0))}function Xb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ZC=e=>()=>e;function kfe(e,t){return function(r){return e+r*t}}function Efe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Afe(e){return(e=+e)==1?o4:function(t,r){return r-t?Efe(t,r,e):ZC(isNaN(t)?r:t)}}function o4(e,t){var r=t-e;return r?kfe(e,r):ZC(isNaN(e)?t:e)}const lO=function e(t){var r=Afe(t);function n(a,i){var o=r((a=I1(a)).r,(i=I1(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=o4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Ofe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Tfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=rf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Mfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $fe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var D1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zb=new RegExp(D1.source,"g");function Ife(e){return function(){return e}}function Dfe(e){return function(t){return e(t)+""}}function Lfe(e,t){var r=D1.lastIndex=Zb.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=D1.exec(e))&&(a=Zb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Uv(n,a)})),r=Zb.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Dfe(c[0].x):Ife(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?ZC(t):(r==="number"?Uv:r==="string"?(n=um(t))?(t=n,lO):Lfe:t instanceof um?lO:t instanceof Date?Mfe:Tfe(t)?Ofe:Array.isArray(t)?Rfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$fe:Uv)(e,t)}function QC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Bfe(e,t){t===void 0&&(t=e,e=rf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Ffe(e){return function(){return e}}function Vv(e){return+e}var cO=[0,1];function Wn(e){return e}function L1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ffe(isNaN(t)?NaN:.5)}function zfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ufe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=L1(a,n),i=r(o,i)):(n=L1(n,a),i=r(i,o)),function(l){return i(n(l))}}function Vfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=L1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=op(e,l,1,n)-1;return i[c](a[c](l))}}function cp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function t0(){var e=cO,t=cO,r=rf,n,a,i,o=Wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Wn&&(o=zfe(e[0],e[h-1])),l=h>2?Vfe:Ufe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Uv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Vv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=QC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Wn,d()):o!==Wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function JC(){return t0()(Wn,Wn)}function Wfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yu(e){return e=Wv(Math.abs(e)),e?e[1]:NaN}function Hfe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function qfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Kfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(e){if(!(t=Kfe.exec(e)))throw new Error("invalid format: "+e);var t;return new eN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dm.prototype=eN.prototype;function eN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var l4;function Yfe(e,t){var r=Wv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(l4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Wv(e,Math.max(0,t+i-1))[0]}function uO(e,t){var r=Wv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const dO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uO(e*100,t),r:uO,s:Yfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fO(e){return e}var hO=Array.prototype.map,mO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xfe(e){var t=e.grouping===void 0||e.thousands===void 0?fO:Hfe(hO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?fO:qfe(hO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=dm(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,p=f.zero,v=f.width,x=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):dO[j]||(b===void 0&&(b=12),_=!0,j="g"),(p||h==="0"&&m==="=")&&(p=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=g==="$"?n:/[%p]/.test(j)?o:"",k=dO[j],N=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(O){var E=S,T=C,P,A,$;if(j==="c")T=k(O)+T,O="";else{O=+O;var M=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),b),_&&(O=Gfe(O)),M&&+O==0&&y!=="+"&&(M=!1),E=(M?y==="("?y:l:y==="-"||y==="("?"":y)+E,T=(j==="s"?mO[8+l4/3]:"")+T+(M&&y==="("?")":""),N){for(P=-1,A=O.length;++P<A;)if($=O.charCodeAt(P),48>$||$>57){T=($===46?a+O.slice(P+1):O.slice(P))+T,O=O.slice(0,P);break}}}x&&!p&&(O=t(O,1/0));var L=E.length+O.length+T.length,B=L<v?new Array(v-L+1).join(h):"";switch(x&&p&&(O=t(B+O,B.length?v-T.length:1/0),B=""),m){case"<":O=E+O+T+B;break;case"=":O=E+B+O+T;break;case"^":O=B.slice(0,L=B.length>>1)+E+O+T+B.slice(L);break;default:O=B+E+O+T;break}return i(O)}return R.toString=function(){return f+""},R}function d(f,h){var m=u((f=dm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Yu(h)/3)))*3,g=Math.pow(10,-y),p=mO[8+y/3];return function(v){return m(g*v)+p}}return{format:u,formatPrefix:d}}var Jp,tN,c4;Zfe({thousands:",",grouping:[3],currency:["$",""]});function Zfe(e){return Jp=Xfe(e),tN=Jp.format,c4=Jp.formatPrefix,Jp}function Qfe(e){return Math.max(0,-Yu(Math.abs(e)))}function Jfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yu(t)/3)))*3-Yu(Math.abs(e)))}function ehe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yu(t)-Yu(e))+1}function u4(e,t,r,n){var a=M1(e,t,r),i;switch(n=dm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Jfe(a,o))&&(n.precision=i),c4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ehe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Qfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return tN(n)}function Jo(e){var t=e.domain;return e.ticks=function(r){var n=t();return T1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return u4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=R1(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Hv(){var e=JC();return e.copy=function(){return cp(e,Hv())},Ha.apply(e,arguments),Jo(e)}function d4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d4(e).unknown(t)},e=arguments.length?Array.from(e,Vv):[0,1],Jo(r)}function f4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function pO(e){return Math.log(e)}function gO(e){return Math.exp(e)}function the(e){return-Math.log(-e)}function rhe(e){return-Math.exp(-e)}function nhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ahe(e){return e===10?nhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ihe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vO(e){return(t,r)=>-e(-t,r)}function rN(e){const t=e(pO,gO),r=t.domain;let n=10,a,i;function o(){return a=ihe(n),i=ahe(n),r()[0]<0?(a=vO(a),i=vO(i),e(the,rhe)):e(pO,gO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),y,g;const p=l==null?10:+l;let v=[];if(!(n%1)&&m-h<p){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(g=h<0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(g=h>0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<p&&(v=T1(u,d,p))}else v=T1(h,m,Math.min(m-h,p)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=dm(c)).precision==null&&(c.trim=!0),c=tN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(f4(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function h4(){const e=rN(t0()).domain([1,10]);return e.copy=()=>cp(e,h4()).base(e.base()),Ha.apply(e,arguments),e}function yO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nN(e){var t=1,r=e(yO(t),xO(t));return r.constant=function(n){return arguments.length?e(yO(t=+n),xO(t)):t},Jo(r)}function m4(){var e=nN(t0());return e.copy=function(){return cp(e,m4()).constant(e.constant())},Ha.apply(e,arguments)}function bO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function she(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ohe(e){return e<0?-e*e:e*e}function aN(e){var t=e(Wn,Wn),r=1;function n(){return r===1?e(Wn,Wn):r===.5?e(she,ohe):e(bO(r),bO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Jo(t)}function iN(){var e=aN(t0());return e.copy=function(){return cp(e,iN()).exponent(e.exponent())},Ha.apply(e,arguments),e}function lhe(){return iN.apply(null,arguments).exponent(.5)}function wO(e){return Math.sign(e)*e*e}function che(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p4(){var e=JC(),t=[0,1],r=!1,n;function a(i){var o=che(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(wO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Vv)).map(wO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return p4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ha.apply(a,arguments),Jo(a)}function g4(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=mfe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[op(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ro),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return g4().domain(e).range(t).unknown(n)},Ha.apply(i,arguments)}function v4(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[op(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return v4().domain([e,t]).range(a).unknown(i)},Ha.apply(Jo(o),arguments)}function y4(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[op(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return y4().domain(e).range(t).unknown(r)},Ha.apply(a,arguments)}const Qb=new Date,Jb=new Date;function an(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>an(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Qb.setTime(+i),Jb.setTime(+o),e(Qb),e(Jb),Math.floor(r(Qb,Jb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const qv=an(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?an(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qv);qv.range;const ys=1e3,Ia=ys*60,xs=Ia*60,Os=xs*24,sN=Os*7,jO=Os*30,ew=Os*365,Ol=an(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());Ol.range;const oN=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getMinutes());oN.range;const lN=an(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCMinutes());lN.range;const cN=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*Ia)},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getHours());cN.range;const uN=an(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getUTCHours());uN.range;const up=an(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ia)/Os,e=>e.getDate()-1);up.range;const r0=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>e.getUTCDate()-1);r0.range;const x4=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>Math.floor(e/Os));x4.range;function hc(e){return an(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/sN)}const n0=hc(0),Kv=hc(1),uhe=hc(2),dhe=hc(3),Xu=hc(4),fhe=hc(5),hhe=hc(6);n0.range;Kv.range;uhe.range;dhe.range;Xu.range;fhe.range;hhe.range;function mc(e){return an(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/sN)}const a0=mc(0),Gv=mc(1),mhe=mc(2),phe=mc(3),Zu=mc(4),ghe=mc(5),vhe=mc(6);a0.range;Gv.range;mhe.range;phe.range;Zu.range;ghe.range;vhe.range;const dN=an(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dN.range;const fN=an(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fN.range;const Ts=an(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ts.range;const Rs=an(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rs.range;function b4(e,t,r,n,a,i){const o=[[Ol,1,ys],[Ol,5,5*ys],[Ol,15,15*ys],[Ol,30,30*ys],[i,1,Ia],[i,5,5*Ia],[i,15,15*Ia],[i,30,30*Ia],[a,1,xs],[a,3,3*xs],[a,6,6*xs],[a,12,12*xs],[n,1,Os],[n,2,2*Os],[r,1,sN],[t,1,jO],[t,3,3*jO],[e,1,ew]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=GC(([,,p])=>p).right(o,h);if(m===o.length)return e.every(M1(u/ew,d/ew,f));if(m===0)return qv.every(Math.max(M1(u,d,f),1));const[y,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(g)}return[l,c]}const[yhe,xhe]=b4(Rs,fN,a0,x4,uN,lN),[bhe,whe]=b4(Ts,dN,n0,up,cN,oN);function tw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jhe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Nf(a),d=Pf(a),f=Nf(i),h=Pf(i),m=Nf(o),y=Pf(o),g=Nf(l),p=Pf(l),v=Nf(c),x=Pf(c),b={a:M,A:L,b:B,B:z,c:null,d:kO,e:kO,f:Hhe,g:tme,G:nme,H:Uhe,I:Vhe,j:Whe,L:w4,m:qhe,M:Khe,p:re,q:ee,Q:OO,s:TO,S:Ghe,u:Yhe,U:Xhe,V:Zhe,w:Qhe,W:Jhe,x:null,X:null,y:eme,Y:rme,Z:ame,"%":AO},_={a:se,A:U,b:V,B:K,c:null,d:EO,e:EO,f:lme,g:yme,G:bme,H:ime,I:sme,j:ome,L:_4,m:cme,M:ume,p:q,q:me,Q:OO,s:TO,S:dme,u:fme,U:hme,V:mme,w:pme,W:gme,x:null,X:null,y:vme,Y:xme,Z:wme,"%":AO},j={a:R,A:O,b:E,B:T,c:P,d:NO,e:NO,f:Lhe,g:CO,G:SO,H:PO,I:PO,j:Mhe,L:Dhe,m:Rhe,M:$he,p:N,q:The,Q:Fhe,s:zhe,S:Ihe,u:Phe,U:khe,V:Ehe,w:Nhe,W:Ahe,x:A,X:$,y:CO,Y:SO,Z:Ohe,"%":Bhe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(D,G){return function(W){var X=[],Q=-1,we=0,$e=D.length,qe,ge,Pe;for(W instanceof Date||(W=new Date(+W));++Q<$e;)D.charCodeAt(Q)===37&&(X.push(D.slice(we,Q)),(ge=_O[qe=D.charAt(++Q)])!=null?qe=D.charAt(++Q):ge=qe==="e"?" ":"0",(Pe=G[qe])&&(qe=Pe(W,ge)),X.push(qe),we=Q+1);return X.push(D.slice(we,Q)),X.join("")}}function C(D,G){return function(W){var X=Cf(1900,void 0,1),Q=k(X,D,W+="",0),we,$e;if(Q!=W.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(G&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(we=rw(Cf(X.y,0,1)),$e=we.getUTCDay(),we=$e>4||$e===0?Gv.ceil(we):Gv(we),we=r0.offset(we,(X.V-1)*7),X.y=we.getUTCFullYear(),X.m=we.getUTCMonth(),X.d=we.getUTCDate()+(X.w+6)%7):(we=tw(Cf(X.y,0,1)),$e=we.getDay(),we=$e>4||$e===0?Kv.ceil(we):Kv(we),we=up.offset(we,(X.V-1)*7),X.y=we.getFullYear(),X.m=we.getMonth(),X.d=we.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),$e="Z"in X?rw(Cf(X.y,0,1)).getUTCDay():tw(Cf(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-($e+5)%7:X.w+X.U*7-($e+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,rw(X)):tw(X)}}function k(D,G,W,X){for(var Q=0,we=G.length,$e=W.length,qe,ge;Q<we;){if(X>=$e)return-1;if(qe=G.charCodeAt(Q++),qe===37){if(qe=G.charAt(Q++),ge=j[qe in _O?G.charAt(Q++):qe],!ge||(X=ge(D,W,X))<0)return-1}else if(qe!=W.charCodeAt(X++))return-1}return X}function N(D,G,W){var X=u.exec(G.slice(W));return X?(D.p=d.get(X[0].toLowerCase()),W+X[0].length):-1}function R(D,G,W){var X=m.exec(G.slice(W));return X?(D.w=y.get(X[0].toLowerCase()),W+X[0].length):-1}function O(D,G,W){var X=f.exec(G.slice(W));return X?(D.w=h.get(X[0].toLowerCase()),W+X[0].length):-1}function E(D,G,W){var X=v.exec(G.slice(W));return X?(D.m=x.get(X[0].toLowerCase()),W+X[0].length):-1}function T(D,G,W){var X=g.exec(G.slice(W));return X?(D.m=p.get(X[0].toLowerCase()),W+X[0].length):-1}function P(D,G,W){return k(D,t,G,W)}function A(D,G,W){return k(D,r,G,W)}function $(D,G,W){return k(D,n,G,W)}function M(D){return o[D.getDay()]}function L(D){return i[D.getDay()]}function B(D){return c[D.getMonth()]}function z(D){return l[D.getMonth()]}function re(D){return a[+(D.getHours()>=12)]}function ee(D){return 1+~~(D.getMonth()/3)}function se(D){return o[D.getUTCDay()]}function U(D){return i[D.getUTCDay()]}function V(D){return c[D.getUTCMonth()]}function K(D){return l[D.getUTCMonth()]}function q(D){return a[+(D.getUTCHours()>=12)]}function me(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=S(D+="",b);return G.toString=function(){return D},G},parse:function(D){var G=C(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=S(D+="",_);return G.toString=function(){return D},G},utcParse:function(D){var G=C(D+="",!0);return G.toString=function(){return D},G}}}var _O={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,_he=/^%/,She=/[\\^$*+?|[\]().{}]/g;function Rt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Che(e){return e.replace(She,"\\$&")}function Nf(e){return new RegExp("^(?:"+e.map(Che).join("|")+")","i")}function Pf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Nhe(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Phe(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function khe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ehe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ahe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function SO(e,t,r){var n=hn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ohe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function The(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Rhe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function NO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Mhe(e,t,r){var n=hn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $he(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ihe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Dhe(e,t,r){var n=hn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lhe(e,t,r){var n=hn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bhe(e,t,r){var n=_he.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Fhe(e,t,r){var n=hn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zhe(e,t,r){var n=hn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kO(e,t){return Rt(e.getDate(),t,2)}function Uhe(e,t){return Rt(e.getHours(),t,2)}function Vhe(e,t){return Rt(e.getHours()%12||12,t,2)}function Whe(e,t){return Rt(1+up.count(Ts(e),e),t,3)}function w4(e,t){return Rt(e.getMilliseconds(),t,3)}function Hhe(e,t){return w4(e,t)+"000"}function qhe(e,t){return Rt(e.getMonth()+1,t,2)}function Khe(e,t){return Rt(e.getMinutes(),t,2)}function Ghe(e,t){return Rt(e.getSeconds(),t,2)}function Yhe(e){var t=e.getDay();return t===0?7:t}function Xhe(e,t){return Rt(n0.count(Ts(e)-1,e),t,2)}function j4(e){var t=e.getDay();return t>=4||t===0?Xu(e):Xu.ceil(e)}function Zhe(e,t){return e=j4(e),Rt(Xu.count(Ts(e),e)+(Ts(e).getDay()===4),t,2)}function Qhe(e){return e.getDay()}function Jhe(e,t){return Rt(Kv.count(Ts(e)-1,e),t,2)}function eme(e,t){return Rt(e.getFullYear()%100,t,2)}function tme(e,t){return e=j4(e),Rt(e.getFullYear()%100,t,2)}function rme(e,t){return Rt(e.getFullYear()%1e4,t,4)}function nme(e,t){var r=e.getDay();return e=r>=4||r===0?Xu(e):Xu.ceil(e),Rt(e.getFullYear()%1e4,t,4)}function ame(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rt(t/60|0,"0",2)+Rt(t%60,"0",2)}function EO(e,t){return Rt(e.getUTCDate(),t,2)}function ime(e,t){return Rt(e.getUTCHours(),t,2)}function sme(e,t){return Rt(e.getUTCHours()%12||12,t,2)}function ome(e,t){return Rt(1+r0.count(Rs(e),e),t,3)}function _4(e,t){return Rt(e.getUTCMilliseconds(),t,3)}function lme(e,t){return _4(e,t)+"000"}function cme(e,t){return Rt(e.getUTCMonth()+1,t,2)}function ume(e,t){return Rt(e.getUTCMinutes(),t,2)}function dme(e,t){return Rt(e.getUTCSeconds(),t,2)}function fme(e){var t=e.getUTCDay();return t===0?7:t}function hme(e,t){return Rt(a0.count(Rs(e)-1,e),t,2)}function S4(e){var t=e.getUTCDay();return t>=4||t===0?Zu(e):Zu.ceil(e)}function mme(e,t){return e=S4(e),Rt(Zu.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function pme(e){return e.getUTCDay()}function gme(e,t){return Rt(Gv.count(Rs(e)-1,e),t,2)}function vme(e,t){return Rt(e.getUTCFullYear()%100,t,2)}function yme(e,t){return e=S4(e),Rt(e.getUTCFullYear()%100,t,2)}function xme(e,t){return Rt(e.getUTCFullYear()%1e4,t,4)}function bme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zu(e):Zu.ceil(e),Rt(e.getUTCFullYear()%1e4,t,4)}function wme(){return"+0000"}function AO(){return"%"}function OO(e){return+e}function TO(e){return Math.floor(+e/1e3)}var Sc,C4,N4;jme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jme(e){return Sc=jhe(e),C4=Sc.format,Sc.parse,N4=Sc.utcFormat,Sc.utcParse,Sc}function _me(e){return new Date(e)}function Sme(e){return e instanceof Date?+e:+new Date(+e)}function hN(e,t,r,n,a,i,o,l,c,u){var d=JC(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:o(S)<S?g:i(S)<S?p:n(S)<S?a(S)<S?v:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Sme)):h().map(_me)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(f4(C,S)):d},d.copy=function(){return cp(d,hN(e,t,r,n,a,i,o,l,c,u))},d}function Cme(){return Ha.apply(hN(bhe,whe,Ts,dN,n0,up,cN,oN,Ol,C4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nme(){return Ha.apply(hN(yhe,xhe,Rs,fN,a0,r0,uN,lN,Ol,N4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i0(){var e=0,t=1,r,n,a,i,o=Wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(rf),u.rangeRound=d(QC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function el(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P4(){var e=Jo(i0()(Wn));return e.copy=function(){return el(e,P4())},Us.apply(e,arguments)}function k4(){var e=rN(i0()).domain([1,10]);return e.copy=function(){return el(e,k4()).base(e.base())},Us.apply(e,arguments)}function E4(){var e=nN(i0());return e.copy=function(){return el(e,E4()).constant(e.constant())},Us.apply(e,arguments)}function mN(){var e=aN(i0());return e.copy=function(){return el(e,mN()).exponent(e.exponent())},Us.apply(e,arguments)}function Pme(){return mN.apply(null,arguments).exponent(.5)}function A4(){var e=[],t=Wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((op(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ro),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>hfe(e,i/n))},r.copy=function(){return A4(t).domain(e)},Us.apply(r,arguments)}function s0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Wn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(p){var v,x,b;return arguments.length?([v,x,b]=p,u=Bfe(g,[v,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(rf),m.rangeRound=y(QC),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function O4(){var e=Jo(s0()(Wn));return e.copy=function(){return el(e,O4())},Us.apply(e,arguments)}function T4(){var e=rN(s0()).domain([.1,1,10]);return e.copy=function(){return el(e,T4()).base(e.base())},Us.apply(e,arguments)}function R4(){var e=nN(s0());return e.copy=function(){return el(e,R4()).constant(e.constant())},Us.apply(e,arguments)}function pN(){var e=aN(s0());return e.copy=function(){return el(e,pN()).exponent(e.exponent())},Us.apply(e,arguments)}function kme(){return pN.apply(null,arguments).exponent(.5)}const RO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:om,scaleDiverging:O4,scaleDivergingLog:T4,scaleDivergingPow:pN,scaleDivergingSqrt:kme,scaleDivergingSymlog:R4,scaleIdentity:d4,scaleImplicit:$1,scaleLinear:Hv,scaleLog:h4,scaleOrdinal:YC,scalePoint:lh,scalePow:iN,scaleQuantile:g4,scaleQuantize:v4,scaleRadial:p4,scaleSequential:P4,scaleSequentialLog:k4,scaleSequentialPow:mN,scaleSequentialQuantile:A4,scaleSequentialSqrt:Pme,scaleSequentialSymlog:E4,scaleSqrt:lhe,scaleSymlog:m4,scaleThreshold:y4,scaleTime:Cme,scaleUtc:Nme,tickFormat:u4},Symbol.toStringTag,{value:"Module"}));var Eme=Kd;function Ame(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Eme(o):r(o,l)))var l=o,c=i}return c}var o0=Ame;function Ome(e,t){return e>t}var M4=Ome,Tme=o0,Rme=M4,Mme=tf;function $me(e){return e&&e.length?Tme(e,Mme,Rme):void 0}var Ime=$me;const go=It(Ime);function Dme(e,t){return e<t}var $4=Dme,Lme=o0,Bme=$4,Fme=tf;function zme(e){return e&&e.length?Lme(e,Fme,Bme):void 0}var Ume=zme;const l0=It(Ume);var Vme=AC,Wme=ns,Hme=VL,qme=oa;function Kme(e,t){var r=qme(e)?Vme:Hme;return r(e,Wme(t))}var Gme=Kme,Yme=zL,Xme=Gme;function Zme(e,t){return Yme(Xme(e,t),1)}var Qme=Zme;const Jme=It(Qme);var epe=WC;function tpe(e,t){return epe(e,t)}var rpe=tpe;const Vo=It(rpe);var nf=1e9,npe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vN,jr=!0,Ua="[DecimalError] ",Wl=Ua+"Invalid argument: ",gN=Ua+"Exponent out of range: ",af=Math.floor,yl=Math.pow,ape=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ln=1e7,fr=7,I4=9007199254740991,Yv=af(I4/fr),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(e){return Ss(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,r=t.constructor;return Jt(Ss(t,new r(e),0,1),r.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return Kr(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Ua+"NaN");if(r.s<1)throw Error(Ua+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(jr=!1,t=Ss(fm(r,i),fm(e,i),i),jr=!0,Jt(t,a))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B4(t,e):D4(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ua+"NaN");return r.s?(jr=!1,t=Ss(r,e,0,1).times(e),jr=!0,r.minus(t)):Jt(new n(r),a)};Fe.naturalExponential=Fe.exp=function(){return L4(this)};Fe.naturalLogarithm=Fe.ln=function(){return fm(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D4(t,e):B4(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wl+e);if(t=Kr(a)+1,n=a.d.length-1,r=n*fr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Fe.squareRoot=Fe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ua+"NaN")}for(e=Kr(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Fi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=af((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ss(l,i,o+2)).times(.5),Fi(i.d).slice(0,o)===(t=Fi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Jt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return jr=!0,Jt(n,r)};Fe.times=Fe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ln|0,t=l/ln|0;i[a]=(i[a]+t)%ln|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jr?Jt(e,f.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qi(e,0,nf),t===void 0?t=n.rounding:Qi(t,0,8),Jt(r,e+Kr(r)+1,t))};Fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tc(n,!0):(Qi(e,0,nf),t===void 0?t=a.rounding:Qi(t,0,8),n=Jt(new a(n),e+1,t),r=tc(n,!0,e+1)),r};Fe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tc(a):(Qi(e,0,nf),t===void 0?t=i.rounding:Qi(t,0,8),n=Jt(new i(a),e+Kr(a)+1,t),r=tc(n.abs(),!1,e+Kr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return Jt(new t(e),Kr(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ga);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ua+"Infinity");return l}if(l.eq(ga))return l;if(n=c.precision,e.eq(ga))return Jt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=I4){for(a=new c(ga),t=Math.ceil(n/fr+4),jr=!1;r%2&&(a=a.times(l),$O(a.d,t)),r=af(r/2),r!==0;)l=l.times(l),$O(l.d,t);return jr=!0,e.s<0?new c(ga).div(a):Jt(a,n)}}else if(i<0)throw Error(Ua+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,jr=!1,a=e.times(fm(l,n+u)),jr=!0,a=L4(a),a.s=i,a};Fe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Kr(a),n=tc(a,r<=i.toExpNeg||r>=i.toExpPos)):(Qi(e,1,nf),t===void 0?t=i.rounding:Qi(t,0,8),a=Jt(new i(a),e,t),r=Kr(a),n=tc(a,e<=r||r<=i.toExpNeg,e)),n};Fe.toSignificantDigits=Fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qi(e,1,nf),t===void 0?t=n.rounding:Qi(t,0,8)),Jt(new n(r),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kr(e),r=e.constructor;return tc(e,t<=r.toExpNeg||t>=r.toExpPos)};function D4(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jr?Jt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/fr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ln|0,c[i]%=ln;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jr?Jt(t,f):t}function Qi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wl+e)}function Fi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=fr-n.length,r&&(i+=to(r)),i+=n;o=e[t],n=o+"",r=fr-n.length,r&&(i+=to(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ss=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ln|0,o=i/ln|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ln+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,y,g,p,v,x,b,_,j,S,C,k,N=n.constructor,R=n.s==a.s?1:-1,O=n.d,E=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ua+"Division by zero");for(c=n.e-a.e,C=E.length,j=O.length,m=new N(R),y=m.d=[],u=0;E[u]==(O[u]||0);)++u;if(E[u]>(O[u]||0)&&--c,i==null?x=i=N.precision:o?x=i+(Kr(n)-Kr(a))+1:x=i,x<0)return new N(0);if(x=x/fr+2|0,u=0,C==1)for(d=0,E=E[0],x++;(u<j||d)&&x--;u++)b=d*ln+(O[u]||0),y[u]=b/E|0,d=b%E|0;else{for(d=ln/(E[0]+1)|0,d>1&&(E=e(E,d),O=e(O,d),C=E.length,j=O.length),_=C,g=O.slice(0,C),p=g.length;p<C;)g[p++]=0;k=E.slice(),k.unshift(0),S=E[0],E[1]>=ln/2&&++S;do d=0,l=t(E,g,C,p),l<0?(v=g[0],C!=p&&(v=v*ln+(g[1]||0)),d=v/S|0,d>1?(d>=ln&&(d=ln-1),f=e(E,d),h=f.length,p=g.length,l=t(f,g,h,p),l==1&&(d--,r(f,C<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<p&&f.unshift(0),r(g,f,p),l==-1&&(p=g.length,l=t(E,g,C,p),l<1&&(d++,r(g,C<p?k:E,p))),p=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[p++]=O[_]||0:(g=[O[_]],p=1);while((_++<j||g[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=c,Jt(m,o?i+Kr(m)+1:i)}}();function L4(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Kr(e)>16)throw Error(gN+Kr(e));if(!e.s)return new d(ga);for(t==null?(jr=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(yl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ga),d.precision=l;;){if(a=Jt(a.times(e),l),r=r.times(++c),o=i.plus(Ss(a,r,l)),Fi(o.d).slice(0,l)===Fi(i.d).slice(0,l)){for(;u--;)i=Jt(i.times(i),l);return d.precision=f,t==null?(jr=!0,Jt(i,f)):i}i=o}}function Kr(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function nw(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(Ua+"LN10 precision limit exceeded");return Jt(new e(e.LN10),t)}function to(e){for(var t="";e--;)t+="0";return t}function fm(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,y=m.d,g=m.constructor,p=g.precision;if(m.s<1)throw Error(Ua+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new g(0);if(t==null?(jr=!1,u=p):u=t,m.eq(10))return t==null&&(jr=!0),nw(g,u);if(u+=h,g.precision=u,r=Fi(y),n=r.charAt(0),i=Kr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Fi(m.d),n=r.charAt(0),f++;i=Kr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=nw(g,u+2,p).times(i+""),m=fm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=p,t==null?(jr=!0,Jt(m,p)):m;for(l=o=m=Ss(m.minus(ga),m.plus(ga),u),d=Jt(m.times(m),u),a=3;;){if(o=Jt(o.times(d),u),c=l.plus(Ss(o,new g(a),u)),Fi(c.d).slice(0,u)===Fi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(nw(g,u+2,p).times(i+""))),l=Ss(l,new g(f),u),g.precision=p,t==null?(jr=!0,Jt(l,p)):l;l=c,a+=2}}function MO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=af(r/fr),e.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=fr;n<a;)e.d.push(+t.slice(n,n+=fr));t=t.slice(n),n=fr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>Yv||e.e<-Yv))throw Error(gN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Jt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=fr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/fr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=fr,a=n-fr+o}if(r!==void 0&&(i=yl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/yl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Kr(e),f.length=1,t=t-i-1,f[0]=yl(10,(fr-t%fr)%fr),e.e=af(-t/fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yl(10,fr-n),f[d]=a>0?(u/yl(10,o-a)%yl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ln&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ln)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jr&&(e.e>Yv||e.e<-Yv))throw Error(gN+Kr(e));return e}function B4(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?Jt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/fr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ln-1;--c[i],c[a]+=ln}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,jr?Jt(t,m):t):new h(0)}function tc(e,t,r){var n,a=Kr(e),i=Fi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+to(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+to(-a-1)+i,r&&(n=r-o)>0&&(i+=to(n))):a>=o?(i+=to(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+to(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=to(n))),e.s<0?"-"+i:i}function $O(e,t){if(e.length>t)return e.length=t,!0}function F4(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return MO(o,i.toString())}else if(typeof i!="string")throw Error(Wl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ape.test(i))MO(o,i);else throw Error(Wl+i)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=F4,a.config=a.set=ipe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ipe(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,r,n,a=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(af(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wl+r+": "+n);return this}var vN=F4(npe);ga=new vN(1);const Xt=vN;function spe(e){return upe(e)||cpe(e)||lpe(e)||ope()}function ope(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lpe(e,t){if(e){if(typeof e=="string")return B1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B1(e,t)}}function cpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function upe(e){if(Array.isArray(e))return B1(e)}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dpe=function(t){return t},z4={"@@functional/placeholder":!0},U4=function(t){return t===z4},IO=function(t){return function r(){return arguments.length===0||arguments.length===1&&U4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},fpe=function e(t,r){return t===1?r:IO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==z4}).length;return o>=t?r.apply(void 0,a):e(t-o,IO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return U4(f)?c.shift():f});return r.apply(void 0,spe(d).concat(c))}))})},c0=function(t){return fpe(t.length,t)},F1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},hpe=c0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dpe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},z1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},V4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function ppe(e){var t;return e===0?t=1:t=Math.floor(new Xt(e).abs().log(10).toNumber())+1,t}function gpe(e,t,r){for(var n=new Xt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var vpe=c0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),ype=c0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),xpe=c0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const u0={rangeStep:gpe,getDigitCount:ppe,interpolateNumber:vpe,uninterpolateNumber:ype,uninterpolateTruncation:xpe};function U1(e){return jpe(e)||wpe(e)||W4(e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jpe(e){if(Array.isArray(e))return V1(e)}function hm(e,t){return Cpe(e)||Spe(e,t)||W4(e,t)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Spe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Cpe(e){if(Array.isArray(e))return e}function H4(e){var t=hm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function q4(e,t,r){if(e.lte(0))return new Xt(0);var n=u0.getDigitCount(e.toNumber()),a=new Xt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Xt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Xt(Math.ceil(c))}function Npe(e,t,r){var n=1,a=new Xt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Xt(10).pow(u0.getDigitCount(e)-1),a=new Xt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xt(Math.floor(e)))}else e===0?a=new Xt(Math.floor((t-1)/2)):r||(a=new Xt(Math.floor(e)));var o=Math.floor((t-1)/2),l=mpe(hpe(function(c){return a.add(new Xt(c-o).mul(n)).toNumber()}),F1);return l(0,t)}function K4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var i=q4(new Xt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Xt(0):(o=new Xt(e).add(t).div(2),o=o.sub(new Xt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Xt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?K4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Xt(l).mul(i)),tickMax:o.add(new Xt(c).mul(i))})}function Ppe(e){var t=hm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=H4([r,n]),c=hm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(U1(F1(0,a-1).map(function(){return 1/0}))):[].concat(U1(F1(0,a-1).map(function(){return-1/0})),[d]);return r>n?z1(f):f}if(u===d)return Npe(u,a,i);var h=K4(u,d,o,i),m=h.step,y=h.tickMin,g=h.tickMax,p=u0.rangeStep(y,g.add(new Xt(.1).mul(m)),m);return r>n?z1(p):p}function kpe(e,t){var r=hm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=H4([n,a]),l=hm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=q4(new Xt(u).sub(c).div(d-1),i,0),h=[].concat(U1(u0.rangeStep(new Xt(c),new Xt(u).sub(new Xt(.99).mul(f)),f)),[u]);return n>a?z1(h):h}var Epe=V4(Ppe),Ape=V4(kpe),Ope="Invariant failed";function rc(e,t){throw new Error(Ope)}var Tpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function Rpe(e,t){return Dpe(e)||Ipe(e,t)||$pe(e,t)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ipe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dpe(e){if(Array.isArray(e))return e}function Lpe(e,t){if(e==null)return{};var r=Bpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X4(n.key),n)}}function Upe(e,t,r){return t&&zpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vpe(e,t,r){return t=Zv(t),Wpe(e,G4()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function Wpe(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hpe(e)}function Hpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function qpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(e,t)}function Y4(e,t,r){return t=X4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=Kpe(e,"string");return Qu(t)=="symbol"?t:t+""}function Kpe(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sf=function(e){function t(){return Fpe(this,t),Vpe(this,t,arguments)}return qpe(t,e),Upe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Lpe(n,Tpe),m=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&rc();var y=c.map(function(g){var p=u(g,l),v=p.x,x=p.y,b=p.value,_=p.errorVal;if(!_)return null;var j=[],S,C;if(Array.isArray(_)){var k=Rpe(_,2);S=k[0],C=k[1]}else S=C=_;if(i==="vertical"){var N=d.scale,R=x+a,O=R+o,E=R-o,T=N(b-S),P=N(b+C);j.push({x1:P,y1:O,x2:P,y2:E}),j.push({x1:T,y1:R,x2:P,y2:R}),j.push({x1:T,y1:O,x2:T,y2:E})}else if(i==="horizontal"){var A=f.scale,$=v+a,M=$-o,L=$+o,B=A(b-S),z=A(b+C);j.push({x1:M,y1:z,x2:L,y2:z}),j.push({x1:$,y1:B,x2:$,y2:z}),j.push({x1:M,y1:B,x2:L,y2:B})}return I.createElement(yt,Xv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),j.map(function(re){return I.createElement("line",Xv({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return I.createElement(yt,{className:"recharts-errorBars"},y)}}])}(I.Component);Y4(sf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Y4(sf,"displayName","ErrorBar");function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gpe(e,t,r){return t=Ype(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ype(e){var t=Xpe(e,"string");return mm(t)=="symbol"?t:t+""}function Xpe(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=fa(r,Dr);if(!o)return null;var l=Dr.defaultProps,c=l!==void 0?cl(cl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?cl(cl({},h),f.props):{},y=m.dataKey,g=m.name,p=m.legendType,v=m.hide;return{inactive:v,dataKey:y,type:c.iconType||p||"square",color:yN(f),value:g||y,payload:m}}),cl(cl(cl({},c),Dr.getWithHeight(o,a)),{},{payload:u,item:o})};function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function BO(e){return ege(e)||Jpe(e)||Qpe(e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function Jpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ege(e){if(Array.isArray(e))return H1(e)}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xu(e,t,r){return t=tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=rge(e,"string");return pm(t)=="symbol"?t:t+""}function rge(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pr(e,t,r){return Qe(e)||Qe(t)?r:nn(t)?ba(e,t,r):Je(t)?t(e):r}function ch(e,t,r,n){var a=Jme(e,function(l){return pr(l,t)});if(r==="number"){var i=a.filter(function(l){return je(l)||parseFloat(l)});return i.length?[l0(i),go(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Qe(l)}):a;return o.map(function(l){return nn(l)||l instanceof Date?l:""})}var nge=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Un(f-d)!==Un(h-f)){var y=[];if(Un(h-f)===Un(c[1]-c[0])){m=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var p=h+c[1]-c[0];y[0]=Math.min(f,(p+f)/2),y[1]=Math.max(f,(p+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},yN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},age=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,p=y.cateAxisId,v=g.filter(function(C){return _s(C.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Ir(Ir({},x),v[0].props):v[0].props,_=b.barSize,j=b[p];o[j]||(o[j]=[]);var S=Qe(_)?r:_;o[j].push({item:v[0],stackList:v.slice(1),barSize:Qe(S)?void 0:Vn(S,n,0)})}}return o},ige=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Vn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,y=o.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&m>0&&(h=!0,m*=.9,y=c*m);var g=(a-y)/2>>0,p={offset:g-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:p.offset+p.size+u,size:h?m:j.barSize}},C=[].concat(BO(_),[S]);return p=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){C.push({item:k,position:p})}),C},f)}else{var v=Vn(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var x=(a-2*v-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(_,j,S){var C=[].concat(BO(_),[{item:j.item,position:{offset:v+(x+u)*S+(x-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},f)}return d},sge=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Z4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&je(t[m]))return Ir(Ir({},t),{},xu({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&je(t[y]))return Ir(Ir({},t),{},xu({},y,t[y]+(h||0)))}return t},oge=function(t,r,n){return Qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q4=function(t,r,n,a,i){var o=r.props.children,l=qn(o,sf).filter(function(u){return oge(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=pr(d,n);if(Qe(f))return u;var h=Array.isArray(f)?[l0(f),go(f)]:[f,f],m=c.reduce(function(y,g){var p=pr(d,g,0),v=h[0]-Math.abs(Array.isArray(p)?p[0]:p),x=h[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},lge=function(t,r,n,a,i){var o=r.map(function(l){return Q4(t,l,n,i,a)}).filter(function(l){return!Qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},J4=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Q4(t,c,u,a)||ch(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},eB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},tB=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},bs=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Un(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},aw=new WeakMap,eg=function(t,r){if(typeof r!="function")return t;aw.has(t)||aw.set(t,new WeakMap);var n=aw.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rB=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:om(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Hv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:lh(),realScaleType:"point"}:i==="category"?{scale:om(),realScaleType:"band"}:{scale:Hv(),realScaleType:"linear"};if(Jl(a)){var c="scale".concat(Kx(a));return{scale:(RO[c]||lh)(),realScaleType:RO[c]?c:"point"}}return Je(a)?{scale:a}:{scale:lh(),realScaleType:"point"}},zO=1e-4,nB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-zO,o=Math.max(a[0],a[1])+zO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},cge=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},uge=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},dge=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Qd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},fge=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Qd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},hge={sign:dge,expand:Tre,none:Wu,silhouette:Rre,wiggle:Mre,positive:fge},mge=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=hge[n],o=Ore().keys(a).value(function(l,c){return+pr(l,c,0)}).order(g1).offset(i);return o(t)},pge=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,g=y.stackId,p=y.hide;if(p)return f;var v=y[n],x=f[v]||{hasStack:!1,stackGroups:{}};if(nn(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[Zo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ir(Ir({},f),{},xu({},v,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,p){var v=m.stackGroups[p];return Ir(Ir({},g),{},xu({},p,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:mge(t,v.items,i)}))},y)}return Ir(Ir({},f),{},xu({},h,m))},d)},aB=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Epe(u,i,l);return t.domain([l0(d),go(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Ape(f,i,l);return{niceTicks:h}}return null};function Ju(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qe(a[t.dataKey])){var l=Sv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=pr(a,Qe(o)?t.dataKey:o);return Qe(c)?null:t.scale(c)}var UO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=pr(o,r.dataKey,r.domain[l]);return Qe(c)?null:r.scale(c)-i/2+a},gge=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},vge=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(nn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},yge=function(t){return t.reduce(function(r,n){return[l0(n.concat([r[0]]).filter(je)),go(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},iB=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=yge(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q1=function(t,r,n){if(Je(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(je(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(VO.test(t[0])){var i=+VO.exec(t[0])[1];a[0]=r[0]-i}else Je(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(je(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(WO.test(t[1])){var o=+WO.exec(t[1])[1];a[1]=r[1]+o}else Je(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Qv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=qC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},HO=function(t,r,n){return!t||!t.length||Vo(t,ba(n,"type.defaultProps.domain"))?r:t},sB=function(t,r){var n=t.type.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},We(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:yN(t),value:pr(r,a),type:c,payload:r,chartType:u,hide:d})};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){oB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oB(e,t,r){return t=xge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xge(e){var t=bge(e,"string");return gm(t)=="symbol"?t:t+""}function bge(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wge(e,t){return Cge(e)||Sge(e,t)||_ge(e,t)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(e,t){if(e){if(typeof e=="string")return KO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(e,t)}}function KO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cge(e){if(Array.isArray(e))return e}var Jv=Math.PI/180,Nge=function(t){return t*180/Math.PI},or=function(t,r,n,a){return{x:t+Math.cos(-Jv*a)*n,y:r+Math.sin(-Jv*a)*n}},lB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Pge=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Vn(t.cx,o,o/2),f=Vn(t.cy,l,l/2),h=lB(o,l,n),m=Vn(t.innerRadius,h,0),y=Vn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(p,v){var x=r[v],b=x.domain,_=x.reversed,j;if(Qe(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,y]),_&&(j=[j[1],j[0]]);else{j=x.range;var S=j,C=wge(S,2);c=C[0],u=C[1]}var k=rB(x,i),N=k.realScaleType,R=k.scale;R.domain(b).range(j),nB(R);var O=aB(R,fs(fs({},x),{},{realScaleType:N})),E=fs(fs(fs({},x),O),{},{range:j,radius:y,realScaleType:N,scale:R,cx:d,cy:f,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return fs(fs({},p),{},oB({},v,E))},{})},kge=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Ege=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=kge({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Nge(u),angleInRadian:u}},Age=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Oge=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},GO=function(t,r){var n=t.x,a=t.y,i=Ege({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Age(r),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?fs(fs({},r),{},{radius:o,angle:Oge(m,r)}):null},cB=function(t){return!w.isValidElement(t)&&!Je(t)&&typeof t!="boolean"?t.className:""};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}var Tge=["offset"];function Rge(e){return Dge(e)||Ige(e)||$ge(e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function Ige(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dge(e){if(Array.isArray(e))return K1(e)}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lge(e,t){if(e==null)return{};var r=Bge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){Fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fge(e,t,r){return t=zge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zge(e){var t=Uge(e,"string");return vm(t)=="symbol"?t:t+""}function Uge(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}var Vge=function(t){var r=t.value,n=t.formatter,a=Qe(t.children)?r:t.children;return Je(n)?n(a):a},Wge=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Hge=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,p=(f+h)/2,v=Wge(m,y),x=v>=0?1:-1,b,_;a==="insideStart"?(b=m+x*o,_=g):a==="insideEnd"?(b=y-x*o,_=!g):a==="end"&&(b=y+x*o,_=g),_=v<=0?_:!_;var j=or(u,d,p,b),S=or(u,d,p,b+(_?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Qe(t.id)?Zo("recharts-radial-line-"):t.id;return I.createElement("text",ym({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:k,d:C})),I.createElement("textPath",{xlinkHref:"#".concat(k)},r))},qge=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=or(o,l,u+n,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,v=or(o,l,p,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Kge=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,p=g*a,v=g>0?"end":"start",x=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Xr(Xr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Xr(Xr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Xr(Xr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Xr(Xr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?Xr({x:l+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?Xr({x:l+u-p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?Xr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?Xr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?Xr({x:l+p,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?Xr({x:l+u-p,y:c+h,textAnchor:v,verticalAnchor:y},C):i==="insideBottomLeft"?Xr({x:l+p,y:c+d-h,textAnchor:x,verticalAnchor:m},C):i==="insideBottomRight"?Xr({x:l+u-p,y:c+d-h,textAnchor:v,verticalAnchor:m},C):Gd(i)&&(je(i.x)||El(i.x))&&(je(i.y)||El(i.y))?Xr({x:l+Vn(i.x,u),y:c+Vn(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):Xr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Gge=function(t){return"cx"in t&&je(t.cx)};function un(e){var t=e.offset,r=t===void 0?5:t,n=Lge(e,Tge),a=Xr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Qe(l)&&Qe(c)&&!w.isValidElement(u)&&!Je(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var m;if(Je(u)){if(m=w.createElement(u,a),w.isValidElement(m))return m}else m=Vge(a);var y=Gge(i),g=We(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hge(a,m,g);var p=y?qge(a):Kge(a);return I.createElement(ec,ym({className:dt("recharts-label",f)},g,p,{breakAll:h}),m)}un.displayName="Label";var uB=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,g=t.width,p=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(je(g)&&je(p)){if(je(f)&&je(h))return{x:f,y:h,width:g,height:p};if(je(m)&&je(y))return{x:m,y,width:g,height:p}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Yge=function(t,r){return t?t===!0?I.createElement(un,{key:"label-implicit",viewBox:r}):nn(t)?I.createElement(un,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===un?w.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(un,{key:"label-implicit",content:t,viewBox:r}):Je(t)?I.createElement(un,{key:"label-implicit",content:t,viewBox:r}):Gd(t)?I.createElement(un,ym({viewBox:r},t,{key:"label-implicit"})):null:null},Xge=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=uB(t),o=qn(a,un).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Yge(t.label,r||i);return[l].concat(Rge(o))};un.parseViewBox=uB;un.renderCallByParent=Xge;function Zge(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Qge=Zge;const Jge=It(Qge);function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var eve=["valueAccessor"],tve=["data","dataKey","clockWise","id","textBreakAll"];function rve(e){return sve(e)||ive(e)||ave(e)||nve()}function nve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ave(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function ive(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sve(e){if(Array.isArray(e))return G1(e)}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ove(e,t,r){return t=lve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lve(e){var t=cve(e,"string");return xm(t)=="symbol"?t:t+""}function cve(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QO(e,t){if(e==null)return{};var r=uve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dve=function(t){return Array.isArray(t.value)?Jge(t.value):t.value};function yi(e){var t=e.valueAccessor,r=t===void 0?dve:t,n=QO(e,eve),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=QO(n,tve);return!a||!a.length?null:I.createElement(yt,{className:"recharts-label-list"},a.map(function(d,f){var h=Qe(i)?r(d,f):pr(d&&d.payload,i),m=Qe(l)?{}:{id:"".concat(l,"-").concat(f)};return I.createElement(un,ey({},We(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:un.parseViewBox(Qe(o)?d:ZO(ZO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}yi.displayName="LabelList";function fve(e,t){return e?e===!0?I.createElement(yi,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Je(e)?I.createElement(yi,{key:"labelList-implicit",data:t,content:e}):Gd(e)?I.createElement(yi,ey({data:t},e,{key:"labelList-implicit"})):null:null}function hve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=qn(n,yi).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=fve(e.label,t);return[i].concat(rve(a))}yi.renderCallByParent=hve;function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mve(e,t,r){return t=pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pve(e){var t=gve(e,"string");return bm(t)=="symbol"?t:t+""}function gve(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vve=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},tg=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Jv,h=u?i:i+o*f,m=or(r,n,d,h),y=or(r,n,a,h),g=u?i-o*f:i,p=or(r,n,d*Math.cos(f*Jv),g);return{center:m,circleTangency:y,lineTangency:p,theta:f}},dB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vve(o,l),u=o+c,d=or(r,n,i,o),f=or(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=or(r,n,a,o),y=or(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Un(d-u),h=tg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,g=h.theta,p=tg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,x=p.lineTangency,b=p.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dB({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=tg({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,k=S.lineTangency,N=S.theta,R=tg({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=R.circleTangency,E=R.lineTangency,T=R.theta,P=c?Math.abs(u-d):Math.abs(u-d)-N-T;if(P<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},xve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fB=function(t){var r=e2(e2({},xve),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=dt("recharts-sector",h),y=o-i,g=Vn(l,y,0,!0),p;return g>0&&Math.abs(d-f)<360?p=yve({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=dB({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",Y1({},We(r,!0),{className:m,d:p,role:"img"}))};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){bve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bve(e,t,r){return t=wve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wve(e){var t=jve(e,"string");return wm(t)=="symbol"?t:t+""}function jve(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2={curveBasisClosed:bre,curveBasisOpen:wre,curveBasis:xre,curveBumpX:ire,curveBumpY:sre,curveLinearClosed:jre,curveLinear:Yx,curveMonotoneX:_re,curveMonotoneY:Sre,curveNatural:Cre,curveStep:Nre,curveStepAfter:kre,curveStepBefore:Pre},rg=function(t){return t.x===+t.x&&t.y===+t.y},kf=function(t){return t.x},Ef=function(t){return t.y},_ve=function(t,r){if(Je(t))return t;var n="curve".concat(Kx(t));return(n==="curveMonotone"||n==="curveBump")&&r?n2["".concat(n).concat(r==="vertical"?"Y":"X")]:n2[n]||Yx},Sve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=_ve(n,l),f=u?i.filter(function(g){return rg(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return rg(g)}):o,y=f.map(function(g,p){return r2(r2({},g),{},{base:m[p]})});return l==="vertical"?h=qp().y(Ef).x1(kf).x0(function(g){return g.base.x}):h=qp().x(kf).y1(Ef).y0(function(g){return g.base.y}),h.defined(rg).curve(d),h(y)}return l==="vertical"&&je(o)?h=qp().y(Ef).x1(kf).x0(o):je(o)?h=qp().x(kf).y1(Ef).y0(o):h=sL().x(kf).y(Ef),h.defined(rg).curve(d),h(f)},Mo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Sve(t):a;return w.createElement("path",X1({},We(t,!1),Cv(t),{className:dt("recharts-curve",r),d:o,ref:i}))},hB={exports:{}},Cve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nve=Cve,Pve=Nve;function mB(){}function pB(){}pB.resetWarningCache=mB;var kve=function(){function e(n,a,i,o,l,c){if(c!==Pve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pB,resetWarningCache:mB};return r.PropTypes=r,r};hB.exports=kve();var Eve=hB.exports;const $t=It(Eve);var Ave=Object.getOwnPropertyNames,Ove=Object.getOwnPropertySymbols,Tve=Object.prototype.hasOwnProperty;function a2(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ng(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function i2(e){return Ave(e).concat(Ove(e))}var Rve=Object.hasOwn||function(e,t){return Tve.call(e,t)};function pc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Mve="__v",$ve="__o",Ive="_owner",s2=Object.getOwnPropertyDescriptor,o2=Object.keys;function Dve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Lve(e,t){return pc(e.getTime(),t.getTime())}function Bve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Fve(e,t){return e===t}function l2(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var zve=pc;function Uve(e,t,r){var n=o2(e),a=n.length;if(o2(t).length!==a)return!1;for(;a-- >0;)if(!gB(e,t,r,n[a]))return!1;return!0}function Af(e,t,r){var n=i2(e),a=n.length;if(i2(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!gB(e,t,r,i)||(o=s2(e,i),l=s2(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Vve(e,t){return pc(e.valueOf(),t.valueOf())}function Wve(e,t){return e.source===t.source&&e.flags===t.flags}function c2(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Hve(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function qve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function gB(e,t,r,n){return(n===Ive||n===$ve||n===Mve)&&(e.$$typeof||t.$$typeof)?!0:Rve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Kve="[object Arguments]",Gve="[object Boolean]",Yve="[object Date]",Xve="[object Error]",Zve="[object Map]",Qve="[object Number]",Jve="[object Object]",eye="[object RegExp]",tye="[object Set]",rye="[object String]",nye="[object URL]",aye=Array.isArray,u2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,d2=Object.assign,iye=Object.prototype.toString.call.bind(Object.prototype.toString);function sye(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,g,p){if(y===g)return!0;if(y==null||g==null)return!1;var v=typeof y;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(y,g,p):v==="function"?a(y,g,p):!1;var x=y.constructor;if(x!==g.constructor)return!1;if(x===Object)return l(y,g,p);if(aye(y))return t(y,g,p);if(u2!=null&&u2(y))return f(y,g,p);if(x===Date)return r(y,g,p);if(x===RegExp)return u(y,g,p);if(x===Map)return i(y,g,p);if(x===Set)return d(y,g,p);var b=iye(y);return b===Yve?r(y,g,p):b===eye?u(y,g,p):b===Zve?i(y,g,p):b===tye?d(y,g,p):b===Jve?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,p):b===nye?h(y,g,p):b===Xve?n(y,g,p):b===Kve?l(y,g,p):b===Gve||b===Qve||b===rye?c(y,g,p):!1}}function oye(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Af:Dve,areDatesEqual:Lve,areErrorsEqual:Bve,areFunctionsEqual:Fve,areMapsEqual:n?a2(l2,Af):l2,areNumbersEqual:zve,areObjectsEqual:n?Af:Uve,arePrimitiveWrappersEqual:Vve,areRegExpsEqual:Wve,areSetsEqual:n?a2(c2,Af):c2,areTypedArraysEqual:n?Af:Hve,areUrlsEqual:qve};if(r&&(a=d2({},a,r(a))),t){var i=ng(a.areArraysEqual),o=ng(a.areMapsEqual),l=ng(a.areObjectsEqual),c=ng(a.areSetsEqual);a=d2({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function lye(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function cye(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var uye=tl();tl({strict:!0});tl({circular:!0});tl({circular:!0,strict:!0});tl({createInternalComparator:function(){return pc}});tl({strict:!0,createInternalComparator:function(){return pc}});tl({circular:!0,createInternalComparator:function(){return pc}});tl({circular:!0,createInternalComparator:function(){return pc},strict:!0});function tl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=oye(e),c=sye(l),u=n?n(c):lye(c);return cye({circular:r,comparator:c,createState:a,equals:u,strict:o})}function dye(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function f2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):dye(a)};requestAnimationFrame(n)}function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}function fye(e){return gye(e)||pye(e)||mye(e)||hye()}function hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mye(e,t){if(e){if(typeof e=="string")return h2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gye(e){if(Array.isArray(e))return e}function vye(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=fye(o),c=l[0],u=l.slice(1);if(typeof c=="number"){f2(a.bind(null,u),c);return}a(c),f2(a.bind(null,u));return}Z1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return t=yye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yye(e){var t=xye(e,"string");return jm(t)==="symbol"?t:String(t)}function xye(e,t){if(jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bye=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},wye=function(t){return t},jye=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uh=function(t,r){return Object.keys(r).reduce(function(n,a){return p2(p2({},n),{},vB({},a,t(a,r[a])))},{})},g2=function(t,r,n){return t.map(function(a){return"".concat(jye(a)," ").concat(r,"ms ").concat(n)}).join(",")};function _ye(e,t){return Nye(e)||Cye(e,t)||yB(e,t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nye(e){if(Array.isArray(e))return e}function Pye(e){return Aye(e)||Eye(e)||yB(e)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yB(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(e,t)}}function Eye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aye(e){if(Array.isArray(e))return Q1(e)}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ty=1e-4,xB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},bB=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},v2=function(t,r){return function(n){var a=xB(t,r);return bB(a,n)}},Oye=function(t,r){return function(n){var a=xB(t,r),i=[].concat(Pye(a.map(function(o,l){return o*l}).slice(1)),[0]);return bB(i,n)}},y2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=_ye(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=v2(a,o),h=v2(i,l),m=Oye(a,o),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var j=f(b)-x,S=m(b);if(Math.abs(j-x)<ty||S<ty)return h(b);b=y(b-j/S)}return h(b)};return g.isStepper=!1,g},Tye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,y=h*i,g=h+(m-y)*l/1e3,p=h*l/1e3+d;return Math.abs(p-f)<ty&&Math.abs(g)<ty?[f,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},Rye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return y2(a);case"spring":return Tye();default:if(a.split("(")[0]==="cubic-bezier")return y2(a)}return typeof a=="function"?a:null};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function x2(e){return Iye(e)||$ye(e)||wB(e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Iye(e){if(Array.isArray(e))return e_(e)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){J1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J1(e,t,r){return t=Dye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Lye(e,"string");return _m(t)==="symbol"?t:String(t)}function Lye(e,t){if(_m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t){return Uye(e)||zye(e,t)||wB(e,t)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Uye(e){if(Array.isArray(e))return e}var ry=function(t,r,n){return t+(r-t)*n},t_=function(t){var r=t.from,n=t.to;return r!==n},Vye=function e(t,r,n){var a=uh(function(i,o){if(t_(o)){var l=t(o.from,o.to,o.velocity),c=Bye(l,2),u=c[0],d=c[1];return vn(vn({},o),{},{from:u,velocity:d})}return o},r);return n<1?uh(function(i,o){return t_(o)?vn(vn({},o),{},{velocity:ry(o.velocity,a[i].velocity,n),from:ry(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Wye=function(e,t,r,n,a){var i=bye(e,t),o=i.reduce(function(p,v){return vn(vn({},p),{},J1({},v,[e[v],t[v]]))},{}),l=i.reduce(function(p,v){return vn(vn({},p),{},J1({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return uh(function(v,x){return x.from},l)},m=function(){return!Object.values(l).filter(t_).length},y=function(v){u||(u=v);var x=v-u,b=x/r.dt;l=Vye(r,l,b),a(vn(vn(vn({},e),t),h())),u=v,m()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var x=(v-d)/n,b=uh(function(j,S){return ry.apply(void 0,x2(S).concat([r(x)]))},o);if(a(vn(vn(vn({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=uh(function(j,S){return ry.apply(void 0,x2(S).concat([r(1)]))},o);a(vn(vn(vn({},e),t),_))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}var Hye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qye(e,t){if(e==null)return{};var r=Kye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function iw(e){return Zye(e)||Xye(e)||Yye(e)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(e,t){if(e){if(typeof e=="string")return r_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(e,t)}}function Xye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zye(e){if(Array.isArray(e))return r_(e)}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wf(e,t,r){return t=jB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jB(n.key),n)}}function exe(e,t,r){return t&&Jye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jB(e){var t=txe(e,"string");return ed(t)==="symbol"?t:String(t)}function txe(e,t){if(ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n_(e,t)}function nxe(e){var t=axe();return function(){var n=ny(e),a;if(t){var i=ny(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return a_(this,a)}}function a_(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_(e)}function i_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function axe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}var Va=function(e){rxe(r,e);var t=nxe(r);function r(n,a){var i;Qye(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(i_(i)),i.changeStyle=i.changeStyle.bind(i_(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),a_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},a_(i);i.state={style:c?Wf({},c,u):u}}else i.state={style:{}};return i}return exe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Wf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(uye(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&h){var p={style:c?Wf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(p)}this.runAnimation(Za(Za({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Wye(o,l,Rye(u),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,p,v){if(v===0)return g;var x=p.duration,b=p.easing,_=b===void 0?"ease":b,j=p.style,S=p.properties,C=p.onAnimationEnd,k=v>0?o[v-1]:p,N=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(iw(g),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:x,easing:_}),x]);var R=g2(N,x,_),O=Za(Za(Za({},k.style),j),{},{transition:R});return[].concat(iw(g),[O,x,C]).filter(wye)};return this.manager.start([c].concat(iw(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=vye());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Wf({},l,c):c,p=g2(Object.keys(g),o,u);y.start([d,i,Za(Za({},g),{},{transition:p}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=qye(a,Hye),u=w.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var y=m.props,g=y.style,p=g===void 0?{}:g,v=y.className,x=w.cloneElement(m,Za(Za({},c),{},{style:Za(Za({},p),d),className:v}));return x};return u===1?f(w.Children.only(i)):I.createElement("div",null,w.Children.map(i,function(h){return f(h)}))}}]),r}(w.PureComponent);Va.displayName="Animate";Va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Va.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(this,arguments)}function ixe(e,t){return cxe(e)||lxe(e,t)||oxe(e,t)||sxe()}function sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(e,t){if(e){if(typeof e=="string")return j2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(e,t)}}function j2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cxe(e){if(Array.isArray(e))return e}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){uxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uxe(e,t,r){return t=dxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dxe(e){var t=fxe(e,"string");return Sm(t)=="symbol"?t:t+""}function fxe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C2=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},hxe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},mxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xN=function(t){var r=S2(S2({},mxe),t),n=w.useRef(),a=w.useState(-1),i=ixe(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=dt("recharts-rectangle",m);return x?I.createElement(Va,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:x},function(_){var j=_.width,S=_.height,C=_.x,k=_.y;return I.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:v,easing:y},I.createElement("path",ay({},We(r,!0),{className:b,d:C2(C,k,j,S,h),ref:n})))}):I.createElement("path",ay({},We(r,!0),{className:b,d:C2(c,u,d,f,h)}))},pxe=["points","className","baseLinePoints","connectNulls"];function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}function gxe(e,t){if(e==null)return{};var r=vxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N2(e){return wxe(e)||bxe(e)||xxe(e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xxe(e,t){if(e){if(typeof e=="string")return s_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(e,t)}}function bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wxe(e){if(Array.isArray(e))return s_(e)}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P2=function(t){return t&&t.x===+t.x&&t.y===+t.y},jxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){P2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),P2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},dh=function(t,r){var n=jxe(t);r&&(n=[n.reduce(function(i,o){return[].concat(N2(i),N2(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},_xe=function(t,r,n){var a=dh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(dh(r.reverse(),n).slice(1))},Sxe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=gxe(t,pxe);if(!r||!r.length)return null;var l=dt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=_xe(r,a,i);return I.createElement("g",{className:l},I.createElement("path",nu({},We(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?I.createElement("path",nu({},We(o,!0),{fill:"none",d:dh(r,i)})):null,c?I.createElement("path",nu({},We(o,!0),{fill:"none",d:dh(a,i)})):null)}var d=dh(r,i);return I.createElement("path",nu({},We(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}var dp=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=dt("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",o_({},We(t,!1),Cv(t),{className:o,cx:r,cy:n,r:a})):null};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}var Cxe=["x","y","top","left","width","height","className"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(this,arguments)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){Pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pxe(e,t,r){return t=kxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=Exe(e,"string");return Cm(t)=="symbol"?t:t+""}function Exe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Axe(e,t){if(e==null)return{};var r=Oxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Txe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Rxe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,g=Axe(t,Cxe),p=Nxe({x:n,y:i,top:l,left:u,width:f,height:m},g);return!je(n)||!je(i)||!je(f)||!je(m)||!je(l)||!je(u)?null:I.createElement("path",l_({},We(p,!0),{className:dt("recharts-cross",y),d:Txe(n,i,f,m,l,u)}))},Mxe=o0,$xe=M4,Ixe=ns;function Dxe(e,t){return e&&e.length?Mxe(e,Ixe(t),$xe):void 0}var Lxe=Dxe;const Bxe=It(Lxe);var Fxe=o0,zxe=ns,Uxe=$4;function Vxe(e,t){return e&&e.length?Fxe(e,zxe(t),Uxe):void 0}var Wxe=Vxe;const Hxe=It(Wxe);var qxe=["cx","cy","angle","ticks","axisLine"],Kxe=["ticks","tick","angle","tickFormatter","stroke"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A2(e,t){if(e==null)return{};var r=Gxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SB(n.key),n)}}function Xxe(e,t,r){return t&&O2(e.prototype,t),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zxe(e,t,r){return t=iy(t),Qxe(e,_B()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function Qxe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jxe(e)}function Jxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function e0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c_(e,t)}function d0(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=t0e(e,"string");return td(t)=="symbol"?t:t+""}function t0e(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f0=function(e){function t(){return Yxe(this,t),Zxe(this,t,arguments)}return e0e(t,e),Xxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return or(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Bxe(l,function(d){return d.coordinate||0}),u=Hxe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=A2(n,qxe),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=or(a,i,d[0],o),h=or(a,i,d[1],o),m=ul(ul(ul({},We(u,!1)),{},{fill:"none"},We(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",fh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=A2(a,Kxe),f=this.getTickTextAnchor(),h=We(d,!1),m=We(o,!1),y=i.map(function(g,p){var v=n.getTickValueCoord(g),x=ul(ul(ul(ul({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:p},v),{},{payload:g});return I.createElement(yt,fh({className:dt("recharts-polar-radius-axis-tick",cB(o)),key:"tick-".concat(g.coordinate)},Uo(n.props,g,p)),t.renderTickItem(o,x,c?c(g.value,p):g.value))});return I.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:I.createElement(yt,{className:dt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Je(n)?o=n(a):o=I.createElement(ec,fh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(w.PureComponent);d0(f0,"displayName","PolarRadiusAxis");d0(f0,"axisType","radiusAxis");d0(f0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){h0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NB(n.key),n)}}function n0e(e,t,r){return t&&R2(e.prototype,t),r&&R2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a0e(e,t,r){return t=sy(t),i0e(e,CB()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function i0e(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0e(e)}function s0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CB=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function o0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u_(e,t)}function h0(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=l0e(e,"string");return rd(t)=="symbol"?t:t+""}function l0e(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0e=Math.PI/180,M2=1e-5,m0=function(e){function t(){return r0e(this,t),a0e(this,t,arguments)}return o0e(t,e),n0e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=or(i,o,l,n.coordinate),h=or(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*c0e),o;return i>M2?o=a==="outer"?"start":"end":i<-M2?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=dl(dl({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(c==="circle")return I.createElement(dp,_l({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return or(a,i,o,h.coordinate)});return I.createElement(Sxe,_l({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=We(this.props,!1),f=We(o,!1),h=dl(dl({},d),{},{fill:"none"},We(l,!1)),m=i.map(function(y,g){var p=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=dl(dl(dl({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:p.x2,y:p.y2});return I.createElement(yt,_l({className:dt("recharts-polar-angle-axis-tick",cB(o)),key:"tick-".concat(y.coordinate)},Uo(n.props,y,g)),l&&I.createElement("line",_l({className:"recharts-polar-angle-axis-tick-line"},h,p)),o&&t.renderTickItem(o,x,c?c(y.value,g):y.value))});return I.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:I.createElement(yt,{className:dt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Je(n)?o=n(a):o=I.createElement(ec,_l({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(w.PureComponent);h0(m0,"displayName","PolarAngleAxis");h0(m0,"axisType","angleAxis");h0(m0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var u0e=AL,d0e=u0e(Object.getPrototypeOf,Object),f0e=d0e,h0e=Fs,m0e=f0e,p0e=zs,g0e="[object Object]",v0e=Function.prototype,y0e=Object.prototype,PB=v0e.toString,x0e=y0e.hasOwnProperty,b0e=PB.call(Object);function w0e(e){if(!p0e(e)||h0e(e)!=g0e)return!1;var t=m0e(e);if(t===null)return!0;var r=x0e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PB.call(r)==b0e}var j0e=w0e;const _0e=It(j0e);var S0e=Fs,C0e=zs,N0e="[object Boolean]";function P0e(e){return e===!0||e===!1||C0e(e)&&S0e(e)==N0e}var k0e=P0e;const E0e=It(k0e);function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function A0e(e,t){return M0e(e)||R0e(e,t)||T0e(e,t)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(e,t){if(e){if(typeof e=="string")return $2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(e,t)}}function $2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M0e(e){if(Array.isArray(e))return e}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){$0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0e(e,t,r){return t=I0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0e(e){var t=D0e(e,"string");return Nm(t)=="symbol"?t:t+""}function D0e(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},L0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B0e=function(t){var r=D2(D2({},L0e),t),n=w.useRef(),a=w.useState(-1),i=A0e(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=dt("recharts-trapezoid",m);return v?I.createElement(Va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:v},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,C=b.x,k=b.y;return I.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:y},I.createElement("path",oy({},We(r,!0),{className:x,d:L2(C,k,_,j,S),ref:n})))}):I.createElement("g",null,I.createElement("path",oy({},We(r,!0),{className:x,d:L2(c,u,d,f,h)})))},F0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function z0e(e,t){if(e==null)return{};var r=U0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){V0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t,r){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W0e(e){var t=H0e(e,"string");return Pm(t)=="symbol"?t:t+""}function H0e(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0e(e,t){return ly(ly({},t),e)}function K0e(e,t){return e==="symbols"}function F2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(xN,r);case"trapezoid":return I.createElement(B0e,r);case"sector":return I.createElement(fB,r);case"symbols":if(K0e(t))return I.createElement(Zx,r);break;default:return null}}function G0e(e){return w.isValidElement(e)?e.props:e}function cy(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?q0e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=z0e(e,F0e),u;if(w.isValidElement(t))u=w.cloneElement(t,ly(ly({},c),G0e(t)));else if(Je(t))u=t(c);else if(_0e(t)&&!E0e(t)){var d=a(t,c);u=I.createElement(F2,{shapeType:r,elementProps:d})}else{var f=c;u=I.createElement(F2,{shapeType:r,elementProps:f})}return l?I.createElement(yt,{className:o},u):u}function p0(e,t){return t!=null&&"trapezoids"in e.props}function g0(e,t){return t!=null&&"sectors"in e.props}function km(e,t){return t!=null&&"points"in e.props}function Y0e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function X0e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Z0e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Q0e(e,t){var r;return p0(e,t)?r=Y0e:g0(e,t)?r=X0e:km(e,t)&&(r=Z0e),r}function J0e(e,t){var r;return p0(e,t)?r="trapezoids":g0(e,t)?r="sectors":km(e,t)&&(r="points"),r}function ebe(e,t){if(p0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return km(e,t)?t.payload:{}}function tbe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=J0e(r,t),i=ebe(r,t),o=n.filter(function(c,u){var d=Vo(i,c),f=r.props[a].filter(function(y){var g=Q0e(r,t);return g(y,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Rg;function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},au.apply(this,arguments)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){Ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function nbe(e,t,r){return t&&U2(e.prototype,t),r&&U2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function abe(e,t,r){return t=uy(t),ibe(e,kB()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function ibe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(e)}function sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function obe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d_(e,t)}function Ma(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=lbe(e,"string");return nd(t)=="symbol"?t:t+""}function lbe(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ci=function(e){function t(r){var n;return rbe(this,t),n=abe(this,t,[r]),Ma(n,"pieRef",null),Ma(n,"sectorRefs",[]),Ma(n,"id",Zo("recharts-pie-")),Ma(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Je(a)&&a()}),Ma(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Je(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return obe(t,e),nbe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=We(this.props,!1),f=We(o,!1),h=We(l,!1),m=o&&o.offsetRadius||20,y=n.map(function(g,p){var v=(g.startAngle+g.endAngle)/2,x=or(g.cx,g.cy,g.outerRadius+m,v),b=ar(ar(ar(ar({},d),g),{},{stroke:"none"},f),{},{index:p,textAnchor:t.getTextAnchor(x.x,g.cx)},x),_=ar(ar(ar(ar({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:p,points:[or(g.cx,g.cy,g.outerRadius,v),x]}),j=c;return Qe(c)&&Qe(u)?j="value":Qe(c)&&(j=u),I.createElement(yt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,pr(g,j)))});return I.createElement(yt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,y=ar(ar({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return I.createElement(yt,au({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},Uo(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),I.createElement(cy,au({option:m,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return I.createElement(Va,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,p=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(b,_){var j=h&&h[_],S=_>0?ba(b,"paddingAngle",0):0;if(j){var C=Cr(j.endAngle-j.startAngle,b.endAngle-b.startAngle),k=ar(ar({},b),{},{startAngle:x+S,endAngle:x+C(g)+S});p.push(k),x=k.endAngle}else{var N=b.endAngle,R=b.startAngle,O=Cr(0,N-R),E=O(g),T=ar(ar({},b),{},{startAngle:x+S,endAngle:x+E+S});p.push(T),x=T.endAngle}}),I.createElement(yt,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Vo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!je(u)||!je(d)||!je(f)||!je(h))return null;var g=dt("recharts-pie",l);return I.createElement(yt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),un.renderCallByParent(this.props,null,!1),(!m||y)&&yi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);if(Je(n))return n(a);var o=dt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(Mo,au({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);var o=i;if(Je(n)&&(o=n(a),I.isValidElement(o)))return o;var l=dt("recharts-pie-label-text",typeof n!="boolean"&&!Je(n)?n.className:"");return I.createElement(ec,au({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Rg=Ci;Ma(Ci,"displayName","Pie");Ma(Ci,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!La.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ma(Ci,"parseDeltaAngle",function(e,t){var r=Un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ma(Ci,"getRealPieData",function(e){var t=e.data,r=e.children,n=We(e,!1),a=qn(r,Qo);return t&&t.length?t.map(function(i,o){return ar(ar(ar({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ar(ar({},n),i.props)}):[]});Ma(Ci,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=lB(a,i),l=n+Vn(e.cx,a,a/2),c=r+Vn(e.cy,i,i/2),u=Vn(e.innerRadius,o,0),d=Vn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ma(Ci,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ar(ar({},t.type.defaultProps),t.props):t.props,a=Rg.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),y=Rg.parseCoordinateOfPie(n,r),g=Rg.parseDeltaAngle(o,l),p=Math.abs(g),v=u;Qe(u)&&Qe(f)?(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Qe(u)&&(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var x=a.filter(function(k){return pr(k,v,0)!==0}).length,b=(p>=360?x:x-1)*c,_=p-x*m-b,j=a.reduce(function(k,N){var R=pr(N,v,0);return k+(je(R)?R:0)},0),S;if(j>0){var C;S=a.map(function(k,N){var R=pr(k,v,0),O=pr(k,d,N),E=(je(R)?R:0)/j,T;N?T=C.endAngle+Un(g)*c*(R!==0?1:0):T=o;var P=T+Un(g)*((R!==0?m:0)+E*_),A=(T+P)/2,$=(y.innerRadius+y.outerRadius)/2,M=[{name:O,value:R,payload:k,dataKey:v,type:h}],L=or(y.cx,y.cy,$,A);return C=ar(ar(ar({percent:E,cornerRadius:i,name:O,tooltipPayload:M,midAngle:A,middleRadius:$,tooltipPosition:L},k),y),{},{value:pr(k,v),startAngle:T,endAngle:P,payload:k,paddingAngle:Un(g)*c}),C})}return ar(ar({},y),{},{sectors:S,data:a})});var cbe=Math.ceil,ube=Math.max;function dbe(e,t,r,n){for(var a=-1,i=ube(cbe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var fbe=dbe,hbe=YL,V2=1/0,mbe=17976931348623157e292;function pbe(e){if(!e)return e===0?e:0;if(e=hbe(e),e===V2||e===-V2){var t=e<0?-1:1;return t*mbe}return e===e?e:0}var AB=pbe,gbe=fbe,vbe=e0,sw=AB;function ybe(e){return function(t,r,n){return n&&typeof n!="number"&&vbe(t,r,n)&&(r=n=void 0),t=sw(t),r===void 0?(r=t,t=0):r=sw(r),n=n===void 0?t<r?1:-1:sw(n),gbe(t,r,n,e)}}var xbe=ybe,bbe=xbe,wbe=bbe(),jbe=wbe;const dy=It(jbe);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return t=_be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _be(e){var t=Sbe(e,"string");return Em(t)=="symbol"?t:t+""}function Sbe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cbe=["Webkit","Moz","O","ms"],Nbe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Cbe.reduce(function(i,o){return H2(H2({},i),{},OB({},o+n,r))},{});return a[t]=r,a};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function kbe(e,t,r){return t&&K2(e.prototype,t),r&&K2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ebe(e,t,r){return t=hy(t),Abe(e,TB()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function Abe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(e)}function Obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function Tbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f_(e,t)}function ua(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=Rbe(e,"string");return ad(t)=="symbol"?t:t+""}function Rbe(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mbe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=lh().domain(dy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},G2=function(t){return t.changedTouches&&!!t.changedTouches.length},id=function(e){function t(r){var n;return Pbe(this,t),n=Ebe(this,t,[r]),ua(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ua(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ua(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ua(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ua(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ua(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ua(n,"handleSlideDragStart",function(a){var i=G2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Tbe(t,e),kbe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=pr(i[n],l,n);return Je(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var p=this.getIndex({startX:o+g,endX:l+g});(p.startIndex!==h||p.endIndex!==m)&&y&&y(p),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=G2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,p=d.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),v[o]=u+x;var b=this.getIndex(v),_=b.startIndex,j=b.endIndex,S=function(){var k=p.length-1;return o==="startX"&&(l>c?_%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:_%g===0)||l>c&&j===k};this.setState(ua(ua({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ua({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?I.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,g=c.startIndex,p=c.endIndex,v=Math.max(n,this.props.x),x=ow(ow({},We(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=m||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[p])===null||o===void 0?void 0:o.name);return I.createElement(yt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return I.createElement(yt,{className:"recharts-brush-texts"},I.createElement(ec,fy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},y),this.getTextOfTick(a)),I.createElement(ec,fy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,p=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var b=dt("recharts-brush",i),_=I.Children.count(o)===1,j=Nbe("userSelect","none");return I.createElement(yt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||p||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return I.isValidElement(n)?i=I.cloneElement(n,a):Je(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return ow({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Mbe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(w.PureComponent);ua(id,"displayName","Brush");ua(id,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $be=HC;function Ibe(e,t){var r;return $be(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Dbe=Ibe,Lbe=jL,Bbe=ns,Fbe=Dbe,zbe=oa,Ube=e0;function Vbe(e,t,r){var n=zbe(e)?Lbe:Fbe;return r&&Ube(e,t,r)&&(t=void 0),n(e,Bbe(t))}var Wbe=Vbe;const Hbe=It(Wbe);var Yi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Y2=WL;function qbe(e,t,r){t=="__proto__"&&Y2?Y2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Kbe=qbe,Gbe=Kbe,Ybe=UL,Xbe=ns;function Zbe(e,t){var r={};return t=Xbe(t),Ybe(e,function(n,a,i){Gbe(r,a,t(n,a,i))}),r}var Qbe=Zbe;const Jbe=It(Qbe);function ewe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var twe=ewe,rwe=HC;function nwe(e,t){var r=!0;return rwe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var awe=nwe,iwe=twe,swe=awe,owe=ns,lwe=oa,cwe=e0;function uwe(e,t,r){var n=lwe(e)?iwe:swe;return r&&cwe(e,t,r)&&(t=void 0),n(e,owe(t))}var dwe=uwe;const MB=It(dwe);var fwe=["x","y"];function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t,r){return t=mwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mwe(e){var t=pwe(e,"string");return Am(t)=="symbol"?t:t+""}function pwe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gwe(e,t){if(e==null)return{};var r=vwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ywe(e,t){var r=e.x,n=e.y,a=gwe(e,fwe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Of(Of(Of(Of(Of({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Z2(e){return I.createElement(cy,h_({shapeType:"rectangle",propTransformer:ywe,activeClassName:"recharts-active-bar"},e))}var xwe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=je(n)||Wee(n);return i?t(n,a):(i||rc(),r)}},bwe=["value","background"],$B;function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function wwe(e,t){if(e==null)return{};var r=jwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DB(n.key),n)}}function Swe(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cwe(e,t,r){return t=py(t),Nwe(e,IB()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function Nwe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pwe(e)}function Pwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function kwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function vo(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=Ewe(e,"string");return sd(t)=="symbol"?t:t+""}function Ewe(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ut=function(e){function t(){var r;_we(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cwe(this,t,[].concat(a)),vo(r,"state",{isAnimationFinished:!1}),vo(r,"id",Zo("recharts-bar-")),vo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return kwe(t,e),Swe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var m=h===c,y=m?u:o,g=Wr(Wr(Wr({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(yt,my({className:"recharts-bar-rectangle"},Uo(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(Z2,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Va,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=i.map(function(p,v){var x=h&&h[v];if(x){var b=Cr(x.x,p.x),_=Cr(x.y,p.y),j=Cr(x.width,p.width),S=Cr(x.height,p.height);return Wr(Wr({},p),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(o==="horizontal"){var C=Cr(0,p.height),k=C(y);return Wr(Wr({},p),{},{y:p.y+p.height-k,height:k})}var N=Cr(0,p.width),R=N(y);return Wr(Wr({},p),{},{width:R})});return I.createElement(yt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=We(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=wwe(u,bwe);if(!f)return null;var m=Wr(Wr(Wr(Wr(Wr({},h),{},{fill:"#eee"},f),c),Uo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(Z2,my({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=qn(d,sf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(p,v){var x=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:x,errorVal:pr(p,v)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(yt,y,f.map(function(g){return I.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,v=dt("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,j=Qe(g)?this.id:g;return I.createElement(yt,{className:v},x||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,I.createElement(yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||p)&&yi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);$B=Ut;vo(Ut,"displayName","Bar");vo(Ut,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!La.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vo(Ut,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=cge(n,r);if(!m)return null;var y=t.layout,g=r.type.defaultProps,p=g!==void 0?Wr(Wr({},g),r.props):r.props,v=p.dataKey,x=p.children,b=p.minPointSize,_=y==="horizontal"?o:i,j=u?_.scale.domain():null,S=gge({numericAxis:_}),C=qn(x,Qo),k=f.map(function(N,R){var O,E,T,P,A,$;u?O=uge(u[d+R],j):(O=pr(N,v),Array.isArray(O)||(O=[S,O]));var M=xwe(b,$B.defaultProps.minPointSize)(O[1],R);if(y==="horizontal"){var L,B=[o.scale(O[0]),o.scale(O[1])],z=B[0],re=B[1];E=UO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:N,index:R}),T=(L=re??z)!==null&&L!==void 0?L:void 0,P=m.size;var ee=z-re;if(A=Number.isNaN(ee)?0:ee,$={x:E,y:o.y,width:P,height:o.height},Math.abs(M)>0&&Math.abs(A)<Math.abs(M)){var se=Un(A||M)*(Math.abs(M)-Math.abs(A));T-=se,A+=se}}else{var U=[i.scale(O[0]),i.scale(O[1])],V=U[0],K=U[1];if(E=V,T=UO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:N,index:R}),P=K-V,A=m.size,$={x:i.x,y:T,width:i.width,height:A},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var q=Un(P||M)*(Math.abs(M)-Math.abs(P));P+=q}}return Wr(Wr(Wr({},N),{},{x:E,y:T,width:P,height:A,value:u?O:O[1],payload:N,background:$},C&&C[R]&&C[R].props),{},{tooltipPayload:[sB(r,N)],tooltipPosition:{x:E+P/2,y:T+A/2}})});return Wr({data:k,layout:y},h)});function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function Owe(e,t,r){return t&&eT(e.prototype,t),r&&eT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){v0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v0(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=Twe(e,"string");return Om(t)=="symbol"?t:t+""}function Twe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y0=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!fa(u,Ut);return d.reduce(function(m,y){var g=r[y],p=g.orientation,v=g.domain,x=g.padding,b=x===void 0?{}:x,_=g.mirror,j=g.reversed,S="".concat(p).concat(_?"Mirror":""),C,k,N,R,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=v[1]-v[0],T=1/0,P=g.categoricalDomain.sort(Gee);if(P.forEach(function(U,V){V>0&&(T=Math.min((U||0)-(P[V-1]||0),T))}),Number.isFinite(T)){var A=T/E,$=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(C=A*$/2),g.padding==="no-gap"){var M=Vn(t.barCategoryGap,A*$),L=A*$/2;C=L-M-(L-M)/$*M}}}a==="xAxis"?k=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:k=g.range,j&&(k=[k[1],k[0]]);var B=rB(g,i,h),z=B.scale,re=B.realScaleType;z.domain(v).range(k),nB(z);var ee=aB(z,li(li({},g),{},{realScaleType:re}));a==="xAxis"?(O=p==="top"&&!_||p==="bottom"&&_,N=n.left,R=f[S]-O*g.height):a==="yAxis"&&(O=p==="left"&&!_||p==="right"&&_,N=f[S]-O*g.width,R=n.top);var se=li(li(li({},g),ee),{},{realScaleType:re,x:N,y:R,scale:z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return se.bandSize=Qv(se,ee),!g.hide&&a==="xAxis"?f[S]+=(O?-1:1)*se.height:g.hide||(f[S]+=(O?-1:1)*se.width),li(li({},m),{},v0({},y,se))},{})},BB=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Rwe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BB({x:r,y:n},{x:a,y:i})},FB=function(){function e(t){Awe(this,e),this.scale=t}return Owe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();v0(FB,"EPS",1e-4);var bN=function(t){var r=Object.keys(t).reduce(function(n,a){return li(li({},n),{},v0({},a,FB.create(t[a])))},{});return li(li({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Jbe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return MB(a,function(i,o){return r[o].isInRange(i)})}})};function Mwe(e){return(e%180+180)%180}var $we=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Mwe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Iwe=ns,Dwe=sp,Lwe=Qx;function Bwe(e){return function(t,r,n){var a=Object(t);if(!Dwe(t)){var i=Iwe(r);t=Lwe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Fwe=Bwe,zwe=AB;function Uwe(e){var t=zwe(e),r=t%1;return t===t?r?t-r:t:0}var Vwe=Uwe,Wwe=IL,Hwe=ns,qwe=Vwe,Kwe=Math.max;function Gwe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:qwe(r);return a<0&&(a=Kwe(n+a,0)),Wwe(e,Hwe(t),a)}var Ywe=Gwe,Xwe=Fwe,Zwe=Ywe,Qwe=Xwe(Zwe),Jwe=Qwe;const eje=It(Jwe);var tje=GJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),wN=w.createContext(void 0),jN=w.createContext(void 0),zB=w.createContext(void 0),UB=w.createContext({}),VB=w.createContext(void 0),WB=w.createContext(0),HB=w.createContext(0),rT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=tje(i);return I.createElement(wN.Provider,{value:n},I.createElement(jN.Provider,{value:a},I.createElement(UB.Provider,{value:i},I.createElement(zB.Provider,{value:d},I.createElement(VB.Provider,{value:o},I.createElement(WB.Provider,{value:u},I.createElement(HB.Provider,{value:c},l)))))))},rje=function(){return w.useContext(VB)},qB=function(t){var r=w.useContext(wN);r==null&&rc();var n=r[t];return n==null&&rc(),n},nje=function(){var t=w.useContext(wN);return so(t)},aje=function(){var t=w.useContext(jN),r=eje(t,function(n){return MB(n.domain,Number.isFinite)});return r||so(t)},KB=function(t){var r=w.useContext(jN);r==null&&rc();var n=r[t];return n==null&&rc(),n},ije=function(){var t=w.useContext(zB);return t},sje=function(){return w.useContext(UB)},_N=function(){return w.useContext(HB)},SN=function(){return w.useContext(WB)};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YB(n.key),n)}}function cje(e,t,r){return t&&lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uje(e,t,r){return t=gy(t),dje(e,GB()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function dje(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(e)}function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function hje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p_(e,t)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){CN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=mje(e,"string");return od(t)=="symbol"?t:t+""}function mje(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pje(e,t){return xje(e)||yje(e,t)||vje(e,t)||gje()}function gje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return iT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(e,t)}}function iT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xje(e){if(Array.isArray(e))return e}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}var bje=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Je(t)?n=t(r):n=I.createElement("line",g_({},r,{className:"recharts-reference-line-line"})),n},wje=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(Yi(u,"discard")&&!t.y.isInRange(g))return null;var p=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?p.reverse():p}if(r){var v=u.x,x=t.x.apply(v,{position:o});if(Yi(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Yi(u,"discard")&&Hbe(j,function(S){return!t.isInRange(S)})?null:j}return null};function jje(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=rje(),d=qB(a),f=KB(i),h=ije();if(!u||!h)return null;vi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=bN({x:d.scale,y:f.scale}),y=nn(t),g=nn(r),p=n&&n.length===2,v=wje(m,y,g,p,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var x=pje(v,2),b=x[0],_=b.x,j=b.y,S=x[1],C=S.x,k=S.y,N=Yi(e,"hidden")?"url(#".concat(u,")"):void 0,R=aT(aT({clipPath:N},We(e,!0)),{},{x1:_,y1:j,x2:C,y2:k});return I.createElement(yt,{className:dt("recharts-reference-line",l)},bje(o,R),un.renderCallByParent(e,Rwe({x1:_,y1:j,x2:C,y2:k})))}var x0=function(e){function t(){return oje(this,t),uje(this,t,arguments)}return hje(t,e),cje(t,[{key:"render",value:function(){return I.createElement(jje,this.props)}}])}(I.Component);CN(x0,"displayName","ReferenceLine");CN(x0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){b0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZB(n.key),n)}}function Cje(e,t,r){return t&&Sje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nje(e,t,r){return t=vy(t),Pje(e,XB()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function Pje(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kje(e)}function kje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function Eje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y_(e,t)}function b0(e,t,r){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=Aje(e,"string");return ld(t)=="symbol"?t:t+""}function Aje(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oje=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=bN({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Yi(t,"discard")&&!o.isInRange(l)?null:l},w0=function(e){function t(){return _je(this,t),Nje(this,t,arguments)}return Eje(t,e),Cje(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=nn(a),d=nn(i);if(vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Oje(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,p=y.className,v=Yi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=oT(oT({clipPath:v},We(this.props,!0)),{},{cx:h,cy:m});return I.createElement(yt,{className:dt("recharts-reference-dot",p)},t.renderDot(g,x),un.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(I.Component);b0(w0,"displayName","ReferenceDot");b0(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});b0(w0,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Je(e)?r=e(t):r=I.createElement(dp,v_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JB(n.key),n)}}function Mje(e,t,r){return t&&Rje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $je(e,t,r){return t=yy(t),Ije(e,QB()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function Ije(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dje(e)}function Dje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function Lje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b_(e,t)}function j0(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=Bje(e,"string");return cd(t)=="symbol"?t:t+""}function Bje(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fje=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=bN({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Yi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:BB(m,y)},_0=function(e){function t(){return Tje(this,t),$je(this,t,arguments)}return Lje(t,e),Mje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nn(a),h=nn(i),m=nn(o),y=nn(l),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var p=Fje(f,h,m,y,this.props);if(!p&&!g)return null;var v=Yi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(yt,{className:dt("recharts-reference-area",c)},t.renderRect(g,cT(cT({clipPath:v},We(this.props,!0)),p)),un.renderCallByParent(this.props,p))}}])}(I.Component);j0(_0,"displayName","ReferenceArea");j0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});j0(_0,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Je(e)?r=e(t):r=I.createElement(xN,x_({},t,{className:"recharts-reference-area-rect"})),r});function eF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function zje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $we(n,r)}function Uje(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function xy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Vje(e,t){return eF(e,t+1)}function Wje(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:eF(n,u)};var g=c,p,v=function(){return p===void 0&&(p=r(y,g)),p},x=y.coordinate,b=c===0||xy(e,x,v,d,l);b||(c=0,d=o,u+=1),b&&(d=x+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){Hje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hje(e,t,r){return t=qje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qje(e){var t=Kje(e,"string");return Tm(t)=="symbol"?t:t+""}function Kje(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],y,g=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var p=e*(m.coordinate+e*g()/2-c);i[h]=m=An(An({},m),{},{tickCoord:p>0?m.coordinate-p*e:m.coordinate})}else i[h]=m=An(An({},m),{},{tickCoord:m.coordinate});var v=xy(e,m.tickCoord,g,l,c);v&&(c=m.tickCoord-e*(g()/2+a),i[h]=An(An({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Yje(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=An(An({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=xy(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=An(An({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(x){var b=o[x],_,j=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*j()/2-c);o[x]=b=An(An({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[x]=b=An(An({},b),{},{tickCoord:b.coordinate});var C=xy(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),o[x]=An(An({},b),{},{isShow:!0}))},p=0;p<y;p++)g(p);return o}function NN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(je(c)||La.isSsr)return Vje(a,typeof c=="number"&&je(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?oh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,_){var j=Je(u)?u(b.value,_):b.value;return m==="width"?zje(oh(j,{fontSize:t,letterSpacing:r}),y,f):oh(j,{fontSize:t,letterSpacing:r})[m]},p=a.length>=2?Un(a[1].coordinate-a[0].coordinate):1,v=Uje(i,p,m);return c==="equidistantPreserveStart"?Wje(p,v,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Yje(p,v,g,a,o,c==="preserveStartEnd"):h=Gje(p,v,g,a,o),h.filter(function(x){return x.isShow}))}var Xje=["viewBox"],Zje=["viewBox"],Qje=["ticks"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lw(e,t){if(e==null)return{};var r=Jje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function t1e(e,t,r){return t&&fT(e.prototype,t),r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r1e(e,t,r){return t=by(t),n1e(e,tF()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function n1e(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1e(e)}function a1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function i1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w_(e,t)}function PN(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=s1e(e,"string");return ud(t)=="symbol"?t:t+""}function s1e(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of=function(e){function t(r){var n;return e1e(this,t),n=r1e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return i1e(t,e),t1e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=lw(n,Xje),l=this.props,c=l.viewBox,u=lw(l,Zje);return!vu(i,c)||!vu(o,u)||!vu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,y,g,p,v,x,b=f?-1:1,_=n.tickSize||d,j=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,p=o+ +!f*c,g=p-b*_,x=g-b*h,v=j;break;case"left":g=p=n.coordinate,y=i+ +!f*l,m=y-b*_,v=m-b*h,x=j;break;case"right":g=p=n.coordinate,y=i+ +f*l,m=y+b*_,v=m+b*h,x=j;break;default:m=y=n.coordinate,p=o+ +f*c,g=p+b*_,x=g+b*h,v=j;break}return{line:{x1:m,y1:g,x2:y,y2:p},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Yr(Yr(Yr({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Yr(Yr({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Yr(Yr({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return I.createElement("line",iu({},f,{className:dt("recharts-cartesian-axis-line",ba(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=NN(Yr(Yr({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=We(this.props,!1),v=We(d,!1),x=Yr(Yr({},p),{},{fill:"none"},We(c,!1)),b=m.map(function(_,j){var S=o.getTickLineCoord(_),C=S.line,k=S.tick,N=Yr(Yr(Yr(Yr({textAnchor:y,verticalAnchor:g},p),{},{stroke:"none",fill:u},v),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return I.createElement(yt,iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Uo(o.props,_,j)),c&&I.createElement("line",iu({},x,C,{className:dt("recharts-cartesian-axis-tick-line",ba(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Je(f)?f(_.value,j):_.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=lw(f,Qje),y=h;return Je(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:I.createElement(yt,{className:dt("recharts-cartesian-axis",u),ref:function(p){n.layerReference=p}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=dt(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Yr(Yr({},a),{},{className:l})):Je(n)?o=n(Yr(Yr({},a),{},{className:l})):o=I.createElement(ec,iu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(w.Component);PN(of,"displayName","CartesianAxis");PN(of,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var o1e=["x1","y1","x2","y2","key"],l1e=["offset"];function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){c1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1e(e,t,r){return t=u1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u1e(e){var t=d1e(e,"string");return nc(t)=="symbol"?t:t+""}function d1e(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}function mT(e,t){if(e==null)return{};var r=f1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var h1e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nF(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=mT(t,o1e),u=We(c,!1);u.offset;var d=mT(u,l1e);r=I.createElement("line",Tl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function m1e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Tn(Tn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return nF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function p1e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Tn(Tn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return nF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function g1e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?a+o-h:d[m+1]-h;if(g<=0)return null;var p=m%t.length;return I.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function v1e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?i+l-h:d[m+1]-h;if(g<=0)return null;var p=m%n.length;return I.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var y1e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return tB(NN(Tn(Tn(Tn({},of.defaultProps),n),{},{ticks:bs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},x1e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return tB(NN(Tn(Tn(Tn({},of.defaultProps),n),{},{ticks:bs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Cc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nr(e){var t,r,n,a,i,o,l=_N(),c=SN(),u=sje(),d=Tn(Tn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Cc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Cc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Cc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Cc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Cc.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,g=d.syncWithTicks,p=d.horizontalValues,v=d.verticalValues,x=nje(),b=aje();if(!je(m)||m<=0||!je(y)||y<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||y1e,j=d.horizontalCoordinatesGenerator||x1e,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Je(j)){var k=p&&p.length,N=j({yAxis:b?Tn(Tn({},b),{},{ticks:k?p:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);vi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nc(N),"]")),Array.isArray(N)&&(S=N)}if((!C||!C.length)&&Je(_)){var R=v&&v.length,O=_({xAxis:x?Tn(Tn({},x),{},{ticks:R?v:x.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);vi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nc(O),"]")),Array.isArray(O)&&(C=O)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(h1e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(m1e,Tl({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),I.createElement(p1e,Tl({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),I.createElement(g1e,Tl({},d,{horizontalPoints:S})),I.createElement(v1e,Tl({},d,{verticalPoints:C})))}Nr.displayName="CartesianGrid";var b1e=["type","layout","connectNulls","ref"],w1e=["key"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function pT(e,t){if(e==null)return{};var r=j1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nc(e){return N1e(e)||C1e(e)||S1e(e)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1e(e,t){if(e){if(typeof e=="string")return j_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j_(e,t)}}function C1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N1e(e){if(Array.isArray(e))return j_(e)}function j_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function k1e(e,t,r){return t&&vT(e.prototype,t),r&&vT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E1e(e,t,r){return t=wy(t),A1e(e,aF()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function A1e(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O1e(e)}function O1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function T1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},__(e,t)}function ci(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=R1e(e,"string");return dd(t)=="symbol"?t:t+""}function R1e(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=function(e){function t(){var r;P1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=E1e(this,t,[].concat(a)),ci(r,"state",{isAnimationFinished:!0,totalLength:0}),ci(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ci(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){m=[].concat(Nc(c.slice(0,y)),[f-g]);break}var p=m.length%2===0?[0,h]:[h];return[].concat(Nc(t.repeat(c,d)),Nc(m),p).map(function(v){return"".concat(v,"px")}).join(", ")}),ci(r,"id",Zo("recharts-line-")),ci(r,"pathRef",function(o){r.mainCurve=o}),ci(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ci(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return T1e(t,e),k1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=qn(d,sf);if(!f)return null;var h=function(g,p){return{x:g.x,y:g.y,value:g.value,errorVal:pr(g.payload,p)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(yt,m,f.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=We(this.props,!1),h=We(c,!0),m=u.map(function(g,p){var v=ca(ca(ca({key:"dot-".concat(p),r:3},f),h),{},{index:p,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,v)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return I.createElement(yt,hh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=pT(l,b1e),h=ca(ca(ca({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return I.createElement(Mo,hh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,p=o.height,v=this.state,x=v.prevPoints,b=v.totalLength;return I.createElement(Va,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var S=x.length/l.length,C=l.map(function(E,T){var P=Math.floor(T*S);if(x[P]){var A=x[P],$=Cr(A.x,E.x),M=Cr(A.y,E.y);return ca(ca({},E),{},{x:$(j),y:M(j)})}if(y){var L=Cr(g*2,E.x),B=Cr(p/2,E.y);return ca(ca({},E),{},{x:L(j),y:B(j)})}return ca(ca({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(C,n,a)}var k=Cr(0,b),N=k(j),R;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});R=i.getStrokeDasharray(N,b,O)}else R=i.generateSimpleStrokeDasharray(b,N);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Vo(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,y=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=dt("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=_||j,C=Qe(p)?this.id:p,k=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=k.r,R=N===void 0?3:N,O=k.strokeWidth,E=O===void 0?2:O,T=K3(o)?o:{},P=T.clipDot,A=P===void 0?!0:P,$=R*2+E;return I.createElement(yt,{className:b},_||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(C)},I.createElement("rect",{x:_?h:h-m/2,y:j?f:f-y/2,width:_?m:m*2,height:j?y:y*2})),!A&&I.createElement("clipPath",{id:"clipPath-dots-".concat(C)},I.createElement("rect",{x:h-$/2,y:f-$/2,width:m+$,height:y+$}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||o)&&this.renderDots(S,A,C),(!g||v)&&yi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Nc(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Nc(o),Nc(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(I.isValidElement(n))i=I.cloneElement(n,a);else if(Je(n))i=n(a);else{var o=a.key,l=pT(a,w1e),c=dt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=I.createElement(dp,hh({key:o},l,{className:c}))}return i}}])}(w.PureComponent);ci(Rn,"displayName","Line");ci(Rn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!La.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ci(Rn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=pr(h,o);return d==="horizontal"?{x:Ju({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Qe(y)?null:n.scale(y),value:y,payload:h}:{x:Qe(y)?null:r.scale(y),y:Ju({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:y,payload:h}});return ca({points:f,layout:d},u)});var M1e=["layout","type","stroke","connectNulls","isRange","ref"],$1e=["key"],sF;function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function oF(e,t){if(e==null)return{};var r=I1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){zi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function L1e(e,t,r){return t&&xT(e.prototype,t),r&&xT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B1e(e,t,r){return t=jy(t),F1e(e,lF()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function F1e(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(e)}function z1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function U1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S_(e,t)}function zi(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=V1e(e,"string");return fd(t)=="symbol"?t:t+""}function V1e(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn=function(e){function t(){var r;D1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=B1e(this,t,[].concat(a)),zi(r,"state",{isAnimationFinished:!0}),zi(r,"id",Zo("recharts-area-")),zi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Je(o)&&o()}),zi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Je(o)&&o()}),r}return U1e(t,e),L1e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=We(this.props,!1),m=We(u,!0),y=d.map(function(p,v){var x=Xs(Xs(Xs({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:p.x,cy:p.y,dataKey:f,value:p.value,payload:p.payload,points:d});return t.renderDotItem(u,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return I.createElement(yt,Rl({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=go(o.map(function(h){return h.y||0}));return je(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(go(i.map(function(h){return h.y||0})),f)),je(f)?I.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=go(o.map(function(h){return h.x||0}));return je(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(go(i.map(function(h){return h.x||0})),f)),je(f)?I.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=oF(l,M1e);return I.createElement(yt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},I.createElement(Mo,Rl({},We(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Mo,Rl({},We(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Mo,Rl({},We(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=this.state,g=y.prevPoints,p=y.prevBaseLine;return I.createElement(Va,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(g){var b=g.length/l.length,_=l.map(function(k,N){var R=Math.floor(N*b);if(g[R]){var O=g[R],E=Cr(O.x,k.x),T=Cr(O.y,k.y);return Xs(Xs({},k),{},{x:E(x),y:T(x)})}return k}),j;if(je(c)&&typeof c=="number"){var S=Cr(p,c);j=S(x)}else if(Qe(c)||Qd(c)){var C=Cr(p,0);j=C(x)}else j=c.map(function(k,N){var R=Math.floor(N*b);if(p[R]){var O=p[R],E=Cr(O.x,k.x),T=Cr(O.y,k.y);return Xs(Xs({},k),{},{x:E(x),y:T(x)})}return k});return i.renderAreaStatically(_,j,n,a)}return I.createElement(yt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),I.createElement(yt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Vo(d,o)||!Vo(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,y=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=dt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,C=Qe(p)?this.id:p,k=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=k.r,R=N===void 0?3:N,O=k.strokeWidth,E=O===void 0?2:O,T=K3(o)?o:{},P=T.clipDot,A=P===void 0?!0:P,$=R*2+E;return I.createElement(yt,{className:b},_||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(C)},I.createElement("rect",{x:_?d:d-m/2,y:j?u:u-y/2,width:_?m:m*2,height:j?y:y*2})),!A&&I.createElement("clipPath",{id:"clipPath-dots-".concat(C)},I.createElement("rect",{x:d-$/2,y:u-$/2,width:m+$,height:y+$}))):null,x?null:this.renderArea(S,C),(o||x)&&this.renderDots(S,A,C),(!g||v)&&yi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);sF=Mn;zi(Mn,"displayName","Area");zi(Mn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!La.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zi(Mn,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(je(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});zi(Mn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,y=u&&u.length,g=sF.getBaseValue(t,r,n,a),p=m==="horizontal",v=!1,x=f.map(function(_,j){var S;y?S=u[d+j]:(S=pr(_,c),Array.isArray(S)?v=!0:S=[g,S]);var C=S[1]==null||y&&pr(_,c)==null;return p?{x:Ju({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:Ju({axis:a,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),b;return y||v?b=x.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return p?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=p?a.scale(g):n.scale(g),Xs({points:x,baseLine:b,layout:m,isRange:v},h)});zi(Mn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=dt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=oF(t,$1e);r=I.createElement(dp,Rl({},i,{key:a,className:n}))}return r});function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fF(n.key),n)}}function q1e(e,t,r){return t&&H1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1e(e,t,r){return t=_y(t),G1e(e,uF()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function G1e(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(e)}function Y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function X1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C_(e,t)}function dF(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=Z1e(e,"string");return hd(t)=="symbol"?t:t+""}function Z1e(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S0=function(e){function t(){return W1e(this,t),K1e(this,t,arguments)}return X1e(t,e),q1e(t,[{key:"render",value:function(){return null}}])}(w.Component);dF(S0,"displayName","ZAxis");dF(S0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Q1e=["option","isActive"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(this,arguments)}function J1e(e,t){if(e==null)return{};var r=e_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t_e(e){var t=e.option,r=e.isActive,n=J1e(e,Q1e);return typeof t=="string"?w.createElement(cy,mh({option:w.createElement(Zx,mh({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(cy,mh({option:t,isActive:r,shapeType:"symbols"},n))}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mF(n.key),n)}}function n_e(e,t,r){return t&&wT(e.prototype,t),r&&wT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a_e(e,t,r){return t=Sy(t),i_e(e,hF()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function i_e(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(e)}function s_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function o_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N_(e,t)}function yo(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=l_e(e,"string");return md(t)=="symbol"?t:t+""}function l_e(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0=function(e){function t(){var r;r_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=a_e(this,t,[].concat(a)),yo(r,"state",{isAnimationFinished:!1}),yo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),yo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),yo(r,"id",Zo("recharts-scatter-")),r}return o_e(t,e),n_e(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=We(this.props,!1);return n.map(function(d,f){var h=c===f,m=h?l:o,y=Aa(Aa({},u),d);return I.createElement(yt,ph({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Uo(a.props,d,f),{role:"img"}),I.createElement(t_e,ph({option:m,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return I.createElement(Va,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,y=i.map(function(g,p){var v=f&&f[p];if(v){var x=Cr(v.cx,g.cx),b=Cr(v.cy,g.cy),_=Cr(v.size,g.size);return Aa(Aa({},g),{},{cx:x(m),cy:b(m),size:_(m)})}var j=Cr(0,g.size);return Aa(Aa({},g),{},{size:j(m)})});return I.createElement(yt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!Vo(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=qn(c,sf);return u?u.map(function(d,f){var h=d.props,m=h.direction,y=h.dataKey;return I.cloneElement(d,{key:"".concat(m,"-").concat(y,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(p,v){return{x:p.cx,y:p.cy,value:m==="x"?+p.node.x:+p.node.y,errorVal:pr(p,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=We(this.props,!1),u=We(i,!1),d,f;if(o==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=Kee(a),m=h.xmin,y=h.xmax,g=h.a,p=h.b,v=function(_){return g*_+p};d=[{x:m,y:v(m)},{x:y,y:v(y)}]}var x=Aa(Aa(Aa({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return I.isValidElement(i)?f=I.cloneElement(i,x):Je(i)?f=i(x):f=I.createElement(Mo,ph({},x,{type:l})),I.createElement(yt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,m=n.height,y=n.id,g=n.isAnimationActive;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,v=dt("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,j=Qe(y)?this.id:y;return I.createElement(yt,{className:v,clipPath:_?"url(#clipPath-".concat(j,")"):null},x||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:x?d:d-h/2,y:b?f:f-m/2,width:x?h:h*2,height:b?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(yt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||p)&&yi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(w.PureComponent);yo(C0,"displayName","Scatter");yo(C0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!La.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});yo(C0,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=qn(a.props.children,Qo),f=Qe(t.dataKey)?a.props.dataKey:t.dataKey,h=Qe(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,y=n?n.range:S0.defaultProps.range,g=y&&y[0],p=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var j=pr(b,f),S=pr(b,h),C=!Qe(m)&&pr(b,m)||"-",k=[{name:Qe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:f,type:u},{name:Qe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&k.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:m,type:u});var N=Ju({axis:t,ticks:o,bandSize:p,entry:b,index:_,dataKey:f}),R=Ju({axis:r,ticks:l,bandSize:v,entry:b,index:_,dataKey:h}),O=C!=="-"?n.scale(C):g,E=Math.sqrt(Math.max(O,0)/Math.PI);return Aa(Aa({},b),{},{cx:N,cy:R,x:N-E,y:R-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:O,node:{x:j,y:S,z:C},tooltipPayload:k,tooltipPosition:{x:N,y:R},payload:b},d&&d[_]&&d[_].props)});return Aa({points:x},c)});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function c_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vF(n.key),n)}}function d_e(e,t,r){return t&&u_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f_e(e,t,r){return t=Cy(t),h_e(e,pF()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function h_e(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m_e(e)}function m_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function p_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P_(e,t)}function gF(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=g_e(e,"string");return pd(t)=="symbol"?t:t+""}function g_e(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function v_e(e){var t=e.xAxisId,r=_N(),n=SN(),a=qB(t);return a==null?null:w.createElement(of,k_({},a,{className:dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bs(o,!0)}}))}var Zt=function(e){function t(){return c_e(this,t),f_e(this,t,arguments)}return p_e(t,e),d_e(t,[{key:"render",value:function(){return w.createElement(v_e,this.props)}}])}(w.Component);gF(Zt,"displayName","XAxis");gF(Zt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function y_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bF(n.key),n)}}function b_e(e,t,r){return t&&x_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w_e(e,t,r){return t=Ny(t),j_e(e,yF()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function j_e(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(e)}function __e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function S_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E_(e,t)}function xF(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=C_e(e,"string");return gd(t)=="symbol"?t:t+""}function C_e(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}var N_e=function(t){var r=t.yAxisId,n=_N(),a=SN(),i=KB(r);return i==null?null:w.createElement(of,A_({},i,{className:dt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return bs(l,!0)}}))},zt=function(e){function t(){return y_e(this,t),w_e(this,t,arguments)}return S_e(t,e),b_e(t,[{key:"render",value:function(){return w.createElement(N_e,this.props)}}])}(w.Component);xF(zt,"displayName","YAxis");xF(zt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jT(e){return A_e(e)||E_e(e)||k_e(e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(e,t){if(e){if(typeof e=="string")return O_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(e,t)}}function E_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A_e(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T_=function(t,r,n,a,i){var o=qn(t,x0),l=qn(t,w0),c=[].concat(jT(o),jT(l)),u=qn(t,_0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,p){if(p.props[d]===n&&Yi(p.props,"extendDomain")&&je(p.props[f])){var v=p.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,p){if(p.props[d]===n&&Yi(p.props,"extendDomain")&&je(p.props[m])&&je(p.props[y])){var v=p.props[m],x=p.props[y];return[Math.min(g[0],v,x),Math.max(g[1],v,x)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,p){return je(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},h)),h},wF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],v=arguments.length,x,b;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,h),!0;case 5:return p.fn.call(p.context,d,f,h,m),!0;case 6:return p.fn.call(p.context,d,f,h,m,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];p.fn.apply(p.context,x)}else{var _=p.length,j;for(b=0;b<_;b++)switch(p[b].once&&this.removeListener(u,p[b].fn,void 0,!0),v){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,d);break;case 3:p[b].fn.call(p[b].context,d,f);break;case 4:p[b].fn.call(p[b].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(v-1);j<v;j++)x[j-1]=arguments[j];p[b].fn.apply(p[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,p=[],v=y.length;g<v;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&p.push(y[g]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(wF);var O_e=wF.exports;const T_e=It(O_e);var cw=new T_e,uw="recharts.syncMouseEvents";function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function R_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function $_e(e,t,r){return t&&M_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dw(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=I_e(e,"string");return Rm(t)=="symbol"?t:t+""}function I_e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D_e=function(){function e(){R_e(this,e),dw(this,"activeIndex",0),dw(this,"coordinateList",[]),dw(this,"layout","horizontal")}return $_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function L_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function B_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _F(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=or(t,r,n,a),l=or(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function F_e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=or(l,c,u,f),m=or(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return _F(t);return[{x:n,y:a},{x:i,y:o}]}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){z_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z_e(e,t,r){return t=U_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_e(e){var t=V_e(e,"string");return Mm(t)=="symbol"?t:t+""}function V_e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,g=Mo;if(h==="ScatterChart")y=o,g=Rxe;else if(h==="BarChart")y=B_e(f,o,c,d),g=xN;else if(f==="radial"){var p=_F(o),v=p.cx,x=p.cy,b=p.radius,_=p.startAngle,j=p.endAngle;y={cx:v,cy:x,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},g=fB}else y={points:F_e(f,o,c)},g=Mo;var S=ag(ag(ag(ag({stroke:"#ccc",pointerEvents:"none"},c),y),We(m,!1)),{},{payload:l,payloadIndex:u,className:dt("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(g,S)}var H_e=["item"],q_e=["children","className","width","height","style","compact","title","desc"];function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}function ST(e,t){return Y_e(e)||G_e(e,t)||CF(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Y_e(e){if(Array.isArray(e))return e}function CT(e,t){if(e==null)return{};var r=X_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function J_e(e,t,r){return t&&Q_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eSe(e,t,r){return t=Py(t),tSe(e,SF()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function tSe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(e)}function rSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function nSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R_(e,t)}function yd(e){return sSe(e)||iSe(e)||CF(e)||aSe()}function aSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CF(e,t){if(e){if(typeof e=="string")return M_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(e,t)}}function iSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sSe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=oSe(e,"string");return vd(t)=="symbol"?t:t+""}function oSe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lSe={xAxis:["bottom","top"],yAxis:["left","right"]},cSe={width:"100%",height:"100%"},PF={x:0,y:0};function ig(e){return e}var uSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},dSe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return he(he(he({},a),or(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return he(he(he({},a),or(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return PF},N0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(yd(l),yd(u)):l},[]);return o.length>0?o:t&&t.length&&je(a)&&je(i)?t.slice(a,i+1):[]};function kF(e){return e==="number"?[0,"auto"]:void 0}var $_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=N0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Sv(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(yd(c),[sB(u,h)]):c},[])},PT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=uSe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=nge(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$_(t,r,d,f),m=dSe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},fSe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=eB(d,i);return n.reduce(function(y,g){var p,v=g.type.defaultProps!==void 0?he(he({},g.type.defaultProps),g.props):g.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,j=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,k=v.includeHidden,N=v[o];if(y[N])return y;var R=N0(t.data,{graphicalItems:a.filter(function(ee){var se,U=o in ee.props?ee.props[o]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[o];return U===N}),dataStartIndex:c,dataEndIndex:u}),O=R.length,E,T,P;L_e(v.domain,_,x)&&(E=q1(v.domain,null,_),m&&(x==="number"||S!=="auto")&&(P=ch(R,b,"category")));var A=kF(x);if(!E||E.length===0){var $,M=($=v.domain)!==null&&$!==void 0?$:A;if(b){if(E=ch(R,b,x),x==="category"&&m){var L=qee(E);j&&L?(T=E,E=dy(0,O)):j||(E=HO(M,E,g).reduce(function(ee,se){return ee.indexOf(se)>=0?ee:[].concat(yd(ee),[se])},[]))}else if(x==="category")j?E=E.filter(function(ee){return ee!==""&&!Qe(ee)}):E=HO(M,E,g).reduce(function(ee,se){return ee.indexOf(se)>=0||se===""||Qe(se)?ee:[].concat(yd(ee),[se])},[]);else if(x==="number"){var B=lge(R,a.filter(function(ee){var se,U,V=o in ee.props?ee.props[o]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[o],K="hide"in ee.props?ee.props.hide:(U=ee.type.defaultProps)===null||U===void 0?void 0:U.hide;return V===N&&(k||!K)}),b,i,d);B&&(E=B)}m&&(x==="number"||S!=="auto")&&(P=ch(R,b,"category"))}else m?E=dy(0,O):l&&l[N]&&l[N].hasStack&&x==="number"?E=h==="expand"?[0,1]:iB(l[N].stackGroups,c,u):E=J4(R,a.filter(function(ee){var se=o in ee.props?ee.props[o]:ee.type.defaultProps[o],U="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return se===N&&(k||!U)}),x,d,!0);if(x==="number")E=T_(f,E,N,i,C),M&&(E=q1(M,E,_));else if(x==="category"&&M){var z=M,re=E.every(function(ee){return z.indexOf(ee)>=0});re&&(E=z)}}return he(he({},y),{},et({},N,he(he({},v),{},{axisType:i,domain:E,categoricalDomain:P,duplicateDomain:T,originalDomain:(p=v.domain)!==null&&p!==void 0?p:A,isCategorical:m,layout:d})))},{})},hSe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=N0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=eB(d,i),g=-1;return n.reduce(function(p,v){var x=v.type.defaultProps!==void 0?he(he({},v.type.defaultProps),v.props):v.props,b=x[o],_=kF("number");if(!p[b]){g++;var j;return y?j=dy(0,m):l&&l[b]&&l[b].hasStack?(j=iB(l[b].stackGroups,c,u),j=T_(f,j,b,i)):(j=q1(_,J4(h,n.filter(function(S){var C,k,N=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],R="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===b&&!R}),"number",d),a.defaultProps.allowDataOverflow),j=T_(f,j,b,i)),he(he({},p),{},et({},b,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:ba(lSe,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:_,isCategorical:y,layout:d})))}return p},{})},mSe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=qn(d,i),m={};return h&&h.length?m=fSe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=hSe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},pSe=function(t){var r=so(t),n=bs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Qv(r,n)}},kT=function(t){var r=t.children,n=t.defaultShowTooltip,a=fa(r,id),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},gSe=function(t){return!t||!t.length?!1:t.some(function(r){var n=_s(r&&r.type);return n&&n.indexOf("Bar")>=0})},ET=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vSe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=fa(f,id),y=fa(f,Dr),g=Object.keys(c).reduce(function(j,S){var C=c[S],k=C.orientation;return!C.mirror&&!C.hide?he(he({},j),{},et({},k,j[k]+C.width)):j},{left:h.left||0,right:h.right||0}),p=Object.keys(o).reduce(function(j,S){var C=o[S],k=C.orientation;return!C.mirror&&!C.hide?he(he({},j),{},et({},k,ba(j,"".concat(k))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),v=he(he({},p),g),x=v.bottom;m&&(v.bottom+=m.props.height||id.defaultProps.height),y&&r&&(v=sge(v,a,n,r));var b=u-v.left-v.right,_=d-v.top-v.bottom;return he(he({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},ySe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,j=x.offset,S=x.updateId,C=x.dataStartIndex,k=x.dataEndIndex,N=v.barSize,R=v.layout,O=v.barGap,E=v.barCategoryGap,T=v.maxBarSize,P=ET(R),A=P.numericAxisName,$=P.cateAxisName,M=gSe(b),L=[];return b.forEach(function(B,z){var re=N0(v.data,{graphicalItems:[B],dataStartIndex:C,dataEndIndex:k}),ee=B.type.defaultProps!==void 0?he(he({},B.type.defaultProps),B.props):B.props,se=ee.dataKey,U=ee.maxBarSize,V=ee["".concat(A,"Id")],K=ee["".concat($,"Id")],q={},me=c.reduce(function(Z,oe){var J=x["".concat(oe.axisType,"Map")],ce=ee["".concat(oe.axisType,"Id")];J&&J[ce]||oe.axisType==="zAxis"||rc();var pe=J[ce];return he(he({},Z),{},et(et({},oe.axisType,pe),"".concat(oe.axisType,"Ticks"),bs(pe)))},q),D=me[$],G=me["".concat($,"Ticks")],W=_&&_[V]&&_[V].hasStack&&vge(B,_[V].stackGroups),X=_s(B.type).indexOf("Bar")>=0,Q=Qv(D,G),we=[],$e=M&&age({barSize:N,stackGroups:_,totalSize:ySe(me,$)});if(X){var qe,ge,Pe=Qe(U)?T:U,Ze=(qe=(ge=Qv(D,G,!0))!==null&&ge!==void 0?ge:Pe)!==null&&qe!==void 0?qe:0;we=ige({barGap:O,barCategoryGap:E,bandSize:Ze!==Q?Ze:Q,sizeList:$e[K],maxBarSize:Pe}),Ze!==Q&&(we=we.map(function(Z){return he(he({},Z),{},{position:he(he({},Z.position),{},{offset:Z.position.offset-Ze/2})})}))}var F=B&&B.type&&B.type.getComposedData;F&&L.push({props:he(he({},F(he(he({},me),{},{displayedData:re,props:v,dataKey:se,item:B,bandSize:Q,barPosition:we,offset:j,stackedData:W,layout:R,dataStartIndex:C,dataEndIndex:k}))),{},et(et(et({key:B.key||"item-".concat(z)},A,me[A]),$,me[$]),"animationId",S)),childIndex:ite(B,v.children),item:B})}),L},m=function(v,x){var b=v.props,_=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!BE({props:b}))return null;var C=b.children,k=b.layout,N=b.stackOffset,R=b.data,O=b.reverseStackOrder,E=ET(k),T=E.numericAxisName,P=E.cateAxisName,A=qn(C,n),$=pge(R,A,"".concat(T,"Id"),"".concat(P,"Id"),N,O),M=c.reduce(function(ee,se){var U="".concat(se.axisType,"Map");return he(he({},ee),{},et({},U,mSe(b,he(he({},se),{},{graphicalItems:A,stackGroups:se.axisType===T&&$,dataStartIndex:_,dataEndIndex:j}))))},{}),L=vSe(he(he({},M),{},{props:b,graphicalItems:A}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(ee){M[ee]=d(b,M[ee],L,ee.replace("Map",""),r)});var B=M["".concat(P,"Map")],z=pSe(B),re=h(b,he(he({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:A,stackGroups:$,offset:L}));return he(he({formattedGraphicalItems:re,graphicalItems:A,offset:L,stackGroups:$},z),M)},y=function(p){function v(x){var b,_,j;return Z_e(this,v),j=eSe(this,v,[x]),et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(j,"accessibilityManager",new D_e),et(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,k=C.dataStartIndex,N=C.dataEndIndex,R=C.updateId;j.setState(he({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:N,updateId:R},he(he({},j.state),{},{legendBBox:S}))))}}),et(j,"handleReceiveSyncEvent",function(S,C,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),et(j,"handleBrushChange",function(S){var C=S.startIndex,k=S.endIndex;if(C!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var N=j.state.updateId;j.setState(function(){return he({dataStartIndex:C,dataEndIndex:k},m({props:j.props,dataStartIndex:C,dataEndIndex:k,updateId:N},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),et(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var k=he(he({},C),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var N=j.props.onMouseEnter;Je(N)&&N(k,S)}}),et(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),k=C?he(he({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var N=j.props.onMouseMove;Je(N)&&N(k,S)}),et(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),et(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),et(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseLeave;Je(k)&&k(C,S)}),et(j,"handleOuterEvent",function(S){var C=ate(S),k=ba(j.props,"".concat(C));if(C&&Je(k)){var N,R;/.*touch.*/i.test(C)?R=j.getMouseInfo(S.changedTouches[0]):R=j.getMouseInfo(S),k((N=R)!==null&&N!==void 0?N:{},S)}}),et(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var k=he(he({},C),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var N=j.props.onClick;Je(N)&&N(k,S)}}),et(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(Je(C)){var k=j.getMouseInfo(S);C(k,S)}}),et(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(Je(C)){var k=j.getMouseInfo(S);C(k,S)}}),et(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),et(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),et(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),et(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(Je(C)){var k=j.getMouseInfo(S);C(k,S)}}),et(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(Je(C)){var k=j.getMouseInfo(S);C(k,S)}}),et(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&cw.emit(uw,j.props.syncId,S,j.eventEmitterSymbol)}),et(j,"applySyncEvent",function(S){var C=j.props,k=C.layout,N=C.syncMethod,R=j.state.updateId,O=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(he({dataStartIndex:O,dataEndIndex:E},m({props:j.props,dataStartIndex:O,dataEndIndex:E,updateId:R},j.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,P=S.chartY,A=S.activeTooltipIndex,$=j.state,M=$.offset,L=$.tooltipTicks;if(!M)return;if(typeof N=="function")A=N(L,S);else if(N==="value"){A=-1;for(var B=0;B<L.length;B++)if(L[B].value===S.activeLabel){A=B;break}}var z=he(he({},M),{},{x:M.left,y:M.top}),re=Math.min(T,z.x+z.width),ee=Math.min(P,z.y+z.height),se=L[A]&&L[A].value,U=$_(j.state,j.props.data,A),V=L[A]?{x:k==="horizontal"?L[A].coordinate:re,y:k==="horizontal"?ee:L[A].coordinate}:PF;j.setState(he(he({},S),{},{activeLabel:se,activeCoordinate:V,activePayload:U,activeTooltipIndex:A}))}else j.setState(S)}),et(j,"renderCursor",function(S){var C,k=j.state,N=k.isTooltipActive,R=k.activeCoordinate,O=k.activePayload,E=k.offset,T=k.activeTooltipIndex,P=k.tooltipAxisBandSize,A=j.getTooltipEventType(),$=(C=S.props.active)!==null&&C!==void 0?C:N,M=j.props.layout,L=S.key||"_recharts-cursor";return I.createElement(W_e,{key:L,activeCoordinate:R,activePayload:O,activeTooltipIndex:T,chartName:r,element:S,isActive:$,layout:M,offset:E,tooltipAxisBandSize:P,tooltipEventType:A})}),et(j,"renderPolarAxis",function(S,C,k){var N=ba(S,"type.axisType"),R=ba(j.state,"".concat(N,"Map")),O=S.type.defaultProps,E=O!==void 0?he(he({},O),S.props):S.props,T=R&&R[E["".concat(N,"Id")]];return w.cloneElement(S,he(he({},T),{},{className:dt(N,T.className),key:S.key||"".concat(C,"-").concat(k),ticks:bs(T,!0)}))}),et(j,"renderPolarGrid",function(S){var C=S.props,k=C.radialLines,N=C.polarAngles,R=C.polarRadius,O=j.state,E=O.radiusAxisMap,T=O.angleAxisMap,P=so(E),A=so(T),$=A.cx,M=A.cy,L=A.innerRadius,B=A.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(N)?N:bs(A,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(R)?R:bs(P,!0).map(function(z){return z.coordinate}),cx:$,cy:M,innerRadius:L,outerRadius:B,key:S.key||"polar-grid",radialLines:k})}),et(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,k=C.children,N=C.width,R=C.height,O=j.props.margin||{},E=N-(O.left||0)-(O.right||0),T=Z4({children:k,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!T)return null;var P=T.item,A=CT(T,H_e);return w.cloneElement(P,he(he({},A),{},{chartWidth:N,chartHeight:R,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),et(j,"renderTooltip",function(){var S,C=j.props,k=C.children,N=C.accessibilityLayer,R=fa(k,St);if(!R)return null;var O=j.state,E=O.isTooltipActive,T=O.activeCoordinate,P=O.activePayload,A=O.activeLabel,$=O.offset,M=(S=R.props.active)!==null&&S!==void 0?S:E;return w.cloneElement(R,{viewBox:he(he({},$),{},{x:$.left,y:$.top}),active:M,label:A,payload:M?P:[],coordinate:T,accessibilityLayer:N})}),et(j,"renderBrush",function(S){var C=j.props,k=C.margin,N=C.data,R=j.state,O=R.offset,E=R.dataStartIndex,T=R.dataEndIndex,P=R.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:eg(j.handleBrushChange,S.props.onChange),data:N,x:je(S.props.x)?S.props.x:O.left,y:je(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:je(S.props.width)?S.props.width:O.width,startIndex:E,endIndex:T,updateId:"brush-".concat(P)})}),et(j,"renderReferenceElement",function(S,C,k){if(!S)return null;var N=j,R=N.clipPathId,O=j.state,E=O.xAxisMap,T=O.yAxisMap,P=O.offset,A=S.type.defaultProps||{},$=S.props,M=$.xAxisId,L=M===void 0?A.xAxisId:M,B=$.yAxisId,z=B===void 0?A.yAxisId:B;return w.cloneElement(S,{key:S.key||"".concat(C,"-").concat(k),xAxis:E[L],yAxis:T[z],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:R})}),et(j,"renderActivePoints",function(S){var C=S.item,k=S.activePoint,N=S.basePoint,R=S.childIndex,O=S.isRange,E=[],T=C.props.key,P=C.item.type.defaultProps!==void 0?he(he({},C.item.type.defaultProps),C.item.props):C.item.props,A=P.activeDot,$=P.dataKey,M=he(he({index:R,dataKey:$,cx:k.x,cy:k.y,r:4,fill:yN(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},We(A,!1)),Cv(A));return E.push(v.renderActiveDot(A,M,"".concat(T,"-activePoint-").concat(R))),N?E.push(v.renderActiveDot(A,he(he({},M),{},{cx:N.x,cy:N.y}),"".concat(T,"-basePoint-").concat(R))):O&&E.push(null),E}),et(j,"renderGraphicChild",function(S,C,k){var N=j.filterFormatItem(S,C,k);if(!N)return null;var R=j.getTooltipEventType(),O=j.state,E=O.isTooltipActive,T=O.tooltipAxis,P=O.activeTooltipIndex,A=O.activeLabel,$=j.props.children,M=fa($,St),L=N.props,B=L.points,z=L.isRange,re=L.baseLine,ee=N.item.type.defaultProps!==void 0?he(he({},N.item.type.defaultProps),N.item.props):N.item.props,se=ee.activeDot,U=ee.hide,V=ee.activeBar,K=ee.activeShape,q=!!(!U&&E&&M&&(se||V||K)),me={};R!=="axis"&&M&&M.props.trigger==="click"?me={onClick:eg(j.handleItemMouseEnter,S.props.onClick)}:R!=="axis"&&(me={onMouseLeave:eg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:eg(j.handleItemMouseEnter,S.props.onMouseEnter)});var D=w.cloneElement(S,he(he({},N.props),me));function G(oe){return typeof T.dataKey=="function"?T.dataKey(oe.payload):null}if(q)if(P>=0){var W,X;if(T.dataKey&&!T.allowDuplicatedCategory){var Q=typeof T.dataKey=="function"?G:"payload.".concat(T.dataKey.toString());W=Sv(B,Q,A),X=z&&re&&Sv(re,Q,A)}else W=B==null?void 0:B[P],X=z&&re&&re[P];if(K||V){var we=S.props.activeIndex!==void 0?S.props.activeIndex:P;return[w.cloneElement(S,he(he(he({},N.props),me),{},{activeIndex:we})),null,null]}if(!Qe(W))return[D].concat(yd(j.renderActivePoints({item:N,activePoint:W,basePoint:X,childIndex:P,isRange:z})))}else{var $e,qe=($e=j.getItemByXY(j.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:D},ge=qe.graphicalItem,Pe=ge.item,Ze=Pe===void 0?S:Pe,F=ge.childIndex,Z=he(he(he({},N.props),me),{},{activeIndex:F});return[w.cloneElement(Ze,Z),null,null]}return z?[D,null,null]:[D,null]}),et(j,"renderCustomized",function(S,C,k){return w.cloneElement(S,he(he({key:"recharts-customized-".concat(k)},j.props),j.state))}),et(j,"renderMap",{CartesianGrid:{handler:ig,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:ig},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:ig},YAxis:{handler:ig},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Zo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=XL(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return nSe(v,p),J_e(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,C=b.layout,k=fa(_,St);if(k){var N=k.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,O=$_(this.state,j,N,R),E=this.state.tooltipTicks[N].coordinate,T=(this.state.offset.top+S)/2,P=C==="horizontal",A=P?{x:E,y:T}:{y:E,x:T},$=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});$&&(A=he(he({},A),$.props.points[N].tooltipPosition),O=$.props.points[N].tooltipPayload);var M={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:R,activePayload:O,activeCoordinate:A};this.setState(M),this.renderCursor(k),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){o1([fa(b.children,St)],[fa(this.props.children,St)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=fa(this.props.children,St);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Ode(j),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},k=j.width/_.offsetWidth||1,N=this.inRange(C.chartX,C.chartY,k);if(!N)return null;var R=this.state,O=R.xAxisMap,E=R.yAxisMap,T=this.getTooltipEventType(),P=PT(this.state,this.props.data,this.props.layout,N);if(T!=="axis"&&O&&E){var A=so(O).scale,$=so(E).scale,M=A&&A.invert?A.invert(C.chartX):null,L=$&&$.invert?$.invert(C.chartY):null;return he(he({},C),{},{xValue:M,yValue:L},P)}return P?he(he({},C),P):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/j,k=_/j;if(S==="horizontal"||S==="vertical"){var N=this.state.offset,R=C>=N.left&&C<=N.left+N.width&&k>=N.top&&k<=N.top+N.height;return R?{x:C,y:k}:null}var O=this.state,E=O.angleAxisMap,T=O.radiusAxisMap;if(E&&T){var P=so(E);return GO({x:C,y:k},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=fa(b,St),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Cv(this.props,this.handleOuterEvent);return he(he({},C),S)}},{key:"addListener",value:function(){cw.on(uw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cw.removeListener(uw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,C=0,k=S.length;C<k;C++){var N=S[C];if(N.item===b||N.props.key===b.key||_===_s(N.item.type)&&j===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,C=_.height,k=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:j,y:S,height:C,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ST(j,2),C=S[0],k=S[1];return he(he({},_),{},et({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ST(j,2),C=S[0],k=S[1];return he(he({},_),{},et({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var C=0,k=j.length;C<k;C++){var N=j[C],R=N.props,O=N.item,E=O.type.defaultProps!==void 0?he(he({},O.type.defaultProps),O.props):O.props,T=_s(O.type);if(T==="Bar"){var P=(R.data||[]).find(function(L){return hxe(b,L)});if(P)return{graphicalItem:N,payload:P}}else if(T==="RadialBar"){var A=(R.data||[]).find(function(L){return GO(b,L)});if(A)return{graphicalItem:N,payload:A}}else if(p0(N,S)||g0(N,S)||km(N,S)){var $=tbe({graphicalItem:N,activeTooltipItem:S,itemData:E.data}),M=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:he(he({},N),{},{childIndex:M}),payload:km(N,S)?E.data[$]:N.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!BE(this))return null;var _=this.props,j=_.children,S=_.className,C=_.width,k=_.height,N=_.style,R=_.compact,O=_.title,E=_.desc,T=CT(_,q_e),P=We(T,!1);if(R)return I.createElement(rT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(c1,su({},P,{width:C,height:k,title:O,desc:E}),this.renderClipPath(),zE(j,this.renderMap)));if(this.props.accessibilityLayer){var A,$;P.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,P.role=($=this.props.role)!==null&&$!==void 0?$:"application",P.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},P.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return I.createElement(rT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",su({className:dt("recharts-wrapper",S),style:he({position:"relative",cursor:"default",width:C,height:k},N)},M,{ref:function(B){b.container=B}}),I.createElement(c1,su({},P,{width:C,height:k,title:O,desc:E,style:cSe}),this.renderClipPath(),zE(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);et(y,"displayName",r),et(y,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(y,"getDerivedStateFromProps",function(p,v){var x=p.dataKey,b=p.data,_=p.children,j=p.width,S=p.height,C=p.layout,k=p.stackOffset,N=p.margin,R=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var E=kT(p);return he(he(he({},E),{},{updateId:0},m(he(he({props:p},E),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:k,prevMargin:N,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||k!==v.prevStackOffset||!vu(N,v.prevMargin)){var T=kT(p),P={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},A=he(he({},PT(v,b,C)),{},{updateId:v.updateId+1}),$=he(he(he({},T),P),A);return he(he(he({},$),m(he({props:p},$),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:k,prevMargin:N,prevChildren:_})}if(!o1(_,v.prevChildren)){var M,L,B,z,re=fa(_,id),ee=re&&(M=(L=re.props)===null||L===void 0?void 0:L.startIndex)!==null&&M!==void 0?M:R,se=re&&(B=(z=re.props)===null||z===void 0?void 0:z.endIndex)!==null&&B!==void 0?B:O,U=ee!==R||se!==O,V=!Qe(b),K=V&&!U?v.updateId:v.updateId+1;return he(he({updateId:K},m(he(he({props:p},v),{},{updateId:K,dataStartIndex:ee,dataEndIndex:se}),v)),{},{prevChildren:_,dataStartIndex:ee,dataEndIndex:se})}return null}),et(y,"renderActiveDot",function(p,v,x){var b;return w.isValidElement(p)?b=w.cloneElement(p,v):Je(p)?b=p(v):b=I.createElement(dp,v),I.createElement(yt,{className:"recharts-active-dot",key:x},b)});var g=w.forwardRef(function(v,x){return I.createElement(y,su({},v,{ref:x}))});return g.displayName=y.displayName,g},EF=fp({chartName:"LineChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:Zt},{axisType:"yAxis",AxisComp:zt}],formatAxisMap:y0}),Ji=fp({chartName:"BarChart",GraphicalChild:Ut,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zt},{axisType:"yAxis",AxisComp:zt}],formatAxisMap:y0}),kN=fp({chartName:"PieChart",GraphicalChild:Ci,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:m0},{axisType:"radiusAxis",AxisComp:f0}],formatAxisMap:Pge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ky=fp({chartName:"AreaChart",GraphicalChild:Mn,axisComponents:[{axisType:"xAxis",AxisComp:Zt},{axisType:"yAxis",AxisComp:zt}],formatAxisMap:y0}),xd=fp({chartName:"ComposedChart",GraphicalChild:[Rn,Mn,Ut,C0],axisComponents:[{axisType:"xAxis",AxisComp:Zt},{axisType:"yAxis",AxisComp:zt},{axisType:"zAxis",AxisComp:S0}],formatAxisMap:y0});const sg={B2C:"hsl(var(--primary))",B2B:"hsl(38, 92%, 50%)",OEM:"hsl(150, 60%, 40%)"},AT=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)","hsl(280, 60%, 50%)"];function xSe({products:e,years:t}){const[r,n]=w.useState("by-product"),a=t.map(c=>{const u={year:c};return e.forEach(d=>{if(d.volumesByChannel){const f=d.volumesByChannel.B2C[c]||0,h=d.volumesByChannel.B2B[c]||0,m=d.volumesByChannel.OEM[c]||0;u[d.name]=(f*d.priceHT+h*(d.priceHT_B2B||d.priceHT)+m*(d.priceHT_OEM||d.priceHT))/1e3}else u[d.name]=(d.volumesByYear[c]||0)*d.priceHT/1e3}),u}),i=t.map(c=>{let u=0,d=0,f=0;return e.forEach(h=>{const m=h.volumesByChannel||{B2C:{},B2B:{},OEM:{}};u+=(m.B2C[c]||0)*h.priceHT,d+=(m.B2B[c]||0)*(h.priceHT_B2B||h.priceHT),f+=(m.OEM[c]||0)*(h.priceHT_OEM||h.priceHT)}),{year:c,B2C:u/1e3,B2B:d/1e3,OEM:f/1e3}}),o={B2C:0,B2B:0,OEM:0};e.forEach(c=>{const u=c.volumesByChannel||{B2C:{},B2B:{},OEM:{}};t.forEach(d=>{o.B2C+=(u.B2C[d]||0)*c.priceHT,o.B2B+=(u.B2B[d]||0)*(c.priceHT_B2B||c.priceHT),o.OEM+=(u.OEM[d]||0)*(c.priceHT_OEM||c.priceHT)})});const l=["B2C","B2B","OEM"].map(c=>({name:c,value:Math.round(o[c])})).filter(c=>c.value>0);return s.jsxs(Ye,{title:"CA par Produit & Canal",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(ae,{variant:r==="by-product"?"default":"outline",size:"sm",onClick:()=>n("by-product"),children:"Par Produit"}),s.jsx(ae,{variant:r==="by-channel"?"default":"outline",size:"sm",onClick:()=>n("by-channel"),children:"Par Canal"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2 h-64",children:s.jsx(br,{width:"100%",height:"100%",children:r==="by-product"?s.jsxs(Ji,{data:a,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:c=>`${c}k`}),s.jsx(St,{formatter:c=>`${c.toFixed(0)}k`}),s.jsx(Dr,{}),e.map((c,u)=>s.jsx(Ut,{dataKey:c.name,stackId:"a",fill:AT[u%AT.length]},c.id))]}):s.jsxs(Ji,{data:i,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:c=>`${c}k`}),s.jsx(St,{formatter:c=>`${c.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"B2C",stackId:"a",fill:sg.B2C}),s.jsx(Ut,{dataKey:"B2B",stackId:"a",fill:sg.B2B}),s.jsx(Ut,{dataKey:"OEM",stackId:"a",fill:sg.OEM})]})})}),s.jsxs("div",{className:"h-64",children:[s.jsx("p",{className:"text-xs text-muted-foreground text-center mb-1",children:"Rpartition CA par canal"}),s.jsx(br,{width:"100%",height:"90%",children:s.jsxs(kN,{children:[s.jsx(Ci,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,children:l.map(c=>s.jsx(Qo,{fill:sg[c.name]},c.name))}),s.jsx(St,{formatter:c=>te(c,!0)})]})})]})]})]})}const Tf=["B2C","B2B","OEM"];function bSe({products:e,years:t,onChannelVolumeChange:r}){const[n,a]=w.useState({B2C:0,B2B:0,OEM:0}),i=(c,u)=>{const d=e.find(m=>m.id===c);if(!d)return;const f=d.volumesByChannel||{B2C:{},B2B:{},OEM:{}},h=n[u]/100;t.forEach((m,y)=>{if(m<d.launchYear||y===0||t[y-1]<d.launchYear)return;const g=f[u][t[y-1]]||0,p=Math.round(g*(1+h));p!==(f[u][m]||0)&&(r(c,m,u,p),f[u][m]=p)})},o=t.map(c=>{let u=0,d=0,f=0,h=0,m=0,y=0;return e.forEach(g=>{const p=g.volumesByChannel||{B2C:{},B2B:{},OEM:{}},v=p.B2C[c]||0,x=p.B2B[c]||0,b=p.OEM[c]||0;u+=v,d+=x,f+=b,h+=v*g.priceHT,m+=x*(g.priceHT_B2B||g.priceHT),y+=b*(g.priceHT_OEM||g.priceHT)}),{year:c,b2c:u,b2b:d,oem:f,caB2C:h,caB2B:m,caOEM:y,caTotal:h+m+y}}),l=o.reduce((c,u)=>c+u.caTotal,0);return s.jsxs(Ye,{title:"Volumes par Anne & Canal",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 p-3 bg-muted/30 rounded-lg border",children:[s.jsx(Bo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Croissance annuelle :"}),Tf.map(c=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium",children:c}),s.jsx(be,{type:"number",value:n[c],onChange:u=>a(d=>({...d,[c]:Number(u.target.value)})),className:"h-7 w-16 text-center text-xs",step:5}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]},c)),s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"Cliquez sur le nom d'un produit pour appliquer la croissance."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsxs(qt,{children:[s.jsxs(Se,{children:[s.jsx(ie,{rowSpan:2,className:"min-w-[120px]",children:"Produit"}),t.map(c=>s.jsx(ie,{colSpan:3,className:"text-center border-l",children:c},c)),s.jsx(ie,{rowSpan:2,className:"text-right border-l",children:"CA Total"})]}),s.jsx(Se,{children:t.map(c=>Tf.map(u=>s.jsx(ie,{className:`text-center text-xs ${u==="B2C"?"border-l":""}`,children:u},`${c}-${u}`)))})]}),s.jsxs(Kt,{children:[e.map(c=>{const u=c.volumesByChannel||{B2C:{},B2B:{},OEM:{}},d=t.reduce((f,h)=>{const m=u.B2C[h]||0,y=u.B2B[h]||0,g=u.OEM[h]||0;return f+m*c.priceHT+y*(c.priceHT_B2B||c.priceHT)+g*(c.priceHT_OEM||c.priceHT)},0);return s.jsxs(Se,{children:[s.jsx(H,{children:s.jsxs("button",{className:"text-left hover:underline cursor-pointer",onClick:()=>Tf.forEach(f=>i(c.id,f)),title:"Appliquer la croissance sur ce produit",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cot: ",te(c.unitCost)]})]})}),t.map(f=>Tf.map(h=>s.jsx(H,{className:`text-center ${h==="B2C"?"border-l":""}`,children:f>=c.launchYear?s.jsx(be,{type:"number",value:u[h][f]||0,onChange:m=>r(c.id,f,h,Number(m.target.value)),className:"h-7 w-16 mx-auto text-center text-xs"}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})},`${c.id}-${f}-${h}`))),s.jsx(H,{className:"text-right font-mono-numbers font-medium border-l",children:te(d,!0)})]},c.id)}),s.jsxs(Se,{className:"bg-muted/40 font-semibold border-t-2",children:[s.jsx(H,{children:"Total Volumes"}),o.map(c=>Tf.map(u=>s.jsx(H,{className:`text-center text-xs ${u==="B2C"?"border-l":""}`,children:u==="B2C"?c.b2c:u==="B2B"?c.b2b:c.oem},`total-vol-${c.year}-${u}`))),s.jsx(H,{className:"text-right border-l",children:"-"})]}),s.jsxs(Se,{className:"bg-primary/10 font-bold",children:[s.jsx(H,{children:"CA par Anne"}),o.map(c=>s.jsxs(H,{colSpan:3,className:"text-center border-l text-xs",children:[te(c.caTotal,!0),s.jsxs("div",{className:"text-[10px] font-normal text-muted-foreground",children:["B2C: ",te(c.caB2C,!0)," | B2B: ",te(c.caB2B,!0)," | OEM: ",te(c.caOEM,!0)]})]},`total-ca-${c.year}`)),s.jsx(H,{className:"text-right font-mono-numbers border-l",children:te(l,!0)})]})]})]})})]})}const wSe=Rd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...r}){return s.jsx("div",{className:de(wSe({variant:t}),e),...r})}var fw=0;function EN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OT()),document.body.insertAdjacentElement("beforeend",e[1]??OT()),fw++,()=>{fw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fw--}},[])}function OT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hw="focusScope.autoFocusOnMount",mw="focusScope.autoFocusOnUnmount",TT={bubbles:!1,cancelable:!0},jSe="FocusScope",P0=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=w.useState(null),u=en(a),d=en(i),f=w.useRef(null),h=ft(t,g=>c(g)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let g=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Zs(f.current,{select:!0})},p=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Zs(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Zs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[n,l,m.paused]),w.useEffect(()=>{if(l){MT.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(hw,TT);l.addEventListener(hw,u),l.dispatchEvent(v),v.defaultPrevented||(_Se(kSe(AF(l)),{select:!0}),document.activeElement===g&&Zs(l))}return()=>{l.removeEventListener(hw,u),setTimeout(()=>{const v=new CustomEvent(mw,TT);l.addEventListener(mw,d),l.dispatchEvent(v),v.defaultPrevented||Zs(g??document.body,{select:!0}),l.removeEventListener(mw,d),MT.remove(m)},0)}}},[l,u,d,m]);const y=w.useCallback(g=>{if(!r&&!n||m.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(p&&v){const x=g.currentTarget,[b,_]=SSe(x);b&&_?!g.shiftKey&&v===_?(g.preventDefault(),r&&Zs(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),r&&Zs(_,{select:!0})):v===x&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(He.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});P0.displayName=jSe;function _Se(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Zs(n,{select:t}),document.activeElement!==r)return}function SSe(e){const t=AF(e),r=RT(t,e),n=RT(t.reverse(),e);return[r,n]}function AF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function RT(e,t){for(const r of e)if(!CSe(r,{upTo:t}))return r}function CSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NSe(e){return e instanceof HTMLInputElement&&"select"in e}function Zs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NSe(e)&&t&&e.select()}}var MT=PSe();function PSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$T(e,t),e.unshift(t)},remove(t){var r;e=$T(e,t),(r=e[0])==null||r.resume()}}}function $T(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function kSe(e){return e.filter(t=>t.tagName!=="A")}var ESe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pc=new WeakMap,og=new WeakMap,lg={},pw=0,OF=function(e){return e&&(e.host||OF(e.parentNode))},ASe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=OF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},OSe=function(e,t,r,n){var a=ASe(t,Array.isArray(e)?e:[e]);lg[r]||(lg[r]=new WeakMap);var i=lg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(Pc.get(h)||0)+1,p=(i.get(h)||0)+1;Pc.set(h,g),i.set(h,p),o.push(h),g===1&&y&&og.set(h,!0),p===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),pw++,function(){o.forEach(function(f){var h=Pc.get(f)-1,m=i.get(f)-1;Pc.set(f,h),i.set(f,m),h||(og.has(f)||f.removeAttribute(n),og.delete(f)),m||f.removeAttribute(r)}),pw--,pw||(Pc=new WeakMap,Pc=new WeakMap,og=new WeakMap,lg={})}},AN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=ESe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),OSe(n,a,r,"aria-hidden")):function(){return null}},Mg="right-scroll-bar-position",$g="width-before-scroll-bar",TSe="with-scroll-bars-hidden",RSe="--removed-body-scroll-bar-size";function gw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MSe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var $Se=typeof window<"u"?w.useLayoutEffect:w.useEffect,IT=new WeakMap;function ISe(e,t){var r=MSe(null,function(n){return e.forEach(function(a){return gw(a,n)})});return $Se(function(){var n=IT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||gw(l,null)}),i.forEach(function(l){a.has(l)||gw(l,o)})}IT.set(r,e)},[e]),r}function DSe(e){return e}function LSe(e,t){t===void 0&&(t=DSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function BSe(e){e===void 0&&(e={});var t=LSe(null);return t.options=Ii({async:!0,ssr:!1},e),t}var TF=function(e){var t=e.sideCar,r=Wd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Ii({},r))};TF.isSideCarExport=!0;function FSe(e,t){return e.useMedium(t),TF}var RF=BSe(),vw=function(){},k0=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:vw,onWheelCapture:vw,onTouchMoveCapture:vw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,_=Wd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=ISe([r,t]),C=Ii(Ii({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:RF,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:b}),o?w.cloneElement(w.Children.only(l),Ii(Ii({},C),{ref:S})):w.createElement(x,Ii({},C,{className:c,ref:S}),l))});k0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};k0.classNames={fullWidth:$g,zeroRight:Mg};var zSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function USe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zSe();return t&&e.setAttribute("nonce",t),e}function VSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=USe())&&(VSe(t,r),WSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qSe=function(){var e=HSe();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MF=function(){var e=qSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},KSe={left:0,top:0,right:0,gap:0},yw=function(e){return parseInt(e||"",10)||0},GSe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yw(r),yw(n),yw(a)]},YSe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KSe;var t=GSe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XSe=MF(),bu="data-scroll-locked",ZSe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($g,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mg," .").concat(Mg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($g," .").concat($g,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(RSe,": ").concat(l,`px;
  }
`)},DT=function(){var e=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(e)?e:0},QSe=function(){w.useEffect(function(){return document.body.setAttribute(bu,(DT()+1).toString()),function(){var e=DT()-1;e<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,e.toString())}},[])},JSe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;QSe();var i=w.useMemo(function(){return YSe(a)},[a]);return w.createElement(XSe,{styles:ZSe(i,!t,a,r?"":"!important")})},I_=!1;if(typeof window<"u")try{var cg=Object.defineProperty({},"passive",{get:function(){return I_=!0,!0}});window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,cg)}catch{I_=!1}var kc=I_?{passive:!1}:!1,eCe=function(e){return e.tagName==="TEXTAREA"},$F=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eCe(e)&&r[t]==="visible")},tCe=function(e){return $F(e,"overflowY")},rCe=function(e){return $F(e,"overflowX")},LT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=IF(e,n);if(a){var i=DF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nCe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},IF=function(e,t){return e==="v"?tCe(t):rCe(t)},DF=function(e,t){return e==="v"?nCe(t):aCe(t)},iCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},sCe=function(e,t,r,n,a){var i=iCe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=DF(e,l),y=m[0],g=m[1],p=m[2],v=g-p-i*y;(y||v)&&IF(e,l)&&(f+=v,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ug=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BT=function(e){return[e.deltaX,e.deltaY]},FT=function(e){return e&&"current"in e?e.current:e},oCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cCe=0,Ec=[];function uCe(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(cCe++)[0],i=w.useState(MF)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=EG([e.lockRef.current],(e.shards||[]).map(FT),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=ug(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-v[0],_="deltaY"in g?g.deltaY:x[1]-v[1],j,S=g.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var k=LT(C,S);if(!k)return!0;if(k?j=C:(j=C==="v"?"h":"v",k=LT(C,S)),!k)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=j),!j)return!0;var N=n.current||j;return sCe(N,p,g,N==="h"?b:_,!0)},[]),c=w.useCallback(function(g){var p=g;if(!(!Ec.length||Ec[Ec.length-1]!==i)){var v="deltaY"in p?BT(p):ug(p),x=t.current.filter(function(j){return j.name===p.type&&(j.target===p.target||p.target===j.shadowParent)&&oCe(j.delta,v)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(FT).filter(Boolean).filter(function(j){return j.contains(p.target)}),_=b.length>0?l(p,b[0]):!o.current.noIsolation;_&&p.cancelable&&p.preventDefault()}}},[]),u=w.useCallback(function(g,p,v,x){var b={name:g,delta:p,target:v,should:x,shadowParent:dCe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(g){r.current=ug(g),n.current=void 0},[]),f=w.useCallback(function(g){u(g.type,BT(g),g.target,l(g,e.lockRef.current))},[]),h=w.useCallback(function(g){u(g.type,ug(g),g.target,l(g,e.lockRef.current))},[]);w.useEffect(function(){return Ec.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,kc),document.addEventListener("touchmove",c,kc),document.addEventListener("touchstart",d,kc),function(){Ec=Ec.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,kc),document.removeEventListener("touchmove",c,kc),document.removeEventListener("touchstart",d,kc)}},[]);var m=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(i,{styles:lCe(a)}):null,m?w.createElement(JSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fCe=FSe(RF,uCe);var E0=w.forwardRef(function(e,t){return w.createElement(k0,Ii({},e,{ref:t,sideCar:fCe}))});E0.classNames=k0.classNames;var hCe=[" ","Enter","ArrowUp","ArrowDown"],mCe=[" ","Enter"],ac="Select",[A0,O0,pCe]=ux(ac),[lf,y2e]=Yn(ac,[pCe,Ld]),T0=Ld(),[gCe,rl]=lf(ac),[vCe,yCe]=lf(ac),LF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,g=T0(t),[p,v]=w.useState(null),[x,b]=w.useState(null),[_,j]=w.useState(!1),S=Ud(u),[C,k]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:ac}),[N,R]=ia({prop:o,defaultProp:l,onChange:c,caller:ac}),O=w.useRef(null),E=p?y||!!p.closest("form"):!0,[T,P]=w.useState(new Set),A=Array.from(T).map($=>$.props.value).join(";");return s.jsx(cC,{...g,children:s.jsxs(gCe,{required:m,scope:t,trigger:p,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:qi(),value:N,onValueChange:R,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[s.jsx(A0.Provider,{scope:t,children:s.jsx(vCe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{P(M=>new Set(M).add($))},[]),onNativeOptionRemove:w.useCallback($=>{P(M=>{const L=new Set(M);return L.delete($),L})},[]),children:r})}),E?s.jsxs(l5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:$=>R($.target.value),disabled:h,form:y,children:[N===void 0?s.jsx("option",{value:""}):null,Array.from(T)]},A):null]})})};LF.displayName=ac;var BF="SelectTrigger",FF=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=T0(r),o=rl(BF,r),l=o.disabled||n,c=ft(t,o.onTriggerChange),u=O0(r),d=w.useRef("touch"),[f,h,m]=u5(g=>{const p=u().filter(b=>!b.disabled),v=p.find(b=>b.value===o.value),x=d5(p,g,v);x!==void 0&&o.onValueChange(x.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(yx,{asChild:!0,...i,children:s.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c5(o.value)?"":void 0,...a,ref:c,onClick:Te(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Te(a.onPointerDown,g=>{d.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Te(a.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&hCe.includes(g.key)&&(y(),g.preventDefault())})})})});FF.displayName=BF;var zF="SelectValue",UF=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=rl(zF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ft(t,c.onValueNodeChange);return fn(()=>{u(d)},[u,d]),s.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:c5(c.value)?s.jsx(s.Fragment,{children:o}):i})});UF.displayName=zF;var xCe="SelectIcon",VF=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(He.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});VF.displayName=xCe;var bCe="SelectPortal",WF=e=>s.jsx(Qm,{asChild:!0,...e});WF.displayName=bCe;var ic="SelectContent",HF=w.forwardRef((e,t)=>{const r=rl(ic,e.__scopeSelect),[n,a]=w.useState();if(fn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?uc.createPortal(s.jsx(qF,{scope:e.__scopeSelect,children:s.jsx(A0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(KF,{...e,ref:t})});HF.displayName=ic;var Ja=10,[qF,nl]=lf(ic),wCe="SelectContentImpl",jCe=Xl("SelectContent.RemoveScroll"),KF=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:p,...v}=e,x=rl(ic,r),[b,_]=w.useState(null),[j,S]=w.useState(null),C=ft(t,q=>_(q)),[k,N]=w.useState(null),[R,O]=w.useState(null),E=O0(r),[T,P]=w.useState(!1),A=w.useRef(!1);w.useEffect(()=>{if(b)return AN(b)},[b]),EN();const $=w.useCallback(q=>{const[me,...D]=E().map(X=>X.ref.current),[G]=D.slice(-1),W=document.activeElement;for(const X of q)if(X===W||(X==null||X.scrollIntoView({block:"nearest"}),X===me&&j&&(j.scrollTop=0),X===G&&j&&(j.scrollTop=j.scrollHeight),X==null||X.focus(),document.activeElement!==W))return},[E,j]),M=w.useCallback(()=>$([k,b]),[$,k,b]);w.useEffect(()=>{T&&M()},[T,M]);const{onOpenChange:L,triggerPointerDownPosRef:B}=x;w.useEffect(()=>{if(b){let q={x:0,y:0};const me=G=>{var W,X;q={x:Math.abs(Math.round(G.pageX)-(((W=B.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(G.pageY)-(((X=B.current)==null?void 0:X.y)??0))}},D=G=>{q.x<=10&&q.y<=10?G.preventDefault():b.contains(G.target)||L(!1),document.removeEventListener("pointermove",me),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",D,{capture:!0})}}},[b,L,B]),w.useEffect(()=>{const q=()=>L(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[L]);const[z,re]=u5(q=>{const me=E().filter(W=>!W.disabled),D=me.find(W=>W.ref.current===document.activeElement),G=d5(me,q,D);G&&setTimeout(()=>G.ref.current.focus())}),ee=w.useCallback((q,me,D)=>{const G=!A.current&&!D;(x.value!==void 0&&x.value===me||G)&&(N(q),G&&(A.current=!0))},[x.value]),se=w.useCallback(()=>b==null?void 0:b.focus(),[b]),U=w.useCallback((q,me,D)=>{const G=!A.current&&!D;(x.value!==void 0&&x.value===me||G)&&O(q)},[x.value]),V=n==="popper"?D_:GF,K=V===D_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:p}:{};return s.jsx(qF,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:ee,selectedItem:k,onItemLeave:se,itemTextRefCallback:U,focusSelectedItem:M,selectedItemText:R,position:n,isPositioned:T,searchRef:z,children:s.jsx(E0,{as:jCe,allowPinchZoom:!0,children:s.jsx(P0,{asChild:!0,trapped:x.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Te(a,q=>{var me;(me=x.trigger)==null||me.focus({preventScroll:!0}),q.preventDefault()}),children:s.jsx(Td,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(V,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:q=>q.preventDefault(),...v,...K,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Te(v.onKeyDown,q=>{const me=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!me&&q.key.length===1&&re(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let G=E().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(q.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const W=q.target,X=G.indexOf(W);G=G.slice(X+1)}setTimeout(()=>$(G)),q.preventDefault()}})})})})})})});KF.displayName=wCe;var _Ce="SelectItemAlignedPosition",GF=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=rl(ic,r),o=nl(ic,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=ft(t,C=>d(C)),h=O0(r),m=w.useRef(!1),y=w.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:v,focusSelectedItem:x}=o,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&p&&v){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(i.dir!=="rtl"){const W=R.left-k.left,X=N.left-W,Q=C.left-X,we=C.width+Q,$e=Math.max(we,k.width),qe=window.innerWidth-Ja,ge=qh(X,[Ja,Math.max(Ja,qe-$e)]);l.style.minWidth=we+"px",l.style.left=ge+"px"}else{const W=k.right-R.right,X=window.innerWidth-N.right-W,Q=window.innerWidth-C.right-X,we=C.width+Q,$e=Math.max(we,k.width),qe=window.innerWidth-Ja,ge=qh(X,[Ja,Math.max(Ja,qe-$e)]);l.style.minWidth=we+"px",l.style.right=ge+"px"}const O=h(),E=window.innerHeight-Ja*2,T=g.scrollHeight,P=window.getComputedStyle(u),A=parseInt(P.borderTopWidth,10),$=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),L=parseInt(P.paddingBottom,10),B=A+$+T+L+M,z=Math.min(p.offsetHeight*5,B),re=window.getComputedStyle(g),ee=parseInt(re.paddingTop,10),se=parseInt(re.paddingBottom,10),U=C.top+C.height/2-Ja,V=E-U,K=p.offsetHeight/2,q=p.offsetTop+K,me=A+$+q,D=B-me;if(me<=U){const W=O.length>0&&p===O[O.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-g.offsetTop-g.offsetHeight,Q=Math.max(V,K+(W?se:0)+X+M),we=me+Q;l.style.height=we+"px"}else{const W=O.length>0&&p===O[0].ref.current;l.style.top="0px";const Q=Math.max(U,A+g.offsetTop+(W?ee:0)+K)+D;l.style.height=Q+"px",g.scrollTop=me-U+g.offsetTop}l.style.margin=`${Ja}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,p,v,i.dir,n]);fn(()=>b(),[b]);const[_,j]=w.useState();fn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(CCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(He.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});GF.displayName=_Ce;var SCe="SelectPopperPosition",D_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ja,...i}=e,o=T0(r);return s.jsx(uC,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D_.displayName=SCe;var[CCe,ON]=lf(ic,{}),L_="SelectViewport",YF=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=nl(L_,r),o=ON(L_,r),l=ft(t,i.onViewportChange),c=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(A0.Slot,{scope:r,children:s.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Te(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-Ja*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),v=Math.max(g,p);if(v<y){const x=v+m,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});YF.displayName=L_;var XF="SelectGroup",[NCe,PCe]=lf(XF),kCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qi();return s.jsx(NCe,{scope:r,id:a,children:s.jsx(He.div,{role:"group","aria-labelledby":a,...n,ref:t})})});kCe.displayName=XF;var ZF="SelectLabel",QF=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=PCe(ZF,r);return s.jsx(He.div,{id:a.id,...n,ref:t})});QF.displayName=ZF;var Ey="SelectItem",[ECe,JF]=lf(Ey),e5=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=rl(Ey,r),c=nl(Ey,r),u=l.value===n,[d,f]=w.useState(i??""),[h,m]=w.useState(!1),y=ft(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),g=qi(),p=w.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ECe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:w.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(A0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(He.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Te(o.onFocus,()=>m(!0)),onBlur:Te(o.onBlur,()=>m(!1)),onClick:Te(o.onClick,()=>{p.current!=="mouse"&&v()}),onPointerUp:Te(o.onPointerUp,()=>{p.current==="mouse"&&v()}),onPointerDown:Te(o.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:Te(o.onPointerMove,x=>{var b;p.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Te(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(mCe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});e5.displayName=Ey;var Hf="SelectItemText",t5=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=rl(Hf,r),l=nl(Hf,r),c=JF(Hf,r),u=yCe(Hf,r),[d,f]=w.useState(null),h=ft(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=w.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=u;return fn(()=>(g(y),()=>p(y)),[g,p,y]),s.jsxs(s.Fragment,{children:[s.jsx(He.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?uc.createPortal(i.children,o.valueNode):null]})});t5.displayName=Hf;var r5="SelectItemIndicator",n5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JF(r5,r).isSelected?s.jsx(He.span,{"aria-hidden":!0,...n,ref:t}):null});n5.displayName=r5;var B_="SelectScrollUpButton",a5=w.forwardRef((e,t)=>{const r=nl(B_,e.__scopeSelect),n=ON(B_,e.__scopeSelect),[a,i]=w.useState(!1),o=ft(t,n.onScrollButtonChange);return fn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});a5.displayName=B_;var F_="SelectScrollDownButton",i5=w.forwardRef((e,t)=>{const r=nl(F_,e.__scopeSelect),n=ON(F_,e.__scopeSelect),[a,i]=w.useState(!1),o=ft(t,n.onScrollButtonChange);return fn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});i5.displayName=F_;var s5=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=nl("SelectScrollButton",r),o=w.useRef(null),l=O0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),fn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(He.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Te(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Te(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Te(a.onPointerLeave,()=>{c()})})}),ACe="SelectSeparator",o5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(He.div,{"aria-hidden":!0,...n,ref:t})});o5.displayName=ACe;var z_="SelectArrow",OCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=T0(r),i=rl(z_,r),o=nl(z_,r);return i.open&&o.position==="popper"?s.jsx(dC,{...a,...n,ref:t}):null});OCe.displayName=z_;var TCe="SelectBubbleInput",l5=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=ft(n,a),o=Px(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(He.select,{...r,style:{...gI,...r.style},ref:i,defaultValue:t})});l5.displayName=TCe;function c5(e){return e===""||e===void 0}function u5(e){const t=en(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function d5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=RCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function RCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MCe=LF,f5=FF,$Ce=UF,ICe=VF,DCe=WF,h5=HF,LCe=YF,m5=QF,p5=e5,BCe=t5,FCe=n5,g5=a5,v5=i5,y5=o5;const lt=MCe,ct=$Ce,it=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(f5,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ICe,{asChild:!0,children:s.jsx(Ih,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=f5.displayName;const x5=w.forwardRef(({className:e,...t},r)=>s.jsx(g5,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(qW,{className:"h-4 w-4"})}));x5.displayName=g5.displayName;const b5=w.forwardRef(({className:e,...t},r)=>s.jsx(v5,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ih,{className:"h-4 w-4"})}));b5.displayName=v5.displayName;const st=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(DCe,{children:s.jsxs(h5,{ref:a,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(x5,{}),s.jsx(LCe,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(b5,{})]})}));st.displayName=h5.displayName;const zCe=w.forwardRef(({className:e,...t},r)=>s.jsx(m5,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zCe.displayName=m5.displayName;const Be=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(p5,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FCe,{children:s.jsx(Ao,{className:"h-4 w-4"})})}),s.jsx(BCe,{children:t})]}));Be.displayName=p5.displayName;const UCe=w.forwardRef(({className:e,...t},r)=>s.jsx(y5,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));UCe.displayName=y5.displayName;function w5(){const{toast:e}=qS(),{user:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]),[y,g]=w.useState(!0),p=w.useCallback(async()=>{if(t)try{g(!0);const[A,$,M,L,B,z]=await Promise.all([xe.from("b2b_clients").select("*").order("company_name"),xe.from("b2b_client_projections").select("*"),xe.from("b2b_delivery_fee_tiers").select("*").order("min_pieces"),xe.from("b2b_payment_terms_options").select("*").order("label"),xe.from("b2b_delivery_methods").select("*").order("label"),xe.from("b2b_client_categories").select("*").order("sort_order")]);if(A.error)throw A.error;if($.error)throw $.error;if(M.error)throw M.error;if(L.error)throw L.error;if(B.error)throw B.error;if(z.error)throw z.error;n(A.data),i($.data),l(M.data),u(L.data),f(B.data),m(z.data)}catch(A){console.error("B2B fetch error:",A),e({title:"Erreur",description:"Impossible de charger les donnes B2B",variant:"destructive"})}finally{g(!1)}},[t,e]);w.useEffect(()=>{p()},[p]);const v=w.useCallback(async A=>{if(!t)return null;const $={...A,user_id:t.id};if(A.id){const{data:M,error:L}=await xe.from("b2b_clients").update($).eq("id",A.id).select().single();return L?(e({title:"Erreur",description:L.message,variant:"destructive"}),null):(await p(),M)}else{const{data:M,error:L}=await xe.from("b2b_clients").insert($).select().single();return L?(e({title:"Erreur",description:L.message,variant:"destructive"}),null):(await p(),M)}},[t,e,p]),x=w.useCallback(async A=>{const{error:$}=await xe.from("b2b_clients").delete().eq("id",A);if($){e({title:"Erreur",description:$.message,variant:"destructive"});return}await p()},[e,p]),b=w.useCallback(async(A,$,M,L)=>{if(!t)return;const B=a.find(z=>z.client_id===A&&z.year===$);B?await xe.from("b2b_client_projections").update({projected_revenue:M,notes:L||null}).eq("id",B.id):await xe.from("b2b_client_projections").insert({client_id:A,year:$,projected_revenue:M,notes:L||null,user_id:t.id}),await p()},[t,a,p]),_=w.useCallback(async(A,$)=>{t&&(await xe.from("b2b_client_categories").insert({name:A,color:$||"#6366f1",user_id:t.id,sort_order:h.length}),await p())},[t,h.length,p]),j=w.useCallback(async A=>{await xe.from("b2b_client_categories").delete().eq("id",A),await p()},[p]),S=w.useCallback(async(A,$)=>{await xe.from("b2b_client_categories").update($).eq("id",A),await p()},[p]),C=w.useCallback(async(A,$,M,L)=>{t&&(await xe.from("b2b_delivery_fee_tiers").insert({label:A,fee_amount:$,min_pieces:M,max_pieces:L,user_id:t.id}),await p())},[t,p]),k=w.useCallback(async A=>{await xe.from("b2b_delivery_fee_tiers").delete().eq("id",A),await p()},[p]),N=w.useCallback(async(A,$)=>{t&&(await xe.from("b2b_payment_terms_options").insert({label:A,description:$||null,user_id:t.id}),await p())},[t,p]),R=w.useCallback(async A=>{await xe.from("b2b_payment_terms_options").delete().eq("id",A),await p()},[p]),O=w.useCallback(async(A,$)=>{t&&(await xe.from("b2b_delivery_methods").insert({label:A,description:$||null,user_id:t.id}),await p())},[t,p]),E=w.useCallback(async A=>{await xe.from("b2b_delivery_methods").delete().eq("id",A),await p()},[p]),T=w.useCallback(async A=>{if(!t)return 0;const $=A.map(B=>({...B,user_id:t.id,company_name:B.company_name||"Sans nom"})),{data:M,error:L}=await xe.from("b2b_clients").insert($).select();return L?(e({title:"Erreur import",description:L.message,variant:"destructive"}),0):(await p(),(M==null?void 0:M.length)||0)},[t,e,p]),P=w.useCallback(A=>a.filter($=>$.client_id===A),[a]);return{clients:r,projections:a,deliveryFeeTiers:o,paymentTermsOptions:c,deliveryMethods:d,categories:h,isLoading:y,refreshData:p,upsertClient:v,deleteClient:x,bulkImportClients:T,upsertProjection:b,getClientProjections:P,addDeliveryFeeTier:C,deleteDeliveryFeeTier:k,addPaymentTerm:N,deletePaymentTerm:R,addDeliveryMethod:O,deleteDeliveryMethod:E,addCategory:_,deleteCategory:j,updateCategory:S}}function zT(e){return e&&e.toLowerCase().includes("oem")?"OEM":"B2B"}function VCe({config:e,onChange:t,years:r}){const{clients:n,categories:a,projections:i}=w5(),o=r[0],[l,c]=w.useState("none"),u={entries:((e==null?void 0:e.entries)??[]).map(E=>({...E,channel:E.channel??"B2B",individualGrowthRate:E.individualGrowthRate??null,revenueByYear:E.revenueByYear??{}})),growthRate:(e==null?void 0:e.growthRate)??.1,marginRate:(e==null?void 0:e.marginRate)??.5,marginB2C:(e==null?void 0:e.marginB2C)??.6,marginByCategory:(e==null?void 0:e.marginByCategory)??{}},d=E=>t({...u,...E}),f=(E,T)=>{d({entries:u.entries.map(P=>P.clientId===E?{...P,...T}:P)})},h=E=>{const T=n.find(M=>M.id===E);if(!T||u.entries.some(M=>M.clientId===E))return;const P=a.find(M=>M.id===T.category_id),A=zT(P==null?void 0:P.name),$=i==null?void 0:i.find(M=>M.client_id===E&&M.year===o-1);d({entries:[...u.entries,{clientId:T.id,clientName:T.company_name,categoryId:T.category_id,categoryName:(P==null?void 0:P.name)||null,channel:A,baseRevenue:($==null?void 0:$.projected_revenue)??0,individualGrowthRate:null,revenueByYear:{}}]})},m=()=>{const E=`b2c_${Date.now()}`;d({entries:[...u.entries,{clientId:E,clientName:"Ventes B2C",categoryId:null,categoryName:null,channel:"B2C",baseRevenue:0,individualGrowthRate:null,revenueByYear:{}}]})},y=E=>{const T=u.entries.find($=>$.clientId===E);if(!T||!T.baseRevenue)return;const P=T.individualGrowthRate??u.growthRate,A={};r.forEach(($,M)=>{A[$]=Math.round(T.baseRevenue*Math.pow(1+P,M+1))}),f(E,{revenueByYear:A})},g=(E,T)=>{var $;if((($=E.revenueByYear)==null?void 0:$[T])!==void 0)return E.revenueByYear[T];const P=T-o+1,A=E.individualGrowthRate??u.growthRate;return E.baseRevenue*Math.pow(1+A,P)},p=E=>E.channel==="B2C"?u.marginB2C:E.categoryId&&u.marginByCategory[E.categoryId]!==void 0?u.marginByCategory[E.categoryId]:u.marginRate,v=r.map(E=>u.entries.reduce((T,P)=>T+g(P,E),0)),x=v.reduce((E,T)=>E+T,0),_=r.map(E=>u.entries.reduce((T,P)=>T+g(P,E)*p(P),0)).reduce((E,T)=>E+T,0),j=["B2B","OEM","B2C"],S=E=>l==="none"?E:[...E].sort((T,P)=>{const A=r.reduce((M,L)=>M+g(T,L),0),$=r.reduce((M,L)=>M+g(P,L),0);return l==="desc"?$-A:A-$}),C=j.map(E=>({channel:E,entries:S(u.entries.filter(T=>T.channel===E))})).filter(E=>E.entries.length>0),k=n.filter(E=>E.is_active&&!u.entries.some(T=>T.clientId===E.id)),N=u.entries.some(E=>E.channel==="B2C"),O=[...new Set(u.entries.map(E=>E.categoryId).filter(Boolean))].map(E=>a.find(T=>T.id===E)).filter(Boolean);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ye,{title:"Paramtres globaux",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Croissance globale"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.growthRate*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.growthRate*100],onValueChange:([E])=>d({growthRate:E/100}),min:-20,max:100,step:1}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Par dfaut si pas de taux individuel"})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Marge B2B/OEM"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.marginRate*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.marginRate*100],onValueChange:([E])=>d({marginRate:E/100}),min:0,max:100,step:1}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Marge par dfaut"})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Marge B2C"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.marginB2C*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.marginB2C*100],onValueChange:([E])=>d({marginB2C:E/100}),min:0,max:100,step:1})]})]}),O.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Marge par catgorie"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:O.map(E=>{const T=u.marginByCategory[E.id]??u.marginRate;return s.jsxs("div",{className:"space-y-1 p-2 rounded border bg-muted/10",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:E.name}),s.jsxs("span",{className:"font-mono text-primary",children:[(T*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[T*100],onValueChange:([P])=>d({marginByCategory:{...u.marginByCategory,[E.id]:P/100}}),min:0,max:100,step:1})]},E.id)})})]})]}),s.jsxs(Ye,{title:"CA par Client",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[s.jsxs(lt,{onValueChange:h,children:[s.jsx(it,{className:"w-60",children:s.jsx(ct,{placeholder:"Ajouter client CRM..."})}),s.jsx(st,{children:k.map(E=>{const T=a.find(P=>P.id===E.category_id);return s.jsxs(Be,{value:E.id,children:[E.company_name," ",s.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",zT(T==null?void 0:T.name),")"]})]},E.id)})})]}),!N&&s.jsxs(ae,{size:"sm",variant:"outline",onClick:m,children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Canal B2C"]}),s.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[u.entries.length," entre(s)"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>c(E=>E==="none"?"desc":E==="desc"?"asc":"none"),className:"ml-auto",children:[l==="desc"?s.jsx(Mc,{className:"h-3 w-3 mr-1"}):l==="asc"?s.jsx(FI,{className:"h-3 w-3 mr-1"}):s.jsx(BI,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"text-xs",children:"Trier CA"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"text-xs min-w-[120px]",children:"Client"}),s.jsx(ie,{className:"text-xs w-12",children:"Canal"}),s.jsx(ie,{className:"text-xs text-right w-14",children:"Marge"}),s.jsx(ie,{className:"text-xs text-right w-16",children:"% Croiss."}),s.jsx(ie,{className:"text-xs text-center w-10"}),s.jsx(ie,{className:"text-xs text-right w-20",children:"CA N-1"}),r.map(E=>s.jsx(ie,{className:"text-xs text-right min-w-[85px]",children:E},E)),s.jsx(ie,{className:"text-xs text-right min-w-[85px]",children:"Total"}),s.jsx(ie,{className:"text-xs text-right min-w-[70px]",children:"Marge "}),s.jsx(ie,{className:"text-xs w-10"})]})}),s.jsxs(Kt,{children:[u.entries.length===0&&s.jsx(Se,{children:s.jsxs(H,{colSpan:r.length+9,className:"text-center text-muted-foreground py-6",children:[s.jsx(Oo,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des clients CRM ou un canal B2C"})]})}),C.map(E=>s.jsxs(s.Fragment,{children:[s.jsx(Se,{className:"bg-muted/30",children:s.jsxs(H,{colSpan:r.length+9,className:"py-1",children:[s.jsx(Oe,{variant:E.channel==="B2C"?"default":"outline",className:"text-[10px]",children:E.channel}),s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:te(r.reduce((T,P)=>T+E.entries.reduce((A,$)=>A+g($,P),0),0),!0)})]})},`h-${E.channel}`),E.entries.map(T=>{const P=r.reduce((L,B)=>L+g(T,B),0),A=p(T),$=P*A,M=T.individualGrowthRate!==null&&T.individualGrowthRate!==void 0;return s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium text-xs",children:T.clientName}),s.jsx(H,{children:s.jsx(Oe,{variant:"outline",className:"text-[10px]",children:T.channel})}),s.jsxs(H,{className:"text-right font-mono text-[10px] text-muted-foreground",children:[(A*100).toFixed(0),"%"]}),s.jsx(H,{className:"text-right",children:s.jsx(be,{type:"number",value:M?(T.individualGrowthRate*100).toFixed(0):"",onChange:L=>f(T.clientId,{individualGrowthRate:L.target.value===""?null:Number(L.target.value)/100}),className:"h-7 w-14 text-right text-[10px] ml-auto",placeholder:`${(u.growthRate*100).toFixed(0)}`})}),s.jsx(H,{className:"text-center",children:s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>y(T.clientId),title:"Appliquer la croissance",className:"h-6 w-6 p-0",children:s.jsx(Dh,{className:"h-3 w-3"})})}),s.jsx(H,{className:"text-right",children:s.jsx(be,{type:"number",value:T.baseRevenue||"",onChange:L=>f(T.clientId,{baseRevenue:Number(L.target.value)||0}),className:"h-7 w-20 text-right text-[10px] ml-auto",placeholder:"0"})}),r.map(L=>{var re;const B=((re=T.revenueByYear)==null?void 0:re[L])!==void 0,z=g(T,L);return s.jsx(H,{className:"text-right p-1",children:s.jsx(be,{type:"number",value:B?T.revenueByYear[L]:"",onChange:ee=>{const se=ee.target.value,U={...T.revenueByYear};se===""?delete U[L]:U[L]=Number(se),f(T.clientId,{revenueByYear:U})},className:`h-7 w-20 text-right text-[10px] ml-auto ${B?"border-primary/50":""}`,placeholder:te(z,!0)})},L)}),s.jsx(H,{className:"text-right font-mono text-xs font-medium",children:te(P,!0)}),s.jsx(H,{className:"text-right font-mono text-xs text-muted-foreground",children:te($,!0)}),s.jsx(H,{children:s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>d({entries:u.entries.filter(L=>L.clientId!==T.clientId)}),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})})]},T.clientId)})]})),u.entries.length>0&&s.jsx(s.Fragment,{children:s.jsxs(Se,{className:"font-semibold border-t-2",children:[s.jsx(H,{colSpan:6,children:"Total CA"}),r.map((E,T)=>s.jsx(H,{className:"text-right font-mono text-xs",children:te(v[T],!0)},E)),s.jsx(H,{className:"text-right font-mono text-xs",children:te(x,!0)}),s.jsx(H,{className:"text-right font-mono text-xs",children:te(_,!0)}),s.jsx(H,{})]})})]})]})})]})]})}function cf({pageTitle:e,fileName:t}){const r=()=>{window.print()};return s.jsxs(ae,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(ep,{className:"h-4 w-4 mr-1"}),"PDF"]})}const WCe=w.createContext(!1);function as({children:e,tabKey:t}){const{getTabPermission:r}=Ca(),a=r(t)==="read";return s.jsx(WCe.Provider,{value:a,children:s.jsxs("div",{className:a?"read-only-mode":"",children:[a&&s.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}var xw="rovingFocusGroup.onEntryFocus",HCe={bubbles:!1,cancelable:!0},hp="RovingFocusGroup",[U_,j5,qCe]=ux(hp),[KCe,R0]=Yn(hp,[qCe]),[GCe,YCe]=KCe(hp),_5=w.forwardRef((e,t)=>s.jsx(U_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(U_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(XCe,{...e,ref:t})})}));_5.displayName=hp;var XCe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=ft(t,h),y=Ud(i),[g,p]=ia({prop:o,defaultProp:l??null,onChange:c,caller:hp}),[v,x]=w.useState(!1),b=en(u),_=j5(r),j=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(xw,b),()=>k.removeEventListener(xw,b)},[b]),s.jsx(GCe,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:w.useCallback(k=>p(k),[p]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:w.useCallback(()=>C(k=>k-1),[]),children:s.jsx(He.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{j.current=!0}),onFocus:Te(e.onFocus,k=>{const N=!j.current;if(k.target===k.currentTarget&&N&&!v){const R=new CustomEvent(xw,HCe);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=_().filter($=>$.focusable),E=O.find($=>$.active),T=O.find($=>$.id===g),A=[E,T,...O].filter(Boolean).map($=>$.ref.current);N5(A,d)}}j.current=!1}),onBlur:Te(e.onBlur,()=>x(!1))})})}),S5="RovingFocusGroupItem",C5=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=qi(),u=i||c,d=YCe(S5,r),f=d.currentTabStopId===u,h=j5(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return w.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),s.jsx(U_.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Te(e.onMouseDown,p=>{n?d.onItemFocus(u):p.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Te(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=JCe(p,d.orientation,d.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(p.currentTarget);b=d.loop?eNe(b,_+1):b.slice(_+1)}setTimeout(()=>N5(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});C5.displayName=S5;var ZCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QCe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JCe(e,t,r){const n=QCe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZCe[n]}function N5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function eNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var P5=_5,k5=C5,M0="Tabs",[tNe,x2e]=Yn(M0,[R0]),E5=R0(),[rNe,TN]=tNe(M0),A5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ud(l),[f,h]=ia({prop:n,onChange:a,defaultProp:i??"",caller:M0});return s.jsx(rNe,{scope:r,baseId:qi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(He.div,{dir:d,"data-orientation":o,...u,ref:t})})});A5.displayName=M0;var O5="TabsList",T5=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=TN(O5,r),o=E5(r);return s.jsx(P5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});T5.displayName=O5;var R5="TabsTrigger",M5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=TN(R5,r),l=E5(r),c=D5(o.baseId,n),u=L5(o.baseId,n),d=n===o.value;return s.jsx(k5,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(He.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Te(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Te(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});M5.displayName=R5;var $5="TabsContent",I5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=TN($5,r),c=D5(l.baseId,n),u=L5(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(sa,{present:a||d,children:({present:h})=>s.jsx(He.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});I5.displayName=$5;function D5(e,t){return`${e}-trigger-${t}`}function L5(e,t){return`${e}-content-${t}`}var nNe=A5,B5=T5,F5=M5,z5=I5;const Ni=nNe,qa=w.forwardRef(({className:e,...t},r)=>s.jsx(B5,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qa.displayName=B5.displayName;const Ot=w.forwardRef(({className:e,...t},r)=>s.jsx(F5,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ot.displayName=F5.displayName;const Vt=w.forwardRef(({className:e,...t},r)=>s.jsx(z5,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vt.displayName=z5.displayName;const aNe=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function iNe(){var b;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:o,updateGlobalRevenueConfig:l,updateClientRevenueConfig:c}=ts(),u=e.scenarioSettings,d=Array.from({length:u.durationYears},(_,j)=>u.startYear+j),f=_=>{n(_)},h=_=>{const j=e.products.map(S=>S.id===_.id?_:S);r(j)},m=(_,j,S,C)=>{const k=e.products.map(N=>{if(N.id!==_)return N;const R=N.volumesByChannel||{B2C:{},B2B:{},OEM:{}},O={...R,[S]:{...R[S],[j]:C}},E=(O.B2C[j]||0)+(O.B2B[j]||0)+(O.OEM[j]||0);return{...N,volumesByChannel:O,volumesByYear:{...N.volumesByYear,[j]:E}}});r(k)},y=t.totalDevCost,g=d[d.length-1],p=((b=t.revenueByYear.find(_=>_.year===g))==null?void 0:b.revenue)||0,v=t.revenueByYear.length>0?t.revenueByYear.reduce((_,j)=>_+(j.revenue>0?(j.revenue-j.cogs)/j.revenue:0),0)/t.revenueByYear.length:0,x=d.map(_=>{const j=t.revenueByYear.find(S=>S.year===_);return{year:_,revenue:((j==null?void 0:j.revenue)||0)/1e3,cogs:((j==null?void 0:j.cogs)||0)/1e3,margin:(((j==null?void 0:j.revenue)||0)-((j==null?void 0:j.cogs)||0))/1e3}});return s.jsx(as,{tabKey:"product-plan",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>o("by-product"),children:[s.jsx(KI,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),s.jsxs(ae,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>o("by-channel-global"),children:[s.jsx(bl,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]}),s.jsxs(ae,{variant:e.revenueMode==="by-client"?"default":"outline",size:"sm",onClick:()=>o("by-client"),children:[s.jsx(Oo,{className:"h-4 w-4 mr-1"}),"Par Client"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:e.revenueMode==="by-product"?"default":e.revenueMode==="by-channel-global"?"secondary":"outline",children:e.revenueMode==="by-product"?"Dtail produits":e.revenueMode==="by-channel-global"?"Global canaux":"Par client"}),s.jsx(cf,{pageTitle:"Plan Produit",sections:aNe,fileName:"Plan_Produit"}),s.jsx(qd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Pt,{label:"Investissement R&D",value:te(y,!0),subValue:`${e.products.filter(_=>_.devCost>0).length} produits`}),s.jsx(Pt,{label:`CA ${g}`,value:te(p,!0),subValue:"Projection",trend:"up"}),s.jsx(Pt,{label:"Marge Brute Moy.",value:rn(v),subValue:"Sur la priode"}),s.jsx(Pt,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),s.jsx("div",{id:"product-revenue-chart",children:s.jsx(Ye,{title:"Projection du Chiffre d'Affaires",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:x,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:_=>`${_}k`}),s.jsx(St,{formatter:_=>`${_.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),s.jsx(Ut,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),s.jsxs(Ni,{defaultValue:"visualization",className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsxs(Ot,{value:"visualization",children:[s.jsx(WW,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),s.jsxs(Ot,{value:"pricing",children:[s.jsx(ov,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),s.jsxs(Ot,{value:"volumes",children:[s.jsx(Zl,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&s.jsx(Vt,{value:"visualization",children:s.jsx(_G,{config:e.globalRevenueConfig,onChange:l,years:d})}),e.revenueMode==="by-client"&&s.jsx(Vt,{value:"visualization",children:s.jsx(VCe,{config:e.clientRevenueConfig,onChange:c,years:d})}),e.revenueMode==="by-product"&&s.jsx(Vt,{value:"visualization",children:s.jsx("div",{id:"product-revenue-viz",children:s.jsx(xSe,{products:e.products,years:d})})}),s.jsx(Vt,{value:"pricing",children:e.revenueMode==="by-product"?s.jsx("div",{id:"product-pricing",children:s.jsx(dZ,{products:e.products,onUpdateProduct:h,onAddProduct:f,onRemoveProduct:a})}):s.jsx(Ye,{title:"Pricing Produits",children:s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(bl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),s.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,s.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),s.jsx(Vt,{value:"volumes",children:s.jsx("div",{id:"product-volumes",children:s.jsx(bSe,{products:e.products,years:d,onChannelVolumeChange:m})})})]})]})})}const sNe=["R&D","Production","Sales","Support","Admin"];function oNe({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:sNe.map(a=>{const i=e.filter(o=>o.department===a);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Oe,{variant:"outline",children:a}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>n(a),children:s.jsx(er,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"space-y-2",children:i.map(o=>s.jsx(Ft,{className:"bg-muted/30",children:s.jsxs(Qt,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium",children:o.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.startYear,"  ",(o.annualCostLoaded/1e3).toFixed(0),"k"]}),s.jsxs("div",{className:"flex gap-1 mt-2",children:[s.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(o),children:s.jsx(hx,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(o.id),children:s.jsx(lr,{className:"h-3 w-3"})})]})]})},o.id))})]},a)})})}var U5="Toggle",RN=w.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=ia({prop:r,onChange:a,defaultProp:n??!1,caller:U5});return s.jsx(He.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Te(e.onClick,()=>{e.disabled||l(!o)})})});RN.displayName=U5;var V5=RN,al="ToggleGroup",[W5,b2e]=Yn(al,[R0]),H5=R0(),MN=I.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(lNe,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(cNe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${al}\``)});MN.displayName=al;var[q5,K5]=W5(al),lNe=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ia({prop:r,defaultProp:n??"",onChange:a,caller:al});return s.jsx(q5,{scope:e.__scopeToggleGroup,type:"single",value:I.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:I.useCallback(()=>l(""),[l]),children:s.jsx(G5,{...i,ref:t})})}),cNe=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ia({prop:r,defaultProp:n??[],onChange:a,caller:al}),c=I.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=I.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(q5,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(G5,{...i,ref:t})})});MN.displayName=al;var[uNe,dNe]=W5(al),G5=I.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=H5(r),d=Ud(o),f={role:"group",dir:d,...c};return s.jsx(uNe,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(P5,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:s.jsx(He.div,{...f,ref:t})}):s.jsx(He.div,{...f,ref:t})})}),Ay="ToggleGroupItem",Y5=I.forwardRef((e,t)=>{const r=K5(Ay,e.__scopeToggleGroup),n=dNe(Ay,e.__scopeToggleGroup),a=H5(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=I.useRef(null);return n.rovingFocus?s.jsx(k5,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(UT,{...l,ref:t})}):s.jsx(UT,{...l,ref:t})});Y5.displayName=Ay;var UT=I.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=K5(Ay,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(RN,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),X5=MN,Z5=Y5;const Q5=Rd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),fNe=w.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(V5,{ref:a,className:de(Q5({variant:t,size:r,className:e})),...n}));fNe.displayName=V5.displayName;const J5=w.createContext({size:"default",variant:"default"}),ez=w.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(X5,{ref:i,className:de("flex items-center justify-center gap-1",e),...a,children:s.jsx(J5.Provider,{value:{variant:t,size:r},children:n})}));ez.displayName=X5.displayName;const V_=w.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=w.useContext(J5);return s.jsx(Z5,{ref:i,className:de(Q5({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});V_.displayName=Z5.displayName;var $0="Dialog",[tz,rz]=Yn($0),[hNe,Pi]=tz($0),nz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:$0});return s.jsx(hNe,{scope:t,triggerRef:l,contentRef:c,contentId:qi(),titleId:qi(),descriptionId:qi(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};nz.displayName=$0;var az="DialogTrigger",iz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pi(az,r),i=ft(t,a.triggerRef);return s.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":DN(a.open),...n,ref:i,onClick:Te(e.onClick,a.onOpenToggle)})});iz.displayName=az;var $N="DialogPortal",[mNe,sz]=tz($N,{forceMount:void 0}),oz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Pi($N,t);return s.jsx(mNe,{scope:t,forceMount:r,children:w.Children.map(n,o=>s.jsx(sa,{present:r||i.open,children:s.jsx(Qm,{asChild:!0,container:a,children:o})}))})};oz.displayName=$N;var Oy="DialogOverlay",lz=w.forwardRef((e,t)=>{const r=sz(Oy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Pi(Oy,e.__scopeDialog);return i.modal?s.jsx(sa,{present:n||i.open,children:s.jsx(gNe,{...a,ref:t})}):null});lz.displayName=Oy;var pNe=Xl("DialogOverlay.RemoveScroll"),gNe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pi(Oy,r);return s.jsx(E0,{as:pNe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(He.div,{"data-state":DN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sc="DialogContent",cz=w.forwardRef((e,t)=>{const r=sz(sc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Pi(sc,e.__scopeDialog);return s.jsx(sa,{present:n||i.open,children:i.modal?s.jsx(vNe,{...a,ref:t}):s.jsx(yNe,{...a,ref:t})})});cz.displayName=sc;var vNe=w.forwardRef((e,t)=>{const r=Pi(sc,e.__scopeDialog),n=w.useRef(null),a=ft(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return AN(i)},[]),s.jsx(uz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault())})}),yNe=w.forwardRef((e,t)=>{const r=Pi(sc,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(uz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),uz=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Pi(sc,r),c=w.useRef(null),u=ft(t,c);return EN(),s.jsxs(s.Fragment,{children:[s.jsx(P0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Td,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bNe,{titleId:l.titleId}),s.jsx(jNe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),IN="DialogTitle",dz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pi(IN,r);return s.jsx(He.h2,{id:a.titleId,...n,ref:t})});dz.displayName=IN;var fz="DialogDescription",hz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pi(fz,r);return s.jsx(He.p,{id:a.descriptionId,...n,ref:t})});hz.displayName=fz;var mz="DialogClose",pz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pi(mz,r);return s.jsx(He.button,{type:"button",...n,ref:t,onClick:Te(e.onClick,()=>a.onOpenChange(!1))})});pz.displayName=mz;function DN(e){return e?"open":"closed"}var gz="DialogTitleWarning",[xNe,vz]=XV(gz,{contentName:sc,titleName:IN,docsSlug:"dialog"}),bNe=({titleId:e})=>{const t=vz(gz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wNe="DialogDescriptionWarning",jNe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vz(wNe).contentName}}.`;return w.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yz=nz,xz=iz,bz=oz,LN=lz,BN=cz,FN=dz,zN=hz,UN=pz;const _r=yz,bd=xz,_Ne=bz,wz=w.forwardRef(({className:e,...t},r)=>s.jsx(LN,{ref:r,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wz.displayName=LN.displayName;const vr=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(_Ne,{children:[s.jsx(wz,{}),s.jsxs(BN,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(UN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(za,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vr.displayName=BN.displayName;const yr=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yr.displayName="DialogHeader";const wd=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wd.displayName="DialogFooter";const xr=w.forwardRef(({className:e,...t},r)=>s.jsx(FN,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));xr.displayName=FN.displayName;const SNe=w.forwardRef(({className:e,...t},r)=>s.jsx(zN,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));SNe.displayName=zN.displayName;const CNe=["R&D","Production","Sales","Support","Admin"],NNe=[2025,2026,2027,2028,2029,2030],PNe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function kNe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=ts(),[o,l]=w.useState("orgchart"),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState({}),y=j=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:j||"R&D",startYear:2026,annualCostLoaded:5e4};m(S),u(null),f(!0)},g=j=>{u(j),m(j),f(!0)},p=()=>{if(h.title&&h.department){if(c){const j=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(j)}else n(h);f(!1),m({}),u(null)}},v=t.payrollByYear.map(j=>({year:j.year,payroll:j.payroll/1e3,headcount:j.headcount})),x=e.roles.filter(j=>j.startYear>2025),b=NNe.slice(1).map(j=>({year:j,count:e.roles.filter(S=>S.startYear===j).length,cost:e.roles.filter(S=>S.startYear===j).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(j=>j.count>0);return s.jsx(as,{tabKey:"organisation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),s.jsxs(ez,{type:"single",value:o,onValueChange:j=>j&&l(j),children:[s.jsx(V_,{value:"orgchart","aria-label":"Vue organigramme",children:s.jsx(XW,{className:"h-4 w-4"})}),s.jsx(V_,{value:"table","aria-label":"Vue tableau",children:s.jsx(eH,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{pageTitle:"Organisation & RH",sections:PNe,fileName:"Organisation_RH"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y(),children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),s.jsx(qd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Pt,{label:"Masse Salariale 2025",value:te(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),s.jsx(Pt,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),s.jsx(Pt,{label:"Cot Moyen / ETP",value:te(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),s.jsx(Pt,{label:"Masse Salariale 2030",value:te(((_=t.payrollByYear.find(j=>j.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),s.jsx("div",{id:"org-payroll-chart",children:s.jsx(Ye,{title:"volution de la Masse Salariale",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(ky,{data:v,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:j=>`${j}k`}),s.jsx(St,{formatter:(j,S)=>S==="payroll"?`${j.toFixed(0)}k`:j}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),s.jsx("div",{id:"org-hiring-plan",children:b.length>0&&s.jsx(Ye,{title:"Plan de Recrutement",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:j,count:S,cost:C})=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:j}),s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:te(C,!0)})]},j))})})}),s.jsx("div",{id:"org-team",children:o==="orgchart"?s.jsx(Ye,{title:"Organigramme",children:s.jsx(oNe,{roles:e.roles,onEdit:g,onRemove:a,onAddToTeam:y})}):s.jsx(Ye,{title:"quipe & Recrutements",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Poste"}),s.jsx(ie,{children:"Dpartement"}),s.jsx(ie,{children:"Dbut"}),s.jsx(ie,{className:"text-right",children:"Cot Annuel"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:e.roles.map(j=>s.jsxs(Se,{className:j.startYear>2025?"bg-muted/20":"",children:[s.jsxs(H,{className:"font-medium",children:[j.title,j.startYear>2025&&s.jsx(Oe,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),s.jsx(H,{children:s.jsx(Oe,{variant:"outline",children:j.department})}),s.jsx(H,{children:j.startYear}),s.jsx(H,{className:"text-right font-mono-numbers",children:te(j.annualCostLoaded)}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>g(j),children:"Modifier"}),s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(j.id),children:"Suppr."})]})})]},j.id))})]})})})}),s.jsx(_r,{open:d,onOpenChange:f,children:s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsx(xr,{children:c?"Modifier le poste":"Nouveau poste"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),s.jsx(be,{value:h.title||"",onChange:j=>m({...h,title:j.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),s.jsxs(lt,{value:h.department,onValueChange:j=>m({...h,department:j}),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Slectionner un dpartement"})}),s.jsx(st,{children:CNe.map(j=>s.jsx(Be,{value:j,children:j},j))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),s.jsx(be,{type:"number",value:h.startYear||2026,onChange:j=>m({...h,startYear:Number(j.target.value)}),min:2025,max:2030})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),s.jsx(be,{type:"number",value:h.annualCostLoaded||5e4,onChange:j=>m({...h,annualCostLoaded:Number(j.target.value)}),step:1e3})]})]})]}),s.jsxs(wd,{children:[s.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),s.jsx(ae,{onClick:p,children:"Sauvegarder"})]})]})})]})})}const VT=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],WT=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],ENe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],ANe=[0,.02,.03,.05,.07,.1,.15,.2],ONe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function TNe(){var P,A,$;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:o,saveAll:l}=ts(),[c,u]=w.useState(null),[d,f]=w.useState({}),{startYear:h,durationYears:m}=e.scenarioSettings,y=Array.from({length:m},(M,L)=>h+L),[g,p]=w.useState(h),v=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(L=>L.id===c?{...L,...d}:L);r(M),u(null),f({})}},_=()=>{u(null),f({})},j=y[0],S=y[y.length-1],C=((P=t.opexByYear.find(M=>M.year===j))==null?void 0:P.opex)||0,k=((A=t.opexByYear.find(M=>M.year===S))==null?void 0:A.opex)||0,N=(($=t.revenueByYear.find(M=>M.year===j))==null?void 0:$.revenue)||1,R=C/N,O=t.opexByYear.find(M=>M.year===g),E=O?VT.map((M,L)=>({name:M,value:O.byCategory[M]||0,color:ENe[L]})).filter(M=>M.value>0):[],T=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return s.jsx(as,{tabKey:"charges",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Oe,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{pageTitle:"Structure des Charges",sections:ONe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:v,children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),s.jsx(qd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Ye,{title:"Mode de Calcul",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>i("detailed"),className:de("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(JW,{className:de("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:de("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),s.jsxs("button",{onClick:()=>i("simple"),className:de("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(ov,{className:de("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:de("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&s.jsxs(Ye,{title:"Configuration Simplifie",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ne,{children:["Montant OPEX annuel de base (",j,")"]}),s.jsx(be,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>o({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"volution annuelle (%)"}),s.jsxs(lt,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>o({growthRate:Number(M)/100}),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:ANe.map(M=>s.jsxs(Be,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),s.jsxs("div",{className:"mt-6 border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium",children:"OPEX Stratgiques"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{const M=[...e.simpleOpexConfig.strategicOpex||[]];M.push({id:`strat-${Date.now()}`,name:"Budget stratgique",amount:0}),o({strategicOpex:M})},children:[s.jsx(er,{className:"h-3.5 w-3.5 mr-1"})," Ajouter"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lignes de budget additionnel qui s'ajoutent au montant de base et sont indexes par l'volution annuelle."}),(e.simpleOpexConfig.strategicOpex||[]).length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-3",children:"Aucun OPEX stratgique ajout."}):s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Libell"}),s.jsx(ie,{className:"text-right",children:"Montant annuel ()"}),s.jsx(ie,{className:"w-10"})]})}),s.jsxs(Kt,{children:[(e.simpleOpexConfig.strategicOpex||[]).map(M=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsx(be,{value:M.name,onChange:L=>{const B=(e.simpleOpexConfig.strategicOpex||[]).map(z=>z.id===M.id?{...z,name:L.target.value}:z);o({strategicOpex:B})},className:"h-8 text-sm"})}),s.jsx(H,{children:s.jsx(be,{type:"number",value:M.amount,onChange:L=>{const B=(e.simpleOpexConfig.strategicOpex||[]).map(z=>z.id===M.id?{...z,amount:Number(L.target.value)||0}:z);o({strategicOpex:B})},className:"h-8 text-sm font-mono-numbers text-right"})}),s.jsx(H,{children:s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>{const L=(e.simpleOpexConfig.strategicOpex||[]).filter(B=>B.id!==M.id);o({strategicOpex:L})},children:s.jsx(lr,{className:"h-3.5 w-3.5"})})})]},M.id)),s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium",children:"Total stratgique"}),s.jsx(H,{className:"text-right font-mono-numbers font-medium",children:te((e.simpleOpexConfig.strategicOpex||[]).reduce((M,L)=>M+L.amount,0))}),s.jsx(H,{})]})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,L)=>{const B=(e.simpleOpexConfig.strategicOpex||[]).reduce((re,ee)=>re+ee.amount,0),z=(e.simpleOpexConfig.baseAmount+B)*Math.pow(1+e.simpleOpexConfig.growthRate,L);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:M}),s.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:te(z,!0)})]},M)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[s.jsx(Pt,{label:`OPEX ${j}`,value:te(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),s.jsx(Pt,{label:"Ratio OPEX / CA",value:rn(R),subValue:j.toString()}),s.jsx(Pt,{label:`OPEX ${S}`,value:te(k,!0),subValue:"Projection",trend:"up"}),s.jsx(Pt,{label:"Croissance OPEX",value:C>0?rn(k/C-1):"N/A",subValue:`${j}-${S}`})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ye,{title:"volution des Charges",id:"charges-chart",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:T,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:M=>`${M}k`}),s.jsx(St,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(Ut,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&E.length>0&&s.jsxs(Ye,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(lt,{value:g.toString(),onValueChange:M=>p(parseInt(M)),children:[s.jsx(it,{className:"w-24 h-8",children:s.jsx(ct,{})}),s.jsx(st,{children:y.map(M=>s.jsx(Be,{value:M.toString(),children:M},M))})]})}),s.jsx("div",{className:"h-56",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(kN,{children:[s.jsx(Ci,{data:E,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:E.map((M,L)=>s.jsx(Qo,{fill:M.color},`cell-${L}`))}),s.jsx(St,{formatter:M=>te(M)})]})})}),s.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",g,": ",s.jsx("span",{className:"font-mono-numbers font-medium",children:te((O==null?void 0:O.opex)||0,!0)})]})]}),e.opexMode==="simple"&&s.jsx(Ye,{title:"Rcapitulatif",id:"charges-breakdown",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),s.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:te(e.simpleOpexConfig.baseAmount,!0)})]}),(e.simpleOpexConfig.strategicOpex||[]).length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"+ OPEX Stratgiques"}),s.jsx("div",{className:"text-xl font-mono-numbers font-medium text-primary",children:te((e.simpleOpexConfig.strategicOpex||[]).reduce((M,L)=>M+L.amount,0),!0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),s.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&s.jsx(Ye,{title:"Dtail des Charges",id:"charges-table",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Charge"}),s.jsx(ie,{children:"Catgorie"}),s.jsx(ie,{children:"Type d'volution"}),s.jsx(ie,{className:"text-right",children:"Cot Base"}),s.jsx(ie,{children:"Paramtre"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:e.expenses.map(M=>{var L,B;return s.jsx(Se,{children:c===M.id?s.jsxs(s.Fragment,{children:[s.jsx(H,{children:s.jsx(be,{value:d.name||"",onChange:z=>f({...d,name:z.target.value}),className:"h-8"})}),s.jsx(H,{children:s.jsxs(lt,{value:d.category,onValueChange:z=>f({...d,category:z}),children:[s.jsx(it,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsx(st,{children:VT.map(z=>s.jsx(Be,{value:z,children:z},z))})]})}),s.jsx(H,{children:s.jsxs(lt,{value:d.evolutionType,onValueChange:z=>f({...d,evolutionType:z}),children:[s.jsx(it,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsx(st,{children:WT.map(z=>s.jsx(Be,{value:z.value,children:z.label},z.value))})]})}),s.jsx(H,{children:s.jsx(be,{type:"number",value:d.baseAnnualCost||0,onChange:z=>f({...d,baseAnnualCost:Number(z.target.value)}),className:"h-8 w-28 text-right"})}),s.jsxs(H,{children:[d.evolutionType==="growth_rate"&&s.jsx(be,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:z=>f({...d,growthRate:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&s.jsx(be,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:z=>f({...d,revenueRatio:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"icon",variant:"ghost",onClick:b,children:s.jsx(Ao,{className:"h-4 w-4 text-accent"})}),s.jsx(ae,{size:"icon",variant:"ghost",onClick:_,children:s.jsx(za,{className:"h-4 w-4 text-destructive"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(H,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&s.jsxs(c7,{children:[s.jsx(u7,{children:s.jsx(Lh,{className:"h-3 w-3 text-muted-foreground"})}),s.jsx($D,{children:s.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),s.jsx(H,{children:s.jsx(Oe,{variant:"outline",children:M.category})}),s.jsx(H,{children:s.jsx(Oe,{variant:"secondary",children:(L=WT.find(z=>z.value===M.evolutionType))==null?void 0:L.label})}),s.jsx(H,{className:"text-right font-mono-numbers",children:te(M.baseAnnualCost)}),s.jsxs(H,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${rn(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${rn(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((B=M.steps)==null?void 0:B.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>x(M),children:s.jsx(hx,{className:"h-4 w-4"})}),s.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:s.jsx(lr,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}var I0="Switch",[RNe,w2e]=Yn(I0),[MNe,$Ne]=RNe(I0),jz=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),y=ft(t,b=>m(b)),g=w.useRef(!1),p=h?d||!!h.closest("form"):!0,[v,x]=ia({prop:a,defaultProp:i??!1,onChange:u,caller:I0});return s.jsxs(MNe,{scope:r,checked:v,disabled:l,children:[s.jsx(He.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Nz(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Te(e.onClick,b=>{x(_=>!_),p&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),p&&s.jsx(Cz,{control:h,bubbles:!g.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});jz.displayName=I0;var _z="SwitchThumb",Sz=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=$Ne(_z,r);return s.jsx(He.span,{"data-state":Nz(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Sz.displayName=_z;var INe="SwitchBubbleInput",Cz=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=w.useRef(null),l=ft(o,i),c=Px(r),u=vx(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Cz.displayName=INe;function Nz(e){return e?"checked":"unchecked"}var Pz=jz,DNe=Sz;const D0=w.forwardRef(({className:e,...t},r)=>s.jsx(Pz,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(DNe,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));D0.displayName=Pz.displayName;var kz="AlertDialog",[LNe,j2e]=Yn(kz,[rz]),Vs=rz(),Ez=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vs(t);return s.jsx(yz,{...n,...r,modal:!0})};Ez.displayName=kz;var BNe="AlertDialogTrigger",Az=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vs(r);return s.jsx(xz,{...a,...n,ref:t})});Az.displayName=BNe;var FNe="AlertDialogPortal",Oz=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vs(t);return s.jsx(bz,{...n,...r})};Oz.displayName=FNe;var zNe="AlertDialogOverlay",Tz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vs(r);return s.jsx(LN,{...a,...n,ref:t})});Tz.displayName=zNe;var wu="AlertDialogContent",[UNe,VNe]=LNe(wu),WNe=dI("AlertDialogContent"),Rz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Vs(r),o=w.useRef(null),l=ft(t,o),c=w.useRef(null);return s.jsx(xNe,{contentName:wu,titleName:Mz,docsSlug:"alert-dialog",children:s.jsx(UNe,{scope:r,cancelRef:c,children:s.jsxs(BN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Te(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(WNe,{children:n}),s.jsx(qNe,{contentRef:o})]})})})});Rz.displayName=wu;var Mz="AlertDialogTitle",$z=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vs(r);return s.jsx(FN,{...a,...n,ref:t})});$z.displayName=Mz;var Iz="AlertDialogDescription",Dz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vs(r);return s.jsx(zN,{...a,...n,ref:t})});Dz.displayName=Iz;var HNe="AlertDialogAction",Lz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vs(r);return s.jsx(UN,{...a,...n,ref:t})});Lz.displayName=HNe;var Bz="AlertDialogCancel",Fz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=VNe(Bz,r),i=Vs(r),o=ft(t,a);return s.jsx(UN,{...i,...n,ref:o})});Fz.displayName=Bz;var qNe=({contentRef:e})=>{const t=`\`${wu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wu}\` by passing a \`${Iz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},KNe=Ez,GNe=Az,YNe=Oz,zz=Tz,Uz=Rz,Vz=Lz,Wz=Fz,Hz=$z,qz=Dz;const Ty=KNe,HT=GNe,XNe=YNe,Kz=w.forwardRef(({className:e,...t},r)=>s.jsx(zz,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Kz.displayName=zz.displayName;const $m=w.forwardRef(({className:e,...t},r)=>s.jsxs(XNe,{children:[s.jsx(Kz,{}),s.jsx(Uz,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$m.displayName=Uz.displayName;const Im=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});Im.displayName="AlertDialogHeader";const Dm=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dm.displayName="AlertDialogFooter";const Lm=w.forwardRef(({className:e,...t},r)=>s.jsx(Hz,{ref:r,className:de("text-lg font-semibold",e),...t}));Lm.displayName=Hz.displayName;const Bm=w.forwardRef(({className:e,...t},r)=>s.jsx(qz,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));Bm.displayName=qz.displayName;const Fm=w.forwardRef(({className:e,...t},r)=>s.jsx(Vz,{ref:r,className:de(xC(),e),...t}));Fm.displayName=Vz.displayName;const zm=w.forwardRef(({className:e,...t},r)=>s.jsx(Wz,{ref:r,className:de(xC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zm.displayName=Wz.displayName;function bw(e){const t=e.toUpperCase();if(t.length!==2)return"";const r=127397;return String.fromCodePoint(t.charCodeAt(0)+r,t.charCodeAt(1)+r)}const ww={france:"FR",allemagne:"DE",espagne:"ES",italie:"IT","royaume-uni":"GB",angleterre:"GB","tats-unis":"US","etats-unis":"US",belgique:"BE",suisse:"CH","pays-bas":"NL",hollande:"NL",portugal:"PT",autriche:"AT",japon:"JP",chine:"CN",australie:"AU",brsil:"BR",bresil:"BR",mexique:"MX",inde:"IN","core du sud":"KR","coree du sud":"KR",core:"KR",coree:"KR",danemark:"DK",sude:"SE",suede:"SE",norvge:"NO",norvege:"NO",finlande:"FI",pologne:"PL",irlande:"IE",grce:"GR",grece:"GR",luxembourg:"LU",monaco:"MC",taiwan:"TW",tawan:"TW",singapour:"SG","mirats arabes unis":"AE","emirats arabes unis":"AE",isral:"IL",israel:"IL",turquie:"TR",maroc:"MA",tunisie:"TN","afrique du sud":"ZA",roumanie:"RO",hongrie:"HU",tchquie:"CZ",tchequie:"CZ","rpublique tchque":"CZ","republique tcheque":"CZ","nouvelle-zlande":"NZ","nouvelle-zelande":"NZ",canada:"CA",qatar:"QA","arabie saoudite":"SA",kowet:"KW",koweit:"KW",bahren:"BH",bahrein:"BH",oman:"OM",liban:"LB",jordanie:"JO",gypte:"EG",egypte:"EG",algrie:"DZ",algerie:"DZ",sngal:"SN",senegal:"SN","cte d'ivoire":"CI","cote d'ivoire":"CI",cameroun:"CM",nigeria:"NG",kenya:"KE",ghana:"GH",colombie:"CO",argentine:"AR",chili:"CL",prou:"PE",perou:"PE",venezuela:"VE",uruguay:"UY",paraguay:"PY",equateur:"EC",quateur:"EC",bolivie:"BO","costa rica":"CR",panama:"PA",cuba:"CU",thalande:"TH",thailande:"TH",vietnam:"VN","vit nam":"VN",malaisie:"MY",indonsie:"ID",indonesie:"ID",philippines:"PH",pakistan:"PK",bangladesh:"BD","sri lanka":"LK",npal:"NP",nepal:"NP",russie:"RU",ukraine:"UA",bilorussie:"BY",bielorussie:"BY",gorgie:"GE",georgie:"GE",armnie:"AM",armenie:"AM",azerbadjan:"AZ",azerbaidjan:"AZ",kazakhstan:"KZ",croatie:"HR",serbie:"RS",slovnie:"SI",slovenie:"SI",slovaquie:"SK",bulgarie:"BG",lituanie:"LT",lettonie:"LV",estonie:"EE",malte:"MT",chypre:"CY",islande:"IS",albanie:"AL","macdoine du nord":"MK","macedoine du nord":"MK",montngro:"ME",montenegro:"ME",bosnie:"BA","bosnie-herzgovine":"BA",moldavie:"MD",andorre:"AD",liechtenstein:"LI","saint-marin":"SM",germany:"DE",spain:"ES",italy:"IT","united kingdom":"GB","united states":"US",belgium:"BE",switzerland:"CH",netherlands:"NL",austria:"AT",japan:"JP",china:"CN",australia:"AU",brazil:"BR",mexico:"MX",india:"IN","south korea":"KR",denmark:"DK",sweden:"SE",norway:"NO",finland:"FI",poland:"PL",ireland:"IE",greece:"GR",singapore:"SG",turkey:"TR",morocco:"MA",tunisia:"TN","south africa":"ZA",romania:"RO",hungary:"HU","czech republic":"CZ",czechia:"CZ","new zealand":"NZ","saudi arabia":"SA",kuwait:"KW",bahrain:"BH",jordan:"JO",egypt:"EG",algeria:"DZ","ivory coast":"CI",cameroon:"CM",colombia:"CO",argentina:"AR",chile:"CL",peru:"PE",thailand:"TH",malaysia:"MY",indonesia:"ID",russia:"RU",croatia:"HR",serbia:"RS",slovenia:"SI",slovakia:"SK",bulgaria:"BG",lithuania:"LT",latvia:"LV",estonia:"EE",malta:"MT",cyprus:"CY",iceland:"IS",bosnia:"BA",moldova:"MD",andorra:"AD"};function qT(e){if(!e)return"";const t=e.trim(),r=t.toLowerCase();if(ww[r])return bw(ww[r]);if(/^[a-zA-Z]{2}$/.test(t))return bw(t);for(const[n,a]of Object.entries(ww))if(r.includes(n)||n.includes(r))return bw(a);return""}const _i=w.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_i.displayName="Textarea";const ZNe=["Actif","Clients B2B","Pays","Zone Gographique","Mail du contact","Date d'EER","Date dernier achat","Type de Client","Pricing rules","Delais de paiement","Modalits de livraison","Rgles transport","Frais de livraison","Contrat/Exclusivit","MOQ","Avantages Spcifiques"];function QNe({open:e,onOpenChange:t,onImport:r}){const[n,a]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!1),u=f=>{var y,g,p,v,x,b,_,j,S,C,k,N;const h=f.trim().split(`
`).filter(R=>R.trim()),m=[];for(const R of h){const O=R.split("	");O.length<2||m.push({is_active:(O[0]||"").toLowerCase().includes("oui"),company_name:((y=O[1])==null?void 0:y.trim())||"Sans nom",country:((g=O[2])==null?void 0:g.trim())||null,geographic_zone:((p=O[3])==null?void 0:p.trim())||null,contact_email:((v=O[4])==null?void 0:v.trim())||null,eer_date:parseInt(O[5])||null,last_purchase_date:parseInt(O[6])||null,client_type:((x=O[7])==null?void 0:x.trim())||null,pricing_rule:((b=O[8])==null?void 0:b.trim())||null,payment_terms:((_=O[9])==null?void 0:_.trim())||null,delivery_method:((j=O[10])==null?void 0:j.trim())||null,transport_rules:((S=O[11])==null?void 0:S.trim())||null,delivery_fee_rule:((C=O[12])==null?void 0:C.trim())||null,contract_exclusivity:(O[13]||"").toLowerCase().includes("oui"),moq:((k=O[14])==null?void 0:k.trim())||null,specific_advantages:((N=O[15])==null?void 0:N.trim())||null})}o(m)},d=async()=>{c(!0);const f=await r(i);c(!1),f>0&&(a(""),o([]),t(!1))};return s.jsx(_r,{open:e,onOpenChange:t,children:s.jsxs(vr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsx(yr,{children:s.jsx(xr,{children:"Import Clients B2B (copier-coller)"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Collez les lignes depuis Excel/Google Sheets (spares par tabulations). Colonnes attendues :"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:ZNe.map((f,h)=>s.jsx(Oe,{variant:"outline",className:"text-[10px]",children:f},h))}),s.jsx(_i,{placeholder:"Collez vos lignes ici...",rows:6,value:n,onChange:f=>{a(f.target.value),u(f.target.value)}}),i.length>0&&s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:[i.length," client(s) dtect(s) :"]}),s.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:i.map((f,h)=>s.jsxs("div",{className:"text-xs flex gap-2 items-center",children:[s.jsx(Oe,{variant:f.is_active?"default":"secondary",className:"text-[9px]",children:f.is_active?"Actif":"Inactif"}),s.jsx("span",{className:"font-medium",children:f.company_name}),s.jsx("span",{className:"text-muted-foreground",children:f.country}),s.jsx("span",{className:"text-muted-foreground",children:f.client_type})]},h))})]})]}),s.jsxs(wd,{children:[s.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(ae,{onClick:d,disabled:i.length===0||l,children:l?"Import...":`Importer ${i.length} client(s)`})]})]})})}function JNe({deliveryFeeTiers:e,paymentTermsOptions:t,deliveryMethods:r,onAddDeliveryFee:n,onDeleteDeliveryFee:a,onAddPaymentTerm:i,onDeletePaymentTerm:o,onAddDeliveryMethod:l,onDeleteDeliveryMethod:c}){const[u,d]=w.useState(""),[f,h]=w.useState(""),[m,y]=w.useState(""),[g,p]=w.useState(""),[v,x]=w.useState(""),[b,_]=w.useState("");return s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-2",children:s.jsx(mr,{className:"text-sm",children:"Frais de livraison (tranches)"})}),s.jsxs(Qt,{className:"space-y-2",children:[e.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsxs("span",{children:[j.label,"  ",j.fee_amount," (",j.min_pieces,j.max_pieces?`-${j.max_pieces}`:"+"," pcs)"]}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>a(j.id),children:s.jsx(lr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[s.jsx(be,{placeholder:"Label",value:u,onChange:j=>d(j.target.value),className:"text-xs h-8"}),s.jsx(be,{placeholder:"",type:"number",value:f,onChange:j=>h(j.target.value),className:"text-xs h-8"}),s.jsx(be,{placeholder:"Min",type:"number",value:m,onChange:j=>y(j.target.value),className:"text-xs h-8"}),s.jsx(be,{placeholder:"Max",type:"number",value:g,onChange:j=>p(j.target.value),className:"text-xs h-8"})]}),s.jsxs(ae,{size:"sm",className:"w-full",variant:"outline",disabled:!u,onClick:async()=>{await n(u,parseFloat(f)||0,parseInt(m)||0,g?parseInt(g):null),d(""),h(""),y(""),p("")},children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-2",children:s.jsx(mr,{className:"text-sm",children:"Dlais de paiement"})}),s.jsxs(Qt,{className:"space-y-2",children:[t.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:j.label}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>o(j.id),children:s.jsx(lr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(be,{placeholder:"Ex: 30 jours fin de mois",value:v,onChange:j=>x(j.target.value),className:"text-xs h-8"}),s.jsx(ae,{size:"sm",variant:"outline",disabled:!v,onClick:async()=>{await i(v),x("")},children:s.jsx(er,{className:"h-3 w-3"})})]})]})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-2",children:s.jsx(mr,{className:"text-sm",children:"Modalits de livraison"})}),s.jsxs(Qt,{className:"space-y-2",children:[r.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:j.label}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>c(j.id),children:s.jsx(lr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(be,{placeholder:"Ex: DHL, TNT...",value:b,onChange:j=>_(j.target.value),className:"text-xs h-8"}),s.jsx(ae,{size:"sm",variant:"outline",disabled:!b,onClick:async()=>{await l(b),_("")},children:s.jsx(er,{className:"h-3 w-3"})})]})]})]})]})}const ePe=[{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}];function Gz(){const[e,t]=w.useState(ePe),[r,n]=w.useState("from_public"),[a,i]=w.useState("default-b2b"),[o,l]=w.useState({}),[c,u]=w.useState({}),[d,f]=w.useState(!1);w.useEffect(()=>{(async()=>{var v,x,b,_,j;const{data:{user:g}}=await xe.auth.getUser();if(!g){f(!0);return}const{data:p}=await xe.from("pricing_config").select("config_data").eq("user_id",g.id).maybeSingle();if(p!=null&&p.config_data){const S=p.config_data;if((v=S.salesRules)!=null&&v.length&&t(S.salesRules),S.pricingMode&&n(S.pricingMode),S.activeRuleId&&i(S.activeRuleId),S.editedPrices){const C=Object.keys(S.editedPrices)[0];if(C&&typeof S.editedPrices[C]=="object"&&!Array.isArray(S.editedPrices[C]))l(S.editedPrices);else if(C&&typeof S.editedPrices[C]=="number"){const k=S.activeRuleId||((b=(x=S.salesRules)==null?void 0:x[0])==null?void 0:b.id)||"default-b2b";l({[k]:S.editedPrices})}}if(S.editedOurPrices){const C=Object.keys(S.editedOurPrices)[0];if(C&&typeof S.editedOurPrices[C]=="object"&&!Array.isArray(S.editedOurPrices[C]))u(S.editedOurPrices);else if(C&&typeof S.editedOurPrices[C]=="number"){const k=S.activeRuleId||((j=(_=S.salesRules)==null?void 0:_[0])==null?void 0:j.id)||"default-b2b";u({[k]:S.editedOurPrices})}}}f(!0)})()},[]);const h=w.useCallback((y,g)=>{const v=o[g||a]||{};return v[y.id]!==void 0?v[y.id]:y.price_ttc},[o,a]),m=w.useCallback((y,g)=>{if(!g||y<=0)return null;const p=g.tvaRate??20;let x=y/(1+p/100);const b=[...g.intermediaries].reverse();for(const _ of b)x=x/_.coefficient;return{ourB2BPrice:x}},[]);return{salesRules:e,pricingMode:r,activeRuleId:a,editedPrices:o,editedOurPrices:c,loaded:d,getEffectivePrice:h,computeChainFromPublicTTC:m}}const dg=[2022,2023,2024,2025];function tPe({clients:e,projections:t,deliveryFeeTiers:r,paymentTermsOptions:n,deliveryMethods:a,categories:i,onUpsertClient:o,onDeleteClient:l,onBulkImport:c,onUpsertProjection:u,getClientProjections:d,onAddDeliveryFee:f,onDeleteDeliveryFee:h,onAddPaymentTerm:m,onDeletePaymentTerm:y,onAddDeliveryMethod:g,onDeleteDeliveryMethod:p,onAddCategory:v,onDeleteCategory:x,onUpdateCategory:b}){var oe;const[_,j]=w.useState(!1),[S,C]=w.useState(!1),[k,N]=w.useState(!1),[R,O]=w.useState(null),[E,T]=w.useState({}),[P,A]=w.useState(new Set),[$,M]=w.useState(""),[L,B]=w.useState(!1),[z,re]=w.useState(null),[ee,se]=w.useState({}),{salesRules:U}=Gz(),[V,K]=w.useState({company_name:"",country:"",geographic_zone:"",contact_email:"",eer_date:"",client_type:"",pricing_rule:"",payment_terms:"",delivery_method:"",delivery_fee_rule:"",moq:"",category_id:""}),q=J=>{O(J.id),T({...J})},me=async()=>{!R||!E.company_name||(await o({...E,id:R,company_name:E.company_name}),O(null))},D=async()=>{V.company_name.trim()&&(await o({company_name:V.company_name,country:V.country||null,geographic_zone:V.geographic_zone||null,contact_email:V.contact_email||null,eer_date:parseInt(V.eer_date)||null,client_type:V.client_type||null,pricing_rule:V.pricing_rule||null,payment_terms:V.payment_terms||null,delivery_method:V.delivery_method||null,delivery_fee_rule:V.delivery_fee_rule||null,moq:V.moq||null,category_id:V.category_id||null,is_active:!0}),N(!1),K({company_name:"",country:"",geographic_zone:"",contact_email:"",eer_date:"",client_type:"",pricing_rule:"",payment_terms:"",delivery_method:"",delivery_fee_rule:"",moq:"",category_id:""}))},G=J=>{A(ce=>{const pe=new Set(ce);return pe.has(J)?pe.delete(J):pe.add(J),pe})},W=(J,ce)=>{const pe=t.find(ue=>ue.client_id===J&&ue.year===ce);return pe?Number(pe.projected_revenue):0},X=async(J,ce,pe)=>{const ue=parseFloat(pe);isNaN(ue)||await u(J,ce,ue),se(ve=>{const ke={...ve};return ke[J]&&delete ke[J][ce],ke})},Q=r.map(J=>J.label),we=n.map(J=>J.label),$e=a.map(J=>J.label),qe=()=>{const J=["Actif","Client","Pays","Zone Go","Email","Pricing","Dlai paiement","Livraison","Frais livraison","MOQ",...dg.map(ot=>`CA ${ot}`),"Catgorie"],ce=e.map(ot=>{var Ue;return[ot.is_active?"Oui":"Non",ot.company_name,ot.country||"",ot.geographic_zone||"",ot.contact_email||"",ot.pricing_rule||"",ot.payment_terms||"",ot.delivery_method||"",ot.delivery_fee_rule||"",ot.moq||"",...dg.map(ht=>String(W(ot.id,ht)||"")),((Ue=i.find(ht=>ht.id===ot.category_id))==null?void 0:Ue.name)||""]}),pe=[J,...ce].map(ot=>ot.map(Ue=>`"${String(Ue).replace(/"/g,'""')}"`).join(";")).join(`
`),ue=new Blob(["\uFEFF"+pe],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(ue),ke=document.createElement("a");ke.href=ve,ke.download=`clients_b2b_${new Date().toISOString().slice(0,10)}.csv`,ke.click(),URL.revokeObjectURL(ve),Ee.success("Fichier CSV export")},ge=async()=>{z&&(await l(z),re(null))},Pe=e.filter(J=>!J.category_id),Ze=i.map(J=>({category:J,clients:e.filter(ce=>ce.category_id===J.id)})),F=J=>{var ue;const ce=R===J.id,pe=ce?E:J;return s.jsxs(Se,{className:"text-xs",children:[s.jsx(H,{children:ce?s.jsx(D0,{checked:pe.is_active,onCheckedChange:ve=>T(ke=>({...ke,is_active:ve}))}):s.jsx(Oe,{variant:J.is_active?"default":"secondary",className:"text-[9px]",children:J.is_active?"Oui":"Non"})}),s.jsx(H,{className:"font-medium",children:ce?s.jsx(be,{className:"h-7 text-xs w-32",value:pe.company_name||"",onChange:ve=>T(ke=>({...ke,company_name:ve.target.value}))}):J.company_name}),s.jsx(H,{children:ce?s.jsx(be,{className:"h-7 text-xs w-20",value:pe.country||"",onChange:ve=>T(ke=>({...ke,country:ve.target.value}))}):s.jsxs("span",{className:"flex items-center gap-1",children:[qT(J.country)&&s.jsx("span",{className:"text-base leading-none",children:qT(J.country)}),J.country]})}),s.jsx(H,{children:ce?s.jsx(be,{className:"h-7 text-xs w-20",value:pe.geographic_zone||"",onChange:ve=>T(ke=>({...ke,geographic_zone:ve.target.value}))}):J.geographic_zone}),s.jsx(H,{children:ce?s.jsx(be,{className:"h-7 text-xs w-36",value:pe.contact_email||"",onChange:ve=>T(ke=>({...ke,contact_email:ve.target.value}))}):J.contact_email?s.jsx("a",{href:`mailto:${J.contact_email}`,className:"text-primary underline",children:J.contact_email}):""}),s.jsx(H,{children:ce?s.jsxs(lt,{value:pe.pricing_rule||"",onValueChange:ve=>T(ke=>({...ke,pricing_rule:ve})),children:[s.jsx(it,{className:"h-7 text-xs w-28",children:s.jsx(ct,{placeholder:""})}),s.jsx(st,{children:U.map(ve=>s.jsx(Be,{value:ve.name,children:ve.name},ve.id))})]}):J.pricing_rule||""}),s.jsx(H,{children:ce?s.jsxs(lt,{value:pe.payment_terms||"",onValueChange:ve=>T(ke=>({...ke,payment_terms:ve})),children:[s.jsx(it,{className:"h-7 text-xs w-24",children:s.jsx(ct,{placeholder:""})}),s.jsx(st,{children:we.map(ve=>s.jsx(Be,{value:ve,children:ve},ve))})]}):J.payment_terms||""}),s.jsx(H,{children:ce?s.jsxs(lt,{value:pe.delivery_method||"",onValueChange:ve=>T(ke=>({...ke,delivery_method:ve})),children:[s.jsx(it,{className:"h-7 text-xs w-24",children:s.jsx(ct,{placeholder:""})}),s.jsx(st,{children:$e.map(ve=>s.jsx(Be,{value:ve,children:ve},ve))})]}):J.delivery_method||""}),s.jsx(H,{children:ce?s.jsxs(lt,{value:pe.delivery_fee_rule||"",onValueChange:ve=>T(ke=>({...ke,delivery_fee_rule:ve})),children:[s.jsx(it,{className:"h-7 text-xs w-24",children:s.jsx(ct,{placeholder:""})}),s.jsx(st,{children:Q.map(ve=>s.jsx(Be,{value:ve,children:ve},ve))})]}):J.delivery_fee_rule||""}),s.jsx(H,{children:ce?s.jsx(be,{className:"h-7 text-xs w-16",value:pe.moq||"",onChange:ve=>T(ke=>({...ke,moq:ve.target.value}))}):J.moq||""}),dg.map(ve=>{var Ue;const ke=W(J.id,ve),ot=(Ue=ee[J.id])==null?void 0:Ue[ve];return s.jsx(H,{className:"text-right font-mono",children:s.jsx(be,{className:"h-7 text-xs w-20 text-right",type:"number",value:ot!==void 0?ot:ke||"",onChange:ht=>se(fe=>({...fe,[J.id]:{...fe[J.id]||{},[ve]:ht.target.value}})),onBlur:ht=>X(J.id,ve,ht.target.value),placeholder:"0"})},ve)}),s.jsx(H,{children:ce?s.jsxs(lt,{value:pe.category_id||"none",onValueChange:ve=>T(ke=>({...ke,category_id:ve==="none"?null:ve})),children:[s.jsx(it,{className:"h-7 text-xs w-24",children:s.jsx(ct,{placeholder:""})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Sans catgorie"}),i.map(ve=>s.jsx(Be,{value:ve.id,children:ve.name},ve.id))]})]}):((ue=i.find(ve=>ve.id===J.category_id))==null?void 0:ue.name)||""}),s.jsx(H,{children:s.jsx("div",{className:"flex gap-1",children:ce?s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:me,children:s.jsx(tp,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>O(null),children:s.jsx(za,{className:"h-3 w-3"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>q(J),children:s.jsx(hx,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>re(J.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})})]},J.id)},Z=(J,ce)=>{const pe=P.has(J.id);return s.jsx(Se,{className:"bg-muted/40 hover:bg-muted/60 cursor-pointer",onClick:()=>G(J.id),children:s.jsx(H,{colSpan:15,className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[pe?s.jsx(Dh,{className:"h-4 w-4"}):s.jsx(Ih,{className:"h-4 w-4"}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:J.color||"#6366f1"}}),s.jsx("span",{className:"font-semibold text-sm",children:J.name}),s.jsx(Oe,{variant:"secondary",className:"text-[9px]",children:ce})]})})},`cat-${J.id}`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(ae,{size:"sm",onClick:()=>N(!0),children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouveau client"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>j(!0),children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Import copier-coller"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>B(!0),children:[s.jsx(YW,{className:"h-4 w-4 mr-1"})," Catgorie"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>C(!S),children:[s.jsx(GI,{className:"h-4 w-4 mr-1"})," Paramtres"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:qe,children:[s.jsx(ep,{className:"h-4 w-4 mr-1"})," Export CSV"]}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[e.length," client(s)"]})]}),S&&s.jsx(JNe,{deliveryFeeTiers:r,paymentTermsOptions:n,deliveryMethods:a,onAddDeliveryFee:f,onDeleteDeliveryFee:h,onAddPaymentTerm:m,onDeletePaymentTerm:y,onAddDeliveryMethod:g,onDeleteDeliveryMethod:p}),i.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:i.map(J=>s.jsxs(Oe,{variant:"outline",className:"gap-1 text-xs",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:J.color||"#6366f1"}}),J.name,s.jsx("button",{onClick:()=>x(J.id),className:"ml-1 text-destructive hover:text-destructive/80",children:s.jsx(za,{className:"h-3 w-3"})})]},J.id))}),s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"text-[10px] min-w-[50px]",children:"Actif"}),s.jsx(ie,{className:"text-[10px] min-w-[130px]",children:"Client"}),s.jsx(ie,{className:"text-[10px] min-w-[80px]",children:"Pays"}),s.jsx(ie,{className:"text-[10px] min-w-[80px]",children:"Zone Go"}),s.jsx(ie,{className:"text-[10px] min-w-[140px]",children:"Mail contact"}),s.jsx(ie,{className:"text-[10px] min-w-[100px]",children:"Pricing"}),s.jsx(ie,{className:"text-[10px] min-w-[90px]",children:"Dlai paie."}),s.jsx(ie,{className:"text-[10px] min-w-[80px]",children:"Livraison"}),s.jsx(ie,{className:"text-[10px] min-w-[80px]",children:"Frais liv."}),s.jsx(ie,{className:"text-[10px] min-w-[60px]",children:"MOQ"}),dg.map(J=>s.jsxs(ie,{className:"text-[10px] text-right min-w-[80px] bg-accent/20",children:["CA ",J]},J)),s.jsx(ie,{className:"text-[10px] min-w-[90px]",children:"Catgorie"}),s.jsx(ie,{className:"text-[10px] min-w-[70px]",children:"Actions"})]})}),s.jsxs(Kt,{children:[e.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:15,className:"text-center text-muted-foreground py-8 text-sm",children:"Aucun client  Ajoutez-en ou importez via copier-coller"})}),Ze.map(({category:J,clients:ce})=>{if(ce.length===0)return null;const pe=P.has(J.id);return[Z(J,ce.length),...pe?[]:ce.map(F)]}),Pe.length>0&&s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx(Se,{className:"bg-muted/20",children:s.jsx(H,{colSpan:15,className:"py-2",children:s.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:["Sans catgorie (",Pe.length,")"]})})}),Pe.map(F)]})]})]})}),s.jsx(QNe,{open:_,onOpenChange:j,onImport:c}),s.jsx(_r,{open:k,onOpenChange:N,children:s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsx(xr,{children:"Nouveau Client"})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsx(be,{placeholder:"Nom de l'entreprise *",value:V.company_name,onChange:J=>K(ce=>({...ce,company_name:J.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(be,{placeholder:"Pays",value:V.country,onChange:J=>K(ce=>({...ce,country:J.target.value}))}),s.jsx(be,{placeholder:"Zone gographique",value:V.geographic_zone,onChange:J=>K(ce=>({...ce,geographic_zone:J.target.value}))})]}),s.jsx(be,{placeholder:"Email contact",value:V.contact_email,onChange:J=>K(ce=>({...ce,contact_email:J.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(lt,{value:V.pricing_rule,onValueChange:J=>K(ce=>({...ce,pricing_rule:J})),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Pricing rule"})}),s.jsx(st,{children:U.map(J=>s.jsx(Be,{value:J.name,children:J.name},J.id))})]}),s.jsxs(lt,{value:V.category_id,onValueChange:J=>K(ce=>({...ce,category_id:J})),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Catgorie"})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Sans catgorie"}),i.map(J=>s.jsx(Be,{value:J.id,children:J.name},J.id))]})]})]}),s.jsx(be,{placeholder:"MOQ",value:V.moq,onChange:J=>K(ce=>({...ce,moq:J.target.value}))})]}),s.jsxs(wd,{children:[s.jsx(ae,{variant:"outline",onClick:()=>N(!1),children:"Annuler"}),s.jsx(ae,{onClick:D,disabled:!V.company_name.trim(),children:"Crer"})]})]})}),s.jsx(_r,{open:L,onOpenChange:B,children:s.jsxs(vr,{className:"max-w-sm",children:[s.jsx(yr,{children:s.jsx(xr,{children:"Nouvelle catgorie"})}),s.jsx(be,{placeholder:"Nom de la catgorie",value:$,onChange:J=>M(J.target.value)}),s.jsxs(wd,{children:[s.jsx(ae,{variant:"outline",onClick:()=>B(!1),children:"Annuler"}),s.jsx(ae,{onClick:async()=>{$.trim()&&(await v($.trim()),M(""),B(!1))},disabled:!$.trim(),children:"Crer"})]})]})}),s.jsx(Ty,{open:!!z,onOpenChange:J=>!J&&re(null),children:s.jsxs($m,{children:[s.jsxs(Im,{children:[s.jsx(Lm,{children:"Supprimer ce client ?"}),s.jsxs(Bm,{children:["Cette action est irrversible. Le client  ",(oe=e.find(J=>J.id===z))==null?void 0:oe.company_name,"  et toutes ses donnes associes seront dfinitivement supprims."]})]}),s.jsxs(Dm,{children:[s.jsx(zm,{children:"Annuler"}),s.jsx(Fm,{onClick:ge,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})})]})}function rPe(){const e=w5(),t=e.clients.length,r=e.clients.filter(i=>i.is_active).length,n=new Date().getFullYear(),a=e.projections.filter(i=>i.year===n).reduce((i,o)=>i+Number(o.projected_revenue||0),0);return e.isLoading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM  Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, catgories et suivi commercial"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsx(Pt,{label:"Total Clients",value:t}),s.jsx(Pt,{label:"Clients Actifs",value:r,trend:r>0?"up":"neutral"}),s.jsx(Pt,{label:`CA ${n}`,value:`${(a/1e3).toFixed(0)} k`}),s.jsx(Pt,{label:"Catgories",value:e.categories.length})]}),s.jsx(tPe,{clients:e.clients,projections:e.projections,deliveryFeeTiers:e.deliveryFeeTiers,paymentTermsOptions:e.paymentTermsOptions,deliveryMethods:e.deliveryMethods,categories:e.categories,onUpsertClient:e.upsertClient,onDeleteClient:e.deleteClient,onBulkImport:e.bulkImportClients,onUpsertProjection:e.upsertProjection,getClientProjections:e.getClientProjections,onAddDeliveryFee:e.addDeliveryFeeTier,onDeleteDeliveryFee:e.deleteDeliveryFeeTier,onAddPaymentTerm:e.addPaymentTerm,onDeletePaymentTerm:e.deletePaymentTerm,onAddDeliveryMethod:e.addDeliveryMethod,onDeleteDeliveryMethod:e.deleteDeliveryMethod,onAddCategory:e.addCategory,onDeleteCategory:e.deleteCategory,onUpdateCategory:e.updateCategory})]})}var L0="Popover",[Yz,_2e]=Yn(L0,[Ld]),mp=Ld(),[nPe,il]=Yz(L0),Xz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=mp(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:L0});return s.jsx(cC,{...l,children:s.jsx(nPe,{scope:t,contentId:qi(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};Xz.displayName=L0;var Zz="PopoverAnchor",aPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(Zz,r),i=mp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(yx,{...i,...n,ref:t})});aPe.displayName=Zz;var Qz="PopoverTrigger",Jz=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(Qz,r),i=mp(r),o=ft(t,a.triggerRef),l=s.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aU(a.open),...n,ref:o,onClick:Te(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(yx,{asChild:!0,...i,children:l})});Jz.displayName=Qz;var VN="PopoverPortal",[iPe,sPe]=Yz(VN,{forceMount:void 0}),eU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=il(VN,t);return s.jsx(iPe,{scope:t,forceMount:r,children:s.jsx(sa,{present:r||i.open,children:s.jsx(Qm,{asChild:!0,container:a,children:n})})})};eU.displayName=VN;var jd="PopoverContent",tU=w.forwardRef((e,t)=>{const r=sPe(jd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=il(jd,e.__scopePopover);return s.jsx(sa,{present:n||i.open,children:i.modal?s.jsx(lPe,{...a,ref:t}):s.jsx(cPe,{...a,ref:t})})});tU.displayName=jd;var oPe=Xl("PopoverContent.RemoveScroll"),lPe=w.forwardRef((e,t)=>{const r=il(jd,e.__scopePopover),n=w.useRef(null),a=ft(t,n),i=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return AN(o)},[]),s.jsx(E0,{as:oPe,allowPinchZoom:!0,children:s.jsx(rU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),cPe=w.forwardRef((e,t)=>{const r=il(jd,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(rU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=il(jd,r),m=mp(r);return EN(),s.jsx(P0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Td,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(uC,{"data-state":aU(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nU="PopoverClose",uPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=il(nU,r);return s.jsx(He.button,{type:"button",...n,ref:t,onClick:Te(e.onClick,()=>a.onOpenChange(!1))})});uPe.displayName=nU;var dPe="PopoverArrow",fPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mp(r);return s.jsx(dC,{...a,...n,ref:t})});fPe.displayName=dPe;function aU(e){return e?"open":"closed"}var hPe=Xz,mPe=Jz,pPe=eU,iU=tU;const sU=hPe,oU=mPe,WN=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(pPe,{children:s.jsx(iU,{ref:a,align:t,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));WN.displayName=iU.displayName;function gPe(){const{computed:e}=ts(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return s.jsx(Ye,{title:"Plan de Trsorerie Mensuel",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return s.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return s.jsx(Ye,{title:`Trsorerie ${n}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),s.jsx("tbody",{children:a.map(i=>s.jsxs("tr",{className:de("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:te(i.totalInflows,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:te(i.totalOutflows,!0)}),s.jsxs("td",{className:de("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",te(i.netCashFlow,!0)]}),s.jsx("td",{className:de("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:te(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const jw={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},_w={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},vPe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function yPe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(jw),d=Array.from({length:n+2},(v,x)=>r+x),f=()=>{l(null),u({...jw,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=v=>{l(v.id);const{id:x,...b}=v;u({...jw,...b}),i(!0)},m=()=>{c.name.trim()&&(t(o?e.map(v=>v.id===o?{...v,...c}:v):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=v=>{t(e.filter(x=>x.id!==v))},g=v=>{if(v.inputMode==="fixed")return v.fixedPaymentAmount||0;const x=v.startDate.year*12+v.startDate.month,_=v.endDate.year*12+v.endDate.month-x;if(_<=0)return 0;if(v.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=v.interestRate;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(v.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=v.interestRate/4;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const j=v.interestRate/12;return j===0?v.principalAmount/_:v.principalAmount*j*Math.pow(1+j,_)/(Math.pow(1+j,_)-1)},p=v=>{const x=g(v),b=v.startDate.year*12+v.startDate.month,j=v.endDate.year*12+v.endDate.month-b;return j<=0?0:v.frequency==="annual"?x*Math.max(1,Math.round(j/12)):v.frequency==="quarterly"?x*Math.max(1,Math.round(j/3)):x*j};return s.jsxs(s.Fragment,{children:[s.jsx(Ye,{title:"Gestion des Prts",action:s.jsxs(ae,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ZW,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun prt configur"}),s.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Mode"}),s.jsx(ie,{className:"text-right",children:"Capital"}),s.jsx(ie,{className:"text-right",children:"Taux"}),s.jsx(ie,{children:"Frquence"}),s.jsx(ie,{children:"Priode"}),s.jsx(ie,{className:"text-right",children:"chance"}),s.jsx(ie,{className:"text-right",children:"Cot Total"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:e.map(v=>{const x=g(v),b=p(v);return s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium",children:v.name}),s.jsx(H,{children:s.jsx(Oe,{variant:"outline",className:"text-xs",children:v.inputMode==="fixed"?s.jsxs(s.Fragment,{children:[s.jsx(Ck,{className:"h-3 w-3 mr-1"}),"Fixe"]}):s.jsxs(s.Fragment,{children:[s.jsx(ov,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),s.jsx(H,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?te(v.principalAmount,!0):"-"}),s.jsx(H,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?`${(v.interestRate*100).toFixed(1)}%`:"-"}),s.jsx(H,{children:s.jsx(Oe,{variant:"secondary",className:"text-xs",children:_w[v.frequency]})}),s.jsxs(H,{className:"text-xs",children:[Pl[v.startDate.month].slice(0,3)," ",v.startDate.year,"  ",Pl[v.endDate.month].slice(0,3)," ",v.endDate.year]}),s.jsxs(H,{className:"text-right font-mono-numbers font-medium",children:[te(x),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:vPe[v.frequency]})]}),s.jsx(H,{className:"text-right font-mono-numbers text-muted-foreground",children:te(b,!0)}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>h(v),children:s.jsx(hx,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(v.id),children:s.jsx(lr,{className:"h-3 w-3"})})]})})]},v.id)})})]})})}),s.jsx(_r,{open:a,onOpenChange:i,children:s.jsxs(vr,{className:"max-w-lg",children:[s.jsx(yr,{children:s.jsx(xr,{children:o?"Modifier le Prt":"Nouveau Prt"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Nom du prt"}),s.jsx(be,{value:c.name,onChange:v=>u(x=>({...x,name:v.target.value})),placeholder:"Ex: BPI Innovation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Mode de saisie"}),s.jsx(Ni,{value:c.inputMode,onValueChange:v=>u(x=>({...x,inputMode:v})),children:s.jsxs(qa,{className:"w-full",children:[s.jsxs(Ot,{value:"calculated",className:"flex-1",children:[s.jsx(ov,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),s.jsxs(Ot,{value:"fixed",className:"flex-1",children:[s.jsx(Ck,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Montant emprunt ()"}),s.jsx(be,{type:"number",value:c.principalAmount,onChange:v=>u(x=>({...x,principalAmount:Number(v.target.value)}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Taux d'intrt annuel (%)"}),s.jsx(be,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:v=>u(x=>({...x,interestRate:Number(v.target.value)/100}))})]})]}),c.inputMode==="fixed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Montant de l'chance ()"}),s.jsx(be,{type:"number",value:c.fixedPaymentAmount||0,onChange:v=>u(x=>({...x,fixedPaymentAmount:Number(v.target.value)})),placeholder:"Montant fixe par priode"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",_w[c.frequency].toLowerCase(),")."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Frquence des chances"}),s.jsxs(lt,{value:c.frequency,onValueChange:v=>u(x=>({...x,frequency:v})),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"monthly",children:"Mensuel"}),s.jsx(Be,{value:"quarterly",children:"Trimestriel"}),s.jsx(Be,{value:"annual",children:"Annuel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Date de dbut"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:c.startDate.month.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,month:Number(v)}})),children:[s.jsx(it,{className:"flex-1",children:s.jsx(ct,{})}),s.jsx(st,{children:Pl.map((v,x)=>s.jsx(Be,{value:x.toString(),children:v.slice(0,3)},x))})]}),s.jsxs(lt,{value:c.startDate.year.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,year:Number(v)}})),children:[s.jsx(it,{className:"w-24",children:s.jsx(ct,{})}),s.jsx(st,{children:d.map(v=>s.jsx(Be,{value:v.toString(),children:v},v))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Date de fin"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:c.endDate.month.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,month:Number(v)}})),children:[s.jsx(it,{className:"flex-1",children:s.jsx(ct,{})}),s.jsx(st,{children:Pl.map((v,x)=>s.jsx(Be,{value:x.toString(),children:v.slice(0,3)},x))})]}),s.jsxs(lt,{value:c.endDate.year.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,year:Number(v)}})),children:[s.jsx(it,{className:"w-24",children:s.jsx(ct,{})}),s.jsx(st,{children:d.map(v=>s.jsx(Be,{value:v.toString(),children:v},v))})]})]})]})]}),c.name.trim()&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[s.jsx("div",{className:"font-medium",children:"Aperu"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["chance ",_w[c.frequency].toLowerCase()," :"]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:te(g({id:"",...c}))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),s.jsx("span",{className:"font-mono-numbers",children:te(p({id:"",...c}),!0)})]})]})]}),s.jsxs(wd,{children:[s.jsx(ae,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),s.jsx(ae,{onClick:m,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function xPe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(f,h)=>n+h),o=w.useMemo(()=>{const f=new Map;return e.forEach(h=>{const m=f.get(h.productId)||[];m.push(h),f.set(h.productId,m)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const m=e.filter(v=>v.productId===f.id).reduce((v,x)=>v+x.percentageOfTotal,0),y=Math.max(0,100-m),g=Math.min(y,25),p={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:g,amount:f.devCost*g/100};t([...e,p])},u=(f,h)=>{t(e.map(m=>{if(m.id!==f)return m;const y={...m,...h},g=r.find(p=>p.id===y.productId);return g&&(y.amount=g.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return s.jsx(Ye,{title:"Dblocage CAPEX Produits",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Zl,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):s.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=o.get(f.id)||[],m=h.reduce((y,g)=>y+g.percentageOfTotal,0);return h.reduce((y,g)=>y+g.amount,0),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",te(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:m===100?"default":"secondary",children:[m,"% planifi"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:m>=100,children:[s.jsx(er,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Mois"}),s.jsx(ie,{children:"Anne"}),s.jsx(ie,{className:"text-right",children:"% du total"}),s.jsx(ie,{className:"text-right",children:"Montant"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:h.map(y=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsxs(lt,{value:y.month.toString(),onValueChange:g=>u(y.id,{month:Number(g)}),children:[s.jsx(it,{className:"h-8 w-28",children:s.jsx(ct,{})}),s.jsx(st,{children:Pl.map((g,p)=>s.jsx(Be,{value:p.toString(),children:g},p))})]})}),s.jsx(H,{children:s.jsxs(lt,{value:y.year.toString(),onValueChange:g=>u(y.id,{year:Number(g)}),children:[s.jsx(it,{className:"h-8 w-20",children:s.jsx(ct,{})}),s.jsx(st,{children:i.map(g=>s.jsx(Be,{value:g.toString(),children:g},g))})]})}),s.jsx(H,{className:"text-right",children:s.jsx(be,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:g=>u(y.id,{percentageOfTotal:Number(g.target.value)})})}),s.jsx(H,{className:"text-right font-mono-numbers font-medium",children:te(y.amount,!0)}),s.jsx(H,{children:s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:s.jsx(lr,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}var B0="Checkbox",[bPe,S2e]=Yn(B0),[wPe,HN]=bPe(B0);function jPe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=ia({prop:r,defaultProp:a??!1,onChange:c,caller:B0}),[y,g]=w.useState(null),[p,v]=w.useState(null),x=w.useRef(!1),b=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:$o(a)?!1:a,isFormControl:b,bubbleInput:p,setBubbleInput:v};return s.jsx(wPe,{scope:t,..._,children:_Pe(f)?f(_):n})}var lU="CheckboxTrigger",cU=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=HN(lU,e),g=ft(a,d),p=w.useRef(c);return w.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>f(p.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,f]),s.jsx(He.button,{type:"button",role:"checkbox","aria-checked":$o(c)?"mixed":c,"aria-required":u,"data-state":mU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Te(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Te(r,v=>{f(x=>$o(x)?!0:!x),y&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});cU.displayName=lU;var qN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(jPe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(cU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(hU,{__scopeCheckbox:r})]})})});qN.displayName=B0;var uU="CheckboxIndicator",dU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=HN(uU,r);return s.jsx(sa,{present:n||$o(i.checked)||i.checked===!0,children:s.jsx(He.span,{"data-state":mU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});dU.displayName=uU;var fU="CheckboxBubbleInput",hU=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=HN(fU,e),y=ft(r,m),g=Px(i),p=vx(n);w.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(g!==i&&j){const C=new Event("click",{bubbles:S});x.indeterminate=$o(i),j.call(x,$o(i)?!1:i),x.dispatchEvent(C)}},[h,g,i,a]);const v=w.useRef($o(i)?!1:i);return s.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hU.displayName=fU;function _Pe(e){return typeof e=="function"}function $o(e){return e==="indeterminate"}function mU(e){return $o(e)?"indeterminate":e?"checked":"unchecked"}const xi=w.forwardRef(({className:e,...t},r)=>s.jsx(qN,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(dU,{className:de("flex items-center justify-center text-current"),children:s.jsx(Ao,{className:"h-4 w-4"})})}));xi.displayName=qN.displayName;const fg=[{key:"ca",name:"CA",color:"hsl(150, 60%, 40%)",type:"bar",defaultVisible:!1},{key:"cogs",name:"Achats matire",color:"hsl(38, 92%, 50%)",type:"bar",defaultVisible:!0},{key:"payroll",name:"Masse salariale",color:"hsl(210, 70%, 50%)",type:"bar",defaultVisible:!0},{key:"opex",name:"OPEX",color:"hsl(280, 60%, 50%)",type:"bar",defaultVisible:!0},{key:"capex",name:"CAPEX",color:"hsl(0, 0%, 45%)",type:"bar",defaultVisible:!0},{key:"loans",name:"chances prts",color:"hsl(0, 85%, 50%)",type:"bar",defaultVisible:!0},{key:"tresorerie",name:"Trsorerie",color:"hsl(150, 60%, 40%)",type:"line",defaultVisible:!0},{key:"cashFlow",name:"Cash Flow",color:"hsl(210, 90%, 55%)",type:"line",defaultVisible:!1}];function SPe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),[l,c]=w.useState(()=>new Set(fg.filter(p=>p.defaultVisible).map(p=>p.key))),u=Array.from({length:r},(p,v)=>t+v),d=p=>{c(v=>{const x=new Set(v);return x.has(p)?x.delete(p):x.add(p),x})},f=w.useMemo(()=>{const p=zd(e.months);return u.map(v=>{const x=p.get(v);if(!x)return{label:v.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const _=e.months.filter(S=>S.year===v).reduce((S,C)=>S+C.capexPayments,0),j=x.loanPayments;return{label:v.toString(),ca:x.revenue/1e3,cogs:x.cogs/1e3,payroll:x.payroll/1e3,opex:x.opex/1e3,capex:_/1e3,loans:j/1e3,tresorerie:x.treasuryEnd/1e3,cashFlow:x.netCashFlow/1e3}})},[e,u]),h=w.useMemo(()=>e.months.filter(p=>p.year===i).map(p=>({label:p.monthName.slice(0,3),ca:p.revenue/1e3,cogs:p.cogs/1e3,payroll:p.payroll/1e3,opex:p.opex/1e3,capex:p.capexPayments/1e3,loans:p.loanPayments/1e3,tresorerie:p.treasuryEnd/1e3,cashFlow:p.netCashFlow/1e3})),[e,i]),m=n==="annual"?h:f,y=fg.filter(p=>p.type==="bar"&&l.has(p.key)),g=fg.filter(p=>p.type==="line"&&l.has(p.key));return s.jsx(Ye,{title:"Suivi de Trsorerie Dtaill",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(sU,{children:[s.jsx(oU,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Bu,{className:"h-3.5 w-3.5 mr-1"}),"Sries"]})}),s.jsxs(WN,{className:"w-56",align:"end",children:[s.jsx("p",{className:"text-xs font-medium mb-2",children:"Sries affiches"}),s.jsx("div",{className:"space-y-2",children:fg.map(p=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xi,{id:`series-${p.key}`,checked:l.has(p.key),onCheckedChange:()=>d(p.key)}),s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:p.color}}),s.jsx(Ne,{htmlFor:`series-${p.key}`,className:"text-xs cursor-pointer",children:p.name})]},p.key))})]})]}),s.jsxs(lt,{value:n,onValueChange:p=>a(p),children:[s.jsx(it,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"full-period",children:"Toute la priode"}),s.jsx(Be,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&s.jsxs(lt,{value:i.toString(),onValueChange:p=>o(Number(p)),children:[s.jsx(it,{className:"h-8 w-24",children:s.jsx(ct,{})}),s.jsx(st,{children:u.map(p=>s.jsx(Be,{value:p.toString(),children:p},p))})]})]}),children:s.jsx("div",{className:"h-80",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:m,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"label"}),s.jsx(zt,{tickFormatter:p=>`${p}k`}),s.jsx(St,{formatter:p=>`${p.toFixed(0)}k`}),s.jsx(Dr,{}),y.map(p=>s.jsx(Ut,{dataKey:p.key,name:p.name,stackId:"costs",fill:p.color},p.key)),g.map(p=>s.jsx(Rn,{type:"monotone",dataKey:p.key,name:p.name,stroke:p.color,strokeWidth:3,dot:{r:4}},p.key))]})})})})}function CPe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=w.useMemo(()=>zd(e.months),[e]),u=w.useMemo(()=>e.months.filter(f=>f.year===i),[e,i]),d=(f,h,m,y)=>s.jsxs(Se,{className:m,children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((g,p)=>s.jsx(H,{className:de("text-right font-mono-numbers",y&&g>0&&"text-destructive"),children:y&&g>0?`(${te(g,!0)})`:te(g,!0)},p))]});if(n==="monthly"){const f=u;return s.jsx(Ye,{title:"Dtail Prvisionnel",action:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:n,onValueChange:h=>a(h),children:[s.jsx(it,{className:"h-8 w-36",children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"annual",children:"Par anne"}),s.jsx(Be,{value:"monthly",children:"Par mois"})]})]}),s.jsxs(lt,{value:i.toString(),onValueChange:h=>o(Number(h)),children:[s.jsx(it,{className:"h-8 w-24",children:s.jsx(ct,{})}),s.jsx(st,{children:l.map(h=>s.jsx(Be,{value:h.toString(),children:h},h))})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>s.jsx(ie,{className:"text-right min-w-20",children:Pl[h.month].slice(0,3)},h.month))]})}),s.jsxs(Kt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),s.jsxs(Se,{className:"border-t-2",children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,m)=>s.jsxs(H,{className:de("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",te(h.netCashFlow,!0)]},m))]}),s.jsxs(Se,{className:"bg-primary/5",children:[s.jsx(H,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,m)=>s.jsx(H,{className:de("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:te(h.treasuryEnd,!0)},m))]})]})]})})})}return s.jsx(Ye,{title:"Dtail Prvisionnel",action:s.jsxs(lt,{value:n,onValueChange:f=>a(f),children:[s.jsx(it,{className:"h-8 w-36",children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"annual",children:"Par anne"}),s.jsx(Be,{value:"monthly",children:"Par mois"})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>s.jsx(ie,{className:"text-right min-w-24",children:f},f))]})}),s.jsxs(Kt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(m=>m.year===f).reduce((m,y)=>m+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),s.jsxs(Se,{className:"border-t-2",children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.netCashFlow)||0;return s.jsxs(H,{className:de("text-right font-mono-numbers font-bold",m<0?"text-destructive":"text-green-600"),children:[m>=0?"+":"",te(m,!0)]},f)})]}),s.jsxs(Se,{className:"bg-primary/5",children:[s.jsx(H,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.treasuryEnd)||0;return s.jsx(H,{className:de("text-right font-mono-numbers font-bold",m<0&&"text-destructive"),children:te(m,!0)},f)})]})]})]})})})}const KT=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function GT({title:e,description:t,seasonality:r,onChange:n}){const a=(d,f)=>{n({...r,[d]:f})},i=()=>{n({0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0})},o=Object.values(r).map(d=>1+d),l=o.reduce((d,f)=>d+f,0),c=l>0?o.map(d=>d/l*12):Array(12).fill(1),u=Object.values(r).every(d=>d===0);return s.jsxs(Ye,{title:e,action:s.jsxs("div",{className:"flex items-center gap-2",children:[u&&s.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Rpartition uniforme"}),s.jsxs(ae,{variant:"ghost",size:"sm",onClick:i,disabled:u,children:[s.jsx(sH,{className:"h-3.5 w-3.5 mr-1"}),"Rinitialiser"]})]}),children:[t&&s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-4",children:Array.from({length:12},(d,f)=>f).map(d=>{const f=r[d]||0,m=(c[d]/12*100).toFixed(1);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ne,{className:"text-xs",children:KT[d]}),s.jsxs("span",{className:de("text-xs font-mono-numbers",f>0?"text-[hsl(var(--positive))]":f<0?"text-destructive":"text-muted-foreground"),children:[f>0?"+":"",(f*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[f*100],onValueChange:([y])=>a(d,y/100),min:-80,max:200,step:5}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[" ",m,"% annuel"]})]},d)})}),s.jsx("div",{className:"mt-4 flex gap-0.5 h-8 rounded overflow-hidden",children:c.map((d,f)=>s.jsx("div",{className:"flex items-end justify-center transition-all",style:{flex:d,backgroundColor:`hsl(var(--primary) / ${.3+d/Math.max(...c)*.7})`},children:s.jsx("span",{className:"text-[9px] font-mono-numbers text-primary-foreground/80",children:KT[f]})},f))})]})}function NPe({terms:e,onChange:t}){const r=e.reduce((l,c)=>l+c.percentage,0),n=Math.abs(r-100)<.1,a=()=>{const l=Math.max(0,100-r),c=e.length>0?Math.max(...e.map(u=>u.delayMonths))+1:0;t([...e,{delayMonths:c,percentage:l}])},i=l=>{t(e.filter((c,u)=>u!==l))},o=(l,c,u)=>{const d=e.map((f,h)=>h===l?{...f,[c]:u}:f);t(d)};return s.jsxs(Ye,{title:"Conditions de Paiement Fournisseur",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:n?"default":"destructive",className:"text-xs",children:["Total: ",r.toFixed(0),"%"]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(er,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter chance"]})]}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Dfinissez comment les achats matire sont pays. Chaque ligne indique le dcalage en mois et le pourcentage du montant total."}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune condition configure  paiement comptant par dfaut."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-end",children:[s.jsx(Ne,{className:"text-xs",children:"Dlai (mois)"}),s.jsx(Ne,{className:"text-xs",children:"% du paiement"}),s.jsx("div",{className:"w-8"})]}),e.map((l,c)=>s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"M+"}),s.jsx(be,{type:"number",min:0,max:12,value:l.delayMonths,onChange:u=>o(c,"delayMonths",parseInt(u.target.value)||0),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{type:"number",min:0,max:100,step:5,value:l.percentage,onChange:u=>o(c,"percentage",parseFloat(u.target.value)||0),className:de("h-8 text-sm",!n&&"border-destructive")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(c),children:s.jsx(lr,{className:"h-3.5 w-3.5 text-destructive"})})]},c))]}),!n&&e.length>0&&s.jsxs("p",{className:"text-xs text-destructive mt-3",children:[" Le total doit tre gal  100%. Actuellement : ",r.toFixed(0),"%."]}),e.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Ne,{className:"text-xs mb-2 block",children:"chancier de paiement"}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:e.sort((l,c)=>l.delayMonths-c.delayMonths).map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-primary/60 rounded-t transition-all",style:{height:`${l.percentage/100*48}px`}}),s.jsxs("span",{className:"text-[10px] text-muted-foreground mt-1",children:["M+",l.delayMonths]}),s.jsxs("span",{className:"text-[10px] font-bold font-mono-numbers",children:[l.percentage,"%"]})]},c))})]})]})}const Sw=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],PPe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],kPe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],EPe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function APe(){var k;const{state:e,computed:t,saveAll:r,updateMonthlyTreasuryConfig:n}=ts(),[a,i]=w.useState(()=>{const N=new Set;return Sw.forEach(R=>{R.defaultVisible&&N.add(R.id)}),N}),[o,l]=w.useState("annual"),{startYear:c,durationYears:u}=e.scenarioSettings,d=Array.from({length:u},(N,R)=>c+R),f=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:h}=t,m=w.useMemo(()=>{const N=zd(h.months);return d.map(R=>{const O=N.get(R);if(!O)return{year:R,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const E=t.treasuryProjection.years.find(A=>A.year===R),T=(E==null?void 0:E.capex)||0,P=(E==null?void 0:E.depreciation)||0;return{year:O.year,revenue:O.revenue,cogs:O.cogs,grossMargin:O.grossMargin,payroll:O.payroll,opex:O.opex,capex:T,depreciation:P,ebitda:O.ebitda,operatingResult:O.ebitda-P,cashFlow:O.netCashFlow,treasuryStart:O.treasuryStart,treasuryEnd:O.treasuryEnd,fundingInjection:O.fundingInjection}})},[h,t.treasuryProjection,d]),y=m.map(N=>({year:N.year,tresorerie:N.treasuryEnd/1e3,cashFlow:N.cashFlow/1e3,levee:N.fundingInjection/1e3})),g=m.map(N=>({year:N.year,ca:N.revenue/1e3,margeBrute:N.grossMargin/1e3,ebitda:N.ebitda/1e3,resultat:N.operatingResult/1e3})),p=m[0],v=m[m.length-1],x=m.reduce((N,R)=>N+R.cashFlow,0),b=((k=h.breakEvenMonth)==null?void 0:k.year)||null,_=h.minTreasury,j=N=>{i(R=>{const O=new Set(R);return O.has(N)?O.delete(N):O.add(N),O})},S=Sw.filter(N=>a.has(N.id)),C=(N,R)=>R==="percent"?rn(N):te(N,!0);return s.jsx(as,{tabKey:"previsionnel",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Ni,{value:o,onValueChange:N=>l(N),children:s.jsxs(qa,{children:[s.jsxs(Ot,{value:"annual",className:"flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4"}),"Vue Annuelle"]}),s.jsxs(Ot,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(Ag,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),s.jsxs(Ot,{value:"params",className:"flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),s.jsx(Oe,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":e.revenueMode==="by-channel-global"?"Global Canaux":"Par Client"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:f?"outline":"default",className:"text-xs",children:f?"Leve dsactive":"Leve active"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(configurable dans Scnarios)"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:"outline",className:"text-xs",children:[u," annes  ",S.length," indicateurs actifs"]}),s.jsx(cf,{pageTitle:o==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:o==="monthly"?kPe:PPe,fileName:o==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),s.jsx(qd,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o==="params"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(yPe,{loans:e.monthlyTreasuryConfig.loans,onChange:N=>n({...e.monthlyTreasuryConfig,loans:N}),startYear:c,durationYears:u}),s.jsx(xPe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:N=>n({...e.monthlyTreasuryConfig,capexPayments:N}),products:e.products,startYear:c,durationYears:u})]}):o==="monthly"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(SPe,{projection:h,startYear:c,durationYears:u}),s.jsx(GT,{title:"Saisonnalit du CA",description:"Ajustez la rpartition mensuelle du chiffre d'affaires. Par dfaut, le CA est rparti uniformment (1/12e par mois).",seasonality:e.monthlyTreasuryConfig.revenueSeasonality,onChange:N=>n({...e.monthlyTreasuryConfig,revenueSeasonality:N})}),s.jsx(GT,{title:"Saisonnalit des Achats Matire",description:"Modulation mensuelle des achats. Les achats peuvent suivre la mme saisonnalit que le CA ou tre dcals (anticipation, stockage).",seasonality:e.monthlyTreasuryConfig.cogsSeasonality,onChange:N=>n({...e.monthlyTreasuryConfig,cogsSeasonality:N})}),s.jsx(NPe,{terms:e.monthlyTreasuryConfig.cogsPaymentTerms||[{delayMonths:0,percentage:100}],onChange:N=>n({...e.monthlyTreasuryConfig,cogsPaymentTerms:N})}),s.jsxs(Ye,{title:"Vrification Cohrence Annuelle",action:s.jsx(Oe,{variant:"outline",className:"text-xs",children:"Plan Produit vs Trsorerie"}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Vrifiez que la somme annuelle du CA et des achats matire correspond aux donnes du Plan Produit / moteur financier."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart CA"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart Achats"})]})}),s.jsx("tbody",{children:d.map(N=>{const R=t.revenueByYear.find(z=>z.year===N),O=(R==null?void 0:R.revenue)||0,E=(R==null?void 0:R.cogs)||0,T=h.months.filter(z=>z.year===N),P=T.reduce((z,re)=>z+re.revenue,0),A=T.reduce((z,re)=>z+re.cogs,0),$=P-O,M=A-E,L=Math.abs($)<1,B=Math.abs(M)<E*.01+1;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-1.5 px-2 font-medium",children:N}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:te(O,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:te(P,!0)}),s.jsx("td",{className:de("py-1.5 px-2 text-right font-mono-numbers",L?"text-[hsl(var(--positive))]":"text-destructive"),children:L?"":te($,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:te(E,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:te(A,!0)}),s.jsx("td",{className:de("py-1.5 px-2 text-right font-mono-numbers",B?"text-[hsl(var(--positive))]":"text-amber-600"),children:B?"":te(M,!0)})]},N)})})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Note : les carts sur les achats peuvent tre normaux si des conditions de paiement avec dlais sont configures (report entre annes)."})]}),s.jsx(CPe,{projection:h,startYear:c,durationYears:u}),s.jsx(gPe,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[s.jsx(Pt,{label:`CA ${(v==null?void 0:v.year)||""}`,value:te((v==null?void 0:v.revenue)||0,!0),subValue:`vs ${te((p==null?void 0:p.revenue)||0,!0)} en ${p==null?void 0:p.year}`,trend:"up"}),s.jsx(Pt,{label:"Cash Flow Cumul",value:te(x,!0),subValue:`${p==null?void 0:p.year}-${v==null?void 0:v.year}`,trend:x>=0?"up":"down"}),s.jsx(Pt,{label:"Trsorerie Min",value:te(_,!0),subValue:"Point bas projet",trend:_>=0?"neutral":"down"}),s.jsx(Pt,{label:"Break-even",value:b?b.toString():"N/A",subValue:"Cash flow positif"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ye,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:s.jsx("div",{className:"h-72",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:y,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:N=>`${N}k`}),s.jsx(St,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Ut,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),s.jsx(Ye,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:s.jsx("div",{className:"h-72",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:y,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:N=>`${N}k`}),s.jsx(St,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Ut,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),s.jsx(Ye,{title:"Soldes Intermdiaires de Gestion",children:s.jsx("div",{className:"h-72",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(EF,{data:g,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:N=>`${N}k`}),s.jsx(St,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Rn,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),s.jsxs(Ye,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:s.jsxs(sU,{children:[s.jsx(oU,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),s.jsx(WN,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(EPe).map(([N,R])=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:R}),Sw.filter(O=>O.category===N).map(O=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(Ne,{htmlFor:O.id,className:"text-sm cursor-pointer",children:O.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:O.description})]}),s.jsx(D0,{id:O.id,checked:a.has(O.id),onCheckedChange:()=>j(O.id)})]},O.id))]},N))]})})]}),children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),d.map(N=>s.jsx(ie,{className:"text-right min-w-24",children:N},N)),s.jsx(ie,{className:"text-right min-w-28",children:"volution"})]})}),s.jsx(Kt,{children:S.map(N=>{const R=m.map(P=>N.calculate(P)),O=R[0]||0,E=R[R.length-1]||0,T=O!==0?(E-O)/Math.abs(O):0;return s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-medium",children:s.jsxs("div",{children:[s.jsx("span",{children:N.name}),s.jsx("span",{className:"block text-xs text-muted-foreground",children:N.description})]})}),R.map((P,A)=>s.jsx(H,{className:de("text-right font-mono-numbers",N.format==="currency"&&P<0&&"text-destructive"),children:C(P,N.format)},A)),s.jsx(H,{className:"text-right",children:s.jsxs("div",{className:de("flex items-center justify-end gap-1",T>0?"text-green-600":T<0?"text-destructive":"text-muted-foreground"),children:[T>0?s.jsx(Bo,{className:"h-3 w-3"}):T<0?s.jsx(ah,{className:"h-3 w-3"}):null,s.jsxs("span",{className:"font-mono-numbers text-sm",children:[T>0?"+":"",rn(T)]})]})})]},N.id)})})]})}),S.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(qI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun indicateur slectionn"}),s.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),s.jsx(Ye,{title:"Compte de Rsultat Simplifi",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(N=>s.jsx(ie,{className:"text-right min-w-24",children:N},N))]})}),s.jsxs(Kt,{children:[s.jsxs(Se,{className:"bg-muted/30",children:[s.jsx(H,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),m.map((N,R)=>s.jsx(H,{className:"text-right font-mono-numbers font-medium",children:te(N.revenue,!0)},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",te(N.cogs,!0),")"]},R))]}),s.jsxs(Se,{className:"border-t-2",children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),m.map((N,R)=>s.jsx(H,{className:"text-right font-mono-numbers font-medium",children:te(N.grossMargin,!0)},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",te(N.payroll,!0),")"]},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",te(N.opex,!0),")"]},R))]}),s.jsxs(Se,{className:"border-t-2 bg-muted/30",children:[s.jsx(H,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),m.map((N,R)=>s.jsx(H,{className:de("text-right font-mono-numbers font-medium",N.ebitda<0&&"text-destructive"),children:te(N.ebitda,!0)},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",te(N.depreciation,!0),")"]},R))]}),s.jsxs(Se,{className:"border-t-2 bg-primary/5",children:[s.jsx(H,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),m.map((N,R)=>s.jsx(H,{className:de("text-right font-mono-numbers font-bold",N.operatingResult<0&&"text-destructive"),children:te(N.operatingResult,!0)},R))]})]})]})})}),s.jsx(Ye,{title:"Tableau des Flux de Trsorerie",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"sticky left-0 bg-background z-10",children:"Flux"}),d.map(N=>s.jsx(ie,{className:"text-right min-w-24",children:N},N))]})}),s.jsxs(Kt,{children:[s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),m.map((N,R)=>s.jsx(H,{className:"text-right font-mono-numbers",children:te(N.treasuryStart,!0)},R))]}),s.jsxs(Se,{className:"bg-muted/30",children:[s.jsx(H,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-green-600",children:["+",te(N.revenue,!0)]},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),m.map((N,R)=>s.jsxs(H,{className:"text-right font-mono-numbers text-destructive",children:["-",te(N.cogs+N.payroll+N.opex,!0)]},R))]}),s.jsxs(Se,{children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),m.map((N,R)=>s.jsx(H,{className:"text-right font-mono-numbers text-destructive",children:N.capex>0?`-${te(N.capex,!0)}`:"-"},R))]}),s.jsxs(Se,{className:"border-t",children:[s.jsx(H,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),m.map((N,R)=>s.jsxs(H,{className:de("text-right font-mono-numbers font-medium",N.cashFlow<0?"text-destructive":"text-green-600"),children:[N.cashFlow>=0?"+":"",te(N.cashFlow,!0)]},R))]}),s.jsxs(Se,{className:"bg-green-50 dark:bg-green-950/20",children:[s.jsx(H,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),m.map((N,R)=>s.jsx(H,{className:"text-right font-mono-numbers text-green-600",children:N.fundingInjection>0?`+${te(N.fundingInjection,!0)}`:"-"},R))]}),s.jsxs(Se,{className:"border-t-2 bg-primary/5",children:[s.jsx(H,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),m.map((N,R)=>s.jsx(H,{className:de("text-right font-mono-numbers font-bold",N.treasuryEnd<0&&"text-destructive"),children:te(N.treasuryEnd,!0)},R))]})]})]})})})]})]})})}const YT=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function OPe(){const{state:e}=ts(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return s.jsx(Ye,{title:"Allocation des Fonds",children:s.jsx("div",{className:"space-y-3",children:YT.map(n=>{const a=1/YT.length,i=r*a;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:n.label}),s.jsx("span",{className:"font-mono-numbers",children:te(i,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function TPe(){var O,E,T;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=ts(),{startYear:a,durationYears:i,initialCash:o}=e.scenarioSettings,l=Array.from({length:i},(P,A)=>a+A),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{monthlyTreasuryProjection:u}=t,d=w.useMemo(()=>{const P=zd(u.months);return l.map(A=>{const $=P.get(A);return $?{year:$.year,revenue:$.revenue,totalCosts:$.cogs+$.payroll+$.opex,cashFlow:$.netCashFlow,treasuryStart:$.treasuryStart,treasuryEnd:$.treasuryEnd,fundingInjection:$.fundingInjection,minTreasuryInYear:$.treasuryEnd}:{year:A,revenue:0,totalCosts:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0,minTreasuryInYear:0}})},[u,l]),f=c.amount,h=c.preMoneyValuation,m=h+f,y=f/m,g=u.minTreasury,p=Math.max(0,-g),v=p>0?f/p:1,x=((O=u.breakEvenMonth)==null?void 0:O.year)||null,b=d.map(P=>({year:P.year,revenue:P.revenue/1e3,costs:P.totalCosts/1e3,cashFlow:P.cashFlow/1e3,treasury:P.treasuryEnd/1e3,isNegative:P.treasuryEnd<0})),_=P=>{r([{...c,amount:P}])},j=P=>{r([{...c,preMoneyValuation:P}])},S=P=>{r([{...c,year:parseInt(P)}])},C=P=>{r([{...c,quarter:P}])},k=P=>{n({initialCash:P})},N=g<0,R=((E=u.breakEvenMonth)==null?void 0:E.year)||((T=d.find(P=>P.treasuryEnd<0))==null?void 0:T.year);return s.jsx(as,{tabKey:"funding",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),N&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Fu,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",te(g,!0)," en ",R]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(Pt,{label:"Besoin Calcul",value:te(p,!0),subValue:"max(0, -trso min)",trend:p>0?"down":void 0}),s.jsx(Pt,{label:"Montant  Lever",value:te(f,!0),subValue:"Ajustable ci-dessous"}),s.jsx(Pt,{label:"Pre-Money",value:te(h,!0),subValue:"Valorisation"}),s.jsx(Pt,{label:"Post-Money",value:te(m,!0),subValue:"Aprs leve"}),s.jsx(Pt,{label:"Dilution",value:rn(y),subValue:"Sur le round"})]}),s.jsx(Ye,{title:"Calibrage de la Leve",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:te(o,!0)})]}),s.jsx(zr,{value:[o/1e3],onValueChange:([P])=>k(P*1e3),min:0,max:500,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"500k"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:te(f,!0)})]}),s.jsx(zr,{value:[f/1e3],onValueChange:([P])=>_(P*1e3),min:0,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5M"})]}),f===0&&s.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:te(h,!0)})]}),s.jsx(zr,{value:[h/1e3],onValueChange:([P])=>j(P*1e3),min:200,max:2e4,step:100}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"200k"}),s.jsx("span",{children:"20M"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(nh,{className:"h-4 w-4"}),"Anne"]}),s.jsxs(lt,{value:c.year.toString(),onValueChange:S,children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:l.map(P=>s.jsx(Be,{value:P.toString(),children:P},P))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),s.jsxs(lt,{value:c.quarter,onValueChange:C,children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:XK.map(P=>s.jsx(Be,{value:P,children:P},P))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),s.jsx(Oe,{variant:"secondary",children:"Auto"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:te(p,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),s.jsx("span",{className:"font-mono-numbers",children:rn(Math.min(v,2))})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:de("h-2 rounded-full transition-all",v>=1?"bg-accent":v>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(v*100,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),s.jsx("div",{className:"text-lg font-bold",children:x||"N/A"})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),s.jsx("div",{className:de("text-lg font-bold font-mono-numbers",g<0?"text-destructive":""),children:te(g,!0)})]})]})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ye,{title:"Projection Cash Flow & Trsorerie",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:b,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:P=>`${P}k`}),s.jsx(St,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(Rn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),s.jsx(OPe,{})]}),s.jsx(Ye,{title:"Projection Dtaille",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),s.jsx("tbody",{children:d.map(P=>s.jsxs("tr",{className:de("border-b",P.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:P.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(P.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(P.totalCosts,!0)}),s.jsxs("td",{className:de("py-2 px-3 text-right font-mono-numbers font-medium",P.cashFlow>=0?"text-accent":"text-destructive"),children:[P.cashFlow>=0?"+":"",te(P.cashFlow,!0)]}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:P.fundingInjection>0?`+${te(P.fundingInjection,!0)}`:"-"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(P.treasuryStart,!0)}),s.jsx("td",{className:de("py-2 px-3 text-right font-mono-numbers font-bold",P.treasuryEnd<0?"text-destructive":""),children:te(P.treasuryEnd,!0)})]},P.year))})]})})})]})})}const RPe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function MPe(){var O,E,T;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:o,saveAll:l}=ts();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:d}=e.scenarioSettings,f=e.fundingRounds[e.fundingRounds.length-1],h=(f==null?void 0:f.amount)||0,m=Array.from({length:u},(P,A)=>c+A),y=(P,A)=>{const $=e.scenarioConfigs[P];if(e.revenueMode==="by-channel-global")return Kh(e.globalRevenueConfig,A)*(1+$.volumeAdjustment)*(1+$.priceAdjustment);let M=0;return e.products.forEach(L=>{const B=L.volumesByChannel;if(B){const z=L.priceHT||L.priceTTC_B2C/(1+(L.vatRate||.2)),re=L.coef_shop||1.6,ee=L.coef_dist||1.3,se=L.coef_oem||1.4,U=z/re/ee,V=L.unitCost*se,K=Math.round((B.B2C[A]||0)*(1+$.volumeAdjustment)),q=Math.round((B.B2B[A]||0)*(1+$.volumeAdjustment)),me=Math.round((B.OEM[A]||0)*(1+$.volumeAdjustment));M+=K*z*(1+$.priceAdjustment),M+=q*U*(1+$.priceAdjustment),M+=me*V*(1+$.priceAdjustment)}else if(L.volumesByYear[A]){const z=Math.round(L.volumesByYear[A]*(1+$.volumeAdjustment));M+=z*L.priceHT*(1+$.priceAdjustment)}}),M},g=P=>{const A=m.map(L=>y(P,L)),$=A[A.length-1]||0,M=A[0]||0;return{revenueLastYear:$,totalRevenue:A.reduce((L,B)=>L+B,0),cagr:$>0&&M>0&&u>1?Math.pow($/M,1/(u-1))-1:0}},p=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],v=m.map(P=>{const A={year:P};return p.forEach($=>{A[$.id]=y($.id,P)/1e3}),A}),x=p.map(P=>{const A=g(P.id);return{...P,...A,config:e.scenarioConfigs[P.id]}}),b=P=>{a({startYear:P})},_=P=>{a({durationYears:P})},j=P=>{a({initialCash:P})},S=P=>{if(f){const A=e.fundingRounds.map($=>$.id===f.id?{...$,amount:P}:$);i(A)}},{monthlyTreasuryProjection:C}=t,k=w.useMemo(()=>{const P=zd(C.months);return m.map(A=>{const $=P.get(A);return $?{year:$.year,revenue:$.revenue/1e3,cogs:$.cogs/1e3,payroll:$.payroll/1e3,opex:$.opex/1e3,grossMargin:$.grossMargin/1e3,ebitda:$.ebitda/1e3,cashFlow:$.netCashFlow/1e3,treasury:$.treasuryEnd/1e3}:{year:A,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,m]),N=C.minTreasury/1e3,R=((O=C.breakEvenMonth)==null?void 0:O.year)||"N/A";return s.jsx(as,{tabKey:"scenarios",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":e.revenueMode==="by-channel-global"?"Global Canaux":"Par Client"]}),s.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{pageTitle:"Scnarios",sections:RPe,fileName:"Scenarios"}),s.jsx(qd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Ye,{title:"Paramtres du Scnario",id:"scenario-settings",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nh,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{children:"Anne de dbut"})]}),s.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(P=>s.jsx(ae,{size:"sm",variant:c===P?"default":"outline",onClick:()=>b(P),children:P},P))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XS,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{children:"Dure (annes)"})]}),s.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(P=>s.jsxs(ae,{size:"sm",variant:u===P?"default":"outline",onClick:()=>_(P),children:[P," ans"]},P))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),s.jsxs(Ye,{title:"Paramtres Trsorerie",id:"treasury-params",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[s.jsx(xi,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:P=>o(!P)}),s.jsx(Ne,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),s.jsx(Oe,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Og,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{children:"Trsorerie initiale (T0)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:te(d,!0)})]}),s.jsx(zr,{value:[d/1e3],onValueChange:([P])=>j(P*1e3),min:0,max:1e3,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Bo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{children:"Montant Lev"}),s.jsx(Oe,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:(f==null?void 0:f.name)||"Tour de table"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:te(h,!0)})]}),s.jsx(zr,{value:[h/1e3],onValueChange:([P])=>S(P*1e3),min:100,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"100k"}),s.jsx("span",{children:"5M"})]})]})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[s.jsx(Pt,{label:"Cash Total T0",value:te(d+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),s.jsx(Pt,{label:"Point Bas Trso",value:te(N*1e3,!0),subValue:"Sur la priode",trend:N<0?"down":void 0}),s.jsx(Pt,{label:"Break-even",value:R.toString(),subValue:"Cash flow positif"}),s.jsx(Pt,{label:"Trso Finale",value:te((((E=k[k.length-1])==null?void 0:E.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(P=>s.jsxs("div",{className:de("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===P.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(P.id),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold",children:P.name}),e.activeScenarioId===P.id&&s.jsx(Oe,{children:"Actif"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:te(P.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:rn(P.cagr)})]})]}),s.jsxs("div",{className:"space-y-3",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:de("font-mono-numbers",P.config.volumeAdjustment>0?"text-green-600":P.config.volumeAdjustment<0?"text-destructive":""),children:[P.config.volumeAdjustment>0?"+":"",(P.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(P.config.volumeAdjustment+.5)*100],onValueChange:([A])=>n(P.id,{volumeAdjustment:A/100-.5}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:de("font-mono-numbers",P.config.priceAdjustment>0?"text-green-600":P.config.priceAdjustment<0?"text-destructive":""),children:[P.config.priceAdjustment>0?"+":"",(P.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(P.config.priceAdjustment+.2)*250],onValueChange:([A])=>n(P.id,{priceAdjustment:A/250-.2}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:de("font-mono-numbers",P.config.opexAdjustment<0?"text-green-600":P.config.opexAdjustment>0?"text-destructive":""),children:[P.config.opexAdjustment>0?"+":"",(P.config.opexAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(P.config.opexAdjustment+.3)*166],onValueChange:([A])=>n(P.id,{opexAdjustment:A/166-.3}),min:0,max:100,step:5})]})]})]},P.id))}),s.jsx(Ye,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:s.jsx("div",{className:"h-80",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(EF,{data:v,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:P=>`${P}k`}),s.jsx(St,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Dr,{}),p.map(P=>s.jsx(Rn,{type:"monotone",dataKey:P.id,name:P.name,stroke:P.color,strokeWidth:e.activeScenarioId===P.id?3:1,dot:{fill:P.color}},P.id))]})})})}),s.jsxs(Ye,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",s.jsx(Oe,{variant:"outline",children:(T=p.find(P=>P.id===e.activeScenarioId))==null?void 0:T.name})," avec trso initiale ",te(d,!0),!e.excludeFundingFromTreasury&&` + leve ${te(h,!0)}`," "," ",s.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),s.jsx("div",{className:"h-80",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:k,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:P=>`${P}k`}),s.jsx(St,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),s.jsx(Rn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(P=>s.jsx(Ye,{title:P.name,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:te(P.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:rn(P.cagr)})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:"font-mono-numbers",children:[P.config.volumeAdjustment>0?"+":"",(P.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:"font-mono-numbers",children:[P.config.priceAdjustment>0?"+":"",(P.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:"font-mono-numbers",children:[P.config.opexAdjustment>0?"+":"",(P.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[P.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",P.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",P.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},P.id))})]})})}const Ry=e=>(e.salesB2B||0)+(e.salesB2C||0)+(e.salesOEM||0)||e.revenue,pU=e=>(e.stockVariation||0)+(e.purchasesGoods||0)+(e.transportCosts||0),gU=e=>Ry(e)-pU(e),vU=e=>(e.productionExercice||0)-(e.rawMaterials||0)-(e.subcontracting||0),KN=e=>gU(e)+vU(e),yU=e=>KN(e)-(e.otherPurchases||e.externalCosts||0),xU=e=>yU(e)+(e.operatingSubsidies||0)-(e.taxesAndDuties||0)-e.payroll,bU=e=>xU(e)+(e.otherOperatingIncome||0)-(e.otherOperatingExpenses||0)-e.depreciation,wU=e=>bU(e)+(e.financialIncome||0)-(e.financialExpenses||0),jU=e=>(e.exceptionalIncome||0)-(e.exceptionalExpenses||0),$Pe=e=>wU(e)+jU(e)-(e.employeeParticipation||0)-(e.corporateTax||0),IPe=[{id:"h_ca",label:"CHIFFRE D'AFFAIRE",type:"calculated",calculate:Ry,bold:!0,highlight:!0},{id:"salesB2B",label:"Dont Ventes B2B",type:"input",field:"salesB2B",indent:2},{id:"salesB2C",label:"Dont Ventes B2C",type:"input",field:"salesB2C",indent:2},{id:"salesOEM",label:"Dont Ventes OEM",type:"input",field:"salesOEM",indent:2},{id:"sep1",label:"",type:"separator"},{id:"h_cogs",label:"- Cots d'achat des marchandises vendues",type:"calculated",calculate:pU,bold:!0,sign:"negative"},{id:"stockVariation",label:"Variation de stock",type:"input",field:"stockVariation",indent:2},{id:"purchasesGoods",label:"Achat de marchandises",type:"input",field:"purchasesGoods",indent:2},{id:"transportCosts",label:"Transport de marchandises",type:"input",field:"transportCosts",indent:2},{id:"sep2",label:"",type:"separator"},{id:"margeComm",label:"MARGE COMMERCIALE",type:"calculated",calculate:gU,bold:!0,highlight:!0},{id:"sep3",label:"",type:"separator"},{id:"prodExercice",label:"PRODUCTION DE L'EXERCICE",type:"input",field:"productionExercice"},{id:"rawMaterials",label:"- MP, appro. Consomms",type:"input",field:"rawMaterials",indent:1},{id:"subcontracting",label:"- Sous-traitance directe",type:"input",field:"subcontracting",indent:1},{id:"margeProd",label:"MARGE BRUTE DE PRODUCTION",type:"calculated",calculate:vU,bold:!0},{id:"sep4",label:"",type:"separator"},{id:"margeBrute",label:"MARGE (BRUTE GLOBALE) TOTALE",type:"calculated",calculate:KN,bold:!0,highlight:!0},{id:"otherPurchases",label:"- Autres achats & Charges externes",type:"input",field:"otherPurchases",sign:"negative"},{id:"sep5",label:"",type:"separator"},{id:"va",label:"VALEUR AJOUTE",type:"calculated",calculate:yU,bold:!0,highlight:!0},{id:"operatingSubsidies",label:"+ Subventions d'exploitation",type:"input",field:"operatingSubsidies",indent:1},{id:"taxesAndDuties",label:"- Impts, taxes et versements assimils",type:"input",field:"taxesAndDuties",indent:1,sign:"negative"},{id:"payroll",label:"- Charges de personnel",type:"input",field:"payroll",sign:"negative"},{id:"sep6",label:"",type:"separator"},{id:"ebe",label:"EXCDENT BRUT D'EXPLOITATION (EBE)",type:"calculated",calculate:xU,bold:!0,highlight:!0},{id:"otherOpIncome",label:"+ Autres produits de gestion courante",type:"input",field:"otherOperatingIncome",indent:1},{id:"depreciation",label:"- Dotations aux amortissements et aux provisions",type:"input",field:"depreciation",indent:1,sign:"negative"},{id:"otherOpExpenses",label:"- Autres charges de gestion courante",type:"input",field:"otherOperatingExpenses",indent:1,sign:"negative"},{id:"sep7",label:"",type:"separator"},{id:"rex",label:"RSULTAT D'EXPLOITATION",type:"calculated",calculate:bU,bold:!0,highlight:!0},{id:"financialIncome",label:"+ QP de rsultat positif & Produits Financiers",type:"input",field:"financialIncome",indent:1},{id:"financialExpenses",label:"- QP de rsultat ngatif & Charges Financires",type:"input",field:"financialExpenses",indent:1,sign:"negative"},{id:"sep8",label:"",type:"separator"},{id:"rcai",label:"RSULTAT COURANT AVANT IMPTS",type:"calculated",calculate:wU,bold:!0,highlight:!0},{id:"exceptionalIncome",label:"+ Produits exceptionnels",type:"input",field:"exceptionalIncome",indent:1},{id:"exceptionalExpenses",label:"- Charges exceptionnelles",type:"input",field:"exceptionalExpenses",indent:1,sign:"negative"},{id:"sep9",label:"",type:"separator"},{id:"rexcep",label:"RSULTAT EXCEPTIONNEL",type:"calculated",calculate:jU,bold:!0},{id:"employeeParticipation",label:"Participation des salaris",type:"input",field:"employeeParticipation",indent:1},{id:"corporateTax",label:"Impts sur les bnfices & CIR",type:"input",field:"corporateTax",indent:1},{id:"sep10",label:"",type:"separator"},{id:"rnet",label:"RSULTAT NET",type:"calculated",calculate:$Pe,bold:!0,highlight:!0}];function DPe(e){return{year:e,revenue:0,grossMargin:0,payroll:0,externalCosts:0,depreciation:0}}function LPe({data:e,onChange:t}){const[r,n]=w.useState(new Date().getFullYear()),a=(c,u,d)=>{const f=[...e];f[c]={...f[c],[u]:d};const h=f[c],m=Ry(h);h.revenue=m;const y=KN(h);h.grossMargin=m>0?y/m:0,h.externalCosts=h.otherPurchases??h.externalCosts,t(f)},i=c=>{t(e.filter(u=>u.year!==c))},o=new Date().getFullYear(),l=Array.from({length:10},(c,u)=>o-9+u).filter(c=>!e.some(u=>u.year===c));return s.jsxs(Ye,{title:"Compte de Rsultat Historique",id:"valuation-historical",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-muted/30 rounded-lg border",children:[s.jsx("span",{className:"text-sm font-medium",children:"Ajouter une anne :"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:l.map(c=>s.jsx(ae,{size:"sm",variant:r===c?"default":"outline",className:"h-7 text-xs",onClick:()=>{if(n(c),!e.some(u=>u.year===c)){const u=[...e,DPe(c)].sort((d,f)=>d.year-f.year);t(u)}},children:c},c))})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Slectionnez une anne ci-dessus pour commencer la saisie."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 min-w-[280px] sticky left-0 bg-background z-10",children:"Poste"}),e.map(c=>s.jsx("th",{className:"text-center py-2 px-2 min-w-[140px]",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"font-bold",children:c.year}),s.jsx(ae,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-muted-foreground hover:text-destructive",onClick:()=>i(c.year),children:s.jsx(lr,{className:"h-3 w-3"})})]})},c.year))]}),s.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[s.jsx("th",{}),e.map(c=>s.jsx("th",{colSpan:2,className:"text-center py-1 px-2",children:s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"flex-1 text-right pr-2",children:"Montant"}),s.jsx("span",{className:"w-14 text-right",children:"% CA"})]})},c.year))]})]}),s.jsx("tbody",{children:IPe.map(c=>c.type==="separator"?s.jsx("tr",{children:s.jsx("td",{colSpan:1+e.length*2,className:"h-1"})},c.id):s.jsxs("tr",{className:de("border-b border-border/50",c.highlight&&"bg-muted/40"),children:[s.jsx("td",{className:de("py-1.5 px-3 sticky left-0 bg-background z-10",c.highlight&&"bg-muted/40",c.bold&&"font-bold",c.indent===1&&"pl-6",c.indent===2&&"pl-10","text-xs"),children:c.label}),e.map((u,d)=>{const f=Ry(u);if(c.type==="calculated"&&c.calculate){const y=c.calculate(u),g=f>0?y/f:0;return s.jsx("td",{colSpan:2,className:de("py-1.5 px-2"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:de("flex-1 text-right font-mono-numbers pr-2",c.bold&&"font-bold",y<0&&"text-destructive",y>0&&c.highlight&&"text-accent"),children:te(y,!0)}),s.jsx("span",{className:de("w-14 text-right text-xs font-mono-numbers",g<0?"text-destructive":"text-muted-foreground"),children:f>0?`${(g*100).toFixed(0)}%`:"-"})]})},u.year)}const h=c.field?u[c.field]??0:0,m=f>0?h/f:0;return s.jsx("td",{colSpan:2,className:"py-1 px-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",value:h||"",placeholder:"0",onChange:y=>{c.field&&a(d,c.field,Number(y.target.value)||0)},className:de("h-7 text-right font-mono-numbers text-xs flex-1","border-transparent bg-transparent hover:border-border focus:border-primary focus:bg-background")}),s.jsx("span",{className:de("w-14 text-right text-xs font-mono-numbers shrink-0",m<0?"text-destructive":"text-muted-foreground"),children:f>0&&h!==0?`${(m*100).toFixed(0)}%`:"-"})]})},u.year)})]},c.id))})]})})]})}const XT=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function BPe(e){return e.projectedRevenue*e.multiple}function FPe(e){return e.projectedEBITDA*e.multiple}function zPe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function UPe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,o])=>{const l=n[i]||0;a+=l*o}),t*a}function VPe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function WPe(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,o)=>i+o,0)*25e4;return t+a}function Ac(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=BPe(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=FPe(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=zPe(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=UPe(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=VPe(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=WPe(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function HPe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const qPe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function KPe(){const{state:e,computed:t,updateHistoricalData:r,updateValuationConfig:n,saveAll:a}=ts(),{startYear:i,durationYears:o}=e.scenarioSettings,l=Array.from({length:o},(U,V)=>i+V),c=e.valuationConfig,u=U=>n(U),d=c.selectedMethods,f=c.valuationBasis,h=c.historicalYear,m=c.projectedYear,y=c.mixWeight,g=c.averageYears,p=c.valuationParams,v=c.dilutionConfig,x=c.exitScenarios,b=(()=>{const U=e.historicalData[e.historicalData.length-1];return U?U.revenue*U.grossMargin-U.payroll-U.externalCosts:5e5})(),_=e.fundingRounds[e.fundingRounds.length-1],j=(_==null?void 0:_.amount)||15e5;I.useEffect(()=>{(v.totalRaise!==j||v.referenceEBITDA!==b)&&u({dilutionConfig:{...v,totalRaise:j,referenceEBITDA:b}})},[j,b]);const S=Math.max(2e5,v.referenceEBITDA*v.ebitdaMultiple),C=v.totalRaise*(1-v.ocRatio),k=S+C,N=k>0?C/k:0,R=e.historicalData.map(U=>U.year),O=[...R,...l],T=(()=>{const U=D=>{const G=e.historicalData.find(we=>we.year===D);if(!G)return{revenue:0,ebitda:0,ebit:0};const X=G.revenue*G.grossMargin-G.payroll-G.externalCosts,Q=X-G.depreciation;return{revenue:G.revenue,ebitda:X,ebit:Q}},V=D=>{const G=t.revenueByYear.find(Pe=>Pe.year===D),W=t.payrollByYear.find(Pe=>Pe.year===D),X=t.opexByYear.find(Pe=>Pe.year===D),Q=t.capexByYear.find(Pe=>Pe.year===D),we=(G==null?void 0:G.revenue)||0,qe=we-((G==null?void 0:G.cogs)||0)-((W==null?void 0:W.payroll)||0)-((X==null?void 0:X.opex)||0),ge=qe-((Q==null?void 0:Q.depreciation)||0);return{revenue:we,ebitda:qe,ebit:ge}},K=D=>R.includes(D)?U(D):V(D);if(f==="average"){if(g.length===0)return{revenue:0,ebitda:0,ebit:0};const D=g.map(W=>K(W)),G=D.length;return{revenue:D.reduce((W,X)=>W+X.revenue,0)/G,ebitda:D.reduce((W,X)=>W+X.ebitda,0)/G,ebit:D.reduce((W,X)=>W+X.ebit,0)/G}}if(f==="historical")return U(h);if(f==="projected")return V(m);const q=U(h),me=V(m);return{revenue:q.revenue*(1-y)+me.revenue*y,ebitda:q.ebitda*(1-y)+me.ebitda*y,ebit:q.ebit*(1-y)+me.ebit*y}})(),A=(()=>{const U=[];if(d.includes("revenue_multiple")&&U.push(Ac("revenue_multiple",{projectedRevenue:T.revenue,multiple:p.revenue_multiple.multiple})),d.includes("ebitda_multiple")&&U.push(Ac("ebitda_multiple",{projectedEBITDA:T.ebitda,multiple:v.ebitdaMultiple})),d.includes("dcf")){const V=l.map(K=>{const q=t.revenueByYear.find(W=>W.year===K),me=t.payrollByYear.find(W=>W.year===K),D=t.opexByYear.find(W=>W.year===K),G=t.capexByYear.find(W=>W.year===K);return((q==null?void 0:q.revenue)||0)-((q==null?void 0:q.cogs)||0)-((me==null?void 0:me.payroll)||0)-((D==null?void 0:D.opex)||0)-((G==null?void 0:G.capex)||0)});U.push(Ac("dcf",{cashFlows:V,discountRate:p.dcf.discountRate,terminalGrowthRate:p.dcf.terminalGrowthRate}))}return d.includes("scorecard")&&U.push(Ac("scorecard",{baseValuation:p.scorecard.baseValuation,factors:{team:p.scorecard.team,market:p.scorecard.market,product:p.scorecard.product,competition:p.scorecard.competition,marketing:p.scorecard.marketing,fundingNeed:p.scorecard.fundingNeed}})),d.includes("berkus")&&U.push(Ac("berkus",p.berkus)),d.includes("risk_factor")&&U.push(Ac("risk_factor",{baseValuation:p.risk_factor.baseValuation,factors:{managementRisk:p.risk_factor.managementRisk,businessStage:p.risk_factor.businessStage,legislation:p.risk_factor.legislation,manufacturing:p.risk_factor.manufacturing,salesMarketing:p.risk_factor.salesMarketing,fundingCapital:p.risk_factor.fundingCapital,competition:p.risk_factor.competition,technology:p.risk_factor.technology,litigation:p.risk_factor.litigation,international:p.risk_factor.international,reputation:p.risk_factor.reputation,potentialExit:p.risk_factor.potentialExit}})),U})(),$=HPe(A),M=U=>{const V=d.includes(U)?d.filter(K=>K!==U):[...d,U];u({selectedMethods:V})},L=U=>{const V=g.includes(U)?g.filter(K=>K!==U):[...g,U].sort();u({averageYears:V})},B=A.map(U=>{var V;return{name:((V=XT.find(K=>K.id===U.method))==null?void 0:V.name)||U.method,value:U.value/1e6,confidence:U.confidence}}),z=(U,V,K)=>U<=0||V<=0||K<=0?0:Math.pow(V/U,1/K)-1,re=U=>{const V=t.revenueByYear.find(me=>me.year===U),K=t.payrollByYear.find(me=>me.year===U),q=t.opexByYear.find(me=>me.year===U);return V?V.revenue-V.cogs-((K==null?void 0:K.payroll)||0)-((q==null?void 0:q.opex)||0):0},ee=Object.entries(x).map(([U,V])=>{const K=V.year,q=re(K),me=q*V.exitMultiple,G=me*N,W=K-e.scenarioSettings.startYear,X=z(C,G,W),Q=C>0?G/C:0;return{scenario:U,year:K,exitMultiple:V.exitMultiple,probability:V.probability,ebitdaAtExit:q,exitValuation:me,investorReturn:G,irr:X,multiple:Q}}),se=l.map(U=>{const V=t.revenueByYear.find(Q=>Q.year===U),K=t.payrollByYear.find(Q=>Q.year===U),q=t.opexByYear.find(Q=>Q.year===U),me=t.capexByYear.find(Q=>Q.year===U),D=(V==null?void 0:V.revenue)||0,G=D-((V==null?void 0:V.cogs)||0),W=G-((K==null?void 0:K.payroll)||0)-((q==null?void 0:q.opex)||0),X=W-((me==null?void 0:me.depreciation)||0);return{year:U,revenue:D/1e3,grossMargin:G/1e3,ebitda:W/1e3,ebit:X/1e3}});return s.jsx(as,{tabKey:"valuation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:"outline",className:"text-xs",children:[d.length," mthodes slectionnes"]}),s.jsxs(Oe,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",te($,!0)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{pageTitle:"Valorisation & Analyse",sections:qPe,fileName:"Valorisation"}),s.jsx(qd,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),(()=>{const U=Math.max(2e5,T.ebitda*v.ebitdaMultiple),V=v.totalRaise*(1-v.ocRatio),K=U+V,q=K>0?V/K:0,me=ee.reduce((G,W)=>G+W.irr*W.probability,0),D=f==="average"?"moyenne":f==="historical"?"historique":f==="mixed"?"mixte":"projet";return s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[s.jsx(Pt,{label:"Pre-Money (EBITDA)",value:te(U,!0),subValue:`${v.ebitdaMultiple.toFixed(1)}x EBITDA ${D}`}),s.jsx(Pt,{label:"Post-Money",value:te(K,!0),subValue:`Leve: ${te(v.totalRaise,!0)}`}),s.jsx(Pt,{label:"Dilution Totale",value:rn(q),subValue:"Part investisseur"}),s.jsx(Pt,{label:"TRI moyen",value:rn(me),subValue:"Pondr par probabilit"})]})})(),s.jsxs(Ni,{defaultValue:"historical",className:"space-y-4",children:[s.jsxs(qa,{className:"flex flex-wrap",children:[s.jsx(Ot,{value:"historical",children:"Historique Financier"}),s.jsx(Ot,{value:"methods",children:"Mthodes de Valorisation"}),s.jsx(Ot,{value:"dilution",children:"Simulation Dilution"}),s.jsx(Ot,{value:"exit",children:"Scnarios de Sortie"})]}),s.jsx(Vt,{value:"historical",className:"space-y-6",children:s.jsx(LPe,{data:e.historicalData,onChange:r})}),s.jsxs(Vt,{value:"methods",className:"space-y-6",children:[s.jsxs(Ye,{title:"Base de Calcul",children:[s.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"},{value:"average",label:"Moyenne",desc:"Moyenne de plusieurs annes"}].map(U=>s.jsxs("button",{onClick:()=>u({valuationBasis:U.value}),className:de("p-4 rounded-lg text-left transition-colors border-2",f===U.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium",children:U.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:U.desc})]},U.value))}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(f==="historical"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Anne historique de rfrence"}),s.jsx("div",{className:"flex gap-2",children:R.map(U=>s.jsx(ae,{size:"sm",variant:h===U?"default":"outline",onClick:()=>u({historicalYear:U}),children:U},U))})]}),(f==="projected"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Anne projete de rfrence"}),s.jsx("div",{className:"flex gap-2",children:l.filter((U,V)=>V>=Math.max(0,l.length-4)).map(U=>s.jsx(ae,{size:"sm",variant:m===U?"default":"outline",onClick:()=>u({projectedYear:U}),children:U},U))})]})]}),f==="average"&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(Ne,{children:"Slectionnez les annes de rfrence pour le calcul de la moyenne"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:O.map(U=>{const V=g.includes(U),K=R.includes(U);return s.jsxs("label",{className:de("flex items-center gap-2 px-3 py-2 rounded-lg border-2 cursor-pointer transition-colors",V?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx(xi,{checked:V,onCheckedChange:()=>L(U)}),s.jsx("span",{className:"text-sm font-medium",children:U}),s.jsx(Oe,{variant:"outline",className:"text-[10px]",children:K?"Hist.":"Proj."})]},U)})}),g.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.length," anne",g.length>1?"s":""," slectionne",g.length>1?"s":""," : ",g.join(", ")]})]}),f==="mixed"&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pondration"}),s.jsxs("span",{children:[Math.round((1-y)*100),"% historique / ",Math.round(y*100),"% projet"]})]}),s.jsx(zr,{value:[y*100],onValueChange:([U])=>u({mixWeight:U/100}),min:0,max:100,step:5})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:te(T.revenue,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBITDA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:de("text-lg font-bold font-mono-numbers",T.ebitda<0&&"text-destructive"),children:te(T.ebitda,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBIT de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:de("text-lg font-bold font-mono-numbers",T.ebit<0&&"text-destructive"),children:te(T.ebit,!0)})]})]})]}),s.jsxs(Ye,{title:"Slection des Mthodes",children:[s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:XT.filter(U=>U.id==="revenue_multiple"||U.id==="ebitda_multiple").map(U=>{const V=d.includes(U.id),K=A.find(q=>q.method===U.id);return s.jsxs("button",{onClick:()=>M(U.id),className:de("p-4 rounded-lg text-left transition-all border-2",V?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:U.name}),V&&s.jsx(Oe,{variant:"default",className:"text-xs",children:"Actif"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:U.description}),K&&s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:te(K.value,!0)})]},U.id)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ne,{children:"Multiple CA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[p.revenue_multiple.multiple.toFixed(1),"x"]})]}),s.jsx(zr,{value:[p.revenue_multiple.multiple],onValueChange:([U])=>u({valuationParams:{...p,revenue_multiple:{...p.revenue_multiple,multiple:U}}}),min:.5,max:10,step:.5}),d.includes("revenue_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",te(T.revenue,!0),"  ",p.revenue_multiple.multiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:te(T.revenue*p.revenue_multiple.multiple,!0)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ne,{children:"Multiple EBITDA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[v.ebitdaMultiple.toFixed(1),"x"]})]}),s.jsx(zr,{value:[v.ebitdaMultiple],onValueChange:([U])=>u({dilutionConfig:{...v,ebitdaMultiple:U}}),min:2,max:15,step:.5}),d.includes("ebitda_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",te(T.ebitda,!0),"  ",v.ebitdaMultiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:te(T.ebitda*v.ebitdaMultiple,!0)})]})]})]})]}),A.length>0&&s.jsx(Ye,{title:"Comparaison des Valorisations",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:B,layout:"vertical",children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{type:"number",tickFormatter:U=>`${U}M`}),s.jsx(zt,{type:"category",dataKey:"name",width:120}),s.jsx(St,{formatter:U=>`${U.toFixed(1)}M`}),s.jsx(Ut,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),s.jsx(Vt,{value:"dilution",className:"space-y-6",children:s.jsx(PG,{config:v,onChange:U=>u({dilutionConfig:U})})}),s.jsxs(Vt,{value:"exit",className:"space-y-6",children:[s.jsx(Ye,{title:"Paramtres des Scnarios de Sortie",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:U,label:V,color:K})=>s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:de("font-medium",K),children:V}),s.jsx(Oe,{variant:"outline",children:x[U].year})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Multiple EBITDA sortie"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[x[U].exitMultiple,"x"]})]}),s.jsx(zr,{value:[x[U].exitMultiple],onValueChange:([q])=>u({exitScenarios:{...x,[U]:{...x[U],exitMultiple:q}}}),min:2,max:15,step:.5})]})]},U))})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:ee.map(U=>s.jsx(Ye,{title:U.scenario==="conservative"?"Prudent":U.scenario==="base"?"Base":"Ambitieux",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),s.jsx("p",{className:"text-xl font-bold",children:U.year})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),s.jsxs("p",{className:"text-xl font-bold",children:[U.exitMultiple,"x"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:te(U.ebitdaAtExit,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:te(U.exitValuation,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:te(U.investorReturn,!0)})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"TRI"}),s.jsx("span",{className:de("font-bold font-mono-numbers",U.irr>=.25?"text-green-600 dark:text-green-400":U.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:rn(U.irr)})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm",children:"Multiple"}),s.jsxs("span",{className:"font-bold font-mono-numbers",children:[U.multiple.toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),s.jsx("span",{className:"text-muted-foreground",children:rn(U.probability)})]})]})]})},U.scenario))}),s.jsx(Ye,{title:"volution Prvisionnelle P&L",children:s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(ky,{data:se,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:U=>`${U}k`}),s.jsx(St,{formatter:U=>`${U.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),s.jsx(Mn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),s.jsx(Mn,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function GPe(){return s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[s.jsx(ep,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const Xe=["#e11d48","#2563eb","#16a34a","#f59e0b","#8b5cf6","#06b6d4","#ea580c","#64748b","#d946ef","#0d9488"],YPe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"},XPe={"by-product":"Par Produit","by-channel-global":"Global Canaux","by-client":"Par Client"},ZPe={cash:!0,clientDeck:!0,evolution:!0,needs:!0,payroll:!0,projection:!0,valuation:!0},ZT={cash:"Approche Cash",clientDeck:"Deck CA Clients",evolution:"Graphiques d'volution",needs:"Justification des Besoins",payroll:"Masse Salariale",projection:"Projection Dtaille",valuation:"Valorisation & Tours"};function QPe(){var V,K,q,me;const{state:e,computed:t,setRevenueMode:r}=ts(),[n,a]=w.useState(ZPe),[i,o]=w.useState(!1),l=D=>{a(G=>({...G,[D]:!G[D]}))},{monthlyTreasuryProjection:c}=t,{startYear:u,durationYears:d,initialCash:f}=e.scenarioSettings,h=u+d-1,m=Array.from({length:d},(D,G)=>u+G),y=w.useMemo(()=>{const D=zd(c.months);return m.map(G=>{const W=D.get(G);if(!W)return{year:G,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:0,treasuryEnd:0,ebitda:0,capex:0};const Q=c.months.filter(we=>we.year===G).reduce((we,$e)=>we+$e.capexPayments,0);return{...W,capex:Q}})},[c,m]),g=c.totalFundingRaised,p=f+g,v=c.minTreasury,x=((V=c.breakEvenMonth)==null?void 0:V.year)||"N/A",b=v<0,_=(K=y.find(D=>D.treasuryEnd<0))==null?void 0:K.year,j=w.useMemo(()=>{const D=c.months.filter(G=>G.netCashFlow<0);return D.length===0?0:Math.max(...D.map(G=>Math.abs(G.netCashFlow)))},[c]),S=w.useMemo(()=>{const D=c.months.filter(G=>G.netCashFlow<0);return D.length===0?0:D.reduce((G,W)=>G+Math.abs(W.netCashFlow),0)/D.length},[c]),C=S>0?Math.round(p/S):99,k=y.reduce((D,G)=>D+G.revenue,0),N=y.reduce((D,G)=>D+G.payroll,0),R=y.reduce((D,G)=>D+G.opex,0),O=c.totalCapexPayments,E=y.reduce((D,G)=>D+G.cogs,0),T=N+R+O+E,P=Math.max(0,-v),A=g-P,$=y.map(D=>({year:D.year,"Cash Flow":D.netCashFlow/1e3,Trsorerie:D.treasuryEnd/1e3})),M=e.fundingRounds[e.fundingRounds.length-1],L=M?M.preMoneyValuation+M.amount:0,B=M?M.amount/L:0,z=w.useMemo(()=>y.map(D=>({year:D.year,CA:D.revenue/1e3,"Marge Brute":D.grossMargin/1e3,EBITDA:D.ebitda/1e3,Trsorerie:D.treasuryEnd/1e3,COGS:D.cogs/1e3,"Masse Sal.":D.payroll/1e3,OPEX:D.opex/1e3})),[y]),re=w.useMemo(()=>[{name:"Masse Salariale",value:N,color:Xe[1]},{name:"COGS",value:E,color:Xe[3]},{name:"OPEX",value:R,color:Xe[4]},{name:"CAPEX",value:O,color:Xe[0]}].filter(D=>D.value>0),[N,E,R,O]),ee=w.useMemo(()=>{var qe;if(e.revenueMode!=="by-client")return null;const D=e.clientRevenueConfig;if(!((qe=D==null?void 0:D.entries)!=null&&qe.length))return null;const G=(ge,Pe)=>{if(ge.revenueByYear[Pe]!==void 0)return ge.revenueByYear[Pe];const Ze=ge.individualGrowthRate??D.growthRate,F=m[0],Z=Pe-F+1;return ge.baseRevenue*Math.pow(1+Ze,Z)},W=ge=>{var Pe;return ge.channel==="B2C"?D.marginB2C??D.marginRate:ge.categoryId&&((Pe=D.marginByCategory)==null?void 0:Pe[ge.categoryId])!==void 0?D.marginByCategory[ge.categoryId]:D.marginRate},Q=["B2C","B2B","OEM"].map(ge=>{const Pe=D.entries.filter(Ze=>Ze.channel===ge);return{channel:ge,count:Pe.length,revenueByYear:m.map(Ze=>Pe.reduce((F,Z)=>F+G(Z,Ze),0)),totalRevenue:m.reduce((Ze,F)=>Ze+Pe.reduce((Z,oe)=>Z+G(oe,F),0),0)}}).filter(ge=>ge.count>0),we=D.entries.map(ge=>({name:ge.clientName,channel:ge.channel,category:ge.categoryName||"Sans catgorie",marginRate:W(ge),total:m.reduce((Pe,Ze)=>Pe+G(ge,Ze),0),revenueByYear:m.map(Pe=>G(ge,Pe))})).sort((ge,Pe)=>Pe.total-ge.total),$e=m.map((ge,Pe)=>{const Ze={year:ge};return Q.forEach(F=>{Ze[F.channel]=F.revenueByYear[Pe]/1e3}),Ze});return{channelData:Q,clientTotals:we,stackedChartData:$e}},[e.revenueMode,e.clientRevenueConfig,m]),se={B2C:Xe[0],B2B:Xe[1],OEM:Xe[3]},U=({label:D,value:G,sub:W,icon:X,accent:Q,className:we})=>s.jsxs("div",{className:de("relative overflow-hidden p-5 rounded-xl border-2 transition-all hover:shadow-lg",we),children:[s.jsx("div",{className:"absolute top-3 right-3 opacity-10",children:s.jsx(X,{className:"h-12 w-12"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[s.jsx(X,{className:"h-4 w-4",style:Q?{color:Q}:void 0}),D]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers tracking-tight",style:Q?{color:Q}:void 0,children:G}),W&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:W})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Oe,{variant:"default",children:YPe[e.activeScenarioId]}),s.jsxs(lt,{value:e.revenueMode,onValueChange:D=>r(D),children:[s.jsx(it,{className:"h-8 w-[160px] text-xs",children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"by-product",children:"Par Produit"}),s.jsx(Be,{value:"by-channel-global",children:"Global Canaux"}),s.jsx(Be,{value:"by-client",children:"Par Client"})]})]}),s.jsxs(Oe,{variant:"outline",className:"text-xs",children:[u,"  ",h," (",d," ans)"]}),s.jsxs(Oe,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(nh,{className:"h-3 w-3"}),e.products.length," produits"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>o(!i),className:"gap-1",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Sections"]}),s.jsx(GPe,{})]})]}),i&&s.jsxs("div",{className:"p-4 bg-muted/30 border rounded-lg",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Afficher / Masquer les sections du rapport"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.keys(ZT).map(D=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx(D0,{checked:n[D],onCheckedChange:()=>l(D)}),s.jsx("span",{className:de(!n[D]&&"text-muted-foreground line-through"),children:ZT[D]})]},D))})]}),b&&s.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Fu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",_,". Point bas: ",te(v,!0),". Financement additionnel de ",te(Math.abs(v),!0)," requis."]})]})]}),n.cash&&s.jsxs(Ye,{title:"Approche Cash",id:"cash-approach",children:[s.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[s.jsx(U,{label:"Cash Initial (T0)",value:te(f,!0),icon:Og,className:"bg-muted/30"}),s.jsx(U,{label:"Montant Lev",value:te(g,!0),sub:`${e.fundingRounds.length} tour(s)`,icon:Sb,accent:Xe[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Trso Dpart",value:te(p,!0),icon:bl,accent:Xe[2],className:"bg-emerald-500/5 border-emerald-500/20"}),s.jsx(U,{label:"Point Bas",value:te(v,!0),icon:v<0?ah:Bo,accent:v<0?Xe[0]:Xe[2],className:v<0?"bg-destructive/5 border-destructive/30":"bg-muted/30"}),s.jsx(U,{label:"Break-even",value:String(x),sub:`Runway: ${C>60?"60+":C} mois`,icon:nh,className:"bg-muted/30"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"h-72",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4"}),"Cash Flow & Trsorerie"]}),s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:$,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:D=>`${D}k`}),s.jsx(St,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"Cash Flow",fill:Xe[3],radius:[4,4,0,0]}),s.jsx(Rn,{type:"monotone",dataKey:"Trsorerie",stroke:Xe[1],strokeWidth:3,dot:{r:5,fill:Xe[1]}})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(ah,{className:"h-4 w-4"}),"Mtriques de Burn"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Burn Max / mois"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-destructive",children:te(j,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Burn Moyen / mois"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-amber-500",children:te(S,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"CA Total Priode"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",style:{color:Xe[2]},children:te(k,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Cots Totaux"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:te(T,!0)})]})]})]})]})]}),n.evolution&&s.jsx(Ye,{title:"Graphiques d'volution",id:"evolution-charts",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(zI,{className:"h-4 w-4",style:{color:Xe[0]}}),"volution CA, Marge & EBITDA"]}),s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(ky,{data:z,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"gradCA",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Xe[0],stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:Xe[0],stopOpacity:0})]}),s.jsxs("linearGradient",{id:"gradMargin",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Xe[2],stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:Xe[2],stopOpacity:0})]})]}),s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:D=>`${D}k`}),s.jsx(St,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"CA",stroke:Xe[0],fill:"url(#gradCA)",strokeWidth:2.5,dot:{r:4}}),s.jsx(Mn,{type:"monotone",dataKey:"Marge Brute",stroke:Xe[2],fill:"url(#gradMargin)",strokeWidth:2.5,dot:{r:4}}),s.jsx(Rn,{type:"monotone",dataKey:"EBITDA",stroke:Xe[4],strokeWidth:2.5,dot:{r:4},strokeDasharray:"6 3"})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(lv,{className:"h-4 w-4",style:{color:Xe[1]}}),"Rpartition des Cots par Anne"]}),s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:z,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:D=>`${D}k`}),s.jsx(St,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Ut,{dataKey:"COGS",stackId:"costs",fill:Xe[3],radius:[0,0,0,0]}),s.jsx(Ut,{dataKey:"Masse Sal.",stackId:"costs",fill:Xe[1]}),s.jsx(Ut,{dataKey:"OPEX",stackId:"costs",fill:Xe[4],radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Og,{className:"h-4 w-4",style:{color:Xe[5]}}),"Trsorerie Mensuelle"]}),s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(ky,{data:c.months.map(D=>({label:`${D.month}/${D.year}`,Trsorerie:D.treasuryEnd/1e3})),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradTreso",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Xe[5],stopOpacity:.2}),s.jsx("stop",{offset:"95%",stopColor:Xe[5],stopOpacity:0})]})}),s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"label",tick:{fontSize:10},interval:"preserveStartEnd"}),s.jsx(zt,{tickFormatter:D=>`${D}k`}),s.jsx(St,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Mn,{type:"monotone",dataKey:"Trsorerie",stroke:Xe[5],fill:"url(#gradTreso)",strokeWidth:2})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(bl,{className:"h-4 w-4"}),"Rpartition des Cots (Priode)"]}),s.jsxs("div",{className:"h-64 flex items-center",children:[s.jsx(br,{width:"50%",height:"100%",children:s.jsxs(kN,{children:[s.jsx(Ci,{data:re,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:3,dataKey:"value",children:re.map((D,G)=>s.jsx(Qo,{fill:D.color},D.name))}),s.jsx(St,{formatter:D=>te(D,!0)})]})}),s.jsx("div",{className:"flex-1 space-y-2",children:re.map(D=>{const G=T>0?D.value/T*100:0;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:D.color}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium truncate",children:D.name}),s.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[G.toFixed(0),"%  ",te(D.value,!0)]})]})]},D.name)})})]})]})]})}),n.clientDeck&&s.jsx(Ye,{title:"Deck  Chiffre d'Affaires",id:"client-deck",children:e.revenueMode==="by-client"&&ee?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:ee.channelData.map(D=>s.jsxs("div",{className:"p-5 rounded-xl border-2",style:{borderColor:se[D.channel]+"40",background:se[D.channel]+"08"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Oe,{style:{backgroundColor:se[D.channel],color:"white"},children:D.channel}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[D.count," client(s)"]})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers mb-1",children:te(D.totalRevenue,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA cumul ",u,"",h]}),s.jsx("div",{className:"flex gap-2 mt-3",children:D.revenueByYear.map((G,W)=>s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground",children:m[W]}),s.jsxs("div",{className:"text-xs font-mono-numbers font-medium",children:[(G/1e3).toFixed(0),"k"]})]},m[W]))})]},D.channel))}),s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:ee.stackedChartData,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{tickFormatter:D=>`${D}k`}),s.jsx(St,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),ee.channelData.map(D=>s.jsx(Ut,{dataKey:D.channel,stackId:"a",fill:se[D.channel],radius:[2,2,0,0]},D.channel))]})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-sm",children:"Top Clients"}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Client"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Canal"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Catgorie"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Marge"}),m.map(D=>s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:D},D)),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Total"})]})}),s.jsx("tbody",{children:ee.clientTotals.slice(0,15).map((D,G)=>s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:D.name}),s.jsx("td",{className:"py-2 px-3",children:s.jsx(Oe,{variant:"outline",className:"text-[10px]",style:{borderColor:se[D.channel]},children:D.channel})}),s.jsx("td",{className:"py-2 px-3 text-muted-foreground",children:D.category}),s.jsxs("td",{className:"py-2 px-3 text-right font-mono-numbers",children:[(D.marginRate*100).toFixed(0),"%"]}),D.revenueByYear.map((W,X)=>s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(W,!0)},m[X])),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-semibold",children:te(D.total,!0)})]},G))})]})})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Oo,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"font-medium",children:e.revenueMode==="by-client"?"Aucun client configur  ajoutez des entres dans le Plan Produit":`Mode actuel : ${XPe[e.revenueMode]}`}),s.jsx("p",{className:"text-sm mt-1",children:"Passez en mode  Par Client  pour afficher le deck CA dtaill par client."})]})}),n.needs&&s.jsxs(Ye,{title:"Justification des Besoins",id:"needs-justification",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(_b,{className:"h-4 w-4"}),"Rpartition Globale (",u,"-",h,")"]}),s.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:N,icon:Oo,color:Xe[1]},{label:"COGS (Cot des ventes)",value:E,icon:Zl,color:Xe[3]},{label:"OPEX (Charges)",value:R,icon:_b,color:Xe[4]},{label:"CAPEX (R&D)",value:O,icon:bl,color:Xe[0]}].map(D=>{const G=D.icon,W=T>0?D.value/T*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(G,{className:"h-4 w-4",style:{color:D.color}}),s.jsx("span",{children:D.label})]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:te(D.value,!0)})]}),s.jsx("div",{className:"h-2.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${W}%`,backgroundColor:D.color}})}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[W.toFixed(0),"%"]})]},D.label)}),s.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Cots"}),s.jsx("span",{className:"font-mono-numbers",children:te(T,!0)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Sb,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-5 bg-muted/30 rounded-xl border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),s.jsx(Oe,{variant:"secondary",children:"Calcul"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:te(P,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),s.jsxs("div",{className:"p-5 rounded-xl border-2",style:{background:Xe[1]+"08",borderColor:Xe[1]+"30"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Montant Lev"}),s.jsx(Oe,{variant:"default",children:(M==null?void 0:M.name)||"Round"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",style:{color:Xe[1]},children:te(g,!0)})]}),s.jsxs("div",{className:de("p-5 rounded-xl border-2",A>=0?"border-emerald-500/30 bg-emerald-500/5":"bg-destructive/10 border-destructive/30"),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:A>=0?"Marge de Scurit":"Dficit"}),s.jsxs("span",{className:de("text-2xl font-bold font-mono-numbers",A>=0?"text-emerald-600":"text-destructive"),children:[A>=0?"+":"",te(A,!0)]})]}),A>=0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",rn(A/g)," sur le montant lev"]})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(nh,{className:"h-4 w-4"}),"Dtail Anne par Anne"]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"COGS"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"OPEX"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"CAPEX"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Total Cots"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Cash Flow"})]})}),s.jsx("tbody",{children:y.map(D=>{const G=D.cogs+D.payroll+D.opex+D.capex;return s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-semibold",children:D.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(D.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.cogs,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.payroll,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.opex,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.capex,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:te(G,!0)}),s.jsxs("td",{className:de("py-2 px-3 text-right font-mono-numbers font-medium",D.netCashFlow>=0?"text-emerald-600":"text-destructive"),children:[D.netCashFlow>=0?"+":"",te(D.netCashFlow,!0)]})]},D.year)})})]})})]}),e.opexMode==="simple"&&(e.simpleOpexConfig.strategicOpex||[]).length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(VW,{className:"h-4 w-4"}),"OPEX Stratgiques (inclus dans le budget)"]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Poste"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Montant Base"}),m.map(D=>s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:D},D))]})}),s.jsxs("tbody",{children:[(e.simpleOpexConfig.strategicOpex||[]).map(D=>s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:D.name}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(D.amount,!0)}),m.map((G,W)=>s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.amount*Math.pow(1+e.simpleOpexConfig.growthRate,W),!0)},G))]},D.id)),s.jsxs("tr",{className:"bg-muted/20 font-medium text-xs",children:[s.jsx("td",{className:"py-2 px-3",children:"Total Stratgique"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te((e.simpleOpexConfig.strategicOpex||[]).reduce((D,G)=>D+G.amount,0),!0)}),m.map((D,G)=>{const W=(e.simpleOpexConfig.strategicOpex||[]).reduce((X,Q)=>X+Q.amount,0);return s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(W*Math.pow(1+e.simpleOpexConfig.growthRate,G),!0)},D)})]})]})]})})]})]}),n.payroll&&s.jsx(Ye,{title:"Masse Salariale & Embauches",id:"payroll-detail",children:(()=>{var $e,qe;const D=e.roles||[],G={"R&D":Xe[0],Production:Xe[2],Sales:Xe[3],Support:Xe[5],Admin:Xe[1]},W=m.map(ge=>{const Pe=D.filter(F=>F.startYear<=ge),Ze={};return Pe.forEach(F=>{Ze[F.department]=(Ze[F.department]||0)+F.annualCostLoaded}),{year:ge,total:Pe.reduce((F,Z)=>F+Z.annualCostLoaded,0),byDept:Ze,headcount:Pe.length}}),X=m.map(ge=>({year:ge,hires:D.filter(Pe=>Pe.startYear===ge)})),Q=[...new Set(D.map(ge=>ge.department))],we=W.map(ge=>{const Pe={year:ge.year,Effectif:ge.headcount};return Q.forEach(Ze=>{Pe[Ze]=(ge.byDept[Ze]||0)/1e3}),Pe});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(U,{label:"Effectif Final",value:String((($e=W[W.length-1])==null?void 0:$e.headcount)||0),sub:`en ${h}`,icon:Oo,accent:Xe[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Masse Sal. Finale",value:te(((qe=W[W.length-1])==null?void 0:qe.total)||0,!0),sub:`/an en ${h}`,icon:Og,accent:Xe[0],className:"bg-rose-500/5 border-rose-500/20"}),s.jsx(U,{label:"Cot Total Priode",value:te(N,!0),sub:`${u}${h}`,icon:_b,className:"bg-muted/30"}),s.jsx(U,{label:"Cot Moyen / ETP",value:D.length>0?te(N/d/(D.length||1),!0):"",sub:"/an moyen",icon:bl,className:"bg-muted/30"})]}),s.jsx("div",{className:"h-64",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(xd,{data:we,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"year"}),s.jsx(zt,{yAxisId:"left",tickFormatter:ge=>`${ge}k`}),s.jsx(zt,{yAxisId:"right",orientation:"right"}),s.jsx(St,{formatter:(ge,Pe)=>Pe==="Effectif"?ge:`${ge.toFixed(0)}k`}),s.jsx(Dr,{}),Q.map((ge,Pe)=>s.jsx(Ut,{yAxisId:"left",dataKey:ge,stackId:"a",fill:G[ge]||Xe[Pe%Xe.length]},ge)),s.jsx(Rn,{yAxisId:"right",type:"monotone",dataKey:"Effectif",stroke:"hsl(var(--foreground))",strokeWidth:2,dot:{r:3}})]})})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(lH,{className:"h-4 w-4"}),"Planning des Embauches"]}),s.jsxs("div",{className:"space-y-4",children:[X.filter(ge=>ge.hires.length>0).map(({year:ge,hires:Pe})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Oe,{variant:"outline",className:"text-xs",children:ge}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Pe.length," embauche(s)"]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-2",children:Pe.map(Ze=>s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:Ze.title}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:G[Ze.department]||Xe[0]}}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ze.department})]})]}),s.jsx("div",{className:"text-sm font-mono-numbers font-semibold",children:te(Ze.annualCostLoaded,!0)})]},Ze.id))})]},ge)),X.every(ge=>ge.hires.length===0)&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucun poste configur  rendez-vous dans l'onglet Organisation"})]})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"Poste"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"Dpartement"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"Arrive"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"Cot charg /an"}),m.map(ge=>s.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:ge},ge))]})}),s.jsx("tbody",{children:D.sort((ge,Pe)=>ge.startYear-Pe.startYear||ge.department.localeCompare(Pe.department)).map(ge=>s.jsxs("tr",{className:"border-b hover:bg-muted/20",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:ge.title}),s.jsx("td",{className:"py-2 px-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:G[ge.department]||Xe[0]}}),ge.department]})}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ge.startYear}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:te(ge.annualCostLoaded,!0)}),m.map(Pe=>s.jsx("td",{className:"py-2 px-3 text-center",children:ge.startYear<=Pe?s.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-primary/20 text-primary text-[10px] leading-4",children:""}):s.jsx("span",{className:"text-muted-foreground/30",children:""})},Pe))]},ge.id))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold text-xs",children:[s.jsx("td",{className:"py-2 px-3",colSpan:3,children:"Total"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:""}),W.map(ge=>s.jsxs("td",{className:"py-2 px-3 text-center font-mono-numbers",children:[(ge.total/1e3).toFixed(0),"k"]},ge.year))]})})]})})]})})()}),n.projection&&s.jsx(Ye,{title:"Projection Dtaille",id:"detailed-projection",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),s.jsx("tbody",{children:y.map(D=>s.jsxs("tr",{className:de("border-b hover:bg-muted/20",D.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-3 px-3 font-semibold",children:D.year}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(D.revenue,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.cogs,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(D.grossMargin,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.payroll,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.opex,!0)}),s.jsx("td",{className:de("py-3 px-3 text-right font-mono-numbers font-medium",D.ebitda>=0?"text-emerald-600":"text-destructive"),children:te(D.ebitda,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:te(D.capex,!0)}),s.jsxs("td",{className:de("py-3 px-3 text-right font-mono-numbers font-medium",D.netCashFlow>=0?"text-emerald-600":"text-destructive"),children:[D.netCashFlow>=0?"+":"",te(D.netCashFlow,!0)]}),s.jsx("td",{className:de("py-3 px-3 text-right font-mono-numbers font-bold",D.treasuryEnd<0&&"text-destructive"),children:te(D.treasuryEnd,!0)})]},D.year))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[s.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(k,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(E,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(k-E,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(N,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(R,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(O,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:te(((q=y[y.length-1])==null?void 0:q.treasuryEnd)||0,!0)})]})})]})})}),n.valuation&&s.jsxs(Ye,{title:"Valorisation & Tours",id:"valuation",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[s.jsx(U,{label:"Pre-Money",value:te((M==null?void 0:M.preMoneyValuation)||0,!0),sub:(M==null?void 0:M.name)||"-",icon:bl,accent:Xe[4],className:"bg-violet-500/5 border-violet-500/20"}),s.jsx(U,{label:"Post-Money",value:te(L,!0),sub:"Aprs leve",icon:Sb,accent:Xe[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Dilution",value:rn(B),sub:"Part cde",icon:ah,accent:B>.25?Xe[0]:Xe[2],className:B>.25?"bg-rose-500/5 border-rose-500/20":"bg-emerald-500/5 border-emerald-500/20"}),s.jsx(U,{label:"Multiple CA",value:k>0?`${(L/(((me=y[y.length-1])==null?void 0:me.revenue)||1)).toFixed(1)}x`:"-",sub:`sur CA ${h}`,icon:Bo,className:"bg-muted/30"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map((D,G)=>s.jsxs("div",{className:"p-5 rounded-xl border-2 transition-all hover:shadow-md",style:{borderColor:Xe[G%Xe.length]+"30"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold",children:D.name}),s.jsx(Oe,{variant:"outline",className:"text-xs mt-1",children:D.year})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xl font-bold font-mono-numbers",style:{color:Xe[G%Xe.length]},children:te(D.amount,!0)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("span",{children:"Pre-money:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:te(D.preMoneyValuation,!0)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{children:"Dilution:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:rn(D.amount/(D.preMoneyValuation+D.amount))})]})]})]},D.id))})]})]})}var Tt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Tt||(Tt={}));var QT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(QT||(QT={}));const ze=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ro=e=>{switch(typeof e){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(e)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(e)?ze.array:e===null?ze.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ze.promise:typeof Map<"u"&&e instanceof Map?ze.map:typeof Set<"u"&&e instanceof Set?ze.set:typeof Date<"u"&&e instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ce=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ms extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Ms))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ms.create=e=>new Ms(e);const W_=(e,t)=>{let r;switch(e.code){case Ce.invalid_type:e.received===ze.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Tt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tt.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tt.joinValues(e.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${Tt.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Tt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,Tt.assertNever(e)}return{message:r}};let JPe=W_;function eke(){return JPe}const tke=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Re(e,t){const r=eke(),n=tke({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===W_?void 0:W_].filter(a=>!!a)});e.common.issues.push(n)}class ja{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return pt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ja.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return pt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const pt=Object.freeze({status:"aborted"}),qf=e=>({status:"dirty",value:e}),Ka=e=>({status:"valid",value:e}),JT=e=>e.status==="aborted",eR=e=>e.status==="dirty",_d=e=>e.status==="valid",My=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class Wo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tR=(e,t)=>{if(_d(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ms(e.common.issues);return this._error=r,this._error}}};function wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class kt{get description(){return this._def.description}_getType(t){return ro(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ro(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ja,ctx:{common:t.parent.common,data:t.data,parsedType:ro(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(My(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ro(t)},a=this._parseSync({data:t,path:n.path,parent:n});return tR(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ro(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return _d(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>_d(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ro(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(My(a)?a:Promise.resolve(a));return tR(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ce.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Cd({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Io.create(this,this._def)}nullable(){return Nd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xi.create(this)}promise(){return Ly.create(this,this._def)}or(t){return Iy.create([this,t],this._def)}and(t){return Dy.create(this,t,this._def)}transform(t){return new Cd({...wt(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new q_({...wt(this._def),innerType:this,defaultValue:r,typeName:gt.ZodDefault})}brand(){return new Ske({typeName:gt.ZodBranded,type:this,...wt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new K_({...wt(this._def),innerType:this,catchValue:r,typeName:gt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return GN.create(this,t)}readonly(){return G_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rke=/^c[^\s-]{8,}$/i,nke=/^[0-9a-z]+$/,ake=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ike=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ske=/^[a-z0-9_-]{21}$/i,oke=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cke=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uke="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cw;const dke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pke=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_U="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vke=new RegExp(`^${_U}$`);function SU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function yke(e){return new RegExp(`^${SU(e)}$`)}function xke(e){let t=`${_U}T${SU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function bke(e,t){return!!((t==="v4"||!t)&&dke.test(e)||(t==="v6"||!t)&&hke.test(e))}function wke(e,t){if(!oke.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function jke(e,t){return!!((t==="v4"||!t)&&fke.test(e)||(t==="v6"||!t)&&mke.test(e))}class xo extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ze.string){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:ze.string,received:i.parsedType}),pt}const n=new ja;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Re(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Re(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")cke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"email",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Cw||(Cw=new RegExp(uke,"u")),Cw.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"emoji",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")ike.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"uuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ske.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"nanoid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")rke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")nke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cuid2",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")ake.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ulid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Re(a,{validation:"url",code:Ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"regex",code:Ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?xke(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?vke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?yke(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?lke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"duration",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?bke(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"ip",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?wke(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"jwt",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?jke(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"cidr",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?pke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?gke.test(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{validation:"base64url",code:Ce.invalid_string,message:i.message}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ce.invalid_string,...Ke.errToObj(n)})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ke.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ke.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ke.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ke.errToObj(r)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new xo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xo.create=e=>new xo({checks:[],typeName:gt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});function _ke(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Um extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ze.number){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:ze.number,received:i.parsedType}),pt}let n;const a=new ja;for(const i of this._def.checks)i.kind==="int"?Tt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?_ke(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_finite,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new Um({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new Um({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Tt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Um.create=e=>new Um({checks:[],typeName:gt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class Vm extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ze.bigint)return this._getInvalidInput(t);let n;const a=new ja;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Re(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Re(r,{code:Ce.invalid_type,expected:ze.bigint,received:r.parsedType}),pt}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new Vm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new Vm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Vm.create=e=>new Vm({checks:[],typeName:gt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});class rR extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ze.boolean){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.boolean,received:n.parsedType}),pt}return Ka(t.data)}}rR.create=e=>new rR({typeName:gt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class $y extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ze.date){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_type,expected:ze.date,received:i.parsedType}),pt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Re(i,{code:Ce.invalid_date}),pt}const n=new ja;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Re(a,{code:Ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new $y({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}$y.create=e=>new $y({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gt.ZodDate,...wt(e)});class nR extends kt{_parse(t){if(this._getType(t)!==ze.symbol){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.symbol,received:n.parsedType}),pt}return Ka(t.data)}}nR.create=e=>new nR({typeName:gt.ZodSymbol,...wt(e)});class aR extends kt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.undefined,received:n.parsedType}),pt}return Ka(t.data)}}aR.create=e=>new aR({typeName:gt.ZodUndefined,...wt(e)});class iR extends kt{_parse(t){if(this._getType(t)!==ze.null){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.null,received:n.parsedType}),pt}return Ka(t.data)}}iR.create=e=>new iR({typeName:gt.ZodNull,...wt(e)});class sR extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ka(t.data)}}sR.create=e=>new sR({typeName:gt.ZodAny,...wt(e)});class oR extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ka(t.data)}}oR.create=e=>new oR({typeName:gt.ZodUnknown,...wt(e)});class Ho extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Re(r,{code:Ce.invalid_type,expected:ze.never,received:r.parsedType}),pt}}Ho.create=e=>new Ho({typeName:gt.ZodNever,...wt(e)});class lR extends kt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.void,received:n.parsedType}),pt}return Ka(t.data)}}lR.create=e=>new lR({typeName:gt.ZodVoid,...wt(e)});class Xi extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ze.array)return Re(r,{code:Ce.invalid_type,expected:ze.array,received:r.parsedType}),pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Re(r,{code:o?Ce.too_big:Ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Re(r,{code:Ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Re(r,{code:Ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Wo(r,o,r.path,l)))).then(o=>ja.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Wo(r,o,r.path,l)));return ja.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Xi({...this._def,minLength:{value:t,message:Ke.toString(r)}})}max(t,r){return new Xi({...this._def,maxLength:{value:t,message:Ke.toString(r)}})}length(t,r){return new Xi({...this._def,exactLength:{value:t,message:Ke.toString(r)}})}nonempty(t){return this.min(1,t)}}Xi.create=(e,t)=>new Xi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...wt(t)});function Lc(e){if(e instanceof Mr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Io.create(Lc(n))}return new Mr({...e._def,shape:()=>t})}else return e instanceof Xi?new Xi({...e._def,type:Lc(e.element)}):e instanceof Io?Io.create(Lc(e.unwrap())):e instanceof Nd?Nd.create(Lc(e.unwrap())):e instanceof oc?oc.create(e.items.map(t=>Lc(t))):e}class Mr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Tt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ze.object){const u=this._getOrReturnCtx(t);return Re(u,{code:Ce.invalid_type,expected:ze.object,received:u.parsedType}),pt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ho&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Wo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ho){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Re(a,{code:Ce.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Wo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ja.mergeObjectSync(n,u)):ja.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new Mr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Mr({...this._def,unknownKeys:"strip"})}passthrough(){return new Mr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Mr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Mr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Mr({...this._def,catchall:t})}pick(t){const r={};for(const n of Tt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Mr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Tt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Mr({...this._def,shape:()=>r})}deepPartial(){return Lc(this)}partial(t){const r={};for(const n of Tt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Mr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Tt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Io;)i=i._def.innerType;r[n]=i}return new Mr({...this._def,shape:()=>r})}keyof(){return CU(Tt.objectKeys(this.shape))}}Mr.create=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strip",catchall:Ho.create(),typeName:gt.ZodObject,...wt(t)});Mr.strictCreate=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strict",catchall:Ho.create(),typeName:gt.ZodObject,...wt(t)});Mr.lazycreate=(e,t)=>new Mr({shape:e,unknownKeys:"strip",catchall:Ho.create(),typeName:gt.ZodObject,...wt(t)});class Iy extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ms(l.ctx.common.issues));return Re(r,{code:Ce.invalid_union,unionErrors:o}),pt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ms(c));return Re(r,{code:Ce.invalid_union,unionErrors:l}),pt}}get options(){return this._def.options}}Iy.create=(e,t)=>new Iy({options:e,typeName:gt.ZodUnion,...wt(t)});function H_(e,t){const r=ro(e),n=ro(t);if(e===t)return{valid:!0,data:e};if(r===ze.object&&n===ze.object){const a=Tt.objectKeys(t),i=Tt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=H_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ze.array&&n===ze.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=H_(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ze.date&&n===ze.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Dy extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(JT(i)||JT(o))return pt;const l=H_(i.value,o.value);return l.valid?((eR(i)||eR(o))&&r.dirty(),{status:r.value,value:l.data}):(Re(n,{code:Ce.invalid_intersection_types}),pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Dy.create=(e,t,r)=>new Dy({left:e,right:t,typeName:gt.ZodIntersection,...wt(r)});class oc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.array)return Re(n,{code:Ce.invalid_type,expected:ze.array,received:n.parsedType}),pt;if(n.data.length<this._def.items.length)return Re(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pt;!this._def.rest&&n.data.length>this._def.items.length&&(Re(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Wo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ja.mergeArray(r,o)):ja.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new oc({...this._def,rest:t})}}oc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oc({items:e,typeName:gt.ZodTuple,rest:null,...wt(t)})};class cR extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.map)return Re(n,{code:Ce.invalid_type,expected:ze.map,received:n.parsedType}),pt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Wo(n,l,n.path,[u,"key"])),value:i._parse(new Wo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}cR.create=(e,t,r)=>new cR({valueType:t,keyType:e,typeName:gt.ZodMap,...wt(r)});class Wm extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.set)return Re(n,{code:Ce.invalid_type,expected:ze.set,received:n.parsedType}),pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Re(n,{code:Ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Re(n,{code:Ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Wo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Wm({...this._def,minSize:{value:t,message:Ke.toString(r)}})}max(t,r){return new Wm({...this._def,maxSize:{value:t,message:Ke.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Wm.create=(e,t)=>new Wm({valueType:e,minSize:null,maxSize:null,typeName:gt.ZodSet,...wt(t)});class uR extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uR.create=(e,t)=>new uR({getter:e,typeName:gt.ZodLazy,...wt(t)});class dR extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Re(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}dR.create=(e,t)=>new dR({value:e,typeName:gt.ZodLiteral,...wt(t)});function CU(e,t){return new Sd({values:e,typeName:gt.ZodEnum,...wt(t)})}class Sd extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{expected:Tt.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Re(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),pt}return Ka(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Sd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Sd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Sd.create=CU;class fR extends kt{_parse(t){const r=Tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ze.string&&n.parsedType!==ze.number){const a=Tt.objectValues(r);return Re(n,{expected:Tt.joinValues(a),received:n.parsedType,code:Ce.invalid_type}),pt}if(this._cache||(this._cache=new Set(Tt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Tt.objectValues(r);return Re(n,{received:n.data,code:Ce.invalid_enum_value,options:a}),pt}return Ka(t.data)}get enum(){return this._def.values}}fR.create=(e,t)=>new fR({values:e,typeName:gt.ZodNativeEnum,...wt(t)});class Ly extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ze.promise&&r.common.async===!1)return Re(r,{code:Ce.invalid_type,expected:ze.promise,received:r.parsedType}),pt;const n=r.parsedType===ze.promise?r.data:Promise.resolve(r.data);return Ka(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ly.create=(e,t)=>new Ly({type:e,typeName:gt.ZodPromise,...wt(t)});class Cd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Re(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?pt:c.status==="dirty"||r.value==="dirty"?qf(c.value):c});{if(r.value==="aborted")return pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?pt:l.status==="dirty"||r.value==="dirty"?qf(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_d(o))return pt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>_d(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):pt);Tt.assertNever(a)}}Cd.create=(e,t,r)=>new Cd({schema:e,typeName:gt.ZodEffects,effect:t,...wt(r)});Cd.createWithPreprocess=(e,t,r)=>new Cd({schema:t,effect:{type:"preprocess",transform:e},typeName:gt.ZodEffects,...wt(r)});class Io extends kt{_parse(t){return this._getType(t)===ze.undefined?Ka(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Io.create=(e,t)=>new Io({innerType:e,typeName:gt.ZodOptional,...wt(t)});class Nd extends kt{_parse(t){return this._getType(t)===ze.null?Ka(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Nd.create=(e,t)=>new Nd({innerType:e,typeName:gt.ZodNullable,...wt(t)});class q_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}q_.create=(e,t)=>new q_({innerType:e,typeName:gt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...wt(t)});class K_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return My(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}K_.create=(e,t)=>new K_({innerType:e,typeName:gt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...wt(t)});class hR extends kt{_parse(t){if(this._getType(t)!==ze.nan){const n=this._getOrReturnCtx(t);return Re(n,{code:Ce.invalid_type,expected:ze.nan,received:n.parsedType}),pt}return{status:"valid",value:t.data}}}hR.create=e=>new hR({typeName:gt.ZodNaN,...wt(e)});class Ske extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class GN extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?pt:i.status==="dirty"?(r.dirty(),qf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new GN({in:t,out:r,typeName:gt.ZodPipeline})}}class G_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(_d(a)&&(a.value=Object.freeze(a.value)),a);return My(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}G_.create=(e,t)=>new G_({innerType:e,typeName:gt.ZodReadonly,...wt(t)});Mr.lazycreate;var gt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gt||(gt={}));const gh=xo.create;Ho.create;Xi.create;const NU=Mr.create;Mr.strictCreate;Iy.create;Dy.create;oc.create;Sd.create;Ly.create;Io.create;Nd.create;var pp=e=>e.type==="checkbox",Ml=e=>e instanceof Date,Fn=e=>e==null;const PU=e=>typeof e=="object";var Ur=e=>!Fn(e)&&!Array.isArray(e)&&PU(e)&&!Ml(e),kU=e=>Ur(e)&&e.target?pp(e.target)?e.target.checked:e.target.value:e,Cke=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,EU=(e,t)=>e.has(Cke(t)),Nke=e=>{const t=e.constructor&&e.constructor.prototype;return Ur(t)&&t.hasOwnProperty("isPrototypeOf")},YN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(YN&&(e instanceof Blob||n))&&(r||Ur(e)))if(t=r?[]:{},!r&&!Nke(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Qr(e[a]));else return e;return t}var F0=e=>/^\w*$/.test(e),Br=e=>e===void 0,XN=e=>Array.isArray(e)?e.filter(Boolean):[],ZN=e=>XN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,t,r)=>{if(!t||!Ur(e))return r;const n=(F0(t)?[t]:ZN(t)).reduce((a,i)=>Fn(a)?a:a[i],e);return Br(n)||n===e?Br(e[t])?r:e[t]:n},ha=e=>typeof e=="boolean",Lt=(e,t,r)=>{let n=-1;const a=F0(t)?[t]:ZN(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ur(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const By={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QN=I.createContext(null);QN.displayName="HookFormContext";const z0=()=>I.useContext(QN),Pke=e=>{const{children:t,...r}=e;return I.createElement(QN.Provider,{value:r},t)};var AU=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==fi.all&&(t._proxyFormState[o]=!n||fi.all),r&&(r[o]=!0),e[o]}});return a};const JN=typeof window<"u"?I.useLayoutEffect:I.useEffect;function kke(e){const t=z0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=I.useState(r._formState),c=I.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return JN(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),I.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),I.useMemo(()=>AU(o,r,c.current,!1),[o,r])}var Ui=e=>typeof e=="string",OU=(e,t,r,n,a)=>Ui(e)?(n&&t.watch.add(e),Ae(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ae(r,i))):(n&&(t.watchAll=!0),r),Y_=e=>Fn(e)||!PU(e);function ps(e,t,r=new WeakSet){if(Y_(e)||Y_(t))return e===t;if(Ml(e)&&Ml(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ml(o)&&Ml(l)||Ur(o)&&Ur(l)||Array.isArray(o)&&Array.isArray(l)?!ps(o,l,r):o!==l)return!1}}return!0}function Eke(e){const t=z0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=I.useRef(a),u=I.useRef(l),d=I.useRef(void 0);u.current=l;const f=I.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=I.useState(u.current?u.current(f):f);return JN(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=OU(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const p=u.current(g);ps(p,d.current)||(m(p),d.current=p)}else m(g)}}}),[r,i,n,o]),I.useEffect(()=>r._removeUnmounted()),h}function Ake(e){const t=z0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=EU(a._names.array,r),c=I.useMemo(()=>Ae(a._formValues,r,Ae(a._defaultValues,r,o)),[a,r,o]),u=Eke({control:a,name:r,defaultValue:c,exact:!0}),d=kke({control:a,name:r,exact:!0}),f=I.useRef(e),h=I.useRef(a.register(r,{...e.rules,value:u,...ha(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=I.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ae(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ae(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ae(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ae(d.errors,r)}}),[d,r]),y=I.useCallback(x=>h.current.onChange({target:{value:kU(x),name:r},type:By.CHANGE}),[r]),g=I.useCallback(()=>h.current.onBlur({target:{value:Ae(a._formValues,r),name:r},type:By.BLUR}),[r,a._formValues]),p=I.useCallback(x=>{const b=Ae(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),v=I.useMemo(()=>({name:r,value:u,...ha(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:p}),[r,n,d.disabled,y,g,p,u]);return I.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...ha(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,j)=>{const S=Ae(a._fields,_);S&&S._f&&(S._f.mount=j)};if(b(r,!0),x){const _=Qr(Ae(a._options.defaultValues,r));Lt(a._defaultValues,r,_),Br(Ae(a._formValues,r))&&Lt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),I.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),I.useMemo(()=>({field:v,formState:d,fieldState:m}),[v,d,m])}const Oke=e=>e.render(Ake(e));var TU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},vh=e=>Array.isArray(e)?e:[e],mR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Zn=e=>Ur(e)&&!Object.keys(e).length,eP=e=>e.type==="file",hi=e=>typeof e=="function",Fy=e=>{if(!YN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},RU=e=>e.type==="select-multiple",tP=e=>e.type==="radio",Tke=e=>tP(e)||pp(e),Nw=e=>Fy(e)&&e.isConnected;function Rke(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Br(e)?n++:e[t[n++]];return e}function Mke(e){for(const t in e)if(e.hasOwnProperty(t)&&!Br(e[t]))return!1;return!0}function Vr(e,t){const r=Array.isArray(t)?t:F0(t)?[t]:ZN(t),n=r.length===1?e:Rke(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ur(n)&&Zn(n)||Array.isArray(n)&&Mke(n))&&Vr(e,r.slice(0,-1)),e}var MU=e=>{for(const t in e)if(hi(e[t]))return!0;return!1};function zy(e,t={}){const r=Array.isArray(e);if(Ur(e)||r)for(const n in e)Array.isArray(e[n])||Ur(e[n])&&!MU(e[n])?(t[n]=Array.isArray(e[n])?[]:{},zy(e[n],t[n])):Fn(e[n])||(t[n]=!0);return t}function $U(e,t,r){const n=Array.isArray(e);if(Ur(e)||n)for(const a in e)Array.isArray(e[a])||Ur(e[a])&&!MU(e[a])?Br(t)||Y_(r[a])?r[a]=Array.isArray(e[a])?zy(e[a],[]):{...zy(e[a])}:$U(e[a],Fn(t)?{}:t[a],r[a]):r[a]=!ps(e[a],t[a]);return r}var Rf=(e,t)=>$U(e,t,zy(t));const pR={value:!1,isValid:!1},gR={value:!0,isValid:!0};var IU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Br(e[0].attributes.value)?Br(e[0].value)||e[0].value===""?gR:{value:e[0].value,isValid:!0}:gR:pR}return pR},DU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Br(e)?e:t?e===""?NaN:e&&+e:r&&Ui(e)?new Date(e):n?n(e):e;const vR={isValid:!1,value:null};var LU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,vR):vR;function yR(e){const t=e.ref;return eP(t)?t.files:tP(t)?LU(e.refs).value:RU(t)?[...t.selectedOptions].map(({value:r})=>r):pp(t)?IU(e.refs).value:DU(Br(t.value)?e.ref.value:t.value,e)}var $ke=(e,t,r,n)=>{const a={};for(const i of e){const o=Ae(t,i);o&&Lt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Uy=e=>e instanceof RegExp,Mf=e=>Br(e)?e:Uy(e)?e.source:Ur(e)?Uy(e.value)?e.value.source:e.value:e,xR=e=>({isOnSubmit:!e||e===fi.onSubmit,isOnBlur:e===fi.onBlur,isOnChange:e===fi.onChange,isOnAll:e===fi.all,isOnTouch:e===fi.onTouched});const bR="AsyncFunction";var Ike=e=>!!e&&!!e.validate&&!!(hi(e.validate)&&e.validate.constructor.name===bR||Ur(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bR)),Dke=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),wR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const yh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ae(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(yh(l,t))break}else if(Ur(l)&&yh(l,t))break}}};function jR(e,t,r){const n=Ae(e,r);if(n||F0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ae(t,i),l=Ae(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Lke=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Zn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||fi.all))},Bke=(e,t,r)=>!e||!t||e===t||vh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Fke=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,zke=(e,t)=>!XN(Ae(e,t)).length&&Vr(e,t),Uke=(e,t,r)=>{const n=vh(Ae(e,r));return Lt(n,"root",t[r]),Lt(e,r,n),e},Ig=e=>Ui(e);function _R(e,t,r="validate"){if(Ig(e)||Array.isArray(e)&&e.every(Ig)||ha(e)&&!e)return{type:r,message:Ig(e)?e:"",ref:t}}var Oc=e=>Ur(e)&&!Uy(e)?e:{value:e,message:""},SR=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:g,valueAsNumber:p,mount:v}=e._f,x=Ae(r,g);if(!v||t.has(g))return{};const b=l?l[0]:o,_=E=>{a&&b.reportValidity&&(b.setCustomValidity(ha(E)?"":E||""),b.reportValidity())},j={},S=tP(o),C=pp(o),k=S||C,N=(p||eP(o))&&Br(o.value)&&Br(x)||Fy(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,R=TU.bind(null,g,n,j),O=(E,T,P,A=ls.maxLength,$=ls.minLength)=>{const M=E?T:P;j[g]={type:E?A:$,message:M,ref:o,...R(E?A:$,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!k&&(N||Fn(x))||ha(x)&&!x||C&&!IU(l).isValid||S&&!LU(l).isValid)){const{value:E,message:T}=Ig(c)?{value:!!c,message:c}:Oc(c);if(E&&(j[g]={type:ls.required,message:T,ref:b,...R(ls.required,T)},!n))return _(T),j}if(!N&&(!Fn(f)||!Fn(h))){let E,T;const P=Oc(h),A=Oc(f);if(!Fn(x)&&!isNaN(x)){const $=o.valueAsNumber||x&&+x;Fn(P.value)||(E=$>P.value),Fn(A.value)||(T=$<A.value)}else{const $=o.valueAsDate||new Date(x),M=z=>new Date(new Date().toDateString()+" "+z),L=o.type=="time",B=o.type=="week";Ui(P.value)&&x&&(E=L?M(x)>M(P.value):B?x>P.value:$>new Date(P.value)),Ui(A.value)&&x&&(T=L?M(x)<M(A.value):B?x<A.value:$<new Date(A.value))}if((E||T)&&(O(!!E,P.message,A.message,ls.max,ls.min),!n))return _(j[g].message),j}if((u||d)&&!N&&(Ui(x)||i&&Array.isArray(x))){const E=Oc(u),T=Oc(d),P=!Fn(E.value)&&x.length>+E.value,A=!Fn(T.value)&&x.length<+T.value;if((P||A)&&(O(P,E.message,T.message),!n))return _(j[g].message),j}if(m&&!N&&Ui(x)){const{value:E,message:T}=Oc(m);if(Uy(E)&&!x.match(E)&&(j[g]={type:ls.pattern,message:T,ref:o,...R(ls.pattern,T)},!n))return _(T),j}if(y){if(hi(y)){const E=await y(x,r),T=_R(E,b);if(T&&(j[g]={...T,...R(ls.validate,T.message)},!n))return _(T.message),j}else if(Ur(y)){let E={};for(const T in y){if(!Zn(E)&&!n)break;const P=_R(await y[T](x,r),b,T);P&&(E={...P,...R(T,P.message)},_(P.message),n&&(j[g]=E))}if(!Zn(E)&&(j[g]={ref:b,...E},!n))return j}}return _(!0),j};const Vke={mode:fi.onSubmit,reValidateMode:fi.onChange,shouldFocusError:!0};function Wke(e={}){let t={...Vke,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:hi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ur(t.defaultValues)||Ur(t.values)?Qr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:mR(),state:mR()},m=t.criteriaMode===fi.all,y=F=>Z=>{clearTimeout(u),u=setTimeout(F,Z)},g=async F=>{if(!t.disabled&&(d.isValid||f.isValid||F)){const Z=t.resolver?Zn((await C()).errors):await N(n,!0);Z!==r.isValid&&h.state.next({isValid:Z})}},p=(F,Z)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(l.mount)).forEach(oe=>{oe&&(Z?Lt(r.validatingFields,oe,Z):Vr(r.validatingFields,oe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Zn(r.validatingFields)}))},v=(F,Z=[],oe,J,ce=!0,pe=!0)=>{if(J&&oe&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Ae(n,F))){const ue=oe(Ae(n,F),J.argA,J.argB);ce&&Lt(n,F,ue)}if(pe&&Array.isArray(Ae(r.errors,F))){const ue=oe(Ae(r.errors,F),J.argA,J.argB);ce&&Lt(r.errors,F,ue),zke(r.errors,F)}if((d.touchedFields||f.touchedFields)&&pe&&Array.isArray(Ae(r.touchedFields,F))){const ue=oe(Ae(r.touchedFields,F),J.argA,J.argB);ce&&Lt(r.touchedFields,F,ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Rf(a,i)),h.state.next({name:F,isDirty:O(F,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lt(i,F,Z)},x=(F,Z)=>{Lt(r.errors,F,Z),h.state.next({errors:r.errors})},b=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},_=(F,Z,oe,J)=>{const ce=Ae(n,F);if(ce){const pe=Ae(i,F,Br(oe)?Ae(a,F):oe);Br(pe)||J&&J.defaultChecked||Z?Lt(i,F,Z?pe:yR(ce._f)):P(F,pe),o.mount&&g()}},j=(F,Z,oe,J,ce)=>{let pe=!1,ue=!1;const ve={name:F};if(!t.disabled){if(!oe||J){(d.isDirty||f.isDirty)&&(ue=r.isDirty,r.isDirty=ve.isDirty=O(),pe=ue!==ve.isDirty);const ke=ps(Ae(a,F),Z);ue=!!Ae(r.dirtyFields,F),ke?Vr(r.dirtyFields,F):Lt(r.dirtyFields,F,!0),ve.dirtyFields=r.dirtyFields,pe=pe||(d.dirtyFields||f.dirtyFields)&&ue!==!ke}if(oe){const ke=Ae(r.touchedFields,F);ke||(Lt(r.touchedFields,F,oe),ve.touchedFields=r.touchedFields,pe=pe||(d.touchedFields||f.touchedFields)&&ke!==oe)}pe&&ce&&h.state.next(ve)}return pe?ve:{}},S=(F,Z,oe,J)=>{const ce=Ae(r.errors,F),pe=(d.isValid||f.isValid)&&ha(Z)&&r.isValid!==Z;if(t.delayError&&oe?(c=y(()=>x(F,oe)),c(t.delayError)):(clearTimeout(u),c=null,oe?Lt(r.errors,F,oe):Vr(r.errors,F)),(oe?!ps(ce,oe):ce)||!Zn(J)||pe){const ue={...J,...pe&&ha(Z)?{isValid:Z}:{},errors:r.errors,name:F};r={...r,...ue},h.state.next(ue)}},C=async F=>{p(F,!0);const Z=await t.resolver(i,t.context,$ke(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return p(F),Z},k=async F=>{const{errors:Z}=await C(F);if(F)for(const oe of F){const J=Ae(Z,oe);J?Lt(r.errors,oe,J):Vr(r.errors,oe)}else r.errors=Z;return Z},N=async(F,Z,oe={valid:!0})=>{for(const J in F){const ce=F[J];if(ce){const{_f:pe,...ue}=ce;if(pe){const ve=l.array.has(pe.name),ke=ce._f&&Ike(ce._f);ke&&d.validatingFields&&p([J],!0);const ot=await SR(ce,l.disabled,i,m,t.shouldUseNativeValidation&&!Z,ve);if(ke&&d.validatingFields&&p([J]),ot[pe.name]&&(oe.valid=!1,Z))break;!Z&&(Ae(ot,pe.name)?ve?Uke(r.errors,ot,pe.name):Lt(r.errors,pe.name,ot[pe.name]):Vr(r.errors,pe.name))}!Zn(ue)&&await N(ue,Z,oe)}}return oe.valid},R=()=>{for(const F of l.unMount){const Z=Ae(n,F);Z&&(Z._f.refs?Z._f.refs.every(oe=>!Nw(oe)):!Nw(Z._f.ref))&&q(F)}l.unMount=new Set},O=(F,Z)=>!t.disabled&&(F&&Z&&Lt(i,F,Z),!ps(z(),a)),E=(F,Z,oe)=>OU(F,l,{...o.mount?i:Br(Z)?a:Ui(F)?{[F]:Z}:Z},oe,Z),T=F=>XN(Ae(o.mount?i:a,F,t.shouldUnregister?Ae(a,F,[]):[])),P=(F,Z,oe={})=>{const J=Ae(n,F);let ce=Z;if(J){const pe=J._f;pe&&(!pe.disabled&&Lt(i,F,DU(Z,pe)),ce=Fy(pe.ref)&&Fn(Z)?"":Z,RU(pe.ref)?[...pe.ref.options].forEach(ue=>ue.selected=ce.includes(ue.value)):pe.refs?pp(pe.ref)?pe.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(ce)?ue.checked=!!ce.find(ve=>ve===ue.value):ue.checked=ce===ue.value||!!ce)}):pe.refs.forEach(ue=>ue.checked=ue.value===ce):eP(pe.ref)?pe.ref.value="":(pe.ref.value=ce,pe.ref.type||h.state.next({name:F,values:Qr(i)})))}(oe.shouldDirty||oe.shouldTouch)&&j(F,ce,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&B(F)},A=(F,Z,oe)=>{for(const J in Z){if(!Z.hasOwnProperty(J))return;const ce=Z[J],pe=F+"."+J,ue=Ae(n,pe);(l.array.has(F)||Ur(ce)||ue&&!ue._f)&&!Ml(ce)?A(pe,ce,oe):P(pe,ce,oe)}},$=(F,Z,oe={})=>{const J=Ae(n,F),ce=l.array.has(F),pe=Qr(Z);Lt(i,F,pe),ce?(h.array.next({name:F,values:Qr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&oe.shouldDirty&&h.state.next({name:F,dirtyFields:Rf(a,i),isDirty:O(F,pe)})):J&&!J._f&&!Fn(pe)?A(F,pe,oe):P(F,pe,oe),wR(F,l)&&h.state.next({...r,name:F}),h.state.next({name:o.mount?F:void 0,values:Qr(i)})},M=async F=>{o.mount=!0;const Z=F.target;let oe=Z.name,J=!0;const ce=Ae(n,oe),pe=ke=>{J=Number.isNaN(ke)||Ml(ke)&&isNaN(ke.getTime())||ps(ke,Ae(i,oe,ke))},ue=xR(t.mode),ve=xR(t.reValidateMode);if(ce){let ke,ot;const Ue=Z.type?yR(ce._f):kU(F),ht=F.type===By.BLUR||F.type===By.FOCUS_OUT,fe=!Dke(ce._f)&&!t.resolver&&!Ae(r.errors,oe)&&!ce._f.deps||Fke(ht,Ae(r.touchedFields,oe),r.isSubmitted,ve,ue),Ve=wR(oe,l,ht);Lt(i,oe,Ue),ht?(ce._f.onBlur&&ce._f.onBlur(F),c&&c(0)):ce._f.onChange&&ce._f.onChange(F);const ut=j(oe,Ue,ht),Mt=!Zn(ut)||Ve;if(!ht&&h.state.next({name:oe,type:F.type,values:Qr(i)}),fe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ht&&g():ht||g()),Mt&&h.state.next({name:oe,...Ve?{}:ut});if(!ht&&Ve&&h.state.next({...r}),t.resolver){const{errors:xt}=await C([oe]);if(pe(Ue),J){const mt=jR(r.errors,n,oe),sn=jR(xt,n,mt.name||oe);ke=sn.error,oe=sn.name,ot=Zn(xt)}}else p([oe],!0),ke=(await SR(ce,l.disabled,i,m,t.shouldUseNativeValidation))[oe],p([oe]),pe(Ue),J&&(ke?ot=!1:(d.isValid||f.isValid)&&(ot=await N(n,!0)));J&&(ce._f.deps&&B(ce._f.deps),S(oe,ot,ke,ut))}},L=(F,Z)=>{if(Ae(r.errors,Z)&&F.focus)return F.focus(),1},B=async(F,Z={})=>{let oe,J;const ce=vh(F);if(t.resolver){const pe=await k(Br(F)?F:ce);oe=Zn(pe),J=F?!ce.some(ue=>Ae(pe,ue)):oe}else F?(J=(await Promise.all(ce.map(async pe=>{const ue=Ae(n,pe);return await N(ue&&ue._f?{[pe]:ue}:ue)}))).every(Boolean),!(!J&&!r.isValid)&&g()):J=oe=await N(n);return h.state.next({...!Ui(F)||(d.isValid||f.isValid)&&oe!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:oe}:{},errors:r.errors}),Z.shouldFocus&&!J&&yh(n,L,F?ce:l.mount),J},z=F=>{const Z={...o.mount?i:a};return Br(F)?Z:Ui(F)?Ae(Z,F):F.map(oe=>Ae(Z,oe))},re=(F,Z)=>({invalid:!!Ae((Z||r).errors,F),isDirty:!!Ae((Z||r).dirtyFields,F),error:Ae((Z||r).errors,F),isValidating:!!Ae(r.validatingFields,F),isTouched:!!Ae((Z||r).touchedFields,F)}),ee=F=>{F&&vh(F).forEach(Z=>Vr(r.errors,Z)),h.state.next({errors:F?r.errors:{}})},se=(F,Z,oe)=>{const J=(Ae(n,F,{_f:{}})._f||{}).ref,ce=Ae(r.errors,F)||{},{ref:pe,message:ue,type:ve,...ke}=ce;Lt(r.errors,F,{...ke,...Z,ref:J}),h.state.next({name:F,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&J&&J.focus&&J.focus()},U=(F,Z)=>hi(F)?h.state.subscribe({next:oe=>"values"in oe&&F(E(void 0,Z),oe)}):E(F,Z,!0),V=F=>h.state.subscribe({next:Z=>{Bke(F.name,Z.name,F.exact)&&Lke(Z,F.formState||d,ge,F.reRenderRoot)&&F.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,K=F=>(o.mount=!0,f={...f,...F.formState},V({...F,formState:f})),q=(F,Z={})=>{for(const oe of F?vh(F):l.mount)l.mount.delete(oe),l.array.delete(oe),Z.keepValue||(Vr(n,oe),Vr(i,oe)),!Z.keepError&&Vr(r.errors,oe),!Z.keepDirty&&Vr(r.dirtyFields,oe),!Z.keepTouched&&Vr(r.touchedFields,oe),!Z.keepIsValidating&&Vr(r.validatingFields,oe),!t.shouldUnregister&&!Z.keepDefaultValue&&Vr(a,oe);h.state.next({values:Qr(i)}),h.state.next({...r,...Z.keepDirty?{isDirty:O()}:{}}),!Z.keepIsValid&&g()},me=({disabled:F,name:Z})=>{(ha(F)&&o.mount||F||l.disabled.has(Z))&&(F?l.disabled.add(Z):l.disabled.delete(Z))},D=(F,Z={})=>{let oe=Ae(n,F);const J=ha(Z.disabled)||ha(t.disabled);return Lt(n,F,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:F}},name:F,mount:!0,...Z}}),l.mount.add(F),oe?me({disabled:ha(Z.disabled)?Z.disabled:t.disabled,name:F}):_(F,!0,Z.value),{...J?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:Mf(Z.min),max:Mf(Z.max),minLength:Mf(Z.minLength),maxLength:Mf(Z.maxLength),pattern:Mf(Z.pattern)}:{},name:F,onChange:M,onBlur:M,ref:ce=>{if(ce){D(F,Z),oe=Ae(n,F);const pe=Br(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,ue=Tke(pe),ve=oe._f.refs||[];if(ue?ve.find(ke=>ke===pe):pe===oe._f.ref)return;Lt(n,F,{_f:{...oe._f,...ue?{refs:[...ve.filter(Nw),pe,...Array.isArray(Ae(a,F))?[{}]:[]],ref:{type:pe.type,name:F}}:{ref:pe}}}),_(F,!1,void 0,pe)}else oe=Ae(n,F,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(EU(l.array,F)&&o.action)&&l.unMount.add(F)}}},G=()=>t.shouldFocusError&&yh(n,L,l.mount),W=F=>{ha(F)&&(h.state.next({disabled:F}),yh(n,(Z,oe)=>{const J=Ae(n,oe);J&&(Z.disabled=J._f.disabled||F,Array.isArray(J._f.refs)&&J._f.refs.forEach(ce=>{ce.disabled=J._f.disabled||F}))},0,!1))},X=(F,Z)=>async oe=>{let J;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ce=Qr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:ue}=await C();r.errors=pe,ce=Qr(ue)}else await N(n);if(l.disabled.size)for(const pe of l.disabled)Vr(ce,pe);if(Vr(r.errors,"root"),Zn(r.errors)){h.state.next({errors:{}});try{await F(ce,oe)}catch(pe){J=pe}}else Z&&await Z({...r.errors},oe),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zn(r.errors)&&!J,submitCount:r.submitCount+1,errors:r.errors}),J)throw J},Q=(F,Z={})=>{Ae(n,F)&&(Br(Z.defaultValue)?$(F,Qr(Ae(a,F))):($(F,Z.defaultValue),Lt(a,F,Qr(Z.defaultValue))),Z.keepTouched||Vr(r.touchedFields,F),Z.keepDirty||(Vr(r.dirtyFields,F),r.isDirty=Z.defaultValue?O(F,Qr(Ae(a,F))):O()),Z.keepError||(Vr(r.errors,F),d.isValid&&g()),h.state.next({...r}))},we=(F,Z={})=>{const oe=F?Qr(F):a,J=Qr(oe),ce=Zn(F),pe=ce?a:J;if(Z.keepDefaultValues||(a=oe),!Z.keepValues){if(Z.keepDirtyValues){const ue=new Set([...l.mount,...Object.keys(Rf(a,i))]);for(const ve of Array.from(ue))Ae(r.dirtyFields,ve)?Lt(pe,ve,Ae(i,ve)):$(ve,Ae(pe,ve))}else{if(YN&&Br(F))for(const ue of l.mount){const ve=Ae(n,ue);if(ve&&ve._f){const ke=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(Fy(ke)){const ot=ke.closest("form");if(ot){ot.reset();break}}}}if(Z.keepFieldsRef)for(const ue of l.mount)$(ue,Ae(pe,ue));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?Qr(a):{}:Qr(pe),h.array.next({values:{...pe}}),h.state.next({values:{...pe}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!ps(F,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?Rf(a,i):r.dirtyFields:Z.keepDefaultValues&&F?Rf(a,F):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(F,Z)=>we(hi(F)?F(i):F,Z),qe=(F,Z={})=>{const oe=Ae(n,F),J=oe&&oe._f;if(J){const ce=J.refs?J.refs[0]:J.ref;ce.focus&&(ce.focus(),Z.shouldSelect&&hi(ce.select)&&ce.select())}},ge=F=>{r={...r,...F}},Ze={control:{register:D,unregister:q,getFieldState:re,handleSubmit:X,setError:se,_subscribe:V,_runSchema:C,_focusError:G,_getWatch:E,_getDirty:O,_setValid:g,_setFieldArray:v,_setDisabledField:me,_setErrors:b,_getFieldArray:T,_reset:we,_resetDefaultValues:()=>hi(t.defaultValues)&&t.defaultValues().then(F=>{$e(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:W,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return a},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:K,trigger:B,register:D,handleSubmit:X,watch:U,setValue:$,getValues:z,reset:$e,resetField:Q,clearErrors:ee,unregister:q,setError:se,setFocus:qe,getFieldState:re};return{...Ze,formControl:Ze}}function CR(e={}){const t=I.useRef(void 0),r=I.useRef(void 0),[n,a]=I.useState({isDirty:!1,isValidating:!1,isLoading:hi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:hi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!hi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Wke(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,JN(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),I.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),I.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),I.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),I.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),I.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),I.useEffect(()=>{e.values&&!ps(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),I.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=AU(n,i),t.current}const NR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},BU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?NR(n.ref,r,e):n.refs&&n.refs.forEach(a=>NR(a,r,e))}},Hke=(e,t)=>{t.shouldUseNativeValidation&&BU(e,t);const r={};for(const n in e){const a=Ae(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(qke(t.names||Object.keys(e),n)){const o=Object.assign({},Ae(r,n));Lt(o,"root",i),Lt(r,n,o)}else Lt(r,n,i)}return r},qke=(e,t)=>e.some(r=>r.startsWith(t+"."));var Kke=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=TU(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},PR=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&BU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Hke(Kke(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const kR=Pke,FU=w.createContext({}),$f=({...e})=>s.jsx(FU.Provider,{value:{name:e.name},children:s.jsx(Oke,{...e})}),U0=()=>{const e=w.useContext(FU),t=w.useContext(zU),{getFieldState:r,formState:n}=z0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},zU=w.createContext({}),Bc=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return s.jsx(zU.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:de("space-y-2",e),...t})})});Bc.displayName="FormItem";const Fc=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=U0();return s.jsx(Ne,{ref:r,className:de(n&&"text-destructive",e),htmlFor:a,...t})});Fc.displayName="FormLabel";const zc=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=U0();return s.jsx(cI,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});zc.displayName="FormControl";const Gke=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=U0();return s.jsx("p",{ref:r,id:n,className:de("text-sm text-muted-foreground",e),...t})});Gke.displayName="FormDescription";const Uc=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=U0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:de("text-sm font-medium text-destructive",e),...r,children:o}):null});Uc.displayName="FormMessage";const Yke=NU({email:gh().trim().email({message:"Email invalide"}),password:gh().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),Xke=NU({email:gh().trim().email({message:"Email invalide"}),password:gh().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:gh().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function Zke(){const{user:e,loading:t,signIn:r,signUp:n}=Ca(),a=np(),[i,o]=w.useState(!1);w.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=CR({resolver:PR(Yke),defaultValues:{email:"",password:""}}),c=CR({resolver:PR(Xke),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{o(!0);const{error:h}=await r(f.email,f.password);o(!1),h?h.message.includes("Invalid login credentials")?xn({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?xn({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):xn({title:"Erreur",description:h.message,variant:"destructive"}):(xn({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},d=async f=>{o(!0);const{error:h}=await n(f.email,f.password,f.displayName);o(!1),h?h.message.includes("already registered")?xn({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):xn({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):xn({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:s.jsxs(Ft,{className:"w-full max-w-md",children:[s.jsxs(hr,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(_C,{variant:"full",color:"dark"})}),s.jsx(mr,{className:"whitespace-pre-line",children:"We engage, we move"}),s.jsx(js,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),s.jsx(Qt,{children:s.jsxs(Ni,{defaultValue:"login",className:"w-full",children:[s.jsxs(qa,{className:"grid w-full grid-cols-2",children:[s.jsx(Ot,{value:"login",children:"Connexion"}),s.jsx(Ot,{value:"signup",children:"Inscription"})]}),s.jsx(Vt,{value:"login",className:"mt-4",children:s.jsx(kR,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[s.jsx($f,{control:l.control,name:"email",render:({field:f})=>s.jsxs(Bc,{children:[s.jsx(Fc,{children:"Email"}),s.jsx(zc,{children:s.jsx(be,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Uc,{})]})}),s.jsx($f,{control:l.control,name:"password",render:({field:f})=>s.jsxs(Bc,{children:[s.jsx(Fc,{children:"Mot de passe"}),s.jsx(zc,{children:s.jsx(be,{type:"password",placeholder:"",...f})}),s.jsx(Uc,{})]})}),s.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),s.jsx(Vt,{value:"signup",className:"mt-4",children:s.jsx(kR,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsx($f,{control:c.control,name:"displayName",render:({field:f})=>s.jsxs(Bc,{children:[s.jsx(Fc,{children:"Nom complet"}),s.jsx(zc,{children:s.jsx(be,{placeholder:"Jean Dupont",...f})}),s.jsx(Uc,{})]})}),s.jsx($f,{control:c.control,name:"email",render:({field:f})=>s.jsxs(Bc,{children:[s.jsx(Fc,{children:"Email"}),s.jsx(zc,{children:s.jsx(be,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Uc,{})]})}),s.jsx($f,{control:c.control,name:"password",render:({field:f})=>s.jsxs(Bc,{children:[s.jsx(Fc,{children:"Mot de passe"}),s.jsx(zc,{children:s.jsx(be,{type:"password",placeholder:"",...f})}),s.jsx(Uc,{})]})}),s.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const Qke=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function Jke(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var o;try{const{data:l}=await xe.auth.getSession(),c=(o=l==null?void 0:l.session)==null?void 0:o.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await xe.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const m=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(m)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(o,l)=>{try{await xe.from("user_roles").upsert({user_id:o,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===o?{...u,role:l}:u)),xn({title:"Rle mis  jour"})}catch{xn({title:"Erreur",variant:"destructive"})}};return r?s.jsx(gi,{className:"h-6 w-6 animate-spin mx-auto"}):s.jsxs(Ft,{children:[s.jsx(hr,{children:s.jsx(mr,{children:"Gestion des Utilisateurs"})}),s.jsx(Qt,{children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Email"}),s.jsx(ie,{children:"Rle"})]})}),s.jsxs(Kt,{children:[e.map(o=>s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium",children:o.display_name||""}),s.jsx(H,{className:"text-sm text-muted-foreground",children:o.email}),s.jsx(H,{children:s.jsxs(lt,{value:o.role,onValueChange:l=>i(o.id,l),children:[s.jsx(it,{className:"w-32",children:s.jsx(ct,{})}),s.jsx(st,{children:Qke.map(l=>s.jsx(Be,{value:l,children:l},l))})]})})]},o.id)),e.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const ER=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],eEe=["hidden","read","write"],Pw=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],tEe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},kw={hidden:{label:"Masqu",icon:qI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:KW,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:cv,color:"bg-green-100 text-green-800"}};function rEe(){const{isAdmin:e,loading:t}=Ca(),r=np(),[n,a]=w.useState({}),[i,o]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await xe.from("tab_permissions").select("*");if(h)throw h;const m={};ER.forEach(y=>{m[y]={},Pw.forEach(g=>{m[y][g.key]="hidden"})}),f==null||f.forEach(y=>{m[y.role]&&(m[y.role][y.tab_key]=y.permission)}),a(m)}catch{}finally{o(!1)}},d=async(f,h,m)=>{c(`${f}:${h}`);try{await xe.from("tab_permissions").upsert({role:f,tab_key:h,permission:m},{onConflict:"role,tab_key"}),a(y=>({...y,[f]:{...y[f],[h]:m}})),xn({title:"Permission mise  jour"})}catch{xn({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(YI,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),s.jsxs(Ni,{defaultValue:"users",className:"space-y-6",children:[s.jsxs(qa,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(Ot,{value:"users",className:"flex items-center gap-2",children:[s.jsx(Oo,{className:"h-4 w-4"}),"Utilisateurs"]}),s.jsxs(Ot,{value:"permissions",className:"flex items-center gap-2",children:[s.jsx(GI,{className:"h-4 w-4"}),"Permissions"]})]}),s.jsx(Vt,{value:"users",children:s.jsx(Jke,{})}),s.jsx(Vt,{value:"permissions",className:"space-y-6",children:s.jsxs(Ft,{children:[s.jsxs(hr,{children:[s.jsx(mr,{children:"Matrice des Permissions"}),s.jsx(js,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),s.jsx(Qt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"w-32",children:"Rle"}),Pw.map(f=>s.jsx(ie,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),s.jsx(Kt,{children:ER.map(f=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsx(Oe,{variant:f==="admin"?"default":"secondary",children:tEe[f]})}),Pw.map(h=>{var g;const m=((g=n[f])==null?void 0:g[h.key])||"hidden",y=`${f}:${h.key}`;return s.jsx(H,{className:"text-center p-2",children:f==="admin"?s.jsxs(Oe,{className:kw.write.color,children:[s.jsx(cv,{className:"h-3 w-3 mr-1"}),kw.write.label]}):s.jsxs(lt,{value:m,onValueChange:p=>d(f,h.key,p),disabled:l===y,children:[s.jsx(it,{className:"w-28",children:s.jsx(ct,{})}),s.jsx(st,{children:eEe.map(p=>{const{label:v,icon:x}=kw[p];return s.jsx(Be,{value:p,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{className:"h-3 w-3"}),v]})},p)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const Ew=[50,100,200,500,1e3,2e3,5e3,1e4];function nEe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function rP(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[m,y]=w.useState(!0),[g,p]=w.useState(!1),v=w.useCallback(async()=>{if(e){g||y(!0);try{const[V,K,q,me,D,G]=await Promise.all([xe.from("costflow_references").select("*").order("code"),xe.from("costflow_products").select("*").order("name"),xe.from("costflow_bom").select("*"),xe.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),xe.from("costflow_suppliers").select("*").order("name"),xe.from("costflow_product_categories").select("*").order("name")]);V.data&&r(V.data.map(nEe)),K.data&&a(K.data.map(W=>({id:W.id,name:W.name,family:W.family||"Standard",main_supplier:W.main_supplier||"",coefficient:Number(W.coefficient)||1.3,price_ttc:Number(W.price_ttc)||0,default_volume:W.default_volume||500,comments:W.comments||"",category_id:W.category_id||null,created_at:W.created_at,updated_at:W.updated_at}))),q.data&&o(q.data.map(W=>({id:W.id,product_id:W.product_id,reference_id:W.reference_id,quantity:Number(W.quantity)||1}))),me.data&&c(me.data.map(W=>({id:W.id,reference_id:W.reference_id,file_name:W.file_name,file_path:W.file_path,file_size:W.file_size||0,version:W.version||1,uploaded_at:W.uploaded_at}))),D.data&&d(D.data.map(W=>({id:W.id,name:W.name,contact_name:W.contact_name||"",email:W.email||"",phone:W.phone||"",country:W.country||"France",comments:W.comments||"",created_at:W.created_at,updated_at:W.updated_at}))),G.data&&h(G.data.map(W=>({id:W.id,name:W.name,description:W.description||"",color:W.color||"#6366f1",created_at:W.created_at})))}catch(V){console.error("CostFlow fetch error:",V)}finally{y(!1),p(!0)}}},[e,g]);w.useEffect(()=>{v()},[v]);const x=async V=>{if(!e)return;const K=V.prices||{},{error:q}=await xe.from("costflow_references").insert({user_id:e.id,code:V.code,name:V.name,category:V.category||"Mcanique",revision:V.revision||"A",supplier:V.supplier||"",currency:V.currency||"EUR",comments:V.comments||"",price_vol_50:K[50]||0,price_vol_100:K[100]||0,price_vol_200:K[200]||0,price_vol_500:K[500]||0,price_vol_1000:K[1e3]||0,price_vol_2000:K[2e3]||0,price_vol_5000:K[5e3]||0,price_vol_10000:K[1e4]||0});q?(Ee.error("Erreur cration rfrence"),console.error(q)):(Ee.success("Rfrence cre"),v())},b=async(V,K)=>{if(!e)return;const q={};K.code!==void 0&&(q.code=K.code),K.name!==void 0&&(q.name=K.name),K.category!==void 0&&(q.category=K.category),K.revision!==void 0&&(q.revision=K.revision),K.supplier!==void 0&&(q.supplier=K.supplier),K.currency!==void 0&&(q.currency=K.currency),K.comments!==void 0&&(q.comments=K.comments),K.prices&&(q.price_vol_50=K.prices[50]??0,q.price_vol_100=K.prices[100]??0,q.price_vol_200=K.prices[200]??0,q.price_vol_500=K.prices[500]??0,q.price_vol_1000=K.prices[1e3]??0,q.price_vol_2000=K.prices[2e3]??0,q.price_vol_5000=K.prices[5e3]??0,q.price_vol_10000=K.prices[1e4]??0);const{error:me}=await xe.from("costflow_references").update(q).eq("id",V);me?(Ee.error("Erreur mise  jour"),console.error(me)):(Ee.success("Rfrence mise  jour"),v())},_=async V=>{const{error:K}=await xe.from("costflow_references").delete().eq("id",V);K?(Ee.error("Erreur suppression"),console.error(K)):(Ee.success("Rfrence supprime"),v())},j=async(V,K="skip")=>{if(!e||V.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const q={imported:0,skipped:0,updated:0,errors:[]},me=t.map(W=>W.code),D=V.filter(W=>!me.includes(W.code||"")),G=V.filter(W=>me.includes(W.code||""));if(D.length>0){const W=D.map(Q=>{const we=Q.prices||{};return{user_id:e.id,code:Q.code,name:Q.name||Q.code,category:Q.category||"Mcanique",revision:Q.revision||"A",supplier:Q.supplier||"",currency:Q.currency||"EUR",comments:Q.comments||"",price_vol_50:we[50]||0,price_vol_100:we[100]||0,price_vol_200:we[200]||0,price_vol_500:we[500]||0,price_vol_1000:we[1e3]||0,price_vol_2000:we[2e3]||0,price_vol_5000:we[5e3]||0,price_vol_10000:we[1e4]||0}}),{error:X}=await xe.from("costflow_references").insert(W);X?q.errors.push(`Erreur insertion : ${X.message}`):q.imported=D.length}if(G.length>0)if(K==="skip")q.skipped=G.length;else for(const W of G){const X=t.find($e=>$e.code===W.code);if(!X)continue;const Q=W.prices||{},{error:we}=await xe.from("costflow_references").update({name:W.name||W.code,supplier:W.supplier||"",currency:W.currency||"EUR",comments:W.comments||"",price_vol_50:Q[50]||0,price_vol_100:Q[100]||0,price_vol_200:Q[200]||0,price_vol_500:Q[500]||0,price_vol_1000:Q[1e3]||0,price_vol_2000:Q[2e3]||0,price_vol_5000:Q[5e3]||0,price_vol_10000:Q[1e4]||0}).eq("id",X.id);we?q.errors.push(`Erreur mise  jour ${W.code}`):q.updated++}return v(),q},S=async V=>{if(!e)return;const{error:K}=await xe.from("costflow_products").insert({user_id:e.id,name:V.name,family:V.family||"Standard",main_supplier:V.main_supplier||"",coefficient:V.coefficient||1.3,price_ttc:V.price_ttc||0,default_volume:V.default_volume||500,comments:V.comments||""});K?(Ee.error("Erreur cration produit"),console.error(K)):(Ee.success("Produit cr"),v())},C=async(V,K)=>{if(!e)return;const{error:q}=await xe.from("costflow_products").update(K).eq("id",V);q?(Ee.error("Erreur mise  jour"),console.error(q)):(Ee.success("Produit mis  jour"),v())},k=async V=>{const{error:K}=await xe.from("costflow_products").delete().eq("id",V);K?(Ee.error("Erreur suppression"),console.error(K)):(Ee.success("Produit supprim"),v())},N=async(V,K,q)=>{if(!e)return;const{error:me}=await xe.from("costflow_bom").insert({user_id:e.id,product_id:V,reference_id:K,quantity:q});me?(Ee.error("Erreur ajout nomenclature"),console.error(me)):v()},R=async(V,K)=>{const{error:q}=await xe.from("costflow_bom").update({quantity:K}).eq("id",V);q?(Ee.error("Erreur mise  jour"),console.error(q)):v()},O=async V=>{const{error:K}=await xe.from("costflow_bom").delete().eq("id",V);K?(Ee.error("Erreur suppression"),console.error(K)):v()},E=async(V,K)=>{if(!e)return;const q=`${e.id}/${V}/${Date.now()}_${K.name}`,{error:me}=await xe.storage.from("technical-plans").upload(q,K);if(me){Ee.error("Erreur upload fichier"),console.error(me);return}const D=l.filter(X=>X.reference_id===V),G=D.length>0?Math.max(...D.map(X=>X.version)):0,{error:W}=await xe.from("costflow_reference_files").insert({user_id:e.id,reference_id:V,file_name:K.name,file_path:q,file_size:K.size,version:G+1});W?(Ee.error("Erreur enregistrement fichier"),console.error(W)):(Ee.success("Fichier upload"),v())},T=async(V,K)=>{await xe.storage.from("technical-plans").remove([K]);const{error:q}=await xe.from("costflow_reference_files").delete().eq("id",V);q?(Ee.error("Erreur suppression fichier"),console.error(q)):v()},P=V=>{const{data:K}=xe.storage.from("technical-plans").getPublicUrl(V);return K.publicUrl},A=async V=>{const{data:K,error:q}=await xe.storage.from("technical-plans").createSignedUrl(V,3600);return q?(Ee.error("Erreur accs fichier"),null):K.signedUrl},$=(V,K)=>{const q=i.filter(W=>W.product_id===V),me=n.find(W=>W.id===V);if(!me)return 0;const D=Ew.reduce((W,X)=>Math.abs(X-K)<Math.abs(W-K)?X:W);let G=0;for(const W of q){const X=t.find(Q=>Q.id===W.reference_id);X&&(G+=W.quantity*(X.prices[D]||0))}return G*me.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:f,loading:m,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:j,createProduct:S,updateProduct:C,deleteProduct:k,createProductWithBom:async(V,K)=>{if(!e)return;const{data:q,error:me}=await xe.from("costflow_products").insert({user_id:e.id,name:V.name,family:V.family||"Standard",main_supplier:V.main_supplier||"",coefficient:V.coefficient||1.3,price_ttc:V.price_ttc||0,default_volume:V.default_volume||500,comments:V.comments||""}).select("id").single();if(me||!q){Ee.error("Erreur cration produit"),console.error(me);return}const D=q.id;if(K.length>0){const G=K.map(X=>({user_id:e.id,product_id:D,reference_id:X.referenceId,quantity:X.quantity})),{error:W}=await xe.from("costflow_bom").insert(G);W&&(Ee.error("Erreur ajout nomenclature"),console.error(W))}Ee.success(`Produit "${V.name}" cr avec ${K.length} rfrence(s)`),v()},addBomEntry:N,updateBomEntry:R,removeBomEntry:O,uploadFile:E,deleteFile:T,getFileUrl:P,getSignedUrl:A,createSupplier:async V=>{if(!e)return;const{error:K}=await xe.from("costflow_suppliers").insert({user_id:e.id,name:V.name,contact_name:V.contact_name||"",email:V.email||"",phone:V.phone||"",country:V.country||"France",comments:V.comments||""});K?(Ee.error("Erreur cration fournisseur"),console.error(K)):(Ee.success("Fournisseur cr"),v())},updateSupplier:async(V,K)=>{if(!e)return;const{error:q}=await xe.from("costflow_suppliers").update(K).eq("id",V);q?(Ee.error("Erreur mise  jour fournisseur"),console.error(q)):(Ee.success("Fournisseur mis  jour"),v())},deleteSupplier:async V=>{const{error:K}=await xe.from("costflow_suppliers").delete().eq("id",V);K?(Ee.error("Erreur suppression fournisseur"),console.error(K)):(Ee.success("Fournisseur supprim"),v())},createProductCategory:async V=>{if(!e)return;const{error:K}=await xe.from("costflow_product_categories").insert({user_id:e.id,name:V.name,description:V.description||"",color:V.color||"#6366f1"});K?(Ee.error("Erreur cration catgorie"),console.error(K)):(Ee.success("Catgorie cre"),v())},updateProductCategory:async(V,K)=>{if(!e)return;const{error:q}=await xe.from("costflow_product_categories").update(K).eq("id",V);q?(Ee.error("Erreur mise  jour catgorie"),console.error(q)):(Ee.success("Catgorie mise  jour"),v())},deleteProductCategory:async V=>{await xe.from("costflow_products").update({category_id:null}).eq("category_id",V);const{error:K}=await xe.from("costflow_product_categories").delete().eq("id",V);K?(Ee.error("Erreur suppression catgorie"),console.error(K)):(Ee.success("Catgorie supprime"),v())},calculateProductCost:$,calculateProductCosts:V=>{const K={};for(const q of Ew)K[q]=$(V,q);return K},VOLUME_TIERS:Ew,refresh:v}}const aEe=Rd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bo=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:de(aEe({variant:t}),e),...r}));bo.displayName="Alert";const iEe=w.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));iEe.displayName="AlertTitle";const wo=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",e),...t}));wo.displayName="AlertDescription";const Aw=["EUR","USD","GBP","CHF","CNY","JPY"],hg=[50,100,200,500,1e3,2e3,5e3,1e4];function Tc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function If(e){return e.code.trim().length>0}function sEe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=w.useState([Tc()]),[o,l]=w.useState(!1),[c,u]=w.useState("skip"),[d,f]=w.useState(null),h=w.useRef(null),m=w.useRef(null),y=a.filter(k=>If(k)).length,g=a.filter(k=>k.code&&n.includes(k.code)).length,p=(k,N,R)=>{i(O=>{const E=[...O];return E[k]={...E[k],[N]:R},E[k].valid=If(E[k]),E[k].isDuplicate=E[k].code?n.includes(E[k].code):!1,E})},v=(k,N,R)=>{i(O=>{const E=[...O];return E[k]={...E[k],prices:{...E[k].prices,[N]:R}},E})},x=k=>{i(N=>N.length===1?[Tc()]:N.filter((R,O)=>O!==k))},b=()=>i(k=>[...k,Tc()]),_=w.useCallback(k=>{const N=k.clipboardData.getData("text/plain");if(!N.includes("	")&&!N.includes(`
`))return;k.preventDefault();const R=N.split(`
`).map(A=>A.trim()).filter(A=>A.length>0),O=R[0].toLowerCase(),P=(O.includes("code")||O.includes("nom")||O.includes("name")?R.slice(1):R).map(A=>{const $=A.split("	"),M=Tc();return M.code=($[0]||"").trim(),M.name=($[1]||"").trim(),M.supplier=($[2]||"").trim(),M.currency=Aw.includes(($[3]||"").trim().toUpperCase())?($[3]||"EUR").trim().toUpperCase():"EUR",hg.forEach((L,B)=>{const z=parseFloat(($[4+B]||"").replace(",","."));isNaN(z)||(M.prices[L]=z)}),M.unit=($[12]||"pice").trim(),M.comments=($[13]||"").trim(),M.valid=If(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter(A=>A.code||A.name);P.length>0&&i(A=>A.length===1&&!A[0].code&&!A[0].name?P:[...A,...P])},[]),j=k=>{var O;const N=(O=k.target.files)==null?void 0:O[0];if(!N)return;const R=new FileReader;R.onload=E=>{var z;const T=(z=E.target)==null?void 0:z.result;if(!T)return;const P=T.includes("	")?"	":T.includes(";")?";":",",A=T.split(`
`).map(re=>re.trim()).filter(re=>re.length>0),$=A[0].toLowerCase(),B=($.includes("code")||$.includes("nom")?A.slice(1):A).map(re=>{const ee=re.split(P),se=Tc();return se.code=(ee[0]||"").trim(),se.name=(ee[1]||"").trim(),se.supplier=(ee[2]||"").trim(),se.currency=Aw.includes((ee[3]||"").trim().toUpperCase())?(ee[3]||"EUR").trim().toUpperCase():"EUR",hg.forEach((U,V)=>{const K=parseFloat((ee[4+V]||"").replace(",","."));isNaN(K)||(se.prices[U]=K)}),se.unit=(ee[12]||"pice").trim(),se.comments=(ee[13]||"").trim(),se.valid=If(se),se.isDuplicate=se.code?n.includes(se.code):!1,se}).filter(re=>re.code||re.name);B.length>0&&i(B)},R.readAsText(N),m.current&&(m.current.value="")},S=async()=>{const k=a.filter(O=>If(O));if(k.length===0)return;l(!0);const N=k.map(O=>({code:O.code,name:O.name||O.code,supplier:O.supplier||"",currency:O.currency||"EUR",prices:O.prices||{},comments:O.comments||"",category:"Mcanique",revision:"A"})),R=await r(N,c);f(R),l(!1)},C=()=>{i([Tc()]),f(null),t(!1)};return d?s.jsx(_r,{open:e,onOpenChange:C,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(yr,{children:s.jsxs(xr,{className:"flex items-center gap-2",children:[s.jsx(UI,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:"default",className:"bg-green-600",children:d.imported}),s.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:"secondary",children:d.updated}),s.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:"outline",children:d.skipped}),s.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&s.jsx(bo,{variant:"destructive",children:s.jsx(wo,{children:d.errors.map((k,N)=>s.jsx("div",{className:"text-xs",children:k},N))})})]}),s.jsx(ae,{onClick:C,className:"w-full",children:"Fermer"})]})}):s.jsx(_r,{open:e,onOpenChange:C,children:s.jsxs(vr,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(yr,{children:[s.jsx(xr,{children:"Importer des rfrences"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ni,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(qa,{className:"w-full",children:[s.jsxs(Ot,{value:"paste",className:"flex-1",children:[s.jsx(VI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(Ot,{value:"file",className:"flex-1",children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Vt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(bo,{children:[s.jsx(Lh,{className:"h-4 w-4"}),s.jsxs(wo,{children:[s.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",s.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),g>0&&s.jsxs(bo,{children:[s.jsx(Fu,{className:"h-4 w-4"}),s.jsxs(wo,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:[g," code(s) dj existant(s)"]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(ae,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),s.jsx(ae,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),s.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),hg.map(k=>s.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:k},k)),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:a.map((k,N)=>s.jsxs("tr",{className:`border-t ${k.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[s.jsx("td",{className:"px-1 py-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(be,{className:`h-8 text-xs ${k.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:k.code,onChange:R=>p(N,"code",R.target.value)}),k.isDuplicate&&s.jsx(Fu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(be,{className:"h-8 text-xs",placeholder:"Nom...",value:k.name,onChange:R=>p(N,"name",R.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(be,{className:"h-8 text-xs",value:k.supplier,onChange:R=>p(N,"supplier",R.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsxs(lt,{value:k.currency,onValueChange:R=>p(N,"currency",R),children:[s.jsx(it,{className:"h-8 text-xs",children:s.jsx(ct,{})}),s.jsx(st,{children:Aw.map(R=>s.jsx(Be,{value:R,children:R},R))})]})}),hg.map(R=>s.jsx("td",{className:"px-1 py-1",children:s.jsx(be,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:k.prices[R]??"",onChange:O=>v(N,R,parseFloat(O.target.value)||0),placeholder:"0"})},R)),s.jsx("td",{className:"px-1 py-1",children:s.jsx(be,{className:"h-8 text-xs",value:k.unit,onChange:R=>p(N,"unit",R.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(be,{className:"h-8 text-xs",value:k.comments,onChange:R=>p(N,"comments",R.target.value)})}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>x(N),className:"text-destructive hover:text-destructive/80",children:s.jsx(za,{className:"h-4 w-4"})})})]},N))})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),s.jsxs("div",{className:"flex items-center gap-3",children:[g>0&&s.jsxs("span",{className:"text-xs text-yellow-600",children:[g," doublon(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),s.jsxs(Vt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(bo,{children:[s.jsx(Lh,{className:"h-4 w-4"}),s.jsxs(wo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:m,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:j}),s.jsx(ae,{variant:"outline",onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:C,children:[s.jsx(za,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ae,{onClick:S,disabled:y===0||o,children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const oEe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],lEe=["EUR","USD","GBP","CHF","CNY","JPY"],cEe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),uEe=[50,100,200,500,1e3,2e3,5e3,1e4];function dEe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:o}){const[l,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,y]=w.useState(null),[g,p]=w.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),v=e.filter(j=>j.code.toLowerCase().includes(l.toLowerCase())||j.name.toLowerCase().includes(l.toLowerCase())||j.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),p({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=j=>{y(j),p({code:j.code,name:j.name,category:j.category,revision:j.revision,supplier:j.supplier,currency:j.currency,comments:j.comments,prices:{...j.prices}}),h(!0)},_=async()=>{if(!g.code||!g.name)return;const j={...g,supplier:g.supplier==="none"?"":g.supplier};m?await n(m.id,j):await r(j),h(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(ZS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:j=>c(j.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>d(!0),children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(_r,{open:f,onOpenChange:h,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{onClick:x,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),s.jsxs(vr,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx(yr,{children:s.jsx(xr,{children:m?"Modifier la rfrence":"Nouvelle rfrence"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Code *"}),s.jsx(be,{value:g.code,onChange:j=>p({...g,code:j.target.value}),placeholder:"REF-001"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom *"}),s.jsx(be,{value:g.name,onChange:j=>p({...g,name:j.target.value}),placeholder:"Nom de la pice"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Catgorie"}),s.jsxs(lt,{value:g.category,onValueChange:j=>p({...g,category:j}),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:oEe.map(j=>s.jsx(Be,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Rvision"}),s.jsxs(lt,{value:g.revision,onValueChange:j=>p({...g,revision:j}),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:cEe.map(j=>s.jsx(Be,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Fournisseur"}),s.jsxs(lt,{value:g.supplier,onValueChange:j=>p({...g,supplier:j}),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Aucun"}),t.map(j=>s.jsx(Be,{value:j.name,children:j.name},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Devise"}),s.jsxs(lt,{value:g.currency,onValueChange:j=>p({...g,currency:j}),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:lEe.map(j=>s.jsx(Be,{value:j,children:j},j))})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs(Ne,{className:"text-sm font-semibold",children:["Grille de prix par volume (",g.currency,")"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:uEe.map(j=>s.jsxs("div",{children:[s.jsxs(Ne,{className:"text-xs text-muted-foreground",children:[j," units"]}),s.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:g.prices[j]||"",onChange:S=>p({...g,prices:{...g.prices,[j]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},j))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(Ne,{children:"Commentaires"}),s.jsx(_i,{value:g.comments,onChange:j=>p({...g,comments:j.target.value}),rows:2})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:_,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Code"}),s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Catgorie"}),s.jsx(ie,{children:"Rv."}),s.jsx(ie,{children:"Fournisseur"}),s.jsx(ie,{children:"Devise"}),s.jsx(ie,{className:"text-right",children:"Prix @500"}),s.jsx(ie,{className:"text-right",children:"Prix @1000"}),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[v.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),v.map(j=>{var S,C;return s.jsxs(Se,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(j),children:[s.jsx(H,{className:"font-mono-numbers font-medium",children:j.code}),s.jsx(H,{children:j.name}),s.jsx(H,{children:s.jsx(Oe,{variant:"secondary",children:j.category})}),s.jsx(H,{children:j.revision}),s.jsx(H,{children:j.supplier||"-"}),s.jsx(H,{children:j.currency}),s.jsx(H,{className:"text-right font-mono-numbers",children:((S=j.prices[500])==null?void 0:S.toFixed(2))||"-"}),s.jsx(H,{className:"text-right font-mono-numbers",children:((C=j.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),b(j)},children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),a(j.id)},children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},j.id)})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),s.jsx(sEe,{open:u,onOpenChange:d,onImport:i,existingCodes:e.map(j=>j.code)})]})}const fEe=[50,100,200,500,1e3,2e3,5e3,1e4];function hEe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const o=w.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];h&&await r(e.id,h),o.current&&(o.current.value="")},u=async f=>{const h=await a(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:i,children:s.jsx(LI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Oe,{variant:"secondary",children:e.category}),s.jsxs(Oe,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&s.jsx(Oe,{variant:"outline",children:e.supplier})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:fEe.map(f=>{var h;return s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),s.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Commentaires"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),s.jsxs("div",{children:[s.jsx("input",{ref:o,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[s.jsx(Hi,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Fichier"}),s.jsx(ie,{children:"Version"}),s.jsx(ie,{children:"Taille"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:l.map(f=>s.jsxs(Se,{children:[s.jsxs(H,{className:"flex items-center gap-2",children:[s.jsx(Lu,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),s.jsx(H,{children:s.jsxs(Oe,{variant:"outline",children:["v",f.version]})}),s.jsx(H,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),s.jsx(H,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>u(f),children:s.jsx(ep,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const mEe=[50,100,200,500,1e3,2e3,5e3,1e4],pEe=["Standard","Premium","conomique","Custom"];function mg(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function gEe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,o]=w.useState(""),[l,c]=w.useState("Standard"),[u,d]=w.useState(""),[f,h]=w.useState([mg()]),[m,y]=w.useState(!1),[g,p]=w.useState(null),v=w.useRef(null),x=w.useCallback(T=>{if(!T.trim())return{found:!1,referenceId:null,referenceName:""};const P=r.find(A=>A.code.toLowerCase()===T.trim().toLowerCase());return P?{found:!0,referenceId:P.id,referenceName:P.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(T,P,A)=>{h($=>{const M=[...$];if(M[T]={...M[T],[P]:A},P==="refCode"){const L=x(A);M[T]={...M[T],...L}}return M})},_=T=>{h(P=>P.length===1?[mg()]:P.filter((A,$)=>$!==T))},j=()=>h(T=>[...T,mg()]),S=w.useCallback(T=>{const P=T.clipboardData.getData("text/plain");if(!P.includes("	")&&!P.includes(`
`))return;T.preventDefault();const A=P.split(`
`).map(z=>z.trim()).filter(z=>z.length>0),$=A[0].toLowerCase(),B=($.includes("code")||$.includes("ref")||$.includes("rfrence")?A.slice(1):A).map(z=>{const re=z.split("	"),ee=(re[0]||"").trim(),se=parseFloat((re[1]||"1").replace(",","."))||1,U=parseInt(re[2]||"200")||200,V=x(ee);return{refCode:ee,quantity:se,volume:U,...V}}).filter(z=>z.refCode.length>0);B.length>0&&h(z=>z.length===1&&!z[0].refCode?B:[...z,...B])},[x]),C=T=>{var $;const P=($=T.target.files)==null?void 0:$[0];if(!P)return;const A=new FileReader;A.onload=M=>{var V;const L=(V=M.target)==null?void 0:V.result;if(!L)return;const B=L.includes("	")?"	":L.includes(";")?";":",",z=L.split(`
`).map(K=>K.trim()).filter(K=>K.length>0),re=z[0].toLowerCase(),U=(re.includes("code")||re.includes("ref")?z.slice(1):z).map(K=>{const q=K.split(B),me=(q[0]||"").trim(),D=parseFloat((q[1]||"1").replace(",","."))||1,G=parseInt(q[2]||"200")||200,W=x(me);return{refCode:me,quantity:D,volume:G,...W}}).filter(K=>K.refCode.length>0);U.length>0&&h(U)},A.readAsText(P),v.current&&(v.current.value="")},k=f.filter(T=>T.refCode.trim()&&T.found&&T.referenceId),N=f.filter(T=>T.refCode.trim()&&!T.found),R=k.length,O=async()=>{if(!(!i.trim()||R===0)){y(!0);try{const T=k.map(P=>({referenceId:P.referenceId,quantity:P.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},T),p({success:!0,productName:i,refCount:R,errors:N.map(P=>P.refCode)})}catch{p({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},E=()=>{o(""),c("Standard"),d(""),h([mg()]),p(null),t(!1)};return g?s.jsx(_r,{open:e,onOpenChange:E,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(yr,{children:s.jsxs(xr,{className:"flex items-center gap-2",children:[g.success?s.jsx(UI,{className:"h-5 w-5 text-emerald-500"}):s.jsx(Fu,{className:"h-5 w-5 text-destructive"}),g.success?"Produit cr":"Erreur"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[g.success&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm",children:["Le produit ",s.jsx("strong",{children:g.productName})," a t cr avec ",s.jsx("strong",{children:g.refCount})," rfrence(s)."]}),g.errors.length>0&&s.jsxs(bo,{children:[s.jsx(Fu,{className:"h-4 w-4"}),s.jsxs(wo,{children:[s.jsxs("span",{className:"font-medium",children:[g.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),s.jsx("span",{className:"text-xs ml-1",children:g.errors.join(", ")})]})]})]}),!g.success&&s.jsx("p",{className:"text-sm text-destructive",children:g.errors[0]})]}),s.jsx(ae,{onClick:E,className:"w-full",children:"Fermer"})]})}):s.jsx(_r,{open:e,onOpenChange:E,children:s.jsxs(vr,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(yr,{children:[s.jsx(xr,{children:"Importer des produits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ni,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(qa,{className:"w-full",children:[s.jsxs(Ot,{value:"paste",className:"flex-1",children:[s.jsx(VI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(Ot,{value:"file",className:"flex-1",children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Vt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(bo,{children:[s.jsx(Lh,{className:"h-4 w-4"}),s.jsxs(wo,{children:[s.jsx("strong",{children:"Comment utiliser :"}),s.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[s.jsxs("li",{children:["Saisissez le ",s.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),s.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),s.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),s.jsxs("li",{children:["Les rfrences ",s.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom du produit *"}),s.jsx(be,{value:i,onChange:T=>o(T.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Famille *"}),s.jsxs(lt,{value:l,onValueChange:c,children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:pEe.map(T=>s.jsx(Be,{value:T,children:T},T))})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Fournisseur"}),s.jsxs(lt,{value:u,onValueChange:d,children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(st,{children:[s.jsx(Be,{value:" ",children:"Aucun"}),n.map(T=>s.jsx(Be,{value:T,children:T},T))]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[s.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:f.map((T,P)=>s.jsxs("tr",{className:`border-t ${T.refCode&&!T.found?"bg-destructive/5":""}`,children:[s.jsxs("td",{className:"px-2 py-1",children:[s.jsx(be,{className:`h-8 text-xs ${T.refCode&&!T.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:T.refCode,onChange:A=>b(P,"refCode",A.target.value)}),T.found&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:T.referenceName})]}),s.jsx("td",{className:"px-2 py-1",children:s.jsx(be,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:T.quantity,onChange:A=>b(P,"quantity",parseInt(A.target.value)||1)})}),s.jsx("td",{className:"px-2 py-1",children:s.jsxs(lt,{value:String(T.volume),onValueChange:A=>b(P,"volume",parseInt(A)),children:[s.jsx(it,{className:"h-8 text-xs",children:s.jsx(ct,{})}),s.jsx(st,{children:mEe.map(A=>s.jsx(Be,{value:String(A),children:A},A))})]})}),s.jsx("td",{className:"px-2 py-1",children:T.refCode&&(T.found?s.jsx(Oe,{variant:"secondary",className:"text-xs",children:" Trouve"}):s.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>_(P),className:"text-destructive hover:text-destructive/80",children:s.jsx(za,{className:"h-4 w-4"})})})]},P))})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:j,children:"+ Ajouter une rfrence"}),s.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&s.jsxs("span",{className:"text-xs text-destructive",children:[N.length," non trouve(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[R," rfrence(s) valide(s)"]})]})]})]}),s.jsxs(Vt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(bo,{children:[s.jsx(Lh,{className:"h-4 w-4"}),s.jsxs(wo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:v,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),s.jsx(ae,{variant:"outline",onClick:()=>{var T;return(T=v.current)==null?void 0:T.click()},children:"Choisir un fichier"})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:E,children:[s.jsx(za,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ae,{onClick:O,disabled:!i.trim()||R===0||m,children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Crer le produit (",R," rf.)"]})]})]})})}function vEe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:o,onImportProduct:l,calculateProductCosts:c}){const[u,d]=w.useState(""),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[g,p]=w.useState(null),[v,x]=w.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var N;const k=((N=r.find(R=>R.id===C.category_id))==null?void 0:N.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||k.toLowerCase().includes(u.toLowerCase())}),_=()=>{p(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},j=C=>{p(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{v.name&&(g?await a(g.id,v):await n(v),y(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(ZS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>h(!0),children:[s.jsx(Hi,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(_r,{open:m,onOpenChange:y,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{onClick:_,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),s.jsxs(vr,{className:"max-w-lg",children:[s.jsx(yr,{children:s.jsx(xr,{children:g?"Modifier le produit":"Nouveau produit"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ne,{children:"Nom *"}),s.jsx(be,{value:v.name,onChange:C=>x({...v,name:C.target.value}),placeholder:"Nom du produit"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Catgorie"}),s.jsxs(lt,{value:v.category_id||"none",onValueChange:C=>x({...v,category_id:C==="none"?null:C}),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Aucune catgorie"})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Aucune"}),r.map(C=>s.jsx(Be,{value:C.id,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Fournisseur principal"}),s.jsx(be,{value:v.main_supplier,onChange:C=>x({...v,main_supplier:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Coefficient (MO + assemblage)"}),s.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.coefficient,onChange:C=>x({...v,coefficient:parseFloat(C.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Volume d'achat par dfaut"}),s.jsx(be,{type:"number",className:"font-mono-numbers",value:v.default_volume,onChange:C=>x({...v,default_volume:parseInt(C.target.value)||500})})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Prix TTC public ()"}),s.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers bg-muted",value:v.price_ttc,readOnly:!0,disabled:!0,title:"Gr depuis l'onglet Pricing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gr depuis l'onglet Pricing"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ne,{children:"Commentaires"}),s.jsx(_i,{value:v.comments,onChange:C=>x({...v,comments:C.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:S,children:g?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Produit"}),s.jsx(ie,{children:"Catgorie"}),s.jsx(ie,{children:"Fournisseur"}),s.jsx(ie,{className:"text-right",children:"Coef."}),s.jsx(ie,{className:"text-right",children:"Cot @500"}),s.jsx(ie,{className:"text-right",children:"Prix TTC"}),s.jsx(ie,{className:"text-right",children:"Marge"}),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[b.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const N=c(C.id)[500]||0,R=C.price_ttc>0?(C.price_ttc/1.2-N)/(C.price_ttc/1.2)*100:0;return s.jsxs(Se,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(C),children:[s.jsx(H,{className:"font-medium",children:C.name}),s.jsx(H,{children:(()=>{const O=r.find(E=>E.id===C.category_id);return O?s.jsxs(Oe,{variant:"outline",className:"gap-1",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:O.color}}),O.name]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),s.jsx(H,{children:C.main_supplier||"-"}),s.jsx(H,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),s.jsx(H,{className:"text-right font-mono-numbers",children:N>0?`${N.toFixed(2)} `:"-"}),s.jsx(H,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),s.jsx(H,{className:`text-right font-mono-numbers font-medium ${R>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${R.toFixed(1)}%`:"-"}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),j(C)},children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),i(C.id)},children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),s.jsx(gEe,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const Df=[50,100,200,500,1e3,2e3,5e3,1e4];function yEe({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:o,onBack:l}){const[c,u]=w.useState(""),[d,f]=w.useState(1),h=r.filter(b=>b.product_id===e.id),m=o(e.id),y=e.price_ttc/1.2,g=Df.map(b=>({volume:`${b}`,cost:m[b]||0,margin:y>0?Math.max(0,y-(m[b]||0)):0})),p=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},v=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!v.has(b.id));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:l,children:s.jsx(LI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsxs(Oe,{variant:"outline",children:["Coef. ",e.coefficient]}),s.jsxs(Oe,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Code"}),s.jsx(ie,{children:"Rfrence"}),s.jsx(ie,{className:"text-right",children:"Qt"}),Df.map(b=>s.jsxs(ie,{className:"text-right text-xs",children:["@",b]},b)),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[h.map(b=>{const _=t.find(j=>j.id===b.reference_id);return _?s.jsxs(Se,{children:[s.jsx(H,{className:"font-mono-numbers",children:_.code}),s.jsx(H,{children:_.name}),s.jsx(H,{className:"text-right",children:s.jsx(be,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:j=>a(b.id,parseFloat(j.target.value)||1)})}),Df.map(j=>s.jsx(H,{className:"text-right font-mono-numbers text-xs",children:((_.prices[j]||0)*b.quantity).toFixed(2)},j)),s.jsx(H,{children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),s.jsxs(Se,{className:"font-semibold bg-muted/30",children:[s.jsxs(H,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),Df.map(b=>s.jsx(H,{className:"text-right font-mono-numbers text-xs",children:(m[b]||0).toFixed(2)},b)),s.jsx(H,{})]}),y>0&&s.jsxs(Se,{className:"font-semibold",children:[s.jsx(H,{colSpan:3,className:"text-right",children:"Marge ()"}),Df.map(b=>{const _=y-(m[b]||0);return s.jsx(H,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),s.jsx(H,{})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ne,{className:"text-xs",children:"Rfrence"}),s.jsxs(lt,{value:c,onValueChange:u,children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Choisir une rfrence..."})}),s.jsx(st,{children:x.map(b=>s.jsxs(Be,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),s.jsxs("div",{className:"w-20",children:[s.jsx(Ne,{className:"text-xs",children:"Qt"}),s.jsx(be,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),s.jsxs(ae,{size:"sm",onClick:p,disabled:!c,children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),s.jsx(br,{width:"100%",height:300,children:s.jsxs(Ji,{data:g,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Zt,{dataKey:"volume",tick:{fontSize:12}}),s.jsx(zt,{tick:{fontSize:12}}),s.jsx(St,{formatter:b=>`${b.toFixed(2)} `}),s.jsx(Ut,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&s.jsx(Ut,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function xEe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},f=m=>{l(m),u({name:m.name,description:m.description,color:m.color}),i(!0)},h=async()=>{c.name.trim()&&(o?await r(o.id,c):await t(c),i(!1))};return s.jsxs("div",{className:"financial-card p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"section-title flex items-center gap-2",children:[s.jsx(QS,{className:"h-4 w-4"})," Catgories de produits"]}),s.jsxs(_r,{open:a,onOpenChange:i,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{size:"sm",onClick:d,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),s.jsxs(vr,{className:"max-w-md",children:[s.jsx(yr,{children:s.jsx(xr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom *"}),s.jsx(be,{value:c.name,onChange:m=>u({...c,name:m.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Description"}),s.jsx(_i,{value:c.description,onChange:m=>u({...c,description:m.target.value}),rows:2,placeholder:"Description optionnelle"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Couleur"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(be,{value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:h,children:o?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Couleur"}),s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Description"}),s.jsx(ie,{})]})}),s.jsx(Kt,{children:e.map(m=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:m.color}})}),s.jsx(H,{className:"font-medium",children:m.name}),s.jsx(H,{className:"text-muted-foreground text-sm",children:m.description||"-"}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>f(m),children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))})]})]})}const Ai=[50,100,200,500,1e3,2e3,5e3,1e4];function bEe({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(new Set),[d,f]=w.useState(new Set),h=p=>{const v=new Set(c);v.has(p)?v.delete(p):v.add(p),u(v)},m=p=>{const v=new Set(d);v.has(p)?v.delete(p):v.add(p),f(v)},y=()=>{const p=e.filter(b=>c.size===0||c.has(b.id)),v=["Produit","Famille","Coef.",...Ai.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=p.map(b=>{const _=n(b.id),j=b.price_ttc/1.2,S=j>0?((j-(_[500]||0))/j*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...Ai.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([v,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),Ee.success("Donnes produits copies")},g=()=>{const p=t.filter(b=>d.size===0||d.has(b.id)),v=["Code","Nom","Catgorie","Fournisseur",...Ai.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=p.map(b=>[b.code,b.name,b.category,b.supplier,...Ai.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([v,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Ee.success("Donnes rfrences copies")};return s.jsxs(Ni,{defaultValue:"products",className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsx(Ot,{value:"products",children:"Export Produits"}),s.jsx(Ot,{value:"references",children:"Export Rfrences"}),s.jsx(Ot,{value:"margins",children:"Analyse Marges"})]}),s.jsxs(Vt,{value:"products",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),s.jsxs(ae,{variant:"outline",onClick:y,children:[a?s.jsx(Ao,{className:"h-4 w-4 mr-1"}):s.jsx(Oj,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"w-8"}),s.jsx(ie,{children:"Produit"}),s.jsx(ie,{children:"Famille"}),Ai.map(p=>s.jsxs(ie,{className:"text-right text-xs",children:["@",p]},p)),s.jsx(ie,{className:"text-right",children:"Prix TTC"})]})}),s.jsx(Kt,{children:e.map(p=>{const v=n(p.id);return s.jsxs(Se,{className:"cursor-pointer",onClick:()=>h(p.id),children:[s.jsx(H,{children:s.jsx("input",{type:"checkbox",checked:c.has(p.id),readOnly:!0})}),s.jsx(H,{className:"font-medium",children:p.name}),s.jsx(H,{children:s.jsx(Oe,{variant:"secondary",children:p.family})}),Ai.map(x=>s.jsx(H,{className:"text-right font-mono-numbers text-xs",children:(v[x]||0).toFixed(2)},x)),s.jsx(H,{className:"text-right font-mono-numbers",children:p.price_ttc.toFixed(2)})]},p.id)})})]})})]}),s.jsxs(Vt,{value:"references",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),s.jsxs(ae,{variant:"outline",onClick:g,children:[o?s.jsx(Ao,{className:"h-4 w-4 mr-1"}):s.jsx(Oj,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"w-8"}),s.jsx(ie,{children:"Code"}),s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Fournisseur"}),Ai.map(p=>s.jsxs(ie,{className:"text-right text-xs",children:["@",p]},p)),s.jsx(ie,{children:"Devise"})]})}),s.jsx(Kt,{children:t.map(p=>s.jsxs(Se,{className:"cursor-pointer",onClick:()=>m(p.id),children:[s.jsx(H,{children:s.jsx("input",{type:"checkbox",checked:d.has(p.id),readOnly:!0})}),s.jsx(H,{className:"font-mono-numbers",children:p.code}),s.jsx(H,{children:p.name}),s.jsx(H,{children:p.supplier||"-"}),Ai.map(v=>s.jsx(H,{className:"text-right font-mono-numbers text-xs",children:(p.prices[v]||0).toFixed(2)},v)),s.jsx(H,{children:p.currency})]},p.id))})]})})]}),s.jsx(Vt,{value:"margins",className:"space-y-4",children:s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Produit"}),s.jsx(ie,{className:"text-right",children:"Prix HT"}),Ai.map(p=>s.jsxs(ie,{className:"text-right text-xs",children:["Marge @",p]},p))]})}),s.jsx(Kt,{children:e.map(p=>{const v=n(p.id),x=p.price_ttc/1.2;return s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium",children:p.name}),s.jsx(H,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),Ai.map(b=>{const _=x>0?(x-(v[b]||0))/x*100:0;return s.jsx(H,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},p.id)})})]})})})]})}const AR={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function wEe({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(AR),h=e.filter(p=>p.name.toLowerCase().includes(a.toLowerCase())||p.contact_name.toLowerCase().includes(a.toLowerCase())||p.email.toLowerCase().includes(a.toLowerCase())),m=()=>{u(null),f(AR),l(!0)},y=p=>{u(p.id),f({name:p.name,contact_name:p.contact_name,email:p.email,phone:p.phone,country:p.country,comments:p.comments}),l(!0)},g=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(ZS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher un fournisseur...",value:a,onChange:p=>i(p.target.value),className:"pl-9"})]}),s.jsxs(ae,{onClick:m,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Nom"}),s.jsx(ie,{children:"Contact"}),s.jsx(ie,{children:"Email"}),s.jsx(ie,{children:"Tlphone"}),s.jsx(ie,{children:"Pays"}),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[h.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(p=>s.jsxs(Se,{children:[s.jsx(H,{className:"font-medium",children:p.name}),s.jsx(H,{children:p.contact_name||"-"}),s.jsx(H,{children:p.email||"-"}),s.jsx(H,{children:p.phone||"-"}),s.jsx(H,{children:p.country}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(p),children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),s.jsx(_r,{open:o,onOpenChange:l,children:s.jsxs(vr,{className:"max-w-lg",children:[s.jsx(yr,{children:s.jsx(xr,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ne,{children:"Nom *"}),s.jsx(be,{value:d.name,onChange:p=>f({...d,name:p.target.value}),placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Contact"}),s.jsx(be,{value:d.contact_name,onChange:p=>f({...d,contact_name:p.target.value}),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Email"}),s.jsx(be,{type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Tlphone"}),s.jsx(be,{value:d.phone,onChange:p=>f({...d,phone:p.target.value}),placeholder:"+33 ..."})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Pays"}),s.jsx(be,{value:d.country,onChange:p=>f({...d,country:p.target.value}),placeholder:"France"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ne,{children:"Commentaires"}),s.jsx(_i,{value:d.comments,onChange:p=>f({...d,comments:p.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:g,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function jEe(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(async()=>{if(e)try{const[g,p]=await Promise.all([xe.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),xe.from("costflow_meeting_tasks").select("*").order("sort_order")]);g.data&&r(g.data.map(v=>({id:v.id,meeting_date:v.meeting_date,title:v.title||"",content:v.content||"",created_at:v.created_at,updated_at:v.updated_at}))),p.data&&a(p.data.map(v=>({id:v.id,meeting_id:v.meeting_id,description:v.description,is_completed:v.is_completed||!1,sort_order:v.sort_order||0,created_at:v.created_at})))}catch(g){console.error("Meetings fetch error:",g)}finally{o(!1)}},[e]);return w.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async g=>{if(!e)return;const{error:p}=await xe.from("costflow_meetings").insert({user_id:e.id,meeting_date:g.meeting_date||new Date().toISOString().split("T")[0],title:g.title||"",content:g.content||""});p?(Ee.error("Erreur cration runion"),console.error(p)):(Ee.success("Runion cre"),l())},updateMeeting:async(g,p)=>{if(!e)return;const{error:v}=await xe.from("costflow_meetings").update(p).eq("id",g);v?(Ee.error("Erreur mise  jour runion"),console.error(v)):l()},deleteMeeting:async g=>{const{error:p}=await xe.from("costflow_meetings").delete().eq("id",g);p?(Ee.error("Erreur suppression runion"),console.error(p)):(Ee.success("Runion supprime"),l())},createTask:async(g,p)=>{if(!e)return;const v=n.filter(_=>_.meeting_id===g),x=v.length>0?Math.max(...v.map(_=>_.sort_order)):-1,{error:b}=await xe.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:g,description:p,sort_order:x+1});b?(Ee.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(g,p)=>{if(!e)return;const{error:v}=await xe.from("costflow_meeting_tasks").update(p).eq("id",g);v?(Ee.error("Erreur mise  jour tche"),console.error(v)):l()},deleteTask:async g=>{const{error:p}=await xe.from("costflow_meeting_tasks").delete().eq("id",g);p?(Ee.error("Erreur suppression tche"),console.error(p)):l()},getTasksForMeeting:g=>n.filter(p=>p.meeting_id===g),refresh:l}}function $n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $s(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _Ee(e,t){const r=$n(e);return isNaN(t)?$s(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const UU=6048e5,SEe=864e5,VU=6e4,WU=36e5;let CEe={};function V0(){return CEe}function Pd(e,t){var l,c,u,d;const r=V0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=$n(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Vy(e){return Pd(e,{weekStartsOn:1})}function HU(e){const t=$n(e),r=t.getFullYear(),n=$s(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Vy(n),i=$s(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Vy(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Wy(e){const t=$n(e);return t.setHours(0,0,0,0),t}function OR(e){const t=$n(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function NEe(e,t){const r=Wy(e),n=Wy(t),a=+r-OR(r),i=+n-OR(n);return Math.round((a-i)/SEe)}function PEe(e){const t=HU(e),r=$s(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Vy(r)}function qU(e,t){const r=t*7;return _Ee(e,r)}function kEe(e){return $s(e,Date.now())}function X_(e,t){const r=Wy(e),n=Wy(t);return+r==+n}function EEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AEe(e){if(!EEe(e)&&typeof e!="number")return!1;const t=$n(e);return!isNaN(Number(t))}function OEe(e,t){const r=$n(e.start),n=$n(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push($n(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function TEe(e){const t=$n(e),r=$s(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function REe(e,t){const r=t==null?void 0:t.weekStartsOn,n=$n(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const MEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$Ee=(e,t,r)=>{let n;const a=MEe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ju(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const IEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BEe={date:ju({formats:IEe,defaultWidth:"full"}),time:ju({formats:DEe,defaultWidth:"full"}),dateTime:ju({formats:LEe,defaultWidth:"full"})},FEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zEe=(e,t,r,n)=>FEe[e];function Di(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const UEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GEe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},YEe={ordinalNumber:GEe,era:Di({values:UEe,defaultWidth:"wide"}),quarter:Di({values:VEe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Di({values:WEe,defaultWidth:"wide"}),day:Di({values:HEe,defaultWidth:"wide"}),dayPeriod:Di({values:qEe,defaultWidth:"wide",formattingValues:KEe,defaultFormattingWidth:"wide"})};function Li(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ZEe(l,f=>f.test(o)):XEe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function XEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ZEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function KU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const QEe=/^(\d+)(th|st|nd|rd)?/i,JEe=/\d+/i,eAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tAe={any:[/^b/i,/^(a|c)/i]},rAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nAe={any:[/1/i,/2/i,/3/i,/4/i]},aAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uAe={ordinalNumber:KU({matchPattern:QEe,parsePattern:JEe,valueCallback:e=>parseInt(e,10)}),era:Li({matchPatterns:eAe,defaultMatchWidth:"wide",parsePatterns:tAe,defaultParseWidth:"any"}),quarter:Li({matchPatterns:rAe,defaultMatchWidth:"wide",parsePatterns:nAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Li({matchPatterns:aAe,defaultMatchWidth:"wide",parsePatterns:iAe,defaultParseWidth:"any"}),day:Li({matchPatterns:sAe,defaultMatchWidth:"wide",parsePatterns:oAe,defaultParseWidth:"any"}),dayPeriod:Li({matchPatterns:lAe,defaultMatchWidth:"any",parsePatterns:cAe,defaultParseWidth:"any"})},dAe={code:"en-US",formatDistance:$Ee,formatLong:BEe,formatRelative:zEe,localize:YEe,match:uAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fAe(e){const t=$n(e);return NEe(t,TEe(t))+1}function hAe(e){const t=$n(e),r=+Vy(t)-+PEe(t);return Math.round(r/UU)+1}function GU(e,t){var d,f,h,m;const r=$n(e),n=r.getFullYear(),a=V0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=$s(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Pd(o,t),c=$s(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Pd(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function mAe(e,t){var l,c,u,d;const r=V0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=GU(e,t),i=$s(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Pd(i,t)}function pAe(e,t){const r=$n(e),n=+Pd(r,t)-+mAe(r,t);return Math.round(n/UU)+1}function Bt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Bt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Bt(r+1,2)},d(e,t){return Bt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Bt(e.getHours()%12||12,t.length)},H(e,t){return Bt(e.getHours(),t.length)},m(e,t){return Bt(e.getMinutes(),t.length)},s(e,t){return Bt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Bt(a,t.length)}},Rc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Gs.y(e,t)},Y:function(e,t,r,n){const a=GU(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Bt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Bt(i,t.length)},R:function(e,t){const r=HU(e);return Bt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Bt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Bt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Bt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Bt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=pAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Bt(a,t.length)},I:function(e,t,r){const n=hAe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Bt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gs.d(e,t)},D:function(e,t,r){const n=fAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Bt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Bt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Bt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Bt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Rc.noon:n===0?a=Rc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Rc.evening:n>=12?a=Rc.afternoon:n>=4?a=Rc.morning:a=Rc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Bt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Bt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gs.s(e,t)},S:function(e,t){return Gs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return MR(n);case"XXXX":case"XX":return xl(n);case"XXXXX":case"XXX":default:return xl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return MR(n);case"xxxx":case"xx":return xl(n);case"xxxxx":case"xxx":default:return xl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+RR(n,":");case"OOOO":default:return"GMT"+xl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+RR(n,":");case"zzzz":default:return"GMT"+xl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Bt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Bt(n,t.length)}};function RR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Bt(i,2)}function MR(e,t){return e%60===0?(e>0?"-":"+")+Bt(Math.abs(e)/60,2):xl(e,t)}function xl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Bt(Math.trunc(n/60),2),i=Bt(n%60,2);return r+a+t+i}const $R=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return $R(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",$R(n,t)).replace("{{time}}",YU(a,t))},vAe={p:YU,P:gAe},yAe=/^D+$/,xAe=/^Y+$/,bAe=["D","DD","YY","YYYY"];function wAe(e){return yAe.test(e)}function jAe(e){return xAe.test(e)}function _Ae(e,t,r){const n=SAe(e,t,r);if(console.warn(n),bAe.includes(e))throw new RangeError(n)}function SAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PAe=/^'([^]*?)'?$/,kAe=/''/g,EAe=/[a-zA-Z]/;function ni(e,t,r){var d,f,h,m,y,g,p,v;const n=V0(),a=(r==null?void 0:r.locale)??n.locale??dAe,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=$n(e);if(!AEe(l))throw new RangeError("Invalid time value");let c=t.match(NAe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=vAe[b];return _(x,a.formatLong)}return x}).join("").match(CAe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:AAe(x)};if(TR[b])return{isToken:!0,value:x};if(b.match(EAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&jAe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&wAe(b))&&_Ae(b,t,String(e));const _=TR[b[0]];return _(l,b,a.localize,u)}).join("")}function AAe(e){const t=e.match(PAe);return t?t[1].replace(kAe,"'"):e}function OAe(e){return X_(e,kEe(e))}function TAe(e,t){const n=IAe(e);let a;if(n.date){const c=DAe(n.date,2);a=LAe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=BAe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=FAe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const pg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$Ae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function IAe(e){const t={},r=e.split(pg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],pg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(pg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=pg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function DAe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function LAe(e,t){if(t===null)return new Date(NaN);const r=e.match(RAe);if(!r)return new Date(NaN);const n=!!r[4],a=Lf(r[1]),i=Lf(r[2])-1,o=Lf(r[3]),l=Lf(r[4]),c=Lf(r[5])-1;if(n)return HAe(t,l,c)?zAe(t,l,c):new Date(NaN);{const u=new Date(0);return!VAe(t,i,o)||!WAe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Lf(e){return e?parseInt(e):1}function BAe(e){const t=e.match(MAe);if(!t)return NaN;const r=Ow(t[1]),n=Ow(t[2]),a=Ow(t[3]);return qAe(r,n,a)?r*WU+n*VU+a*1e3:NaN}function Ow(e){return e&&parseFloat(e.replace(",","."))||0}function FAe(e){if(e==="Z")return 0;const t=e.match($Ae);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return KAe(n,a)?r*(n*WU+a*VU):NaN}function zAe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const UAe=[31,null,31,30,31,30,31,31,30,31,30,31];function XU(e){return e%400===0||e%4===0&&e%100!==0}function VAe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(UAe[t]||(XU(e)?29:28))}function WAe(e,t){return t>=1&&t<=(XU(e)?366:365)}function HAe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function qAe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function KAe(e,t){return t>=0&&t<=59}function GAe(e,t){return qU(e,-t)}const YAe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},XAe=(e,t,r)=>{let n;const a=YAe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},ZAe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},QAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},JAe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eOe={date:ju({formats:ZAe,defaultWidth:"full"}),time:ju({formats:QAe,defaultWidth:"full"}),dateTime:ju({formats:JAe,defaultWidth:"full"})},tOe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},rOe=(e,t,r,n)=>tOe[e],nOe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},aOe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},iOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},sOe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},oOe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},lOe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},cOe=["MMM","MMMM"],uOe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&cOe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:lOe,era:Di({values:nOe,defaultWidth:"wide"}),quarter:Di({values:aOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Di({values:iOe,defaultWidth:"wide"}),day:Di({values:sOe,defaultWidth:"wide"}),dayPeriod:Di({values:oOe,defaultWidth:"wide"})},dOe=/^(\d+)(ime|re|me|er|e)?/i,fOe=/\d+/i,hOe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},mOe={any:[/^av/i,/^ap/i]},pOe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},gOe={any:[/1/i,/2/i,/3/i,/4/i]},vOe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},yOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},xOe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},bOe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},wOe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},jOe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},_Oe={ordinalNumber:KU({matchPattern:dOe,parsePattern:fOe,valueCallback:e=>parseInt(e)}),era:Li({matchPatterns:hOe,defaultMatchWidth:"wide",parsePatterns:mOe,defaultParseWidth:"any"}),quarter:Li({matchPatterns:pOe,defaultMatchWidth:"wide",parsePatterns:gOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Li({matchPatterns:vOe,defaultMatchWidth:"wide",parsePatterns:yOe,defaultParseWidth:"any"}),day:Li({matchPatterns:xOe,defaultMatchWidth:"wide",parsePatterns:bOe,defaultParseWidth:"any"}),dayPeriod:Li({matchPatterns:wOe,defaultMatchWidth:"any",parsePatterns:jOe,defaultParseWidth:"any"})},ou={code:"fr",formatDistance:XAe,formatLong:eOe,formatRelative:rOe,localize:uOe,match:_Oe,options:{weekStartsOn:1,firstWeekContainsDate:4}};var SOe="Separator",IR="horizontal",COe=["horizontal","vertical"],ZU=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=IR,...a}=e,i=NOe(n)?n:IR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(He.div,{"data-orientation":i,...l,...a,ref:t})});ZU.displayName=SOe;function NOe(e){return COe.includes(e)}var QU=ZU;const Hy=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(QU,{ref:a,decorative:r,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Hy.displayName=QU.displayName;function POe(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:o,deleteTask:l,getTasksForMeeting:c}=jEe(),[u,d]=w.useState(null),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[g,p]=w.useState(new Date().toISOString().split("T")[0]),[v,x]=w.useState(""),[b,_]=w.useState(""),[j,S]=w.useState(!1),[C,k]=w.useState(""),[N,R]=w.useState(""),O=e.find(B=>B.id===u),E=u?c(u):[],T=async()=>{v.trim()&&(await r({meeting_date:g,title:v}),x(""),p(new Date().toISOString().split("T")[0]),h(!1))},P=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},A=async()=>{!u||!N.trim()||(await i(u,N.trim()),R(""))},$=()=>{O&&(k(O.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},L=({tasks:B,inFullscreen:z=!1})=>s.jsxs("div",{className:"space-y-1.5",children:[B.map(re=>s.jsxs("div",{className:"flex items-start gap-2 group",children:[s.jsx(xi,{checked:re.is_completed,onCheckedChange:ee=>o(re.id,{is_completed:!!ee}),className:"mt-0.5"}),s.jsx("span",{className:`text-sm flex-1 ${re.is_completed?"line-through text-muted-foreground":""}`,children:re.description}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(re.id),children:s.jsx(za,{className:"h-3 w-3"})})]},re.id)),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(be,{placeholder:"Nouvelle tche",value:z?N:b,onChange:re=>z?R(re.target.value):_(re.target.value),onKeyDown:re=>re.key==="Enter"&&(z?A():P()),className:"text-sm"}),s.jsx(ae,{size:"sm",onClick:z?A:P,disabled:!(z?N:b).trim(),children:s.jsx(er,{className:"h-4 w-4"})})]})]});return t?s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[s.jsxs(Ft,{className:"w-64 shrink-0 flex flex-col",children:[s.jsx(hr,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mr,{className:"text-sm font-medium",children:"Runions"}),s.jsxs(_r,{open:f,onOpenChange:h,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsx(xr,{children:"Nouvelle runion BE"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Date"}),s.jsx(be,{type:"date",value:g,onChange:B=>p(B.target.value)})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Titre / Objet"}),s.jsx(be,{placeholder:"Ex: Runion BE hebdomadaire",value:v,onChange:B=>x(B.target.value),onKeyDown:B=>B.key==="Enter"&&T()})]}),s.jsx(ae,{onClick:T,disabled:!v.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),s.jsxs(Qt,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(B=>{const z=B.id===u,re=c(B.id).length,ee=c(B.id).filter(se=>se.is_completed).length;return s.jsxs("button",{onClick:()=>d(B.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${z?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[s.jsx("div",{className:"font-medium truncate",children:ni(new Date(B.meeting_date),"dd/MM/yyyy")}),s.jsx("div",{className:`text-xs truncate ${z?"text-primary-foreground/70":"text-muted-foreground"}`,children:B.title||"Sans titre"}),re>0&&s.jsxs("div",{className:`text-xs mt-0.5 ${z?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",ee,"/",re," tches"]})]},B.id)})]})]}),s.jsx(Ft,{className:"flex-1 flex flex-col overflow-hidden",children:O?s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"pb-2 shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(mr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ag,{className:"h-5 w-5 text-primary"}),ni(new Date(O.meeting_date),"EEEE d MMMM yyyy",{locale:ou})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:O.title})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(O.id),d(null))},children:s.jsx(lr,{className:"h-4 w-4"})})]})}),s.jsxs(Qt,{className:"flex-1 overflow-auto space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[s.jsx(Lu,{className:"h-4 w-4"})," Compte-rendu"]}),s.jsxs("div",{className:"flex gap-1",children:[!j&&s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"}),s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:s.jsx(rH,{className:"h-3.5 w-3.5"})})]})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(_i,{value:C,onChange:B=>k(B.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:O.content||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(Hy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),s.jsx(L,{tasks:E})]})]}),s.jsx(_r,{open:m,onOpenChange:y,children:s.jsxs(vr,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(yr,{children:s.jsxs(xr,{className:"flex items-center gap-2",children:[s.jsx(Ag,{className:"h-5 w-5 text-primary"}),O&&ni(new Date(O.meeting_date),"EEEE d MMMM yyyy",{locale:ou}),O&&s.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",O.title]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[s.jsx(Lu,{className:"h-4 w-4"})," Compte-rendu"]}),!j&&s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(_i,{value:C,onChange:B=>k(B.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(O==null?void 0:O.content)||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(Hy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),s.jsx(L,{tasks:E,inFullscreen:!0})]})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Ag,{className:"h-12 w-12 mx-auto opacity-30"}),s.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function JU(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=w.useCallback(async()=>{try{const[b,_,j]=await Promise.all([xe.from("costflow_planning_colors").select("*").order("sort_order"),xe.from("costflow_planning_rows").select("*").order("sort_order"),xe.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(j.error)throw j.error;t(b.data||[]),n(_.data||[]),i(j.data||[])}catch(b){Ee.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);w.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await xe.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:o,createColor:async(b,_)=>{const j=await u();if(!j)return;const{data:S,error:C}=await xe.from("costflow_planning_colors").insert({user_id:j,name:b,color:_,sort_order:e.length}).select().single();if(C){Ee.error(C.message);return}t(k=>[...k,S])},updateColor:async(b,_)=>{const{error:j}=await xe.from("costflow_planning_colors").update(_).eq("id",b);if(j){Ee.error(j.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await xe.from("costflow_planning_colors").delete().eq("id",b);if(_){Ee.error(_.message);return}t(j=>j.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:j,error:S}=await xe.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){Ee.error(S.message);return}n(C=>[...C,j])},updateRow:async(b,_)=>{const{error:j}=await xe.from("costflow_planning_rows").update({label:_}).eq("id",b);if(j){Ee.error(j.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await xe.from("costflow_planning_rows").delete().eq("id",b);if(_){Ee.error(_.message);return}n(j=>j.filter(S=>S.id!==b)),i(j=>j.filter(S=>S.row_id!==b))},createBlock:async(b,_,j,S,C)=>{const k=await u();if(!k)return;const{data:N,error:R}=await xe.from("costflow_planning_blocks").insert({user_id:k,row_id:b,start_month:_,duration:j,color_id:S,label:C}).select().single();if(R){Ee.error(R.message);return}i(O=>[...O,N])},updateBlock:async(b,_)=>{const{error:j}=await xe.from("costflow_planning_blocks").update(_).eq("id",b);if(j){Ee.error(j.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await xe.from("costflow_planning_blocks").delete().eq("id",b);if(_){Ee.error(_.message);return}i(j=>j.filter(S=>S.id!==b))}}}function kOe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useCallback(async()=>{try{const{data:c,error:u}=await xe.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){Ee.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return w.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var m;const{data:d}=await xe.auth.getUser(),f=(m=d.user)==null?void 0:m.id;if(!f)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await xe.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){Ee.error(y.message);return}t(g=>g.map(p=>p.id===h.id?{...p,content:u,updated_at:new Date().toISOString()}:p))}else{const{data:y,error:g}=await xe.from("costflow_planning_notes").insert({user_id:f,block_id:c,content:u}).select().single();if(g){Ee.error(g.message);return}t(p=>[y,...p])}Ee.success("Note sauvegarde")}}}function EOe({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:o}){const[l,c]=w.useState("");if(w.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=o[r.start_month-1]||`M${r.start_month}`,d=r.start_month+r.duration-1,f=o[d-1]||`M${d}`;return s.jsx(_r,{open:e,onOpenChange:t,children:s.jsxs(vr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(yr,{children:s.jsxs(xr,{className:"flex items-center gap-2",children:[n&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),s.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",f,")"]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(_i,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs(ae,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[s.jsx(tp,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function AOe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var nP="ScrollArea",[e8,C2e]=Yn(nP),[OOe,Ga]=e8(nP),t8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,y]=w.useState(null),[g,p]=w.useState(null),[v,x]=w.useState(0),[b,_]=w.useState(0),[j,S]=w.useState(!1),[C,k]=w.useState(!1),N=ft(t,O=>c(O)),R=Ud(a);return s.jsx(OOe,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:p,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(He.div,{dir:R,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});t8.displayName=nP;var r8="ScrollAreaViewport",n8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ga(r8,r),l=w.useRef(null),c=ft(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(He.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});n8.displayName=r8;var is="ScrollAreaScrollbar",aP=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ga(is,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(TOe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(ROe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(a8,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(iP,{...n,ref:t}):null});aP.displayName=is;var TOe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ga(is,e.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(sa,{present:r||i,children:s.jsx(a8,{"data-state":i?"visible":"hidden",...n,ref:t})})}),ROe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ga(is,e.__scopeScrollArea),i=e.orientation==="horizontal",o=H0(()=>c("SCROLL_END"),100),[l,c]=AOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(sa,{present:r||l!=="hidden",children:s.jsx(iP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),a8=w.forwardRef((e,t)=>{const r=Ga(is,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=w.useState(!1),l=e.orientation==="horizontal",c=H0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return kd(r.viewport,c),kd(r.content,c),s.jsx(sa,{present:n||i,children:s.jsx(iP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),iP=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ga(is,e.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=c8(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return BOe(h,o.current,l,m)}return r==="horizontal"?s.jsx(MOe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=DR(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx($Oe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=DR(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),MOe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ga(is,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=ft(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(s8,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":W0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),d8(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ky(o.paddingLeft),paddingEnd:Ky(o.paddingRight)}})}})}),$Oe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ga(is,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=ft(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(s8,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":W0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),d8(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ky(o.paddingTop),paddingEnd:Ky(o.paddingBottom)}})}})}),[IOe,i8]=e8(is),s8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ga(is,r),[y,g]=w.useState(null),p=ft(t,N=>g(N)),v=w.useRef(null),x=w.useRef(""),b=m.viewport,_=n.content-n.viewport,j=en(d),S=en(c),C=H0(f,10);function k(N){if(v.current){const R=N.clientX-v.current.left,O=N.clientY-v.current.top;u({x:R,y:O})}}return w.useEffect(()=>{const N=R=>{const O=R.target;(y==null?void 0:y.contains(O))&&j(R,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,y,_,j]),w.useEffect(S,[n,S]),kd(y,C),kd(m.content,C),s.jsx(IOe,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:en(i),onThumbPointerUp:en(o),onThumbPositionChange:S,onThumbPointerDown:en(l),children:s.jsx(He.div,{...h,ref:p,style:{position:"absolute",...h.style},onPointerDown:Te(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(N))}),onPointerMove:Te(e.onPointerMove,k),onPointerUp:Te(e.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),qy="ScrollAreaThumb",o8=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=i8(qy,e.__scopeScrollArea);return s.jsx(sa,{present:r||a.hasThumb,children:s.jsx(DOe,{ref:t,...n})})}),DOe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ga(qy,r),o=i8(qy,r),{onThumbPositionChange:l}=o,c=ft(t,f=>o.onThumbChange(f)),u=w.useRef(void 0),d=H0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=FOe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(He.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Te(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:Te(e.onPointerUp,o.onThumbPointerUp)})});o8.displayName=qy;var sP="ScrollAreaCorner",l8=w.forwardRef((e,t)=>{const r=Ga(sP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(LOe,{...e,ref:t}):null});l8.displayName=sP;var LOe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ga(sP,r),[i,o]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return kd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),kd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(He.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ky(e){return e?parseInt(e,10):0}function c8(e,t){const r=e/t;return isNaN(r)?0:r}function W0(e){const t=c8(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function BOe(e,t,r,n="ltr"){const a=W0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return u8([c,u],f)(e)}function DR(e,t,r="ltr"){const n=W0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=qh(e,c);return u8([0,o],[0,l])(u)}function u8(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function d8(e,t){return e>0&&e<t}var FOe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function H0(e,t){const r=en(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function kd(e,t){const r=en(t);fn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var f8=t8,zOe=n8,UOe=l8;const h8=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(f8,{ref:n,className:de("relative overflow-hidden",e),...r,children:[s.jsx(zOe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(m8,{}),s.jsx(UOe,{})]}));h8.displayName=f8.displayName;const m8=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(aP,{ref:n,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(o8,{className:"relative flex-1 rounded-full bg-border"})}));m8.displayName=aP.displayName;function VOe({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:o,onOpenBlockNote:l}){const c=d=>i.find(f=>f.id===d),u=[...n].sort((d,f)=>d.start_month-f.start_month);return s.jsx(_r,{open:e,onOpenChange:t,children:s.jsxs(vr,{className:"max-w-3xl max-h-[85vh]",children:[s.jsx(yr,{children:s.jsxs(xr,{className:"flex items-center gap-2",children:[s.jsx(Lu,{className:"h-5 w-5"}),"Notes  ",r]})}),s.jsx(h8,{className:"max-h-[65vh] pr-2",children:u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):s.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=c(d.color_id),h=a.find(p=>p.block_id===d.id),m=o[d.start_month-1]||`M${d.start_month}`,y=d.start_month+d.duration-1,g=o[y-1]||`M${y}`;return s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(d)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f.color}}),s.jsx("span",{className:"font-medium text-sm",children:d.label||(f==null?void 0:f.name)||"Bloc"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[m,"  ",g]})]}),h?s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},d.id)})})})]})})}const p8=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function WOe(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:p8[(n-1)%12],globalIndex:n});return r}function g8(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:o,createRow:l,updateRow:c,deleteRow:u,createBlock:d,updateBlock:f,deleteBlock:h}=JU(),{notes:m,getNotesForBlock:y,getNotesForBlocks:g,upsertNote:p}=kOe(),[v,x]=w.useState(1),[b,_]=w.useState(12),[j,S]=w.useState(""),[C,k]=w.useState(null),[N,R]=w.useState(""),[O,E]=w.useState(!1),[T,P]=w.useState(""),[A,$]=w.useState("#3b82f6"),[M,L]=w.useState(null),[B,z]=w.useState(!1),[re,ee]=w.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[se,U]=w.useState(null),[V,K]=w.useState(null),[q,me]=w.useState(!1),[D,G]=w.useState(null),[W,X]=w.useState(!1),[Q,we]=w.useState(null),$e=w.useRef(null),qe=WOe(v,b),ge=qe.length;qe.map(fe=>fe.label);const Pe=fe=>e.find(Ve=>Ve.id===fe),Ze=fe=>{const Ve=[...fe].sort((xt,mt)=>xt.start_month-mt.start_month),ut=[],Mt=[];for(const xt of Ve){const mt=xt.start_month+xt.duration;let sn=!1;for(let Gr=0;Gr<Mt.length;Gr++)if(xt.start_month>=Mt[Gr]){Mt[Gr]=mt,ut.push({blockId:xt.id,lane:Gr}),sn=!0;break}sn||(ut.push({blockId:xt.id,lane:Mt.length}),Mt.push(mt))}return{lanes:ut,maxLane:Mt.length}},F=()=>{j.trim()&&(l(j.trim()),S(""))},Z=fe=>{N.trim()&&c(fe,N.trim()),k(null)},oe=(fe,Ve)=>{var ut;ee({row_id:fe,start_month:Ve,duration:1,color_id:((ut=e[0])==null?void 0:ut.id)||"",label:""}),U(null),z(!0)},J=fe=>{ee({row_id:fe.row_id,start_month:fe.start_month,duration:fe.duration,color_id:fe.color_id||"",label:fe.label}),U(fe.id),z(!0)},ce=()=>{const{row_id:fe,start_month:Ve,duration:ut,color_id:Mt,label:xt}=re,mt=Mt||null;se?f(se,{row_id:fe,start_month:Ve,duration:ut,color_id:mt,label:xt}):d(fe,Ve,ut,mt,xt),z(!1)},pe=()=>{T.trim()&&(M?i(M,{name:T.trim(),color:A}):a(T.trim(),A),P(""),$("#3b82f6"),L(null),E(!1))},ue=fe=>{L(fe.id),P(fe.name),$(fe.color),E(!0)},ve=fe=>{K(fe),me(!0)},ke=(fe,Ve)=>{fe.preventDefault();const ut=$e.current;if(!ut)return;const Mt=ut.getBoundingClientRect(),xt=Mt.width/ge,mt=Math.floor((fe.clientX-Mt.left)/xt)+v;we({blockId:Ve.id,offsetMonth:mt-Ve.start_month})},ot=w.useCallback(fe=>{if(!Q||!$e.current)return;const Ve=$e.current.getBoundingClientRect(),ut=Ve.width/ge;let xt=Math.floor((fe.clientX-Ve.left)/ut)+v-Q.offsetMonth;const mt=r.find(sn=>sn.id===Q.blockId);mt&&(xt=Math.max(1,Math.min(xt,36-mt.duration)),xt!==mt.start_month&&f(Q.blockId,{start_month:xt}))},[Q,r,f,ge,v]),Ue=w.useCallback(()=>{we(null)},[]);if(n)return s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const ht=Array.from({length:36},(fe,Ve)=>{const ut=Ve+1,Mt=Math.floor(Ve/12)+1,xt=`${p8[Ve%12]} (A${Mt})`;return{value:ut,label:xt}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mr,{className:"text-sm font-medium",children:"Lgende des couleurs"}),s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{L(null),P(""),$("#3b82f6"),E(!0)},children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),s.jsx(Qt,{children:e.length===0?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):s.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(fe=>s.jsxs("div",{className:"flex items-center gap-2 group",children:[s.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:fe.color}}),s.jsx("span",{className:"text-sm",children:fe.name}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>ue(fe),children:s.jsx(cv,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>o(fe.id),children:s.jsx(za,{className:"h-3 w-3"})})]},fe.id))})})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mr,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(be,{placeholder:"Nouveau produit",value:j,onChange:fe=>S(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&F(),className:"h-7 text-xs w-48"}),s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:F,disabled:!j.trim(),children:[s.jsx(er,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Ne,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),s.jsxs(lt,{value:String(v),onValueChange:fe=>{const Ve=Number(fe);x(Ve),Ve>b&&_(Ve)},children:[s.jsx(it,{className:"h-7 text-xs w-32",children:s.jsx(ct,{})}),s.jsx(st,{children:ht.map(fe=>s.jsx(Be,{value:String(fe.value),children:fe.label},fe.value))})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Ne,{className:"text-xs whitespace-nowrap",children:"Fin :"}),s.jsxs(lt,{value:String(b),onValueChange:fe=>{const Ve=Number(fe);_(Ve),Ve<v&&x(Ve)},children:[s.jsx(it,{className:"h-7 text-xs w-32",children:s.jsx(ct,{})}),s.jsx(st,{children:ht.filter(fe=>fe.value>=v).map(fe=>s.jsx(Be,{value:String(fe.value),children:fe.label},fe.value))})]})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[ge," mois affichs"]})]})]})}),s.jsx(Qt,{className:"overflow-x-auto p-0",children:s.jsxs("div",{className:"min-w-[900px]",onMouseMove:ot,onMouseUp:Ue,onMouseLeave:Ue,children:[s.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${ge}, 1fr)`},children:[s.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),qe.map((fe,Ve)=>s.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:fe.label},Ve))]}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(fe=>{const Ve=r.filter(mt=>mt.row_id===fe.id),{lanes:ut,maxLane:Mt}=Ze(Ve),xt=Math.max(44,Mt*32+12);return s.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${ge}, 1fr)`,minHeight:xt},children:[s.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:xt},children:C===fe.id?s.jsx(be,{value:N,onChange:mt=>R(mt.target.value),onBlur:()=>Z(fe.id),onKeyDown:mt=>mt.key==="Enter"&&Z(fe.id),autoFocus:!0,className:"h-6 text-xs"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"truncate flex-1 font-medium",children:fe.label}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{G({id:fe.id,label:fe.label}),X(!0)},title:"Voir toutes les notes",children:s.jsx(Lu,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{k(fe.id),R(fe.label)},children:s.jsx(cv,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(fe.id)},children:s.jsx(lr,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${ge+2}`,minHeight:xt},ref:$e,children:[s.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${ge}, 1fr)`},children:qe.map((mt,sn)=>s.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>oe(fe.id,mt.globalIndex)},sn))}),Ve.map(mt=>{const sn=mt.start_month+mt.duration;if(sn<=v||mt.start_month>b)return null;const Gr=Pe(mt.color_id),jn=(Gr==null?void 0:Gr.color)||"#94a3b8",sl=Math.max(mt.start_month,v),Ws=Math.min(sn,b+1),Na=`${(sl-v)/ge*100}%`,uf=`${(Ws-sl)/ge*100}%`,rt=ut.find(mn=>mn.blockId===mt.id),Yt=4+((rt==null?void 0:rt.lane)||0)*32,_n=y(mt.id),Dn=_n.length>0&&_n[0].content.trim()!=="";return s.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:Na,width:uf,backgroundColor:jn,top:Yt,height:28,cursor:Q?"grabbing":"grab",zIndex:(Q==null?void 0:Q.blockId)===mt.id?10:1},onMouseDown:mn=>ke(mn,mt),onDoubleClick:()=>J(mt),onClick:mn=>{Q||(mn.stopPropagation(),ve(mt))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[s.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:mt.label||(Gr==null?void 0:Gr.name)||""}),Dn&&s.jsx(oH,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},mt.id)})]})]},fe.id)})]})})]}),s.jsx(_r,{open:O,onOpenChange:E,children:s.jsxs(vr,{className:"max-w-sm",children:[s.jsx(yr,{children:s.jsx(xr,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom / Dfinition"}),s.jsx(be,{value:T,onChange:fe=>P(fe.target.value),placeholder:"Ex: Sortie publique valide"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Couleur"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"color",value:A,onChange:fe=>$(fe.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(be,{value:A,onChange:fe=>$(fe.target.value),className:"w-28 text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{onClick:pe,disabled:!T.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&s.jsx(ae,{variant:"destructive",onClick:()=>{o(M),E(!1)},children:"Supprimer"})]})]})]})}),s.jsx(_r,{open:B,onOpenChange:z,children:s.jsxs(vr,{className:"max-w-sm",children:[s.jsx(yr,{children:s.jsx(xr,{children:se?"Modifier le bloc":"Nouveau bloc"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Label"}),s.jsx(be,{value:re.label,onChange:fe=>ee(Ve=>({...Ve,label:fe.target.value})),placeholder:"Ex: Prototype"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Mois de dbut"}),s.jsxs(lt,{value:String(re.start_month),onValueChange:fe=>ee(Ve=>({...Ve,start_month:Number(fe)})),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:ht.map(fe=>s.jsx(Be,{value:String(fe.value),children:fe.label},fe.value))})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Dure (mois)"}),s.jsxs(lt,{value:String(re.duration),onValueChange:fe=>ee(Ve=>({...Ve,duration:Number(fe)})),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsx(st,{children:Array.from({length:24},(fe,Ve)=>Ve+1).map(fe=>s.jsxs(Be,{value:String(fe),children:[fe," mois"]},fe))})]})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Couleur"}),s.jsxs(lt,{value:re.color_id||"none",onValueChange:fe=>ee(Ve=>({...Ve,color_id:fe==="none"?"":fe})),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Sans couleur"}),e.map(fe=>s.jsx(Be,{value:fe.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:fe.color}}),fe.name]})},fe.id))]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{onClick:ce,className:"flex-1",children:se?"Mettre  jour":"Crer"}),se&&s.jsx(ae,{variant:"destructive",onClick:()=>{h(se),z(!1)},children:"Supprimer"})]})]})]})}),s.jsx(EOe,{open:q,onOpenChange:me,block:V,color:V?Pe(V.color_id):void 0,existingNote:V?y(V.id)[0]:void 0,onSave:p,monthLabels:ht.map(fe=>fe.label)}),D&&s.jsx(VOe,{open:W,onOpenChange:X,rowLabel:D.label,rowBlocks:r.filter(fe=>fe.row_id===D.id),notes:g(r.filter(fe=>fe.row_id===D.id).map(fe=>fe.id)),colors:e,monthLabels:ht.map(fe=>fe.label),onOpenBlockNote:ve})]})}function HOe(){const e=rP(),[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState("references");return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx(as,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),s.jsxs(Ni,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsx(Ot,{value:"references",children:" Rfrences"}),s.jsx(Ot,{value:"products",children:" Produits"}),s.jsx(Ot,{value:"suppliers",children:" Fournisseurs"}),s.jsx(Ot,{value:"costs",children:" Cots & Export"}),s.jsx(Ot,{value:"meetings",children:" Runions BE"}),s.jsx(Ot,{value:"planning",children:" Planning Dev"})]}),s.jsx(Vt,{value:"references",children:t?s.jsx(hEe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):s.jsx(dEe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),s.jsx(Vt,{value:"products",children:n?s.jsx(yEe,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(vEe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),s.jsx(xEe,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),s.jsx(Vt,{value:"suppliers",children:s.jsx(wEe,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),s.jsx(Vt,{value:"costs",children:s.jsx(bEe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),s.jsx(Vt,{value:"meetings",children:s.jsx(POe,{})}),s.jsx(Vt,{value:"planning",children:s.jsx(g8,{})})]})]})})}function qOe(){const{user:e,userRole:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=t==="admin"||t==="finance",u=w.useCallback(async()=>{if(e){l(!0);try{const[p,v]=await Promise.all([xe.from("timetracking_categories").select("*").order("name"),xe.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);p.data&&n(p.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),v.data&&i(v.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(p){console.error("TimeTracking fetch error:",p)}finally{l(!1)}}},[e]);return w.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:o,canManageCategories:c,createCategory:async(p,v)=>{if(!e)return;const{error:x}=await xe.from("timetracking_categories").insert({user_id:e.id,name:p,color:v});x?(Ee.error("Erreur cration catgorie"),console.error(x)):(Ee.success("Catgorie cre"),u())},updateCategory:async(p,v)=>{const{error:x}=await xe.from("timetracking_categories").update(v).eq("id",p);x?(Ee.error("Erreur mise  jour catgorie"),console.error(x)):(Ee.success("Catgorie mise  jour"),u())},deleteCategory:async p=>{const{error:v}=await xe.from("timetracking_categories").delete().eq("id",p);v?(Ee.error("Erreur suppression catgorie"),console.error(v)):(Ee.success("Catgorie supprime"),u())},createEntry:async p=>{if(!e)return;const{error:v}=await xe.from("timetracking_entries").insert({user_id:e.id,date:p.date,category_id:p.category_id||null,task_description:p.task_description,duration_minutes:p.duration_minutes||0,comments:p.comments||""});v?(Ee.error("Erreur cration entre"),console.error(v)):(Ee.success("Temps enregistr"),u())},updateEntry:async(p,v)=>{const{error:x}=await xe.from("timetracking_entries").update(v).eq("id",p);x?(Ee.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async p=>{const{error:v}=await xe.from("timetracking_entries").delete().eq("id",p);v?(Ee.error("Erreur suppression"),console.error(v)):u()},refresh:u}}function Tw(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function KOe({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,o]=w.useState(()=>Pd(new Date,{weekStartsOn:1})),[l,c]=w.useState(new Date),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,y]=w.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),g=REe(i,{weekStartsOn:1}),p=OEe({start:i,end:g}),v=w.useMemo(()=>e.filter(k=>X_(TAe(k.date),l)),[e,l]),x=w.useMemo(()=>{const k={};return p.forEach(N=>{const R=ni(N,"yyyy-MM-dd");k[R]=e.filter(O=>O.date===R).reduce((O,E)=>O+E.duration_minutes,0)}),k},[e,p]),b=v.reduce((k,N)=>k+N.duration_minutes,0),_=k=>t.find(N=>N.id===k),j=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=k=>{h(k.id),y({task_description:k.task_description,category_id:k.category_id||"",duration_hours:Math.floor(k.duration_minutes/60),duration_minutes:k.duration_minutes%60,comments:k.comments}),d(!0)},C=async()=>{if(!m.task_description.trim())return;const k=m.duration_hours*60+m.duration_minutes,N={date:ni(l,"yyyy-MM-dd"),task_description:m.task_description,category_id:m.category_id||null,duration_minutes:k,comments:m.comments};f?await n(f,N):await r(N),d(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o(GAe(i,1)),children:s.jsx(HW,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",ni(i,"d MMMM",{locale:ou})," au ",ni(g,"d MMMM yyyy",{locale:ou})]}),s.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o(qU(i,1)),children:s.jsx(Dh,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:p.map(k=>{const N=ni(k,"yyyy-MM-dd"),R=x[N]||0,O=X_(k,l);return s.jsxs("button",{onClick:()=>c(k),className:`p-3 rounded-lg border text-center transition-colors ${O?"bg-primary text-primary-foreground border-primary":OAe(k)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[s.jsx("div",{className:"text-xs font-medium",children:ni(k,"EEE",{locale:ou})}),s.jsx("div",{className:"text-lg font-bold",children:ni(k,"d")}),R>0&&s.jsx("div",{className:`text-xs mt-1 ${O?"text-primary-foreground/80":"text-muted-foreground"}`,children:Tw(R)})]},N)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:ni(l,"EEEE d MMMM yyyy",{locale:ou})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(XS,{className:"h-3.5 w-3.5"}),"Total : ",Tw(b)]})]}),s.jsxs(ae,{onClick:j,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{children:"Catgorie"}),s.jsx(ie,{children:"Tche"}),s.jsx(ie,{className:"text-right",children:"Dure"}),s.jsx(ie,{children:"Commentaire"}),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[v.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),v.map(k=>{const N=_(k.category_id);return s.jsxs(Se,{children:[s.jsx(H,{children:N?s.jsxs(Oe,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(H,{className:"font-medium",children:k.task_description}),s.jsx(H,{className:"text-right font-mono-numbers",children:Tw(k.duration_minutes)}),s.jsx(H,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:k.comments||""}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>S(k),children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>a(k.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},k.id)})]})]})}),s.jsx(_r,{open:u,onOpenChange:d,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(yr,{children:s.jsx(xr,{children:f?"Modifier la tche":"Nouvelle tche"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Tche *"}),s.jsx(be,{value:m.task_description,onChange:k=>y({...m,task_description:k.target.value}),placeholder:"Description de la tche..."})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Catgorie"}),s.jsxs(lt,{value:m.category_id||"none",onValueChange:k=>y({...m,category_id:k==="none"?"":k}),children:[s.jsx(it,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(st,{children:[s.jsx(Be,{value:"none",children:"Aucune"}),t.map(k=>s.jsx(Be,{value:k.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),k.name]})},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Dure"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{type:"number",min:0,max:23,className:"w-20 text-right",value:m.duration_hours,onChange:k=>y({...m,duration_hours:parseInt(k.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),s.jsx(be,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:m.duration_minutes,onChange:k=>y({...m,duration_minutes:parseInt(k.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Commentaire"}),s.jsx(_i,{value:m.comments,onChange:k=>y({...m,comments:k.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:C,disabled:!m.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const GOe=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function YOe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),i(!0)},m=g=>{l(g.id),u(g.name),f(g.color),i(!0)},y=async()=>{c.trim()&&(o?await r(o,{name:c,color:d}):await t(c,d),i(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),s.jsxs(ae,{onClick:h,children:[s.jsx(er,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"w-12",children:"Couleur"}),s.jsx(ie,{children:"Nom"}),s.jsx(ie,{})]})}),s.jsxs(Kt,{children:[e.length===0&&s.jsx(Se,{children:s.jsx(H,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(g=>s.jsxs(Se,{children:[s.jsx(H,{children:s.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:g.color}})}),s.jsx(H,{className:"font-medium",children:g.name}),s.jsx(H,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>m(g),children:s.jsx(Md,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(g.id),children:s.jsx(lr,{className:"h-3 w-3 text-destructive"})})]})})]},g.id))]})]})}),s.jsx(_r,{open:a,onOpenChange:i,children:s.jsxs(vr,{className:"max-w-sm",children:[s.jsx(yr,{children:s.jsx(xr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom *"}),s.jsx(be,{value:c,onChange:g=>u(g.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Couleur"}),s.jsx("div",{className:"flex gap-2 mt-2",children:GOe.map(g=>s.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===g?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:g},onClick:()=>f(g)},g))})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:y,disabled:!c.trim(),children:o?"Mettre  jour":"Crer"})})]})})]})}function XOe(){const e=qOe();return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),s.jsxs(Ni,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsx(Ot,{value:"entries",children:" Mes entres"}),e.canManageCategories&&s.jsx(Ot,{value:"categories",children:" Catgories"})]}),s.jsx(Vt,{value:"entries",children:s.jsx(KOe,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&s.jsx(Vt,{value:"categories",children:s.jsx(YOe,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const LR="novaride_financial_state_v5";function ZOe(){const{user:e,isAdmin:t,getTabPermission:r}=Ca(),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(()=>!!e,[e,t]),c=w.useCallback(async()=>{if(!e){o(!1);return}try{const{data:g}=await xe.from("snapshots").select("*").order("created_at",{ascending:!1});g&&a(g.map(p=>({id:p.id,name:p.name,comment:p.comment,createdAt:p.created_at,stateData:JSON.stringify(p.state_data)})))}catch{}finally{o(!1)}},[e]);w.useEffect(()=>{c()},[c]);const u=w.useCallback(async(g,p)=>{if(!e)return!1;try{const v=localStorage.getItem(LR);if(!v)return!1;const{data:x,error:b}=await xe.from("snapshots").insert({user_id:e.id,name:g,comment:p,state_data:JSON.parse(v)}).select().single();if(b||!x)return!1;const _=x;return a(j=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...j]),xn({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=w.useCallback(g=>{const p=n.find(v=>v.id===g);return p?(localStorage.setItem(LR,p.stateData),xn({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=w.useCallback(async g=>!1,[]),h=w.useCallback(async g=>e?(await xe.from("snapshots").delete().eq("id",g),a(p=>p.filter(v=>v.id!==g)),!0):!1,[e]),m=w.useCallback(async(g,p)=>!1,[]),y=g=>new Date(g).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:m,formatDate:y}}function QOe(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=ZOe(),{getTabPermission:o,isAdmin:l}=Ca(),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(!1),g=o("snapshots")==="write",p=async()=>{if(!c.trim()){xn({title:"Nom requis",variant:"destructive"});return}m(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),m(!1)};return t?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(gi,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx(as,{tabKey:"snapshots",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bs,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),g&&s.jsxs(Ft,{children:[s.jsxs(hr,{children:[s.jsxs(mr,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),s.jsx(js,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),s.jsx(Qt,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Nom"}),s.jsx(be,{value:c,onChange:v=>u(v.target.value),placeholder:"Ex: Budget V2 valid"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{children:"Commentaire (optionnel)"}),s.jsx(_i,{value:d,onChange:v=>f(v.target.value),placeholder:"Notes...",rows:1})]}),s.jsxs(ae,{onClick:p,disabled:h,children:[h?s.jsx(gi,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(tp,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),s.jsxs(Ft,{children:[s.jsxs(hr,{children:[s.jsxs(mr,{className:"flex items-center gap-2",children:[s.jsx(HI,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),s.jsxs(js,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),s.jsx(Qt,{children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):s.jsx("div",{className:"space-y-3",children:e.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:v.name}),s.jsx(Oe,{variant:"outline",className:"text-xs",children:i(v.createdAt)})]}),v.comment&&s.jsx("p",{className:"text-sm text-muted-foreground",children:v.comment})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g&&s.jsxs(Ty,{children:[s.jsx(HT,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(ep,{className:"h-4 w-4 mr-1"}),"Charger"]})}),s.jsxs($m,{children:[s.jsxs(Im,{children:[s.jsx(Lm,{children:"Restaurer cette sauvegarde ?"}),s.jsxs(Bm,{children:["Les donnes actuelles seront remplaces par  ",v.name," . Cette action rechargera la page."]})]}),s.jsxs(Dm,{children:[s.jsx(zm,{children:"Annuler"}),s.jsx(Fm,{onClick:()=>n(v.id),children:"Restaurer"})]})]})]}),l&&s.jsxs(Ty,{children:[s.jsx(HT,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(lr,{className:"h-4 w-4"})})}),s.jsxs($m,{children:[s.jsxs(Im,{children:[s.jsxs(Lm,{children:["Supprimer  ",v.name,"  ?"]}),s.jsx(Bm,{children:"Cette action est irrversible."})]}),s.jsxs(Dm,{children:[s.jsx(zm,{children:"Annuler"}),s.jsx(Fm,{onClick:()=>a(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},v.id))})})]})]})})}const Rw="hsl(var(--muted-foreground))";function v8({products:e,productCategories:t,salesRules:r,calculateProductCost:n,computeChainFromPublicTTC:a,getEffectivePrice:i,editedOurPrices:o,pricingMode:l}){var b;const[c,u]=w.useState("from_our_price"),[d,f]=w.useState(new Set([(b=r[0])==null?void 0:b.id].filter(Boolean))),[h,m]=w.useState(new Set(t.map(_=>_.id))),y=_=>{f(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},g=_=>{m(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},p=w.useMemo(()=>e.filter(_=>_.category_id?h.has(_.category_id):h.has("__uncategorized")),[e,h]),v=w.useMemo(()=>p.map(_=>{const j=n(_.id,_.default_volume||500),S=t.find(N=>N.id===_.category_id),C=(S==null?void 0:S.color)||Rw,k={name:_.name.length>15?_.name.slice(0,14)+"":_.name,fullName:_.name,costPrice:j,catColor:C,categoryName:(S==null?void 0:S.name)||"Sans catgorie"};for(const N of r){if(!d.has(N.id))continue;const R=i(_),O=a(R,N);let E=0;c==="from_public"?E=(O==null?void 0:O.ourB2BPrice)||0:E=o[_.id]!==void 0?o[_.id]:(O==null?void 0:O.ourB2BPrice)||0;const T=j>0?(E-j)/j*100:0;k[`margin_${N.id}`]=parseFloat(T.toFixed(1))}return k}),[p,d,r,n,i,a,o,c]),x=r.filter(_=>d.has(_.id));return s.jsxs(Ft,{children:[s.jsxs(hr,{children:[s.jsx(mr,{className:"text-lg",children:"Analyse des marges par produit"}),s.jsx(js,{children:"Comparez les marges selon les rgles de vente et catgories"})]}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rgles de vente"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(xi,{checked:d.has(_.id),onCheckedChange:()=>y(_.id)}),s.jsx("span",{className:"text-sm",children:_.name}),s.jsx(Oe,{variant:"outline",className:"text-[10px] px-1 py-0",children:_.type.toUpperCase()})]},_.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Catgories"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(xi,{checked:h.has(_.id),onCheckedChange:()=>g(_.id)}),_.color&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:_.color}}),s.jsx("span",{className:"text-sm",children:_.name})]},_.id)),e.some(_=>!_.category_id)&&s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(xi,{checked:h.has("__uncategorized"),onCheckedChange:()=>g("__uncategorized")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sans catgorie"})]})]})]})]}),v.length>0&&x.length>0?s.jsx("div",{className:"h-80",children:s.jsx(br,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:v,margin:{top:10,right:10,left:0,bottom:40},children:[s.jsx(Nr,{strokeDasharray:"3 3",opacity:.3}),s.jsx(Zt,{dataKey:"name",tick:{fontSize:11},angle:-30,textAnchor:"end",height:60}),s.jsx(zt,{tickFormatter:_=>`${_}%`,tick:{fontSize:11}}),s.jsx(St,{formatter:(_,j)=>{const S=r.find(C=>`margin_${C.id}`===j);return[`${_.toFixed(1)}%`,(S==null?void 0:S.name)||j]},labelFormatter:(_,j)=>{var C;const S=(C=j==null?void 0:j[0])==null?void 0:C.payload;return(S==null?void 0:S.fullName)||_}}),s.jsx(x0,{y:0,stroke:"hsl(var(--destructive))",strokeDasharray:"3 3",strokeWidth:1.5}),x.map(_=>s.jsx(Ut,{dataKey:`margin_${_.id}`,name:`margin_${_.id}`,fill:Rw,radius:[3,3,0,0],maxBarSize:40,children:v.map((j,S)=>{const C=j[`margin_${_.id}`]??0;return s.jsx(Qo,{fill:C<0?"hsl(var(--destructive))":j.catColor,fillOpacity:C<0?.8:1},S)})},_.id))]})})}):s.jsx("div",{className:"h-40 flex items-center justify-center text-muted-foreground text-sm",children:"Slectionnez au moins une rgle et une catgorie pour afficher le graphique."}),x.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-xs",children:[t.filter(_=>h.has(_.id)).map(_=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm",style:{backgroundColor:_.color||Rw}}),s.jsx("span",{children:_.name})]},_.id)),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm bg-destructive opacity-80"}),s.jsx("span",{children:"Marge ngative"})]})]})]})]})}const BR=20;function JOe(){var mn;const{products:e,productCategories:t,references:r,bom:n,calculateProductCost:a,updateProduct:i}=rP(),[o]=w.useState("from_our_price"),[l,c]=w.useState(1.3),[u,d]=w.useState(1.8),[f,h]=w.useState([{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}]),[m,y]=w.useState("default-b2b"),[g,p]=w.useState(new Set),[v,x]=w.useState(!1),[b,_]=w.useState(""),[j,S]=w.useState("b2b"),[C,k]=w.useState({}),[N,R]=w.useState({}),[O,E]=w.useState({}),[T,P]=w.useState({}),[A,$]=w.useState("none"),[M,L]=w.useState(new Set),[B,z]=w.useState(""),[re,ee]=w.useState(!1),[se,U]=w.useState(!1),[V,K]=w.useState(!1),[q,me]=w.useState(null),[D,G]=w.useState(""),[W,X]=w.useState(null),Q=f.find(Y=>Y.id===m)||f[0],we=()=>C[m]||{},$e=()=>N[m]||{},qe=()=>O[m]||{},ge=()=>T[m]||{},Pe=(Y,le)=>{k(ne=>({...ne,[m]:{...ne[m]||{},[Y]:le}}))},Ze=(Y,le)=>{R(ne=>({...ne,[m]:{...ne[m]||{},[Y]:le}})),P(ne=>{const Ie={...ne[m]||{}};return delete Ie[Y],{...ne,[m]:Ie}})},F=(Y,le)=>{E(ne=>({...ne,[m]:{...ne[m]||{},[Y]:le}})),P(ne=>{const Ie={...ne[m]||{}};return delete Ie[Y],{...ne,[m]:Ie}})},Z=()=>({pricingMode:o,distributorCoef:l,shopCoef:u,salesRules:f,activeRuleId:m,editedPrices:C,editedOurPrices:N,editedFinalPrices:O,editedProductCoefs:T});w.useEffect(()=>{(async()=>{var Ie,_t,nt,Dt,Ar,Ct,Or,tr,on;const{data:{user:le}}=await xe.auth.getUser();if(!le)return;const{data:ne}=await xe.from("pricing_config").select("config_data").eq("user_id",le.id).maybeSingle();if(ne!=null&&ne.config_data){const De=ne.config_data;if(De.distributorCoef!==void 0&&c(De.distributorCoef),De.shopCoef!==void 0&&d(De.shopCoef),(Ie=De.salesRules)!=null&&Ie.length&&h(De.salesRules),De.activeRuleId&&y(De.activeRuleId),De.editedPrices){const rr=Object.keys(De.editedPrices)[0];if(rr&&typeof De.editedPrices[rr]=="object"&&!Array.isArray(De.editedPrices[rr]))k(De.editedPrices);else if(rr&&typeof De.editedPrices[rr]=="number"){const Xn=De.activeRuleId||((nt=(_t=De.salesRules)==null?void 0:_t[0])==null?void 0:nt.id)||"default-b2b";k({[Xn]:De.editedPrices})}}if(De.editedOurPrices){const rr=Object.keys(De.editedOurPrices)[0];if(rr&&typeof De.editedOurPrices[rr]=="object"&&!Array.isArray(De.editedOurPrices[rr]))R(De.editedOurPrices);else if(rr&&typeof De.editedOurPrices[rr]=="number"){const Xn=De.activeRuleId||((Ar=(Dt=De.salesRules)==null?void 0:Dt[0])==null?void 0:Ar.id)||"default-b2b";R({[Xn]:De.editedOurPrices})}}if(De.editedFinalPrices){const rr=Object.keys(De.editedFinalPrices)[0];if(rr&&typeof De.editedFinalPrices[rr]=="object"&&!Array.isArray(De.editedFinalPrices[rr]))E(De.editedFinalPrices);else if(rr&&typeof De.editedFinalPrices[rr]=="number"){const Xn=De.activeRuleId||((Or=(Ct=De.salesRules)==null?void 0:Ct[0])==null?void 0:Or.id)||"default-b2b";E({[Xn]:De.editedFinalPrices})}}if(De.editedProductCoefs){const rr=Object.keys(De.editedProductCoefs)[0];if(rr&&Array.isArray(De.editedProductCoefs[rr])){const Xn=De.activeRuleId||((on=(tr=De.salesRules)==null?void 0:tr[0])==null?void 0:on.id)||"default-b2b";P({[Xn]:De.editedProductCoefs})}else P(De.editedProductCoefs)}}K(!0)})()},[]);const oe=async()=>{U(!0);try{const{data:{user:Y}}=await xe.auth.getUser();if(!Y){Ee.error("Vous devez tre connect pour sauvegarder");return}const le=Z(),{error:ne}=await xe.from("pricing_config").upsert({user_id:Y.id,config_data:le},{onConflict:"user_id"});if(ne)throw ne;Ee.success("Configuration pricing sauvegarde")}catch(Y){Ee.error(`Erreur: ${Y.message}`)}finally{U(!1)}},J=()=>{h(Y=>Y.map(le=>{if(le.id!==m)return le;const ne=[...le.intermediaries];return ne.length>=1&&(ne[0]={...ne[0],coefficient:l}),ne.length>=2&&(ne[1]={...ne[1],coefficient:u}),{...le,intermediaries:ne}}))},ce=w.useMemo(()=>{const Y={},le=[];for(const ne of e)ne.category_id?(Y[ne.category_id]||(Y[ne.category_id]=[]),Y[ne.category_id].push(ne)):le.push(ne);return{grouped:Y,uncategorized:le}},[e]),pe=Y=>{p(le=>{const ne=new Set(le);return ne.has(Y)?ne.delete(Y):ne.add(Y),ne})},ue=Y=>{const le=we();return le[Y.id]!==void 0?le[Y.id]:Y.price_ttc},ve=(Y,le)=>{const ne=le||Q;if(!ne||Y<=0)return null;const Ie=(ne==null?void 0:ne.tvaRate)??BR,_t=Y/(1+Ie/100);let nt=_t;const Dt=[...ne.intermediaries].reverse();for(const tr of Dt)nt=nt/tr.coefficient;const Ar=nt,Ct=[];let Or=Ar;for(const tr of ne.intermediaries){const on=Or*tr.coefficient,De=on-Or,rr=Or>0?De/Or*100:0;Ct.push({label:tr.label,buyPrice:Or,coef:tr.coefficient,sellPrice:on,margin:De,marginPct:rr}),Or=on}return{chain:Ct,ourB2BPrice:Ar,prixPublicHT:_t,prixPublicTTC:Y}},ke=(Y,le,ne)=>{if(!Q||Y<=0||le<=0)return null;const Ie=(Q==null?void 0:Q.tvaRate)??BR,_t=le/(1+Ie/100),nt=_t/Y,Dt=Q.intermediaries.length;if(nt<=0)return null;if(Dt===0)return{chain:[],ourB2BPrice:Y,prixPublicHT:_t,prixPublicTTC:le,totalCoef:nt,coefs:[]};let Ar;if(ne&&ne.length===Dt)Ar=ne;else{const tr=Math.pow(nt,1/Dt);Ar=Array(Dt).fill(tr)}const Ct=[];let Or=Y;for(let tr=0;tr<Dt;tr++){const on=Or*Ar[tr],De=on-Or,rr=Or>0?De/Or*100:0;Ct.push({label:Q.intermediaries[tr].label,buyPrice:Or,coef:Ar[tr],sellPrice:on,margin:De,marginPct:rr}),Or=on}return{chain:Ct,ourB2BPrice:Y,prixPublicHT:_t,prixPublicTTC:le,totalCoef:nt,coefs:Ar}},ot=(Y,le,ne,Ie)=>{if(((Q==null?void 0:Q.intermediaries.length)||1)<=1){P(Ct=>({...Ct,[m]:{...Ct[m]||{},[Y]:[Ie]}}));return}const nt=Math.max(1.01,Math.min(ne,Ie/1.01)),Dt=Ie/nt,Ar=le===0?[nt,Dt]:[Dt,nt];P(Ct=>({...Ct,[m]:{...Ct[m]||{},[Y]:Ar}}))},Ue=w.useCallback(async(Y,le)=>{await i(Y,{price_ttc:le}),k(ne=>{const Ie={...ne[m]||{}};return delete Ie[Y],{...ne,[m]:Ie}}),E(ne=>{const Ie={...ne[m]||{}};return delete Ie[Y],{...ne,[m]:Ie}})},[i,m]),ht=async()=>{const Y=parseFloat(B);if(isNaN(Y)||Y<0)return;const le=Array.from(M).map(ne=>i(ne,{price_ttc:Y}));await Promise.all(le),Ee.success(`Prix ${Y.toFixed(2)}  appliqu  ${M.size} produit(s)`),L(new Set),z(""),ee(!1),k(ne=>({...ne,[m]:{}})),R(ne=>({...ne,[m]:{}})),E(ne=>({...ne,[m]:{}})),P(ne=>({...ne,[m]:{}}))},fe=()=>{if(!q)return;const Y=parseFloat(D);if(isNaN(Y)||Y<0)return;const le=q.catId==="__uncategorized"?ce.uncategorized:ce.grouped[q.catId]||[];q.field==="our_price"?R(ne=>{const Ie={...ne[m]||{}};return le.forEach(_t=>{Ie[_t.id]=Y}),{...ne,[m]:Ie}}):E(ne=>{const Ie={...ne[m]||{}};return le.forEach(_t=>{Ie[_t.id]=Y}),{...ne,[m]:Ie}}),Ee.success(`Prix appliqu  ${le.length} produit(s) de "${q.catName}"`),me(null),G("")},Ve=Y=>{L(le=>{const ne=new Set(le);return ne.has(Y)?ne.delete(Y):ne.add(Y),ne})},ut=Y=>{const le=Y==="__uncategorized"?ce.uncategorized:ce.grouped[Y]||[],ne=le.every(Ie=>M.has(Ie.id));L(Ie=>{const _t=new Set(Ie);return le.forEach(nt=>{ne?_t.delete(nt.id):_t.add(nt.id)}),_t})},Mt=()=>{if(!b.trim())return;const Y=j==="b2c"?[]:j==="oem"?[{label:"Partenaire OEM",coefficient:1.4}]:[{label:"Distributeur",coefficient:l},{label:"Shop",coefficient:u}],le={id:`rule-${Date.now()}`,name:b.trim(),type:j,tvaRate:20,intermediaries:Y};h(ne=>[...ne,le]),y(le.id),x(!1),_("")},xt=()=>{var Y;if(W){if(h(le=>le.filter(ne=>ne.id!==W)),k(le=>{const ne={...le};return delete ne[W],ne}),R(le=>{const ne={...le};return delete ne[W],ne}),E(le=>{const ne={...le};return delete ne[W],ne}),P(le=>{const ne={...le};return delete ne[W],ne}),m===W){const le=f.filter(ne=>ne.id!==W);y(((Y=le[0])==null?void 0:Y.id)||"")}X(null),Ee.success("Rgle supprime")}},mt=(Y,le,ne,Ie)=>{h(_t=>_t.map(nt=>{if(nt.id!==Y)return nt;const Dt=[...nt.intermediaries];return ne==="coefficient"?Dt[le]={...Dt[le],coefficient:Number(Ie)||1}:Dt[le]={...Dt[le],label:String(Ie)},{...nt,intermediaries:Dt}}))},sn=Y=>{h(le=>le.map(ne=>{if(ne.id!==Y)return ne;const Ie=ne.type==="b2c"?0:ne.type==="oem"?1:2;return ne.intermediaries.length>=Ie?ne:{...ne,intermediaries:[...ne.intermediaries,{label:"Intermdiaire",coefficient:1.3}]}}))},Gr=(Y,le)=>{h(ne=>ne.map(Ie=>Ie.id!==Y||Ie.intermediaries.length<=0?Ie:{...Ie,intermediaries:Ie.intermediaries.filter((_t,nt)=>nt!==le)}))},jn=Y=>Y.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),sl=Y=>{const le=a(Y.id,Y.default_volume||500);if(le<=0)return null;if(o==="from_public"){const ne=ue(Y),Ie=ve(ne);return Ie?(Ie.ourB2BPrice-le)/le*100:null}else{const ne=ue(Y),Ie=ve(ne),_t=$e(),nt=_t[Y.id]!==void 0?_t[Y.id]:(Ie==null?void 0:Ie.ourB2BPrice)||0;return nt<=0?null:(nt-le)/le*100}},Ws=Y=>Y<0?"text-destructive font-semibold":"text-muted-foreground",Na=Y=>{const le=a(Y.id,Y.default_volume||500),ne=M.has(Y.id),Ie=we(),_t=$e(),nt=qe(),Dt=ge();if(o==="from_public"){const Ar=ue(Y),Ct=ve(Ar),Or=Ie[Y.id]!==void 0;return s.jsxs(Se,{className:ne?"bg-primary/5":"",children:[s.jsx(H,{className:"w-10",children:s.jsx(xi,{checked:ne,onCheckedChange:()=>Ve(Y.id)})}),s.jsx(H,{className:"font-medium",children:Y.name}),s.jsx(H,{className:"text-right font-mono text-sm",children:le>0?`${jn(le)} `:""}),s.jsx(H,{className:"text-right font-mono text-sm font-semibold text-primary",children:Ct?`${jn(Ct.ourB2BPrice)} `:""}),Q==null?void 0:Q.intermediaries.map((tr,on)=>{const De=Ct==null?void 0:Ct.chain[on];return s.jsx(H,{className:"text-right font-mono text-sm",children:De?s.jsxs("span",{className:"text-muted-foreground",children:[jn(De.buyPrice),"  ",s.jsxs("span",{className:"text-foreground",children:[jn(De.sellPrice)," "]}),s.jsxs("span",{className:"text-xs ml-1 opacity-60",children:["(",De.coef,")"]})]}):""},on)}),s.jsx(H,{className:"text-right font-mono text-sm",children:Ct?`${jn(Ct.prixPublicHT)} `:""}),s.jsx(H,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:Ar||"",onChange:tr=>{const on=parseFloat(tr.target.value);Pe(Y.id,isNaN(on)?0:on)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(H,{className:`text-right font-mono text-sm ${(()=>{if(!Ct||le<=0)return"text-muted-foreground";const tr=(Ct.ourB2BPrice-le)/le*100;return Ws(tr)})()}`,children:Ct&&le>0?`${jn((Ct.ourB2BPrice-le)/le*100)}%`:""}),s.jsx(H,{className:"w-10",children:Or&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>Ue(Y.id,Ie[Y.id]),title:"Enregistrer",children:s.jsx(Ao,{className:"h-3.5 w-3.5"})})})]},Y.id)}else{const Ar=ue(Y),Ct=nt[Y.id]!==void 0?nt[Y.id]:Ar||0,Or=ve(Ar),tr=_t[Y.id]!==void 0?_t[Y.id]:(Or==null?void 0:Or.ourB2BPrice)||0,on=Dt[Y.id],De=ke(tr,Ct,on),rr=_t[Y.id]!==void 0||nt[Y.id]!==void 0||Dt[Y.id]!==void 0;return s.jsxs(Se,{className:ne?"bg-primary/5":"",children:[s.jsx(H,{className:"w-10",children:s.jsx(xi,{checked:ne,onCheckedChange:()=>Ve(Y.id)})}),s.jsx(H,{className:"font-medium",children:Y.name}),s.jsx(H,{className:"text-right font-mono text-sm",children:le>0?`${jn(le)} `:""}),s.jsx(H,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:tr||"",onChange:Xn=>{const ki=parseFloat(Xn.target.value);Ze(Y.id,isNaN(ki)?0:ki)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),Q==null?void 0:Q.intermediaries.map((Xn,ki)=>{const q0=De==null?void 0:De.chain[ki],y8=(De==null?void 0:De.coefs[ki])||1;return s.jsx(H,{className:"font-mono text-sm",children:q0?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx(be,{type:"number",step:"0.01",min:"1.01",className:"h-7 text-xs font-mono w-16 text-right",value:Number(y8.toFixed(4)),onChange:x8=>{const oP=parseFloat(x8.target.value);!isNaN(oP)&&De&&ot(Y.id,ki,oP,De.totalCoef)}})]}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[jn(q0.buyPrice),"  ",jn(q0.sellPrice)," "]})]}):""},ki)}),s.jsx(H,{className:"text-right font-mono text-sm",children:De?`${jn(De.prixPublicHT)} `:""}),s.jsx(H,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(be,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:Ct||"",onChange:Xn=>{const ki=parseFloat(Xn.target.value);F(Y.id,isNaN(ki)?0:ki)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(H,{className:"text-right font-mono text-sm text-muted-foreground",children:De?`${De.totalCoef.toFixed(2)}`:""}),s.jsx(H,{className:`text-right font-mono text-sm ${(()=>{if(!De||le<=0)return"text-muted-foreground";const Xn=(tr-le)/le*100;return Ws(Xn)})()}`,children:De&&le>0?`${jn((tr-le)/le*100)}%`:""}),s.jsx(H,{className:"w-10",children:rr&&Ct>0&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>Ue(Y.id,Ct),title:"Enregistrer",children:s.jsx(Ao,{className:"h-3.5 w-3.5"})})})]},Y.id)}},uf=()=>{$(Y=>Y==="none"?"asc":Y==="asc"?"desc":"none")},rt=Y=>A==="none"?Y:[...Y].sort((le,ne)=>{const Ie=sl(le)??-1/0,_t=sl(ne)??-1/0;return A==="asc"?Ie-_t:_t-Ie}),Et=(Y,le)=>{const ne=Y.length>0&&Y.every(nt=>M.has(nt.id)),Ie=Y.some(nt=>M.has(nt.id)),_t=rt(Y);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(Se,{children:[s.jsx(ie,{className:"w-10",children:s.jsx(xi,{checked:ne,onCheckedChange:()=>ut(le),className:Ie&&!ne?"opacity-50":""})}),s.jsx(ie,{children:"Produit"}),s.jsx(ie,{className:"text-right",children:"Cot revient"}),o==="from_public"?s.jsxs(s.Fragment,{children:[s.jsxs(ie,{className:"text-right",children:["Notre prix HT ",s.jsx("span",{className:"text-xs opacity-60",children:"(calcul)"})]}),Q==null?void 0:Q.intermediaries.map((nt,Dt)=>s.jsx(ie,{className:"text-right",children:nt.label},Dt)),s.jsx(ie,{className:"text-right",children:"Prix Public HT"}),s.jsx(ie,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Mc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ie,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Mc,{className:"h-3 w-3 text-primary"}),"Notre prix HT"]})}),Q==null?void 0:Q.intermediaries.map((nt,Dt)=>s.jsxs(ie,{className:"text-right",children:[nt.label," ",s.jsx("span",{className:"text-xs opacity-60",children:"(coef)"})]},Dt)),s.jsx(ie,{className:"text-right",children:"Prix Public HT"}),s.jsx(ie,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Mc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})}),s.jsx(ie,{className:"text-right",children:"Coef total"})]}),s.jsx(ie,{className:"text-right",children:s.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors cursor-pointer",onClick:uf,children:["Notre marge",A==="none"&&s.jsx(BI,{className:"h-3 w-3 opacity-40"}),A==="asc"&&s.jsx(FI,{className:"h-3 w-3 text-primary"}),A==="desc"&&s.jsx(Mc,{className:"h-3 w-3 text-primary"})]})}),s.jsx(ie,{className:"w-10"})]})}),s.jsx(Kt,{children:_t.map(Na)})]})})},Yt=()=>{const Y=we(),le=$e(),ne=qe(),Ie=ge();return o==="from_public"?Object.keys(Y).length>0:Object.keys(le).length>0||Object.keys(ne).length>0||Object.keys(Ie).length>0},_n=async()=>{if(o==="from_public"){const Y=we(),le=Object.entries(Y).map(([ne,Ie])=>i(ne,{price_ttc:Ie}));await Promise.all(le),Ee.success(`${Object.keys(Y).length} prix mis  jour pour "${Q==null?void 0:Q.name}"`),k(ne=>({...ne,[m]:{}}))}else{const Y=$e(),le=qe(),ne=ge(),Ie=new Set([...Object.keys(Y),...Object.keys(le),...Object.keys(ne)]),_t=Array.from(Ie).map(nt=>{var Ar;const Dt=le[nt]!==void 0?le[nt]:((Ar=e.find(Ct=>Ct.id===nt))==null?void 0:Ar.price_ttc)||0;return Dt>0?i(nt,{price_ttc:Dt}):Promise.resolve()});await Promise.all(_t),Ee.success(`${Ie.size} prix mis  jour pour "${Q==null?void 0:Q.name}"`),E(nt=>({...nt,[m]:{}})),P(nt=>({...nt,[m]:{}}))}await oe()};w.useMemo(()=>{let Y=0;for(const le of Object.keys(C))Y+=Object.keys(C[le]||{}).length;for(const le of Object.keys(N))Y+=Object.keys(N[le]||{}).length;for(const le of Object.keys(O))Y+=Object.keys(O[le]||{}).length;return Y},[C,N,O]);const Dn=Y=>{const le=Object.keys(C[Y]||{}).length,ne=Object.keys(N[Y]||{}).length,Ie=Object.keys(O[Y]||{}).length;return le+ne+Ie};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Stratgie tarifaire, chane de distribution et marges par produit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{onClick:oe,disabled:se,variant:"default",size:"sm",children:[se?s.jsx(gi,{className:"h-4 w-4 mr-1 animate-spin"}):s.jsx(tp,{className:"h-4 w-4 mr-1"}),"Sauvegarder Config"]}),M.size>0&&s.jsxs(_r,{open:re,onOpenChange:ee,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Oj,{className:"h-4 w-4 mr-1"}),"Appliquer un prix (",M.size,")"]})}),s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsxs(xr,{children:["Appliquer un prix  ",M.size," produit(s)"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Produits slectionns :",s.jsx("ul",{className:"mt-1 list-disc pl-4",children:Array.from(M).map(Y=>{const le=e.find(ne=>ne.id===Y);return le?s.jsx("li",{children:le.name},Y):null})})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:o==="from_public"?"Prix Public TTC ()":"Notre Prix de Vente HT ()"}),s.jsx(be,{type:"number",step:"0.01",value:B,onChange:Y=>z(Y.target.value),placeholder:"Ex: 299.00",className:"font-mono"})]}),s.jsxs(ae,{onClick:ht,className:"w-full",children:["Appliquer  ",M.size," produit(s)"]})]})]})]})]})]}),s.jsx(Ft,{children:s.jsxs(hr,{className:"pb-3",children:[s.jsxs(mr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Mc,{className:"h-4 w-4 text-primary"}),"Mode de tarification  Prix fixs aux deux extrmits"]}),s.jsx(js,{children:"Fixez notre prix HT + le prix client TTC  les coefficients intermdiaires sont calculs et lis"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsxs(mr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Coef. Distributeur"]})}),s.jsx(Qt,{children:s.jsx(be,{type:"number",step:"0.01",value:l,onChange:Y=>c(Number(Y.target.value)||1),onBlur:J,className:"font-mono"})})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsxs(mr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Coef. Shop"]})}),s.jsx(Qt,{children:s.jsx(be,{type:"number",step:"0.01",value:u,onChange:Y=>d(Number(Y.target.value)||1),onBlur:J,className:"font-mono"})})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsxs(mr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(QS,{className:"h-4 w-4"}),"TVA"]})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-lg font-mono font-semibold",children:[(Q==null?void 0:Q.tvaRate)??20," %"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dfini dans la rgle active"})]})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsx(mr,{className:"text-sm font-medium",children:"Chane active"})}),s.jsx(Qt,{children:s.jsx("div",{className:"text-xs text-muted-foreground",children:o==="from_public"?`Client final  ${[...(Q==null?void 0:Q.intermediaries)||[]].reverse().map(Y=>Y.label).join("  ")}  Nous`:`Nous  ${Q==null?void 0:Q.intermediaries.map(Y=>Y.label).join("  ")}  Client final`})})]})]}),s.jsxs(Ft,{children:[s.jsx(hr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(mr,{className:"text-lg",children:"Rgles de vente"}),s.jsx(js,{children:"Configurez les canaux de distribution et leurs intermdiaires. Chaque rgle a ses propres prix par catgorie."})]}),s.jsxs(_r,{open:v,onOpenChange:x,children:[s.jsx(bd,{asChild:!0,children:s.jsxs(ae,{size:"sm",variant:"outline",children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Nouvelle rgle"]})}),s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsx(xr,{children:"Nouvelle rgle de vente"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ne,{children:"Nom"}),s.jsx(be,{value:b,onChange:Y=>_(Y.target.value),placeholder:"Ex: B2B Europe"})]}),s.jsxs("div",{children:[s.jsx(Ne,{children:"Type"}),s.jsxs(lt,{value:j,onValueChange:Y=>S(Y),children:[s.jsx(it,{children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"b2b",children:"B2B (max 2 intermdiaires)"}),s.jsx(Be,{value:"oem",children:"OEM (max 1 intermdiaire)"}),s.jsx(Be,{value:"b2c",children:"B2C (vente directe)"})]})]})]}),s.jsx(ae,{onClick:Mt,className:"w-full",children:"Crer"})]})]})]})]})}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(Y=>{const le=Dn(Y.id);return s.jsxs(Oe,{variant:Y.id===m?"default":"outline",className:"cursor-pointer text-sm py-1.5 px-3 relative",onClick:()=>y(Y.id),children:[Y.name,s.jsxs("span",{className:"ml-1 text-xs opacity-60",children:["(",Y.type.toUpperCase(),")"]}),le>0&&s.jsx("span",{className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full bg-primary text-primary-foreground text-[10px] font-bold",children:le})]},Y.id)})}),Q&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{value:Q.name,onChange:Y=>h(le=>le.map(ne=>ne.id===Q.id?{...ne,name:Y.target.value}:ne)),className:"h-8 text-sm font-semibold w-48"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:"secondary",children:Q.type==="b2c"?"Vente directe":Q.type==="oem"?"Max 1 intermdiaire":"Max 2 intermdiaires"}),f.length>1&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>X(Q.id),children:s.jsx(lr,{className:"h-3.5 w-3.5"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Oe,{variant:"outline",className:"bg-primary/5",children:"Nous"}),Q.intermediaries.map((Y,le)=>s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs(Oe,{variant:"outline",children:[Y.label," (",Y.coefficient,")"]})]},le)),s.jsx("span",{children:""}),s.jsx(Oe,{variant:"outline",className:"bg-primary/5",children:"Client final"})]}),s.jsx(Hy,{}),s.jsx("div",{className:"flex items-end gap-3 mb-2",children:s.jsxs("div",{className:"w-40",children:[s.jsx(Ne,{className:"text-xs",children:"Taux de TVA"}),s.jsxs(lt,{value:String(Q.tvaRate),onValueChange:Y=>h(le=>le.map(ne=>ne.id===Q.id?{...ne,tvaRate:Number(Y)}:ne)),children:[s.jsx(it,{className:"h-8 text-sm font-mono",children:s.jsx(ct,{})}),s.jsxs(st,{children:[s.jsx(Be,{value:"20",children:"20 %"}),s.jsx(Be,{value:"0",children:"0 % (exonr)"})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[Q.intermediaries.map((Y,le)=>s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ne,{className:"text-xs",children:["Nom intermdiaire ",le+1]}),s.jsx(be,{value:Y.label,onChange:ne=>mt(Q.id,le,"label",ne.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"w-28",children:[s.jsx(Ne,{className:"text-xs",children:"Coefficient"}),s.jsx(be,{type:"number",step:"0.01",value:Y.coefficient,onChange:ne=>mt(Q.id,le,"coefficient",ne.target.value),className:"h-8 text-sm font-mono"})]}),Q.intermediaries.length>1&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>Gr(Q.id,le),children:s.jsx(lr,{className:"h-3.5 w-3.5"})})]},le)),Q.intermediaries.length<(Q.type==="b2c"?0:Q.type==="oem"?1:2)&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>sn(Q.id),children:[s.jsx(er,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter intermdiaire"]})]})]})]})]}),s.jsx(v8,{products:e,productCategories:t,salesRules:f,calculateProductCost:a,computeChainFromPublicTTC:ve,getEffectivePrice:ue,editedOurPrices:$e(),pricingMode:o}),s.jsxs(Ft,{children:[s.jsx(hr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(mr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Zl,{className:"h-5 w-5"}),"Dtail des prix par catgorie  ",s.jsx("span",{className:"text-primary",children:Q==null?void 0:Q.name})]}),s.jsx(js,{children:o==="from_public"?`Fixez le prix public TTC  notre prix de vente est calcul via la chane "${Q==null?void 0:Q.name}"`:`Fixez notre prix HT et le prix client TTC  les coefficients intermdiaires sont rpartis via "${Q==null?void 0:Q.name}"`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Yt()&&s.jsxs(ae,{onClick:_n,size:"sm",variant:"outline",children:[s.jsx(Ao,{className:"h-4 w-4 mr-1"}),"Enregistrer les prix (",Q==null?void 0:Q.name,")"]}),M.size>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[M.size," produit(s) slectionn(s)"]})]})]})}),s.jsx(Qt,{children:s.jsxs("div",{className:"space-y-4",children:[t.map(Y=>{const le=ce.grouped[Y.id]||[];if(le.length===0)return null;const ne=g.has(Y.id);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{className:"flex-1 flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>pe(Y.id),children:[ne?s.jsx(Ih,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"}),s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Y.color}}),s.jsx("span",{className:"font-semibold",children:Y.name}),s.jsxs(Oe,{variant:"secondary",className:"ml-auto",children:[le.length," produit",le.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-1 pr-3",children:[s.jsx(ae,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{me({catId:Y.id,catName:Y.name,field:"our_price"}),G("")},children:"Appliquer notre prix"}),s.jsx(ae,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{me({catId:Y.id,catName:Y.name,field:"public_ttc"}),G("")},children:"Appliquer prix public"})]})]}),ne&&Et(le,Y.id)]},Y.id)}),ce.uncategorized.length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>pe("__uncategorized"),children:[g.has("__uncategorized")?s.jsx(Ih,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-muted-foreground",children:"Sans catgorie"}),s.jsx(Oe,{variant:"secondary",className:"ml-auto",children:ce.uncategorized.length})]}),g.has("__uncategorized")&&Et(ce.uncategorized,"__uncategorized")]}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Zl,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucun produit configur. Ajoutez des produits dans le module Production et BE."})]})]})})]}),s.jsx(Ty,{open:!!W,onOpenChange:Y=>{Y||X(null)},children:s.jsxs($m,{children:[s.jsxs(Im,{children:[s.jsx(Lm,{children:"Supprimer cette rgle de vente ?"}),s.jsxs(Bm,{children:["La rgle  ",(mn=f.find(Y=>Y.id===W))==null?void 0:mn.name,"  et tous ses prix associs seront dfinitivement supprims. Cette action est irrversible."]})]}),s.jsxs(Dm,{children:[s.jsx(zm,{children:"Annuler"}),s.jsx(Fm,{onClick:xt,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})}),s.jsx(_r,{open:!!q,onOpenChange:Y=>{Y||me(null)},children:s.jsxs(vr,{children:[s.jsx(yr,{children:s.jsxs(xr,{children:[(q==null?void 0:q.field)==="our_price"?"Appliquer notre prix HT":"Appliquer prix public TTC","  ",q==null?void 0:q.catName]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ce prix sera appliqu  tous les produits de la catgorie  ",q==null?void 0:q.catName,"  pour la rgle  ",Q==null?void 0:Q.name," ."]}),s.jsxs("div",{children:[s.jsx(Ne,{children:(q==null?void 0:q.field)==="our_price"?"Notre Prix HT ()":"Prix Public TTC ()"}),s.jsx(be,{type:"number",step:"0.01",value:D,onChange:Y=>G(Y.target.value),placeholder:"Ex: 299.00",className:"font-mono",autoFocus:!0})]}),s.jsx(ae,{onClick:fe,className:"w-full",disabled:!D||isNaN(parseFloat(D)),children:"Appliquer"})]})]})})]})}function e2e(){return s.jsx(as,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Planning Dveloppement"}),s.jsx("p",{className:"text-muted-foreground",children:"Planification du dveloppement produit et suivi des phases"})]}),s.jsx(g8,{})]})})}function t2e(){const{toast:e}=qS(),{user:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState(!0),y=w.useCallback(async()=>{if(!t){m(!1);return}try{m(!0);const[b,_]=await Promise.all([xe.from("customers").select("*").order("company_name"),xe.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{m(!1)}},[t]);w.useEffect(()=>{y()},[y]);const g=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await xe.from("customers").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return n(C=>[...C,S].sort((k,N)=>k.company_name.localeCompare(N.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),p=w.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:j}=await xe.from("customers").update(_).eq("id",b);if(j)throw j;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(j){return console.error("Failed to update customer:",j),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),v=w.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await xe.from("customers").delete().eq("id",b);if(_)throw _;return n(j=>j.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await xe.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:o,orders:c,pricingTiers:d,isLoading:h,refreshData:y,createCustomer:g,updateCustomer:p,deleteCustomer:v,createOrder:x,getCustomerInteractions:b=>a.filter(_=>_.customer_id===b),getCustomerAppointments:b=>o.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}const r2e="/assets/banner-nrc-udh-CghFnth9.jpg",n2e="/assets/savoir-faire-DO6sqzLN.jpg",a2e="/assets/ccd-gold-Cg4R7WZE.jpg",i2e="/assets/pulley-wheels-O2SueKz_.jpg",s2e="/assets/composants-hero-CnGsZ9u8.jpg",o2e="/assets/novaride-action-BP9cu6ww.jpg",l2e=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function c2e(){const{products:e,references:t,productCategories:r,suppliers:n,bom:a,calculateProductCost:i}=rP(),{rows:o,blocks:l,colors:c}=JU(),{customers:u,orders:d}=t2e(),{salesRules:f,pricingMode:h,activeRuleId:m,editedOurPrices:y,getEffectivePrice:g,computeChainFromPublicTTC:p,loaded:v}=Gz(),x=e.length,b=t.length,_=n.length,j=r.length,S=u.length,C=d.filter(T=>["draft","confirmed","in_progress"].includes(T.status)).length;a.length;const k=new Date().getMonth(),N=k+1,R=l.filter(T=>T.start_month<=N&&T.start_month+T.duration-1>=N),O=w.useMemo(()=>{const T=[];for(let P=0;P<6;P++){const A=(k+P)%12;T.push({label:l2e[A],index:N+P})}return T},[k,N]),E=w.useMemo(()=>{const T={};return a.forEach(P=>{T[P.product_id]=(T[P.product_id]||0)+1}),Object.entries(T).sort(([,P],[,A])=>A-P).slice(0,5).map(([P,A])=>({product:e.find($=>$.id===P),refCount:A})).filter(P=>P.product)},[a,e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden h-48 md:h-56",children:[s.jsx("img",{src:r2e,alt:"Novaride Engineering",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center px-8",children:s.jsxs("div",{children:[s.jsx(_C,{variant:"full",color:"light",className:"mb-2"}),s.jsx("p",{className:"text-white/80 text-lg font-light tracking-wide",children:"Tableau de bord oprationnel"}),s.jsx("p",{className:"text-white/50 text-sm mt-1",children:"We engage, we move"})]})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7",children:[s.jsx(fl,{icon:Zl,label:"Produits",value:x,color:"text-primary"}),s.jsx(fl,{icon:KI,label:"Rfrences",value:b,color:"text-blue-500"}),s.jsx(fl,{icon:GW,label:"Fournisseurs",value:_,color:"text-amber-500"}),s.jsx(fl,{icon:WI,label:"Catgories",value:j,color:"text-violet-500"}),s.jsx(fl,{icon:Oo,label:"Clients",value:S,color:"text-emerald-500"}),s.jsx(fl,{icon:Bo,label:"Commandes actives",value:C,color:"text-rose-500"}),s.jsx(fl,{icon:Aj,label:"Tches en cours",value:R.length,color:"text-cyan-500"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(Ft,{className:"lg:col-span-2",children:[s.jsx(hr,{className:"pb-3",children:s.jsxs(mr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Aj,{className:"h-5 w-5"}),"Planning dveloppement  6 prochains mois"]})}),s.jsx(Qt,{children:o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune ligne de planning configure"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 pr-4 font-medium text-muted-foreground w-40",children:"Produit"}),O.map(T=>s.jsx("th",{className:"text-center py-2 px-1 font-medium text-muted-foreground min-w-[60px]",children:T.label},T.index))]})}),s.jsx("tbody",{children:o.slice(0,8).map(T=>{const P=l.filter(A=>A.row_id===T.id);return s.jsxs("tr",{className:"border-t border-border/50",children:[s.jsx("td",{className:"py-2 pr-4 font-medium truncate max-w-[160px]",children:T.label}),O.map(A=>{const $=P.find(M=>M.start_month<=A.index&&M.start_month+M.duration-1>=A.index);if($){const M=c.find(B=>B.id===$.color_id),L=$.start_month===A.index;return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm flex items-center justify-center text-[10px] font-medium text-white truncate px-1",style:{backgroundColor:(M==null?void 0:M.color)||"#6366f1"},title:$.label,children:L?$.label:""})},A.index)}return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm bg-muted/30"})},A.index)})]},T.id)})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ft,{className:"overflow-hidden",children:s.jsxs("div",{className:"relative h-36",children:[s.jsx("img",{src:a2e,alt:"CCD EVO",className:"w-full h-full object-cover object-center"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-3 left-4",children:[s.jsx("p",{className:"text-white text-sm font-semibold",children:"Engineering Excellence"}),s.jsx("p",{className:"text-white/60 text-xs",children:"Conception franaise premium"})]})]})}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsx(mr,{className:"text-sm font-medium",children:"Top produits (nomenclature)"})}),s.jsx(Qt,{className:"space-y-2",children:E.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune nomenclature"}):E.map(({product:T,refCount:P})=>{const A=r.find($=>$.id===T.category_id);return s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-border/30 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:A.color}}),s.jsx("span",{className:"text-sm truncate",children:T.name})]}),s.jsxs(Oe,{variant:"secondary",className:"text-xs ml-2 flex-shrink-0",children:[P," rf."]})]},T.id)})})]}),s.jsxs(Ft,{children:[s.jsx(hr,{className:"pb-3",children:s.jsx(mr,{className:"text-sm font-medium",children:"Catgories produit"})}),s.jsx(Qt,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(T=>{const P=e.filter(A=>A.category_id===T.id).length;return s.jsxs(Oe,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:T.color}}),T.name,s.jsxs("span",{className:"text-muted-foreground",children:["(",P,")"]})]},T.id)})})})]})]})]}),v&&f.length>0&&e.length>0&&s.jsx(v8,{products:e,productCategories:r,salesRules:f,calculateProductCost:i,computeChainFromPublicTTC:p,getEffectivePrice:g,editedOurPrices:y[m]||{},pricingMode:h}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 h-32 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:n2e,alt:"Vision",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Vision"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:i2e,alt:"Transmission",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Transmission"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:s2e,alt:"Composants",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Composants"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o2e,alt:"Performance",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Performance"})]})]})]})}function fl({icon:e,label:t,value:r,color:n}){return s.jsx(Ft,{children:s.jsxs(Qt,{className:"p-4 flex flex-col items-center text-center gap-1.5",children:[s.jsx(e,{className:`h-5 w-5 ${n}`}),s.jsx("span",{className:"text-2xl font-bold font-mono",children:r}),s.jsx("span",{className:"text-[11px] text-muted-foreground leading-tight",children:t})]})})}const u2e=()=>{const e=dc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},d2e=new R7,f2e=()=>s.jsx($7,{client:d2e,children:s.jsx(l7,{children:s.jsx(aZ,{children:s.jsxs(oZ,{children:[s.jsx(WH,{}),s.jsx(jq,{}),s.jsx(OK,{children:s.jsxs(_K,{children:[s.jsx(Lr,{path:"/auth",element:s.jsx(Zke,{})}),s.jsx(Lr,{path:"/",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(c2e,{})})})}),s.jsx(Lr,{path:"/product",element:s.jsx(kn,{tabKey:"product-plan",children:s.jsx(Pn,{children:s.jsx(iNe,{})})})}),s.jsx(Lr,{path:"/organisation",element:s.jsx(kn,{tabKey:"organisation",children:s.jsx(Pn,{children:s.jsx(kNe,{})})})}),s.jsx(Lr,{path:"/charges",element:s.jsx(kn,{tabKey:"charges",children:s.jsx(Pn,{children:s.jsx(TNe,{})})})}),s.jsx(Lr,{path:"/crm",element:s.jsx(kn,{tabKey:"crm",children:s.jsx(Pn,{children:s.jsx(rPe,{})})})}),s.jsx(Lr,{path:"/previsionnel",element:s.jsx(kn,{tabKey:"previsionnel",children:s.jsx(Pn,{children:s.jsx(APe,{})})})}),s.jsx(Lr,{path:"/funding",element:s.jsx(kn,{tabKey:"funding",children:s.jsx(Pn,{children:s.jsx(TPe,{})})})}),s.jsx(Lr,{path:"/scenarios",element:s.jsx(kn,{tabKey:"scenarios",children:s.jsx(Pn,{children:s.jsx(MPe,{})})})}),s.jsx(Lr,{path:"/valuation",element:s.jsx(kn,{tabKey:"valuation",children:s.jsx(Pn,{children:s.jsx(KPe,{})})})}),s.jsx(Lr,{path:"/investment-summary",element:s.jsx(kn,{tabKey:"investment-summary",children:s.jsx(Pn,{children:s.jsx(QPe,{})})})}),s.jsx(Lr,{path:"/pricing",element:s.jsx(kn,{tabKey:"pricing",children:s.jsx(Pn,{children:s.jsx(JOe,{})})})}),s.jsx(Lr,{path:"/home",element:s.jsx(yv,{to:"/",replace:!0})}),s.jsx(Lr,{path:"/tableau-de-bord",element:s.jsx(yv,{to:"/",replace:!0})}),s.jsx(Lr,{path:"/costflow",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(HOe,{})})})}),s.jsx(Lr,{path:"/planning-dev",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(e2e,{})})})}),s.jsx(Lr,{path:"/timetracking",element:s.jsx(kn,{tabKey:"timetracking",children:s.jsx(Pn,{children:s.jsx(XOe,{})})})}),s.jsx(Lr,{path:"/snapshots",element:s.jsx(kn,{tabKey:"snapshots",children:s.jsx(Pn,{children:s.jsx(QOe,{})})})}),s.jsx(Lr,{path:"/permissions",element:s.jsx(kn,{children:s.jsx(Pn,{children:s.jsx(rEe,{})})})}),s.jsx(Lr,{path:"*",element:s.jsx(u2e,{})})]})})]})})})});oI(document.getElementById("root")).render(s.jsx(f2e,{}));
