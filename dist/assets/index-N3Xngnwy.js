var JC=e=>{throw TypeError(e)};var Vx=(e,t,r)=>t.has(e)||JC("Cannot "+r);var ae=(e,t,r)=>(Vx(e,t,"read from private field"),r?r.call(e):t.get(e)),ut=(e,t,r)=>t.has(e)?JC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ge=(e,t,r,n)=>(Vx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Dr=(e,t,r)=>(Vx(e,t,"access private method"),r);var Sp=(e,t,r,n)=>({set _(i){Ge(e,t,i,r)},get _(){return ae(e,t,n)}});function $U(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I2={exports:{}},qg={},D2={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=Symbol.for("react.element"),MU=Symbol.for("react.portal"),IU=Symbol.for("react.fragment"),DU=Symbol.for("react.strict_mode"),LU=Symbol.for("react.profiler"),FU=Symbol.for("react.provider"),BU=Symbol.for("react.context"),UU=Symbol.for("react.forward_ref"),zU=Symbol.for("react.suspense"),VU=Symbol.for("react.memo"),WU=Symbol.for("react.lazy"),eP=Symbol.iterator;function HU(e){return e===null||typeof e!="object"?null:(e=eP&&e[eP]||e["@@iterator"],typeof e=="function"?e:null)}var L2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F2=Object.assign,B2={};function Hu(e,t,r){this.props=e,this.context=t,this.refs=B2,this.updater=r||L2}Hu.prototype.isReactComponent={};Hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U2(){}U2.prototype=Hu.prototype;function Yj(e,t,r){this.props=e,this.context=t,this.refs=B2,this.updater=r||L2}var Xj=Yj.prototype=new U2;Xj.constructor=Yj;F2(Xj,Hu.prototype);Xj.isPureReactComponent=!0;var tP=Array.isArray,z2=Object.prototype.hasOwnProperty,Qj={current:null},V2={key:!0,ref:!0,__self:!0,__source:!0};function W2(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)z2.call(t,n)&&!V2.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Qh,type:e,key:a,ref:s,props:i,_owner:Qj.current}}function qU(e,t){return{$$typeof:Qh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zj(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qh}function KU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rP=/\/+/g;function Wx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KU(""+e.key):t.toString(36)}function jm(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Qh:case MU:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Wx(s,0):n,tP(i)?(r="",e!=null&&(r=e.replace(rP,"$&/")+"/"),jm(i,t,r,"",function(u){return u})):i!=null&&(Zj(i)&&(i=qU(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rP,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",tP(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Wx(a,l);s+=jm(a,t,r,c,i)}else if(c=HU(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Wx(a,l++),s+=jm(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Pp(e,t,r){if(e==null)return e;var n=[],i=0;return jm(e,n,"","",function(a){return t.call(r,a,i++)}),n}function GU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},_m={transition:null},YU={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:_m,ReactCurrentOwner:Qj};function H2(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Pp,forEach:function(e,t,r){Pp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pp(e,function(){t++}),t},toArray:function(e){return Pp(e,function(t){return t})||[]},only:function(e){if(!Zj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=Hu;et.Fragment=IU;et.Profiler=LU;et.PureComponent=Yj;et.StrictMode=DU;et.Suspense=zU;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YU;et.act=H2;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=F2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Qj.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)z2.call(t,c)&&!V2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Qh,type:e.type,key:i,ref:a,props:n,_owner:s}};et.createContext=function(e){return e={$$typeof:BU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FU,_context:e},e.Consumer=e};et.createElement=W2;et.createFactory=function(e){var t=W2.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:UU,render:e}};et.isValidElement=Zj;et.lazy=function(e){return{$$typeof:WU,_payload:{_status:-1,_result:e},_init:GU}};et.memo=function(e,t){return{$$typeof:VU,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=_m.transition;_m.transition={};try{e()}finally{_m.transition=t}};et.unstable_act=H2;et.useCallback=function(e,t){return an.current.useCallback(e,t)};et.useContext=function(e){return an.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return an.current.useDeferredValue(e)};et.useEffect=function(e,t){return an.current.useEffect(e,t)};et.useId=function(){return an.current.useId()};et.useImperativeHandle=function(e,t,r){return an.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return an.current.useMemo(e,t)};et.useReducer=function(e,t,r){return an.current.useReducer(e,t,r)};et.useRef=function(e){return an.current.useRef(e)};et.useState=function(e){return an.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return an.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return an.current.useTransition()};et.version="18.3.1";D2.exports=et;var j=D2.exports;const N=mt(j),Jj=$U({__proto__:null,default:N},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU=j,QU=Symbol.for("react.element"),ZU=Symbol.for("react.fragment"),JU=Object.prototype.hasOwnProperty,ez=XU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tz={key:!0,ref:!0,__self:!0,__source:!0};function q2(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)JU.call(t,n)&&!tz.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:QU,type:e,key:a,ref:s,props:i,_owner:ez.current}}qg.Fragment=ZU;qg.jsx=q2;qg.jsxs=q2;I2.exports=qg;var o=I2.exports,K2={exports:{}},Wn={},G2={exports:{}},Y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var V=D.length;D.push(L);e:for(;0<V;){var J=V-1>>>1,Y=D[J];if(0<i(Y,L))D[J]=L,D[V]=Y,V=J;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var L=D[0],V=D.pop();if(V!==L){D[0]=V;e:for(var J=0,Y=D.length,F=Y>>>1;J<F;){var ee=2*(J+1)-1,U=D[ee],z=ee+1,W=D[z];if(0>i(U,V))z<Y&&0>i(W,U)?(D[J]=W,D[z]=V,J=z):(D[J]=U,D[ee]=V,J=ee);else if(z<Y&&0>i(W,V))D[J]=W,D[z]=V,J=z;else break e}}return L}function i(D,L){var V=D.sortIndex-L.sortIndex;return V!==0?V:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=D)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(D){if(m=!1,b(D),!y)if(r(c)!==null)y=!0,R(w);else{var L=r(u);L!==null&&M(_,L.startTime-D)}}function w(D,L){y=!1,m&&(m=!1,v(P),P=-1),p=!0;var V=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||D&&!A());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var Y=J(f.expirationTime<=L);L=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var ee=r(u);ee!==null&&M(_,ee.startTime-L),F=!1}return F}finally{f=null,h=V,p=!1}}var S=!1,C=null,P=-1,E=5,k=-1;function A(){return!(e.unstable_now()-k<E)}function O(){if(C!==null){var D=e.unstable_now();k=D;var L=!0;try{L=C(!0,D)}finally{L?T():(S=!1,C=null)}}else S=!1}var T;if(typeof x=="function")T=function(){x(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,I=$.port2;$.port1.onmessage=O,T=function(){I.postMessage(null)}}else T=function(){g(O,0)};function R(D){C=D,S||(S=!0,T())}function M(D,L){P=g(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,R(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var V=h;h=L;try{return D()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return L()}finally{h=V}},e.unstable_scheduleCallback=function(D,L,V){var J=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=V+Y,D={id:d++,callback:L,priorityLevel:D,startTime:V,expirationTime:Y,sortIndex:-1},V>J?(D.sortIndex=V,t(u,D),r(c)===null&&D===r(u)&&(m?(v(P),P=-1):m=!0,M(_,V-J))):(D.sortIndex=Y,t(c,D),y||p||(y=!0,R(w))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var L=h;return function(){var V=h;h=L;try{return D.apply(this,arguments)}finally{h=V}}}})(Y2);G2.exports=Y2;var rz=G2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nz=j,Un=rz;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X2=new Set,Nf={};function kl(e,t){Qc(e,t),Qc(e+"Capture",t)}function Qc(e,t){for(Nf[e]=t,e=0;e<t.length;e++)X2.add(t[e])}var Ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pb=Object.prototype.hasOwnProperty,iz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nP={},iP={};function az(e){return Pb.call(iP,e)?!0:Pb.call(nP,e)?!1:iz.test(e)?iP[e]=!0:(nP[e]=!0,!1)}function sz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oz(e,t,r,n){if(t===null||typeof t>"u"||sz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var e_=/[\-:]([a-z])/g;function t_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e_,t_);Tr[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e_,t_);Tr[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e_,t_);Tr[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function r_(e,t,r,n){var i=Tr.hasOwnProperty(t)?Tr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oz(t,r,i,n)&&(r=null),n||i===null?az(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rs=nz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),uc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),Eb=Symbol.for("react.suspense"),kb=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),J2=Symbol.for("react.offscreen"),aP=Symbol.iterator;function Cd(e){return e===null||typeof e!="object"?null:(e=aP&&e[aP]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Object.assign,Hx;function Zd(e){if(Hx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hx=t&&t[1]||""}return`
`+Hx+e}var qx=!1;function Kx(e,t){if(!e||qx)return"";qx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{qx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zd(e):""}function lz(e){switch(e.tag){case 5:return Zd(e.type);case 16:return Zd("Lazy");case 13:return Zd("Suspense");case 19:return Zd("SuspenseList");case 0:case 2:case 15:return e=Kx(e.type,!1),e;case 11:return e=Kx(e.type.render,!1),e;case 1:return e=Kx(e.type,!0),e;default:return""}}function Ob(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dc:return"Fragment";case uc:return"Portal";case Ab:return"Profiler";case n_:return"StrictMode";case Eb:return"Suspense";case kb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z2:return(e.displayName||"Context")+".Consumer";case Q2:return(e._context.displayName||"Context")+".Provider";case i_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a_:return t=e.displayName||null,t!==null?t:Ob(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return Ob(e(t))}catch{}}return null}function cz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(t);case 8:return t===n_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uz(e){var t=eR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ep(e){e._valueTracker||(e._valueTracker=uz(e))}function tR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=eR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nb(e,t){var r=t.checked;return qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rR(e,t){t=t.checked,t!=null&&r_(e,"checked",t,!1)}function Tb(e,t){rR(e,t);var r=ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rb(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rb(e,t,r){(t!=="number"||Um(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jd=Array.isArray;function Ec(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ao(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $b(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(Jd(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ao(r)}}function nR(e,t){var r=ao(t.value),n=ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kp,aR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kp=kp||document.createElement("div"),kp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dz=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(e){dz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),of[t]=of[e]})});function sR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||of.hasOwnProperty(e)&&of[e]?(""+t).trim():t+"px"}function oR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var fz=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ib(e,t){if(t){if(fz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Db(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lb=null;function s_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fb=null,kc=null,Oc=null;function uP(e){if(e=ep(e)){if(typeof Fb!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Qg(t),Fb(e.stateNode,e.type,t))}}function lR(e){kc?Oc?Oc.push(e):Oc=[e]:kc=e}function cR(){if(kc){var e=kc,t=Oc;if(Oc=kc=null,uP(e),t)for(e=0;e<t.length;e++)uP(t[e])}}function uR(e,t){return e(t)}function dR(){}var Gx=!1;function fR(e,t,r){if(Gx)return e(t,r);Gx=!0;try{return uR(e,t,r)}finally{Gx=!1,(kc!==null||Oc!==null)&&(dR(),cR())}}function Rf(e,t){var r=e.stateNode;if(r===null)return null;var n=Qg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Bb=!1;if(Ha)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){Bb=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{Bb=!1}function hz(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var lf=!1,zm=null,Vm=!1,Ub=null,pz={onError:function(e){lf=!0,zm=e}};function mz(e,t,r,n,i,a,s,l,c){lf=!1,zm=null,hz.apply(pz,arguments)}function vz(e,t,r,n,i,a,s,l,c){if(mz.apply(this,arguments),lf){if(lf){var u=zm;lf=!1,zm=null}else throw Error(fe(198));Vm||(Vm=!0,Ub=u)}}function Ol(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dP(e){if(Ol(e)!==e)throw Error(fe(188))}function gz(e){var t=e.alternate;if(!t){if(t=Ol(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return dP(i),e;if(a===n)return dP(i),t;a=a.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function pR(e){return e=gz(e),e!==null?mR(e):null}function mR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mR(e);if(t!==null)return t;e=e.sibling}return null}var vR=Un.unstable_scheduleCallback,fP=Un.unstable_cancelCallback,yz=Un.unstable_shouldYield,xz=Un.unstable_requestPaint,tr=Un.unstable_now,bz=Un.unstable_getCurrentPriorityLevel,o_=Un.unstable_ImmediatePriority,gR=Un.unstable_UserBlockingPriority,Wm=Un.unstable_NormalPriority,wz=Un.unstable_LowPriority,yR=Un.unstable_IdlePriority,Kg=null,ca=null;function jz(e){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(Kg,e,void 0,(e.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:Cz,_z=Math.log,Sz=Math.LN2;function Cz(e){return e>>>=0,e===0?32:31-(_z(e)/Sz|0)|0}var Op=64,Np=4194304;function ef(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=ef(l):(a&=s,a!==0&&(n=ef(a)))}else s=r&~i,s!==0?n=ef(s):a!==0&&(n=ef(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Li(t),i=1<<r,n|=e[r],t&=~i;return n}function Pz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Az(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Li(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=Pz(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function zb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xR(){var e=Op;return Op<<=1,!(Op&4194240)&&(Op=64),e}function Yx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Li(t),e[t]=r}function Ez(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Li(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function l_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Li(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var yt=0;function bR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wR,c_,jR,_R,SR,Vb=!1,Tp=[],qs=null,Ks=null,Gs=null,$f=new Map,Mf=new Map,Es=[],kz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hP(e,t){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":$f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(t.pointerId)}}function Ad(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ep(t),t!==null&&c_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Oz(e,t,r,n,i){switch(t){case"focusin":return qs=Ad(qs,e,t,r,n,i),!0;case"dragenter":return Ks=Ad(Ks,e,t,r,n,i),!0;case"mouseover":return Gs=Ad(Gs,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return $f.set(a,Ad($f.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Mf.set(a,Ad(Mf.get(a)||null,e,t,r,n,i)),!0}return!1}function CR(e){var t=qo(e.target);if(t!==null){var r=Ol(t);if(r!==null){if(t=r.tag,t===13){if(t=hR(r),t!==null){e.blockedOn=t,SR(e.priority,function(){jR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lb=n,r.target.dispatchEvent(n),Lb=null}else return t=ep(r),t!==null&&c_(t),e.blockedOn=r,!1;t.shift()}return!0}function pP(e,t,r){Sm(e)&&r.delete(t)}function Nz(){Vb=!1,qs!==null&&Sm(qs)&&(qs=null),Ks!==null&&Sm(Ks)&&(Ks=null),Gs!==null&&Sm(Gs)&&(Gs=null),$f.forEach(pP),Mf.forEach(pP)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,Vb||(Vb=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,Nz)))}function If(e){function t(i){return Ed(i,e)}if(0<Tp.length){Ed(Tp[0],e);for(var r=1;r<Tp.length;r++){var n=Tp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qs!==null&&Ed(qs,e),Ks!==null&&Ed(Ks,e),Gs!==null&&Ed(Gs,e),$f.forEach(t),Mf.forEach(t),r=0;r<Es.length;r++)n=Es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Es.length&&(r=Es[0],r.blockedOn===null);)CR(r),r.blockedOn===null&&Es.shift()}var Nc=rs.ReactCurrentBatchConfig,qm=!0;function Tz(e,t,r,n){var i=yt,a=Nc.transition;Nc.transition=null;try{yt=1,u_(e,t,r,n)}finally{yt=i,Nc.transition=a}}function Rz(e,t,r,n){var i=yt,a=Nc.transition;Nc.transition=null;try{yt=4,u_(e,t,r,n)}finally{yt=i,Nc.transition=a}}function u_(e,t,r,n){if(qm){var i=Wb(e,t,r,n);if(i===null)a0(e,t,n,Km,r),hP(e,n);else if(Oz(i,e,t,r,n))n.stopPropagation();else if(hP(e,n),t&4&&-1<kz.indexOf(e)){for(;i!==null;){var a=ep(i);if(a!==null&&wR(a),a=Wb(e,t,r,n),a===null&&a0(e,t,n,Km,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else a0(e,t,n,null,r)}}var Km=null;function Wb(e,t,r,n){if(Km=null,e=s_(n),e=qo(e),e!==null)if(t=Ol(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Km=e,null}function PR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bz()){case o_:return 1;case gR:return 4;case Wm:case wz:return 16;case yR:return 536870912;default:return 16}default:return 16}}var Ds=null,d_=null,Cm=null;function AR(){if(Cm)return Cm;var e,t=d_,r=t.length,n,i="value"in Ds?Ds.value:Ds.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Cm=i.slice(e,1<n?1-n:void 0)}function Pm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rp(){return!0}function mP(){return!1}function Hn(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rp:mP,this.isPropagationStopped=mP,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f_=Hn(qu),Jh=qt({},qu,{view:0,detail:0}),$z=Hn(Jh),Xx,Qx,kd,Gg=qt({},Jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kd&&(kd&&e.type==="mousemove"?(Xx=e.screenX-kd.screenX,Qx=e.screenY-kd.screenY):Qx=Xx=0,kd=e),Xx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),vP=Hn(Gg),Mz=qt({},Gg,{dataTransfer:0}),Iz=Hn(Mz),Dz=qt({},Jh,{relatedTarget:0}),Zx=Hn(Dz),Lz=qt({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),Fz=Hn(Lz),Bz=qt({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uz=Hn(Bz),zz=qt({},qu,{data:0}),gP=Hn(zz),Vz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hz[e])?!!t[e]:!1}function h_(){return qz}var Kz=qt({},Jh,{key:function(e){if(e.key){var t=Vz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h_,charCode:function(e){return e.type==="keypress"?Pm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gz=Hn(Kz),Yz=qt({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yP=Hn(Yz),Xz=qt({},Jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h_}),Qz=Hn(Xz),Zz=qt({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jz=Hn(Zz),e8=qt({},Gg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t8=Hn(e8),r8=[9,13,27,32],p_=Ha&&"CompositionEvent"in window,cf=null;Ha&&"documentMode"in document&&(cf=document.documentMode);var n8=Ha&&"TextEvent"in window&&!cf,ER=Ha&&(!p_||cf&&8<cf&&11>=cf),xP=" ",bP=!1;function kR(e,t){switch(e){case"keyup":return r8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fc=!1;function i8(e,t){switch(e){case"compositionend":return OR(t);case"keypress":return t.which!==32?null:(bP=!0,xP);case"textInput":return e=t.data,e===xP&&bP?null:e;default:return null}}function a8(e,t){if(fc)return e==="compositionend"||!p_&&kR(e,t)?(e=AR(),Cm=d_=Ds=null,fc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ER&&t.locale!=="ko"?null:t.data;default:return null}}var s8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s8[e.type]:t==="textarea"}function NR(e,t,r,n){lR(n),t=Gm(t,"onChange"),0<t.length&&(r=new f_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uf=null,Df=null;function o8(e){zR(e,0)}function Yg(e){var t=mc(e);if(tR(t))return e}function l8(e,t){if(e==="change")return t}var TR=!1;if(Ha){var Jx;if(Ha){var e0="oninput"in document;if(!e0){var jP=document.createElement("div");jP.setAttribute("oninput","return;"),e0=typeof jP.oninput=="function"}Jx=e0}else Jx=!1;TR=Jx&&(!document.documentMode||9<document.documentMode)}function _P(){uf&&(uf.detachEvent("onpropertychange",RR),Df=uf=null)}function RR(e){if(e.propertyName==="value"&&Yg(Df)){var t=[];NR(t,Df,e,s_(e)),fR(o8,t)}}function c8(e,t,r){e==="focusin"?(_P(),uf=t,Df=r,uf.attachEvent("onpropertychange",RR)):e==="focusout"&&_P()}function u8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yg(Df)}function d8(e,t){if(e==="click")return Yg(t)}function f8(e,t){if(e==="input"||e==="change")return Yg(t)}function h8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zi=typeof Object.is=="function"?Object.is:h8;function Lf(e,t){if(zi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pb.call(t,i)||!zi(e[i],t[i]))return!1}return!0}function SP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CP(e,t){var r=SP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SP(r)}}function $R(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$R(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MR(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Um(e.document)}return t}function m_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p8(e){var t=MR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$R(r.ownerDocument.documentElement,r)){if(n!==null&&m_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=CP(r,a);var s=CP(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m8=Ha&&"documentMode"in document&&11>=document.documentMode,hc=null,Hb=null,df=null,qb=!1;function PP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qb||hc==null||hc!==Um(n)||(n=hc,"selectionStart"in n&&m_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),df&&Lf(df,n)||(df=n,n=Gm(Hb,"onSelect"),0<n.length&&(t=new f_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hc)))}function $p(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pc={animationend:$p("Animation","AnimationEnd"),animationiteration:$p("Animation","AnimationIteration"),animationstart:$p("Animation","AnimationStart"),transitionend:$p("Transition","TransitionEnd")},t0={},IR={};Ha&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function Xg(e){if(t0[e])return t0[e];if(!pc[e])return e;var t=pc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in IR)return t0[e]=t[r];return e}var DR=Xg("animationend"),LR=Xg("animationiteration"),FR=Xg("animationstart"),BR=Xg("transitionend"),UR=new Map,AP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(e,t){UR.set(e,t),kl(t,[e])}for(var r0=0;r0<AP.length;r0++){var n0=AP[r0],v8=n0.toLowerCase(),g8=n0[0].toUpperCase()+n0.slice(1);mo(v8,"on"+g8)}mo(DR,"onAnimationEnd");mo(LR,"onAnimationIteration");mo(FR,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(BR,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y8=new Set("cancel close invalid load scroll toggle".split(" ").concat(tf));function EP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vz(n,t,void 0,e),e.currentTarget=null}function zR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;EP(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;EP(i,l,u),a=c}}}if(Vm)throw e=Ub,Vm=!1,Ub=null,e}function kt(e,t){var r=t[Qb];r===void 0&&(r=t[Qb]=new Set);var n=e+"__bubble";r.has(n)||(VR(t,e,2,!1),r.add(n))}function i0(e,t,r){var n=0;t&&(n|=4),VR(r,e,n,t)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Mp]){e[Mp]=!0,X2.forEach(function(r){r!=="selectionchange"&&(y8.has(r)||i0(r,!1,e),i0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mp]||(t[Mp]=!0,i0("selectionchange",!1,t))}}function VR(e,t,r,n){switch(PR(t)){case 1:var i=Tz;break;case 4:i=Rz;break;default:i=u_}r=i.bind(null,t,r,e),i=void 0,!Bb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function a0(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=qo(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}fR(function(){var u=a,d=s_(r),f=[];e:{var h=UR.get(e);if(h!==void 0){var p=f_,y=e;switch(e){case"keypress":if(Pm(r)===0)break e;case"keydown":case"keyup":p=Gz;break;case"focusin":y="focus",p=Zx;break;case"focusout":y="blur",p=Zx;break;case"beforeblur":case"afterblur":p=Zx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Iz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qz;break;case DR:case LR:case FR:p=Fz;break;case BR:p=Jz;break;case"scroll":p=$z;break;case"wheel":p=t8;break;case"copy":case"cut":case"paste":p=Uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yP}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Rf(x,v),_!=null&&m.push(Bf(x,_,b)))),g)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Lb&&(y=r.relatedTarget||r.fromElement)&&(qo(y)||y[qa]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?qo(y):null,y!==null&&(g=Ol(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=vP,_="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=yP,_="onPointerLeave",v="onPointerEnter",x="pointer"),g=p==null?h:mc(p),b=y==null?h:mc(y),h=new m(_,x+"leave",p,r,d),h.target=g,h.relatedTarget=b,_=null,qo(d)===u&&(m=new m(v,x+"enter",y,r,d),m.target=b,m.relatedTarget=g,_=m),g=_,p&&y)t:{for(m=p,v=y,x=0,b=m;b;b=Ll(b))x++;for(b=0,_=v;_;_=Ll(_))b++;for(;0<x-b;)m=Ll(m),x--;for(;0<b-x;)v=Ll(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ll(m),v=Ll(v)}m=null}else m=null;p!==null&&kP(f,h,p,m,!1),y!==null&&g!==null&&kP(f,g,y,m,!0)}}e:{if(h=u?mc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=l8;else if(wP(h))if(TR)w=f8;else{w=u8;var S=c8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=d8);if(w&&(w=w(e,u))){NR(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Rb(h,"number",h.value)}switch(S=u?mc(u):window,e){case"focusin":(wP(S)||S.contentEditable==="true")&&(hc=S,Hb=u,df=null);break;case"focusout":df=Hb=hc=null;break;case"mousedown":qb=!0;break;case"contextmenu":case"mouseup":case"dragend":qb=!1,PP(f,r,d);break;case"selectionchange":if(m8)break;case"keydown":case"keyup":PP(f,r,d)}var C;if(p_)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fc?kR(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(ER&&r.locale!=="ko"&&(fc||P!=="onCompositionStart"?P==="onCompositionEnd"&&fc&&(C=AR()):(Ds=d,d_="value"in Ds?Ds.value:Ds.textContent,fc=!0)),S=Gm(u,P),0<S.length&&(P=new gP(P,e,null,r,d),f.push({event:P,listeners:S}),C?P.data=C:(C=OR(r),C!==null&&(P.data=C)))),(C=n8?i8(e,r):a8(e,r))&&(u=Gm(u,"onBeforeInput"),0<u.length&&(d=new gP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}zR(f,t)})}function Bf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gm(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Rf(e,r),a!=null&&n.unshift(Bf(e,a,i)),a=Rf(e,t),a!=null&&n.push(Bf(e,a,i))),e=e.return}return n}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kP(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Rf(r,a),c!=null&&s.unshift(Bf(r,c,l))):i||(c=Rf(r,a),c!=null&&s.push(Bf(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var x8=/\r\n?/g,b8=/\u0000|\uFFFD/g;function OP(e){return(typeof e=="string"?e:""+e).replace(x8,`
`).replace(b8,"")}function Ip(e,t,r){if(t=OP(t),OP(e)!==t&&r)throw Error(fe(425))}function Ym(){}var Kb=null,Gb=null;function Yb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xb=typeof setTimeout=="function"?setTimeout:void 0,w8=typeof clearTimeout=="function"?clearTimeout:void 0,NP=typeof Promise=="function"?Promise:void 0,j8=typeof queueMicrotask=="function"?queueMicrotask:typeof NP<"u"?function(e){return NP.resolve(null).then(e).catch(_8)}:Xb;function _8(e){setTimeout(function(){throw e})}function s0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),If(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);If(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),ta="__reactFiber$"+Ku,Uf="__reactProps$"+Ku,qa="__reactContainer$"+Ku,Qb="__reactEvents$"+Ku,S8="__reactListeners$"+Ku,C8="__reactHandles$"+Ku;function qo(e){var t=e[ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qa]||r[ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=TP(e);e!==null;){if(r=e[ta])return r;e=TP(e)}return t}e=r,r=e.parentNode}return null}function ep(e){return e=e[ta]||e[qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Qg(e){return e[Uf]||null}var Zb=[],vc=-1;function vo(e){return{current:e}}function $t(e){0>vc||(e.current=Zb[vc],Zb[vc]=null,vc--)}function Pt(e,t){vc++,Zb[vc]=e.current,e.current=t}var so={},Kr=vo(so),mn=vo(!1),hl=so;function Zc(e,t){var r=e.type.contextTypes;if(!r)return so;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vn(e){return e=e.childContextTypes,e!=null}function Xm(){$t(mn),$t(Kr)}function RP(e,t,r){if(Kr.current!==so)throw Error(fe(168));Pt(Kr,t),Pt(mn,r)}function WR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,cz(e)||"Unknown",i));return qt({},r,n)}function Qm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,hl=Kr.current,Pt(Kr,e),Pt(mn,mn.current),!0}function $P(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=WR(e,t,hl),n.__reactInternalMemoizedMergedChildContext=e,$t(mn),$t(Kr),Pt(Kr,e)):$t(mn),Pt(mn,r)}var Ra=null,Zg=!1,o0=!1;function HR(e){Ra===null?Ra=[e]:Ra.push(e)}function P8(e){Zg=!0,HR(e)}function go(){if(!o0&&Ra!==null){o0=!0;var e=0,t=yt;try{var r=Ra;for(yt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ra=null,Zg=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(e+1)),vR(o_,go),i}finally{yt=t,o0=!1}}return null}var gc=[],yc=0,Zm=null,Jm=0,Jn=[],ei=0,pl=null,Ia=1,Da="";function Io(e,t){gc[yc++]=Jm,gc[yc++]=Zm,Zm=e,Jm=t}function qR(e,t,r){Jn[ei++]=Ia,Jn[ei++]=Da,Jn[ei++]=pl,pl=e;var n=Ia;e=Da;var i=32-Li(n)-1;n&=~(1<<i),r+=1;var a=32-Li(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ia=1<<32-Li(t)+i|r<<i|n,Da=a+e}else Ia=1<<a|r<<i|n,Da=e}function v_(e){e.return!==null&&(Io(e,1),qR(e,1,0))}function g_(e){for(;e===Zm;)Zm=gc[--yc],gc[yc]=null,Jm=gc[--yc],gc[yc]=null;for(;e===pl;)pl=Jn[--ei],Jn[ei]=null,Da=Jn[--ei],Jn[ei]=null,Ia=Jn[--ei],Jn[ei]=null}var Dn=null,In=null,Ft=!1,$i=null;function KR(e,t){var r=ri(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function MP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,In=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pl!==null?{id:Ia,overflow:Da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ri(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dn=e,In=null,!0):!1;default:return!1}}function Jb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ew(e){if(Ft){var t=In;if(t){var r=t;if(!MP(e,t)){if(Jb(e))throw Error(fe(418));t=Ys(r.nextSibling);var n=Dn;t&&MP(e,t)?KR(n,r):(e.flags=e.flags&-4097|2,Ft=!1,Dn=e)}}else{if(Jb(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Ft=!1,Dn=e}}}function IP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Dp(e){if(e!==Dn)return!1;if(!Ft)return IP(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yb(e.type,e.memoizedProps)),t&&(t=In)){if(Jb(e))throw GR(),Error(fe(418));for(;t;)KR(e,t),t=Ys(t.nextSibling)}if(IP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){In=Ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}In=null}}else In=Dn?Ys(e.stateNode.nextSibling):null;return!0}function GR(){for(var e=In;e;)e=Ys(e.nextSibling)}function Jc(){In=Dn=null,Ft=!1}function y_(e){$i===null?$i=[e]:$i.push(e)}var A8=rs.ReactCurrentBatchConfig;function Od(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Lp(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function DP(e){var t=e._init;return t(e._payload)}function YR(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Js(v,x),v.index=0,v.sibling=null,v}function a(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,_){return x===null||x.tag!==6?(x=p0(b,v.mode,_),x.return=v,x):(x=i(x,b),x.return=v,x)}function c(v,x,b,_){var w=b.type;return w===dc?d(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===js&&DP(w)===x.type)?(_=i(x,b.props),_.ref=Od(v,x,b),_.return=v,_):(_=Rm(b.type,b.key,b.props,null,v.mode,_),_.ref=Od(v,x,b),_.return=v,_)}function u(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=m0(b,v.mode,_),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function d(v,x,b,_,w){return x===null||x.tag!==7?(x=ul(b,v.mode,_,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=p0(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ap:return b=Rm(x.type,x.key,x.props,null,v.mode,b),b.ref=Od(v,null,x),b.return=v,b;case uc:return x=m0(x,v.mode,b),x.return=v,x;case js:var _=x._init;return f(v,_(x._payload),b)}if(Jd(x)||Cd(x))return x=ul(x,v.mode,b,null),x.return=v,x;Lp(v,x)}return null}function h(v,x,b,_){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ap:return b.key===w?c(v,x,b,_):null;case uc:return b.key===w?u(v,x,b,_):null;case js:return w=b._init,h(v,x,w(b._payload),_)}if(Jd(b)||Cd(b))return w!==null?null:d(v,x,b,_,null);Lp(v,b)}return null}function p(v,x,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(x,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ap:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,w);case uc:return v=v.get(_.key===null?b:_.key)||null,u(x,v,_,w);case js:var S=_._init;return p(v,x,b,S(_._payload),w)}if(Jd(_)||Cd(_))return v=v.get(b)||null,d(x,v,_,w,null);Lp(x,_)}return null}function y(v,x,b,_){for(var w=null,S=null,C=x,P=x=0,E=null;C!==null&&P<b.length;P++){C.index>P?(E=C,C=null):E=C.sibling;var k=h(v,C,b[P],_);if(k===null){C===null&&(C=E);break}e&&C&&k.alternate===null&&t(v,C),x=a(k,x,P),S===null?w=k:S.sibling=k,S=k,C=E}if(P===b.length)return r(v,C),Ft&&Io(v,P),w;if(C===null){for(;P<b.length;P++)C=f(v,b[P],_),C!==null&&(x=a(C,x,P),S===null?w=C:S.sibling=C,S=C);return Ft&&Io(v,P),w}for(C=n(v,C);P<b.length;P++)E=p(C,v,P,b[P],_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?P:E.key),x=a(E,x,P),S===null?w=E:S.sibling=E,S=E);return e&&C.forEach(function(A){return t(v,A)}),Ft&&Io(v,P),w}function m(v,x,b,_){var w=Cd(b);if(typeof w!="function")throw Error(fe(150));if(b=w.call(b),b==null)throw Error(fe(151));for(var S=w=null,C=x,P=x=0,E=null,k=b.next();C!==null&&!k.done;P++,k=b.next()){C.index>P?(E=C,C=null):E=C.sibling;var A=h(v,C,k.value,_);if(A===null){C===null&&(C=E);break}e&&C&&A.alternate===null&&t(v,C),x=a(A,x,P),S===null?w=A:S.sibling=A,S=A,C=E}if(k.done)return r(v,C),Ft&&Io(v,P),w;if(C===null){for(;!k.done;P++,k=b.next())k=f(v,k.value,_),k!==null&&(x=a(k,x,P),S===null?w=k:S.sibling=k,S=k);return Ft&&Io(v,P),w}for(C=n(v,C);!k.done;P++,k=b.next())k=p(C,v,P,k.value,_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?P:k.key),x=a(k,x,P),S===null?w=k:S.sibling=k,S=k);return e&&C.forEach(function(O){return t(v,O)}),Ft&&Io(v,P),w}function g(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===dc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ap:e:{for(var w=b.key,S=x;S!==null;){if(S.key===w){if(w=b.type,w===dc){if(S.tag===7){r(v,S.sibling),x=i(S,b.props.children),x.return=v,v=x;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===js&&DP(w)===S.type){r(v,S.sibling),x=i(S,b.props),x.ref=Od(v,S,b),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===dc?(x=ul(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=Rm(b.type,b.key,b.props,null,v.mode,_),_.ref=Od(v,x,b),_.return=v,v=_)}return s(v);case uc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=m0(b,v.mode,_),x.return=v,v=x}return s(v);case js:return S=b._init,g(v,x,S(b._payload),_)}if(Jd(b))return y(v,x,b,_);if(Cd(b))return m(v,x,b,_);Lp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=i(x,b),x.return=v,v=x):(r(v,x),x=p0(b,v.mode,_),x.return=v,v=x),s(v)):r(v,x)}return g}var eu=YR(!0),XR=YR(!1),ev=vo(null),tv=null,xc=null,x_=null;function b_(){x_=xc=tv=null}function w_(e){var t=ev.current;$t(ev),e._currentValue=t}function tw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tc(e,t){tv=e,x_=xc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fn=!0),e.firstContext=null)}function si(e){var t=e._currentValue;if(x_!==e)if(e={context:e,memoizedValue:t,next:null},xc===null){if(tv===null)throw Error(fe(308));xc=e,tv.dependencies={lanes:0,firstContext:e}}else xc=xc.next=e;return t}var Ko=null;function j_(e){Ko===null?Ko=[e]:Ko.push(e)}function QR(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,j_(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ka(e,n)}function Ka(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _s=!1;function __(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ka(e,r)}return i=n.interleaved,i===null?(t.next=t,j_(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ka(e,r)}function Am(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}function LP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rv(e,t,r,n){var i=e.updateQueue;_s=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=qt({},f,h);break e;case 2:_s=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vl|=s,e.lanes=s,e.memoizedState=f}}function FP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var tp={},ua=vo(tp),zf=vo(tp),Vf=vo(tp);function Go(e){if(e===tp)throw Error(fe(174));return e}function S_(e,t){switch(Pt(Vf,t),Pt(zf,e),Pt(ua,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mb(t,e)}$t(ua),Pt(ua,t)}function tu(){$t(ua),$t(zf),$t(Vf)}function JR(e){Go(Vf.current);var t=Go(ua.current),r=Mb(t,e.type);t!==r&&(Pt(zf,e),Pt(ua,r))}function C_(e){zf.current===e&&($t(ua),$t(zf))}var zt=vo(0);function nv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var l0=[];function P_(){for(var e=0;e<l0.length;e++)l0[e]._workInProgressVersionPrimary=null;l0.length=0}var Em=rs.ReactCurrentDispatcher,c0=rs.ReactCurrentBatchConfig,ml=0,Wt=null,pr=null,br=null,iv=!1,ff=!1,Wf=0,E8=0;function Lr(){throw Error(fe(321))}function A_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zi(e[r],t[r]))return!1;return!0}function E_(e,t,r,n,i,a){if(ml=a,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Em.current=e===null||e.memoizedState===null?T8:R8,e=r(n,i),ff){a=0;do{if(ff=!1,Wf=0,25<=a)throw Error(fe(301));a+=1,br=pr=null,t.updateQueue=null,Em.current=$8,e=r(n,i)}while(ff)}if(Em.current=av,t=pr!==null&&pr.next!==null,ml=0,br=pr=Wt=null,iv=!1,t)throw Error(fe(300));return e}function k_(){var e=Wf!==0;return Wf=0,e}function Qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Wt.memoizedState=br=e:br=br.next=e,br}function oi(){if(pr===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=pr.next;var t=br===null?Wt.memoizedState:br.next;if(t!==null)br=t,pr=e;else{if(e===null)throw Error(fe(310));pr=e,e={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},br===null?Wt.memoizedState=br=e:br=br.next=e}return br}function Hf(e,t){return typeof t=="function"?t(e):t}function u0(e){var t=oi(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=pr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ml&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Wt.lanes|=d,vl|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,zi(n,t.memoizedState)||(fn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Wt.lanes|=a,vl|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function d0(e){var t=oi(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);zi(a,t.memoizedState)||(fn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function e$(){}function t$(e,t){var r=Wt,n=oi(),i=t(),a=!zi(n.memoizedState,i);if(a&&(n.memoizedState=i,fn=!0),n=n.queue,O_(i$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||br!==null&&br.memoizedState.tag&1){if(r.flags|=2048,qf(9,n$.bind(null,r,n,i,t),void 0,null),jr===null)throw Error(fe(349));ml&30||r$(r,t,i)}return i}function r$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n$(e,t,r,n){t.value=r,t.getSnapshot=n,a$(t)&&s$(e)}function i$(e,t,r){return r(function(){a$(t)&&s$(e)})}function a$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zi(e,r)}catch{return!0}}function s$(e){var t=Ka(e,1);t!==null&&Fi(t,e,1,-1)}function BP(e){var t=Qi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:e},t.queue=e,e=e.dispatch=N8.bind(null,Wt,e),[t.memoizedState,e]}function qf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function o$(){return oi().memoizedState}function km(e,t,r,n){var i=Qi();Wt.flags|=e,i.memoizedState=qf(1|t,r,void 0,n===void 0?null:n)}function Jg(e,t,r,n){var i=oi();n=n===void 0?null:n;var a=void 0;if(pr!==null){var s=pr.memoizedState;if(a=s.destroy,n!==null&&A_(n,s.deps)){i.memoizedState=qf(t,r,a,n);return}}Wt.flags|=e,i.memoizedState=qf(1|t,r,a,n)}function UP(e,t){return km(8390656,8,e,t)}function O_(e,t){return Jg(2048,8,e,t)}function l$(e,t){return Jg(4,2,e,t)}function c$(e,t){return Jg(4,4,e,t)}function u$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d$(e,t,r){return r=r!=null?r.concat([e]):null,Jg(4,4,u$.bind(null,t,e),r)}function N_(){}function f$(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&A_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function h$(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&A_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p$(e,t,r){return ml&21?(zi(r,t)||(r=xR(),Wt.lanes|=r,vl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=r)}function k8(e,t){var r=yt;yt=r!==0&&4>r?r:4,e(!0);var n=c0.transition;c0.transition={};try{e(!1),t()}finally{yt=r,c0.transition=n}}function m$(){return oi().memoizedState}function O8(e,t,r){var n=Zs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v$(e))g$(t,r);else if(r=QR(e,t,r,n),r!==null){var i=rn();Fi(r,e,n,i),y$(r,t,n)}}function N8(e,t,r){var n=Zs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v$(e))g$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,zi(l,s)){var c=t.interleaved;c===null?(i.next=i,j_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=QR(e,t,i,n),r!==null&&(i=rn(),Fi(r,e,n,i),y$(r,t,n))}}function v$(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function g$(e,t){ff=iv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}var av={readContext:si,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},T8={readContext:si,useCallback:function(e,t){return Qi().memoizedState=[e,t===void 0?null:t],e},useContext:si,useEffect:UP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,km(4194308,4,u$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return km(4194308,4,e,t)},useInsertionEffect:function(e,t){return km(4,2,e,t)},useMemo:function(e,t){var r=Qi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O8.bind(null,Wt,e),[n.memoizedState,e]},useRef:function(e){var t=Qi();return e={current:e},t.memoizedState=e},useState:BP,useDebugValue:N_,useDeferredValue:function(e){return Qi().memoizedState=e},useTransition:function(){var e=BP(!1),t=e[0];return e=k8.bind(null,e[1]),Qi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wt,i=Qi();if(Ft){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),jr===null)throw Error(fe(349));ml&30||r$(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,UP(i$.bind(null,n,a,e),[e]),n.flags|=2048,qf(9,n$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qi(),t=jr.identifierPrefix;if(Ft){var r=Da,n=Ia;r=(n&~(1<<32-Li(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=E8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},R8={readContext:si,useCallback:f$,useContext:si,useEffect:O_,useImperativeHandle:d$,useInsertionEffect:l$,useLayoutEffect:c$,useMemo:h$,useReducer:u0,useRef:o$,useState:function(){return u0(Hf)},useDebugValue:N_,useDeferredValue:function(e){var t=oi();return p$(t,pr.memoizedState,e)},useTransition:function(){var e=u0(Hf)[0],t=oi().memoizedState;return[e,t]},useMutableSource:e$,useSyncExternalStore:t$,useId:m$,unstable_isNewReconciler:!1},$8={readContext:si,useCallback:f$,useContext:si,useEffect:O_,useImperativeHandle:d$,useInsertionEffect:l$,useLayoutEffect:c$,useMemo:h$,useReducer:d0,useRef:o$,useState:function(){return d0(Hf)},useDebugValue:N_,useDeferredValue:function(e){var t=oi();return pr===null?t.memoizedState=e:p$(t,pr.memoizedState,e)},useTransition:function(){var e=d0(Hf)[0],t=oi().memoizedState;return[e,t]},useMutableSource:e$,useSyncExternalStore:t$,useId:m$,unstable_isNewReconciler:!1};function Ci(e,t){if(e&&e.defaultProps){t=qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ey={isMounted:function(e){return(e=e._reactInternals)?Ol(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rn(),i=Zs(e),a=Ua(n,i);a.payload=t,r!=null&&(a.callback=r),t=Xs(e,a,i),t!==null&&(Fi(t,e,i,n),Am(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rn(),i=Zs(e),a=Ua(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Xs(e,a,i),t!==null&&(Fi(t,e,i,n),Am(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rn(),n=Zs(e),i=Ua(r,n);i.tag=2,t!=null&&(i.callback=t),t=Xs(e,i,n),t!==null&&(Fi(t,e,n,r),Am(t,e,n))}};function zP(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Lf(r,n)||!Lf(i,a):!0}function x$(e,t,r){var n=!1,i=so,a=t.contextType;return typeof a=="object"&&a!==null?a=si(a):(i=vn(t)?hl:Kr.current,n=t.contextTypes,a=(n=n!=null)?Zc(e,i):so),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ey,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function VP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ey.enqueueReplaceState(t,t.state,null)}function nw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},__(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=si(a):(a=vn(t)?hl:Kr.current,i.context=Zc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rw(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ey.enqueueReplaceState(i,i.state,null),rv(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ru(e,t){try{var r="",n=t;do r+=lz(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function f0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function iw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M8=typeof WeakMap=="function"?WeakMap:Map;function b$(e,t,r){r=Ua(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ov||(ov=!0,pw=n),iw(e,t)},r}function w$(e,t,r){r=Ua(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){iw(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){iw(e,t),typeof n!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function WP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M8;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Y8.bind(null,e,t,r),t.then(e,e))}function HP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ua(-1,1),t.tag=2,Xs(r,t,1))),r.lanes|=1),e)}var I8=rs.ReactCurrentOwner,fn=!1;function Yr(e,t,r,n){t.child=e===null?XR(t,null,r,n):eu(t,e.child,r,n)}function KP(e,t,r,n,i){r=r.render;var a=t.ref;return Tc(t,i),n=E_(e,t,r,n,a,i),r=k_(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i)):(Ft&&r&&v_(t),t.flags|=1,Yr(e,t,n,i),t.child)}function GP(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!F_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,j$(e,t,a,n,i)):(e=Rm(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Lf,r(s,n)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,e=Js(a,n),e.ref=t.ref,e.return=t,t.child=e}function j$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Lf(a,n)&&e.ref===t.ref)if(fn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(fn=!0);else return t.lanes=e.lanes,Ga(e,t,i)}return aw(e,t,r,n,i)}function _$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(wc,On),On|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(wc,On),On|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Pt(wc,On),On|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Pt(wc,On),On|=n;return Yr(e,t,i,r),t.child}function S$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function aw(e,t,r,n,i){var a=vn(r)?hl:Kr.current;return a=Zc(t,a),Tc(t,i),r=E_(e,t,r,n,a,i),n=k_(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i)):(Ft&&n&&v_(t),t.flags|=1,Yr(e,t,r,i),t.child)}function YP(e,t,r,n,i){if(vn(r)){var a=!0;Qm(t)}else a=!1;if(Tc(t,i),t.stateNode===null)Om(e,t),x$(t,r,n),nw(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=si(u):(u=vn(r)?hl:Kr.current,u=Zc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&VP(t,s,n,u),_s=!1;var h=t.memoizedState;s.state=h,rv(t,n,s,i),c=t.memoizedState,l!==n||h!==c||mn.current||_s?(typeof d=="function"&&(rw(t,r,d,n),c=t.memoizedState),(l=_s||zP(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ZR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ci(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=si(c):(c=vn(r)?hl:Kr.current,c=Zc(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&VP(t,s,n,c),_s=!1,h=t.memoizedState,s.state=h,rv(t,n,s,i);var y=t.memoizedState;l!==f||h!==y||mn.current||_s?(typeof p=="function"&&(rw(t,r,p,n),y=t.memoizedState),(u=_s||zP(t,r,u,n,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return sw(e,t,r,n,a,i)}function sw(e,t,r,n,i,a){S$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&$P(t,r,!1),Ga(e,t,a);n=t.stateNode,I8.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=eu(t,e.child,null,a),t.child=eu(t,null,l,a)):Yr(e,t,l,a),t.memoizedState=n.state,i&&$P(t,r,!0),t.child}function C$(e){var t=e.stateNode;t.pendingContext?RP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RP(e,t.context,!1),S_(e,t.containerInfo)}function XP(e,t,r,n,i){return Jc(),y_(i),t.flags|=256,Yr(e,t,r,n),t.child}var ow={dehydrated:null,treeContext:null,retryLane:0};function lw(e){return{baseLanes:e,cachePool:null,transitions:null}}function P$(e,t,r){var n=t.pendingProps,i=zt.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pt(zt,i&1),e===null)return ew(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ny(s,n,0,null),e=ul(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=lw(r),t.memoizedState=ow,e):T_(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return D8(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Js(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Js(l,a):(a=ul(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?lw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=ow,n}return a=e.child,e=a.sibling,n=Js(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function T_(e,t){return t=ny({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fp(e,t,r,n){return n!==null&&y_(n),eu(t,e.child,null,r),e=T_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D8(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=f0(Error(fe(422))),Fp(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ny({mode:"visible",children:n.children},i,0,null),a=ul(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&eu(t,e.child,null,s),t.child.memoizedState=lw(s),t.memoizedState=ow,a);if(!(t.mode&1))return Fp(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(fe(419)),n=f0(a,n,void 0),Fp(e,t,s,n)}if(l=(s&e.childLanes)!==0,fn||l){if(n=jr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ka(e,i),Fi(n,e,i,-1))}return L_(),n=f0(Error(fe(421))),Fp(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X8.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,In=Ys(i.nextSibling),Dn=t,Ft=!0,$i=null,e!==null&&(Jn[ei++]=Ia,Jn[ei++]=Da,Jn[ei++]=pl,Ia=e.id,Da=e.overflow,pl=t),t=T_(t,n.children),t.flags|=4096,t)}function QP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tw(e.return,t,r)}function h0(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function A$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Yr(e,t,n.children,r),n=zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QP(e,r,t);else if(e.tag===19)QP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pt(zt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&nv(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),h0(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nv(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}h0(t,!0,r,null,a);break;case"together":h0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Om(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Js(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Js(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L8(e,t,r){switch(t.tag){case 3:C$(t),Jc();break;case 5:JR(t);break;case 1:vn(t.type)&&Qm(t);break;case 4:S_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Pt(ev,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pt(zt,zt.current&1),t.flags|=128,null):r&t.child.childLanes?P$(e,t,r):(Pt(zt,zt.current&1),e=Ga(e,t,r),e!==null?e.sibling:null);Pt(zt,zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(zt,zt.current),n)break;return null;case 22:case 23:return t.lanes=0,_$(e,t,r)}return Ga(e,t,r)}var E$,cw,k$,O$;E$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cw=function(){};k$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Go(ua.current);var a=null;switch(r){case"input":i=Nb(e,i),n=Nb(e,n),a=[];break;case"select":i=qt({},i,{value:void 0}),n=qt({},n,{value:void 0}),a=[];break;case"textarea":i=$b(e,i),n=$b(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ym)}Ib(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};O$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nd(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function F8(e,t,r){var n=t.pendingProps;switch(g_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(t),null;case 1:return vn(t.type)&&Xm(),Fr(t),null;case 3:return n=t.stateNode,tu(),$t(mn),$t(Kr),P_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$i!==null&&(gw($i),$i=null))),cw(e,t),Fr(t),null;case 5:C_(t);var i=Go(Vf.current);if(r=t.type,e!==null&&t.stateNode!=null)k$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return Fr(t),null}if(e=Go(ua.current),Dp(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ta]=t,n[Uf]=a,e=(t.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(i=0;i<tf.length;i++)kt(tf[i],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":sP(n,a),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},kt("invalid",n);break;case"textarea":lP(n,a),kt("invalid",n)}Ib(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ip(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ip(n.textContent,l,e),i=["children",""+l]):Nf.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&kt("scroll",n)}switch(r){case"input":Ep(n),oP(n,a,!0);break;case"textarea":Ep(n),cP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ym)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ta]=t,e[Uf]=n,E$(e,t,!1,!1),t.stateNode=e;e:{switch(s=Db(r,n),r){case"dialog":kt("cancel",e),kt("close",e),i=n;break;case"iframe":case"object":case"embed":kt("load",e),i=n;break;case"video":case"audio":for(i=0;i<tf.length;i++)kt(tf[i],e);i=n;break;case"source":kt("error",e),i=n;break;case"img":case"image":case"link":kt("error",e),kt("load",e),i=n;break;case"details":kt("toggle",e),i=n;break;case"input":sP(e,n),i=Nb(e,n),kt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=qt({},n,{value:void 0}),kt("invalid",e);break;case"textarea":lP(e,n),i=$b(e,n),kt("invalid",e);break;default:i=n}Ib(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?oR(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aR(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Tf(e,c):typeof c=="number"&&Tf(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nf.hasOwnProperty(a)?c!=null&&a==="onScroll"&&kt("scroll",e):c!=null&&r_(e,a,c,s))}switch(r){case"input":Ep(e),oP(e,n,!1);break;case"textarea":Ep(e),cP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ao(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ec(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ec(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ym)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fr(t),null;case 6:if(e&&t.stateNode!=null)O$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Go(Vf.current),Go(ua.current),Dp(t)){if(n=t.stateNode,r=t.memoizedProps,n[ta]=t,(a=n.nodeValue!==r)&&(e=Dn,e!==null))switch(e.tag){case 3:Ip(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ip(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ta]=t,t.stateNode=n}return Fr(t),null;case 13:if($t(zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&In!==null&&t.mode&1&&!(t.flags&128))GR(),Jc(),t.flags|=98560,a=!1;else if(a=Dp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[ta]=t}else Jc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fr(t),a=!1}else $i!==null&&(gw($i),$i=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zt.current&1?mr===0&&(mr=3):L_())),t.updateQueue!==null&&(t.flags|=4),Fr(t),null);case 4:return tu(),cw(e,t),e===null&&Ff(t.stateNode.containerInfo),Fr(t),null;case 10:return w_(t.type._context),Fr(t),null;case 17:return vn(t.type)&&Xm(),Fr(t),null;case 19:if($t(zt),a=t.memoizedState,a===null)return Fr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Nd(a,!1);else{if(mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=nv(e),s!==null){for(t.flags|=128,Nd(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pt(zt,zt.current&1|2),t.child}e=e.sibling}a.tail!==null&&tr()>nu&&(t.flags|=128,n=!0,Nd(a,!1),t.lanes=4194304)}else{if(!n)if(e=nv(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ft)return Fr(t),null}else 2*tr()-a.renderingStartTime>nu&&r!==1073741824&&(t.flags|=128,n=!0,Nd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tr(),t.sibling=null,r=zt.current,Pt(zt,n?r&1|2:r&1),t):(Fr(t),null);case 22:case 23:return D_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?On&1073741824&&(Fr(t),t.subtreeFlags&6&&(t.flags|=8192)):Fr(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function B8(e,t){switch(g_(t),t.tag){case 1:return vn(t.type)&&Xm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tu(),$t(mn),$t(Kr),P_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return C_(t),null;case 13:if($t(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Jc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(zt),null;case 4:return tu(),null;case 10:return w_(t.type._context),null;case 22:case 23:return D_(),null;case 24:return null;default:return null}}var Bp=!1,zr=!1,U8=typeof WeakSet=="function"?WeakSet:Set,be=null;function bc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qt(e,t,n)}else r.current=null}function uw(e,t,r){try{r()}catch(n){Qt(e,t,n)}}var ZP=!1;function z8(e,t){if(Kb=qm,e=MR(),m_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=s),h===a&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gb={focusedElem:e,selectionRange:r},qm=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ci(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){Qt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return y=ZP,ZP=!1,y}function hf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&uw(t,r,a)}i=i.next}while(i!==n)}}function ty(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function N$(e){var t=e.alternate;t!==null&&(e.alternate=null,N$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ta],delete t[Uf],delete t[Qb],delete t[S8],delete t[C8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T$(e){return e.tag===5||e.tag===3||e.tag===4}function JP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ym));else if(n!==4&&(e=e.child,e!==null))for(fw(e,t,r),e=e.sibling;e!==null;)fw(e,t,r),e=e.sibling}function hw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hw(e,t,r),e=e.sibling;e!==null;)hw(e,t,r),e=e.sibling}var Er=null,Oi=!1;function ps(e,t,r){for(r=r.child;r!==null;)R$(e,t,r),r=r.sibling}function R$(e,t,r){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(Kg,r)}catch{}switch(r.tag){case 5:zr||bc(r,t);case 6:var n=Er,i=Oi;Er=null,ps(e,t,r),Er=n,Oi=i,Er!==null&&(Oi?(e=Er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(Oi?(e=Er,r=r.stateNode,e.nodeType===8?s0(e.parentNode,r):e.nodeType===1&&s0(e,r),If(e)):s0(Er,r.stateNode));break;case 4:n=Er,i=Oi,Er=r.stateNode.containerInfo,Oi=!0,ps(e,t,r),Er=n,Oi=i;break;case 0:case 11:case 14:case 15:if(!zr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&uw(r,t,s),i=i.next}while(i!==n)}ps(e,t,r);break;case 1:if(!zr&&(bc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qt(r,t,l)}ps(e,t,r);break;case 21:ps(e,t,r);break;case 22:r.mode&1?(zr=(n=zr)||r.memoizedState!==null,ps(e,t,r),zr=n):ps(e,t,r);break;default:ps(e,t,r)}}function eA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new U8),t.forEach(function(n){var i=Q8.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Er=l.stateNode,Oi=!1;break e;case 3:Er=l.stateNode.containerInfo,Oi=!0;break e;case 4:Er=l.stateNode.containerInfo,Oi=!0;break e}l=l.return}if(Er===null)throw Error(fe(160));R$(a,s,i),Er=null,Oi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$$(t,e),t=t.sibling}function $$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bi(t,e),Yi(e),n&4){try{hf(3,e,e.return),ty(3,e)}catch(m){Qt(e,e.return,m)}try{hf(5,e,e.return)}catch(m){Qt(e,e.return,m)}}break;case 1:bi(t,e),Yi(e),n&512&&r!==null&&bc(r,r.return);break;case 5:if(bi(t,e),Yi(e),n&512&&r!==null&&bc(r,r.return),e.flags&32){var i=e.stateNode;try{Tf(i,"")}catch(m){Qt(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&rR(i,a),Db(l,s);var u=Db(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?oR(i,f):d==="dangerouslySetInnerHTML"?aR(i,f):d==="children"?Tf(i,f):r_(i,d,f,u)}switch(l){case"input":Tb(i,a);break;case"textarea":nR(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ec(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ec(i,!!a.multiple,a.defaultValue,!0):Ec(i,!!a.multiple,a.multiple?[]:"",!1))}i[Uf]=a}catch(m){Qt(e,e.return,m)}}break;case 6:if(bi(t,e),Yi(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Qt(e,e.return,m)}}break;case 3:if(bi(t,e),Yi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{If(t.containerInfo)}catch(m){Qt(e,e.return,m)}break;case 4:bi(t,e),Yi(e);break;case 13:bi(t,e),Yi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(M_=tr())),n&4&&eA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(zr=(u=zr)||d,bi(t,e),zr=u):bi(t,e),Yi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(be=e,d=e.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:hf(4,h,h.return);break;case 1:bc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Qt(n,r,m)}}break;case 5:bc(h,h.return);break;case 22:if(h.memoizedState!==null){rA(f);continue}}p!==null?(p.return=h,be=p):rA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sR("display",s))}catch(m){Qt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Qt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bi(t,e),Yi(e),n&4&&eA(e);break;case 21:break;default:bi(t,e),Yi(e)}}function Yi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T$(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Tf(i,""),n.flags&=-33);var a=JP(e);hw(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=JP(e);fw(e,l,s);break;default:throw Error(fe(161))}}catch(c){Qt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V8(e,t,r){be=e,M$(e)}function M$(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var i=be,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Bp;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||zr;l=Bp;var u=zr;if(Bp=s,(zr=c)&&!u)for(be=i;be!==null;)s=be,c=s.child,s.tag===22&&s.memoizedState!==null?nA(i):c!==null?(c.return=s,be=c):nA(i);for(;a!==null;)be=a,M$(a),a=a.sibling;be=i,Bp=l,zr=u}tA(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,be=a):tA(e)}}function tA(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zr||ty(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!zr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ci(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&FP(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}FP(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&If(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}zr||t.flags&512&&dw(t)}catch(h){Qt(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function rA(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function nA(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ty(4,t)}catch(c){Qt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qt(t,i,c)}}var a=t.return;try{dw(t)}catch(c){Qt(t,a,c)}break;case 5:var s=t.return;try{dw(t)}catch(c){Qt(t,s,c)}}}catch(c){Qt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var W8=Math.ceil,sv=rs.ReactCurrentDispatcher,R_=rs.ReactCurrentOwner,ii=rs.ReactCurrentBatchConfig,lt=0,jr=null,lr=null,Or=0,On=0,wc=vo(0),mr=0,Kf=null,vl=0,ry=0,$_=0,pf=null,dn=null,M_=0,nu=1/0,Oa=null,ov=!1,pw=null,Qs=null,Up=!1,Ls=null,lv=0,mf=0,mw=null,Nm=-1,Tm=0;function rn(){return lt&6?tr():Nm!==-1?Nm:Nm=tr()}function Zs(e){return e.mode&1?lt&2&&Or!==0?Or&-Or:A8.transition!==null?(Tm===0&&(Tm=xR()),Tm):(e=yt,e!==0||(e=window.event,e=e===void 0?16:PR(e.type)),e):1}function Fi(e,t,r,n){if(50<mf)throw mf=0,mw=null,Error(fe(185));Zh(e,r,n),(!(lt&2)||e!==jr)&&(e===jr&&(!(lt&2)&&(ry|=r),mr===4&&ks(e,Or)),gn(e,n),r===1&&lt===0&&!(t.mode&1)&&(nu=tr()+500,Zg&&go()))}function gn(e,t){var r=e.callbackNode;Az(e,t);var n=Hm(e,e===jr?Or:0);if(n===0)r!==null&&fP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fP(r),t===1)e.tag===0?P8(iA.bind(null,e)):HR(iA.bind(null,e)),j8(function(){!(lt&6)&&go()}),r=null;else{switch(bR(n)){case 1:r=o_;break;case 4:r=gR;break;case 16:r=Wm;break;case 536870912:r=yR;break;default:r=Wm}r=V$(r,I$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I$(e,t){if(Nm=-1,Tm=0,lt&6)throw Error(fe(327));var r=e.callbackNode;if(Rc()&&e.callbackNode!==r)return null;var n=Hm(e,e===jr?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cv(e,n);else{t=n;var i=lt;lt|=2;var a=L$();(jr!==e||Or!==t)&&(Oa=null,nu=tr()+500,cl(e,t));do try{K8();break}catch(l){D$(e,l)}while(!0);b_(),sv.current=a,lt=i,lr!==null?t=0:(jr=null,Or=0,t=mr)}if(t!==0){if(t===2&&(i=zb(e),i!==0&&(n=i,t=vw(e,i))),t===1)throw r=Kf,cl(e,0),ks(e,n),gn(e,tr()),r;if(t===6)ks(e,n);else{if(i=e.current.alternate,!(n&30)&&!H8(i)&&(t=cv(e,n),t===2&&(a=zb(e),a!==0&&(n=a,t=vw(e,a))),t===1))throw r=Kf,cl(e,0),ks(e,n),gn(e,tr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Do(e,dn,Oa);break;case 3:if(ks(e,n),(n&130023424)===n&&(t=M_+500-tr(),10<t)){if(Hm(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xb(Do.bind(null,e,dn,Oa),t);break}Do(e,dn,Oa);break;case 4:if(ks(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Li(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W8(n/1960))-n,10<n){e.timeoutHandle=Xb(Do.bind(null,e,dn,Oa),n);break}Do(e,dn,Oa);break;case 5:Do(e,dn,Oa);break;default:throw Error(fe(329))}}}return gn(e,tr()),e.callbackNode===r?I$.bind(null,e):null}function vw(e,t){var r=pf;return e.current.memoizedState.isDehydrated&&(cl(e,t).flags|=256),e=cv(e,t),e!==2&&(t=dn,dn=r,t!==null&&gw(t)),e}function gw(e){dn===null?dn=e:dn.push.apply(dn,e)}function H8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!zi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ks(e,t){for(t&=~$_,t&=~ry,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Li(t),n=1<<r;e[r]=-1,t&=~n}}function iA(e){if(lt&6)throw Error(fe(327));Rc();var t=Hm(e,0);if(!(t&1))return gn(e,tr()),null;var r=cv(e,t);if(e.tag!==0&&r===2){var n=zb(e);n!==0&&(t=n,r=vw(e,n))}if(r===1)throw r=Kf,cl(e,0),ks(e,t),gn(e,tr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,dn,Oa),gn(e,tr()),null}function I_(e,t){var r=lt;lt|=1;try{return e(t)}finally{lt=r,lt===0&&(nu=tr()+500,Zg&&go())}}function gl(e){Ls!==null&&Ls.tag===0&&!(lt&6)&&Rc();var t=lt;lt|=1;var r=ii.transition,n=yt;try{if(ii.transition=null,yt=1,e)return e()}finally{yt=n,ii.transition=r,lt=t,!(lt&6)&&go()}}function D_(){On=wc.current,$t(wc)}function cl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w8(r)),lr!==null)for(r=lr.return;r!==null;){var n=r;switch(g_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xm();break;case 3:tu(),$t(mn),$t(Kr),P_();break;case 5:C_(n);break;case 4:tu();break;case 13:$t(zt);break;case 19:$t(zt);break;case 10:w_(n.type._context);break;case 22:case 23:D_()}r=r.return}if(jr=e,lr=e=Js(e.current,null),Or=On=t,mr=0,Kf=null,$_=ry=vl=0,dn=pf=null,Ko!==null){for(t=0;t<Ko.length;t++)if(r=Ko[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ko=null}return e}function D$(e,t){do{var r=lr;try{if(b_(),Em.current=av,iv){for(var n=Wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}iv=!1}if(ml=0,br=pr=Wt=null,ff=!1,Wf=0,R_.current=null,r===null||r.return===null){mr=1,Kf=t,lr=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=Or,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=HP(s);if(p!==null){p.flags&=-257,qP(p,s,l,a,t),p.mode&1&&WP(a,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){WP(a,u,t),L_();break e}c=Error(fe(426))}}else if(Ft&&l.mode&1){var g=HP(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),qP(g,s,l,a,t),y_(ru(c,l));break e}}a=c=ru(c,l),mr!==4&&(mr=2),pf===null?pf=[a]:pf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=b$(a,c,t);LP(a,v);break e;case 1:l=c;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qs===null||!Qs.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=w$(a,l,t);LP(a,_);break e}}a=a.return}while(a!==null)}B$(r)}catch(w){t=w,lr===r&&r!==null&&(lr=r=r.return);continue}break}while(!0)}function L$(){var e=sv.current;return sv.current=av,e===null?av:e}function L_(){(mr===0||mr===3||mr===2)&&(mr=4),jr===null||!(vl&268435455)&&!(ry&268435455)||ks(jr,Or)}function cv(e,t){var r=lt;lt|=2;var n=L$();(jr!==e||Or!==t)&&(Oa=null,cl(e,t));do try{q8();break}catch(i){D$(e,i)}while(!0);if(b_(),lt=r,sv.current=n,lr!==null)throw Error(fe(261));return jr=null,Or=0,mr}function q8(){for(;lr!==null;)F$(lr)}function K8(){for(;lr!==null&&!yz();)F$(lr)}function F$(e){var t=z$(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?B$(e):lr=t,R_.current=null}function B$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B8(r,t),r!==null){r.flags&=32767,lr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mr=6,lr=null;return}}else if(r=F8(r,t,On),r!==null){lr=r;return}if(t=t.sibling,t!==null){lr=t;return}lr=t=e}while(t!==null);mr===0&&(mr=5)}function Do(e,t,r){var n=yt,i=ii.transition;try{ii.transition=null,yt=1,G8(e,t,r,n)}finally{ii.transition=i,yt=n}return null}function G8(e,t,r,n){do Rc();while(Ls!==null);if(lt&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ez(e,a),e===jr&&(lr=jr=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Up||(Up=!0,V$(Wm,function(){return Rc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ii.transition,ii.transition=null;var s=yt;yt=1;var l=lt;lt|=4,R_.current=null,z8(e,r),$$(r,e),p8(Gb),qm=!!Kb,Gb=Kb=null,e.current=r,V8(r),xz(),lt=l,yt=s,ii.transition=a}else e.current=r;if(Up&&(Up=!1,Ls=e,lv=i),a=e.pendingLanes,a===0&&(Qs=null),jz(r.stateNode),gn(e,tr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ov)throw ov=!1,e=pw,pw=null,e;return lv&1&&e.tag!==0&&Rc(),a=e.pendingLanes,a&1?e===mw?mf++:(mf=0,mw=e):mf=0,go(),null}function Rc(){if(Ls!==null){var e=bR(lv),t=ii.transition,r=yt;try{if(ii.transition=null,yt=16>e?16:e,Ls===null)var n=!1;else{if(e=Ls,Ls=null,lv=0,lt&6)throw Error(fe(331));var i=lt;for(lt|=4,be=e.current;be!==null;){var a=be,s=a.child;if(be.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:hf(8,d,a)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,p=d.return;if(N$(d),d===u){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}be=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,be=s;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,be=v;break e}be=a.return}}var x=e.current;for(be=x;be!==null;){s=be;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,be=b;else e:for(s=x;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ty(9,l)}}catch(w){Qt(l,l.return,w)}if(l===s){be=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,be=_;break e}be=l.return}}if(lt=i,go(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(Kg,e)}catch{}n=!0}return n}finally{yt=r,ii.transition=t}}return!1}function aA(e,t,r){t=ru(r,t),t=b$(e,t,1),e=Xs(e,t,1),t=rn(),e!==null&&(Zh(e,1,t),gn(e,t))}function Qt(e,t,r){if(e.tag===3)aA(e,e,r);else for(;t!==null;){if(t.tag===3){aA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qs===null||!Qs.has(n))){e=ru(r,e),e=w$(t,e,1),t=Xs(t,e,1),e=rn(),t!==null&&(Zh(t,1,e),gn(t,e));break}}t=t.return}}function Y8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&r,jr===e&&(Or&r)===r&&(mr===4||mr===3&&(Or&130023424)===Or&&500>tr()-M_?cl(e,0):$_|=r),gn(e,t)}function U$(e,t){t===0&&(e.mode&1?(t=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):t=1);var r=rn();e=Ka(e,t),e!==null&&(Zh(e,t,r),gn(e,r))}function X8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),U$(e,r)}function Q8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),U$(e,r)}var z$;z$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)fn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fn=!1,L8(e,t,r);fn=!!(e.flags&131072)}else fn=!1,Ft&&t.flags&1048576&&qR(t,Jm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Om(e,t),e=t.pendingProps;var i=Zc(t,Kr.current);Tc(t,r),i=E_(null,t,n,e,i,r);var a=k_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(n)?(a=!0,Qm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,__(t),i.updater=ey,t.stateNode=i,i._reactInternals=t,nw(t,n,e,r),t=sw(null,t,n,!0,a,r)):(t.tag=0,Ft&&a&&v_(t),Yr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Om(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=J8(n),e=Ci(n,e),i){case 0:t=aw(null,t,n,e,r);break e;case 1:t=YP(null,t,n,e,r);break e;case 11:t=KP(null,t,n,e,r);break e;case 14:t=GP(null,t,n,Ci(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ci(n,i),aw(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ci(n,i),YP(e,t,n,i,r);case 3:e:{if(C$(t),e===null)throw Error(fe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,ZR(e,t),rv(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ru(Error(fe(423)),t),t=XP(e,t,n,r,i);break e}else if(n!==i){i=ru(Error(fe(424)),t),t=XP(e,t,n,r,i);break e}else for(In=Ys(t.stateNode.containerInfo.firstChild),Dn=t,Ft=!0,$i=null,r=XR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jc(),n===i){t=Ga(e,t,r);break e}Yr(e,t,n,r)}t=t.child}return t;case 5:return JR(t),e===null&&ew(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Yb(n,i)?s=null:a!==null&&Yb(n,a)&&(t.flags|=32),S$(e,t),Yr(e,t,s,r),t.child;case 6:return e===null&&ew(t),null;case 13:return P$(e,t,r);case 4:return S_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=eu(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ci(n,i),KP(e,t,n,i,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pt(ev,n._currentValue),n._currentValue=s,a!==null)if(zi(a.value,s)){if(a.children===i.children&&!mn.current){t=Ga(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ua(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),tw(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(fe(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),tw(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Yr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Tc(t,r),i=si(i),n=n(i),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return n=t.type,i=Ci(n,t.pendingProps),i=Ci(n.type,i),GP(e,t,n,i,r);case 15:return j$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ci(n,i),Om(e,t),t.tag=1,vn(n)?(e=!0,Qm(t)):e=!1,Tc(t,r),x$(t,n,i),nw(t,n,i,r),sw(null,t,n,!0,e,r);case 19:return A$(e,t,r);case 22:return _$(e,t,r)}throw Error(fe(156,t.tag))};function V$(e,t){return vR(e,t)}function Z8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,r,n){return new Z8(e,t,r,n)}function F_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J8(e){if(typeof e=="function")return F_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i_)return 11;if(e===a_)return 14}return 2}function Js(e,t){var r=e.alternate;return r===null?(r=ri(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rm(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")F_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case dc:return ul(r.children,i,a,t);case n_:s=8,i|=8;break;case Ab:return e=ri(12,r,t,i|2),e.elementType=Ab,e.lanes=a,e;case Eb:return e=ri(13,r,t,i),e.elementType=Eb,e.lanes=a,e;case kb:return e=ri(19,r,t,i),e.elementType=kb,e.lanes=a,e;case J2:return ny(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q2:s=10;break e;case Z2:s=9;break e;case i_:s=11;break e;case a_:s=14;break e;case js:s=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ri(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ul(e,t,r,n){return e=ri(7,e,n,t),e.lanes=r,e}function ny(e,t,r,n){return e=ri(22,e,n,t),e.elementType=J2,e.lanes=r,e.stateNode={isHidden:!1},e}function p0(e,t,r){return e=ri(6,e,null,t),e.lanes=r,e}function m0(e,t,r){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B_(e,t,r,n,i,a,s,l,c){return e=new eV(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ri(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},__(a),e}function tV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function W$(e){if(!e)return so;e=e._reactInternals;e:{if(Ol(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(vn(r))return WR(e,r,t)}return t}function H$(e,t,r,n,i,a,s,l,c){return e=B_(r,n,!0,e,i,a,s,l,c),e.context=W$(null),r=e.current,n=rn(),i=Zs(r),a=Ua(n,i),a.callback=t??null,Xs(r,a,i),e.current.lanes=i,Zh(e,i,n),gn(e,n),e}function iy(e,t,r,n){var i=t.current,a=rn(),s=Zs(i);return r=W$(r),t.context===null?t.context=r:t.pendingContext=r,t=Ua(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xs(i,t,s),e!==null&&(Fi(e,i,s,a),Am(e,i,s)),s}function uv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function U_(e,t){sA(e,t),(e=e.alternate)&&sA(e,t)}function rV(){return null}var q$=typeof reportError=="function"?reportError:function(e){console.error(e)};function z_(e){this._internalRoot=e}ay.prototype.render=z_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));iy(e,t,null,null)};ay.prototype.unmount=z_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gl(function(){iy(null,e,null,null)}),t[qa]=null}};function ay(e){this._internalRoot=e}ay.prototype.unstable_scheduleHydration=function(e){if(e){var t=_R();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Es.length&&t!==0&&t<Es[r].priority;r++);Es.splice(r,0,e),r===0&&CR(e)}};function V_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oA(){}function nV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=uv(s);a.call(u)}}var s=H$(t,n,e,0,null,!1,!1,"",oA);return e._reactRootContainer=s,e[qa]=s.current,Ff(e.nodeType===8?e.parentNode:e),gl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=uv(c);l.call(u)}}var c=B_(e,0,!1,null,null,!1,!1,"",oA);return e._reactRootContainer=c,e[qa]=c.current,Ff(e.nodeType===8?e.parentNode:e),gl(function(){iy(t,c,r,n)}),c}function oy(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=uv(s);l.call(c)}}iy(t,s,e,i)}else s=nV(r,t,e,i,n);return uv(s)}wR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ef(t.pendingLanes);r!==0&&(l_(t,r|1),gn(t,tr()),!(lt&6)&&(nu=tr()+500,go()))}break;case 13:gl(function(){var n=Ka(e,1);if(n!==null){var i=rn();Fi(n,e,1,i)}}),U_(e,1)}};c_=function(e){if(e.tag===13){var t=Ka(e,134217728);if(t!==null){var r=rn();Fi(t,e,134217728,r)}U_(e,134217728)}};jR=function(e){if(e.tag===13){var t=Zs(e),r=Ka(e,t);if(r!==null){var n=rn();Fi(r,e,t,n)}U_(e,t)}};_R=function(){return yt};SR=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}};Fb=function(e,t,r){switch(t){case"input":if(Tb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qg(n);if(!i)throw Error(fe(90));tR(n),Tb(n,i)}}}break;case"textarea":nR(e,r);break;case"select":t=r.value,t!=null&&Ec(e,!!r.multiple,t,!1)}};uR=I_;dR=gl;var iV={usingClientEntryPoint:!1,Events:[ep,mc,Qg,lR,cR,I_]},Td={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aV={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pR(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||rV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Kg=zp.inject(aV),ca=zp}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iV;Wn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V_(t))throw Error(fe(200));return tV(e,t,null,r)};Wn.createRoot=function(e,t){if(!V_(e))throw Error(fe(299));var r=!1,n="",i=q$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=B_(e,1,!1,null,null,r,!1,n,i),e[qa]=t.current,Ff(e.nodeType===8?e.parentNode:e),new z_(t)};Wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=pR(t),e=e===null?null:e.stateNode,e};Wn.flushSync=function(e){return gl(e)};Wn.hydrate=function(e,t,r){if(!sy(t))throw Error(fe(200));return oy(null,e,t,!0,r)};Wn.hydrateRoot=function(e,t,r){if(!V_(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=q$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=H$(t,null,e,1,r??null,i,!1,a,s),e[qa]=t.current,Ff(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ay(t)};Wn.render=function(e,t,r){if(!sy(t))throw Error(fe(200));return oy(null,e,t,!1,r)};Wn.unmountComponentAtNode=function(e){if(!sy(e))throw Error(fe(40));return e._reactRootContainer?(gl(function(){oy(null,null,e,!1,function(){e._reactRootContainer=null,e[qa]=null})}),!0):!1};Wn.unstable_batchedUpdates=I_;Wn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sy(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return oy(e,t,r,!1,n)};Wn.version="18.3.1-next-f1338f8080-20240426";function K$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K$)}catch(e){console.error(e)}}K$(),K2.exports=Wn;var Nl=K2.exports;const G$=mt(Nl);var Y$,lA=Nl;Y$=lA.createRoot,lA.hydrateRoot;const sV=1,oV=1e6;let v0=0;function lV(){return v0=(v0+1)%Number.MAX_SAFE_INTEGER,v0.toString()}const g0=new Map,cA=e=>{if(g0.has(e))return;const t=setTimeout(()=>{g0.delete(e),vf({type:"REMOVE_TOAST",toastId:e})},oV);g0.set(e,t)},cV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?cA(r):e.toasts.forEach(n=>{cA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},$m=[];let Mm={toasts:[]};function vf(e){Mm=cV(Mm,e),$m.forEach(t=>{t(Mm)})}function kr({...e}){const t=lV(),r=i=>vf({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>vf({type:"DISMISS_TOAST",toastId:t});return vf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function X$(){const[e,t]=j.useState(Mm);return j.useEffect(()=>($m.push(t),()=>{const r=$m.indexOf(t);r>-1&&$m.splice(r,1)}),[e]),{...e,toast:kr,dismiss:r=>vf({type:"DISMISS_TOAST",toastId:r})}}function we(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function uA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Q$(...e){return t=>{let r=!1;const n=e.map(i=>{const a=uA(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():uA(e[i],null)}}}}function Qe(...e){return j.useCallback(Q$(...e),e)}function uV(e,t){const r=j.createContext(t),n=a=>{const{children:s,...l}=a,c=j.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function i(a){const s=j.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function jn(e,t=[]){let r=[];function n(a,s){const l=j.createContext(s),c=r.length;r=[...r,s];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=j.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=j.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>j.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,dV(i,...t)]}function dV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function yl(e){const t=fV(e),r=j.forwardRef((n,i)=>{const{children:a,...s}=n,l=j.Children.toArray(a),c=l.find(hV);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Z$=yl("Slot");function fV(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const s=mV(i),l=pV(a,i.props);return i.type!==j.Fragment&&(l.ref=n?Q$(n,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J$=Symbol("radix.slottable");function eM(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=J$,t}function hV(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J$}function pV(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function mV(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ly(e){const t=e+"CollectionProvider",[r,n]=jn(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:v}=m,x=N.useRef(null),b=N.useRef(new Map).current;return o.jsx(i,{scope:g,itemMap:b,collectionRef:x,children:v})};s.displayName=t;const l=e+"CollectionSlot",c=yl(l),u=N.forwardRef((m,g)=>{const{scope:v,children:x}=m,b=a(l,v),_=Qe(g,b.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=yl(d),p=N.forwardRef((m,g)=>{const{scope:v,children:x,...b}=m,_=N.useRef(null),w=Qe(g,_),S=a(d,v);return N.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:w,children:x})});p.displayName=d;function y(m){const g=a(e+"CollectionConsumer",m);return N.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},y,n]}var vV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=vV.reduce((e,t)=>{const r=yl(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tM(e,t){e&&Nl.flushSync(()=>e.dispatchEvent(t))}function li(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function gV(e,t=globalThis==null?void 0:globalThis.document){const r=li(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yV="DismissableLayer",yw="dismissableLayer.update",xV="dismissableLayer.pointerDownOutside",bV="dismissableLayer.focusOutside",dA,rM=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gu=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=j.useContext(rM),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),y=Qe(t,C=>f(C)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,w=jV(C=>{const P=C.target,E=[...u.branches].some(k=>k.contains(P));!_||E||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},h),S=_V(C=>{const P=C.target;[...u.branches].some(k=>k.contains(P))||(a==null||a(C),s==null||s(C),C.defaultPrevented||l==null||l())},h);return gV(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dA)}},[d,h,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fA())},[d,u]),j.useEffect(()=>{const C=()=>p({});return document.addEventListener(yw,C),()=>document.removeEventListener(yw,C)},[]),o.jsx(Re.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,w.onPointerDownCapture)})});Gu.displayName=yV;var wV="DismissableLayerBranch",nM=j.forwardRef((e,t)=>{const r=j.useContext(rM),n=j.useRef(null),i=Qe(t,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Re.div,{...e,ref:i})});nM.displayName=wV;function jV(e,t=globalThis==null?void 0:globalThis.document){const r=li(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){iM(xV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _V(e,t=globalThis==null?void 0:globalThis.document){const r=li(e),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&iM(bV,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fA(){const e=new CustomEvent(yw);document.dispatchEvent(e)}function iM(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?tM(i,a):i.dispatchEvent(a)}var SV=Gu,CV=nM,Rr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},PV="Portal",rp=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=j.useState(!1);Rr(()=>a(!0),[]);const s=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?G$.createPortal(o.jsx(Re.div,{...n,ref:t}),s):null});rp.displayName=PV;function AV(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var xa=e=>{const{present:t,children:r}=e,n=EV(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=Qe(n.ref,kV(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};xa.displayName="Presence";function EV(e){const[t,r]=j.useState(),n=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),s=e?"mounted":"unmounted",[l,c]=AV(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Vp(n.current);a.current=l==="mounted"?u:"none"},[l]),Rr(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,p=Vp(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Rr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Vp(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=Vp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vp(e){return(e==null?void 0:e.animationName)||"none"}function kV(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OV=Jj[" useInsertionEffect ".trim().toString()]||Rr;function yn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=NV({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const d=j.useRef(e!==void 0);j.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=j.useCallback(d=>{var f;if(l){const h=TV(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else a(d)},[l,e,a,s]);return[c,u]}function NV({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),i=j.useRef(r),a=j.useRef(t);return OV(()=>{a.current=t},[t]),j.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function TV(e){return typeof e=="function"}var aM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RV="VisuallyHidden",cy=j.forwardRef((e,t)=>o.jsx(Re.span,{...e,ref:t,style:{...aM,...e.style}}));cy.displayName=RV;var $V=cy,W_="ToastProvider",[H_,MV,IV]=ly("Toast"),[sM,Zke]=jn("Toast",[IV]),[DV,uy]=sM(W_),oM=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[l,c]=j.useState(null),[u,d]=j.useState(0),f=j.useRef(!1),h=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${W_}\`. Expected non-empty \`string\`.`),o.jsx(H_.Provider,{scope:t,children:o.jsx(DV,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};oM.displayName=W_;var lM="ToastViewport",LV=["F8"],xw="toast.viewportPause",bw="toast.viewportResume",cM=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=LV,label:i="Notifications ({hotkey})",...a}=e,s=uy(lM,r),l=MV(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),h=Qe(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;j.useEffect(()=>{const g=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),j.useEffect(()=>{const g=c.current,v=f.current;if(y&&g&&v){const x=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(xw);v.dispatchEvent(S),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(bw);v.dispatchEvent(S),s.isClosePausedRef.current=!1}},_=S=>{!g.contains(S.relatedTarget)&&b()},w=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,s.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,w=[_,...QV(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return j.useEffect(()=>{const g=f.current;if(g){const v=x=>{var w,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const P=document.activeElement,E=x.shiftKey;if(x.target===g&&E){(w=u.current)==null||w.focus();return}const O=m({tabbingDirection:E?"backwards":"forwards"}),T=O.findIndex($=>$===P);y0(O.slice(T+1))?x.preventDefault():E?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,m]),o.jsxs(CV,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(ww,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});y0(g)}}),o.jsx(H_.Slot,{scope:r,children:o.jsx(Re.ol,{tabIndex:-1,...a,ref:h})}),y&&o.jsx(ww,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});y0(g)}})]})});cM.displayName=lM;var uM="ToastFocusProxy",ww=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=uy(uM,r);return o.jsx(cy,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});ww.displayName=uM;var np="Toast",FV="toast.swipeStart",BV="toast.swipeMove",UV="toast.swipeCancel",zV="toast.swipeEnd",dM=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=e,[l,c]=yn({prop:n,defaultProp:i??!0,onChange:a,caller:np});return o.jsx(xa,{present:r||l,children:o.jsx(HV,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:li(e.onPause),onResume:li(e.onResume),onSwipeStart:we(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});dM.displayName=np;var[VV,WV]=sM(np,{onClose(){}}),HV=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=uy(np,r),[g,v]=j.useState(null),x=Qe(t,$=>v($)),b=j.useRef(null),_=j.useRef(null),w=i||m.duration,S=j.useRef(0),C=j.useRef(w),P=j.useRef(0),{onToastAdd:E,onToastRemove:k}=m,A=li(()=>{var I;(g==null?void 0:g.contains(document.activeElement))&&((I=m.viewport)==null||I.focus()),s()}),O=j.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(A,$))},[A]);j.useEffect(()=>{const $=m.viewport;if($){const I=()=>{O(C.current),u==null||u()},R=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(P.current),c==null||c()};return $.addEventListener(xw,R),$.addEventListener(bw,I),()=>{$.removeEventListener(xw,R),$.removeEventListener(bw,I)}}},[m.viewport,w,c,u,O]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(w)},[a,w,m.isClosePausedRef,O]),j.useEffect(()=>(E(),()=>k()),[E,k]);const T=j.useMemo(()=>g?yM(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[T&&o.jsx(qV,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),o.jsx(VV,{scope:r,onClose:A,children:Nl.createPortal(o.jsx(H_.ItemSlot,{scope:r,children:o.jsx(SV,{asChild:!0,onEscapeKeyDown:we(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:we(e.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:we(e.onPointerMove,$=>{if(!b.current)return;const I=$.clientX-b.current.x,R=$.clientY-b.current.y,M=!!_.current,D=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=D?L(0,I):0,J=D?0:L(0,R),Y=$.pointerType==="touch"?10:2,F={x:V,y:J},ee={originalEvent:$,delta:F};M?(_.current=F,Wp(BV,f,ee,{discrete:!1})):hA(F,m.swipeDirection,Y)?(_.current=F,Wp(FV,d,ee,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(I)>Y||Math.abs(R)>Y)&&(b.current=null)}),onPointerUp:we(e.onPointerUp,$=>{const I=_.current,R=$.target;if(R.hasPointerCapture($.pointerId)&&R.releasePointerCapture($.pointerId),_.current=null,b.current=null,I){const M=$.currentTarget,D={originalEvent:$,delta:I};hA(I,m.swipeDirection,m.swipeThreshold)?Wp(zV,p,D,{discrete:!0}):Wp(UV,h,D,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),qV=e=>{const{__scopeToast:t,children:r,...n}=e,i=uy(np,t),[a,s]=j.useState(!1),[l,c]=j.useState(!1);return YV(()=>s(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(rp,{asChild:!0,children:o.jsx(cy,{...n,children:a&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},KV="ToastTitle",fM=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Re.div,{...n,ref:t})});fM.displayName=KV;var GV="ToastDescription",hM=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Re.div,{...n,ref:t})});hM.displayName=GV;var pM="ToastAction",mM=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(gM,{altText:r,asChild:!0,children:o.jsx(q_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pM}\`. Expected non-empty \`string\`.`),null)});mM.displayName=pM;var vM="ToastClose",q_=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=WV(vM,r);return o.jsx(gM,{asChild:!0,children:o.jsx(Re.button,{type:"button",...n,ref:t,onClick:we(e.onClick,i.onClose)})})});q_.displayName=vM;var gM=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return o.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function yM(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),XV(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...yM(n))}}),t}function Wp(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?tM(i,a):i.dispatchEvent(a)}var hA=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function YV(e=()=>{}){const t=li(e);Rr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function XV(e){return e.nodeType===e.ELEMENT_NODE}function QV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function y0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ZV=oM,xM=cM,bM=dM,wM=fM,jM=hM,_M=mM,SM=q_;function CM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=CM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=CM(e))&&(n&&(n+=" "),n+=t);return n}const pA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mA=We,Yu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=pA(d)||pA(f);return i[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...a,...l}[m]):{...a,...l}[m]===g})?[...u,f,h]:u},[]);return mA(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},c)=>j.createElement("svg",{ref:c,...e6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:PM("lucide",i),...l},[...s.map(([u,d])=>j.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=j.forwardRef(({className:n,...i},a)=>j.createElement(t6,{ref:a,iconNode:t,className:PM(`lucide-${JV(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Se("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Se("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Se("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Se("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Se("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Se("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Se("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Se("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Se("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Se("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Se("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Q_="-",C6=e=>{const t=A6(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(Q_);return l[0]===""&&l.length!==1&&l.shift(),BM(l,t)||P6(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},BM=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?BM(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Q_);return(s=t.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},jA=/^\[(.+)\]$/,P6=e=>{if(jA.test(e)){const t=jA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},A6=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return k6(Object.entries(e.classGroups),r).forEach(([a,s])=>{_w(s,n,a,t)}),n},_w=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:_A(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(E6(i)){_w(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{_w(s,_A(t,a),r,n)})})},_A=(e,t)=>{let r=e;return t.split(Q_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},E6=e=>e.isThemeGetter,k6=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[t+s,l])):a);return[r,i]}):e,O6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},UM="!",N6=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let v=l[g];if(u===0){if(v===i&&(n||l.slice(g,g+a)===t)){c.push(l.slice(d,g)),d=g+a;continue}if(v==="/"){f=g;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(UM),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},T6=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},R6=e=>({cache:O6(e.cacheSize),parseClassName:N6(e),...C6(e)}),$6=/\s+/,M6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split($6);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const g=T6(d).join(":"),v=f?g+UM:g,x=v+m;if(a.includes(x))continue;a.push(x);const b=i(m,y);for(let _=0;_<b.length;++_){const w=b[_];a.push(v+w)}l=u+(l.length>0?" "+l:l)}return l};function I6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zM(t))&&(n&&(n+=" "),n+=r);return n}const zM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zM(e[n]))&&(r&&(r+=" "),r+=t);return r};function D6(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=R6(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=M6(c,r);return i(c,d),d}return function(){return a(I6.apply(null,arguments))}}const Et=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},VM=/^\[(?:([a-z-]+):)?(.+)\]$/i,L6=/^\d+\/\d+$/,F6=new Set(["px","full","screen"]),B6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=e=>$c(e)||F6.has(e)||L6.test(e),ms=e=>Zu(e,"length",Z6),$c=e=>!!e&&!Number.isNaN(Number(e)),b0=e=>Zu(e,"number",$c),Rd=e=>!!e&&Number.isInteger(Number(e)),H6=e=>e.endsWith("%")&&$c(e.slice(0,-1)),Xe=e=>VM.test(e),vs=e=>B6.test(e),q6=new Set(["length","size","percentage"]),K6=e=>Zu(e,q6,WM),G6=e=>Zu(e,"position",WM),Y6=new Set(["image","url"]),X6=e=>Zu(e,Y6,eW),Q6=e=>Zu(e,"",J6),$d=()=>!0,Zu=(e,t,r)=>{const n=VM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Z6=e=>U6.test(e)&&!z6.test(e),WM=()=>!1,J6=e=>V6.test(e),eW=e=>W6.test(e),tW=()=>{const e=Et("colors"),t=Et("spacing"),r=Et("blur"),n=Et("brightness"),i=Et("borderColor"),a=Et("borderRadius"),s=Et("borderSpacing"),l=Et("borderWidth"),c=Et("contrast"),u=Et("grayscale"),d=Et("hueRotate"),f=Et("invert"),h=Et("gap"),p=Et("gradientColorStops"),y=Et("gradientColorStopPositions"),m=Et("inset"),g=Et("margin"),v=Et("opacity"),x=Et("padding"),b=Et("saturate"),_=Et("scale"),w=Et("sepia"),S=Et("skew"),C=Et("space"),P=Et("translate"),E=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Xe,t],O=()=>[Xe,t],T=()=>["",Pa,ms],$=()=>["auto",$c,Xe],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Xe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[$c,Xe];return{cacheSize:500,separator:":",theme:{colors:[$d],spacing:[Pa,ms],blur:["none","",vs,Xe],brightness:J(),borderColor:[e],borderRadius:["none","","full",vs,Xe],borderSpacing:O(),borderWidth:T(),contrast:J(),grayscale:L(),hueRotate:J(),invert:L(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[H6,ms],inset:A(),margin:A(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:L(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Xe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rd,Xe]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Rd,Xe]}],"grid-cols":[{"grid-cols":[$d]}],"col-start-end":[{col:["auto",{span:["full",Rd,Xe]},Xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[$d]}],"row-start-end":[{row:["auto",{span:[Rd,Xe]},Xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b0]}],"font-family":[{font:[$d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",$c,b0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pa,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pa,ms]}],"underline-offset":[{"underline-offset":["auto",Pa,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),G6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},X6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Pa,Xe]}],"outline-w":[{outline:[Pa,ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Pa,ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vs,Q6]}],"shadow-color":[{shadow:[$d]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vs,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Rd,Xe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pa,ms,b0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rW=D6(tW);function ie(...e){return rW(We(e))}const nW=ZV,HM=j.forwardRef(({className:e,...t},r)=>o.jsx(xM,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HM.displayName=xM.displayName;const iW=Yu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qM=j.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(bM,{ref:n,className:ie(iW({variant:t}),e),...r}));qM.displayName=bM.displayName;const aW=j.forwardRef(({className:e,...t},r)=>o.jsx(_M,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));aW.displayName=_M.displayName;const KM=j.forwardRef(({className:e,...t},r)=>o.jsx(SM,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(oo,{className:"h-4 w-4"})}));KM.displayName=SM.displayName;const GM=j.forwardRef(({className:e,...t},r)=>o.jsx(wM,{ref:r,className:ie("text-sm font-semibold",e),...t}));GM.displayName=wM.displayName;const YM=j.forwardRef(({className:e,...t},r)=>o.jsx(jM,{ref:r,className:ie("text-sm opacity-90",e),...t}));YM.displayName=jM.displayName;function sW(){const{toasts:e}=X$();return o.jsxs(nW,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return o.jsxs(qM,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(GM,{children:r}),n&&o.jsx(YM,{children:n})]}),i,o.jsx(KM,{})]},t)}),o.jsx(HM,{})]})}var SA=["light","dark"],oW="(prefers-color-scheme: dark)",lW=j.createContext(void 0),cW={setTheme:e=>{},themes:[]},uW=()=>{var e;return(e=j.useContext(lW))!=null?e:cW};j.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?SA.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,g=!0)=>{let v=s?s[y]:y,x=m?y+"|| ''":`'${v}'`,b="";return i&&g&&!m&&SA.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oW}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var dW=e=>{switch(e){case"success":return pW;case"info":return vW;case"warning":return mW;case"error":return gW;default:return null}},fW=Array(12).fill(0),hW=({visible:e,className:t})=>N.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},N.createElement("div",{className:"sonner-spinner"},fW.map((r,n)=>N.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pW=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mW=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vW=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gW=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yW=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},N.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),N.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xW=()=>{let[e,t]=N.useState(document.hidden);return N.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Sw=1,bW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sw++,a=this.toasts.find(l=>l.id===i),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,s=n.then(async c=>{if(a=["resolve",c],N.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(jW(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>s.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Sw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new bW,wW=(e,t)=>{let r=(t==null?void 0:t.id)||Sw++;return un.addToast({title:e,...t,id:r}),r},jW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_W=wW,SW=()=>un.toasts,CW=()=>un.getActiveToasts(),Ve=Object.assign(_W,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:SW,getToasts:CW});function PW(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}PW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Hp(e){return e.label!==void 0}var AW=3,EW="32px",kW="16px",CA=4e3,OW=356,NW=14,TW=20,RW=200;function wi(...e){return e.filter(Boolean).join(" ")}function $W(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var MW=e=>{var t,r,n,i,a,s,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:b,toasts:_,expanded:w,removeToast:S,defaultRichColors:C,closeButton:P,style:E,cancelButtonStyle:k,actionButtonStyle:A,className:O="",descriptionClassName:T="",duration:$,position:I,gap:R,loadingIcon:M,expandByDefault:D,classNames:L,icons:V,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:Y}=e,[F,ee]=N.useState(null),[U,z]=N.useState(null),[W,ue]=N.useState(!1),[X,re]=N.useState(!1),[q,H]=N.useState(!1),[ge,me]=N.useState(!1),[Oe,ze]=N.useState(!1),[ot,Kt]=N.useState(0),[Jt,B]=N.useState(0),K=N.useRef(p.duration||$||CA),Z=N.useRef(null),ne=N.useRef(null),le=b===0,oe=b+1<=v,pe=p.type,$e=p.dismissible!==!1,tt=p.className||"",Ir=p.descriptionClassName||"",Kn=N.useMemo(()=>x.findIndex(Ke=>Ke.toastId===p.id)||0,[x,p.id]),Cn=N.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:P},[p.closeButton,P]),ko=N.useMemo(()=>p.duration||$||CA,[p.duration,$]),Sa=N.useRef(0),Gi=N.useRef(0),jp=N.useRef(0),Ca=N.useRef(null),[Ux,_p]=I.split("-"),QC=N.useMemo(()=>x.reduce((Ke,bt,Lt)=>Lt>=Kn?Ke:Ke+bt.height,0),[x,Kn]),ZC=xW(),TU=p.invert||h,zx=pe==="loading";Gi.current=N.useMemo(()=>Kn*R+QC,[Kn,QC]),N.useEffect(()=>{K.current=ko},[ko]),N.useEffect(()=>{ue(!0)},[]),N.useEffect(()=>{let Ke=ne.current;if(Ke){let bt=Ke.getBoundingClientRect().height;return B(bt),g(Lt=>[{toastId:p.id,height:bt,position:p.position},...Lt]),()=>g(Lt=>Lt.filter(gi=>gi.toastId!==p.id))}},[g,p.id]),N.useLayoutEffect(()=>{if(!W)return;let Ke=ne.current,bt=Ke.style.height;Ke.style.height="auto";let Lt=Ke.getBoundingClientRect().height;Ke.style.height=bt,B(Lt),g(gi=>gi.find(yi=>yi.toastId===p.id)?gi.map(yi=>yi.toastId===p.id?{...yi,height:Lt}:yi):[{toastId:p.id,height:Lt,position:p.position},...gi])},[W,p.title,p.description,g,p.id]);let ds=N.useCallback(()=>{re(!0),Kt(Gi.current),g(Ke=>Ke.filter(bt=>bt.toastId!==p.id)),setTimeout(()=>{S(p)},RW)},[p,S,g,Gi]);N.useEffect(()=>{if(p.promise&&pe==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return w||m||Y&&ZC?(()=>{if(jp.current<Sa.current){let bt=new Date().getTime()-Sa.current;K.current=K.current-bt}jp.current=new Date().getTime()})():K.current!==1/0&&(Sa.current=new Date().getTime(),Ke=setTimeout(()=>{var bt;(bt=p.onAutoClose)==null||bt.call(p,p),ds()},K.current)),()=>clearTimeout(Ke)},[w,m,p,pe,Y,ZC,ds]),N.useEffect(()=>{p.delete&&ds()},[ds,p.delete]);function RU(){var Ke,bt,Lt;return V!=null&&V.loading?N.createElement("div",{className:wi(L==null?void 0:L.loader,(Ke=p==null?void 0:p.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":pe==="loading"},V.loading):M?N.createElement("div",{className:wi(L==null?void 0:L.loader,(bt=p==null?void 0:p.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":pe==="loading"},M):N.createElement(hW,{className:wi(L==null?void 0:L.loader,(Lt=p==null?void 0:p.classNames)==null?void 0:Lt.loader),visible:pe==="loading"})}return N.createElement("li",{tabIndex:0,ref:ne,className:wi(O,tt,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[pe],(r=p==null?void 0:p.classNames)==null?void 0:r[pe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":W,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":X,"data-visible":oe,"data-y-position":Ux,"data-x-position":_p,"data-index":b,"data-front":le,"data-swiping":q,"data-dismissible":$e,"data-type":pe,"data-invert":TU,"data-swipe-out":ge,"data-swipe-direction":U,"data-expanded":!!(w||D&&W),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${X?ot:Gi.current}px`,"--initial-height":D?"auto":`${Jt}px`,...E,...p.style},onDragEnd:()=>{H(!1),ee(null),Ca.current=null},onPointerDown:Ke=>{zx||!$e||(Z.current=new Date,Kt(Gi.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(H(!0),Ca.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,bt,Lt,gi;if(ge||!$e)return;Ca.current=null;let yi=Number(((Ke=ne.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fs=Number(((bt=ne.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oo=new Date().getTime()-((Lt=Z.current)==null?void 0:Lt.getTime()),xi=F==="x"?yi:fs,hs=Math.abs(xi)/Oo;if(Math.abs(xi)>=TW||hs>.11){Kt(Gi.current),(gi=p.onDismiss)==null||gi.call(p,p),z(F==="x"?yi>0?"right":"left":fs>0?"down":"up"),ds(),me(!0),ze(!1);return}H(!1),ee(null)},onPointerMove:Ke=>{var bt,Lt,gi,yi;if(!Ca.current||!$e||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;let fs=Ke.clientY-Ca.current.y,Oo=Ke.clientX-Ca.current.x,xi=(Lt=e.swipeDirections)!=null?Lt:$W(I);!F&&(Math.abs(Oo)>1||Math.abs(fs)>1)&&ee(Math.abs(Oo)>Math.abs(fs)?"x":"y");let hs={x:0,y:0};F==="y"?(xi.includes("top")||xi.includes("bottom"))&&(xi.includes("top")&&fs<0||xi.includes("bottom")&&fs>0)&&(hs.y=fs):F==="x"&&(xi.includes("left")||xi.includes("right"))&&(xi.includes("left")&&Oo<0||xi.includes("right")&&Oo>0)&&(hs.x=Oo),(Math.abs(hs.x)>0||Math.abs(hs.y)>0)&&ze(!0),(gi=ne.current)==null||gi.style.setProperty("--swipe-amount-x",`${hs.x}px`),(yi=ne.current)==null||yi.style.setProperty("--swipe-amount-y",`${hs.y}px`)}},Cn&&!p.jsx?N.createElement("button",{"aria-label":J,"data-disabled":zx,"data-close-button":!0,onClick:zx||!$e?()=>{}:()=>{var Ke;ds(),(Ke=p.onDismiss)==null||Ke.call(p,p)},className:wi(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=V==null?void 0:V.close)!=null?a:yW):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:N.createElement(N.Fragment,null,pe||p.icon||p.promise?N.createElement("div",{"data-icon":"",className:wi(L==null?void 0:L.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||RU():null,p.type!=="loading"?p.icon||(V==null?void 0:V[pe])||dW(pe):null):null,N.createElement("div",{"data-content":"",className:wi(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},N.createElement("div",{"data-title":"",className:wi(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?N.createElement("div",{"data-description":"",className:wi(T,Ir,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&Hp(p.cancel)?N.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Ke=>{var bt,Lt;Hp(p.cancel)&&$e&&((Lt=(bt=p.cancel).onClick)==null||Lt.call(bt,Ke),ds())},className:wi(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&Hp(p.action)?N.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:Ke=>{var bt,Lt;Hp(p.action)&&((Lt=(bt=p.action).onClick)==null||Lt.call(bt,Ke),!Ke.defaultPrevented&&ds())},className:wi(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function PA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IW(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",l=a?kW:EW;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var DW=j.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=AW,toastOptions:m,dir:g=PA(),gap:v=NW,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[S,C]=N.useState([]),P=N.useMemo(()=>Array.from(new Set([n].concat(S.filter(Y=>Y.position).map(Y=>Y.position)))),[S,n]),[E,k]=N.useState([]),[A,O]=N.useState(!1),[T,$]=N.useState(!1),[I,R]=N.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=N.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=N.useRef(null),V=N.useRef(!1),J=N.useCallback(Y=>{C(F=>{var ee;return(ee=F.find(U=>U.id===Y.id))!=null&&ee.delete||un.dismiss(Y.id),F.filter(({id:U})=>U!==Y.id)})},[]);return N.useEffect(()=>un.subscribe(Y=>{if(Y.dismiss){C(F=>F.map(ee=>ee.id===Y.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{G$.flushSync(()=>{C(F=>{let ee=F.findIndex(U=>U.id===Y.id);return ee!==-1?[...F.slice(0,ee),{...F[ee],...Y},...F.slice(ee+1)]:[Y,...F]})})})}),[]),N.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:F})=>{R(F?"dark":"light")})}catch{Y.addListener(({matches:ee})=>{try{R(ee?"dark":"light")}catch(U){console.error(U)}})}},[d]),N.useEffect(()=>{S.length<=1&&O(!1)},[S]),N.useEffect(()=>{let Y=F=>{var ee,U;i.every(z=>F[z]||F.code===z)&&(O(!0),(ee=M.current)==null||ee.focus()),F.code==="Escape"&&(document.activeElement===M.current||(U=M.current)!=null&&U.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[i]),N.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,V.current=!1)}},[M.current]),N.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((Y,F)=>{var ee;let[U,z]=Y.split("-");return S.length?N.createElement("ol",{key:Y,dir:g==="auto"?PA():g,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":U,"data-lifted":A&&S.length>1&&!a,"data-x-position":z,style:{"--front-toast-height":`${((ee=E[0])==null?void 0:ee.height)||0}px`,"--width":`${OW}px`,"--gap":`${v}px`,...p,...IW(c,u)},onBlur:W=>{V.current&&!W.currentTarget.contains(W.relatedTarget)&&(V.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||V.current||(V.current=!0,L.current=W.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{T||O(!1)},onDragEnd:()=>O(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},S.filter(W=>!W.position&&F===0||W.position===Y).map((W,ue)=>{var X,re;return N.createElement(MW,{key:W.id,icons:b,index:ue,toast:W,defaultRichColors:f,duration:(X=m==null?void 0:m.duration)!=null?X:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(re=m==null?void 0:m.closeButton)!=null?re:s,interacting:T,position:Y,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:J,toasts:S.filter(q=>q.position==W.position),heights:E.filter(q=>q.position==W.position),setHeights:k,expandByDefault:a,gap:v,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const LW=({...e})=>{const{theme:t="system"}=uW();return o.jsx(DW,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FW=Jj[" useId ".trim().toString()]||(()=>{}),BW=0;function fa(e){const[t,r]=j.useState(FW());return Rr(()=>{e||r(n=>n??String(BW++))},[e]),e||(t?`radix-${t}`:"")}const UW=["top","right","bottom","left"],lo=Math.min,Rn=Math.max,fv=Math.round,qp=Math.floor,ha=e=>({x:e,y:e}),zW={left:"right",right:"left",bottom:"top",top:"bottom"},VW={start:"end",end:"start"};function Cw(e,t,r){return Rn(e,lo(t,r))}function Ya(e,t){return typeof e=="function"?e(t):e}function Xa(e){return e.split("-")[0]}function Ju(e){return e.split("-")[1]}function Z_(e){return e==="x"?"y":"x"}function J_(e){return e==="y"?"height":"width"}const WW=new Set(["top","bottom"]);function aa(e){return WW.has(Xa(e))?"y":"x"}function eS(e){return Z_(aa(e))}function HW(e,t,r){r===void 0&&(r=!1);const n=Ju(e),i=eS(e),a=J_(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=hv(s)),[s,hv(s)]}function qW(e){const t=hv(e);return[Pw(e),t,Pw(t)]}function Pw(e){return e.replace(/start|end/g,t=>VW[t])}const AA=["left","right"],EA=["right","left"],KW=["top","bottom"],GW=["bottom","top"];function YW(e,t,r){switch(e){case"top":case"bottom":return r?t?EA:AA:t?AA:EA;case"left":case"right":return t?KW:GW;default:return[]}}function XW(e,t,r,n){const i=Ju(e);let a=YW(Xa(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(Pw)))),a}function hv(e){return e.replace(/left|right|bottom|top/g,t=>zW[t])}function QW(e){return{top:0,right:0,bottom:0,left:0,...e}}function XM(e){return typeof e!="number"?QW(e):{top:e,right:e,bottom:e,left:e}}function pv(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function kA(e,t,r){let{reference:n,floating:i}=e;const a=aa(t),s=eS(t),l=J_(s),c=Xa(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ju(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const ZW=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=kA(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:v}=l[m],{x,y:b,data:_,reset:w}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[g]:{...p[g],..._}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:f}=kA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Qf(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ya(t,e),y=XM(p),g=l[h?f==="floating"?"reference":"floating":f],v=pv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},w=pv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-w.top+y.top)/_.y,bottom:(w.bottom-v.bottom+y.bottom)/_.y,left:(v.left-w.left+y.left)/_.x,right:(w.right-v.right+y.right)/_.x}}const JW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ya(e,t)||{};if(u==null)return{};const f=XM(d),h={x:r,y:n},p=eS(i),y=J_(p),m=await s.getDimensions(u),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[p]-h[p]-a.floating[y],w=h[p]-a.reference[p],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=l.floating[b]||a.floating[y]);const P=_/2-w/2,E=C/2-m[y]/2-1,k=lo(f[v],E),A=lo(f[x],E),O=k,T=C-m[y]-A,$=C/2-m[y]/2+P,I=Cw(O,$,T),R=!c.arrow&&Ju(i)!=null&&$!==I&&a.reference[y]/2-($<O?k:A)-m[y]/2<0,M=R?$<O?$-O:$-T:0;return{[p]:h[p]+M,data:{[p]:I,centerOffset:$-I-M,...R&&{alignmentOffset:M}},reset:R}}}),eH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=Ya(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Xa(i),x=aa(l),b=Xa(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(b||!m?[hv(l)]:qW(l)),S=y!=="none";!h&&S&&w.push(...XW(l,m,y,_));const C=[l,...w],P=await Qf(t,g),E=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&E.push(P[v]),f){const $=HW(i,s,_);E.push(P[$[0]],P[$[1]])}if(k=[...k,{placement:i,overflows:E}],!E.every($=>$<=0)){var A,O;const $=(((A=a.flip)==null?void 0:A.index)||0)+1,I=C[$];if(I&&(!(f==="alignment"?x!==aa(I):!1)||k.every(D=>D.overflows[0]>0&&aa(D.placement)===x)))return{data:{index:$,overflows:k},reset:{placement:I}};let R=(O=k.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(p){case"bestFit":{var T;const M=(T=k.filter(D=>{if(S){const L=aa(D.placement);return L===x||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:T[0];M&&(R=M);break}case"initialPlacement":R=l;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function OA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NA(e){return UW.some(t=>e[t]>=0)}const tH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ya(e,t);switch(n){case"referenceHidden":{const a=await Qf(t,{...i,elementContext:"reference"}),s=OA(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:NA(s)}}}case"escaped":{const a=await Qf(t,{...i,altBoundary:!0}),s=OA(a,r.floating);return{data:{escapedOffsets:s,escaped:NA(s)}}}default:return{}}}}},QM=new Set(["left","top"]);async function rH(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Xa(r),l=Ju(r),c=aa(r)==="y",u=QM.has(s)?-1:1,d=a&&c?-1:1,f=Ya(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const nH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:l}=t,c=await rH(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},iH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...c}=Ya(e,t),u={x:r,y:n},d=await Qf(t,c),f=aa(Xa(i)),h=Z_(f);let p=u[h],y=u[f];if(a){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[g],b=p-d[v];p=Cw(x,p,b)}if(s){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+d[g],b=y-d[v];y=Cw(x,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:s}}}}}},aH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ya(e,t),d={x:r,y:n},f=aa(i),h=Z_(f);let p=d[h],y=d[f];const m=Ya(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+g.mainAxis,w=a.reference[h]+a.reference[b]-g.mainAxis;p<_?p=_:p>w&&(p=w)}if(u){var v,x;const b=h==="y"?"width":"height",_=QM.has(Xa(i)),w=a.reference[f]-a.floating[b]+(_&&((v=s.offset)==null?void 0:v[f])||0)+(_?0:g.crossAxis),S=a.reference[f]+a.reference[b]+(_?0:((x=s.offset)==null?void 0:x[f])||0)-(_?g.crossAxis:0);y<w?y=w:y>S&&(y=S)}return{[h]:p,[f]:y}}}},sH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:l}=t,{apply:c=()=>{},...u}=Ya(e,t),d=await Qf(t,u),f=Xa(i),h=Ju(i),p=aa(i)==="y",{width:y,height:m}=a.floating;let g,v;f==="top"||f==="bottom"?(g=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,g=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,_=lo(m-d[g],x),w=lo(y-d[v],b),S=!t.middlewareData.shift;let C=_,P=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const k=Rn(d.left,0),A=Rn(d.right,0),O=Rn(d.top,0),T=Rn(d.bottom,0);p?P=y-2*(k!==0||A!==0?k+A:Rn(d.left,d.right)):C=m-2*(O!==0||T!==0?O+T:Rn(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const E=await s.getDimensions(l.floating);return y!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function fy(){return typeof window<"u"}function ed(e){return ZM(e)?(e.nodeName||"").toLowerCase():"#document"}function Ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ba(e){var t;return(t=(ZM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZM(e){return fy()?e instanceof Node||e instanceof Ln(e).Node:!1}function Vi(e){return fy()?e instanceof Element||e instanceof Ln(e).Element:!1}function ga(e){return fy()?e instanceof HTMLElement||e instanceof Ln(e).HTMLElement:!1}function TA(e){return!fy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ln(e).ShadowRoot}const oH=new Set(["inline","contents"]);function ap(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Wi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!oH.has(i)}const lH=new Set(["table","td","th"]);function cH(e){return lH.has(ed(e))}const uH=[":popover-open",":modal"];function hy(e){return uH.some(t=>{try{return e.matches(t)}catch{return!1}})}const dH=["transform","translate","scale","rotate","perspective"],fH=["transform","translate","scale","rotate","perspective","filter"],hH=["paint","layout","strict","content"];function tS(e){const t=rS(),r=Vi(e)?Wi(e):e;return dH.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fH.some(n=>(r.willChange||"").includes(n))||hH.some(n=>(r.contain||"").includes(n))}function pH(e){let t=co(e);for(;ga(t)&&!ou(t);){if(tS(t))return t;if(hy(t))return null;t=co(t)}return null}function rS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mH=new Set(["html","body","#document"]);function ou(e){return mH.has(ed(e))}function Wi(e){return Ln(e).getComputedStyle(e)}function py(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(ed(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TA(e)&&e.host||ba(e);return TA(t)?t.host:t}function JM(e){const t=co(e);return ou(t)?e.ownerDocument?e.ownerDocument.body:e.body:ga(t)&&ap(t)?t:JM(t)}function Zf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=JM(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=Ln(i);if(a){const l=Aw(s);return t.concat(s,s.visualViewport||[],ap(i)?i:[],l&&r?Zf(l):[])}return t.concat(i,Zf(i,[],r))}function Aw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eI(e){const t=Wi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ga(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,l=fv(r)!==a||fv(n)!==s;return l&&(r=a,n=s),{width:r,height:n,$:l}}function nS(e){return Vi(e)?e:e.contextElement}function Mc(e){const t=nS(e);if(!ga(t))return ha(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=eI(t);let s=(a?fv(r.width):r.width)/n,l=(a?fv(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const vH=ha(0);function tI(e){const t=Ln(e);return!rS()||!t.visualViewport?vH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gH(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ln(e)?!1:t}function xl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=nS(e);let s=ha(1);t&&(n?Vi(n)&&(s=Mc(n)):s=Mc(e));const l=gH(a,r,n)?tI(a):ha(0);let c=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=Ln(a),p=n&&Vi(n)?Ln(n):n;let y=h,m=Aw(y);for(;m&&n&&p!==y;){const g=Mc(m),v=m.getBoundingClientRect(),x=Wi(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,_=v.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=_,y=Ln(m),m=Aw(y)}}return pv({width:d,height:f,x:c,y:u})}function iS(e,t){const r=py(e).scrollLeft;return t?t.left+r:xl(ba(e)).left+r}function rI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:iS(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function yH(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=ba(n),l=t?hy(t.floating):!1;if(n===s||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ha(1);const d=ha(0),f=ga(n);if((f||!f&&!a)&&((ed(n)!=="body"||ap(s))&&(c=py(n)),ga(n))){const p=xl(n);u=Mc(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!a?rI(s,c,!0):ha(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xH(e){return Array.from(e.getClientRects())}function bH(e){const t=ba(e),r=py(e),n=e.ownerDocument.body,i=Rn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Rn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+iS(e);const l=-r.scrollTop;return Wi(n).direction==="rtl"&&(s+=Rn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:l}}function wH(e,t){const r=Ln(e),n=ba(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const u=rS();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}const jH=new Set(["absolute","fixed"]);function _H(e,t){const r=xl(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ga(e)?Mc(e):ha(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:l,x:c,y:u}}function RA(e,t,r){let n;if(t==="viewport")n=wH(e,r);else if(t==="document")n=bH(ba(e));else if(Vi(t))n=_H(t,r);else{const i=tI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return pv(n)}function nI(e,t){const r=co(e);return r===t||!Vi(r)||ou(r)?!1:Wi(r).position==="fixed"||nI(r,t)}function SH(e,t){const r=t.get(e);if(r)return r;let n=Zf(e,[],!1).filter(l=>Vi(l)&&ed(l)!=="body"),i=null;const a=Wi(e).position==="fixed";let s=a?co(e):e;for(;Vi(s)&&!ou(s);){const l=Wi(s),c=tS(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&jH.has(i.position)||ap(s)&&!c&&nI(e,s))?n=n.filter(d=>d!==s):i=l,s=co(s)}return t.set(e,n),n}function CH(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?hy(t)?[]:SH(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=RA(t,d,i);return u.top=Rn(f.top,u.top),u.right=lo(f.right,u.right),u.bottom=lo(f.bottom,u.bottom),u.left=Rn(f.left,u.left),u},RA(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PH(e){const{width:t,height:r}=eI(e);return{width:t,height:r}}function AH(e,t,r){const n=ga(t),i=ba(t),a=r==="fixed",s=xl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ha(0);function u(){c.x=iS(i)}if(n||!n&&!a)if((ed(t)!=="body"||ap(i))&&(l=py(t)),n){const p=xl(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?rI(i,l):ha(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function w0(e){return Wi(e).position==="static"}function $A(e,t){if(!ga(e)||Wi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ba(e)===r&&(r=r.ownerDocument.body),r}function iI(e,t){const r=Ln(e);if(hy(e))return r;if(!ga(e)){let i=co(e);for(;i&&!ou(i);){if(Vi(i)&&!w0(i))return i;i=co(i)}return r}let n=$A(e,t);for(;n&&cH(n)&&w0(n);)n=$A(n,t);return n&&ou(n)&&w0(n)&&!tS(n)?r:n||pH(e)||r}const EH=async function(e){const t=this.getOffsetParent||iI,r=this.getDimensions,n=await r(e.floating);return{reference:AH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kH(e){return Wi(e).direction==="rtl"}const OH={convertOffsetParentRelativeRectToViewportRelativeRect:yH,getDocumentElement:ba,getClippingRect:CH,getOffsetParent:iI,getElementRects:EH,getClientRects:xH,getDimensions:PH,getScale:Mc,isElement:Vi,isRTL:kH};function aI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NH(e,t){let r=null,n;const i=ba(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=qp(f),m=qp(i.clientWidth-(d+h)),g=qp(i.clientHeight-(f+p)),v=qp(d),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Rn(0,lo(1,c))||1};let _=!0;function w(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!aI(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(e)}return s(!0),a}function TH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=nS(e),d=i||a?[...u?Zf(u):[],...Zf(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=u&&l?NH(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?xl(e):null;c&&g();function g(){const v=xl(e);m&&!aI(m,v)&&r(),m=v,y=requestAnimationFrame(g)}return r(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const RH=nH,$H=iH,MH=eH,IH=sH,DH=tH,MA=JW,LH=aH,FH=(e,t,r)=>{const n=new Map,i={platform:OH,...r},a={...i.platform,_c:n};return ZW(e,t,{...i,platform:a})};var BH=typeof document<"u",UH=function(){},Im=BH?j.useLayoutEffect:UH;function mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mv(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!mv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function sI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IA(e,t){const r=sI(e);return Math.round(t*r)/r}function j0(e){const t=j.useRef(e);return Im(()=>{t.current=e}),t}function zH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(n);mv(h,n)||p(n);const[y,m]=j.useState(null),[g,v]=j.useState(null),x=j.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),b=j.useCallback(D=>{D!==C.current&&(C.current=D,v(D))},[]),_=a||y,w=s||g,S=j.useRef(null),C=j.useRef(null),P=j.useRef(d),E=c!=null,k=j0(c),A=j0(i),O=j0(u),T=j.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),FH(S.current,C.current,D).then(L=>{const V={...L,isPositioned:O.current!==!1};$.current&&!mv(P.current,V)&&(P.current=V,Nl.flushSync(()=>{f(V)}))})},[h,t,r,A,O]);Im(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const $=j.useRef(!1);Im(()=>($.current=!0,()=>{$.current=!1}),[]),Im(()=>{if(_&&(S.current=_),w&&(C.current=w),_&&w){if(k.current)return k.current(_,w,T);T()}},[_,w,T,k,E]);const I=j.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),R=j.useMemo(()=>({reference:_,floating:w}),[_,w]),M=j.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const L=IA(R.floating,d.x),V=IA(R.floating,d.y);return l?{...D,transform:"translate("+L+"px, "+V+"px)",...sI(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:V}},[r,l,R.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:T,refs:I,elements:R,floatingStyles:M}),[d,T,I,R,M])}const VH=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?MA({element:n.current,padding:i}).fn(r):{}:n?MA({element:n,padding:i}).fn(r):{}}}},WH=(e,t)=>({...RH(e),options:[e,t]}),HH=(e,t)=>({...$H(e),options:[e,t]}),qH=(e,t)=>({...LH(e),options:[e,t]}),KH=(e,t)=>({...MH(e),options:[e,t]}),GH=(e,t)=>({...IH(e),options:[e,t]}),YH=(e,t)=>({...DH(e),options:[e,t]}),XH=(e,t)=>({...VH(e),options:[e,t]});var QH="Arrow",oI=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return o.jsx(Re.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});oI.displayName=QH;var ZH=oI;function my(e){const[t,r]=j.useState(void 0);return Rr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var aS="Popper",[lI,td]=jn(aS),[JH,cI]=lI(aS),uI=e=>{const{__scopePopper:t,children:r}=e,[n,i]=j.useState(null);return o.jsx(JH,{scope:t,anchor:n,onAnchorChange:i,children:r})};uI.displayName=aS;var dI="PopperAnchor",fI=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=cI(dI,r),s=j.useRef(null),l=Qe(t,s);return j.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:o.jsx(Re.div,{...i,ref:l})});fI.displayName=dI;var sS="PopperContent",[eq,tq]=lI(sS),hI=j.forwardRef((e,t)=>{var W,ue,X,re,q,H;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=cI(sS,r),[v,x]=j.useState(null),b=Qe(t,ge=>x(ge)),[_,w]=j.useState(null),S=my(_),C=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,E=n+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,T={padding:k,boundary:A.filter(nq),altBoundary:O},{refs:$,floatingStyles:I,placement:R,isPositioned:M,middlewareData:D}=zH({strategy:"fixed",placement:E,whileElementsMounted:(...ge)=>TH(...ge,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[WH({mainAxis:i+P,alignmentAxis:s}),c&&HH({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qH():void 0,...T}),c&&KH({...T}),GH({...T,apply:({elements:ge,rects:me,availableWidth:Oe,availableHeight:ze})=>{const{width:ot,height:Kt}=me.reference,Jt=ge.floating.style;Jt.setProperty("--radix-popper-available-width",`${Oe}px`),Jt.setProperty("--radix-popper-available-height",`${ze}px`),Jt.setProperty("--radix-popper-anchor-width",`${ot}px`),Jt.setProperty("--radix-popper-anchor-height",`${Kt}px`)}}),_&&XH({element:_,padding:l}),iq({arrowWidth:C,arrowHeight:P}),h&&YH({strategy:"referenceHidden",...T})]}),[L,V]=vI(R),J=li(y);Rr(()=>{M&&(J==null||J())},[M,J]);const Y=(W=D.arrow)==null?void 0:W.x,F=(ue=D.arrow)==null?void 0:ue.y,ee=((X=D.arrow)==null?void 0:X.centerOffset)!==0,[U,z]=j.useState();return Rr(()=>{v&&z(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:M?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(re=D.transformOrigin)==null?void 0:re.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((H=D.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(eq,{scope:r,placedSide:L,onArrowChange:w,arrowX:Y,arrowY:F,shouldHideArrow:ee,children:o.jsx(Re.div,{"data-side":L,"data-align":V,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});hI.displayName=sS;var pI="PopperArrow",rq={top:"bottom",right:"left",bottom:"top",left:"right"},mI=j.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=tq(pI,n),s=rq[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(ZH,{...i,ref:r,style:{...i.style,display:"block"}})})});mI.displayName=pI;function nq(e){return e!==null}var iq=e=>({name:"transformOrigin",options:e,fn(t){var g,v,x;const{placement:r,rects:n,middlewareData:i}=t,s=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=vI(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=s?f:`${h}px`,m=`${-c}px`):u==="top"?(y=s?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x:y,y:m}}}});function vI(e){const[t,r="center"]=e.split("-");return[t,r]}var oS=uI,vy=fI,lS=hI,cS=mI,[gy,Jke]=jn("Tooltip",[td]),yy=td(),gI="TooltipProvider",aq=700,Ew="tooltip.open",[sq,uS]=gy(gI),yI=e=>{const{__scopeTooltip:t,delayDuration:r=aq,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(sq,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};yI.displayName=gI;var Jf="Tooltip",[oq,xy]=gy(Jf),xI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:l}=e,c=uS(Jf,e.__scopeTooltip),u=yy(t),[d,f]=j.useState(null),h=fa(),p=j.useRef(0),y=s??c.disableHoverableContent,m=l??c.delayDuration,g=j.useRef(!1),[v,x]=yn({prop:n,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ew))):c.onClose(),a==null||a(C)},caller:Jf}),b=j.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),_=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),w=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},m)},[m,x]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(oS,{...u,children:o.jsx(oq,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:j.useCallback(()=>{y?w():(window.clearTimeout(p.current),p.current=0)},[w,y]),onOpen:_,onClose:w,disableHoverableContent:y,children:r})})};xI.displayName=Jf;var kw="TooltipTrigger",bI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=xy(kw,r),a=uS(kw,r),s=yy(r),l=j.useRef(null),c=Qe(t,l,i.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(vy,{asChild:!0,...s,children:o.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:we(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:we(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:we(e.onBlur,i.onClose),onClick:we(e.onClick,i.onClose)})})});bI.displayName=kw;var lq="TooltipPortal",[eOe,cq]=gy(lq,{forceMount:void 0}),lu="TooltipContent",wI=j.forwardRef((e,t)=>{const r=cq(lu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=xy(lu,e.__scopeTooltip);return o.jsx(xa,{present:n||s.open,children:s.disableHoverableContent?o.jsx(jI,{side:i,...a,ref:t}):o.jsx(uq,{side:i,...a,ref:t})})}),uq=j.forwardRef((e,t)=>{const r=xy(lu,e.__scopeTooltip),n=uS(lu,e.__scopeTooltip),i=j.useRef(null),a=Qe(t,i),[s,l]=j.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=j.useCallback(()=>{l(null),f(!1)},[f]),p=j.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},x=mq(v,g.getBoundingClientRect()),b=vq(v,x),_=gq(m.getBoundingClientRect()),w=xq([...b,..._]);l(w),f(!0)},[f]);return j.useEffect(()=>()=>h(),[h]),j.useEffect(()=>{if(c&&d){const y=g=>p(g,d),m=g=>p(g,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),j.useEffect(()=>{if(s){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),b=!yq(v,s);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,h]),o.jsx(jI,{...e,ref:a})}),[dq,fq]=gy(Jf,{isInside:!1}),hq=eM("TooltipContent"),jI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=e,c=xy(lu,r),u=yy(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(Ew,d),()=>document.removeEventListener(Ew,d)),[d]),j.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(lS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(hq,{children:n}),o.jsx(dq,{scope:r,isInside:!0,children:o.jsx($V,{id:c.contentId,role:"tooltip",children:i||n})})]})})});wI.displayName=lu;var _I="TooltipArrow",pq=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=yy(r);return fq(_I,r).isInside?null:o.jsx(cS,{...i,...n,ref:t})});pq.displayName=_I;function mq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function gq(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function yq(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function xq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bq(t)}function bq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wq=yI,jq=xI,_q=bI,SI=wI;const Sq=wq,Cq=jq,Pq=_q,CI=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(SI,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));CI.displayName=SI.displayName;var by=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wy=typeof window>"u"||"Deno"in globalThis;function Pi(){}function Aq(e,t){return typeof e=="function"?e(t):e}function Eq(e){return typeof e=="number"&&e>=0&&e!==1/0}function kq(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ow(e,t){return typeof e=="function"?e(t):e}function Oq(e,t){return typeof e=="function"?e(t):e}function DA(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==dS(s,t.options))return!1}else if(!th(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function LA(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(eh(t.options.mutationKey)!==eh(a))return!1}else if(!th(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function dS(e,t){return((t==null?void 0:t.queryKeyHashFn)||eh)(e)}function eh(e){return JSON.stringify(e,(t,r)=>Nw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function th(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>th(e[r],t[r])):!1}function PI(e,t){if(e===t)return e;const r=FA(e)&&FA(t);if(r||Nw(e)&&Nw(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),s=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<s;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=PI(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return i===s&&u===i?e:l}return t}function FA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nw(e){if(!BA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!BA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function BA(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nq(e){return new Promise(t=>{setTimeout(t,e)})}function Tq(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?PI(e,t):t}function Rq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function $q(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fS=Symbol();function AI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var nl,Ts,Vc,E2,Mq=(E2=class extends by{constructor(){super();ut(this,nl);ut(this,Ts);ut(this,Vc);Ge(this,Vc,t=>{if(!wy&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Ts)||this.setEventListener(ae(this,Vc))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Ts))==null||t.call(this),Ge(this,Ts,void 0))}setEventListener(t){var r;Ge(this,Vc,t),(r=ae(this,Ts))==null||r.call(this),Ge(this,Ts,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,nl)!==t&&(Ge(this,nl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,nl)=="boolean"?ae(this,nl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nl=new WeakMap,Ts=new WeakMap,Vc=new WeakMap,E2),EI=new Mq,Wc,Rs,Hc,k2,Iq=(k2=class extends by{constructor(){super();ut(this,Wc,!0);ut(this,Rs);ut(this,Hc);Ge(this,Hc,t=>{if(!wy&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,Rs)||this.setEventListener(ae(this,Hc))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Rs))==null||t.call(this),Ge(this,Rs,void 0))}setEventListener(t){var r;Ge(this,Hc,t),(r=ae(this,Rs))==null||r.call(this),Ge(this,Rs,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Wc)!==t&&(Ge(this,Wc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Wc)}},Wc=new WeakMap,Rs=new WeakMap,Hc=new WeakMap,k2),vv=new Iq;function Dq(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Lq(e){return Math.min(1e3*2**e,3e4)}function kI(e){return(e??"online")==="online"?vv.isOnline():!0}var OI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _0(e){return e instanceof OI}function NI(e){let t=!1,r=0,n=!1,i;const a=Dq(),s=m=>{var g;n||(h(new OI(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>EI.isFocused()&&(e.networkMode==="always"||vv.isOnline())&&e.canRun(),d=()=>kI(e.networkMode)&&e.canRun(),f=m=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,m),i==null||i(),a.resolve(m))},h=m=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,m),i==null||i(),a.reject(m))},p=()=>new Promise(m=>{var g;i=v=>{(n||u())&&m(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;i=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var S;if(n)return;const x=e.retry??(wy?0:3),b=e.retryDelay??Lq,_=typeof b=="function"?b(r,v):b,w=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!w){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),Nq(_).then(()=>u()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var Fq=e=>setTimeout(e,0);function Bq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=Fq;const a=l=>{t?e.push(l):i(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Qr=Bq(),il,O2,TI=(O2=class{constructor(){ut(this,il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Eq(this.gcTime)&&Ge(this,il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wy?1/0:5*60*1e3))}clearGcTimeout(){ae(this,il)&&(clearTimeout(ae(this,il)),Ge(this,il,void 0))}},il=new WeakMap,O2),qc,al,Zn,sl,Br,Yh,ol,Ei,ka,N2,Uq=(N2=class extends TI{constructor(t){super();ut(this,Ei);ut(this,qc);ut(this,al);ut(this,Zn);ut(this,sl);ut(this,Br);ut(this,Yh);ut(this,ol);Ge(this,ol,!1),Ge(this,Yh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,sl,t.client),Ge(this,Zn,ae(this,sl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,qc,Vq(this.options)),this.state=t.state??ae(this,qc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,Br))==null?void 0:t.promise}setOptions(t){this.options={...ae(this,Yh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Zn).remove(this)}setData(t,r){const n=Tq(this.state.data,t,this.options);return Dr(this,Ei,ka).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Dr(this,Ei,ka).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ae(this,Br))==null?void 0:n.promise;return(i=ae(this,Br))==null||i.cancel(t),r?r.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,qc))}isActive(){return this.observers.some(t=>Oq(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ow(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!kq(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Br))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Br))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Zn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,Br)&&(ae(this,ol)?ae(this,Br).cancel({revert:!0}):ae(this,Br).cancelRetry()),this.scheduleGc()),ae(this,Zn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dr(this,Ei,ka).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Br))return ae(this,Br).continueRetry(),ae(this,Br).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ge(this,ol,!0),n.signal)})},a=()=>{const h=AI(this.options,r),y=(()=>{const m={client:ae(this,sl),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Ge(this,ol,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,sl),state:this.state,fetchFn:a};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Ge(this,al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Dr(this,Ei,ka).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,y,m,g;_0(h)&&h.silent||Dr(this,Ei,ka).call(this,{type:"error",error:h}),_0(h)||((y=(p=ae(this,Zn).config).onError)==null||y.call(p,h,this),(g=(m=ae(this,Zn).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Ge(this,Br,NI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,y,m,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(p=ae(this,Zn).config).onSuccess)==null||y.call(p,h,this),(g=(m=ae(this,Zn).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Dr(this,Ei,ka).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Dr(this,Ei,ka).call(this,{type:"pause"})},onContinue:()=>{Dr(this,Ei,ka).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ae(this,Br).start()}},qc=new WeakMap,al=new WeakMap,Zn=new WeakMap,sl=new WeakMap,Br=new WeakMap,Yh=new WeakMap,ol=new WeakMap,Ei=new WeakSet,ka=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zq(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ge(this,al,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return _0(i)&&i.revert&&ae(this,al)?{...ae(this,al),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Qr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,Zn).notify({query:this,type:"updated",action:t})})},N2);function zq(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vq(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zi,T2,Wq=(T2=class extends by{constructor(t={}){super();ut(this,Zi);this.config=t,Ge(this,Zi,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??dS(i,r);let s=this.get(a);return s||(s=new Uq({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){ae(this,Zi).has(t.queryHash)||(ae(this,Zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,Zi).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,Zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,Zi).get(t)}getAll(){return[...ae(this,Zi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>DA(t,n)):r}notify(t){Qr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zi=new WeakMap,T2),Ji,Gr,ll,ea,xs,R2,Hq=(R2=class extends TI{constructor(t){super();ut(this,ea);ut(this,Ji);ut(this,Gr);ut(this,ll);this.mutationId=t.mutationId,Ge(this,Gr,t.mutationCache),Ge(this,Ji,[]),this.state=t.state||qq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,Ji).includes(t)||(ae(this,Ji).push(t),this.clearGcTimeout(),ae(this,Gr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,Ji,ae(this,Ji).filter(r=>r!==t)),this.scheduleGc(),ae(this,Gr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,Ji).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Gr).remove(this))}continue(){var t;return((t=ae(this,ll))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,l,c,u,d,f,h,p,y,m,g,v,x,b,_,w,S,C,P;const r=()=>{Dr(this,ea,xs).call(this,{type:"continue"})};Ge(this,ll,NI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,k)=>{Dr(this,ea,xs).call(this,{type:"failed",failureCount:E,error:k})},onPause:()=>{Dr(this,ea,xs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Gr).canRun(this)}));const n=this.state.status==="pending",i=!ae(this,ll).canStart();try{if(n)r();else{Dr(this,ea,xs).call(this,{type:"pending",variables:t,isPaused:i}),await((s=(a=ae(this,Gr).config).onMutate)==null?void 0:s.call(a,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&Dr(this,ea,xs).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const E=await ae(this,ll).start();return await((d=(u=ae(this,Gr).config).onSuccess)==null?void 0:d.call(u,E,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,E,t,this.state.context)),await((y=(p=ae(this,Gr).config).onSettled)==null?void 0:y.call(p,E,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,E,null,t,this.state.context)),Dr(this,ea,xs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(v=ae(this,Gr).config).onError)==null?void 0:x.call(v,E,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,E,t,this.state.context)),await((S=(w=ae(this,Gr).config).onSettled)==null?void 0:S.call(w,void 0,E,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,E,t,this.state.context)),E}finally{Dr(this,ea,xs).call(this,{type:"error",error:E})}}finally{ae(this,Gr).runNext(this)}}},Ji=new WeakMap,Gr=new WeakMap,ll=new WeakMap,ea=new WeakSet,xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qr.batch(()=>{ae(this,Ji).forEach(n=>{n.onMutationUpdate(t)}),ae(this,Gr).notify({mutation:this,type:"updated",action:t})})},R2);function qq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $a,ki,Xh,$2,Kq=($2=class extends by{constructor(t={}){super();ut(this,$a);ut(this,ki);ut(this,Xh);this.config=t,Ge(this,$a,new Set),Ge(this,ki,new Map),Ge(this,Xh,0)}build(t,r,n){const i=new Hq({mutationCache:this,mutationId:++Sp(this,Xh)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ae(this,$a).add(t);const r=Kp(t);if(typeof r=="string"){const n=ae(this,ki).get(r);n?n.push(t):ae(this,ki).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,$a).delete(t)){const r=Kp(t);if(typeof r=="string"){const n=ae(this,ki).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ae(this,ki).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kp(t);if(typeof r=="string"){const n=ae(this,ki).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Kp(t);if(typeof r=="string"){const i=(n=ae(this,ki).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qr.batch(()=>{ae(this,$a).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,$a).clear(),ae(this,ki).clear()})}getAll(){return Array.from(ae(this,$a))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>LA(r,n))}findAll(t={}){return this.getAll().filter(r=>LA(t,r))}notify(t){Qr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Qr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Pi))))}},$a=new WeakMap,ki=new WeakMap,Xh=new WeakMap,$2);function Kp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function UA(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=AI(t.options,t.fetchOptions),x=async(b,_,w)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return g(A),A})(),P=await v(C),{maxPages:E}=t.options,k=w?$q:Rq;return{pages:k(b.pages,P,E),pageParams:k(b.pageParams,_,E)}};if(i&&a.length){const b=i==="backward",_=b?Gq:zA,w={pages:a,pageParams:s},S=_(n,w);l=await x(w,S,b)}else{const b=e??a.length;do{const _=c===0?s[0]??n.initialPageParam:zA(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function zA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Gq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gt,$s,Ms,Kc,Gc,Is,Yc,Xc,M2,Yq=(M2=class{constructor(e={}){ut(this,Gt);ut(this,$s);ut(this,Ms);ut(this,Kc);ut(this,Gc);ut(this,Is);ut(this,Yc);ut(this,Xc);Ge(this,Gt,e.queryCache||new Wq),Ge(this,$s,e.mutationCache||new Kq),Ge(this,Ms,e.defaultOptions||{}),Ge(this,Kc,new Map),Ge(this,Gc,new Map),Ge(this,Is,0)}mount(){Sp(this,Is)._++,ae(this,Is)===1&&(Ge(this,Yc,EI.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Gt).onFocus())})),Ge(this,Xc,vv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Gt).onOnline())})))}unmount(){var e,t;Sp(this,Is)._--,ae(this,Is)===0&&((e=ae(this,Yc))==null||e.call(this),Ge(this,Yc,void 0),(t=ae(this,Xc))==null||t.call(this),Ge(this,Xc,void 0))}isFetching(e){return ae(this,Gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,$s).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,Gt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,Gt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ow(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,Gt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ae(this,Gt).get(n.queryHash),a=i==null?void 0:i.state.data,s=Aq(t,a);if(s!==void 0)return ae(this,Gt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Qr.batch(()=>ae(this,Gt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,Gt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,Gt);Qr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,Gt);return Qr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Qr.batch(()=>ae(this,Gt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Pi).catch(Pi)}invalidateQueries(e,t={}){return Qr.batch(()=>(ae(this,Gt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Qr.batch(()=>ae(this,Gt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Pi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Pi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,Gt).build(this,t);return r.isStaleByTime(Ow(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pi).catch(Pi)}fetchInfiniteQuery(e){return e.behavior=UA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pi).catch(Pi)}ensureInfiniteQueryData(e){return e.behavior=UA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vv.isOnline()?ae(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,Gt)}getMutationCache(){return ae(this,$s)}getDefaultOptions(){return ae(this,Ms)}setDefaultOptions(e){Ge(this,Ms,e)}setQueryDefaults(e,t){ae(this,Kc).set(eh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Kc).values()],r={};return t.forEach(n=>{th(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,Gc).set(eh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Gc).values()],r={};return t.forEach(n=>{th(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,Gt).clear(),ae(this,$s).clear()}},Gt=new WeakMap,$s=new WeakMap,Ms=new WeakMap,Kc=new WeakMap,Gc=new WeakMap,Is=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,M2),Xq=j.createContext(void 0),Qq=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Xq.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const VA="popstate";function Zq(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return Tw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gv(i)}return e9(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jq(){return Math.random().toString(36).substr(2,8)}function WA(e,t){return{usr:e.state,key:e.key,idx:t}}function Tw(e,t,r,n){return r===void 0&&(r=null),rh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rd(t):t,{state:r,key:t&&t.key||n||Jq()})}function gv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function e9(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=Fs.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(rh({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Fs.Pop;let g=d(),v=g==null?null:g-u;u=g,c&&c({action:l,location:m.location,delta:v})}function h(g,v){l=Fs.Push;let x=Tw(m.location,g,v);u=d()+1;let b=WA(x,u),_=m.createHref(x);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&c&&c({action:l,location:m.location,delta:1})}function p(g,v){l=Fs.Replace;let x=Tw(m.location,g,v);u=d();let b=WA(x,u),_=m.createHref(x);s.replaceState(b,"",_),a&&c&&c({action:l,location:m.location,delta:0})}function y(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:gv(g);return x=x.replace(/ $/,"%20"),Ht(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return l},get location(){return e(i,s)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(VA,f),c=g,()=>{i.removeEventListener(VA,f),c=null}},createHref(g){return t(i,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(g){return s.go(g)}};return m}var HA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HA||(HA={}));function t9(e,t,r){return r===void 0&&(r="/"),r9(e,t,r,!1)}function r9(e,t,r,n){let i=typeof t=="string"?rd(t):t,a=cu(i.pathname||"/",r);if(a==null)return null;let s=$I(e);n9(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=p9(a);l=f9(s[c],u,n)}return l}function $I(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=eo([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$I(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:u9(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of MI(a.path))i(a,s,c)}),t}function MI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=MI(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function n9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const i9=/^:[\w-]+$/,a9=3,s9=2,o9=1,l9=10,c9=-2,qA=e=>e==="*";function u9(e,t){let r=e.split("/"),n=r.length;return r.some(qA)&&(n+=c9),t&&(n+=s9),r.filter(i=>!qA(i)).reduce((i,a)=>i+(i9.test(a)?a9:a===""?o9:l9),n)}function d9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function f9(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=yv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=yv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:eo([a,f.pathname]),pathnameBase:y9(eo([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=eo([a,f.pathnameBase]))}return s}function yv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=h9(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function h9(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),RI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function p9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function m9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?rd(e):e;return{pathname:r?r.startsWith("/")?r:v9(r,t):t,search:x9(n),hash:b9(i)}}function v9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function S0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hS(e,t){let r=g9(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=rd(e):(i=rh({},e),Ht(!i.pathname||!i.pathname.includes("?"),S0("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),S0("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),S0("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=m9(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const eo=e=>e.join("/").replace(/\/\/+/g,"/"),y9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const II=["post","put","patch","delete"];new Set(II);const j9=["get",...II];new Set(j9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}const jy=j.createContext(null),DI=j.createContext(null),ns=j.createContext(null),_y=j.createContext(null),yo=j.createContext({outlet:null,matches:[],isDataRoute:!1}),LI=j.createContext(null);function _9(e,t){let{relative:r}=t===void 0?{}:t;nd()||Ht(!1);let{basename:n,navigator:i}=j.useContext(ns),{hash:a,pathname:s,search:l}=Sy(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:eo([n,s])),i.createHref({pathname:c,search:l,hash:a})}function nd(){return j.useContext(_y)!=null}function Tl(){return nd()||Ht(!1),j.useContext(_y).location}function FI(e){j.useContext(ns).static||j.useLayoutEffect(e)}function sp(){let{isDataRoute:e}=j.useContext(yo);return e?I9():S9()}function S9(){nd()||Ht(!1);let e=j.useContext(jy),{basename:t,future:r,navigator:n}=j.useContext(ns),{matches:i}=j.useContext(yo),{pathname:a}=Tl(),s=JSON.stringify(hS(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return FI(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=pS(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:eo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}function Sy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(ns),{matches:i}=j.useContext(yo),{pathname:a}=Tl(),s=JSON.stringify(hS(i,n.v7_relativeSplatPath));return j.useMemo(()=>pS(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function C9(e,t){return P9(e,t)}function P9(e,t,r,n){nd()||Ht(!1);let{navigator:i}=j.useContext(ns),{matches:a}=j.useContext(yo),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Tl(),d;if(t){var f;let g=typeof t=="string"?rd(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Ht(!1),d=g}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=t9(e,{pathname:p}),m=N9(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:eo([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:eo([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return t&&m?j.createElement(_y.Provider,{value:{location:nh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fs.Pop}},m):m}function A9(){let e=M9(),t=w9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,null)}const E9=j.createElement(A9,null);class k9 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(yo.Provider,{value:this.props.routeContext},j.createElement(LI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O9(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(jy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(yo.Provider,{value:t},n)}function N9(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ht(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,y=!1,m=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||E9,c&&(u<0&&h===0?(y=!0,g=null):u===h&&(y=!0,g=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),x=()=>{let b;return p?b=m:y?b=g:f.route.Component?b=j.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,j.createElement(O9,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(k9,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var BI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BI||{}),xv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xv||{});function T9(e){let t=j.useContext(jy);return t||Ht(!1),t}function R9(e){let t=j.useContext(DI);return t||Ht(!1),t}function $9(e){let t=j.useContext(yo);return t||Ht(!1),t}function UI(e){let t=$9(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function M9(){var e;let t=j.useContext(LI),r=R9(xv.UseRouteError),n=UI(xv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function I9(){let{router:e}=T9(BI.UseNavigateStable),t=UI(xv.UseNavigateStable),r=j.useRef(!1);return FI(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,nh({fromRouteId:t},a)))},[e,t])}function D9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function KA(e){let{to:t,replace:r,state:n,relative:i}=e;nd()||Ht(!1);let{future:a,static:s}=j.useContext(ns),{matches:l}=j.useContext(yo),{pathname:c}=Tl(),u=sp(),d=pS(t,hS(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Cr(e){Ht(!1)}function L9(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Fs.Pop,navigator:a,static:s=!1,future:l}=e;nd()&&Ht(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:s,future:nh({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof n=="string"&&(n=rd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,m=j.useMemo(()=>{let g=cu(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:y},navigationType:i}},[c,d,f,h,p,y,i]);return m==null?null:j.createElement(ns.Provider,{value:u},j.createElement(_y.Provider,{children:r,value:m}))}function F9(e){let{children:t,location:r}=e;return C9(Rw(t),r)}new Promise(()=>{});function Rw(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){r.push.apply(r,Rw(n.props.children,a));return}n.type!==Cr&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Rw(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function zI(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function B9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U9(e,t){return e.button===0&&(!t||t==="_self")&&!B9(e)}const z9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],W9="6";try{window.__reactRouterVersion=W9}catch{}const H9=j.createContext({isTransitioning:!1}),q9="startTransition",GA=Jj[q9];function K9(e){let{basename:t,children:r,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=Zq({window:i,v5Compat:!0}));let s=a.current,[l,c]=j.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&GA?GA(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>s.listen(d),[s,d]),j.useEffect(()=>D9(n),[n]),j.createElement(L9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const G9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X9=j.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=zI(t,z9),{basename:p}=j.useContext(ns),y,m=!1;if(typeof u=="string"&&Y9.test(u)&&(y=u,G9))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=cu(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:m=!0}catch{}let g=_9(u,{relative:i}),v=Z9(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||v(b)}return j.createElement("a",bv({},h,{href:y||g,onClick:m||a?n:x,ref:r,target:c}))}),Ss=j.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=t,f=zI(t,V9),h=Sy(c,{relative:f.relative}),p=Tl(),y=j.useContext(DI),{navigator:m,basename:g}=j.useContext(ns),v=y!=null&&J9(h)&&u===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=cu(_,g)||_);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!s&&b.startsWith(x)&&b.charAt(w)==="/",C=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),P={isActive:S,isPending:C,isTransitioning:v},E=S?n:void 0,k;typeof a=="function"?k=a(P):k=[a,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(P):l;return j.createElement(X9,bv({},f,{"aria-current":E,className:k,ref:r,style:A,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var $w;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($w||($w={}));var YA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(YA||(YA={}));function Q9(e){let t=j.useContext(jy);return t||Ht(!1),t}function Z9(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l}=t===void 0?{}:t,c=sp(),u=Tl(),d=Sy(e,{relative:s});return j.useCallback(f=>{if(U9(f,r)){f.preventDefault();let h=n!==void 0?n:gv(u)===gv(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,n,i,r,e,a,s,l])}function J9(e,t){t===void 0&&(t={});let r=j.useContext(H9);r==null&&Ht(!1);let{basename:n}=Q9($w.useViewTransitionState),i=Sy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=cu(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=cu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yv(i.pathname,s)!=null||yv(i.pathname,a)!=null}const e7=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],t7=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],r7=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],n7=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function i7(e,t){return e.reduce((r,n)=>{const i=n.devAmortizationYears||5,a=n.launchYear,s=a+i;return t>=a&&t<s?r+n.devCost/i:r},0)}function a7(e,t,r){let n=0,i=0;return e.forEach(a=>{const s=a.volumesByChannel;if(s){const l=a.priceHT||a.priceTTC_B2C/(1+(a.vatRate||.2)),c=a.coef_shop||1.6,u=a.coef_dist||1.3,d=a.coef_oem||1.4,f=l/c/u,h=a.unitCost*d,p=Math.round((s.B2C[t]||0)*(1+r.volumeAdjustment));n+=p*l*(1+r.priceAdjustment),i+=p*a.unitCost;const y=Math.round((s.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),i+=y*a.unitCost;const m=Math.round((s.OEM[t]||0)*(1+r.volumeAdjustment));n+=m*h*(1+r.priceAdjustment),i+=m*a.unitCost}else if(a.volumesByYear[t]){const l=Math.round(a.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*a.priceHT*(1+r.priceAdjustment),i+=l*a.unitCost}}),{revenue:n,cogs:i}}function s7(e,t){let r=0,n=0;return e.forEach(i=>{i.startYear<=t&&(r+=i.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function o7(e,t,r,n,i,a,s="detailed",l){if(s==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+a.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=i*(u.volumeRatio||0);break;case"step":const p=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();p&&(d=p.newAnnualCost);break}d=d*(1+a.opexAdjustment),c+=d}),c}function l7(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function c7(e,t){let r=0;const n={};return e.forEach(i=>{const a=i.devAmortizationYears||5,s=i.launchYear,l=s+a;if(t>=s&&t<l){const c=i.devCost/a;r+=c,n[i.id]=c}else n[i.id]=0}),{total:r,byProduct:n}}function u7(e,t,r){return e.reduce((n,i)=>{if(i.volumesByChannel){const a=Math.round((i.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),s=Math.round((i.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((i.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+a+s+l}return n+Math.round((i.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function d7(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function f7(e,t,r,n,i,a,s,l,c="detailed",u){const d=[];let f=i,h=i,p=i,y=0,m=null,g=0,v=0,x=0;const b=d7(e);for(let C=0;C<s;C++){const P=a+C,E=f,{revenue:k,cogs:A}=a7(e,P,l),{payroll:O,headcount:T}=s7(t,P),$=u7(e,P,l),I=o7(r,P,a,k,$,l,c,u),R=l7(e,P),{total:M,byProduct:D}=c7(e,P);v+=R,x+=M;const L=k-A,V=k>0?L/k:0,J=L-O-I,Y=k>0?J/k:0,F=J-M,ee=A+O+I+R,U=k-ee,z=n.filter(Oe=>Oe.year===P),W=z.reduce((Oe,ze)=>Oe+ze.amount,0);g+=W;const ue=U/4,X={Q1:0,Q2:0,Q3:0,Q4:0};let re=E,q=E;["Q1","Q2","Q3","Q4"].forEach(Oe=>{const ot=z.filter(Kt=>Kt.quarter===Oe).reduce((Kt,Jt)=>Kt+Jt.amount,0);q+=ue+ot,X[Oe]=q,q<re&&(re=q)});const ge=E+U+W;f=ge,re<h&&(h=re);const me=i+d.reduce((Oe,ze)=>Oe+ze.cashFlow,0)+U;me<p&&(p=me),U<0&&Math.abs(U)>y&&(y=Math.abs(U)),m===null&&U>0&&(m=P),d.push({year:P,revenue:k,fundingInjection:W,cogs:A,payroll:O,opex:I,capex:R,grossMargin:L,grossMarginRate:V,ebitda:J,ebitdaMargin:Y,depreciation:M,depreciationByProduct:D,operatingResult:F,totalCosts:ee,cashFlow:U,treasuryStart:E,treasuryEnd:ge,quarterlyTreasury:X,minTreasuryInYear:re,headcount:T})}const _=Math.max(0,-p),w=y/12,S=w>0?Math.floor(i/w):999;return{years:d,initialCash:i,totalFundingRaised:g,fundingNeed:_,minTreasury:h,breakEvenYear:m,maxBurn:y,runway:S,productAmortizations:b,totalCapex:v,totalDepreciation:x}}const h7=["Q1","Q2","Q3","Q4"],Yo=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function XA(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function p7(){return{revenueSeasonality:XA(),cogsSeasonality:XA(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function QA(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,i)=>n+i,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function m7(e,t,r){const n=[],i=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=y7(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<i&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const a=e.startDate.year*12+e.startDate.month,s=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=a;c<s;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=i||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=a;c<s;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=i||(c-a)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((s-a)/12));c++){const u=e.startDate.year+c;u<t||u>=i||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(s<=a)return n;if(e.frequency==="monthly"){const l=s-a;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=a+f,p=Math.floor(h/12),y=h%12;if(p<t||p>=i)continue;const m=d*c,g=u-m;d-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((s-a)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=a+f*3,p=Math.floor(h/12),y=h%12;if(p<t||p>=i)continue;const m=d*c,g=u-m;d-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((s-a)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,p=e.startDate.month;if(h<t||h>=i)continue;const y=d*c,m=u-y;d-=m,n.push({loanId:e.id,loanName:e.name,year:h,month:p,principal:Math.max(0,m),interest:y,total:u,isManuallyModified:!1})}}return n}function v7(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function g7(e,t,r,n,i,a,s=!1){var _,w;const l=[];let c=n,u=n,d=null,f=null,h=0,p=0,y=0,m=0;const g=QA(e.revenueSeasonality),v=QA(e.cogsSeasonality),x=[];e.loans.forEach(S=>{x.push(...m7(S,i,a))});const b=e.capexPayments||[];for(let S=0;S<a;S++){const C=i+S,P=t.annualRevenue[C]||0,E=t.annualCogs[C]||0,k=t.annualPayroll[C]||0,A=t.annualOpex[C]||0,O=P/12,T=E/12,$=k/12,I=A/12;for(let R=0;R<12;R++){const M=R,D=c,L=O*g[R];let V=0;if(!s){const Oe=v7(M);R%3===0&&r.forEach(ot=>{ot.year===C&&ot.quarter===Oe&&(V+=ot.amount,h+=ot.amount)})}const J=`${C}-${M.toString().padStart(2,"0")}`,Y=((_=e.otherInflows[J])==null?void 0:_.amount)||0,F=L+V+Y,ee=T*v[R];let U=0;const z=[];e.variableCharges.forEach(Oe=>{const ze=L*Oe.rateOfRevenue;U+=ze,z.push({name:Oe.name,amount:ze})}),p+=U;const W=x.filter(Oe=>Oe.year===C&&Oe.month===M),ue=W.reduce((Oe,ze)=>Oe+ze.total,0);y+=ue;const X=b.filter(Oe=>Oe.year===C&&Oe.month===M),re=X.reduce((Oe,ze)=>Oe+ze.amount,0);m+=re;const q=((w=e.otherOutflows[J])==null?void 0:w.amount)||0,H=ee+$+I+U+ue+re+q,ge=F-H,me=D+ge;me<u&&(u=me,d={year:C,month:M}),f===null&&ge>0&&l.length>0&&l.slice(-3).some(ze=>ze.netCashFlow<0)&&(f={year:C,month:M}),l.push({year:C,month:M,monthName:Yo[R],revenue:L,fundingInjection:V,otherInflows:Y,totalInflows:F,cogs:ee,payroll:$,opex:I,variableCharges:U,loanPayments:ue,capexPayments:re,otherOutflows:q,totalOutflows:H,treasuryStart:D,netCashFlow:ge,treasuryEnd:me,loanPaymentDetails:W,variableChargeDetails:z,capexPaymentDetails:X}),c=me}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:p,totalLoanPayments:y,totalCapexPayments:m}}function y7(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function mS(e){const t=new Map;return e.forEach((r,n)=>{let i=t.get(r.year);i||(i={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),i.revenue+=r.revenue,i.cogs+=r.cogs,i.payroll+=r.payroll,i.opex+=r.opex,i.variableCharges+=r.variableCharges,i.loanPayments+=r.loanPayments,i.fundingInjection+=r.fundingInjection,i.netCashFlow+=r.netCashFlow,i.treasuryEnd=r.treasuryEnd,t.set(r.year,i)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const $r=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$r.displayName="Card";const ci=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));ci.displayName="CardHeader";const ui=j.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ui.displayName="CardTitle";const ih=j.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));ih.displayName="CardDescription";const Mr=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));Mr.displayName="CardContent";const x7=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));x7.displayName="CardFooter";function Ze({label:e,value:t,subValue:r,trend:n,className:i}){return o.jsx($r,{className:ie("",i),children:o.jsxs(Mr,{className:"pt-4 pb-3",children:[o.jsx("div",{className:"kpi-label mb-1",children:e}),o.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&o.jsx(Qu,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&o.jsx(X_,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function De({title:e,children:t,id:r,className:n,action:i}){return o.jsxs($r,{className:ie("",n),id:r,children:[o.jsxs(ci,{className:"pb-3 flex flex-row items-center justify-between",children:[o.jsx(ui,{className:"text-lg",children:e}),i]}),o.jsx(Mr,{children:t})]})}const je=j.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));je.displayName="Input";function wv(e,[t,r]){return Math.min(r,Math.max(t,e))}var b7=j.createContext(void 0);function op(e){const t=j.useContext(b7);return e||t||"ltr"}function Cy(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VI=["PageUp","PageDown"],WI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HI={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},id="Slider",[Mw,w7,j7]=ly(id),[qI,tOe]=jn(id,[j7]),[_7,Py]=qI(id),KI=j.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,g=j.useRef(new Set),v=j.useRef(0),b=s==="horizontal"?S7:C7,[_=[],w]=yn({prop:d,defaultProp:u,onChange:A=>{var T;(T=[...g.current][v.current])==null||T.focus(),f(A)}}),S=j.useRef(_);function C(A){const O=O7(_,A);k(A,O)}function P(A){k(A,v.current)}function E(){const A=S.current[v.current];_[v.current]!==A&&h(_)}function k(A,O,{commit:T}={commit:!1}){const $=$7(a),I=M7(Math.round((A-n)/a)*a+n,$),R=wv(I,[n,i]);w((M=[])=>{const D=E7(M,R,O);if(R7(D,c*a)){v.current=D.indexOf(R);const L=String(D)!==String(M);return L&&T&&h(D),L?D:M}else return M})}return o.jsx(_7,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:s,form:y,children:o.jsx(Mw.Provider,{scope:e.__scopeSlider,children:o.jsx(Mw.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:we(m.onPointerDown,()=>{l||(S.current=_)}),min:n,max:i,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&k(n,0,{commit:!0}),onEndKeyDown:()=>!l&&k(i,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:O})=>{if(!l){const I=VI.includes(A.key)||A.shiftKey&&WI.includes(A.key)?10:1,R=v.current,M=_[R],D=a*I*O;k(M+D,R,{commit:!0})}}})})})})});KI.displayName=id;var[GI,YI]=qI(id,{startEdge:"left",endEdge:"right",size:"width",direction:1}),S7=j.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=j.useState(null),p=Qe(t,b=>h(b)),y=j.useRef(void 0),m=op(i),g=m==="ltr",v=g&&!a||!g&&a;function x(b){const _=y.current||f.getBoundingClientRect(),w=[0,_.width],C=vS(w,v?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return o.jsx(GI,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(XI,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);s==null||s(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const w=HI[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:w?-1:1})}})})}),C7=j.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=j.useRef(null),f=Qe(t,d),h=j.useRef(void 0),p=!i;function y(m){const g=h.current||d.current.getBoundingClientRect(),v=[0,g.height],b=vS(v,p?[n,r]:[r,n]);return h.current=g,b(m-g.top)}return o.jsx(GI,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(XI,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);a==null||a(g)},onSlideMove:m=>{const g=y(m.clientY);s==null||s(g)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const v=HI[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:v?-1:1})}})})}),XI=j.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Py(id,r);return o.jsx(Re.span,{...u,ref:t,onKeyDown:we(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):VI.concat(WI).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:we(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:we(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:we(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),QI="SliderTrack",ZI=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Py(QI,r);return o.jsx(Re.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});ZI.displayName=QI;var Iw="SliderRange",JI=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Py(Iw,r),a=YI(Iw,r),s=j.useRef(null),l=Qe(t,s),c=i.values.length,u=i.values.map(h=>rD(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Re.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});JI.displayName=Iw;var Dw="SliderThumb",eD=j.forwardRef((e,t)=>{const r=w7(e.__scopeSlider),[n,i]=j.useState(null),a=Qe(t,l=>i(l)),s=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(P7,{...e,ref:a,index:s})}),P7=j.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,s=Py(Dw,r),l=YI(Dw,r),[c,u]=j.useState(null),d=Qe(t,x=>u(x)),f=c?s.form||!!c.closest("form"):!0,h=my(c),p=s.values[n],y=p===void 0?0:rD(p,s.min,s.max),m=k7(n,s.values.length),g=h==null?void 0:h[l.size],v=g?N7(g,y,l.direction):0;return j.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[o.jsx(Mw.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Re.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:we(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),f&&o.jsx(tD,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:p},n)]})});eD.displayName=Dw;var A7="RadioBubbleInput",tD=j.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=j.useRef(null),a=Qe(i,n),s=Cy(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Re.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});tD.displayName=A7;function E7(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function rD(e,t,r){const a=100/(r-t)*(e-t);return wv(a,[0,100])}function k7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function O7(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function N7(e,t,r){const n=e/2,a=vS([0,50],[0,n]);return(n-a(t)*r)*r}function T7(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function R7(e,t){if(t>0){const r=T7(e);return Math.min(...r)>=t}return!0}function vS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $7(e){return(String(e).split(".")[1]||"").length}function M7(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var nD=KI,I7=ZI,D7=JI,L7=eD;const Zr=j.forwardRef(({className:e,...t},r)=>o.jsxs(nD,{ref:r,className:ie("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(I7,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(D7,{className:"absolute h-full bg-primary"})}),o.jsx(L7,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Zr.displayName=nD.displayName;const gS=Yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?Z$:"button";return o.jsx(s,{className:ie(gS({variant:t,size:r,className:e})),ref:a,...i})});ce.displayName="Button";function Q(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function vr(e){return`${(e*100).toFixed(1)}%`}const jv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function _v(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function Lw(e,t){const r=e.marginRates||jv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function F7(e,t){return _v(e,t)-Lw(e,t)}const C0=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function B7({config:e,onChange:t,years:r}){const n=e.marginRates||jv.marginRates,i=e.growthRates||jv.growthRates,a=(p,y,m)=>{t({...e,[p]:{...e[p],[y]:m}})},s=(p,y)=>{t({...e,marginRates:{...n,[p]:y}})},l=(p,y)=>{t({...e,growthRates:{...i,[p]:y}})},c=p=>{const y=r[0],m=e[p][y]||0;if(m<=0)return;const g=i[p],v={...e[p]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),t({...e,[p]:v})},u=()=>{let p={...e};C0.forEach(({key:y})=>{const m=e[y][r[0]]||0;if(m<=0)return;const g=i[y],v={...e[y]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),p={...p,[y]:v}}),t(p)},d=r.reduce((p,y)=>p+_v(e,y),0),f=r.reduce((p,y)=>p+Lw(e,y),0),h=d>0?f/d:0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(De,{title:"Paramtres par Canal",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:C0.map(p=>o.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[o.jsx("div",{className:"font-medium text-sm",children:p.label}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de croissance"}),o.jsxs("span",{className:"font-mono",children:[(i[p.key]*100).toFixed(0),"%"]})]}),o.jsx(Zr,{value:[i[p.key]*100],onValueChange:([y])=>l(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de marge"}),o.jsxs("span",{className:"font-mono",children:[(n[p.key]*100).toFixed(0),"%"]})]}),o.jsx(Zr,{value:[n[p.key]*100],onValueChange:([y])=>s(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs(ce,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(p.key),children:[o.jsx(wA,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},p.key))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(ce,{variant:"default",size:"sm",onClick:u,children:[o.jsx(wA,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),o.jsx(De,{title:"CA Global par Canal",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(p=>o.jsx("th",{className:"text-center py-2 px-3",children:p},p)),o.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),o.jsxs("tbody",{children:[C0.map(p=>o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:[p.label,o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[p.key]*100).toFixed(0),"%)"]})]}),r.map(y=>o.jsx("td",{className:"py-2 px-3 text-center",children:o.jsx(je,{type:"number",value:e[p.key][y]||0,onChange:m=>a(p.key,y,Number(m.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:Q(r.reduce((y,m)=>y+(e[p.key][m]||0),0),!0)})]},p.key)),o.jsxs("tr",{className:"font-semibold border-t",children:[o.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:Q(_v(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:Q(d,!0)})]}),o.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",o.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:Q(Lw(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:Q(f,!0)})]})]})]})})})]})}var ra=function(){return ra=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ra.apply(this,arguments)};function ad(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function U7(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function z7(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const V7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class yS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class W7 extends yS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ZA extends yS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class JA extends yS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fw||(Fw={}));class H7{constructor(t,{headers:r={},customFetch:n,region:i=Fw.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=V7(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return U7(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let g=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(g=s.signal,d.addEventListener("abort",()=>s.abort())):g=s.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:g}).catch(w=>{throw new W7(w)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new ZA(v);if(!v.ok)throw new JA(v);let b=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof JA||l instanceof ZA?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var q7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},K7=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var p;const v=await a.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&g&&g.length>1&&(c=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await a.text();try{s=JSON.parse(m),Array.isArray(s)&&a.status===404&&(l=[],s=null,u=200,d="OK")}catch{a.status===404&&m===""?(u=204,d="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new q7(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},G7=class extends K7{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const eE=new RegExp("[,()]");var rc=class extends G7{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&eE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&eE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Y7=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new rc({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new rc({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new rc({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new rc({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new rc({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},X7=class iD{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Y7(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new rc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class Q7{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z7="2.93.3",J7=`realtime-js/${Z7}`,eK="1.0.0",aD="2.0.0",tE=aD,Bw=1e4,tK=1e3,rK=100;var Cs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cs||(Cs={}));var fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fr||(fr={}));var Ni;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ni||(Ni={}));var Uw;(function(e){e.websocket="websocket"})(Uw||(Uw={}));var Vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vo||(Vo={}));class nK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,l,c]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class sD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const rE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=iK(s,e,t,i),a),{}):{}},iK=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?oD(a,s):zw(s)},oD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lK(t,r)}switch(e){case _t.bool:return aK(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return sK(t);case _t.json:case _t.jsonb:return oK(t);case _t.timestamp:return cK(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return zw(t);default:return zw(t)}},zw=e=>e,aK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},lK=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>oD(t,l))}return e},cK=e=>typeof e=="string"?e.replace(" ","T"):e,lD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class P0{constructor(t,r,n={},i=Bw){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nE||(nE={}));class gf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gf.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=gf.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gf.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),y=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iE||(iE={}));var yf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yf||(yf={}));var Na;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Na||(Na={}));class jc{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new P0(this,Ni.join,this.params,this.timeout),this.rejoinTimer=new sD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ni.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new gf(this),this.broadcastEndpointURL=lD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==fr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[yf.PRESENCE]&&this.bindings[yf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Na.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Na.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Na.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<g;x++){const b=m[x],{filter:{event:_,schema:w,table:S,filter:C}}=b,P=p&&p[x];if(P&&P.event===_&&jc.isFilterValueEqual(P.schema,w)&&jc.isFilterValueEqual(P.table,S)&&jc.isFilterValueEqual(P.filter,C))v.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=fr.errored,t==null||t(Na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Na.SUBSCRIBED);return}}).receive("error",p=>{this.state=fr.errored,t==null||t(Na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===fr.joined&&t===yf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ni.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new P0(this,Ni.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new P0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ni;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var y,m,g,v,x,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===fr.closed}_isJoined(){return this.state===fr.joined}_isJoining(){return this.state===fr.joining}_isLeaving(){return this.state===fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&jc.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ni.close,{},t)}_onError(t){this._on(Ni.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rE(t.columns,t.old_record)),r}}const A0=()=>{},Gp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uK=[1e3,2e3,5e3,1e4],dK=1e4,fK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bw,this.transport=null,this.heartbeatIntervalMs=Gp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=A0,this.ref=0,this.reconnectTimer=null,this.vsn=tE,this.logger=A0,this.conn=null,this.sendBuffer=[],this.serializer=new nK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Uw.websocket}`,this.httpEndpoint=lD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q7.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return Vo.Connecting;case Cs.open:return Vo.Open;case Cs.closing:return Vo.Closing;default:return Vo.Closed}}isConnected(){return this.connectionState()===Vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new jc(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Cs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cs.open||this.conn.readyState===Cs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ni.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:J7};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Ni.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Bw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Gp.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:A0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:tE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>uK[y-1]||dK,this.vsn){case eK:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case aD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ah=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pK(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function mK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=pK(e.baseUrl,n,i),c=await mK(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new ah((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Yp(e){return e.join("")}var gK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`}),!0}catch(t){if(t instanceof ah&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ah&&r.status===409)return;throw r}}};function Fl(e){return e.join("")}var yK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ah&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ah&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},xK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new gK(this.client,t),this.tableOps=new yK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ay=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ey(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xp=class extends Ay{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cD=class extends Ay{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const bK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vw=e=>{if(Array.isArray(e))return e.map(r=>Vw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Vw(n)}),t},jK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function _K(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e){var t=_K(e,"string");return sh(t)=="symbol"?t:t+""}function CK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const sE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PK=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new Xp(sE(s),a,l,n))}).catch(()=>{if(n==="vectors"){const s=a+"";t(new Xp(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";t(new Xp(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";t(new Xp(i.statusText||`HTTP ${a} error`,a,s,n))}}else t(new cD(sE(e),e,n))},AK=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Be(Be({},i),r):(wK(n)?(i.headers=Be({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Be(Be({},i),r))};async function Md(e,t,r,n,i,a,s){return new Promise((l,c)=>{e(r,AK(t,n,i,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>PK(u,c,n,s))})}function uD(e="storage"){return{get:async(t,r,n,i)=>Md(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>Md(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>Md(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>Md(t,"HEAD",r,Be(Be({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>Md(t,"DELETE",r,i,a,n,e)}}const EK=uD("storage"),{get:oh,post:Ai,put:Ww,head:kK,remove:xS}=EK,$n=uD("vectors");var sd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=bK(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ey(r))return{data:null,error:r};throw r}}},OK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ey(t))return{data:null,error:t};throw t}}};let dD;dD=Symbol.toStringTag;var NK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[dD]="BlobDownloadBuilder",this.promise=null}asStream(){return new OK(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ey(t))return{data:null,error:t};throw t}}};const TK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var RK=class extends sd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Be(Be({},oE),n);let l=Be(Be({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Be(Be({},l),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),f=await(e=="PUT"?Ww:Ai)(i.fetch,`${i.url}/object/${d}`,a,Be({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let c;const u=Be({upsert:oE.upsert},n),d=Be(Be({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await Ww(i.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Be({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Ai(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Ay("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ai(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ai(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await Ai(n.fetch,`${n.url}/object/sign/${i}`,Be({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Ai(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Be(Be({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>oh(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new NK(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Vw(await oh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await kK(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ey(n)&&n instanceof cD){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Be(Be(Be({},TK),t),{},{prefix:e||""});return await Ai(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Be({},e);return await Ai(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $K="2.93.3",lp={"X-Client-Info":`storage-js/${$K}`};var MK=class extends sd{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Be(Be({},lp),t);super(a,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await oh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await oh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ai(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Ww(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ai(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},IK=class extends sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Be(Be({},lp),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ai(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await oh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!jK(e))throw new Ay("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xK({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},DK=class extends sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Be(Be({},lp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await $n.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await $n.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},LK=class extends sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Be(Be({},lp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},FK=class extends sd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Be(Be({},lp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $n.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},BK=class extends FK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},UK=class extends DK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new zK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},zK=class extends LK{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Be(Be({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},VK=class extends MK{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new RK(this.url,this.headers,e,this.fetch)}get vectors(){return new BK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IK(this.url+"/iceberg",this.headers,this.fetch)}};const fD="2.93.3",nc=30*1e3,Hw=3,E0=Hw*nc,WK="http://localhost:9999",HK="supabase.auth.token",qK={"X-Client-Info":`gotrue-js/${fD}`},qw="X-Supabase-Api-Version",hD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GK=10*60*1e3;class lh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YK extends lh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function XK(e){return Ne(e)&&e.name==="AuthApiError"}class Wo extends lh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class is extends lh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class An extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k0(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class Bl extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qp extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zp extends is{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QK(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class lE extends is{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZK extends is{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kw extends is{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function O0(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class cE extends is{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gw extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uE=` 	
\r=`.split(""),JK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uE.length;t+=1)e[uE[t].charCodeAt(0)]=-2;for(let t=0;t<Sv.length;t+=1)e[Sv[t].charCodeAt(0)]=t;return e})();function dE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sv[n]),t.queuedBits-=6}}function pD(e,t,r){const n=JK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fE(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{rG(s,n,r)};for(let s=0;s<e.length;s+=1)pD(e.charCodeAt(s),i,a);return t.join("")}function eG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}eG(n,t)}}function rG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ic(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)pD(e.charCodeAt(i),r,n);return new Uint8Array(t)}function nG(e){const t=[];return tG(e,r=>t.push(r)),new Uint8Array(t)}function Xo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>dE(i,r,n)),dE(null,r,n),t.join("")}function iG(e){return Math.round(Date.now()/1e3)+e}function aG(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",No={tested:!1,writable:!1},mD=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(No.tested)return No.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),No.tested=!0,No.writable=!0}catch{No.tested=!0,No.writable=!1}return No.writable};function sG(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const vD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ic=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},To=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sr=async(e,t)=>{await e.removeItem(t)};class ky{constructor(){this.promise=new ky.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ky.promiseConstructor=Promise;function Jp(e){const t=e.split(".");if(t.length!==3)throw new Gw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!KK.test(t[n]))throw new Gw("JWT not in base64url format");return{header:JSON.parse(fE(t[0])),payload:JSON.parse(fE(t[1])),signature:Ic(t[2]),raw:{header:t[0],payload:t[1]}}}async function lG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cG(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function uG(e){return("0"+e.toString(16)).substr(-2)}function dG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,uG).join("")}async function fG(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function hG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await fG(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ul(e,t,r=!1){const n=dG();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ic(e,`${t}-code-verifier`,i);const a=await hG(n);return[a,n===a?"plain":"s256"]}const pG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mG(e){const t=e.headers.get(qw);if(!t||!t.match(pG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zl(e){if(!yG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function N0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xG(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function hE(e){return JSON.parse(JSON.stringify(e))}const Lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bG=[502,503,504];async function pE(e){var t;if(!oG(e))throw new Kw(Lo(e),0);if(bG.includes(e.status))throw new Kw(Lo(e),e.status);let r;try{r=await e.json()}catch(a){throw new Wo(Lo(a),a)}let n;const i=mG(e);if(i&&i.getTime()>=hD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cE(Lo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new An}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new cE(Lo(r),e.status,r.weak_password.reasons);throw new YK(Lo(r),e.status||500,n)}const wG=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Fe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[qw]||(a[qw]=hD["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await jG(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function jG(e,t,r,n,i,a){const s=wG(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Kw(Lo(c),0)}if(l.ok||await pE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pE(c)}}function _i(e){var t;let r=null;CG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mE(e){const t=_i(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _G(e){return{data:e,error:null}}function SG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=ad(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function vE(e){return e}function CG(e){return e.access_token&&e.refresh_token&&e.expires_in}const T0=["global","local","others"];class PG{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=T0[0]){if(T0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${T0.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ad(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Os})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:vE});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zl(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Os})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zl(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zl(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zl(t.userId);try{const{data:r,error:n}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zl(t.userId),zl(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:vE});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function gE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vl={debug:!!(globalThis&&mD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AG extends gD{}async function EG(e,t,r){Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OG(e){return parseInt(e,16)}function NG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function TG(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=yD(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${g}
${v}`}class or extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Cv extends or{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function RG({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new or({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new or({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new or({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new or({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new or({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new or({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new or({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new or({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(xD(s)){if(a.rp.id!==s)return new or({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new or({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $G({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new or({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new or({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(xD(n)){if(r.rpId!==n)return new or({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IG=new MG;function DG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ad(e,["challenge","user","excludeCredentials"]),a=Ic(t).buffer,s=Object.assign(Object.assign({},r),{id:Ic(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ic(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function LG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ad(e,["challenge","allowCredentials"]),i=Ic(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Ic(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function FG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xo(new Uint8Array(i.authenticatorData)),clientDataJSON:Xo(new Uint8Array(i.clientDataJSON)),signature:Xo(new Uint8Array(i.signature)),userHandle:i.userHandle?Xo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yE(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:RG({error:t,options:e})}}}async function zG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:$G({error:t,options:e})}}}const VG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const l=n[a];t(l)?n[a]=Pv(l,s):n[a]=Pv(s)}else n[a]=s}return n}function HG(e,t){return Pv(VG,e,t||{})}function qG(e,t){return Pv(WG,e,t||{})}class KG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=i??IG.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,y=((s=p==null?void 0:p.user_metadata)===null||s===void 0?void 0:s.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=HG(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:h}=await UG({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=qG(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:h}=await zG(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Wo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new lh("rpId is required for WebAuthn authentication")};try{if(!yE())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Ne(s)?{data:null,error:s}:{data:null,error:new Wo("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new lh("rpId is required for WebAuthn registration")};try{if(!yE())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Ne(s)?{data:null,error:s}:{data:null,error:new Wo("Unexpected error in register",s)}}}}kG();const GG={url:WK,storageKey:HK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xE(e,t,r){return await r()}const Wl={};class ch{get jwks(){var t,r;return(r=(t=Wl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},GG),t);if(this.storageKey=a.storageKey,this.instanceID=(r=ch.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ch.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Pr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new PG({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=vD(a.fetch),this.lock=a.lock||xE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Pr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EG:this.lock=xE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:mD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=gE(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pr()&&(r=sG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QK(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new Wo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_i}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ul(this.storage,this.storageKey)),a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:_i})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_i})}else throw new Qp("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await Sr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mE})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mE})}else throw new Qp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Bl;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:x}=t;let b;if(Pr())if(typeof g=="object")b=g;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=yD(w[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const E=await b.request({method:"eth_chainId"});C=OG(E)}const P={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:C,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=TG(P),y=await b.request({method:"personal_sign",params:[NG(p),S]})}try{const{data:m,error:g}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_i});if(g)throw g;if(!m||!m.session||!m.user){const v=new Bl;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Ne(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,s,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:x,options:b}=t;let _;if(Pr())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:v}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xo(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_i});if(v)throw v;if(!g||!g.session||!g.user){const x=new Bl;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ZK;const{data:a,error:s}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_i});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Bl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_i}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Bl;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ul(this.storage,this.storageKey));const{error:f}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Qp("You must provide either an email or phone number.")}catch(l){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:_i});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ul(this.storage,this.storageKey));const u=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:_G});return!((a=u.data)===null||a===void 0)&&a.url&&Pr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new An;const{error:i}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new Qp("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<E0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await To(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=N0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=xG(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Os}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Os})})}catch(r){if(Ne(r))return k0(r)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new An;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ul(this.storage,this.storageKey));const{data:u,error:d}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Os});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new An;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Jp(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new An;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new Zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new Zp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!k0(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(XK(l)&&(l.status===404||l.status===401||l.status===403)||k0(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aG(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ul(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_i}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Bl}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cG(async i=>(i>0&&await lG(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_i})),(i,a)=>{const s=200*Math.pow(2,i);return a&&O0(a)&&Date.now()+s-n<nc})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await To(this.storage,this.storageKey);if(i&&this.userStorage){let s=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await ic(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:N0()}else if(i&&!i.user&&!i.user){const s=await To(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Sr(this.storage,this.storageKey+"-user"),await ic(this.storage,this.storageKey,i)):i.user=N0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<E0;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${E0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),O0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ky;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new An;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ne(a)){const s={data:null,error:a};return O0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ic(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=hE(i);await ic(this.storage,this.storageKey,a)}else{const i=hE(r);await ic(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nc}ms, refresh threshold is ${Hw} ticks`),i<=Hw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ul(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FG(t.webauthn.credential_response):BG(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DG(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LG(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:p}=Jp(t);let y=null;p.aal&&(y=p.aal);let m=y;const{data:{user:g},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const b=p.amr||[];return{data:{currentLevel:y,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if(Ne(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Jp(s.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new An})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new An});const s=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new An});const s=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new An})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new An})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+GK>i)return n;const{data:a,error:s}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Jp(n);r!=null&&r.allowExpired||vG(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=gG(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,nG(`${l}.${c}`)))throw new Gw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}ch.nextInstanceID={};const YG=ch,XG="2.93.3";let rf="";typeof Deno<"u"?rf="deno":typeof document<"u"?rf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rf="react-native":rf="node";const QG={"X-Client-Info":`supabase-js-${rf}/${XG}`},ZG={headers:QG},JG={schema:"public"},eY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tY={};function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function rY(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nY(e){var t=rY(e,"string");return uh(t)=="symbol"?t:t+""}function iY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const aY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sY=()=>Headers,oY=(e,t,r)=>{const n=aY(r),i=sY();return async(a,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Yt(Yt({},s),{},{headers:u}))}};function lY(e){return e.endsWith("/")?e:e+"/"}function cY(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Yt(Yt({},c),i),auth:Yt(Yt({},u),a),realtime:Yt(Yt({},d),s),storage:{},global:Yt(Yt(Yt({},f),l),{},{headers:Yt(Yt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function uY(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lY(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dY=class extends YG{constructor(e){super(e)}},fY=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=uY(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:JG,realtime:tY,auth:Yt(Yt({},eY),{},{storageKey:s}),global:ZG},c=cY(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=oY(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X7(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new VK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new H7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dY({url:this.authUrl.href,headers:Yt(Yt({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hK(this.realtimeUrl.href,Yt(Yt({},e),{},{params:Yt(Yt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hY=(e,t,r)=>new fY(e,t,r);function pY(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}pY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mY="https://twkcoxagbajvopzzinor.supabase.co",vY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",Ce=hY(mY,vY,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),bD=j.createContext(void 0);function gY({children:e}){const[t,r]=j.useState(null),[n,i]=j.useState(!0),[a,s]=j.useState("lecteur"),[l,c]=j.useState({});j.useEffect(()=>{const{data:{subscription:g}}=Ce.auth.onAuthStateChange((v,x)=>{r((x==null?void 0:x.user)??null),i(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return Ce.auth.getSession().then(({data:{session:v}})=>{r((v==null?void 0:v.user)??null),i(!1),v!=null&&v.user&&(u(v.user.id),d())}),()=>g.unsubscribe()},[]);const u=async g=>{try{const{data:v}=await Ce.from("user_roles").select("role").eq("user_id",g).single();v&&s(v.role)}catch{s("lecteur")}},d=async()=>{try{const{data:g}=await Ce.from("tab_permissions").select("*");if(g){const v={};g.forEach(x=>{v[x.role]||(v[x.role]={}),v[x.role][x.tab_key]=x.permission}),c(v)}}catch{}},f=async(g,v)=>{const{error:x}=await Ce.auth.signInWithPassword({email:g,password:v});return{error:x}},h=async(g,v,x)=>{const{error:b}=await Ce.auth.signUp({email:g,password:v,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},p=async()=>{await Ce.auth.signOut(),r(null)},y=a==="admin",m=g=>{if(y)return"write";const v=l[a];return v&&v[g]||"write"};return o.jsx(bD.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:a,signIn:f,signUp:h,signOut:p,getTabPermission:m},children:e})}function Hi(){const e=j.useContext(bD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Yw="novaride_financial_state_v5";function yY(){try{const e=localStorage.getItem(Yw);if(e)return JSON.parse(e)}catch{}return xY()}function xY(){return{products:e7,roles:t7,expenses:r7,fundingRounds:n7,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:jv,opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:p7()}}const wD=j.createContext(void 0);function bY({children:e}){const{user:t}=Hi(),[r,n]=j.useState(yY),[i,a]=j.useState(!1);j.useRef(null),j.useEffect(()=>{!t||i||(async()=>{try{const{data:O}=await Ce.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(O!=null&&O.state_data){const T=O.state_data;n({...T,hasUnsavedChanges:!1}),localStorage.setItem(Yw,JSON.stringify(T))}}catch(O){console.warn("Failed to load from cloud:",O)}finally{a(!0)}})()},[t,i]),j.useCallback(()=>{n(O=>({...O,hasUnsavedChanges:!0}))},[]);const s=j.useCallback(O=>{n(T=>({...T,products:O,hasUnsavedChanges:!0}))},[]),l=j.useCallback(O=>{n(T=>({...T,products:[...T.products,O],hasUnsavedChanges:!0}))},[]),c=j.useCallback(O=>{n(T=>({...T,products:T.products.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),u=j.useCallback(O=>{n(T=>({...T,roles:O,hasUnsavedChanges:!0}))},[]),d=j.useCallback(O=>{n(T=>({...T,roles:[...T.roles,O],hasUnsavedChanges:!0}))},[]),f=j.useCallback(O=>{n(T=>({...T,roles:T.roles.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),h=j.useCallback(O=>{n(T=>({...T,expenses:O,hasUnsavedChanges:!0}))},[]),p=j.useCallback(O=>{n(T=>({...T,expenses:[...T.expenses,O],hasUnsavedChanges:!0}))},[]),y=j.useCallback(O=>{n(T=>({...T,expenses:T.expenses.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),m=j.useCallback(O=>{n(T=>({...T,fundingRounds:O,hasUnsavedChanges:!0}))},[]),g=j.useCallback(O=>{n(T=>({...T,scenarioSettings:{...T.scenarioSettings,...O},hasUnsavedChanges:!0}))},[]),v=j.useCallback(O=>{n(T=>({...T,activeScenarioId:O}))},[]),x=j.useCallback((O,T)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[O]:{...$.scenarioConfigs[O],...T}},hasUnsavedChanges:!0}))},[]),b=j.useCallback(O=>{n(T=>({...T,revenueMode:O,hasUnsavedChanges:!0}))},[]),_=j.useCallback(O=>{n(T=>({...T,globalRevenueConfig:O,hasUnsavedChanges:!0}))},[]),w=j.useCallback(O=>{n(T=>({...T,opexMode:O,hasUnsavedChanges:!0}))},[]),S=j.useCallback(O=>{n(T=>({...T,simpleOpexConfig:{...T.simpleOpexConfig,...O},hasUnsavedChanges:!0}))},[]),C=j.useCallback(O=>{n(T=>({...T,excludeFundingFromTreasury:O,hasUnsavedChanges:!0}))},[]),P=j.useCallback(O=>{n(T=>({...T,historicalData:O,hasUnsavedChanges:!0}))},[]),E=j.useCallback(O=>{n(T=>({...T,monthlyTreasuryConfig:O,hasUnsavedChanges:!0}))},[]),k=j.useCallback(async()=>{try{const O={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(Yw,JSON.stringify(O)),n(O),t){const{hasUnsavedChanges:T,...$}=O;await Ce.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}kr({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{kr({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),A=j.useMemo(()=>{const{products:O,roles:T,expenses:$,fundingRounds:I,scenarioSettings:R,scenarioConfigs:M,activeScenarioId:D,opexMode:L,simpleOpexConfig:V,excludeFundingFromTreasury:J,monthlyTreasuryConfig:Y}=r,{startYear:F,durationYears:ee,initialCash:U}=R,z=M[D],W=Array.from({length:ee},(ne,le)=>F+le),ue=O.reduce((ne,le)=>ne+le.devCost,0),X=W.map(ne=>{if(r.revenueMode==="by-channel-global"){const pe=_v(r.globalRevenueConfig,ne),$e=F7(r.globalRevenueConfig,ne);return{year:ne,revenue:pe,cogs:$e}}let le=0,oe=0;return O.forEach(pe=>{const $e=Math.round((pe.volumesByYear[ne]||0)*(1+z.volumeAdjustment));le+=$e*pe.priceHT*(1+z.priceAdjustment),oe+=$e*pe.unitCost}),{year:ne,revenue:le,cogs:oe}}),re=W.map(ne=>{const le=T.filter(oe=>oe.startYear<=ne);return{year:ne,payroll:le.reduce((oe,pe)=>oe+pe.annualCostLoaded,0),headcount:le.length}}),q=W.map((ne,le)=>{let oe=0;const pe={};return L==="simple"?oe=V.baseAmount*Math.pow(1+V.growthRate,le):$.forEach($e=>{var Kn,Cn;if($e.startYear>ne)return;let tt=$e.baseAnnualCost;const Ir=ne-$e.startYear;if($e.evolutionType==="growth_rate")tt*=Math.pow(1+($e.growthRate||0),Ir);else if($e.evolutionType==="linked_to_revenue")tt=(((Kn=X[le])==null?void 0:Kn.revenue)||0)*($e.revenueRatio||0);else if($e.evolutionType==="step"){const ko=(Cn=$e.steps)==null?void 0:Cn.filter(Sa=>Sa.year<=ne).pop();ko&&(tt=ko.newAnnualCost)}tt*=1+z.opexAdjustment,oe+=tt,pe[$e.category]=(pe[$e.category]||0)+tt}),{year:ne,opex:oe,byCategory:pe}}),H=W.map(ne=>({year:ne,capex:O.filter(le=>le.launchYear===ne).reduce((le,oe)=>le+oe.devCost,0),depreciation:i7(O,ne)})),ge=F,me=T.filter(ne=>ne.startYear<=ge).length,Oe=T.filter(ne=>ne.startYear<=ge).reduce((ne,le)=>ne+le.annualCostLoaded,0),ze=I.map(ne=>({...ne,quarter:ne.quarter||"Q1"})),ot=f7(O,T,$,ze,U,F,ee,z,L,V),Kt={},Jt={},B={},K={};X.forEach(ne=>{Kt[ne.year]=ne.revenue,Jt[ne.year]=ne.cogs}),re.forEach(ne=>{B[ne.year]=ne.payroll}),q.forEach(ne=>{K[ne.year]=ne.opex});const Z=g7(Y,{annualRevenue:Kt,annualCogs:Jt,annualPayroll:B,annualOpex:K},I,U,F,ee,J);return{totalDevCost:ue,revenueByYear:X,payrollByYear:re,opexByYear:q,capexByYear:H,totalHeadcount:me,currentPayroll:Oe,treasuryProjection:ot,monthlyTreasuryProjection:Z}},[r]);return o.jsx(wD.Provider,{value:{state:r,computed:A,updateProducts:s,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:p,removeExpense:y,updateFundingRounds:m,updateScenarioSettings:g,setActiveScenario:v,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,setOpexMode:w,updateSimpleOpexConfig:S,setExcludeFundingFromTreasury:C,updateHistoricalData:P,updateMonthlyTreasuryConfig:E,saveAll:k},children:e})}function wa(){const e=j.useContext(wD);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function Av({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return o.jsx("div",{className:ie("flex items-center gap-2",r),children:o.jsxs("span",{className:ie("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",o.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const wY=[{to:"/home",label:"Accueil",icon:f6,tabKey:"home"},{to:"/",label:"Plan Produit",icon:ip,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:su,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:b6,tabKey:"charges"},{to:"/crm",label:"CRM",icon:x6,tabKey:"crm"},{to:"/costflow",label:"Production et BE",icon:l6,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:K_,tabKey:"timetracking"},{to:"/previsionnel",label:"Prvisionnel",icon:n6,tabKey:"previsionnel"},{to:"/funding",label:"Financement",icon:EM,tabKey:"funding"},{to:"/scenarios",label:"Scnarios",icon:kM,tabKey:"scenarios"},{to:"/valuation",label:"Valorisation",icon:Qu,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:MM,tabKey:"investment-summary"},{to:"/snapshots",label:"Sauvegardes",icon:RM,tabKey:"snapshots"}];function Pn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Hi(),i=sp(),[a,s]=j.useState(!1),l=async()=>{await t(),i("/auth")},c=wY.filter(u=>n(u.tabKey)!=="hidden");return o.jsxs("div",{className:"flex min-h-screen",children:[o.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>s(!a),children:a?o.jsx(oo,{className:"h-5 w-5"}):o.jsx(y6,{className:"h-5 w-5"})}),o.jsxs("aside",{className:ie("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",a?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[o.jsx(Av,{variant:"compact",color:"light"}),o.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),o.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map(u=>{const d=u.icon;return o.jsxs(Ss,{to:u.to,end:u.to==="/",onClick:()=>s(!1),className:({isActive:f})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",f?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(d,{className:"h-4 w-4"}),u.label]},u.to)}),r&&o.jsxs(Ss,{to:"/permissions",onClick:()=>s(!1),className:({isActive:u})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(LM,{className:"h-4 w-4"}),"Administration"]})]}),o.jsx("div",{className:"p-4 border-t border-sidebar-border",children:o.jsxs(ce,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[o.jsx(g6,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),a&&o.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>s(!1)}),o.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function ln({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:i}=Hi();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&i(t)==="hidden"?o.jsx(KA,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(KA,{to:"/auth",replace:!0})}const jY=Yu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...r}){return o.jsx("div",{className:ie(jY({variant:t}),e),...r})}const _Y="/placeholder.svg",SY="/placeholder.svg",CY="/placeholder.svg";function PY(){const e=[{label:"CA 2025",value:"880k",trend:"+35%"},{label:"Marge Brute",value:"70%",trend:null},{label:"Effectif",value:"~10",trend:null},{label:"Leve cible",value:"2M",trend:null}],t=[{icon:Xf,title:"Transmission Haut de Gamme",description:"Spcialisation sur les composants de transmission premium pour vlos (chapes, galets, plateaux, cassettes)"},{icon:u6,title:"Stratgie Multicanal",description:"Distribution B2C, B2B France/International et OEM avec des partenariats stratgiques"},{icon:S6,title:"Innovation & Design",description:"ADN d'ingnierie combinant performance CeramicSpeed, robustesse Hope et modularit Wolf Tooth"}],r=[{year:"2026",items:["B2B France: Diversification rseau","B2B International: 3-4 pays partenaires","B2C: Acclration e-commerce","OEM: 1er contrat pilote"]},{year:"2027",items:["Force de vente ddie","3-4 distributeurs internationaux","Marketplaces US/Asie","2-3 contrats OEM significatifs"]},{year:"2028",items:["Rseau direct consolid","5-6 pays actifs","25-30% CA en B2C global","4-5 contrats OEM rguliers"]}],n=[{brand:"CeramicSpeed",trait:"Performance"},{brand:"Cane Creek",trait:"Ingnierie"},{brand:"Hope",trait:"Robustesse"},{brand:"Wolf Tooth",trait:"Modularit"},{brand:"Garbaruk",trait:"Design CNC"},{brand:"Chris King",trait:"Durabilit"}];return o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("section",{className:"relative h-[60vh] min-h-[500px] overflow-hidden",children:[o.jsx("img",{src:_Y,alt:"Novaride - Performance, Design, Reliability",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-8 md:px-16",children:[o.jsx(Av,{variant:"full",color:"light",className:"mb-6"}),o.jsx("h1",{className:"text-white text-3xl md:text-5xl font-bold max-w-xl leading-tight mb-4",children:"All is in the details."}),o.jsx("p",{className:"text-white/80 text-lg md:text-xl max-w-lg mb-8",children:"Performance, design, reliability and fair price w/ No compromise."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Ss,{to:"/product",children:o.jsxs(ce,{size:"lg",className:"bg-primary hover:bg-primary/90",children:["Explorer le Plan",o.jsx(x0,{className:"ml-2 h-5 w-5"})]})}),o.jsx(Ss,{to:"/investment-summary",children:o.jsx(ce,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:"Synthse Investisseur"})})]})]})]}),o.jsx("section",{className:"bg-sidebar text-sidebar-foreground py-6 px-8",children:o.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-6",children:e.map((i,a)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold font-mono-numbers text-white",children:i.value}),o.jsxs("div",{className:"text-sm text-sidebar-foreground/70 flex items-center justify-center gap-2",children:[i.label,i.trend&&o.jsx(Te,{variant:"secondary",className:"text-xs bg-green-600/20 text-green-400",children:i.trend})]})]},a))})}),o.jsx("section",{className:"py-16 px-8",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx(Te,{variant:"outline",className:"mb-4",children:"Vision"}),o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"La rfrence pour la transmission haut de gamme"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"NOVARIDE combine le meilleur de l'industrie cycliste premium pour crer une gamme de composants de transmission qui rpond aux exigences des cyclistes les plus exigeants."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.map((i,a)=>o.jsxs(Te,{variant:"secondary",className:"text-xs",children:[i.trait," ",o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",i.brand,")"]})]},a))}),o.jsx(Ss,{to:"/valuation",children:o.jsxs(ce,{variant:"outline",children:["Voir la valorisation",o.jsx(x0,{className:"ml-2 h-4 w-4"})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:SY,alt:"Vision Novaride",className:"rounded-lg shadow-2xl"}),o.jsx("div",{className:"absolute -bottom-6 -left-6",children:o.jsx("img",{src:CY,alt:"CCD EVO Product",className:"h-32 w-auto bg-white p-4 rounded-lg shadow-xl"})})]})]})})}),o.jsx("section",{className:"py-16 px-8 bg-muted/30",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(Te,{variant:"outline",className:"mb-4",children:"Stratgie"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Produit & Offre"}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-xl mx-auto",children:"Nous identifions des produits logiques et les adaptons avec notre vision."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((i,a)=>{const s=i.icon;return o.jsx($r,{className:"bg-card hover:shadow-lg transition-shadow",children:o.jsxs(Mr,{className:"pt-6",children:[o.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:o.jsx(s,{className:"h-6 w-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:i.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},a)})})]})}),o.jsx("section",{className:"py-16 px-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(Te,{variant:"outline",className:"mb-4",children:"Roadmap Commerciale"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Plan de Dveloppement 2026-2028"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((i,a)=>o.jsxs($r,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary to-accent"}),o.jsxs(Mr,{className:"pt-6",children:[o.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:i.year}),o.jsx("ul",{className:"space-y-2",children:i.items.map((s,l)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[o.jsx(x0,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),o.jsx("span",{children:s})]},l))})]})]},a))})]})}),o.jsx("section",{className:"py-16 px-8 bg-sidebar text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  explorer le business plan ?"}),o.jsx("p",{className:"text-white/70 mb-8 max-w-xl mx-auto",children:"Accdez  l'ensemble des projections financires, scnarios et valorisation pour accompagner la leve de fonds de NOVARIDE."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx(Ss,{to:"/",children:o.jsxs(ce,{size:"lg",className:"bg-white text-sidebar hover:bg-white/90",children:[o.jsx(ip,{className:"mr-2 h-5 w-5"}),"Plan Produit"]})}),o.jsx(Ss,{to:"/organisation",children:o.jsxs(ce,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[o.jsx(su,{className:"mr-2 h-5 w-5"}),"Organisation"]})}),o.jsx(Ss,{to:"/funding",children:o.jsxs(ce,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[o.jsx(EM,{className:"mr-2 h-5 w-5"}),"Financement"]})})]})]})}),o.jsx("footer",{className:"py-8 px-8 border-t",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Av,{variant:"compact",color:"dark",className:"text-xl"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:" 2025 NOVARIDE - Innovation franaise"})]}),o.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground",children:o.jsx("a",{href:"https://novatoride.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground",children:"Site officiel"})})]})})]})}function as({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return o.jsx("div",{className:ie("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[o.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&o.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function od({onSave:e,hasUnsavedChanges:t}){return o.jsxs(ce,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[o.jsx(DM,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Mt=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ie("w-full caption-bottom text-sm",e),...t})}));Mt.displayName="Table";const It=j.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ie("[&_tr]:border-b",e),...t}));It.displayName="TableHeader";const Dt=j.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ie("[&_tr:last-child]:border-0",e),...t}));Dt.displayName="TableBody";const AY=j.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));AY.displayName="TableFooter";const ye=j.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ye.displayName="TableRow";const se=j.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));se.displayName="TableHead";const G=j.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));G.displayName="TableCell";const EY=j.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));EY.displayName="TableCaption";function kY({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const i=()=>{const a={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(a)};return o.jsxs(De,{title:"Pricing Produits",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Produit"}),o.jsx(se,{className:"text-right",children:"Prix TTC B2C"}),o.jsx(se,{className:"text-right",children:"Prix HT"}),o.jsx(se,{className:"text-right",children:"Cot Unitaire"}),o.jsx(se,{className:"text-right",children:"Marge"}),o.jsx(se,{className:"text-right",children:"Dev Cost"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:e.map(a=>o.jsxs(ye,{children:[o.jsx(G,{children:o.jsx(je,{value:a.name,onChange:s=>t({...a,name:s.target.value}),className:"h-8 w-40"})}),o.jsx(G,{className:"text-right font-mono-numbers",children:o.jsx(je,{type:"number",value:a.priceTTC_B2C,onChange:s=>{const l=Number(s.target.value);t({...a,priceTTC_B2C:l,priceHT:l/(1+a.vatRate)})},className:"h-8 w-24 text-right"})}),o.jsx(G,{className:"text-right font-mono-numbers",children:Q(a.priceHT)}),o.jsx(G,{className:"text-right font-mono-numbers",children:Q(a.unitCost)}),o.jsxs(G,{className:"text-right font-mono-numbers",children:[((1-a.unitCost/a.priceHT)*100).toFixed(0),"%"]}),o.jsx(G,{className:"text-right font-mono-numbers",children:Q(a.devCost,!0)}),o.jsx(G,{children:o.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(a.id),children:o.jsx(_n,{className:"h-4 w-4"})})})]},a.id))})]})}),o.jsxs(ce,{variant:"outline",size:"sm",className:"mt-4",onClick:i,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var OY=Array.isArray,Sn=OY,NY=typeof Cp=="object"&&Cp&&Cp.Object===Object&&Cp,jD=NY,TY=jD,RY=typeof self=="object"&&self&&self.Object===Object&&self,$Y=TY||RY||Function("return this")(),ja=$Y,MY=ja,IY=MY.Symbol,cp=IY,wE=cp,_D=Object.prototype,DY=_D.hasOwnProperty,LY=_D.toString,Id=wE?wE.toStringTag:void 0;function FY(e){var t=DY.call(e,Id),r=e[Id];try{e[Id]=void 0;var n=!0}catch{}var i=LY.call(e);return n&&(t?e[Id]=r:delete e[Id]),i}var BY=FY,UY=Object.prototype,zY=UY.toString;function VY(e){return zY.call(e)}var WY=VY,jE=cp,HY=BY,qY=WY,KY="[object Null]",GY="[object Undefined]",_E=jE?jE.toStringTag:void 0;function YY(e){return e==null?e===void 0?GY:KY:_E&&_E in Object(e)?HY(e):qY(e)}var ss=YY;function XY(e){return e!=null&&typeof e=="object"}var os=XY,QY=ss,ZY=os,JY="[object Symbol]";function eX(e){return typeof e=="symbol"||ZY(e)&&QY(e)==JY}var ld=eX,tX=Sn,rX=ld,nX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iX=/^\w*$/;function aX(e,t){if(tX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rX(e)?!0:iX.test(e)||!nX.test(e)||t!=null&&e in Object(t)}var bS=aX;function sX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xo=sX;const cd=mt(xo);var oX=ss,lX=xo,cX="[object AsyncFunction]",uX="[object Function]",dX="[object GeneratorFunction]",fX="[object Proxy]";function hX(e){if(!lX(e))return!1;var t=oX(e);return t==uX||t==dX||t==cX||t==fX}var wS=hX;const Ie=mt(wS);var pX=ja,mX=pX["__core-js_shared__"],vX=mX,R0=vX,SE=function(){var e=/[^.]+$/.exec(R0&&R0.keys&&R0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gX(e){return!!SE&&SE in e}var yX=gX,xX=Function.prototype,bX=xX.toString;function wX(e){if(e!=null){try{return bX.call(e)}catch{}try{return e+""}catch{}}return""}var SD=wX,jX=wS,_X=yX,SX=xo,CX=SD,PX=/[\\^$.*+?()[\]{}|]/g,AX=/^\[object .+?Constructor\]$/,EX=Function.prototype,kX=Object.prototype,OX=EX.toString,NX=kX.hasOwnProperty,TX=RegExp("^"+OX.call(NX).replace(PX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RX(e){if(!SX(e)||_X(e))return!1;var t=jX(e)?TX:AX;return t.test(CX(e))}var $X=RX;function MX(e,t){return e==null?void 0:e[t]}var IX=MX,DX=$X,LX=IX;function FX(e,t){var r=LX(e,t);return DX(r)?r:void 0}var Rl=FX,BX=Rl,UX=BX(Object,"create"),Oy=UX,CE=Oy;function zX(){this.__data__=CE?CE(null):{},this.size=0}var VX=zX;function WX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HX=WX,qX=Oy,KX="__lodash_hash_undefined__",GX=Object.prototype,YX=GX.hasOwnProperty;function XX(e){var t=this.__data__;if(qX){var r=t[e];return r===KX?void 0:r}return YX.call(t,e)?t[e]:void 0}var QX=XX,ZX=Oy,JX=Object.prototype,eQ=JX.hasOwnProperty;function tQ(e){var t=this.__data__;return ZX?t[e]!==void 0:eQ.call(t,e)}var rQ=tQ,nQ=Oy,iQ="__lodash_hash_undefined__";function aQ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nQ&&t===void 0?iQ:t,this}var sQ=aQ,oQ=VX,lQ=HX,cQ=QX,uQ=rQ,dQ=sQ;function ud(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ud.prototype.clear=oQ;ud.prototype.delete=lQ;ud.prototype.get=cQ;ud.prototype.has=uQ;ud.prototype.set=dQ;var fQ=ud;function hQ(){this.__data__=[],this.size=0}var pQ=hQ;function mQ(e,t){return e===t||e!==e&&t!==t}var jS=mQ,vQ=jS;function gQ(e,t){for(var r=e.length;r--;)if(vQ(e[r][0],t))return r;return-1}var Ny=gQ,yQ=Ny,xQ=Array.prototype,bQ=xQ.splice;function wQ(e){var t=this.__data__,r=yQ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bQ.call(t,r,1),--this.size,!0}var jQ=wQ,_Q=Ny;function SQ(e){var t=this.__data__,r=_Q(t,e);return r<0?void 0:t[r][1]}var CQ=SQ,PQ=Ny;function AQ(e){return PQ(this.__data__,e)>-1}var EQ=AQ,kQ=Ny;function OQ(e,t){var r=this.__data__,n=kQ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var NQ=OQ,TQ=pQ,RQ=jQ,$Q=CQ,MQ=EQ,IQ=NQ;function dd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dd.prototype.clear=TQ;dd.prototype.delete=RQ;dd.prototype.get=$Q;dd.prototype.has=MQ;dd.prototype.set=IQ;var Ty=dd,DQ=Rl,LQ=ja,FQ=DQ(LQ,"Map"),_S=FQ,PE=fQ,BQ=Ty,UQ=_S;function zQ(){this.size=0,this.__data__={hash:new PE,map:new(UQ||BQ),string:new PE}}var VQ=zQ;function WQ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HQ=WQ,qQ=HQ;function KQ(e,t){var r=e.__data__;return qQ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ry=KQ,GQ=Ry;function YQ(e){var t=GQ(this,e).delete(e);return this.size-=t?1:0,t}var XQ=YQ,QQ=Ry;function ZQ(e){return QQ(this,e).get(e)}var JQ=ZQ,eZ=Ry;function tZ(e){return eZ(this,e).has(e)}var rZ=tZ,nZ=Ry;function iZ(e,t){var r=nZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var aZ=iZ,sZ=VQ,oZ=XQ,lZ=JQ,cZ=rZ,uZ=aZ;function fd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fd.prototype.clear=sZ;fd.prototype.delete=oZ;fd.prototype.get=lZ;fd.prototype.has=cZ;fd.prototype.set=uZ;var SS=fd,CD=SS,dZ="Expected a function";function CS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dZ);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(CS.Cache||CD),r}CS.Cache=CD;var PD=CS;const fZ=mt(PD);var hZ=PD,pZ=500;function mZ(e){var t=hZ(e,function(n){return r.size===pZ&&r.clear(),n}),r=t.cache;return t}var vZ=mZ,gZ=vZ,yZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xZ=/\\(\\)?/g,bZ=gZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yZ,function(r,n,i,a){t.push(i?a.replace(xZ,"$1"):n||r)}),t}),wZ=bZ;function jZ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var PS=jZ,AE=cp,_Z=PS,SZ=Sn,CZ=ld,PZ=1/0,EE=AE?AE.prototype:void 0,kE=EE?EE.toString:void 0;function AD(e){if(typeof e=="string")return e;if(SZ(e))return _Z(e,AD)+"";if(CZ(e))return kE?kE.call(e):"";var t=e+"";return t=="0"&&1/e==-PZ?"-0":t}var AZ=AD,EZ=AZ;function kZ(e){return e==null?"":EZ(e)}var ED=kZ,OZ=Sn,NZ=bS,TZ=wZ,RZ=ED;function $Z(e,t){return OZ(e)?e:NZ(e,t)?[e]:TZ(RZ(e))}var kD=$Z,MZ=ld,IZ=1/0;function DZ(e){if(typeof e=="string"||MZ(e))return e;var t=e+"";return t=="0"&&1/e==-IZ?"-0":t}var $y=DZ,LZ=kD,FZ=$y;function BZ(e,t){t=LZ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FZ(t[r++])];return r&&r==n?e:void 0}var AS=BZ,UZ=AS;function zZ(e,t,r){var n=e==null?void 0:UZ(e,t);return n===void 0?r:n}var OD=zZ;const Fn=mt(OD);function VZ(e){return e==null}var WZ=VZ;const Me=mt(WZ);var HZ=ss,qZ=Sn,KZ=os,GZ="[object String]";function YZ(e){return typeof e=="string"||!qZ(e)&&KZ(e)&&HZ(e)==GZ}var XZ=YZ;const bl=mt(XZ);var ND={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=Symbol.for("react.element"),kS=Symbol.for("react.portal"),My=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),Ly=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),QZ=Symbol.for("react.server_context"),By=Symbol.for("react.forward_ref"),Uy=Symbol.for("react.suspense"),zy=Symbol.for("react.suspense_list"),Vy=Symbol.for("react.memo"),Wy=Symbol.for("react.lazy"),ZZ=Symbol.for("react.offscreen"),TD;TD=Symbol.for("react.module.reference");function hi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ES:switch(e=e.type,e){case My:case Dy:case Iy:case Uy:case zy:return e;default:switch(e=e&&e.$$typeof,e){case QZ:case Fy:case By:case Wy:case Vy:case Ly:return e;default:return t}}case kS:return t}}}xt.ContextConsumer=Fy;xt.ContextProvider=Ly;xt.Element=ES;xt.ForwardRef=By;xt.Fragment=My;xt.Lazy=Wy;xt.Memo=Vy;xt.Portal=kS;xt.Profiler=Dy;xt.StrictMode=Iy;xt.Suspense=Uy;xt.SuspenseList=zy;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return hi(e)===Fy};xt.isContextProvider=function(e){return hi(e)===Ly};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ES};xt.isForwardRef=function(e){return hi(e)===By};xt.isFragment=function(e){return hi(e)===My};xt.isLazy=function(e){return hi(e)===Wy};xt.isMemo=function(e){return hi(e)===Vy};xt.isPortal=function(e){return hi(e)===kS};xt.isProfiler=function(e){return hi(e)===Dy};xt.isStrictMode=function(e){return hi(e)===Iy};xt.isSuspense=function(e){return hi(e)===Uy};xt.isSuspenseList=function(e){return hi(e)===zy};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===My||e===Dy||e===Iy||e===Uy||e===zy||e===ZZ||typeof e=="object"&&e!==null&&(e.$$typeof===Wy||e.$$typeof===Vy||e.$$typeof===Ly||e.$$typeof===Fy||e.$$typeof===By||e.$$typeof===TD||e.getModuleId!==void 0)};xt.typeOf=hi;ND.exports=xt;var JZ=ND.exports,eJ=ss,tJ=os,rJ="[object Number]";function nJ(e){return typeof e=="number"||tJ(e)&&eJ(e)==rJ}var RD=nJ;const iJ=mt(RD);var aJ=RD;function sJ(e){return aJ(e)&&e!=+e}var oJ=sJ;const hd=mt(oJ);var Jr=function(t){return t===0?0:t>0?1:-1},Qo=function(t){return bl(t)&&t.indexOf("%")===t.length-1},de=function(t){return iJ(t)&&!hd(t)},lJ=function(t){return Me(t)},gr=function(t){return de(t)||bl(t)},cJ=0,bo=function(t){var r=++cJ;return"".concat(t||"").concat(r)},en=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!bl(t))return n;var a;if(Qo(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return hd(a)&&(a=n),i&&a>r&&(a=r),a},Ns=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uJ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Vt=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ev(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fn(n,t))===r})}var dJ=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,s=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,i+=d,a+=u*d,s+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:l,xmax:c,a:h,b:(i-h*n)/r}},fJ=function(t,r){return de(t)&&de(r)?t-r:bl(t)&&bl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Dc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Xw(e){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xw(e)}var hJ=["viewBox","children"],pJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OE=["points","pathLength"],$0={svg:hJ,polygon:OE,polyline:OE},OS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!cd(n))return null;var i={};return Object.keys(n).forEach(function(a){OS.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},mJ=function(t,r,n){return function(i){return t(r,n,i),null}},uo=function(t,r,n){if(!cd(t)||Xw(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];OS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=mJ(s,r,n))}),i},vJ=["children"],gJ=["children"];function NE(e,t){if(e==null)return{};var r=yJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qw(e){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qw(e)}var TE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},RE=null,M0=null,NS=function e(t){if(t===RE&&Array.isArray(M0))return M0;var r=[];return j.Children.forEach(t,function(n){Me(n)||(JZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),M0=r,RE=t,r};function nn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Va(i)}):n=[Va(t)],NS(e).forEach(function(i){var a=Fn(i,"type.displayName")||Fn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Nn(e,t){var r=nn(e,t);return r&&r[0]}var $E=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!de(n)||n<=0||!de(i)||i<=0)},xJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bJ=function(t){return t&&t.type&&bl(t.type)&&xJ.indexOf(t.type)>=0},$D=function(t){return t&&Qw(t)==="object"&&"clipDot"in t},wJ=function(t,r,n,i){var a,s=(a=$0==null?void 0:$0[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ie(t)&&(i&&s.includes(r)||pJ.includes(r))||n&&OS.includes(r)},Ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!cd(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;wJ((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},Zw=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ME(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!ME(a,s))return!1}return!0},ME=function(t,r){if(Me(t)&&Me(r))return!0;if(!Me(t)&&!Me(r)){var n=t.props||{},i=n.children,a=NE(n,vJ),s=r.props||{},l=s.children,c=NE(s,gJ);return i&&l?Dc(a,c)&&Zw(i,l):!i&&!l?Dc(a,c):!1}return!1},IE=function(t,r){var n=[],i={};return NS(t).forEach(function(a,s){if(bJ(a))n.push(a);else if(a){var l=Va(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);n.push(f),i[l]=!0}}}),n},jJ=function(t){var r=t&&t.type;return r&&TE[r]?TE[r]:null},_J=function(t,r){return NS(r).indexOf(t)},SJ=["children","width","height","viewBox","className","style","title","desc"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function CJ(e,t){if(e==null)return{};var r=PJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e1(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=CJ(e,SJ),d=i||{width:r,height:n,x:0,y:0},f=We("recharts-surface",a);return N.createElement("svg",Jw({},Ae(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),N.createElement("title",null,l),N.createElement("desc",null,c),t)}var AJ=["children","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(this,arguments)}function EJ(e,t){if(e==null)return{};var r=kJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ye=N.forwardRef(function(e,t){var r=e.children,n=e.className,i=EJ(e,AJ),a=We("recharts-layer",n);return N.createElement("g",t1({className:a},Ae(i,!0),{ref:t}),r)}),Bi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function OJ(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var NJ=OJ,TJ=NJ;function RJ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:TJ(e,t,r)}var $J=RJ,MJ="\\ud800-\\udfff",IJ="\\u0300-\\u036f",DJ="\\ufe20-\\ufe2f",LJ="\\u20d0-\\u20ff",FJ=IJ+DJ+LJ,BJ="\\ufe0e\\ufe0f",UJ="\\u200d",zJ=RegExp("["+UJ+MJ+FJ+BJ+"]");function VJ(e){return zJ.test(e)}var MD=VJ;function WJ(e){return e.split("")}var HJ=WJ,ID="\\ud800-\\udfff",qJ="\\u0300-\\u036f",KJ="\\ufe20-\\ufe2f",GJ="\\u20d0-\\u20ff",YJ=qJ+KJ+GJ,XJ="\\ufe0e\\ufe0f",QJ="["+ID+"]",r1="["+YJ+"]",n1="\\ud83c[\\udffb-\\udfff]",ZJ="(?:"+r1+"|"+n1+")",DD="[^"+ID+"]",LD="(?:\\ud83c[\\udde6-\\uddff]){2}",FD="[\\ud800-\\udbff][\\udc00-\\udfff]",JJ="\\u200d",BD=ZJ+"?",UD="["+XJ+"]?",eee="(?:"+JJ+"(?:"+[DD,LD,FD].join("|")+")"+UD+BD+")*",tee=UD+BD+eee,ree="(?:"+[DD+r1+"?",r1,LD,FD,QJ].join("|")+")",nee=RegExp(n1+"(?="+n1+")|"+ree+tee,"g");function iee(e){return e.match(nee)||[]}var aee=iee,see=HJ,oee=MD,lee=aee;function cee(e){return oee(e)?lee(e):see(e)}var uee=cee,dee=$J,fee=MD,hee=uee,pee=ED;function mee(e){return function(t){t=pee(t);var r=fee(t)?hee(t):void 0,n=r?r[0]:t.charAt(0),i=r?dee(r,1).join(""):t.slice(1);return n[e]()+i}}var vee=mee,gee=vee,yee=gee("toUpperCase"),xee=yee;const Hy=mt(xee);function Ct(e){return function(){return e}}const zD=Math.cos,Ov=Math.sin,qi=Math.sqrt,Nv=Math.PI,qy=2*Nv,i1=Math.PI,a1=2*i1,Fo=1e-6,bee=a1-Fo;function VD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VD;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VD:wee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Fo)if(!(Math.abs(f*c-u*d)>Fo)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,y=i-l,m=c*c+u*u,g=p*p+y*y,v=Math.sqrt(m),x=Math.sqrt(h),b=a*Math.tan((i1-Math.acos((m+h-g)/(2*v*x)))/2),_=b/x,w=b/v;Math.abs(_-1)>Fo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-d)>Fo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%a1+a1),h>bee?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fo&&this._append`A${n},${n},0,${+(h>=i1)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function TS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jee(t)}function RS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WD(e){this._context=e}WD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ky(e){return new WD(e)}function HD(e){return e[0]}function qD(e){return e[1]}function KD(e,t){var r=Ct(!0),n=null,i=Ky,a=null,s=TS(l);e=typeof e=="function"?e:e===void 0?HD:Ct(e),t=typeof t=="function"?t:t===void 0?qD:Ct(t);function l(c){var u,d=(c=RS(c)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function em(e,t,r){var n=null,i=Ct(!0),a=null,s=Ky,l=null,c=TS(u);e=typeof e=="function"?e:e===void 0?HD:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qD:Ct(+r);function u(f){var h,p,y,m=(f=RS(f)).length,g,v=!1,x,b=new Array(m),_=new Array(m);for(a==null&&(l=s(x=c())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):b[h],r?+r(g,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return KD().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ct(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ct(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class GD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _ee(e){return new GD(e,!0)}function See(e){return new GD(e,!1)}const $S={draw(e,t){const r=qi(t/Nv);e.moveTo(r,0),e.arc(0,0,r,0,qy)}},Cee={draw(e,t){const r=qi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YD=qi(1/3),Pee=YD*2,Aee={draw(e,t){const r=qi(t/Pee),n=r*YD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Eee={draw(e,t){const r=qi(t),n=-r/2;e.rect(n,n,r,r)}},kee=.8908130915292852,XD=Ov(Nv/10)/Ov(7*Nv/10),Oee=Ov(qy/10)*XD,Nee=-zD(qy/10)*XD,Tee={draw(e,t){const r=qi(t*kee),n=Oee*r,i=Nee*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=qy*a/5,l=zD(s),c=Ov(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},I0=qi(3),Ree={draw(e,t){const r=-qi(t/(I0*3));e.moveTo(0,r*2),e.lineTo(-I0*r,-r),e.lineTo(I0*r,-r),e.closePath()}},Gn=-.5,Yn=qi(3)/2,s1=1/qi(12),$ee=(s1/2+1)*3,Mee={draw(e,t){const r=qi(t/$ee),n=r/2,i=r*s1,a=n,s=r*s1+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Gn*n-Yn*i,Yn*n+Gn*i),e.lineTo(Gn*a-Yn*s,Yn*a+Gn*s),e.lineTo(Gn*l-Yn*c,Yn*l+Gn*c),e.lineTo(Gn*n+Yn*i,Gn*i-Yn*n),e.lineTo(Gn*a+Yn*s,Gn*s-Yn*a),e.lineTo(Gn*l+Yn*c,Gn*c-Yn*l),e.closePath()}};function Iee(e,t){let r=null,n=TS(i);e=typeof e=="function"?e:Ct(e||$S),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Tv(){}function Rv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QD(e){this._context=e}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dee(e){return new QD(e)}function ZD(e){this._context=e}ZD.prototype={areaStart:Tv,areaEnd:Tv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lee(e){return new ZD(e)}function JD(e){this._context=e}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fee(e){return new JD(e)}function e3(e){this._context=e}e3.prototype={areaStart:Tv,areaEnd:Tv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bee(e){return new e3(e)}function DE(e){return e<0?-1:1}function LE(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(DE(a)+DE(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function FE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function D0(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function $v(e){this._context=e}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D0(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,D0(this,FE(this,r=LE(this,e,t)),r);break;default:D0(this,this._t0,r=LE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function t3(e){this._context=new r3(e)}(t3.prototype=Object.create($v.prototype)).point=function(e,t){$v.prototype.point.call(this,t,e)};function r3(e){this._context=e}r3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Uee(e){return new $v(e)}function zee(e){return new t3(e)}function n3(e){this._context=e}n3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=BE(e),i=BE(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function BE(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Vee(e){return new n3(e)}function Gy(e,t){this._context=e,this._t=t}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Wee(e){return new Gy(e,.5)}function Hee(e){return new Gy(e,0)}function qee(e){return new Gy(e,1)}function uu(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function o1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Kee(e,t){return e[t]}function Gee(e){const t=[];return t.key=e,t}function Yee(){var e=Ct([]),t=o1,r=uu,n=Kee;function i(a){var s=Array.from(e.apply(this,arguments),Gee),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=RS(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ct(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?o1:typeof a=="function"?a:Ct(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??uu,i):r},i}function Xee(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}uu(e,t)}}function Qee(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}uu(e,t)}}function Zee(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;p+=g-v}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,uu(e,t)}}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}var Jee=["type","size","sizeType"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ete(e,t,r){return t=tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=rte(e,"string");return dh(t)=="symbol"?t:t+""}function rte(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t){if(e==null)return{};var r=ite(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var i3={symbolCircle:$S,symbolCross:Cee,symbolDiamond:Aee,symbolSquare:Eee,symbolStar:Tee,symbolTriangle:Ree,symbolWye:Mee},ate=Math.PI/180,ste=function(t){var r="symbol".concat(Hy(t));return i3[r]||$S},ote=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ate;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lte=function(t,r){i3["symbol".concat(Hy(t))]=r},Yy=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=nte(t,Jee),u=zE(zE({},c),{},{type:n,size:a,sizeType:l}),d=function(){var g=ste(n),v=Iee().type(g).size(ote(a,l,n));return v()},f=u.className,h=u.cx,p=u.cy,y=Ae(u,!0);return h===+h&&p===+p&&a===+a?N.createElement("path",l1({},y,{className:We("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Yy.registerSymbol=lte;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c1.apply(this,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s3(n.key),n)}}function fte(e,t,r){return t&&dte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,r){return t=Mv(t),pte(e,a3()?Reflect.construct(t,r||[],Mv(e).constructor):t.apply(e,r))}function pte(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mte(e)}function mte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(e)}function vte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u1(e,t)}function u1(e,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(e,t)}function fh(e,t,r){return t=s3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3(e){var t=gte(e,"string");return du(t)=="symbol"?t:t+""}function gte(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xn=32,MS=function(e){function t(){return ute(this,t),hte(this,t,arguments)}return vte(t,e),fte(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Xn/2,s=Xn/6,l=Xn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Xn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Xn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return N.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(n.legendIcon)){var u=cte({},n);return delete u.legendIcon,N.cloneElement(n.legendIcon,u)}return N.createElement(Yy,{fill:c,cx:a,cy:a,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||c,g=We(fh(fh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ie(p.value)?null:p.value;Bi(!Ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return N.createElement("li",c1({className:g,style:f,key:"legend-item-".concat(y)},uo(n.props,p,y)),N.createElement(e1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);fh(MS,"displayName","Legend");fh(MS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yte=Ty;function xte(){this.__data__=new yte,this.size=0}var bte=xte;function wte(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var jte=wte;function _te(e){return this.__data__.get(e)}var Ste=_te;function Cte(e){return this.__data__.has(e)}var Pte=Cte,Ate=Ty,Ete=_S,kte=SS,Ote=200;function Nte(e,t){var r=this.__data__;if(r instanceof Ate){var n=r.__data__;if(!Ete||n.length<Ote-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kte(n)}return r.set(e,t),this.size=r.size,this}var Tte=Nte,Rte=Ty,$te=bte,Mte=jte,Ite=Ste,Dte=Pte,Lte=Tte;function pd(e){var t=this.__data__=new Rte(e);this.size=t.size}pd.prototype.clear=$te;pd.prototype.delete=Mte;pd.prototype.get=Ite;pd.prototype.has=Dte;pd.prototype.set=Lte;var o3=pd,Fte="__lodash_hash_undefined__";function Bte(e){return this.__data__.set(e,Fte),this}var Ute=Bte;function zte(e){return this.__data__.has(e)}var Vte=zte,Wte=SS,Hte=Ute,qte=Vte;function Iv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wte;++t<r;)this.add(e[t])}Iv.prototype.add=Iv.prototype.push=Hte;Iv.prototype.has=qte;var l3=Iv;function Kte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var c3=Kte;function Gte(e,t){return e.has(t)}var u3=Gte,Yte=l3,Xte=c3,Qte=u3,Zte=1,Jte=2;function ere(e,t,r,n,i,a){var s=r&Zte,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Jte?new Yte:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var g=s?n(m,y,f,t,e,a):n(y,m,f,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Xte(t,function(v,x){if(!Qte(p,x)&&(y===v||i(y,v,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(y===m||i(y,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var d3=ere,tre=ja,rre=tre.Uint8Array,nre=rre;function ire(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var are=ire;function sre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var IS=sre,WE=cp,HE=nre,ore=jS,lre=d3,cre=are,ure=IS,dre=1,fre=2,hre="[object Boolean]",pre="[object Date]",mre="[object Error]",vre="[object Map]",gre="[object Number]",yre="[object RegExp]",xre="[object Set]",bre="[object String]",wre="[object Symbol]",jre="[object ArrayBuffer]",_re="[object DataView]",qE=WE?WE.prototype:void 0,L0=qE?qE.valueOf:void 0;function Sre(e,t,r,n,i,a,s){switch(r){case _re:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jre:return!(e.byteLength!=t.byteLength||!a(new HE(e),new HE(t)));case hre:case pre:case gre:return ore(+e,+t);case mre:return e.name==t.name&&e.message==t.message;case yre:case bre:return e==t+"";case vre:var l=cre;case xre:var c=n&dre;if(l||(l=ure),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=fre,s.set(e,t);var d=lre(l(e),l(t),n,i,a,s);return s.delete(e),d;case wre:if(L0)return L0.call(e)==L0.call(t)}return!1}var Cre=Sre;function Pre(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var f3=Pre,Are=f3,Ere=Sn;function kre(e,t,r){var n=t(e);return Ere(e)?n:Are(n,r(e))}var Ore=kre;function Nre(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Tre=Nre;function Rre(){return[]}var $re=Rre,Mre=Tre,Ire=$re,Dre=Object.prototype,Lre=Dre.propertyIsEnumerable,KE=Object.getOwnPropertySymbols,Fre=KE?function(e){return e==null?[]:(e=Object(e),Mre(KE(e),function(t){return Lre.call(e,t)}))}:Ire,Bre=Fre;function Ure(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var zre=Ure,Vre=ss,Wre=os,Hre="[object Arguments]";function qre(e){return Wre(e)&&Vre(e)==Hre}var Kre=qre,GE=Kre,Gre=os,h3=Object.prototype,Yre=h3.hasOwnProperty,Xre=h3.propertyIsEnumerable,Qre=GE(function(){return arguments}())?GE:function(e){return Gre(e)&&Yre.call(e,"callee")&&!Xre.call(e,"callee")},DS=Qre,Dv={exports:{}};function Zre(){return!1}var Jre=Zre;Dv.exports;(function(e,t){var r=ja,n=Jre,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Dv,Dv.exports);var p3=Dv.exports,ene=9007199254740991,tne=/^(?:0|[1-9]\d*)$/;function rne(e,t){var r=typeof e;return t=t??ene,!!t&&(r=="number"||r!="symbol"&&tne.test(e))&&e>-1&&e%1==0&&e<t}var LS=rne,nne=9007199254740991;function ine(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nne}var FS=ine,ane=ss,sne=FS,one=os,lne="[object Arguments]",cne="[object Array]",une="[object Boolean]",dne="[object Date]",fne="[object Error]",hne="[object Function]",pne="[object Map]",mne="[object Number]",vne="[object Object]",gne="[object RegExp]",yne="[object Set]",xne="[object String]",bne="[object WeakMap]",wne="[object ArrayBuffer]",jne="[object DataView]",_ne="[object Float32Array]",Sne="[object Float64Array]",Cne="[object Int8Array]",Pne="[object Int16Array]",Ane="[object Int32Array]",Ene="[object Uint8Array]",kne="[object Uint8ClampedArray]",One="[object Uint16Array]",Nne="[object Uint32Array]",Ot={};Ot[_ne]=Ot[Sne]=Ot[Cne]=Ot[Pne]=Ot[Ane]=Ot[Ene]=Ot[kne]=Ot[One]=Ot[Nne]=!0;Ot[lne]=Ot[cne]=Ot[wne]=Ot[une]=Ot[jne]=Ot[dne]=Ot[fne]=Ot[hne]=Ot[pne]=Ot[mne]=Ot[vne]=Ot[gne]=Ot[yne]=Ot[xne]=Ot[bne]=!1;function Tne(e){return one(e)&&sne(e.length)&&!!Ot[ane(e)]}var Rne=Tne;function $ne(e){return function(t){return e(t)}}var m3=$ne,Lv={exports:{}};Lv.exports;(function(e,t){var r=jD,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Lv,Lv.exports);var Mne=Lv.exports,Ine=Rne,Dne=m3,YE=Mne,XE=YE&&YE.isTypedArray,Lne=XE?Dne(XE):Ine,v3=Lne,Fne=zre,Bne=DS,Une=Sn,zne=p3,Vne=LS,Wne=v3,Hne=Object.prototype,qne=Hne.hasOwnProperty;function Kne(e,t){var r=Une(e),n=!r&&Bne(e),i=!r&&!n&&zne(e),a=!r&&!n&&!i&&Wne(e),s=r||n||i||a,l=s?Fne(e.length,String):[],c=l.length;for(var u in e)(t||qne.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vne(u,c)))&&l.push(u);return l}var Gne=Kne,Yne=Object.prototype;function Xne(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Yne;return e===r}var Qne=Xne;function Zne(e,t){return function(r){return e(t(r))}}var g3=Zne,Jne=g3,eie=Jne(Object.keys,Object),tie=eie,rie=Qne,nie=tie,iie=Object.prototype,aie=iie.hasOwnProperty;function sie(e){if(!rie(e))return nie(e);var t=[];for(var r in Object(e))aie.call(e,r)&&r!="constructor"&&t.push(r);return t}var oie=sie,lie=wS,cie=FS;function uie(e){return e!=null&&cie(e.length)&&!lie(e)}var up=uie,die=Gne,fie=oie,hie=up;function pie(e){return hie(e)?die(e):fie(e)}var Xy=pie,mie=Ore,vie=Bre,gie=Xy;function yie(e){return mie(e,gie,vie)}var xie=yie,QE=xie,bie=1,wie=Object.prototype,jie=wie.hasOwnProperty;function _ie(e,t,r,n,i,a){var s=r&bie,l=QE(e),c=l.length,u=QE(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:jie.call(t,h)))return!1}var p=a.get(e),y=a.get(t);if(p&&y)return p==t&&y==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<c;){h=l[f];var v=e[h],x=t[h];if(n)var b=s?n(x,v,h,t,e,a):n(v,x,h,e,t,a);if(!(b===void 0?v===x||i(v,x,r,n,a):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var Sie=_ie,Cie=Rl,Pie=ja,Aie=Cie(Pie,"DataView"),Eie=Aie,kie=Rl,Oie=ja,Nie=kie(Oie,"Promise"),Tie=Nie,Rie=Rl,$ie=ja,Mie=Rie($ie,"Set"),y3=Mie,Iie=Rl,Die=ja,Lie=Iie(Die,"WeakMap"),Fie=Lie,d1=Eie,f1=_S,h1=Tie,p1=y3,m1=Fie,x3=ss,md=SD,ZE="[object Map]",Bie="[object Object]",JE="[object Promise]",ek="[object Set]",tk="[object WeakMap]",rk="[object DataView]",Uie=md(d1),zie=md(f1),Vie=md(h1),Wie=md(p1),Hie=md(m1),Bo=x3;(d1&&Bo(new d1(new ArrayBuffer(1)))!=rk||f1&&Bo(new f1)!=ZE||h1&&Bo(h1.resolve())!=JE||p1&&Bo(new p1)!=ek||m1&&Bo(new m1)!=tk)&&(Bo=function(e){var t=x3(e),r=t==Bie?e.constructor:void 0,n=r?md(r):"";if(n)switch(n){case Uie:return rk;case zie:return ZE;case Vie:return JE;case Wie:return ek;case Hie:return tk}return t});var qie=Bo,F0=o3,Kie=d3,Gie=Cre,Yie=Sie,nk=qie,ik=Sn,ak=p3,Xie=v3,Qie=1,sk="[object Arguments]",ok="[object Array]",tm="[object Object]",Zie=Object.prototype,lk=Zie.hasOwnProperty;function Jie(e,t,r,n,i,a){var s=ik(e),l=ik(t),c=s?ok:nk(e),u=l?ok:nk(t);c=c==sk?tm:c,u=u==sk?tm:u;var d=c==tm,f=u==tm,h=c==u;if(h&&ak(e)){if(!ak(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new F0),s||Xie(e)?Kie(e,t,r,n,i,a):Gie(e,t,c,r,n,i,a);if(!(r&Qie)){var p=d&&lk.call(e,"__wrapped__"),y=f&&lk.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return a||(a=new F0),i(m,g,r,n,a)}}return h?(a||(a=new F0),Yie(e,t,r,n,i,a)):!1}var eae=Jie,tae=eae,ck=os;function b3(e,t,r,n,i){return e===t?!0:e==null||t==null||!ck(e)&&!ck(t)?e!==e&&t!==t:tae(e,t,r,n,b3,i)}var BS=b3,rae=o3,nae=BS,iae=1,aae=2;function sae(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new rae;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?nae(d,u,iae|aae,n,f):h))return!1}}return!0}var oae=sae,lae=xo;function cae(e){return e===e&&!lae(e)}var w3=cae,uae=w3,dae=Xy;function fae(e){for(var t=dae(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,uae(i)]}return t}var hae=fae;function pae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var j3=pae,mae=oae,vae=hae,gae=j3;function yae(e){var t=vae(e);return t.length==1&&t[0][2]?gae(t[0][0],t[0][1]):function(r){return r===e||mae(r,e,t)}}var xae=yae;function bae(e,t){return e!=null&&t in Object(e)}var wae=bae,jae=kD,_ae=DS,Sae=Sn,Cae=LS,Pae=FS,Aae=$y;function Eae(e,t,r){t=jae(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=Aae(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Pae(i)&&Cae(s,i)&&(Sae(e)||_ae(e)))}var kae=Eae,Oae=wae,Nae=kae;function Tae(e,t){return e!=null&&Nae(e,t,Oae)}var Rae=Tae,$ae=BS,Mae=OD,Iae=Rae,Dae=bS,Lae=w3,Fae=j3,Bae=$y,Uae=1,zae=2;function Vae(e,t){return Dae(e)&&Lae(t)?Fae(Bae(e),t):function(r){var n=Mae(r,e);return n===void 0&&n===t?Iae(r,e):$ae(t,n,Uae|zae)}}var Wae=Vae;function Hae(e){return e}var vd=Hae;function qae(e){return function(t){return t==null?void 0:t[e]}}var Kae=qae,Gae=AS;function Yae(e){return function(t){return Gae(t,e)}}var Xae=Yae,Qae=Kae,Zae=Xae,Jae=bS,ese=$y;function tse(e){return Jae(e)?Qae(ese(e)):Zae(e)}var rse=tse,nse=xae,ise=Wae,ase=vd,sse=Sn,ose=rse;function lse(e){return typeof e=="function"?e:e==null?ase:typeof e=="object"?sse(e)?ise(e[0],e[1]):nse(e):ose(e)}var _a=lse;function cse(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var _3=cse;function use(e){return e!==e}var dse=use;function fse(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var hse=fse,pse=_3,mse=dse,vse=hse;function gse(e,t,r){return t===t?vse(e,t,r):pse(e,mse,r)}var yse=gse,xse=yse;function bse(e,t){var r=e==null?0:e.length;return!!r&&xse(e,t,0)>-1}var wse=bse;function jse(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var _se=jse;function Sse(){}var Cse=Sse,B0=y3,Pse=Cse,Ase=IS,Ese=1/0,kse=B0&&1/Ase(new B0([,-0]))[1]==Ese?function(e){return new B0(e)}:Pse,Ose=kse,Nse=l3,Tse=wse,Rse=_se,$se=u3,Mse=Ose,Ise=IS,Dse=200;function Lse(e,t,r){var n=-1,i=Tse,a=e.length,s=!0,l=[],c=l;if(r)s=!1,i=Rse;else if(a>=Dse){var u=t?null:Mse(e);if(u)return Ise(u);s=!1,i=$se,c=new Nse}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Fse=Lse,Bse=_a,Use=Fse;function zse(e,t){return e&&e.length?Use(e,Bse(t)):[]}var Vse=zse;const uk=mt(Vse);function S3(e,t,r){return t===!0?uk(e,r):Ie(t)?uk(e,t):e}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var Wse=["ref"];function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){Qy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P3(n.key),n)}}function qse(e,t,r){return t&&fk(e.prototype,t),r&&fk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kse(e,t,r){return t=Fv(t),Gse(e,C3()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function Gse(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(e)}function Yse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function Xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v1(e,t)}function Qy(e,t,r){return t=P3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=Qse(e,"string");return fu(t)=="symbol"?t:t+""}function Qse(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zse(e,t){if(e==null)return{};var r=Jse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eoe(e){return e.value}function toe(e,t){if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return N.createElement(e,t);t.ref;var r=Zse(t,Wse);return N.createElement(MS,r)}var hk=1,Nr=function(e){function t(){var r;Hse(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Kse(this,t,[].concat(i)),Qy(r,"lastBoundingBox",{width:-1,height:-1}),r}return Xse(t,e),qse(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hk||Math.abs(i.height-this.lastBoundingBox.height)>hk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Aa(Aa({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Aa(Aa({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return N.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},toe(a,Aa(Aa({},this.props),{},{payload:S3(d,u,eoe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Aa(Aa({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&de(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);Qy(Nr,"displayName","Legend");Qy(Nr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pk=cp,roe=DS,noe=Sn,mk=pk?pk.isConcatSpreadable:void 0;function ioe(e){return noe(e)||roe(e)||!!(mk&&e&&e[mk])}var aoe=ioe,soe=f3,ooe=aoe;function A3(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=ooe),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?A3(l,t-1,r,n,i):soe(i,l):n||(i[i.length]=l)}return i}var E3=A3;function loe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var coe=loe,uoe=coe,doe=uoe(),foe=doe,hoe=foe,poe=Xy;function moe(e,t){return e&&hoe(e,t,poe)}var k3=moe,voe=up;function goe(e,t){return function(r,n){if(r==null)return r;if(!voe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var yoe=goe,xoe=k3,boe=yoe,woe=boe(xoe),US=woe,joe=US,_oe=up;function Soe(e,t){var r=-1,n=_oe(e)?Array(e.length):[];return joe(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var O3=Soe;function Coe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Poe=Coe,vk=ld;function Aoe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=vk(e),s=t!==void 0,l=t===null,c=t===t,u=vk(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!c)return-1}return 0}var Eoe=Aoe,koe=Eoe;function Ooe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var c=koe(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Noe=Ooe,U0=PS,Toe=AS,Roe=_a,$oe=O3,Moe=Poe,Ioe=m3,Doe=Noe,Loe=vd,Foe=Sn;function Boe(e,t,r){t.length?t=U0(t,function(a){return Foe(a)?function(s){return Toe(s,a.length===1?a[0]:a)}:a}):t=[Loe];var n=-1;t=U0(t,Ioe(Roe));var i=$oe(e,function(a,s,l){var c=U0(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Moe(i,function(a,s){return Doe(a,s,r)})}var Uoe=Boe;function zoe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Voe=zoe,Woe=Voe,gk=Math.max;function Hoe(e,t,r){return t=gk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=gk(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),Woe(e,this,l)}}var qoe=Hoe;function Koe(e){return function(){return e}}var Goe=Koe,Yoe=Rl,Xoe=function(){try{var e=Yoe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),N3=Xoe,Qoe=Goe,yk=N3,Zoe=vd,Joe=yk?function(e,t){return yk(e,"toString",{configurable:!0,enumerable:!1,value:Qoe(t),writable:!0})}:Zoe,ele=Joe,tle=800,rle=16,nle=Date.now;function ile(e){var t=0,r=0;return function(){var n=nle(),i=rle-(n-r);if(r=n,i>0){if(++t>=tle)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ale=ile,sle=ele,ole=ale,lle=ole(sle),cle=lle,ule=vd,dle=qoe,fle=cle;function hle(e,t){return fle(dle(e,t,ule),e+"")}var ple=hle,mle=jS,vle=up,gle=LS,yle=xo;function xle(e,t,r){if(!yle(r))return!1;var n=typeof t;return(n=="number"?vle(r)&&gle(t,r.length):n=="string"&&t in r)?mle(r[t],e):!1}var Zy=xle,ble=E3,wle=Uoe,jle=ple,xk=Zy,_le=jle(function(e,t){if(e==null)return[];var r=t.length;return r>1&&xk(e,t[0],t[1])?t=[]:r>2&&xk(t[0],t[1],t[2])&&(t=[t[0]]),wle(e,ble(t,1),[])}),Sle=_le;const zS=mt(Sle);function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function Cle(e,t){return kle(e)||Ele(e,t)||Ale(e,t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(e,t){if(e){if(typeof e=="string")return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ele(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function kle(e){if(Array.isArray(e))return e}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){Ole(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ole(e,t,r){return t=Nle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nle(e){var t=Tle(e,"string");return hh(t)=="symbol"?t:t+""}function Tle(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rle(e){return Array.isArray(e)&&gr(e[0])&&gr(e[1])?e.join(" ~ "):e}var $le=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(d&&d.length){var O={padding:0,margin:0},T=(h?zS(d,h):d).map(function($,I){if($.type==="none")return null;var R=z0({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),M=$.formatter||f||Rle,D=$.value,L=$.name,V=D,J=L;if(M&&V!=null&&J!=null){var Y=M(D,L,$,I,d);if(Array.isArray(Y)){var F=Cle(Y,2);V=F[0],J=F[1]}else V=Y}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},gr(J)?N.createElement("span",{className:"recharts-tooltip-item-name"},J):null,gr(J)?N.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,N.createElement("span",{className:"recharts-tooltip-item-value"},V),N.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},_=z0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=z0({margin:0},u),S=!Me(m),C=S?m:"",P=We("recharts-default-tooltip",p),E=We("recharts-tooltip-label",y);S&&g&&d!==void 0&&d!==null&&(C=g(m,d));var k=x?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",g1({className:P,style:_},k),N.createElement("p",{className:E,style:w},N.isValidElement(C)?C:"".concat(C)),b())};function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function rm(e,t,r){return t=Mle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Ile(e,"string");return ph(t)=="symbol"?t:t+""}function Ile(e,t){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dd="recharts-tooltip-wrapper",Dle={visibility:"hidden"};function Lle(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return We(Dd,rm(rm(rm(rm({},"".concat(Dd,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(Dd,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(Dd,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(Dd,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function jk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&de(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function Fle(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ble(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=jk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=jk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Fle({translateX:d,translateY:f,useTranslate3d:l})):u=Dle,{cssProperties:u,cssClasses:Lle({translateX:d,translateY:f,coordinate:r})}}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){x1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R3(n.key),n)}}function Vle(e,t,r){return t&&zle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wle(e,t,r){return t=Bv(t),Hle(e,T3()?Reflect.construct(t,r||[],Bv(e).constructor):t.apply(e,r))}function Hle(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(e)}function qle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T3=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(e)}function Kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(e,t)}function x1(e,t,r){return t=R3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R3(e){var t=Gle(e,"string");return hu(t)=="symbol"?t:t+""}function Gle(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ck=1,Yle=function(e){function t(){var r;Ule(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wle(this,t,[].concat(i)),x1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),x1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Kle(t,e),Vle(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Ck||Math.abs(n.height-this.state.lastBoundingBox.height)>Ck)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=Ble({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=b.cssClasses,w=b.cssProperties,S=Sk(Sk({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return N.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(P){n.wrapperNode=P}},u)}}])}(j.PureComponent),Xle=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ai={isSsr:Xle(),get:function(t){return ai[t]},set:function(t,r){if(typeof t=="string")ai[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){ai[i]=t[i]})}}};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){VS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M3(n.key),n)}}function Jle(e,t,r){return t&&Zle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ece(e,t,r){return t=Uv(t),tce(e,$3()?Reflect.construct(t,r||[],Uv(e).constructor):t.apply(e,r))}function tce(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(e)}function rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(e)}function nce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b1(e,t)}function VS(e,t,r){return t=M3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3(e){var t=ice(e,"string");return pu(t)=="symbol"?t:t+""}function ice(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ace(e){return e.dataKey}function sce(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement($le,t)}var Tt=function(e){function t(){return Qle(this,t),ece(this,t,arguments)}return nce(t,e),Jle(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=y??[];f&&w.length&&(w=S3(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,ace));var S=w.length>0;return N.createElement(Yle,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},sce(u,Ak(Ak({},this.props),{},{payload:w})))}}])}(j.PureComponent);VS(Tt,"displayName","Tooltip");VS(Tt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oce=ja,lce=function(){return oce.Date.now()},cce=lce,uce=/\s/;function dce(e){for(var t=e.length;t--&&uce.test(e.charAt(t)););return t}var fce=dce,hce=fce,pce=/^\s+/;function mce(e){return e&&e.slice(0,hce(e)+1).replace(pce,"")}var vce=mce,gce=vce,Ek=xo,yce=ld,kk=NaN,xce=/^[-+]0x[0-9a-f]+$/i,bce=/^0b[01]+$/i,wce=/^0o[0-7]+$/i,jce=parseInt;function _ce(e){if(typeof e=="number")return e;if(yce(e))return kk;if(Ek(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ek(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gce(e);var r=bce.test(e);return r||wce.test(e)?jce(e.slice(2),r?2:8):xce.test(e)?kk:+e}var I3=_ce,Sce=xo,V0=cce,Ok=I3,Cce="Expected a function",Pce=Math.max,Ace=Math.min;function Ece(e,t,r){var n,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Cce);t=Ok(t)||0,Sce(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Pce(Ok(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(S){var C=n,P=i;return n=i=void 0,u=S,s=e.apply(P,C),s}function y(S){return u=S,l=setTimeout(v,t),d?p(S):s}function m(S){var C=S-c,P=S-u,E=t-C;return f?Ace(E,a-P):E}function g(S){var C=S-c,P=S-u;return c===void 0||C>=t||C<0||f&&P>=a}function v(){var S=V0();if(g(S))return x(S);l=setTimeout(v,m(S))}function x(S){return l=void 0,h&&n?p(S):(n=i=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function _(){return l===void 0?s:x(V0())}function w(){var S=V0(),C=g(S);if(n=arguments,i=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),s}return w.cancel=b,w.flush=_,w}var kce=Ece,Oce=kce,Nce=xo,Tce="Expected a function";function Rce(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Tce);return Nce(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Oce(e,t,{leading:n,maxWait:t,trailing:i})}var $ce=Rce;const D3=mt($ce);function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){Mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mce(e,t,r){return t=Ice(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=Dce(e,"string");return mh(t)=="symbol"?t:t+""}function Dce(e,t){if(mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lce(e,t){return zce(e)||Uce(e,t)||Bce(e,t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function zce(e){if(Array.isArray(e))return e}var Wr=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,w=j.useRef(null),S=j.useRef();S.current=x,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var C=j.useState({containerWidth:i.width,containerHeight:i.height}),P=Lce(C,2),E=P[0],k=P[1],A=j.useCallback(function(T,$){k(function(I){var R=Math.round(T),M=Math.round($);return I.containerWidth===R&&I.containerHeight===M?I:{containerWidth:R,containerHeight:M}})},[]);j.useEffect(function(){var T=function(L){var V,J=L[0].contentRect,Y=J.width,F=J.height;A(Y,F),(V=S.current)===null||V===void 0||V.call(S,Y,F)};m>0&&(T=D3(T,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(T),I=w.current.getBoundingClientRect(),R=I.width,M=I.height;return A(R,M),$.observe(w.current),function(){$.disconnect()}},[A,m]);var O=j.useMemo(function(){var T=E.containerWidth,$=E.containerHeight;if(T<0||$<0)return null;Bi(Qo(s)||Qo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Qo(s)?T:s,R=Qo(c)?$:c;r&&r>0&&(I?R=I/r:R&&(I=R*r),h&&R>h&&(R=h)),Bi(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,s,c,d,f,r);var M=!Array.isArray(p)&&Va(p.type).endsWith("Chart");return N.Children.map(p,function(D){return N.isValidElement(D)?j.cloneElement(D,nm({width:I,height:R},M?{style:nm({height:"100%",width:"100%",maxHeight:R,maxWidth:I},D.props.style)}:{})):D})},[r,p,c,h,f,d,E,s]);return N.createElement("div",{id:g?"".concat(g):void 0,className:We("recharts-responsive-container",v),style:nm(nm({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),dp=function(t){return null};dp.displayName="Cell";function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vce(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Hce(e,"string");return vh(t)=="symbol"?t:t+""}function Hce(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hl={widthCache:{},cacheCount:0},qce=2e3,Kce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$k="recharts_measurement_span";function Gce(e){var t=w1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ai.isSsr)return{width:0,height:0};var n=Gce(r),i=JSON.stringify({text:t,copyStyle:n});if(Hl.widthCache[i])return Hl.widthCache[i];try{var a=document.getElementById($k);a||(a=document.createElement("span"),a.setAttribute("id",$k),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=w1(w1({},Kce),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Hl.widthCache[i]=c,++Hl.cacheCount>qce&&(Hl.cacheCount=0,Hl.widthCache={}),c}catch{return{width:0,height:0}}},Yce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function zv(e,t){return Jce(e)||Zce(e,t)||Qce(e,t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Jce(e){if(Array.isArray(e))return e}function eue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rue(n.key),n)}}function tue(e,t,r){return t&&Ik(e.prototype,t),r&&Ik(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rue(e){var t=nue(e,"string");return gh(t)=="symbol"?t:t+""}function nue(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sue=Object.keys(L3),_c="NaN";function oue(e,t){return e*L3[t]}var im=function(){function e(t,r){eue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!iue.test(r)&&(this.num=NaN,this.unit=""),sue.includes(r)&&(this.num=oue(t,r),this.unit="px")}return tue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=aue.exec(r))!==null&&n!==void 0?n:[],a=zv(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function F3(e){if(e.includes(_c))return _c;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Dk.exec(t))!==null&&r!==void 0?r:[],i=zv(n,4),a=i[1],s=i[2],l=i[3],c=im.parse(a??""),u=im.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return _c;t=t.replace(Dk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Lk.exec(t))!==null&&f!==void 0?f:[],p=zv(h,4),y=p[1],m=p[2],g=p[3],v=im.parse(y??""),x=im.parse(g??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return _c;t=t.replace(Lk,b.toString())}return t}var Fk=/\(([^()]*)\)/;function lue(e){for(var t=e;t.includes("(");){var r=Fk.exec(t),n=zv(r,2),i=n[1];t=t.replace(Fk,F3(i))}return t}function cue(e){var t=e.replace(/\s+/g,"");return t=lue(t),t=F3(t),t}function uue(e){try{return cue(e)}catch{return _c}}function W0(e){var t=uue(e.slice(5,-1));return t===_c?"":t}var due=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fue=["dx","dy","angle","className","breakAll"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function Bk(e,t){if(e==null)return{};var r=hue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uk(e,t){return gue(e)||vue(e,t)||mue(e,t)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(e,t){if(e){if(typeof e=="string")return zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(e,t)}}function zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function gue(e){if(Array.isArray(e))return e}var B3=/[ \f\n\r\t\v\u2028\u2029]+/,U3=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Me(r)||(n?a=r.toString().split(""):a=r.toString().split(B3));var s=a.map(function(c){return{word:c,width:xf(c,i).width}}),l=n?0:xf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},yue=function(t,r,n,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=de(s),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,M){var D=M.word,L=M.width,V=R[R.length-1];if(V&&(i==null||a||V.width+L+n<Number(i)))V.words.push(D),V.width+=L+n;else{var J={words:[D],width:L};R.push(J)}return R},[])},p=h(r),y=function(I){return I.reduce(function(R,M){return R.width>M.width?R:M})};if(!d)return p;for(var m="",g=function(I){var R=f.slice(0,I),M=U3({breakAll:u,style:c,children:R+m}).wordsWithComputedWidth,D=h(M),L=D.length>s||y(D).width>Number(i);return[L,D]},v=0,x=f.length-1,b=0,_;v<=x&&b<=f.length-1;){var w=Math.floor((v+x)/2),S=w-1,C=g(S),P=Uk(C,2),E=P[0],k=P[1],A=g(w),O=Uk(A,1),T=O[0];if(!E&&!T&&(v=w+1),E&&T&&(x=w-1),!E&&T){_=k;break}b++}return _||p},Vk=function(t){var r=Me(t)?[]:t.toString().split(B3);return[{words:r}]},xue=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!ai.isSsr){var c,u,d=U3({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return Vk(i);return yue({breakAll:s,children:i,maxLines:l,style:a},c,u,r,n)}return Vk(i)},Wk="#808080",wl=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?Wk:g,x=Bk(t,due),b=j.useMemo(function(){return xue({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,w=x.dy,S=x.angle,C=x.className,P=x.breakAll,E=Bk(x,fue);if(!gr(n)||!gr(a))return null;var k=n+(de(_)?_:0),A=a+(de(w)?w:0),O;switch(m){case"start":O=W0("calc(".concat(u,")"));break;case"middle":O=W0("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=W0("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(f){var $=b[0].width,I=x.width;T.push("scale(".concat((de(I)?I/$:1)/$,")"))}return S&&T.push("rotate(".concat(S,", ").concat(k,", ").concat(A,")")),T.length&&(E.transform=T.join(" ")),N.createElement("text",j1({},Ae(E,!0),{x:k,y:A,className:We("recharts-text",C),textAnchor:p,fill:v.includes("url")?Wk:v}),b.map(function(R,M){var D=R.words.join(P?"":" ");return N.createElement("tspan",{x:k,dy:M===0?O:l,key:"".concat(D,"-").concat(M)},D)}))};function to(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WS(e){let t,r,n;e.length!==2?(t=to,r=(l,c)=>to(e(l),c),n=(l,c)=>e(l)-c):(t=e===to||e===bue?e:wue,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function wue(){return 0}function z3(e){return e===null?NaN:+e}function*jue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _ue=WS(to),fp=_ue.right;WS(z3).center;class Hk extends Map{constructor(t,r=Pue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(qk(this,t))}has(t){return super.has(qk(this,t))}set(t,r){return super.set(Sue(this,t),r)}delete(t){return super.delete(Cue(this,t))}}function qk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Sue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Cue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Pue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aue(e=to){if(e===to)return V3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function V3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Eue=Math.sqrt(50),kue=Math.sqrt(10),Oue=Math.sqrt(2);function Vv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Eue?10:a>=kue?5:a>=Oue?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Vv(e,t,r*2):[l,c,u]}function _1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Vv(t,e,r):Vv(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function S1(e,t,r){return t=+t,e=+e,r=+r,Vv(e,t,r)[2]}function C1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?S1(t,e,r):S1(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Kk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function W3(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?V3:Aue(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));W3(e,t,p,y,i)}const a=e[t];let s=r,l=n;for(Ld(e,r,t),i(e[n],a)>0&&Ld(e,r,n);s<l;){for(Ld(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Ld(e,r,l):(++l,Ld(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ld(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Nue(e,t,r){if(e=Float64Array.from(jue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Gk(e);if(t>=1)return Kk(e);var n,i=(n-1)*t,a=Math.floor(i),s=Kk(W3(e,a).subarray(0,a+1)),l=Gk(e.subarray(a+1));return s+(l-s)*(i-a)}}function Tue(e,t,r=z3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function Rue(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function pi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ls(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const P1=Symbol("implicit");function HS(){var e=new Hk,t=[],r=[],n=P1;function i(a){let s=e.get(a);if(s===void 0){if(n!==P1)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Hk;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return HS(t,r).unknown(n)},pi.apply(i,arguments),i}function yh(){var e=HS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,y=p?i:n,m=p?n:i;a=(m-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(m-y-a*(h-c))*d,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var g=Rue(h).map(function(v){return y+a*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return yh(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},pi.apply(f(),arguments)}function H3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H3(t())},e}function bf(){return H3(yh.apply(null,arguments).paddingInner(1))}function qS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hp(){}var xh=.7,Wv=1/xh,Lc="\\s*([+-]?\\d+)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$ue=/^#([0-9a-f]{3,8})$/,Mue=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),Iue=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),Due=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${bh}\\)$`),Lue=new RegExp(`^rgba\\(${pa},${pa},${pa},${bh}\\)$`),Fue=new RegExp(`^hsl\\(${bh},${pa},${pa}\\)$`),Bue=new RegExp(`^hsla\\(${bh},${pa},${pa},${bh}\\)$`),Yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qS(hp,wh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xk,formatHex:Xk,formatHex8:Uue,formatHsl:zue,formatRgb:Qk,toString:Qk});function Xk(){return this.rgb().formatHex()}function Uue(){return this.rgb().formatHex8()}function zue(){return K3(this).formatHsl()}function Qk(){return this.rgb().formatRgb()}function wh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$ue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zk(t):r===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?am(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?am(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mue.exec(e))?new hn(t[1],t[2],t[3],1):(t=Iue.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Due.exec(e))?am(t[1],t[2],t[3],t[4]):(t=Lue.exec(e))?am(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fue.exec(e))?tO(t[1],t[2]/100,t[3]/100,1):(t=Bue.exec(e))?tO(t[1],t[2]/100,t[3]/100,t[4]):Yk.hasOwnProperty(e)?Zk(Yk[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function Zk(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function am(e,t,r,n){return n<=0&&(e=t=r=NaN),new hn(e,t,r,n)}function Vue(e){return e instanceof hp||(e=wh(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function A1(e,t,r,n){return arguments.length===1?Vue(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qS(hn,A1,q3(hp,{brighter(e){return e=e==null?Wv:Math.pow(Wv,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xh:Math.pow(xh,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(dl(this.r),dl(this.g),dl(this.b),Hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jk,formatHex:Jk,formatHex8:Wue,formatRgb:eO,toString:eO}));function Jk(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function Wue(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function eO(){const e=Hv(this.opacity);return`${e===1?"rgb(":"rgba("}${dl(this.r)}, ${dl(this.g)}, ${dl(this.b)}${e===1?")":`, ${e})`}`}function Hv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zo(e){return e=dl(e),(e<16?"0":"")+e.toString(16)}function tO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mi(e,t,r,n)}function K3(e){if(e instanceof Mi)return new Mi(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=wh(e)),!e)return new Mi;if(e instanceof Mi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Mi(s,l,c,e.opacity)}function Hue(e,t,r,n){return arguments.length===1?K3(e):new Mi(e,t,r,n??1)}function Mi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qS(Mi,Hue,q3(hp,{brighter(e){return e=e==null?Wv:Math.pow(Wv,e),new Mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xh:Math.pow(xh,e),new Mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new hn(H0(e>=240?e-240:e+120,i,n),H0(e,i,n),H0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Mi(rO(this.h),sm(this.s),sm(this.l),Hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hv(this.opacity);return`${e===1?"hsl(":"hsla("}${rO(this.h)}, ${sm(this.s)*100}%, ${sm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rO(e){return e=(e||0)%360,e<0?e+360:e}function sm(e){return Math.max(0,Math.min(1,e||0))}function H0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KS=e=>()=>e;function que(e,t){return function(r){return e+r*t}}function Kue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Gue(e){return(e=+e)==1?G3:function(t,r){return r-t?Kue(t,r,e):KS(isNaN(t)?r:t)}}function G3(e,t){var r=t-e;return r?que(e,r):KS(isNaN(e)?t:e)}const nO=function e(t){var r=Gue(t);function n(i,a){var s=r((i=A1(i)).r,(a=A1(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=G3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Yue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Xue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Que(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=gd(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Zue(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jue(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=gd(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var E1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q0=new RegExp(E1.source,"g");function ede(e){return function(){return e}}function tde(e){return function(t){return e(t)+""}}function rde(e,t){var r=E1.lastIndex=q0.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=E1.exec(e))&&(i=q0.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:qv(n,i)})),r=q0.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?tde(c[0].x):ede(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gd(e,t){var r=typeof t,n;return t==null||r==="boolean"?KS(t):(r==="number"?qv:r==="string"?(n=wh(t))?(t=n,nO):rde:t instanceof wh?nO:t instanceof Date?Zue:Xue(t)?Yue:Array.isArray(t)?Que:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jue:qv)(e,t)}function GS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nde(e,t){t===void 0&&(t=e,e=gd);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function ide(e){return function(){return e}}function Kv(e){return+e}var iO=[0,1];function tn(e){return e}function k1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ide(isNaN(t)?NaN:.5)}function ade(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sde(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=k1(i,n),a=r(s,a)):(n=k1(n,i),a=r(a,s)),function(l){return a(n(l))}}function ode(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=k1(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=fp(e,l,1,n)-1;return a[c](i[c](l))}}function pp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jy(){var e=iO,t=iO,r=gd,n,i,a,s=tn,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==tn&&(s=ade(e[0],e[h-1])),l=h>2?ode:sde,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),qv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Kv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=GS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:tn,d()):s!==tn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function YS(){return Jy()(tn,tn)}function lde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mu(e){return e=Gv(Math.abs(e)),e?e[1]:NaN}function cde(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ude(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jh(e){if(!(t=dde.exec(e)))throw new Error("invalid format: "+e);var t;return new XS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jh.prototype=XS.prototype;function XS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Y3;function hde(e,t){var r=Gv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Y3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Gv(e,Math.max(0,t+a-1))[0]}function aO(e,t){var r=Gv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const sO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aO(e*100,t),r:aO,s:hde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oO(e){return e}var lO=Array.prototype.map,cO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pde(e){var t=e.grouping===void 0||e.thousands===void 0?oO:cde(lO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oO:ude(lO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=jh(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,g=f.zero,v=f.width,x=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(x=!0,w="g"):sO[w]||(b===void 0&&(b=12),_=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C=m==="$"?n:/[%p]/.test(w)?s:"",P=sO[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(A){var O=S,T=C,$,I,R;if(w==="c")T=P(A)+T,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:P(Math.abs(A),b),_&&(A=fde(A)),M&&+A==0&&y!=="+"&&(M=!1),O=(M?y==="("?y:l:y==="-"||y==="("?"":y)+O,T=(w==="s"?cO[8+Y3/3]:"")+T+(M&&y==="("?")":""),E){for($=-1,I=A.length;++$<I;)if(R=A.charCodeAt($),48>R||R>57){T=(R===46?i+A.slice($+1):A.slice($))+T,A=A.slice(0,$);break}}}x&&!g&&(A=t(A,1/0));var D=O.length+A.length+T.length,L=D<v?new Array(v-D+1).join(h):"";switch(x&&g&&(A=t(L+A,L.length?v-T.length:1/0),L=""),p){case"<":A=O+A+T+L;break;case"=":A=O+L+A+T;break;case"^":A=L.slice(0,D=L.length>>1)+O+A+T+L.slice(D);break;default:A=L+O+A+T;break}return a(A)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=jh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(mu(h)/3)))*3,m=Math.pow(10,-y),g=cO[8+y/3];return function(v){return p(m*v)+g}}return{format:u,formatPrefix:d}}var om,QS,X3;mde({thousands:",",grouping:[3],currency:["$",""]});function mde(e){return om=pde(e),QS=om.format,X3=om.formatPrefix,om}function vde(e){return Math.max(0,-mu(Math.abs(e)))}function gde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mu(t)/3)))*3-mu(Math.abs(e)))}function yde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mu(t)-mu(e))+1}function Q3(e,t,r,n){var i=C1(e,t,r),a;switch(n=jh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=gde(i,s))&&(n.precision=a),X3(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=vde(i))&&(n.precision=a-(n.type==="%")*2);break}}return QS(n)}function wo(e){var t=e.domain;return e.ticks=function(r){var n=t();return _1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Q3(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=S1(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Yv(){var e=YS();return e.copy=function(){return pp(e,Yv())},pi.apply(e,arguments),wo(e)}function Z3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Z3(e).unknown(t)},e=arguments.length?Array.from(e,Kv):[0,1],wo(r)}function J3(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function uO(e){return Math.log(e)}function dO(e){return Math.exp(e)}function xde(e){return-Math.log(-e)}function bde(e){return-Math.exp(-e)}function wde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jde(e){return e===10?wde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _de(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fO(e){return(t,r)=>-e(-t,r)}function ZS(e){const t=e(uO,dO),r=t.domain;let n=10,i,a;function s(){return i=_de(n),a=jde(n),r()[0]<0?(i=fO(i),a=fO(a),e(xde,bde)):e(uO,dO),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),y,m;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/a(-h):y*a(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/a(-h):y*a(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<g&&(v=_1(u,d,g))}else v=_1(h,p,Math.min(p-h,g)).map(a);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jh(c)).precision==null&&(c.trim=!0),c=QS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(J3(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function eL(){const e=ZS(Jy()).domain([1,10]);return e.copy=()=>pp(e,eL()).base(e.base()),pi.apply(e,arguments),e}function hO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JS(e){var t=1,r=e(hO(t),pO(t));return r.constant=function(n){return arguments.length?e(hO(t=+n),pO(t)):t},wo(r)}function tL(){var e=JS(Jy());return e.copy=function(){return pp(e,tL()).constant(e.constant())},pi.apply(e,arguments)}function mO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cde(e){return e<0?-e*e:e*e}function eC(e){var t=e(tn,tn),r=1;function n(){return r===1?e(tn,tn):r===.5?e(Sde,Cde):e(mO(r),mO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},wo(t)}function tC(){var e=eC(Jy());return e.copy=function(){return pp(e,tC()).exponent(e.exponent())},pi.apply(e,arguments),e}function Pde(){return tC.apply(null,arguments).exponent(.5)}function vO(e){return Math.sign(e)*e*e}function Ade(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rL(){var e=YS(),t=[0,1],r=!1,n;function i(a){var s=Ade(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(vO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Kv)).map(vO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pi.apply(i,arguments),wo(i)}function nL(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Tue(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[fp(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(to),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return nL().domain(e).range(t).unknown(n)},pi.apply(a,arguments)}function iL(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[fp(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return iL().domain([e,t]).range(i).unknown(a)},pi.apply(wo(s),arguments)}function aL(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[fp(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aL().domain(e).range(t).unknown(r)},pi.apply(i,arguments)}const K0=new Date,G0=new Date;function yr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>yr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(K0.setTime(+a),G0.setTime(+s),e(K0),e(G0),Math.floor(r(K0,G0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Xv=yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xv);Xv.range;const La=1e3,ni=La*60,Fa=ni*60,Qa=Fa*24,rC=Qa*7,gO=Qa*30,Y0=Qa*365,Jo=yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCSeconds());Jo.range;const nC=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getMinutes());nC.range;const iC=yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCMinutes());iC.range;const aC=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La-e.getMinutes()*ni)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getHours());aC.range;const sC=yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCHours());sC.range;const mp=yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ni)/Qa,e=>e.getDate()-1);mp.range;const ex=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>e.getUTCDate()-1);ex.range;const sL=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>Math.floor(e/Qa));sL.range;function $l(e){return yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ni)/rC)}const tx=$l(0),Qv=$l(1),Ede=$l(2),kde=$l(3),vu=$l(4),Ode=$l(5),Nde=$l(6);tx.range;Qv.range;Ede.range;kde.range;vu.range;Ode.range;Nde.range;function Ml(e){return yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rC)}const rx=Ml(0),Zv=Ml(1),Tde=Ml(2),Rde=Ml(3),gu=Ml(4),$de=Ml(5),Mde=Ml(6);rx.range;Zv.range;Tde.range;Rde.range;gu.range;$de.range;Mde.range;const oC=yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oC.range;const lC=yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lC.range;const Za=yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Za.range;const Ja=yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ja.range;function oL(e,t,r,n,i,a){const s=[[Jo,1,La],[Jo,5,5*La],[Jo,15,15*La],[Jo,30,30*La],[a,1,ni],[a,5,5*ni],[a,15,15*ni],[a,30,30*ni],[i,1,Fa],[i,3,3*Fa],[i,6,6*Fa],[i,12,12*Fa],[n,1,Qa],[n,2,2*Qa],[r,1,rC],[t,1,gO],[t,3,3*gO],[e,1,Y0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=WS(([,,g])=>g).right(s,h);if(p===s.length)return e.every(C1(u/Y0,d/Y0,f));if(p===0)return Xv.every(Math.max(C1(u,d,f),1));const[y,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[Ide,Dde]=oL(Ja,lC,rx,sL,sC,iC),[Lde,Fde]=oL(Za,oC,tx,mp,aC,nC);function X0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Q0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bde(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Bd(i),d=Ud(i),f=Bd(a),h=Ud(a),p=Bd(s),y=Ud(s),m=Bd(l),g=Ud(l),v=Bd(c),x=Ud(c),b={a:M,A:D,b:L,B:V,c:null,d:_O,e:_O,f:cfe,g:xfe,G:wfe,H:sfe,I:ofe,j:lfe,L:lL,m:ufe,M:dfe,p:J,q:Y,Q:PO,s:AO,S:ffe,u:hfe,U:pfe,V:mfe,w:vfe,W:gfe,x:null,X:null,y:yfe,Y:bfe,Z:jfe,"%":CO},_={a:F,A:ee,b:U,B:z,c:null,d:SO,e:SO,f:Pfe,g:Ife,G:Lfe,H:_fe,I:Sfe,j:Cfe,L:uL,m:Afe,M:Efe,p:W,q:ue,Q:PO,s:AO,S:kfe,u:Ofe,U:Nfe,V:Tfe,w:Rfe,W:$fe,x:null,X:null,y:Mfe,Y:Dfe,Z:Ffe,"%":CO},w={a:k,A,b:O,B:T,c:$,d:wO,e:wO,f:rfe,g:bO,G:xO,H:jO,I:jO,j:Zde,L:tfe,m:Qde,M:Jde,p:E,q:Xde,Q:ife,s:afe,S:efe,u:Hde,U:qde,V:Kde,w:Wde,W:Gde,x:I,X:R,y:bO,Y:xO,Z:Yde,"%":nfe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(X,re){return function(q){var H=[],ge=-1,me=0,Oe=X.length,ze,ot,Kt;for(q instanceof Date||(q=new Date(+q));++ge<Oe;)X.charCodeAt(ge)===37&&(H.push(X.slice(me,ge)),(ot=yO[ze=X.charAt(++ge)])!=null?ze=X.charAt(++ge):ot=ze==="e"?" ":"0",(Kt=re[ze])&&(ze=Kt(q,ot)),H.push(ze),me=ge+1);return H.push(X.slice(me,ge)),H.join("")}}function C(X,re){return function(q){var H=Fd(1900,void 0,1),ge=P(H,X,q+="",0),me,Oe;if(ge!=q.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(re&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(me=Q0(Fd(H.y,0,1)),Oe=me.getUTCDay(),me=Oe>4||Oe===0?Zv.ceil(me):Zv(me),me=ex.offset(me,(H.V-1)*7),H.y=me.getUTCFullYear(),H.m=me.getUTCMonth(),H.d=me.getUTCDate()+(H.w+6)%7):(me=X0(Fd(H.y,0,1)),Oe=me.getDay(),me=Oe>4||Oe===0?Qv.ceil(me):Qv(me),me=mp.offset(me,(H.V-1)*7),H.y=me.getFullYear(),H.m=me.getMonth(),H.d=me.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Oe="Z"in H?Q0(Fd(H.y,0,1)).getUTCDay():X0(Fd(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Oe+5)%7:H.w+H.U*7-(Oe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Q0(H)):X0(H)}}function P(X,re,q,H){for(var ge=0,me=re.length,Oe=q.length,ze,ot;ge<me;){if(H>=Oe)return-1;if(ze=re.charCodeAt(ge++),ze===37){if(ze=re.charAt(ge++),ot=w[ze in yO?re.charAt(ge++):ze],!ot||(H=ot(X,q,H))<0)return-1}else if(ze!=q.charCodeAt(H++))return-1}return H}function E(X,re,q){var H=u.exec(re.slice(q));return H?(X.p=d.get(H[0].toLowerCase()),q+H[0].length):-1}function k(X,re,q){var H=p.exec(re.slice(q));return H?(X.w=y.get(H[0].toLowerCase()),q+H[0].length):-1}function A(X,re,q){var H=f.exec(re.slice(q));return H?(X.w=h.get(H[0].toLowerCase()),q+H[0].length):-1}function O(X,re,q){var H=v.exec(re.slice(q));return H?(X.m=x.get(H[0].toLowerCase()),q+H[0].length):-1}function T(X,re,q){var H=m.exec(re.slice(q));return H?(X.m=g.get(H[0].toLowerCase()),q+H[0].length):-1}function $(X,re,q){return P(X,t,re,q)}function I(X,re,q){return P(X,r,re,q)}function R(X,re,q){return P(X,n,re,q)}function M(X){return s[X.getDay()]}function D(X){return a[X.getDay()]}function L(X){return c[X.getMonth()]}function V(X){return l[X.getMonth()]}function J(X){return i[+(X.getHours()>=12)]}function Y(X){return 1+~~(X.getMonth()/3)}function F(X){return s[X.getUTCDay()]}function ee(X){return a[X.getUTCDay()]}function U(X){return c[X.getUTCMonth()]}function z(X){return l[X.getUTCMonth()]}function W(X){return i[+(X.getUTCHours()>=12)]}function ue(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var re=S(X+="",b);return re.toString=function(){return X},re},parse:function(X){var re=C(X+="",!1);return re.toString=function(){return X},re},utcFormat:function(X){var re=S(X+="",_);return re.toString=function(){return X},re},utcParse:function(X){var re=C(X+="",!0);return re.toString=function(){return X},re}}}var yO={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,Ude=/^%/,zde=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Vde(e){return e.replace(zde,"\\$&")}function Bd(e){return new RegExp("^(?:"+e.map(Vde).join("|")+")","i")}function Ud(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wde(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hde(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qde(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Kde(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gde(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xde(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Qde(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jde(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function efe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tfe(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rfe(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nfe(e,t,r){var n=Ude.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ife(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _O(e,t){return ft(e.getDate(),t,2)}function sfe(e,t){return ft(e.getHours(),t,2)}function ofe(e,t){return ft(e.getHours()%12||12,t,2)}function lfe(e,t){return ft(1+mp.count(Za(e),e),t,3)}function lL(e,t){return ft(e.getMilliseconds(),t,3)}function cfe(e,t){return lL(e,t)+"000"}function ufe(e,t){return ft(e.getMonth()+1,t,2)}function dfe(e,t){return ft(e.getMinutes(),t,2)}function ffe(e,t){return ft(e.getSeconds(),t,2)}function hfe(e){var t=e.getDay();return t===0?7:t}function pfe(e,t){return ft(tx.count(Za(e)-1,e),t,2)}function cL(e){var t=e.getDay();return t>=4||t===0?vu(e):vu.ceil(e)}function mfe(e,t){return e=cL(e),ft(vu.count(Za(e),e)+(Za(e).getDay()===4),t,2)}function vfe(e){return e.getDay()}function gfe(e,t){return ft(Qv.count(Za(e)-1,e),t,2)}function yfe(e,t){return ft(e.getFullYear()%100,t,2)}function xfe(e,t){return e=cL(e),ft(e.getFullYear()%100,t,2)}function bfe(e,t){return ft(e.getFullYear()%1e4,t,4)}function wfe(e,t){var r=e.getDay();return e=r>=4||r===0?vu(e):vu.ceil(e),ft(e.getFullYear()%1e4,t,4)}function jfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function SO(e,t){return ft(e.getUTCDate(),t,2)}function _fe(e,t){return ft(e.getUTCHours(),t,2)}function Sfe(e,t){return ft(e.getUTCHours()%12||12,t,2)}function Cfe(e,t){return ft(1+ex.count(Ja(e),e),t,3)}function uL(e,t){return ft(e.getUTCMilliseconds(),t,3)}function Pfe(e,t){return uL(e,t)+"000"}function Afe(e,t){return ft(e.getUTCMonth()+1,t,2)}function Efe(e,t){return ft(e.getUTCMinutes(),t,2)}function kfe(e,t){return ft(e.getUTCSeconds(),t,2)}function Ofe(e){var t=e.getUTCDay();return t===0?7:t}function Nfe(e,t){return ft(rx.count(Ja(e)-1,e),t,2)}function dL(e){var t=e.getUTCDay();return t>=4||t===0?gu(e):gu.ceil(e)}function Tfe(e,t){return e=dL(e),ft(gu.count(Ja(e),e)+(Ja(e).getUTCDay()===4),t,2)}function Rfe(e){return e.getUTCDay()}function $fe(e,t){return ft(Zv.count(Ja(e)-1,e),t,2)}function Mfe(e,t){return ft(e.getUTCFullYear()%100,t,2)}function Ife(e,t){return e=dL(e),ft(e.getUTCFullYear()%100,t,2)}function Dfe(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function Lfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gu(e):gu.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function Ffe(){return"+0000"}function CO(){return"%"}function PO(e){return+e}function AO(e){return Math.floor(+e/1e3)}var ql,fL,hL;Bfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bfe(e){return ql=Bde(e),fL=ql.format,ql.parse,hL=ql.utcFormat,ql.utcParse,ql}function Ufe(e){return new Date(e)}function zfe(e){return e instanceof Date?+e:+new Date(+e)}function cC(e,t,r,n,i,a,s,l,c,u){var d=YS(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?y:s(S)<S?m:a(S)<S?g:n(S)<S?i(S)<S?v:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,zfe)):h().map(Ufe)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?w:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(J3(C,S)):d},d.copy=function(){return pp(d,cC(e,t,r,n,i,a,s,l,c,u))},d}function Vfe(){return pi.apply(cC(Lde,Fde,Za,oC,tx,mp,aC,nC,Jo,fL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wfe(){return pi.apply(cC(Ide,Dde,Ja,lC,rx,ex,sC,iC,Jo,hL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nx(){var e=0,t=1,r,n,i,a,s=tn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),u):[s(0),s(1)]}}return u.range=d(gd),u.rangeRound=d(GS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function jo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pL(){var e=wo(nx()(tn));return e.copy=function(){return jo(e,pL())},ls.apply(e,arguments)}function mL(){var e=ZS(nx()).domain([1,10]);return e.copy=function(){return jo(e,mL()).base(e.base())},ls.apply(e,arguments)}function vL(){var e=JS(nx());return e.copy=function(){return jo(e,vL()).constant(e.constant())},ls.apply(e,arguments)}function uC(){var e=eC(nx());return e.copy=function(){return jo(e,uC()).exponent(e.exponent())},ls.apply(e,arguments)}function Hfe(){return uC.apply(null,arguments).exponent(.5)}function gL(){var e=[],t=tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((fp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(to),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Nue(e,a/n))},r.copy=function(){return gL(t).domain(e)},ls.apply(r,arguments)}function ix(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=tn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(g){var v,x,b;return arguments.length?([v,x,b]=g,u=nde(m,[v,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(gd),p.rangeRound=y(GS),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),a=m(t),s=m(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function yL(){var e=wo(ix()(tn));return e.copy=function(){return jo(e,yL())},ls.apply(e,arguments)}function xL(){var e=ZS(ix()).domain([.1,1,10]);return e.copy=function(){return jo(e,xL()).base(e.base())},ls.apply(e,arguments)}function bL(){var e=JS(ix());return e.copy=function(){return jo(e,bL()).constant(e.constant())},ls.apply(e,arguments)}function dC(){var e=eC(ix());return e.copy=function(){return jo(e,dC()).exponent(e.exponent())},ls.apply(e,arguments)}function qfe(){return dC.apply(null,arguments).exponent(.5)}const EO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yh,scaleDiverging:yL,scaleDivergingLog:xL,scaleDivergingPow:dC,scaleDivergingSqrt:qfe,scaleDivergingSymlog:bL,scaleIdentity:Z3,scaleImplicit:P1,scaleLinear:Yv,scaleLog:eL,scaleOrdinal:HS,scalePoint:bf,scalePow:tC,scaleQuantile:nL,scaleQuantize:iL,scaleRadial:rL,scaleSequential:pL,scaleSequentialLog:mL,scaleSequentialPow:uC,scaleSequentialQuantile:gL,scaleSequentialSqrt:Hfe,scaleSequentialSymlog:vL,scaleSqrt:Pde,scaleSymlog:tL,scaleThreshold:aL,scaleTime:Vfe,scaleUtc:Wfe,tickFormat:Q3},Symbol.toStringTag,{value:"Module"}));var Kfe=ld;function Gfe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!Kfe(s):r(s,l)))var l=s,c=a}return c}var ax=Gfe;function Yfe(e,t){return e>t}var wL=Yfe,Xfe=ax,Qfe=wL,Zfe=vd;function Jfe(e){return e&&e.length?Xfe(e,Zfe,Qfe):void 0}var ehe=Jfe;const Bs=mt(ehe);function the(e,t){return e<t}var jL=the,rhe=ax,nhe=jL,ihe=vd;function ahe(e){return e&&e.length?rhe(e,ihe,nhe):void 0}var she=ahe;const sx=mt(she);var ohe=PS,lhe=_a,che=O3,uhe=Sn;function dhe(e,t){var r=uhe(e)?ohe:che;return r(e,lhe(t))}var fhe=dhe,hhe=E3,phe=fhe;function mhe(e,t){return hhe(phe(e,t),1)}var vhe=mhe;const ghe=mt(vhe);var yhe=BS;function xhe(e,t){return yhe(e,t)}var bhe=xhe;const fo=mt(bhe);var yd=1e9,whe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hC,Ut=!0,di="[DecimalError] ",fl=di+"Invalid argument: ",fC=di+"Exponent out of range: ",xd=Math.floor,Uo=Math.pow,jhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,xr=1e7,Nt=7,_L=9007199254740991,Jv=xd(_L/Nt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return Wa(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return jt(Wa(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return cr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(di+"NaN");if(r.s<1)throw Error(di+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Ut=!1,t=Wa(_h(r,a),_h(e,a),a),Ut=!0,jt(t,i))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PL(t,e):SL(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(di+"NaN");return r.s?(Ut=!1,t=Wa(r,e,0,1).times(e),Ut=!0,r.minus(t)):jt(new n(r),i)};_e.naturalExponential=_e.exp=function(){return CL(this)};_e.naturalLogarithm=_e.ln=function(){return _h(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SL(t,e):PL(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fl+e);if(t=cr(i)+1,n=i.d.length-1,r=n*Nt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(di+"NaN")}for(e=cr(l),Ut=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=sa(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Wa(l,a,s+2)).times(.5),sa(a.d).slice(0,s)===(t=sa(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(jt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return Ut=!0,jt(n,r)};_e.times=_e.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+p[n]*h[i-n-1]+t,a[i--]=l%xr|0,t=l/xr|0;a[i]=(a[i]+t)%xr|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ut?jt(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ya(e,0,yd),t===void 0?t=n.rounding:ya(t,0,8),jt(r,e+cr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=jl(n,!0):(ya(e,0,yd),t===void 0?t=i.rounding:ya(t,0,8),n=jt(new i(n),e+1,t),r=jl(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?jl(i):(ya(e,0,yd),t===void 0?t=a.rounding:ya(t,0,8),n=jt(new a(i),e+cr(i)+1,t),r=jl(n.abs(),!1,e+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return jt(new t(e),cr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Mn);if(l=new c(l),!l.s){if(e.s<1)throw Error(di+"Infinity");return l}if(l.eq(Mn))return l;if(n=c.precision,e.eq(Mn))return jt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=_L){for(i=new c(Mn),t=Math.ceil(n/Nt+4),Ut=!1;r%2&&(i=i.times(l),OO(i.d,t)),r=xd(r/2),r!==0;)l=l.times(l),OO(l.d,t);return Ut=!0,e.s<0?new c(Mn).div(i):jt(i,n)}}else if(a<0)throw Error(di+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ut=!1,i=e.times(_h(l,n+u)),Ut=!0,i=CL(i),i.s=a,i};_e.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=cr(i),n=jl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ya(e,1,yd),t===void 0?t=a.rounding:ya(t,0,8),i=jt(new a(i),e,t),r=cr(i),n=jl(i,e<=r||r<=a.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ya(e,1,yd),t===void 0?t=n.rounding:ya(t,0,8)),jt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cr(e),r=e.constructor;return jl(e,t<=r.toExpNeg||t>=r.toExpPos)};function SL(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ut?jt(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/Nt),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/xr|0,c[a]%=xr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ut?jt(t,f):t}function ya(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fl+e)}function sa(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Nt-n.length,r&&(a+=Ps(r)),a+=n;s=e[t],n=s+"",r=Nt-n.length,r&&(a+=Ps(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wa=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%xr|0,s=a/xr|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*xr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,p,y,m,g,v,x,b,_,w,S,C,P,E=n.constructor,k=n.s==i.s?1:-1,A=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(di+"Division by zero");for(c=n.e-i.e,C=O.length,w=A.length,p=new E(k),y=p.d=[],u=0;O[u]==(A[u]||0);)++u;if(O[u]>(A[u]||0)&&--c,a==null?x=a=E.precision:s?x=a+(cr(n)-cr(i))+1:x=a,x<0)return new E(0);if(x=x/Nt+2|0,u=0,C==1)for(d=0,O=O[0],x++;(u<w||d)&&x--;u++)b=d*xr+(A[u]||0),y[u]=b/O|0,d=b%O|0;else{for(d=xr/(O[0]+1)|0,d>1&&(O=e(O,d),A=e(A,d),C=O.length,w=A.length),_=C,m=A.slice(0,C),g=m.length;g<C;)m[g++]=0;P=O.slice(),P.unshift(0),S=O[0],O[1]>=xr/2&&++S;do d=0,l=t(O,m,C,g),l<0?(v=m[0],C!=g&&(v=v*xr+(m[1]||0)),d=v/S|0,d>1?(d>=xr&&(d=xr-1),f=e(O,d),h=f.length,g=m.length,l=t(f,m,h,g),l==1&&(d--,r(f,C<h?P:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),l==-1&&(g=m.length,l=t(O,m,C,g),l<1&&(d++,r(m,C<g?P:O,g))),g=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[g++]=A[_]||0:(m=[A[_]],g=1);while((_++<w||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,jt(p,s?a+cr(p)+1:a)}}();function CL(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(cr(e)>16)throw Error(fC+cr(e));if(!e.s)return new d(Mn);for(t==null?(Ut=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Uo(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Mn),d.precision=l;;){if(i=jt(i.times(e),l),r=r.times(++c),s=a.plus(Wa(i,r,l)),sa(s.d).slice(0,l)===sa(a.d).slice(0,l)){for(;u--;)a=jt(a.times(a),l);return d.precision=f,t==null?(Ut=!0,jt(a,f)):a}a=s}}function cr(e){for(var t=e.e*Nt,r=e.d[0];r>=10;r/=10)t++;return t}function Z0(e,t,r){if(t>e.LN10.sd())throw Ut=!0,r&&(e.precision=r),Error(di+"LN10 precision limit exceeded");return jt(new e(e.LN10),t)}function Ps(e){for(var t="";e--;)t+="0";return t}function _h(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(di+(p.s?"NaN":"-Infinity"));if(p.eq(Mn))return new m(0);if(t==null?(Ut=!1,u=g):u=t,p.eq(10))return t==null&&(Ut=!0),Z0(m,u);if(u+=h,m.precision=u,r=sa(y),n=r.charAt(0),a=cr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=sa(p.d),n=r.charAt(0),f++;a=cr(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return c=Z0(m,u+2,g).times(a+""),p=_h(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(Ut=!0,jt(p,g)):p;for(l=s=p=Wa(p.minus(Mn),p.plus(Mn),u),d=jt(p.times(p),u),i=3;;){if(s=jt(s.times(d),u),c=l.plus(Wa(s,new m(i),u)),sa(c.d).slice(0,u)===sa(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Z0(m,u+2,g).times(a+""))),l=Wa(l,new m(f),u),m.precision=g,t==null?(Ut=!0,jt(l,g)):l;l=c,i+=2}}function kO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=xd(r/Nt),e.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Nt;n<i;)e.d.push(+t.slice(n,n+=Nt));t=t.slice(n),n=Nt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ut&&(e.e>Jv||e.e<-Jv))throw Error(fC+r)}else e.s=0,e.e=0,e.d=[0];return e}function jt(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Nt,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Nt),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Nt,i=n-Nt+s}if(r!==void 0&&(a=Uo(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Uo(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=cr(e),f.length=1,t=t-a-1,f[0]=Uo(10,(Nt-t%Nt)%Nt),e.e=xd(-t/Nt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Uo(10,Nt-n),f[d]=i>0?(u/Uo(10,s-i)%Uo(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==xr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=xr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ut&&(e.e>Jv||e.e<-Jv))throw Error(fC+cr(e));return e}function PL(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ut?jt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(p/Nt),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=xr-1;--c[a],c[i]+=xr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ut?jt(t,p):t):new h(0)}function jl(e,t,r){var n,i=cr(e),a=sa(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ps(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ps(-i-1)+a,r&&(n=r-s)>0&&(a+=Ps(n))):i>=s?(a+=Ps(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ps(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ps(n))),e.s<0?"-"+a:a}function OO(e,t){if(e.length>t)return e.length=t,!0}function AL(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return kO(s,a.toString())}else if(typeof a!="string")throw Error(fl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,jhe.test(a))kO(s,a);else throw Error(fl+a)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AL,i.config=i.set=_he,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _he(e){if(!e||typeof e!="object")throw Error(di+"Object expected");var t,r,n,i=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(xd(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(fl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fl+r+": "+n);return this}var hC=AL(whe);Mn=new hC(1);const wt=hC;function She(e){return Ehe(e)||Ahe(e)||Phe(e)||Che()}function Che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Phe(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function Ahe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ehe(e){if(Array.isArray(e))return O1(e)}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var khe=function(t){return t},EL={"@@functional/placeholder":!0},kL=function(t){return t===EL},NO=function(t){return function r(){return arguments.length===0||arguments.length===1&&kL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ohe=function e(t,r){return t===1?r:NO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==EL}).length;return s>=t?r.apply(void 0,i):e(t-s,NO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return kL(f)?c.shift():f});return r.apply(void 0,She(d).concat(c))}))})},ox=function(t){return Ohe(t.length,t)},N1=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Nhe=ox(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),The=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return khe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},T1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},OL=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function Rhe(e){var t;return e===0?t=1:t=Math.floor(new wt(e).abs().log(10).toNumber())+1,t}function $he(e,t,r){for(var n=new wt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Mhe=ox(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Ihe=ox(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Dhe=ox(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const lx={rangeStep:$he,getDigitCount:Rhe,interpolateNumber:Mhe,uninterpolateNumber:Ihe,uninterpolateTruncation:Dhe};function R1(e){return Bhe(e)||Fhe(e)||NL(e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bhe(e){if(Array.isArray(e))return $1(e)}function Sh(e,t){return Vhe(e)||zhe(e,t)||NL(e,t)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(e,t){if(e){if(typeof e=="string")return $1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(e,t)}}function $1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zhe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Vhe(e){if(Array.isArray(e))return e}function TL(e){var t=Sh(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function RL(e,t,r){if(e.lte(0))return new wt(0);var n=lx.getDigitCount(e.toNumber()),i=new wt(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new wt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new wt(Math.ceil(c))}function Whe(e,t,r){var n=1,i=new wt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new wt(10).pow(lx.getDigitCount(e)-1),i=new wt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new wt(Math.floor(e)))}else e===0?i=new wt(Math.floor((t-1)/2)):r||(i=new wt(Math.floor(e)));var s=Math.floor((t-1)/2),l=The(Nhe(function(c){return i.add(new wt(c-s).mul(n)).toNumber()}),N1);return l(0,t)}function $L(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=RL(new wt(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new wt(0):(s=new wt(e).add(t).div(2),s=s.sub(new wt(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new wt(t).sub(s).div(a).toNumber()),u=l+c+1;return u>r?$L(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:s.sub(new wt(l).mul(a)),tickMax:s.add(new wt(c).mul(a))})}function Hhe(e){var t=Sh(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=TL([r,n]),c=Sh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(R1(N1(0,i-1).map(function(){return 1/0}))):[].concat(R1(N1(0,i-1).map(function(){return-1/0})),[d]);return r>n?T1(f):f}if(u===d)return Whe(u,i,a);var h=$L(u,d,s,a),p=h.step,y=h.tickMin,m=h.tickMax,g=lx.rangeStep(y,m.add(new wt(.1).mul(p)),p);return r>n?T1(g):g}function qhe(e,t){var r=Sh(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=TL([n,i]),l=Sh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=RL(new wt(u).sub(c).div(d-1),a,0),h=[].concat(R1(lx.rangeStep(new wt(c),new wt(u).sub(new wt(.99).mul(f)),f)),[u]);return n>i?T1(h):h}var Khe=OL(Hhe),Ghe=OL(qhe),Yhe="Invariant failed";function _l(e,t){throw new Error(Yhe)}var Xhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function Qhe(e,t){return tpe(e)||epe(e,t)||Jhe(e,t)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function epe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function tpe(e){if(Array.isArray(e))return e}function rpe(e,t){if(e==null)return{};var r=npe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ipe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ape(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DL(n.key),n)}}function spe(e,t,r){return t&&ape(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ope(e,t,r){return t=tg(t),lpe(e,ML()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function lpe(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cpe(e)}function cpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(e)}function upe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M1(e,t)}function IL(e,t,r){return t=DL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=dpe(e,"string");return yu(t)=="symbol"?t:t+""}function dpe(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=function(e){function t(){return ipe(this,t),ope(this,t,arguments)}return upe(t,e),spe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=rpe(n,Xhe),p=Ae(h,!1);this.props.direction==="x"&&d.type!=="number"&&_l();var y=c.map(function(m){var g=u(m,l),v=g.x,x=g.y,b=g.value,_=g.errorVal;if(!_)return null;var w=[],S,C;if(Array.isArray(_)){var P=Qhe(_,2);S=P[0],C=P[1]}else S=C=_;if(a==="vertical"){var E=d.scale,k=x+i,A=k+s,O=k-s,T=E(b-S),$=E(b+C);w.push({x1:$,y1:A,x2:$,y2:O}),w.push({x1:T,y1:k,x2:$,y2:k}),w.push({x1:T,y1:A,x2:T,y2:O})}else if(a==="horizontal"){var I=f.scale,R=v+i,M=R-s,D=R+s,L=I(b-S),V=I(b+C);w.push({x1:M,y1:V,x2:D,y2:V}),w.push({x1:R,y1:L,x2:R,y2:V}),w.push({x1:M,y1:L,x2:D,y2:L})}return N.createElement(Ye,eg({className:"recharts-errorBar",key:"bar-".concat(w.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),w.map(function(J){return N.createElement("line",eg({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return N.createElement(Ye,{className:"recharts-errorBars"},y)}}])}(N.Component);IL(bd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IL(bd,"displayName","ErrorBar");function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){fpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fpe(e,t,r){return t=hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hpe(e){var t=ppe(e,"string");return Ch(t)=="symbol"?t:t+""}function ppe(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LL=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Nn(r,Nr);if(!s)return null;var l=Nr.defaultProps,c=l!==void 0?Ro(Ro({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ro(Ro({},h),f.props):{},y=p.dataKey,m=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:c.iconType||g||"square",color:pC(f),value:m||y,payload:p}}),Ro(Ro(Ro({},c),Nr.getWithHeight(s,i)),{},{payload:u,item:s})};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function $O(e){return ype(e)||gpe(e)||vpe(e)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function gpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ype(e){if(Array.isArray(e))return I1(e)}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Fc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fc(e,t,r){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpe(e){var t=bpe(e,"string");return Ph(t)=="symbol"?t:t+""}function bpe(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return Me(e)||Me(t)?r:gr(t)?Fn(e,t,r):Ie(t)?t(e):r}function wf(e,t,r,n){var i=ghe(e,function(l){return Rt(l,t)});if(r==="number"){var a=i.filter(function(l){return de(l)||parseFloat(l)});return a.length?[sx(a),Bs(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Me(l)}):i;return s.map(function(l){return gr(l)||l instanceof Date?l:""})}var wpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Jr(f-d)!==Jr(h-f)){var y=[];if(Jr(h-f)===Jr(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+c[1]-c[0];y[0]=Math.min(f,(g+f)/2),y[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=i[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){s=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},pC=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},jpe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,g=y.cateAxisId,v=m.filter(function(C){return Va(C.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Zt(Zt({},x),v[0].props):v[0].props,_=b.barSize,w=b[g];s[w]||(s[w]=[]);var S=Me(_)?r:_;s[w].push({item:v[0],stackList:v.slice(1),barSize:Me(S)?void 0:en(S,n,0)})}}return s},_pe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=en(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,y=s.reduce(function(_,w){return _+w.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=c*p);var m=(i-y)/2>>0,g={offset:m-u,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:g.offset+g.size+u,size:h?p:w.barSize}},C=[].concat($O(_),[S]);return g=C[C.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){C.push({item:P,position:g})}),C},f)}else{var v=en(n,i,0,!0);i-2*v-(c-1)*u<=0&&(u=0);var x=(i-2*v-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=s.reduce(function(_,w,S){var C=[].concat($O(_),[{item:w.item,position:{offset:v+(x+u)*S+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return d},Spe=function(t,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=LL({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&de(t[p]))return Zt(Zt({},t),{},Fc({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&de(t[y]))return Zt(Zt({},t),{},Fc({},y,t[y]+(h||0)))}return t},Cpe=function(t,r,n){return Me(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},FL=function(t,r,n,i,a){var s=r.props.children,l=nn(s,bd).filter(function(u){return Cpe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rt(d,n);if(Me(f))return u;var h=Array.isArray(f)?[sx(f),Bs(f)]:[f,f],p=c.reduce(function(y,m){var g=Rt(d,m,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ppe=function(t,r,n,i,a){var s=r.map(function(l){return FL(t,l,n,a,i)}).filter(function(l){return!Me(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},BL=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&FL(t,c,u,i)||wf(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},UL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zL=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(n),l},Ba=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Jr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!hd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},J0=new WeakMap,lm=function(t,r){if(typeof r!="function")return t;J0.has(t)||J0.set(t,new WeakMap);var n=J0.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},VL=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:yh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Yv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bf(),realScaleType:"point"}:a==="category"?{scale:yh(),realScaleType:"band"}:{scale:Yv(),realScaleType:"linear"};if(bl(i)){var c="scale".concat(Hy(i));return{scale:(EO[c]||bf)(),realScaleType:EO[c]?c:"point"}}return Ie(i)?{scale:i}:{scale:bf(),realScaleType:"point"}},IO=1e-4,WL=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-IO,s=Math.max(i[0],i[1])+IO,l=t(r[0]),c=t(r[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},Ape=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Epe=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(a[0]=n),(!de(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},kpe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=hd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Ope=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=hd(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Npe={sign:kpe,expand:Xee,none:uu,silhouette:Qee,wiggle:Zee,positive:Ope},Tpe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=Npe[n],s=Yee().keys(i).value(function(l,c){return+Rt(l,c,0)}).order(o1).offset(a);return s(t)},Rpe=function(t,r,n,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Zt(Zt({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return f;var v=y[n],x=f[v]||{hasStack:!1,stackGroups:{}};if(gr(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[bo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Zt(Zt({},f),{},Fc({},v,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var v=p.stackGroups[g];return Zt(Zt({},m),{},Fc({},g,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:Tpe(t,v.items,a)}))},y)}return Zt(Zt({},f),{},Fc({},h,p))},d)},HL=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Khe(u,a,l);return t.domain([sx(d),Bs(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=Ghe(f,a,l);return{niceTicks:h}}return null};function xu(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(i[t.dataKey])){var l=Ev(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Rt(i,Me(s)?t.dataKey:s);return Me(c)?null:t.scale(c)}var DO=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Rt(s,r.dataKey,r.domain[l]);return Me(c)?null:r.scale(c)-a/2+i},$pe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Mpe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(gr(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Ipe=function(t){return t.reduce(function(r,n){return[sx(n.concat([r[0]]).filter(de)),Bs(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},qL=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,d){var f=Ipe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},LO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D1=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(de(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(LO.test(t[0])){var a=+LO.exec(t[0])[1];i[0]=r[0]-a}else Ie(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(de(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(FO.test(t[1])){var s=+FO.exec(t[1])[1];i[1]=r[1]+s}else Ie(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},rg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=zS(r,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},BO=function(t,r,n){return!t||!t.length||fo(t,Fn(n,"type.defaultProps.domain"))?r:t},KL=function(t,r){var n=t.type.defaultProps?Zt(Zt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Zt(Zt({},Ae(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:pC(t),value:Rt(r,i),type:c,payload:r,chartType:u,hide:d})};function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){GL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GL(e,t,r){return t=Dpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dpe(e){var t=Lpe(e,"string");return Ah(t)=="symbol"?t:t+""}function Lpe(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fpe(e,t){return Vpe(e)||zpe(e,t)||Upe(e,t)||Bpe()}function Bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(e,t){if(e){if(typeof e=="string")return zO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(e,t)}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Vpe(e){if(Array.isArray(e))return e}var ng=Math.PI/180,Wpe=function(t){return t*180/Math.PI},At=function(t,r,n,i){return{x:t+Math.cos(-ng*i)*n,y:r+Math.sin(-ng*i)*n}},YL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hpe=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=en(t.cx,s,s/2),f=en(t.cy,l,l/2),h=YL(s,l,n),p=en(t.innerRadius,h,0),y=en(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,v){var x=r[v],b=x.domain,_=x.reversed,w;if(Me(x.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[p,y]),_&&(w=[w[1],w[0]]);else{w=x.range;var S=w,C=Fpe(S,2);c=C[0],u=C[1]}var P=VL(x,a),E=P.realScaleType,k=P.scale;k.domain(b).range(w),WL(k);var A=HL(k,Ta(Ta({},x),{},{realScaleType:E})),O=Ta(Ta(Ta({},x),A),{},{range:w,radius:y,realScaleType:E,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Ta(Ta({},g),{},GL({},v,O))},{})},qpe=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Kpe=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,l=qpe({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:Wpe(u),angleInRadian:u}},Gpe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Ype=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},VO=function(t,r){var n=t.x,i=t.y,a=Kpe({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Gpe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Ta(Ta({},r),{},{radius:s,angle:Ype(p,r)}):null},XL=function(t){return!j.isValidElement(t)&&!Ie(t)&&typeof t!="boolean"?t.className:""};function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}var Xpe=["offset"];function Qpe(e){return tme(e)||eme(e)||Jpe(e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(e,t){if(e){if(typeof e=="string")return L1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(e,t)}}function eme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tme(e){if(Array.isArray(e))return L1(e)}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rme(e,t){if(e==null)return{};var r=nme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){ime(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ime(e,t,r){return t=ame(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ame(e){var t=sme(e,"string");return Eh(t)=="symbol"?t:t+""}function sme(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}var ome=function(t){var r=t.value,n=t.formatter,i=Me(t.children)?r:t.children;return Ie(n)?n(i):i},lme=function(t,r){var n=Jr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},cme=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,g=(f+h)/2,v=lme(p,y),x=v>=0?1:-1,b,_;i==="insideStart"?(b=p+x*s,_=m):i==="insideEnd"?(b=y-x*s,_=!m):i==="end"&&(b=y+x*s,_=m),_=v<=0?_:!_;var w=At(u,d,g,b),S=At(u,d,g,b+(_?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),P=Me(t.id)?bo("recharts-radial-line-"):t.id;return N.createElement("text",kh({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:P,d:C})),N.createElement("textPath",{xlinkHref:"#".concat(P)},r))},ume=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=At(s,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=At(s,l,g,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},dme=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,g=m*i,v=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return dr(dr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return dr(dr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:l-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return dr(dr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return dr(dr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return a==="insideLeft"?dr({x:l+g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideRight"?dr({x:l+u-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?dr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):a==="insideBottom"?dr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?dr({x:l+g,y:c+h,textAnchor:x,verticalAnchor:y},C):a==="insideTopRight"?dr({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:y},C):a==="insideBottomLeft"?dr({x:l+g,y:c+d-h,textAnchor:x,verticalAnchor:p},C):a==="insideBottomRight"?dr({x:l+u-g,y:c+d-h,textAnchor:v,verticalAnchor:p},C):cd(a)&&(de(a.x)||Qo(a.x))&&(de(a.y)||Qo(a.y))?dr({x:l+en(a.x,u),y:c+en(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):dr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},fme=function(t){return"cx"in t&&de(t.cx)};function wr(e){var t=e.offset,r=t===void 0?5:t,n=rme(e,Xpe),i=dr({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Me(l)&&Me(c)&&!j.isValidElement(u)&&!Ie(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(Ie(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=ome(i);var y=fme(a),m=Ae(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return cme(i,p,m);var g=y?ume(i):dme(i);return N.createElement(wl,kh({className:We("recharts-label",f)},m,g,{breakAll:h}),p)}wr.displayName="Label";var QL=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(de(m)&&de(g)){if(de(f)&&de(h))return{x:f,y:h,width:m,height:g};if(de(p)&&de(y))return{x:p,y,width:m,height:g}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},hme=function(t,r){return t?t===!0?N.createElement(wr,{key:"label-implicit",viewBox:r}):gr(t)?N.createElement(wr,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===wr?j.cloneElement(t,{key:"label-implicit",viewBox:r}):N.createElement(wr,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?N.createElement(wr,{key:"label-implicit",content:t,viewBox:r}):cd(t)?N.createElement(wr,kh({viewBox:r},t,{key:"label-implicit"})):null:null},pme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=QL(t),s=nn(i,wr).map(function(c,u){return j.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var l=hme(t.label,r||a);return[l].concat(Qpe(s))};wr.parseViewBox=QL;wr.renderCallByParent=pme;function mme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vme=mme;const gme=mt(vme);function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}var yme=["valueAccessor"],xme=["data","dataKey","clockWise","id","textBreakAll"];function bme(e){return Sme(e)||_me(e)||jme(e)||wme()}function wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(e,t){if(e){if(typeof e=="string")return F1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(e,t)}}function _me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sme(e){if(Array.isArray(e))return F1(e)}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Cme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cme(e,t,r){return t=Pme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pme(e){var t=Ame(e,"string");return Oh(t)=="symbol"?t:t+""}function Ame(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KO(e,t){if(e==null)return{};var r=Eme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kme=function(t){return Array.isArray(t.value)?gme(t.value):t.value};function Ui(e){var t=e.valueAccessor,r=t===void 0?kme:t,n=KO(e,yme),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=KO(n,xme);return!i||!i.length?null:N.createElement(Ye,{className:"recharts-label-list"},i.map(function(d,f){var h=Me(a)?r(d,f):Rt(d&&d.payload,a),p=Me(l)?{}:{id:"".concat(l,"-").concat(f)};return N.createElement(wr,ig({},Ae(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:wr.parseViewBox(Me(s)?d:qO(qO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ui.displayName="LabelList";function Ome(e,t){return e?e===!0?N.createElement(Ui,{key:"labelList-implicit",data:t}):N.isValidElement(e)||Ie(e)?N.createElement(Ui,{key:"labelList-implicit",data:t,content:e}):cd(e)?N.createElement(Ui,ig({data:t},e,{key:"labelList-implicit"})):null:null}function Nme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=nn(n,Ui).map(function(s,l){return j.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=Ome(e.label,t);return[a].concat(bme(i))}Ui.renderCallByParent=Nme;function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Tme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tme(e,t,r){return t=Rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rme(e){var t=$me(e,"string");return Nh(t)=="symbol"?t:t+""}function $me(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mme=function(t,r){var n=Jr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},cm=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/ng,h=u?a:a+s*f,p=At(r,n,d,h),y=At(r,n,i,h),m=u?a-s*f:a,g=At(r,n,d*Math.cos(f*ng),m);return{center:p,circleTangency:y,lineTangency:g,theta:f}},ZL=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Mme(s,l),u=s+c,d=At(r,n,a,s),f=At(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=At(r,n,i,s),y=At(r,n,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ime=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Jr(d-u),h=cm({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=cm({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=g.circleTangency,x=g.lineTangency,b=g.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ZL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var S=cm({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=S.circleTangency,P=S.lineTangency,E=S.theta,k=cm({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=k.circleTangency,O=k.lineTangency,T=k.theta,$=c?Math.abs(u-d):Math.abs(u-d)-E-T;if($<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Dme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JL=function(t){var r=YO(YO({},Dme),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=We("recharts-sector",h),y=s-a,m=en(l,y,0,!0),g;return m>0&&Math.abs(d-f)<360?g=Ime({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=ZL({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),N.createElement("path",B1({},Ae(r,!0),{className:p,d:g,role:"img"}))};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return t=Fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fme(e){var t=Bme(e,"string");return Th(t)=="symbol"?t:t+""}function Bme(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZO={curveBasisClosed:Lee,curveBasisOpen:Fee,curveBasis:Dee,curveBumpX:_ee,curveBumpY:See,curveLinearClosed:Bee,curveLinear:Ky,curveMonotoneX:Uee,curveMonotoneY:zee,curveNatural:Vee,curveStep:Wee,curveStepAfter:qee,curveStepBefore:Hee},um=function(t){return t.x===+t.x&&t.y===+t.y},zd=function(t){return t.x},Vd=function(t){return t.y},Ume=function(t,r){if(Ie(t))return t;var n="curve".concat(Hy(t));return(n==="curveMonotone"||n==="curveBump")&&r?ZO["".concat(n).concat(r==="vertical"?"Y":"X")]:ZO[n]||Ky},zme=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Ume(n,l),f=u?a.filter(function(m){return um(m)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return um(m)}):s,y=f.map(function(m,g){return QO(QO({},m),{},{base:p[g]})});return l==="vertical"?h=em().y(Vd).x1(zd).x0(function(m){return m.base.x}):h=em().x(zd).y1(Vd).y0(function(m){return m.base.y}),h.defined(um).curve(d),h(y)}return l==="vertical"&&de(s)?h=em().y(Vd).x1(zd).x0(s):de(s)?h=em().x(zd).y1(Vd).y0(s):h=KD().x(zd).y(Vd),h.defined(um).curve(d),h(f)},ro=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?zme(t):i;return j.createElement("path",U1({},Ae(t,!1),kv(t),{className:We("recharts-curve",r),d:s,ref:a}))},e4={exports:{}},Vme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wme=Vme,Hme=Wme;function t4(){}function r4(){}r4.resetWarningCache=t4;var qme=function(){function e(n,i,a,s,l,c){if(c!==Hme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r4,resetWarningCache:t4};return r.PropTypes=r,r};e4.exports=qme();var Kme=e4.exports;const ht=mt(Kme);var Gme=Object.getOwnPropertyNames,Yme=Object.getOwnPropertySymbols,Xme=Object.prototype.hasOwnProperty;function JO(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function dm(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function eN(e){return Gme(e).concat(Yme(e))}var Qme=Object.hasOwn||function(e,t){return Xme.call(e,t)};function Il(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Zme="__v",Jme="__o",eve="_owner",tN=Object.getOwnPropertyDescriptor,rN=Object.keys;function tve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function rve(e,t){return Il(e.getTime(),t.getTime())}function nve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ive(e,t){return e===t}function nN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ave=Il;function sve(e,t,r){var n=rN(e),i=n.length;if(rN(t).length!==i)return!1;for(;i-- >0;)if(!n4(e,t,r,n[i]))return!1;return!0}function Wd(e,t,r){var n=eN(e),i=n.length;if(eN(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!n4(e,t,r,a)||(s=tN(e,a),l=tN(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ove(e,t){return Il(e.valueOf(),t.valueOf())}function lve(e,t){return e.source===t.source&&e.flags===t.flags}function iN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function cve(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function n4(e,t,r,n){return(n===eve||n===Jme||n===Zme)&&(e.$$typeof||t.$$typeof)?!0:Qme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dve="[object Arguments]",fve="[object Boolean]",hve="[object Date]",pve="[object Error]",mve="[object Map]",vve="[object Number]",gve="[object Object]",yve="[object RegExp]",xve="[object Set]",bve="[object String]",wve="[object URL]",jve=Array.isArray,aN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,sN=Object.assign,_ve=Object.prototype.toString.call.bind(Object.prototype.toString);function Sve(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(y,m,g):v==="function"?i(y,m,g):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return l(y,m,g);if(jve(y))return t(y,m,g);if(aN!=null&&aN(y))return f(y,m,g);if(x===Date)return r(y,m,g);if(x===RegExp)return u(y,m,g);if(x===Map)return a(y,m,g);if(x===Set)return d(y,m,g);var b=_ve(y);return b===hve?r(y,m,g):b===yve?u(y,m,g):b===mve?a(y,m,g):b===xve?d(y,m,g):b===gve?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):b===wve?h(y,m,g):b===pve?n(y,m,g):b===dve?l(y,m,g):b===fve||b===vve||b===bve?c(y,m,g):!1}}function Cve(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Wd:tve,areDatesEqual:rve,areErrorsEqual:nve,areFunctionsEqual:ive,areMapsEqual:n?JO(nN,Wd):nN,areNumbersEqual:ave,areObjectsEqual:n?Wd:sve,arePrimitiveWrappersEqual:ove,areRegExpsEqual:lve,areSetsEqual:n?JO(iN,Wd):iN,areTypedArraysEqual:n?Wd:cve,areUrlsEqual:uve};if(r&&(i=sN({},i,r(i))),t){var a=dm(i.areArraysEqual),s=dm(i.areMapsEqual),l=dm(i.areObjectsEqual),c=dm(i.areSetsEqual);i=sN({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Pve(e){return function(t,r,n,i,a,s,l){return e(t,r,l)}}function Ave(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var Eve=_o();_o({strict:!0});_o({circular:!0});_o({circular:!0,strict:!0});_o({createInternalComparator:function(){return Il}});_o({strict:!0,createInternalComparator:function(){return Il}});_o({circular:!0,createInternalComparator:function(){return Il}});_o({circular:!0,createInternalComparator:function(){return Il},strict:!0});function _o(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=Cve(e),c=Sve(l),u=n?n(c):Pve(c);return Ave({circular:r,comparator:c,createState:i,equals:u,strict:s})}function kve(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):kve(i)};requestAnimationFrame(n)}function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function Ove(e){return $ve(e)||Rve(e)||Tve(e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ve(e){if(Array.isArray(e))return e}function Mve(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=Ove(s),c=l[0],u=l.slice(1);if(typeof c=="number"){oN(i.bind(null,u),c);return}i(c),oN(i.bind(null,u));return}z1(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){i4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i4(e,t,r){return t=Ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Dve(e,"string");return Rh(t)==="symbol"?t:String(t)}function Dve(e,t){if(Rh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lve=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Fve=function(t){return t},Bve=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jf=function(t,r){return Object.keys(r).reduce(function(n,i){return uN(uN({},n),{},i4({},i,t(i,r[i])))},{})},dN=function(t,r,n){return t.map(function(i){return"".concat(Bve(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Uve(e,t){return Wve(e)||Vve(e,t)||a4(e,t)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Wve(e){if(Array.isArray(e))return e}function Hve(e){return Gve(e)||Kve(e)||a4(e)||qve()}function qve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function Kve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gve(e){if(Array.isArray(e))return V1(e)}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ag=1e-4,s4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},o4=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},fN=function(t,r){return function(n){var i=s4(t,r);return o4(i,n)}},Yve=function(t,r){return function(n){var i=s4(t,r),a=[].concat(Hve(i.map(function(s,l){return s*l}).slice(1)),[0]);return o4(a,n)}},hN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=Uve(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=fN(i,s),h=fN(a,l),p=Yve(i,s),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var w=f(b)-x,S=p(b);if(Math.abs(w-x)<ag||S<ag)return h(b);b=y(b-w/S)}return h(b)};return m.isStepper=!1,m},Xve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,y=h*a,m=h+(p-y)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<ag&&Math.abs(m)<ag?[f,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},Qve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hN(i);case"spring":return Xve();default:if(i.split("(")[0]==="cubic-bezier")return hN(i)}return typeof i=="function"?i:null};function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function pN(e){return ege(e)||Jve(e)||l4(e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ege(e){if(Array.isArray(e))return H1(e)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){W1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1(e,t,r){return t=tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=rge(e,"string");return $h(t)==="symbol"?t:String(t)}function rge(e,t){if($h(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($h(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nge(e,t){return sge(e)||age(e,t)||l4(e,t)||ige()}function ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function age(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function sge(e){if(Array.isArray(e))return e}var sg=function(t,r,n){return t+(r-t)*n},q1=function(t){var r=t.from,n=t.to;return r!==n},oge=function e(t,r,n){var i=jf(function(a,s){if(q1(s)){var l=t(s.from,s.to,s.velocity),c=nge(l,2),u=c[0],d=c[1];return Ar(Ar({},s),{},{from:u,velocity:d})}return s},r);return n<1?jf(function(a,s){return q1(s)?Ar(Ar({},s),{},{velocity:sg(s.velocity,i[a].velocity,n),from:sg(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const lge=function(e,t,r,n,i){var a=Lve(e,t),s=a.reduce(function(g,v){return Ar(Ar({},g),{},W1({},v,[e[v],t[v]]))},{}),l=a.reduce(function(g,v){return Ar(Ar({},g),{},W1({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return jf(function(v,x){return x.from},l)},p=function(){return!Object.values(l).filter(q1).length},y=function(v){u||(u=v);var x=v-u,b=x/r.dt;l=oge(r,l,b),i(Ar(Ar(Ar({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var x=(v-d)/n,b=jf(function(w,S){return sg.apply(void 0,pN(S).concat([r(x)]))},s);if(i(Ar(Ar(Ar({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=jf(function(w,S){return sg.apply(void 0,pN(S).concat([r(1)]))},s);i(Ar(Ar(Ar({},e),t),_))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var cge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uge(e,t){if(e==null)return{};var r=dge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dge(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eb(e){return mge(e)||pge(e)||hge(e)||fge()}function fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hge(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function pge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mge(e){if(Array.isArray(e))return K1(e)}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nf(e,t,r){return t=c4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c4(n.key),n)}}function yge(e,t,r){return t&&gge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4(e){var t=xge(e,"string");return bu(t)==="symbol"?t:String(t)}function xge(e,t){if(bu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G1(e,t)}function wge(e){var t=jge();return function(){var n=og(e),i;if(t){var a=og(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Y1(this,i)}}function Y1(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1(e)}function X1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(e)}var fi=function(e){bge(r,e);var t=wge(r);function r(n,i){var a;vge(this,r),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(X1(a)),a.changeStyle=a.changeStyle.bind(X1(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Y1(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Y1(a);a.state={style:c?nf({},c,u):u}}else a.state={style:{}};return a}return yge(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var p={style:c?nf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Eve(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:i.to;if(this.state&&h){var g={style:c?nf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation(ji(ji({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=lge(s,l,Qve(u),c,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,v){if(v===0)return m;var x=g.duration,b=g.easing,_=b===void 0?"ease":b,w=g.style,S=g.properties,C=g.onAnimationEnd,P=v>0?s[v-1]:g,E=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(eb(m),[a.runJSAnimation.bind(a,{from:P.style,to:w,duration:x,easing:_}),x]);var k=dN(E,x,_),A=ji(ji(ji({},P.style),w),{},{transition:k});return[].concat(eb(m),[A,x,C]).filter(Fve)};return this.manager.start([c].concat(eb(s.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Mve());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=l?nf({},l,c):c,g=dN(Object.keys(m),s,u);y.start([d,a,ji(ji({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=uge(i,cge),u=j.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,v=y.className,x=j.cloneElement(p,ji(ji({},c),{},{style:ji(ji({},g),d),className:v}));return x};return u===1?f(j.Children.only(a)):N.createElement("div",null,j.Children.map(a,function(h){return f(h)}))}}]),r}(j.PureComponent);fi.displayName="Animate";fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fi.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function _ge(e,t){return Age(e)||Pge(e,t)||Cge(e,t)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cge(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Age(e){if(Array.isArray(e))return e}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Ege(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ege(e,t,r){return t=kge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Oge(e,"string");return Mh(t)=="symbol"?t:t+""}function Oge(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bN=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+i,`
            L `).concat(t+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Nge=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Tge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mC=function(t){var r=xN(xN({},Tge),t),n=j.useRef(),i=j.useState(-1),a=_ge(i,2),s=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=We("recharts-rectangle",p);return x?N.createElement(fi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(_){var w=_.width,S=_.height,C=_.x,P=_.y;return N.createElement(fi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},N.createElement("path",lg({},Ae(r,!0),{className:b,d:bN(C,P,w,S,h),ref:n})))}):N.createElement("path",lg({},Ae(r,!0),{className:b,d:bN(c,u,d,f,h)}))},Rge=["points","className","baseLinePoints","connectNulls"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function $ge(e,t){if(e==null)return{};var r=Mge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wN(e){return Fge(e)||Lge(e)||Dge(e)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dge(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(e,t)}}function Lge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fge(e){if(Array.isArray(e))return Q1(e)}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jN=function(t){return t&&t.x===+t.x&&t.y===+t.y},Bge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){jN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),jN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},_f=function(t,r){var n=Bge(t);r&&(n=[n.reduce(function(a,s){return[].concat(wN(a),wN(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Uge=function(t,r,n){var i=_f(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(_f(r.reverse(),n).slice(1))},zge=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=$ge(t,Rge);if(!r||!r.length)return null;var l=We("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=Uge(r,i,a);return N.createElement("g",{className:l},N.createElement("path",Sc({},Ae(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?N.createElement("path",Sc({},Ae(s,!0),{fill:"none",d:_f(r,a)})):null,c?N.createElement("path",Sc({},Ae(s,!0),{fill:"none",d:_f(i,a)})):null)}var d=_f(r,a);return N.createElement("path",Sc({},Ae(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z1.apply(this,arguments)}var vp=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=We("recharts-dot",a);return r===+r&&n===+n&&i===+i?j.createElement("circle",Z1({},Ae(t,!1),kv(t),{className:s,cx:r,cy:n,r:i})):null};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}var Vge=["x","y","top","left","width","height","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(this,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){Hge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hge(e,t,r){return t=qge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qge(e){var t=Kge(e,"string");return Ih(t)=="symbol"?t:t+""}function Kge(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gge(e,t){if(e==null)return{};var r=Yge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xge=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Qge=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=Gge(t,Vge),g=Wge({x:n,y:a,top:l,left:u,width:f,height:p},m);return!de(n)||!de(a)||!de(f)||!de(p)||!de(l)||!de(u)?null:N.createElement("path",J1({},Ae(g,!0),{className:We("recharts-cross",y),d:Xge(n,a,f,p,l,u)}))},Zge=ax,Jge=wL,eye=_a;function tye(e,t){return e&&e.length?Zge(e,eye(t),Jge):void 0}var rye=tye;const nye=mt(rye);var iye=ax,aye=_a,sye=jL;function oye(e,t){return e&&e.length?iye(e,aye(t),sye):void 0}var lye=oye;const cye=mt(lye);var uye=["cx","cy","angle","ticks","axisLine"],dye=["ticks","tick","angle","tickFormatter","stroke"];function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t){if(e==null)return{};var r=fye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d4(n.key),n)}}function pye(e,t,r){return t&&PN(e.prototype,t),r&&PN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mye(e,t,r){return t=cg(t),vye(e,u4()?Reflect.construct(t,r||[],cg(e).constructor):t.apply(e,r))}function vye(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(e)}function gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!e})()}function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(e)}function yye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}function ej(e,t){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ej(e,t)}function cx(e,t,r){return t=d4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4(e){var t=xye(e,"string");return wu(t)=="symbol"?t:t+""}function xye(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ux=function(e){function t(){return hye(this,t),mye(this,t,arguments)}return yye(t,e),pye(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return At(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=nye(l,function(d){return d.coordinate||0}),u=cye(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=CN(n,uye),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=At(i,a,d[0],s),h=At(i,a,d[1],s),p=$o($o($o({},Ae(u,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return N.createElement("line",Sf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=CN(i,dye),f=this.getTickTextAnchor(),h=Ae(d,!1),p=Ae(s,!1),y=a.map(function(m,g){var v=n.getTickValueCoord(m),x=$o($o($o($o({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:m});return N.createElement(Ye,Sf({className:We("recharts-polar-radius-axis-tick",XL(s)),key:"tick-".concat(m.coordinate)},uo(n.props,m,g)),t.renderTickItem(s,x,c?c(m.value,g):m.value))});return N.createElement(Ye,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:N.createElement(Ye,{className:We("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return N.isValidElement(n)?s=N.cloneElement(n,i):Ie(n)?s=n(i):s=N.createElement(wl,Sf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(j.PureComponent);cx(ux,"displayName","PolarRadiusAxis");cx(ux,"axisType","radiusAxis");cx(ux,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h4(n.key),n)}}function wye(e,t,r){return t&&EN(e.prototype,t),r&&EN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jye(e,t,r){return t=ug(t),_ye(e,f4()?Reflect.construct(t,r||[],ug(e).constructor):t.apply(e,r))}function _ye(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sye(e)}function Sye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!e})()}function ug(e){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(e)}function Cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tj(e,t)}function tj(e,t){return tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tj(e,t)}function dx(e,t,r){return t=h4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4(e){var t=Pye(e,"string");return ju(t)=="symbol"?t:t+""}function Pye(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aye=Math.PI/180,kN=1e-5,fx=function(e){function t(){return bye(this,t),jye(this,t,arguments)}return Cye(t,e),wye(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=At(a,s,l,n.coordinate),h=At(a,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Aye),s;return a>kN?s=i==="outer"?"start":"end":a<-kN?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Mo(Mo({},Ae(this.props,!1)),{},{fill:"none"},Ae(l,!1));if(c==="circle")return N.createElement(vp,Ho({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return At(i,a,s,h.coordinate)});return N.createElement(zge,Ho({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ae(this.props,!1),f=Ae(s,!1),h=Mo(Mo({},d),{},{fill:"none"},Ae(l,!1)),p=a.map(function(y,m){var g=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=Mo(Mo(Mo({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:g.x2,y:g.y2});return N.createElement(Ye,Ho({className:We("recharts-polar-angle-axis-tick",XL(s)),key:"tick-".concat(y.coordinate)},uo(n.props,y,m)),l&&N.createElement("line",Ho({className:"recharts-polar-angle-axis-tick-line"},h,g)),s&&t.renderTickItem(s,x,c?c(y.value,m):y.value))});return N.createElement(Ye,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:N.createElement(Ye,{className:We("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return N.isValidElement(n)?s=N.cloneElement(n,i):Ie(n)?s=n(i):s=N.createElement(wl,Ho({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(j.PureComponent);dx(fx,"displayName","PolarAngleAxis");dx(fx,"axisType","angleAxis");dx(fx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Eye=g3,kye=Eye(Object.getPrototypeOf,Object),Oye=kye,Nye=ss,Tye=Oye,Rye=os,$ye="[object Object]",Mye=Function.prototype,Iye=Object.prototype,p4=Mye.toString,Dye=Iye.hasOwnProperty,Lye=p4.call(Object);function Fye(e){if(!Rye(e)||Nye(e)!=$ye)return!1;var t=Tye(e);if(t===null)return!0;var r=Dye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&p4.call(r)==Lye}var Bye=Fye;const Uye=mt(Bye);var zye=ss,Vye=os,Wye="[object Boolean]";function Hye(e){return e===!0||e===!1||Vye(e)&&zye(e)==Wye}var qye=Hye;const Kye=mt(qye);function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function Gye(e,t){return Zye(e)||Qye(e,t)||Xye(e,t)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(e,t){if(e){if(typeof e=="string")return ON(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(e,t)}}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Zye(e){if(Array.isArray(e))return e}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jye(e,t,r){return t=exe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function exe(e){var t=txe(e,"string");return Dh(t)=="symbol"?t:t+""}function txe(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RN=function(t,r,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+a),l+="L ".concat(t+n-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},rxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nxe=function(t){var r=TN(TN({},rxe),t),n=j.useRef(),i=j.useState(-1),a=Gye(i,2),s=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=We("recharts-trapezoid",p);return v?N.createElement(fi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(b){var _=b.upperWidth,w=b.lowerWidth,S=b.height,C=b.x,P=b.y;return N.createElement(fi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},N.createElement("path",dg({},Ae(r,!0),{className:x,d:RN(C,P,_,w,S),ref:n})))}):N.createElement("g",null,N.createElement("path",dg({},Ae(r,!0),{className:x,d:RN(c,u,d,f,h)})))},ixe=["option","shapeType","propTransformer","activeClassName","isActive"];function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function axe(e,t){if(e==null)return{};var r=sxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){oxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oxe(e,t,r){return t=lxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lxe(e){var t=cxe(e,"string");return Lh(t)=="symbol"?t:t+""}function cxe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uxe(e,t){return fg(fg({},t),e)}function dxe(e,t){return e==="symbols"}function MN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return N.createElement(mC,r);case"trapezoid":return N.createElement(nxe,r);case"sector":return N.createElement(JL,r);case"symbols":if(dxe(t))return N.createElement(Yy,r);break;default:return null}}function fxe(e){return j.isValidElement(e)?e.props:e}function hg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?uxe:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=axe(e,ixe),u;if(j.isValidElement(t))u=j.cloneElement(t,fg(fg({},c),fxe(t)));else if(Ie(t))u=t(c);else if(Uye(t)&&!Kye(t)){var d=i(t,c);u=N.createElement(MN,{shapeType:r,elementProps:d})}else{var f=c;u=N.createElement(MN,{shapeType:r,elementProps:f})}return l?N.createElement(Ye,{className:s},u):u}function hx(e,t){return t!=null&&"trapezoids"in e.props}function px(e,t){return t!=null&&"sectors"in e.props}function Fh(e,t){return t!=null&&"points"in e.props}function hxe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function pxe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mxe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function vxe(e,t){var r;return hx(e,t)?r=hxe:px(e,t)?r=pxe:Fh(e,t)&&(r=mxe),r}function gxe(e,t){var r;return hx(e,t)?r="trapezoids":px(e,t)?r="sectors":Fh(e,t)&&(r="points"),r}function yxe(e,t){if(hx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(px(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fh(e,t)?t.payload:{}}function xxe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=gxe(r,t),a=yxe(r,t),s=n.filter(function(c,u){var d=fo(a,c),f=r.props[i].filter(function(y){var m=vxe(r,t);return m(y,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var Dm;function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v4(n.key),n)}}function wxe(e,t,r){return t&&DN(e.prototype,t),r&&DN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jxe(e,t,r){return t=pg(t),_xe(e,m4()?Reflect.construct(t,r||[],pg(e).constructor):t.apply(e,r))}function _xe(e,t){if(t&&(_u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(e)}function Sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(e)}function Cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rj(e,t)}function rj(e,t){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rj(e,t)}function ti(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=Pxe(e,"string");return _u(t)=="symbol"?t:t+""}function Pxe(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cs=function(e){function t(r){var n;return bxe(this,t),n=jxe(this,t,[r]),ti(n,"pieRef",null),ti(n,"sectorRefs",[]),ti(n,"id",bo("recharts-pie-")),ti(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ie(i)&&i()}),ti(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ie(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Cxe(t,e),wxe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ae(this.props,!1),f=Ae(s,!1),h=Ae(l,!1),p=s&&s.offsetRadius||20,y=n.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,x=At(m.cx,m.cy,m.outerRadius+p,v),b=St(St(St(St({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=St(St(St(St({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[At(m.cx,m.cy,m.outerRadius,v),x]}),w=c;return Me(c)&&Me(u)?w="value":Me(c)&&(w=u),N.createElement(Ye,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,b,Rt(m,w)))});return N.createElement(Ye,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,y=St(St({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return N.createElement(Ye,Cc({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},uo(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),N.createElement(hg,Cc({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return N.createElement(fi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=a&&a[0],x=v.startAngle;return a.forEach(function(b,_){var w=h&&h[_],S=_>0?Fn(b,"paddingAngle",0):0;if(w){var C=Vt(w.endAngle-w.startAngle,b.endAngle-b.startAngle),P=St(St({},b),{},{startAngle:x+S,endAngle:x+C(m)+S});g.push(P),x=P.endAngle}else{var E=b.endAngle,k=b.startAngle,A=Vt(0,E-k),O=A(m),T=St(St({},b),{},{startAngle:x+S,endAngle:x+O+S});g.push(T),x=T.endAngle}}),N.createElement(Ye,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!fo(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!de(u)||!de(d)||!de(f)||!de(h))return null;var m=We("recharts-pie",l);return N.createElement(Ye,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),wr.renderCallByParent(this.props,null,!1),(!p||y)&&Ui.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(N.isValidElement(n))return N.cloneElement(n,i);if(Ie(n))return n(i);var s=We("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return N.createElement(ro,Cc({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(N.isValidElement(n))return N.cloneElement(n,i);var s=a;if(Ie(n)&&(s=n(i),N.isValidElement(s)))return s;var l=We("recharts-pie-label-text",typeof n!="boolean"&&!Ie(n)?n.className:"");return N.createElement(wl,Cc({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(j.PureComponent);Dm=cs;ti(cs,"displayName","Pie");ti(cs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ai.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ti(cs,"parseDeltaAngle",function(e,t){var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ti(cs,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ae(e,!1),i=nn(r,dp);return t&&t.length?t.map(function(a,s){return St(St(St({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return St(St({},n),a.props)}):[]});ti(cs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=YL(i,a),l=n+en(e.cx,i,i/2),c=r+en(e.cy,a,a/2),u=en(e.innerRadius,s,0),d=en(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ti(cs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?St(St({},t.type.defaultProps),t.props):t.props,i=Dm.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Dm.parseCoordinateOfPie(n,r),m=Dm.parseDeltaAngle(s,l),g=Math.abs(m),v=u;Me(u)&&Me(f)?(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Me(u)&&(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var x=i.filter(function(P){return Rt(P,v,0)!==0}).length,b=(g>=360?x:x-1)*c,_=g-x*p-b,w=i.reduce(function(P,E){var k=Rt(E,v,0);return P+(de(k)?k:0)},0),S;if(w>0){var C;S=i.map(function(P,E){var k=Rt(P,v,0),A=Rt(P,d,E),O=(de(k)?k:0)/w,T;E?T=C.endAngle+Jr(m)*c*(k!==0?1:0):T=s;var $=T+Jr(m)*((k!==0?p:0)+O*_),I=(T+$)/2,R=(y.innerRadius+y.outerRadius)/2,M=[{name:A,value:k,payload:P,dataKey:v,type:h}],D=At(y.cx,y.cy,R,I);return C=St(St(St({percent:O,cornerRadius:a,name:A,tooltipPayload:M,midAngle:I,middleRadius:R,tooltipPosition:D},P),y),{},{value:Rt(P,v),startAngle:T,endAngle:$,payload:P,paddingAngle:Jr(m)*c}),C})}return St(St({},y),{},{sectors:S,data:i})});var Axe=Math.ceil,Exe=Math.max;function kxe(e,t,r,n){for(var i=-1,a=Exe(Axe((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var Oxe=kxe,Nxe=I3,LN=1/0,Txe=17976931348623157e292;function Rxe(e){if(!e)return e===0?e:0;if(e=Nxe(e),e===LN||e===-LN){var t=e<0?-1:1;return t*Txe}return e===e?e:0}var g4=Rxe,$xe=Oxe,Mxe=Zy,tb=g4;function Ixe(e){return function(t,r,n){return n&&typeof n!="number"&&Mxe(t,r,n)&&(r=n=void 0),t=tb(t),r===void 0?(r=t,t=0):r=tb(r),n=n===void 0?t<r?1:-1:tb(n),$xe(t,r,n,e)}}var Dxe=Ixe,Lxe=Dxe,Fxe=Lxe(),Bxe=Fxe;const mg=mt(Bxe);function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y4(e,t,r){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=zxe(e,"string");return Bh(t)=="symbol"?t:t+""}function zxe(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vxe=["Webkit","Moz","O","ms"],Wxe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Vxe.reduce(function(a,s){return BN(BN({},a),{},y4({},s+n,r))},{});return i[t]=r,i};function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function qxe(e,t,r){return t&&zN(e.prototype,t),r&&zN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kxe(e,t,r){return t=gg(t),Gxe(e,x4()?Reflect.construct(t,r||[],gg(e).constructor):t.apply(e,r))}function Gxe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yxe(e)}function Yxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(e)}function Xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nj(e,t)}function kn(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=Qxe(e,"string");return Su(t)=="symbol"?t:t+""}function Qxe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zxe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=bf().domain(mg(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},VN=function(t){return t.changedTouches&&!!t.changedTouches.length},Cu=function(e){function t(r){var n;return Hxe(this,t),n=Kxe(this,t,[r]),kn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),kn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),kn(n,"handleSlideDragStart",function(i){var a=VN(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xxe(t,e),qxe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(s,f),y=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Rt(a[n],l,n);return Ie(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var g=this.getIndex({startX:s+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=VN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),v[s]=u+x;var b=this.getIndex(v),_=b.startIndex,w=b.endIndex,S=function(){var P=g.length-1;return s==="startX"&&(l>c?_%m===0:w%m===0)||l<c&&w===P||s==="endX"&&(l>c?w%m===0:_%m===0)||l>c&&w===P};this.setState(kn(kn({},s,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(kn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return N.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?N.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),x=rb(rb({},Ae(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[g])===null||s===void 0?void 0:s.name);return N.createElement(Ye,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return N.createElement(Ye,{className:"recharts-brush-texts"},N.createElement(wl,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},y),this.getTextOfTick(i)),N.createElement(wl,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var b=We("recharts-brush",a),_=N.Children.count(s)===1,w=Wxe("userSelect","none");return N.createElement(Ye,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),N.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return N.isValidElement(n)?a=N.cloneElement(n,i):Ie(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return rb({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?Zxe({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(j.PureComponent);kn(Cu,"displayName","Brush");kn(Cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jxe=US;function e0e(e,t){var r;return Jxe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var t0e=e0e,r0e=c3,n0e=_a,i0e=t0e,a0e=Sn,s0e=Zy;function o0e(e,t,r){var n=a0e(e)?r0e:i0e;return r&&s0e(e,t,r)&&(t=void 0),n(e,n0e(t))}var l0e=o0e;const c0e=mt(l0e);var ma=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},WN=N3;function u0e(e,t,r){t=="__proto__"&&WN?WN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var d0e=u0e,f0e=d0e,h0e=k3,p0e=_a;function m0e(e,t){var r={};return t=p0e(t),h0e(e,function(n,i,a){f0e(r,i,t(n,i,a))}),r}var v0e=m0e;const g0e=mt(v0e);function y0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var x0e=y0e,b0e=US;function w0e(e,t){var r=!0;return b0e(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var j0e=w0e,_0e=x0e,S0e=j0e,C0e=_a,P0e=Sn,A0e=Zy;function E0e(e,t,r){var n=P0e(e)?_0e:S0e;return r&&A0e(e,t,r)&&(t=void 0),n(e,C0e(t))}var k0e=E0e;const w4=mt(k0e);var O0e=["x","y"];function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(this,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){N0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t,r){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0e(e){var t=R0e(e,"string");return Uh(t)=="symbol"?t:t+""}function R0e(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){if(e==null)return{};var r=M0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I0e(e,t){var r=e.x,n=e.y,i=$0e(e,O0e),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Hd(Hd(Hd(Hd(Hd({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qN(e){return N.createElement(hg,ij({shapeType:"rectangle",propTransformer:I0e,activeClassName:"recharts-active-bar"},e))}var D0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=de(n)||lJ(n);return a?t(n,i):(a||_l(),r)}},L0e=["value","background"],j4;function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function F0e(e,t){if(e==null)return{};var r=B0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){Us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S4(n.key),n)}}function z0e(e,t,r){return t&&GN(e.prototype,t),r&&GN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0e(e,t,r){return t=xg(t),W0e(e,_4()?Reflect.construct(t,r||[],xg(e).constructor):t.apply(e,r))}function W0e(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H0e(e)}function H0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!e})()}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}function q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aj(e,t)}function Us(e,t,r){return t=S4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S4(e){var t=K0e(e,"string");return Pu(t)=="symbol"?t:t+""}function K0e(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bt=function(e){function t(){var r;U0e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=V0e(this,t,[].concat(i)),Us(r,"state",{isAnimationFinished:!1}),Us(r,"id",bo("recharts-bar-")),Us(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Us(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return q0e(t,e),z0e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ae(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:s,m=sr(sr(sr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return N.createElement(Ye,yg({className:"recharts-bar-rectangle"},uo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),N.createElement(qN,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return N.createElement(fi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(g,v){var x=h&&h[v];if(x){var b=Vt(x.x,g.x),_=Vt(x.y,g.y),w=Vt(x.width,g.width),S=Vt(x.height,g.height);return sr(sr({},g),{},{x:b(y),y:_(y),width:w(y),height:S(y)})}if(s==="horizontal"){var C=Vt(0,g.height),P=C(y);return sr(sr({},g),{},{y:g.y+g.height-P,height:P})}var E=Vt(0,g.width),k=E(y);return sr(sr({},g),{},{width:k})});return N.createElement(Ye,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!fo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=F0e(u,L0e);if(!f)return null;var p=sr(sr(sr(sr(sr({},h),{},{fill:"#eee"},f),c),uo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return N.createElement(qN,yg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=nn(d,bd);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(g,v){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Rt(g,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return N.createElement(Ye,y,f.map(function(m){return N.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=We("recharts-bar",s),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,w=Me(m)?this.id:m;return N.createElement(Ye,{className:v},x||b?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(w)},N.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,N.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||g)&&Ui.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);j4=Bt;Us(Bt,"displayName","Bar");Us(Bt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Us(Bt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Ape(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?sr(sr({},m),r.props):r.props,v=g.dataKey,x=g.children,b=g.minPointSize,_=y==="horizontal"?s:a,w=u?_.scale.domain():null,S=$pe({numericAxis:_}),C=nn(x,dp),P=f.map(function(E,k){var A,O,T,$,I,R;u?A=Epe(u[d+k],w):(A=Rt(E,v),Array.isArray(A)||(A=[S,A]));var M=D0e(b,j4.defaultProps.minPointSize)(A[1],k);if(y==="horizontal"){var D,L=[s.scale(A[0]),s.scale(A[1])],V=L[0],J=L[1];O=DO({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:E,index:k}),T=(D=J??V)!==null&&D!==void 0?D:void 0,$=p.size;var Y=V-J;if(I=Number.isNaN(Y)?0:Y,R={x:O,y:s.y,width:$,height:s.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var F=Jr(I||M)*(Math.abs(M)-Math.abs(I));T-=F,I+=F}}else{var ee=[a.scale(A[0]),a.scale(A[1])],U=ee[0],z=ee[1];if(O=U,T=DO({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:E,index:k}),$=z-U,I=p.size,R={x:a.x,y:T,width:a.width,height:I},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var W=Jr($||M)*(Math.abs(M)-Math.abs($));$+=W}}return sr(sr(sr({},E),{},{x:O,y:T,width:$,height:I,value:u?A:A[1],payload:E,background:R},C&&C[k]&&C[k].props),{},{tooltipPayload:[KL(r,E)],tooltipPosition:{x:O+$/2,y:T+I/2}})});return sr({data:P,layout:y},h)});function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function G0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C4(n.key),n)}}function Y0e(e,t,r){return t&&YN(e.prototype,t),r&&YN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mx(e,t,r){return t=C4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4(e){var t=X0e(e,"string");return zh(t)=="symbol"?t:t+""}function X0e(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Nn(u,Bt);return d.reduce(function(p,y){var m=r[y],g=m.orientation,v=m.domain,x=m.padding,b=x===void 0?{}:x,_=m.mirror,w=m.reversed,S="".concat(g).concat(_?"Mirror":""),C,P,E,k,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=v[1]-v[0],T=1/0,$=m.categoricalDomain.sort(fJ);if($.forEach(function(ee,U){U>0&&(T=Math.min((ee||0)-($[U-1]||0),T))}),Number.isFinite(T)){var I=T/O,R=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=I*R/2),m.padding==="no-gap"){var M=en(t.barCategoryGap,I*R),D=I*R/2;C=D-M-(D-M)/R*M}}}i==="xAxis"?P=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:P=m.range,w&&(P=[P[1],P[0]]);var L=VL(m,a,h),V=L.scale,J=L.realScaleType;V.domain(v).range(P),WL(V);var Y=HL(V,Ti(Ti({},m),{},{realScaleType:J}));i==="xAxis"?(A=g==="top"&&!_||g==="bottom"&&_,E=n.left,k=f[S]-A*m.height):i==="yAxis"&&(A=g==="left"&&!_||g==="right"&&_,E=f[S]-A*m.width,k=n.top);var F=Ti(Ti(Ti({},m),Y),{},{realScaleType:J,x:E,y:k,scale:V,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return F.bandSize=rg(F,Y),!m.hide&&i==="xAxis"?f[S]+=(A?-1:1)*F.height:m.hide||(f[S]+=(A?-1:1)*F.width),Ti(Ti({},p),{},mx({},y,F))},{})},P4=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Q0e=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return P4({x:r,y:n},{x:i,y:a})},A4=function(){function e(t){G0e(this,e),this.scale=t}return Y0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();mx(A4,"EPS",1e-4);var vC=function(t){var r=Object.keys(t).reduce(function(n,i){return Ti(Ti({},n),{},mx({},i,A4.create(t[i])))},{});return Ti(Ti({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return g0e(i,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return w4(i,function(a,s){return r[s].isInRange(a)})}})};function Z0e(e){return(e%180+180)%180}var J0e=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Z0e(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},ebe=_a,tbe=up,rbe=Xy;function nbe(e){return function(t,r,n){var i=Object(t);if(!tbe(t)){var a=ebe(r);t=rbe(t),r=function(l){return a(i[l],l,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var ibe=nbe,abe=g4;function sbe(e){var t=abe(e),r=t%1;return t===t?r?t-r:t:0}var obe=sbe,lbe=_3,cbe=_a,ube=obe,dbe=Math.max;function fbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:ube(r);return i<0&&(i=dbe(n+i,0)),lbe(e,cbe(t),i)}var hbe=fbe,pbe=ibe,mbe=hbe,vbe=pbe(mbe),gbe=vbe;const ybe=mt(gbe);var xbe=fZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gC=j.createContext(void 0),yC=j.createContext(void 0),E4=j.createContext(void 0),k4=j.createContext({}),O4=j.createContext(void 0),N4=j.createContext(0),T4=j.createContext(0),QN=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=xbe(a);return N.createElement(gC.Provider,{value:n},N.createElement(yC.Provider,{value:i},N.createElement(k4.Provider,{value:a},N.createElement(E4.Provider,{value:d},N.createElement(O4.Provider,{value:s},N.createElement(N4.Provider,{value:u},N.createElement(T4.Provider,{value:c},l)))))))},bbe=function(){return j.useContext(O4)},R4=function(t){var r=j.useContext(gC);r==null&&_l();var n=r[t];return n==null&&_l(),n},wbe=function(){var t=j.useContext(gC);return Ns(t)},jbe=function(){var t=j.useContext(yC),r=ybe(t,function(n){return w4(n.domain,Number.isFinite)});return r||Ns(t)},$4=function(t){var r=j.useContext(yC);r==null&&_l();var n=r[t];return n==null&&_l(),n},_be=function(){var t=j.useContext(E4);return t},Sbe=function(){return j.useContext(k4)},xC=function(){return j.useContext(T4)},bC=function(){return j.useContext(N4)};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I4(n.key),n)}}function Abe(e,t,r){return t&&Pbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ebe(e,t,r){return t=bg(t),kbe(e,M4()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function kbe(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(e)}function Obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function Nbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sj(e,t)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){wC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wC(e,t,r){return t=I4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I4(e){var t=Tbe(e,"string");return Au(t)=="symbol"?t:t+""}function Tbe(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rbe(e,t){return Dbe(e)||Ibe(e,t)||Mbe(e,t)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbe(e,t){if(e){if(typeof e=="string")return eT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(e,t)}}function eT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ibe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Dbe(e){if(Array.isArray(e))return e}function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oj.apply(this,arguments)}var Lbe=function(t,r){var n;return N.isValidElement(t)?n=N.cloneElement(t,r):Ie(t)?n=t(r):n=N.createElement("line",oj({},r,{className:"recharts-reference-line-line"})),n},Fbe=function(t,r,n,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var y=u.y,m=t.y.apply(y,{position:s});if(ma(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?g.reverse():g}if(r){var v=u.x,x=t.x.apply(v,{position:s});if(ma(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return l==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:s})});return ma(u,"discard")&&c0e(w,function(S){return!t.isInRange(S)})?null:w}return null};function Bbe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=bbe(),d=R4(i),f=$4(a),h=_be();if(!u||!h)return null;Bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=vC({x:d.scale,y:f.scale}),y=gr(t),m=gr(r),g=n&&n.length===2,v=Fbe(p,y,m,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var x=Rbe(v,2),b=x[0],_=b.x,w=b.y,S=x[1],C=S.x,P=S.y,E=ma(e,"hidden")?"url(#".concat(u,")"):void 0,k=JN(JN({clipPath:E},Ae(e,!0)),{},{x1:_,y1:w,x2:C,y2:P});return N.createElement(Ye,{className:We("recharts-reference-line",l)},Lbe(s,k),wr.renderCallByParent(e,Q0e({x1:_,y1:w,x2:C,y2:P})))}var jC=function(e){function t(){return Cbe(this,t),Ebe(this,t,arguments)}return Nbe(t,e),Abe(t,[{key:"render",value:function(){return N.createElement(Bbe,this.props)}}])}(N.Component);wC(jC,"displayName","ReferenceLine");wC(jC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lj.apply(this,arguments)}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function Vbe(e,t,r){return t&&zbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wbe(e,t,r){return t=wg(t),Hbe(e,D4()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function Hbe(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function Kbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cj(e,t)}function gx(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=Gbe(e,"string");return Eu(t)=="symbol"?t:t+""}function Gbe(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ybe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=vC({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return ma(t,"discard")&&!s.isInRange(l)?null:l},yx=function(e){function t(){return Ube(this,t),Wbe(this,t,arguments)}return Kbe(t,e),Vbe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=gr(i),d=gr(a);if(Bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Ybe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,g=y.className,v=ma(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=rT(rT({clipPath:v},Ae(this.props,!0)),{},{cx:h,cy:p});return N.createElement(Ye,{className:We("recharts-reference-dot",g)},t.renderDot(m,x),wr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(N.Component);gx(yx,"displayName","ReferenceDot");gx(yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gx(yx,"renderDot",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):Ie(e)?r=e(t):r=N.createElement(vp,lj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uj.apply(this,arguments)}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function Zbe(e,t,r){return t&&Qbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jbe(e,t,r){return t=jg(t),ewe(e,F4()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function ewe(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return twe(e)}function twe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function rwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}function dj(e,t){return dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dj(e,t)}function xx(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=nwe(e,"string");return ku(t)=="symbol"?t:t+""}function nwe(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iwe=function(t,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=vC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ma(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:P4(p,y)},bx=function(e){function t(){return Xbe(this,t),Jbe(this,t,arguments)}return rwe(t,e),Zbe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(i),h=gr(a),p=gr(s),y=gr(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var g=iwe(f,h,p,y,this.props);if(!g&&!m)return null;var v=ma(this.props,"hidden")?"url(#".concat(d,")"):void 0;return N.createElement(Ye,{className:We("recharts-reference-area",c)},t.renderRect(m,iT(iT({clipPath:v},Ae(this.props,!0)),g)),wr.renderCallByParent(this.props,g))}}])}(N.Component);xx(bx,"displayName","ReferenceArea");xx(bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xx(bx,"renderRect",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):Ie(e)?r=e(t):r=N.createElement(mC,uj({},t,{className:"recharts-reference-area-rect"})),r});function U4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function awe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return J0e(n,r)}function swe(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function _g(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function owe(e,t){return U4(e,t+1)}function lwe(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:U4(n,u)};var m=c,g,v=function(){return g===void 0&&(g=r(y,m)),g},x=y.coordinate,b=c===0||_g(e,x,v,d,l);b||(c=0,d=s,u+=1),b&&(d=x+e*(v()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){cwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t,r){return t=uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uwe(e){var t=dwe(e,"string");return Vh(t)=="symbol"?t:t+""}function dwe(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(h){var p=a[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===s-1){var g=e*(p.coordinate+e*m()/2-c);a[h]=p=Ur(Ur({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[h]=p=Ur(Ur({},p),{},{tickCoord:p.coordinate});var v=_g(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+i),a[h]=Ur(Ur({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function hwe(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Ur(Ur({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=_g(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),s[l-1]=Ur(Ur({},d),{},{isShow:!0}))}for(var y=a?l-1:l,m=function(x){var b=s[x],_,w=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*w()/2-c);s[x]=b=Ur(Ur({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[x]=b=Ur(Ur({},b),{},{tickCoord:b.coordinate});var C=_g(e,b.tickCoord,w,c,u);C&&(c=b.tickCoord+e*(w()/2+i),s[x]=Ur(Ur({},b),{},{isShow:!0}))},g=0;g<y;g++)m(g);return s}function _C(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(de(c)||ai.isSsr)return owe(i,typeof c=="number"&&de(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?xf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var w=Ie(u)?u(b.value,_):b.value;return p==="width"?awe(xf(w,{fontSize:t,letterSpacing:r}),y,f):xf(w,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?Jr(i[1].coordinate-i[0].coordinate):1,v=swe(a,g,p);return c==="equidistantPreserveStart"?lwe(g,v,m,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=hwe(g,v,m,i,s,c==="preserveStartEnd"):h=fwe(g,v,m,i,s),h.filter(function(x){return x.isShow}))}var pwe=["viewBox"],mwe=["viewBox"],vwe=["ticks"];function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){SC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nb(e,t){if(e==null)return{};var r=gwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V4(n.key),n)}}function xwe(e,t,r){return t&&oT(e.prototype,t),r&&oT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=Sg(t),wwe(e,z4()?Reflect.construct(t,r||[],Sg(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}function _we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fj(e,t)}function SC(e,t,r){return t=V4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=Swe(e,"string");return Ou(t)=="symbol"?t:t+""}function Swe(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd=function(e){function t(r){var n;return ywe(this,t),n=bwe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return _we(t,e),xwe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=nb(n,pwe),l=this.props,c=l.viewBox,u=nb(l,mwe);return!Dc(a,c)||!Dc(s,u)||!Dc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,m,g,v,x,b=f?-1:1,_=n.tickSize||d,w=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=s+ +!f*c,m=g-b*_,x=m-b*h,v=w;break;case"left":m=g=n.coordinate,y=a+ +!f*l,p=y-b*_,v=p-b*h,x=w;break;case"right":m=g=n.coordinate,y=a+ +f*l,p=y+b*_,v=p+b*h,x=w;break;default:p=y=n.coordinate,g=s+ +f*c,m=g+b*_,x=m+b*h,v=w;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ur(ur(ur({},Ae(this.props,!1)),Ae(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ur(ur({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ur(ur({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+l})}return N.createElement("line",Pc({},f,{className:We("recharts-cartesian-axis-line",Fn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=_C(ur(ur({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Ae(this.props,!1),v=Ae(d,!1),x=ur(ur({},g),{},{fill:"none"},Ae(c,!1)),b=p.map(function(_,w){var S=s.getTickLineCoord(_),C=S.line,P=S.tick,E=ur(ur(ur(ur({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:u},v),P),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return N.createElement(Ye,Pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},uo(s.props,_,w)),c&&N.createElement("line",Pc({},x,C,{className:We("recharts-cartesian-axis-tick-line",Fn(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(Ie(f)?f(_.value,w):_.value).concat(h||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=nb(f,vwe),y=h;return Ie(c)&&(y=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!y||!y.length?null:N.createElement(Ye,{className:We("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=We(i.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(n)?s=N.cloneElement(n,ur(ur({},i),{},{className:l})):Ie(n)?s=n(ur(ur({},i),{},{className:l})):s=N.createElement(wl,Pc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(j.Component);SC(wd,"displayName","CartesianAxis");SC(wd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cwe=["x1","y1","x2","y2","key"],Pwe=["offset"];function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){Awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Awe(e,t,r){return t=Ewe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ewe(e){var t=kwe(e,"string");return Sl(t)=="symbol"?t:t+""}function kwe(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}function cT(e,t){if(e==null)return{};var r=Owe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nwe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return N.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function W4(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=cT(t,Cwe),u=Ae(c,!1);u.offset;var d=cT(u,Pwe);r=N.createElement("line",el({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function Twe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Vr(Vr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return W4(i,u)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Rwe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Vr(Vr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return W4(i,u)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $we(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+s-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return N.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Mwe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+l-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return N.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Iwe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return zL(_C(Vr(Vr(Vr({},wd.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Dwe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return zL(_C(Vr(Vr(Vr({},wd.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Kl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hr(e){var t,r,n,i,a,s,l=xC(),c=bC(),u=Sbe(),d=Vr(Vr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Kl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Kl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Kl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Kl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Kl.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Kl.verticalFill,x:de(e.x)?e.x:u.left,y:de(e.y)?e.y:u.top,width:de(e.width)?e.width:u.width,height:de(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,x=wbe(),b=jbe();if(!de(p)||p<=0||!de(y)||y<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Iwe,w=d.horizontalCoordinatesGenerator||Dwe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Ie(w)){var P=g&&g.length,E=w({yAxis:b?Vr(Vr({},b),{},{ticks:P?g:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);Bi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(E),"]")),Array.isArray(E)&&(S=E)}if((!C||!C.length)&&Ie(_)){var k=v&&v.length,A=_({xAxis:x?Vr(Vr({},x),{},{ticks:k?v:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Bi(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(A),"]")),Array.isArray(A)&&(C=A)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(Nwe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),N.createElement(Twe,el({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),N.createElement(Rwe,el({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),N.createElement($we,el({},d,{horizontalPoints:S})),N.createElement(Mwe,el({},d,{verticalPoints:C})))}Hr.displayName="CartesianGrid";var Lwe=["type","layout","connectNulls","ref"],Fwe=["key"];function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function uT(e,t){if(e==null)return{};var r=Bwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){Ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gl(e){return Wwe(e)||Vwe(e)||zwe(e)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(e,t){if(e){if(typeof e=="string")return hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hj(e,t)}}function Vwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wwe(e){if(Array.isArray(e))return hj(e)}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q4(n.key),n)}}function qwe(e,t,r){return t&&fT(e.prototype,t),r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwe(e,t,r){return t=Cg(t),Gwe(e,H4()?Reflect.construct(t,r||[],Cg(e).constructor):t.apply(e,r))}function Gwe(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(e)}function Ywe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(e)}function Xwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pj(e,t)}function pj(e,t){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pj(e,t)}function Ri(e,t,r){return t=q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=Qwe(e,"string");return Nu(t)=="symbol"?t:t+""}function Qwe(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pn=function(e){function t(){var r;Hwe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Kwe(this,t,[].concat(i)),Ri(r,"state",{isAnimationFinished:!0,totalLength:0}),Ri(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ri(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>f){p=[].concat(Gl(c.slice(0,y)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Gl(t.repeat(c,d)),Gl(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),Ri(r,"id",bo("recharts-line-")),Ri(r,"pathRef",function(s){r.mainCurve=s}),Ri(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ri(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xwe(t,e),qwe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=nn(d,bd);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Rt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return N.createElement(Ye,p,f.map(function(y){return N.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ae(this.props,!1),h=Ae(c,!0),p=u.map(function(m,g){var v=En(En(En({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return N.createElement(Ye,Cf({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=uT(l,Lwe),h=En(En(En({},Ae(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return N.createElement(ro,Cf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=s.animateNewValues,m=s.width,g=s.height,v=this.state,x=v.prevPoints,b=v.totalLength;return N.createElement(fi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(x){var S=x.length/l.length,C=l.map(function(O,T){var $=Math.floor(T*S);if(x[$]){var I=x[$],R=Vt(I.x,O.x),M=Vt(I.y,O.y);return En(En({},O),{},{x:R(w),y:M(w)})}if(y){var D=Vt(m*2,O.x),L=Vt(g/2,O.y);return En(En({},O),{},{x:D(w),y:L(w)})}return En(En({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(C,n,i)}var P=Vt(0,b),E=P(w),k;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=a.getStrokeDasharray(E,b,A)}else k=a.generateSimpleStrokeDasharray(b,E);return a.renderCurveStatically(l,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!fo(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=We("recharts-line",c),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=_||w,C=Me(g)?this.id:g,P=(n=Ae(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,k=E===void 0?3:E,A=P.strokeWidth,O=A===void 0?2:A,T=$D(s)?s:{},$=T.clipDot,I=$===void 0?!0:$,R=k*2+O;return N.createElement(Ye,{className:b},_||w?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(C)},N.createElement("rect",{x:_?h:h-p/2,y:w?f:f-y/2,width:_?p:p*2,height:w?y:y*2})),!I&&N.createElement("clipPath",{id:"clipPath-dots-".concat(C)},N.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:y+R}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||s)&&this.renderDots(S,I,C),(!m||v)&&Ui.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Gl(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(Gl(s),Gl(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(N.isValidElement(n))a=N.cloneElement(n,i);else if(Ie(n))a=n(i);else{var s=i.key,l=uT(i,Fwe),c=We("recharts-line-dot",typeof n!="boolean"?n.className:"");a=N.createElement(vp,Cf({key:s},l,{className:c}))}return a}}])}(j.PureComponent);Ri(pn,"displayName","Line");Ri(pn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ai.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ri(pn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=Rt(h,s);return d==="horizontal"?{x:xu({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:Me(y)?null:n.scale(y),value:y,payload:h}:{x:Me(y)?null:r.scale(y),y:xu({axis:n,ticks:a,bandSize:l,entry:h,index:p}),value:y,payload:h}});return En({points:f,layout:d},u)});var Zwe=["layout","type","stroke","connectNulls","isRange","ref"],Jwe=["key"],K4;function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function G4(e,t){if(e==null)return{};var r=e1e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X4(n.key),n)}}function r1e(e,t,r){return t&&pT(e.prototype,t),r&&pT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n1e(e,t,r){return t=Pg(t),i1e(e,Y4()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function i1e(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1e(e)}function a1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mj(e,t)}function oa(e,t,r){return t=X4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=o1e(e,"string");return Tu(t)=="symbol"?t:t+""}function o1e(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=function(e){function t(){var r;t1e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=n1e(this,t,[].concat(i)),oa(r,"state",{isAnimationFinished:!0}),oa(r,"id",bo("recharts-area-")),oa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ie(s)&&s()}),oa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ie(s)&&s()}),r}return s1e(t,e),r1e(t,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ae(this.props,!1),p=Ae(u,!0),y=d.map(function(g,v){var x=bs(bs(bs({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return N.createElement(Ye,tl({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=Bs(s.map(function(h){return h.y||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Bs(a.map(function(h){return h.y||0})),f)),de(f)?N.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=Bs(s.map(function(h){return h.x||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Bs(a.map(function(h){return h.x||0})),f)),de(f)?N.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=G4(l,Zwe);return N.createElement(Ye,{clipPath:a?"url(#clipPath-".concat(s,")"):null},N.createElement(ro,tl({},Ae(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&N.createElement(ro,tl({},Ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&N.createElement(ro,tl({},Ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return N.createElement(fi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(m){var b=m.length/l.length,_=l.map(function(P,E){var k=Math.floor(E*b);if(m[k]){var A=m[k],O=Vt(A.x,P.x),T=Vt(A.y,P.y);return bs(bs({},P),{},{x:O(x),y:T(x)})}return P}),w;if(de(c)&&typeof c=="number"){var S=Vt(g,c);w=S(x)}else if(Me(c)||hd(c)){var C=Vt(g,0);w=C(x)}else w=c.map(function(P,E){var k=Math.floor(E*b);if(g[k]){var A=g[k],O=Vt(A.x,P.x),T=Vt(A.y,P.y);return bs(bs({},P),{},{x:O(x),y:T(x)})}return P});return a.renderAreaStatically(_,w,n,i)}return N.createElement(Ye,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),N.createElement(Ye,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!fo(d,s)||!fo(f,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=We("recharts-area",c),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,C=Me(g)?this.id:g,P=(n=Ae(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,k=E===void 0?3:E,A=P.strokeWidth,O=A===void 0?2:A,T=$D(s)?s:{},$=T.clipDot,I=$===void 0?!0:$,R=k*2+O;return N.createElement(Ye,{className:b},_||w?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(C)},N.createElement("rect",{x:_?d:d-p/2,y:w?u:u-y/2,width:_?p:p*2,height:w?y:y*2})),!I&&N.createElement("clipPath",{id:"clipPath-dots-".concat(C)},N.createElement("rect",{x:d-R/2,y:u-R/2,width:p+R,height:y+R}))):null,x?null:this.renderArea(S,C),(s||x)&&this.renderDots(S,I,C),(!m||v)&&Ui.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);K4=Bn;oa(Bn,"displayName","Area");oa(Bn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ai.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oa(Bn,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,s=t.props.baseValue,l=s??a;if(de(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});oa(Bn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,m=K4.getBaseValue(t,r,n,i),g=p==="horizontal",v=!1,x=f.map(function(_,w){var S;y?S=u[d+w]:(S=Rt(_,c),Array.isArray(S)?v=!0:S=[m,S]);var C=S[1]==null||y&&Rt(_,c)==null;return g?{x:xu({axis:n,ticks:a,bandSize:l,entry:_,index:w}),y:C?null:i.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:xu({axis:i,ticks:s,bandSize:l,entry:_,index:w}),value:S,payload:_}}),b;return y||v?b=x.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):b=g?i.scale(m):n.scale(m),bs({points:x,baseLine:b,layout:p,isRange:v},h)});oa(Bn,"renderDotItem",function(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=We("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=G4(t,Jwe);r=N.createElement(vp,tl({},a,{key:i,className:n}))}return r});function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function l1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J4(n.key),n)}}function u1e(e,t,r){return t&&c1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1e(e,t,r){return t=Ag(t),f1e(e,Q4()?Reflect.construct(t,r||[],Ag(e).constructor):t.apply(e,r))}function f1e(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!e})()}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(e)}function p1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vj(e,t)}function vj(e,t){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vj(e,t)}function Z4(e,t,r){return t=J4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4(e){var t=m1e(e,"string");return Ru(t)=="symbol"?t:t+""}function m1e(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wx=function(e){function t(){return l1e(this,t),d1e(this,t,arguments)}return p1e(t,e),u1e(t,[{key:"render",value:function(){return null}}])}(j.Component);Z4(wx,"displayName","ZAxis");Z4(wx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var v1e=["option","isActive"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}function g1e(e,t){if(e==null)return{};var r=y1e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x1e(e){var t=e.option,r=e.isActive,n=g1e(e,v1e);return typeof t=="string"?j.createElement(hg,Pf({option:j.createElement(Yy,Pf({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(hg,Pf({option:t,isActive:r,shapeType:"symbols"},n))}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tF(n.key),n)}}function w1e(e,t,r){return t&&vT(e.prototype,t),r&&vT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1e(e,t,r){return t=Eg(t),_1e(e,eF()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function _1e(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1e(e)}function S1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function C1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gj(e,t)}function zs(e,t,r){return t=tF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=P1e(e,"string");return $u(t)=="symbol"?t:t+""}function P1e(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jx=function(e){function t(){var r;b1e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=j1e(this,t,[].concat(i)),zs(r,"state",{isAnimationFinished:!1}),zs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),zs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),zs(r,"id",bo("recharts-scatter-")),r}return C1e(t,e),w1e(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.activeShape,c=a.activeIndex,u=Ae(this.props,!1);return n.map(function(d,f){var h=c===f,p=h?l:s,y=Qn(Qn({},u),d);return N.createElement(Ye,Af({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},uo(i.props,d,f),{role:"img"}),N.createElement(x1e,Af({option:p,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return N.createElement(fi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=a.map(function(m,g){var v=f&&f[g];if(v){var x=Vt(v.cx,m.cx),b=Vt(v.cy,m.cy),_=Vt(v.size,m.size);return Qn(Qn({},m),{},{cx:x(p),cy:b(p),size:_(p)})}var w=Vt(0,m.size);return Qn(Qn({},m),{},{size:w(p)})});return N.createElement(Ye,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!fo(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,l=i.yAxis,c=i.children,u=nn(c,bd);return u?u.map(function(d,f){var h=d.props,p=h.direction,y=h.dataKey;return N.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(a[f]),data:a,xAxis:s,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:Rt(g,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,l=n.lineJointType,c=Ae(this.props,!1),u=Ae(a,!1),d,f;if(s==="joint")d=i.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var h=dJ(i),p=h.xmin,y=h.xmax,m=h.a,g=h.b,v=function(_){return m*_+g};d=[{x:p,y:v(p)},{x:y,y:v(y)}]}var x=Qn(Qn(Qn({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return N.isValidElement(a)?f=N.cloneElement(a,x):Ie(a)?f=a(x):f=N.createElement(ro,Af({},x,{type:l})),N.createElement(Ye,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,y=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=We("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,w=Me(y)?this.id:y;return N.createElement(Ye,{className:v,clipPath:_?"url(#clipPath-".concat(w,")"):null},x||b?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(w)},N.createElement("rect",{x:x?d:d-h/2,y:b?f:f-p/2,width:x?h:h*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),N.createElement(Ye,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&Ui.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);zs(jx,"displayName","Scatter");zs(jx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});zs(jx,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,s=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=i.props.tooltipType,d=nn(i.props.children,dp),f=Me(t.dataKey)?i.props.dataKey:t.dataKey,h=Me(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:wx.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=a.map(function(b,_){var w=Rt(b,f),S=Rt(b,h),C=!Me(p)&&Rt(b,p)||"-",P=[{name:Me(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:f,type:u},{name:Me(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:p,type:u});var E=xu({axis:t,ticks:s,bandSize:g,entry:b,index:_,dataKey:f}),k=xu({axis:r,ticks:l,bandSize:v,entry:b,index:_,dataKey:h}),A=C!=="-"?n.scale(C):m,O=Math.sqrt(Math.max(A,0)/Math.PI);return Qn(Qn({},b),{},{cx:E,cy:k,x:E-O,y:k-O,xAxis:t,yAxis:r,zAxis:n,width:2*O,height:2*O,size:A,node:{x:w,y:S,z:C},tooltipPayload:P,tooltipPosition:{x:E,y:k},payload:b},d&&d[_]&&d[_].props)});return Qn({points:x},c)});function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function A1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function k1e(e,t,r){return t&&E1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O1e(e,t,r){return t=kg(t),N1e(e,rF()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function N1e(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1e(e)}function T1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function R1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yj(e,t)}function nF(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=$1e(e,"string");return Mu(t)=="symbol"?t:t+""}function $1e(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xj.apply(this,arguments)}function M1e(e){var t=e.xAxisId,r=xC(),n=bC(),i=R4(t);return i==null?null:j.createElement(wd,xj({},i,{className:We("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ba(s,!0)}}))}var rr=function(e){function t(){return A1e(this,t),O1e(this,t,arguments)}return R1e(t,e),k1e(t,[{key:"render",value:function(){return j.createElement(M1e,this.props)}}])}(j.Component);nF(rr,"displayName","XAxis");nF(rr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function I1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function L1e(e,t,r){return t&&D1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F1e(e,t,r){return t=Og(t),B1e(e,aF()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function B1e(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U1e(e)}function U1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function z1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bj(e,t)}function sF(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=V1e(e,"string");return Iu(t)=="symbol"?t:t+""}function V1e(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(this,arguments)}var W1e=function(t){var r=t.yAxisId,n=xC(),i=bC(),a=$4(r);return a==null?null:j.createElement(wd,wj({},a,{className:We("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Ba(l,!0)}}))},nr=function(e){function t(){return I1e(this,t),F1e(this,t,arguments)}return z1e(t,e),L1e(t,[{key:"render",value:function(){return j.createElement(W1e,this.props)}}])}(j.Component);sF(nr,"displayName","YAxis");sF(nr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gT(e){return G1e(e)||K1e(e)||q1e(e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q1e(e,t){if(e){if(typeof e=="string")return jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jj(e,t)}}function K1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G1e(e){if(Array.isArray(e))return jj(e)}function jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _j=function(t,r,n,i,a){var s=nn(t,jC),l=nn(t,yx),c=[].concat(gT(s),gT(l)),u=nn(t,bx),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[d]===n&&ma(g.props,"extendDomain")&&de(g.props[f])){var v=g.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&ma(g.props,"extendDomain")&&de(g.props[p])&&de(g.props[y])){var v=g.props[p],x=g.props[y];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return de(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},lF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,x,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];g.fn.apply(g.context,x)}else{var _=g.length,w;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,d);break;case 3:g[b].fn.call(g[b].context,d,f);break;case 4:g[b].fn.call(g[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];g[b].fn.apply(g[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lF);var Y1e=lF.exports;const X1e=mt(Y1e);var ib=new X1e,ab="recharts.syncMouseEvents";function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function Q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function J1e(e,t,r){return t&&Z1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sb(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=eje(e,"string");return Wh(t)=="symbol"?t:t+""}function eje(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tje=function(){function e(){Q1e(this,e),sb(this,"activeIndex",0),sb(this,"coordinateList",[]),sb(this,"layout","horizontal")}return J1e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rje(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&de(n)&&de(i))return!0}return!1}function nje(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function uF(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=At(t,r,n,i),l=At(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function ije(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=At(l,c,u,f),p=At(l,c,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return uF(t);return[{x:n,y:i},{x:a,y:s}]}function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){aje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aje(e,t,r){return t=sje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sje(e){var t=oje(e,"string");return Hh(t)=="symbol"?t:t+""}function oje(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lje(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,m=ro;if(h==="ScatterChart")y=s,m=Qge;else if(h==="BarChart")y=nje(f,s,c,d),m=mC;else if(f==="radial"){var g=uF(s),v=g.cx,x=g.cy,b=g.radius,_=g.startAngle,w=g.endAngle;y={cx:v,cy:x,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},m=JL}else y={points:ije(f,s,c)},m=ro;var S=fm(fm(fm(fm({stroke:"#ccc",pointerEvents:"none"},c),y),Ae(p,!1)),{},{payload:l,payloadIndex:u,className:We("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(m,S)}var cje=["item"],uje=["children","className","width","height","style","compact","title","desc"];function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}function xT(e,t){return hje(e)||fje(e,t)||fF(e,t)||dje()}function dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function hje(e){if(Array.isArray(e))return e}function bT(e,t){if(e==null)return{};var r=pje(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hF(n.key),n)}}function gje(e,t,r){return t&&vje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yje(e,t,r){return t=Ng(t),xje(e,dF()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function xje(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bje(e)}function bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function wje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sj(e,t)}function Lu(e){return Sje(e)||_je(e)||fF(e)||jje()}function jje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(e,t){if(e){if(typeof e=="string")return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}}function _je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sje(e){if(Array.isArray(e))return Cj(e)}function Cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t,r){return t=hF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=Cje(e,"string");return Du(t)=="symbol"?t:t+""}function Cje(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pje={xAxis:["bottom","top"],yAxis:["left","right"]},Aje={width:"100%",height:"100%"},pF={x:0,y:0};function hm(e){return e}var Eje=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},kje=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return te(te(te({},i),At(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return te(te(te({},i),At(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return pF},_x=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Lu(l),Lu(u)):l},[]);return s.length>0?s:t&&t.length&&de(i)&&de(a)?t.slice(i,a+1):[]};function mF(e){return e==="number"?[0,"auto"]:void 0}var Pj=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=_x(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=Ev(p,s.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(Lu(c),[KL(u,h)]):c},[])},jT=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Eje(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=wpe(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Pj(t,r,d,f),p=kje(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Oje=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=UL(d,a);return n.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?te(te({},m.type.defaultProps),m.props):m.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,w=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,P=v.includeHidden,E=v[s];if(y[E])return y;var k=_x(t.data,{graphicalItems:i.filter(function(Y){var F,ee=s in Y.props?Y.props[s]:(F=Y.type.defaultProps)===null||F===void 0?void 0:F[s];return ee===E}),dataStartIndex:c,dataEndIndex:u}),A=k.length,O,T,$;rje(v.domain,_,x)&&(O=D1(v.domain,null,_),p&&(x==="number"||S!=="auto")&&($=wf(k,b,"category")));var I=mF(x);if(!O||O.length===0){var R,M=(R=v.domain)!==null&&R!==void 0?R:I;if(b){if(O=wf(k,b,x),x==="category"&&p){var D=uJ(O);w&&D?(T=O,O=mg(0,A)):w||(O=BO(M,O,m).reduce(function(Y,F){return Y.indexOf(F)>=0?Y:[].concat(Lu(Y),[F])},[]))}else if(x==="category")w?O=O.filter(function(Y){return Y!==""&&!Me(Y)}):O=BO(M,O,m).reduce(function(Y,F){return Y.indexOf(F)>=0||F===""||Me(F)?Y:[].concat(Lu(Y),[F])},[]);else if(x==="number"){var L=Ppe(k,i.filter(function(Y){var F,ee,U=s in Y.props?Y.props[s]:(F=Y.type.defaultProps)===null||F===void 0?void 0:F[s],z="hide"in Y.props?Y.props.hide:(ee=Y.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return U===E&&(P||!z)}),b,a,d);L&&(O=L)}p&&(x==="number"||S!=="auto")&&($=wf(k,b,"category"))}else p?O=mg(0,A):l&&l[E]&&l[E].hasStack&&x==="number"?O=h==="expand"?[0,1]:qL(l[E].stackGroups,c,u):O=BL(k,i.filter(function(Y){var F=s in Y.props?Y.props[s]:Y.type.defaultProps[s],ee="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return F===E&&(P||!ee)}),x,d,!0);if(x==="number")O=_j(f,O,E,a,C),M&&(O=D1(M,O,_));else if(x==="category"&&M){var V=M,J=O.every(function(Y){return V.indexOf(Y)>=0});J&&(O=V)}}return te(te({},y),{},Le({},E,te(te({},v),{},{axisType:a,domain:O,categoricalDomain:$,duplicateDomain:T,originalDomain:(g=v.domain)!==null&&g!==void 0?g:I,isCategorical:p,layout:d})))},{})},Nje=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=_x(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=UL(d,a),m=-1;return n.reduce(function(g,v){var x=v.type.defaultProps!==void 0?te(te({},v.type.defaultProps),v.props):v.props,b=x[s],_=mF("number");if(!g[b]){m++;var w;return y?w=mg(0,p):l&&l[b]&&l[b].hasStack?(w=qL(l[b].stackGroups,c,u),w=_j(f,w,b,a)):(w=D1(_,BL(h,n.filter(function(S){var C,P,E=s in S.props?S.props[s]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[s],k="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),w=_j(f,w,b,a)),te(te({},g),{},Le({},b,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:Fn(Pje,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:y,layout:d})))}return g},{})},Tje=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=nn(d,a),p={};return h&&h.length?p=Oje(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=Nje(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Rje=function(t){var r=Ns(t),n=Ba(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:zS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rg(r,n)}},_T=function(t){var r=t.children,n=t.defaultShowTooltip,i=Nn(r,Cu),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},$je=function(t){return!t||!t.length?!1:t.some(function(r){var n=Va(r&&r.type);return n&&n.indexOf("Bar")>=0})},ST=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mje=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Nn(f,Cu),y=Nn(f,Nr),m=Object.keys(c).reduce(function(w,S){var C=c[S],P=C.orientation;return!C.mirror&&!C.hide?te(te({},w),{},Le({},P,w[P]+C.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(w,S){var C=s[S],P=C.orientation;return!C.mirror&&!C.hide?te(te({},w),{},Le({},P,Fn(w,"".concat(P))+C.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=te(te({},g),m),x=v.bottom;p&&(v.bottom+=p.props.height||Cu.defaultProps.height),y&&r&&(v=Spe(v,i,n,r));var b=u-v.left-v.right,_=d-v.top-v.bottom;return te(te({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},Ije=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},gp=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,w=x.offset,S=x.updateId,C=x.dataStartIndex,P=x.dataEndIndex,E=v.barSize,k=v.layout,A=v.barGap,O=v.barCategoryGap,T=v.maxBarSize,$=ST(k),I=$.numericAxisName,R=$.cateAxisName,M=$je(b),D=[];return b.forEach(function(L,V){var J=_x(v.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:P}),Y=L.type.defaultProps!==void 0?te(te({},L.type.defaultProps),L.props):L.props,F=Y.dataKey,ee=Y.maxBarSize,U=Y["".concat(I,"Id")],z=Y["".concat(R,"Id")],W={},ue=c.reduce(function(K,Z){var ne=x["".concat(Z.axisType,"Map")],le=Y["".concat(Z.axisType,"Id")];ne&&ne[le]||Z.axisType==="zAxis"||_l();var oe=ne[le];return te(te({},K),{},Le(Le({},Z.axisType,oe),"".concat(Z.axisType,"Ticks"),Ba(oe)))},W),X=ue[R],re=ue["".concat(R,"Ticks")],q=_&&_[U]&&_[U].hasStack&&Mpe(L,_[U].stackGroups),H=Va(L.type).indexOf("Bar")>=0,ge=rg(X,re),me=[],Oe=M&&jpe({barSize:E,stackGroups:_,totalSize:Ije(ue,R)});if(H){var ze,ot,Kt=Me(ee)?T:ee,Jt=(ze=(ot=rg(X,re,!0))!==null&&ot!==void 0?ot:Kt)!==null&&ze!==void 0?ze:0;me=_pe({barGap:A,barCategoryGap:O,bandSize:Jt!==ge?Jt:ge,sizeList:Oe[z],maxBarSize:Kt}),Jt!==ge&&(me=me.map(function(K){return te(te({},K),{},{position:te(te({},K.position),{},{offset:K.position.offset-Jt/2})})}))}var B=L&&L.type&&L.type.getComposedData;B&&D.push({props:te(te({},B(te(te({},ue),{},{displayedData:J,props:v,dataKey:F,item:L,bandSize:ge,barPosition:me,offset:w,stackedData:q,layout:k,dataStartIndex:C,dataEndIndex:P}))),{},Le(Le(Le({key:L.key||"item-".concat(V)},I,ue[I]),R,ue[R]),"animationId",S)),childIndex:_J(L,v.children),item:L})}),D},p=function(v,x){var b=v.props,_=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!$E({props:b}))return null;var C=b.children,P=b.layout,E=b.stackOffset,k=b.data,A=b.reverseStackOrder,O=ST(P),T=O.numericAxisName,$=O.cateAxisName,I=nn(C,n),R=Rpe(k,I,"".concat(T,"Id"),"".concat($,"Id"),E,A),M=c.reduce(function(Y,F){var ee="".concat(F.axisType,"Map");return te(te({},Y),{},Le({},ee,Tje(b,te(te({},F),{},{graphicalItems:I,stackGroups:F.axisType===T&&R,dataStartIndex:_,dataEndIndex:w}))))},{}),D=Mje(te(te({},M),{},{props:b,graphicalItems:I}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(Y){M[Y]=d(b,M[Y],D,Y.replace("Map",""),r)});var L=M["".concat($,"Map")],V=Rje(L),J=h(b,te(te({},M),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:I,stackGroups:R,offset:D}));return te(te({formattedGraphicalItems:J,graphicalItems:I,offset:D,stackGroups:R},V),M)},y=function(g){function v(x){var b,_,w;return mje(this,v),w=yje(this,v,[x]),Le(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(w,"accessibilityManager",new tje),Le(w,"handleLegendBBoxUpdate",function(S){if(S){var C=w.state,P=C.dataStartIndex,E=C.dataEndIndex,k=C.updateId;w.setState(te({legendBBox:S},p({props:w.props,dataStartIndex:P,dataEndIndex:E,updateId:k},te(te({},w.state),{},{legendBBox:S}))))}}),Le(w,"handleReceiveSyncEvent",function(S,C,P){if(w.props.syncId===S){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(C)}}),Le(w,"handleBrushChange",function(S){var C=S.startIndex,P=S.endIndex;if(C!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return te({dataStartIndex:C,dataEndIndex:P},p({props:w.props,dataStartIndex:C,dataEndIndex:P,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Le(w,"handleMouseEnter",function(S){var C=w.getMouseInfo(S);if(C){var P=te(te({},C),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var E=w.props.onMouseEnter;Ie(E)&&E(P,S)}}),Le(w,"triggeredAfterMouseMove",function(S){var C=w.getMouseInfo(S),P=C?te(te({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var E=w.props.onMouseMove;Ie(E)&&E(P,S)}),Le(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Le(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Le(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Le(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var P=w.props.onMouseLeave;Ie(P)&&P(C,S)}),Le(w,"handleOuterEvent",function(S){var C=jJ(S),P=Fn(w.props,"".concat(C));if(C&&Ie(P)){var E,k;/.*touch.*/i.test(C)?k=w.getMouseInfo(S.changedTouches[0]):k=w.getMouseInfo(S),P((E=k)!==null&&E!==void 0?E:{},S)}}),Le(w,"handleClick",function(S){var C=w.getMouseInfo(S);if(C){var P=te(te({},C),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var E=w.props.onClick;Ie(E)&&E(P,S)}}),Le(w,"handleMouseDown",function(S){var C=w.props.onMouseDown;if(Ie(C)){var P=w.getMouseInfo(S);C(P,S)}}),Le(w,"handleMouseUp",function(S){var C=w.props.onMouseUp;if(Ie(C)){var P=w.getMouseInfo(S);C(P,S)}}),Le(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Le(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Le(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Le(w,"handleDoubleClick",function(S){var C=w.props.onDoubleClick;if(Ie(C)){var P=w.getMouseInfo(S);C(P,S)}}),Le(w,"handleContextMenu",function(S){var C=w.props.onContextMenu;if(Ie(C)){var P=w.getMouseInfo(S);C(P,S)}}),Le(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&ib.emit(ab,w.props.syncId,S,w.eventEmitterSymbol)}),Le(w,"applySyncEvent",function(S){var C=w.props,P=C.layout,E=C.syncMethod,k=w.state.updateId,A=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(te({dataStartIndex:A,dataEndIndex:O},p({props:w.props,dataStartIndex:A,dataEndIndex:O,updateId:k},w.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,$=S.chartY,I=S.activeTooltipIndex,R=w.state,M=R.offset,D=R.tooltipTicks;if(!M)return;if(typeof E=="function")I=E(D,S);else if(E==="value"){I=-1;for(var L=0;L<D.length;L++)if(D[L].value===S.activeLabel){I=L;break}}var V=te(te({},M),{},{x:M.left,y:M.top}),J=Math.min(T,V.x+V.width),Y=Math.min($,V.y+V.height),F=D[I]&&D[I].value,ee=Pj(w.state,w.props.data,I),U=D[I]?{x:P==="horizontal"?D[I].coordinate:J,y:P==="horizontal"?Y:D[I].coordinate}:pF;w.setState(te(te({},S),{},{activeLabel:F,activeCoordinate:U,activePayload:ee,activeTooltipIndex:I}))}else w.setState(S)}),Le(w,"renderCursor",function(S){var C,P=w.state,E=P.isTooltipActive,k=P.activeCoordinate,A=P.activePayload,O=P.offset,T=P.activeTooltipIndex,$=P.tooltipAxisBandSize,I=w.getTooltipEventType(),R=(C=S.props.active)!==null&&C!==void 0?C:E,M=w.props.layout,D=S.key||"_recharts-cursor";return N.createElement(lje,{key:D,activeCoordinate:k,activePayload:A,activeTooltipIndex:T,chartName:r,element:S,isActive:R,layout:M,offset:O,tooltipAxisBandSize:$,tooltipEventType:I})}),Le(w,"renderPolarAxis",function(S,C,P){var E=Fn(S,"type.axisType"),k=Fn(w.state,"".concat(E,"Map")),A=S.type.defaultProps,O=A!==void 0?te(te({},A),S.props):S.props,T=k&&k[O["".concat(E,"Id")]];return j.cloneElement(S,te(te({},T),{},{className:We(E,T.className),key:S.key||"".concat(C,"-").concat(P),ticks:Ba(T,!0)}))}),Le(w,"renderPolarGrid",function(S){var C=S.props,P=C.radialLines,E=C.polarAngles,k=C.polarRadius,A=w.state,O=A.radiusAxisMap,T=A.angleAxisMap,$=Ns(O),I=Ns(T),R=I.cx,M=I.cy,D=I.innerRadius,L=I.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(E)?E:Ba(I,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(k)?k:Ba($,!0).map(function(V){return V.coordinate}),cx:R,cy:M,innerRadius:D,outerRadius:L,key:S.key||"polar-grid",radialLines:P})}),Le(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,C=w.props,P=C.children,E=C.width,k=C.height,A=w.props.margin||{},O=E-(A.left||0)-(A.right||0),T=LL({children:P,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!T)return null;var $=T.item,I=bT(T,cje);return j.cloneElement($,te(te({},I),{},{chartWidth:E,chartHeight:k,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Le(w,"renderTooltip",function(){var S,C=w.props,P=C.children,E=C.accessibilityLayer,k=Nn(P,Tt);if(!k)return null;var A=w.state,O=A.isTooltipActive,T=A.activeCoordinate,$=A.activePayload,I=A.activeLabel,R=A.offset,M=(S=k.props.active)!==null&&S!==void 0?S:O;return j.cloneElement(k,{viewBox:te(te({},R),{},{x:R.left,y:R.top}),active:M,label:I,payload:M?$:[],coordinate:T,accessibilityLayer:E})}),Le(w,"renderBrush",function(S){var C=w.props,P=C.margin,E=C.data,k=w.state,A=k.offset,O=k.dataStartIndex,T=k.dataEndIndex,$=k.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:lm(w.handleBrushChange,S.props.onChange),data:E,x:de(S.props.x)?S.props.x:A.left,y:de(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(P.bottom||0),width:de(S.props.width)?S.props.width:A.width,startIndex:O,endIndex:T,updateId:"brush-".concat($)})}),Le(w,"renderReferenceElement",function(S,C,P){if(!S)return null;var E=w,k=E.clipPathId,A=w.state,O=A.xAxisMap,T=A.yAxisMap,$=A.offset,I=S.type.defaultProps||{},R=S.props,M=R.xAxisId,D=M===void 0?I.xAxisId:M,L=R.yAxisId,V=L===void 0?I.yAxisId:L;return j.cloneElement(S,{key:S.key||"".concat(C,"-").concat(P),xAxis:O[D],yAxis:T[V],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),Le(w,"renderActivePoints",function(S){var C=S.item,P=S.activePoint,E=S.basePoint,k=S.childIndex,A=S.isRange,O=[],T=C.props.key,$=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,I=$.activeDot,R=$.dataKey,M=te(te({index:k,dataKey:R,cx:P.x,cy:P.y,r:4,fill:pC(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ae(I,!1)),kv(I));return O.push(v.renderActiveDot(I,M,"".concat(T,"-activePoint-").concat(k))),E?O.push(v.renderActiveDot(I,te(te({},M),{},{cx:E.x,cy:E.y}),"".concat(T,"-basePoint-").concat(k))):A&&O.push(null),O}),Le(w,"renderGraphicChild",function(S,C,P){var E=w.filterFormatItem(S,C,P);if(!E)return null;var k=w.getTooltipEventType(),A=w.state,O=A.isTooltipActive,T=A.tooltipAxis,$=A.activeTooltipIndex,I=A.activeLabel,R=w.props.children,M=Nn(R,Tt),D=E.props,L=D.points,V=D.isRange,J=D.baseLine,Y=E.item.type.defaultProps!==void 0?te(te({},E.item.type.defaultProps),E.item.props):E.item.props,F=Y.activeDot,ee=Y.hide,U=Y.activeBar,z=Y.activeShape,W=!!(!ee&&O&&M&&(F||U||z)),ue={};k!=="axis"&&M&&M.props.trigger==="click"?ue={onClick:lm(w.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(ue={onMouseLeave:lm(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:lm(w.handleItemMouseEnter,S.props.onMouseEnter)});var X=j.cloneElement(S,te(te({},E.props),ue));function re(Z){return typeof T.dataKey=="function"?T.dataKey(Z.payload):null}if(W)if($>=0){var q,H;if(T.dataKey&&!T.allowDuplicatedCategory){var ge=typeof T.dataKey=="function"?re:"payload.".concat(T.dataKey.toString());q=Ev(L,ge,I),H=V&&J&&Ev(J,ge,I)}else q=L==null?void 0:L[$],H=V&&J&&J[$];if(z||U){var me=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[j.cloneElement(S,te(te(te({},E.props),ue),{},{activeIndex:me})),null,null]}if(!Me(q))return[X].concat(Lu(w.renderActivePoints({item:E,activePoint:q,basePoint:H,childIndex:$,isRange:V})))}else{var Oe,ze=(Oe=w.getItemByXY(w.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:X},ot=ze.graphicalItem,Kt=ot.item,Jt=Kt===void 0?S:Kt,B=ot.childIndex,K=te(te(te({},E.props),ue),{},{activeIndex:B});return[j.cloneElement(Jt,K),null,null]}return V?[X,null,null]:[X,null]}),Le(w,"renderCustomized",function(S,C,P){return j.cloneElement(S,te(te({key:"recharts-customized-".concat(P)},w.props),w.state))}),Le(w,"renderMap",{CartesianGrid:{handler:hm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:hm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:hm},YAxis:{handler:hm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:bo("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=D3(w.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return wje(v,g),gje(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,S=b.height,C=b.layout,P=Nn(_,Tt);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,A=Pj(this.state,w,E,k),O=this.state.tooltipTicks[E].coordinate,T=(this.state.offset.top+S)/2,$=C==="horizontal",I=$?{x:O,y:T}:{y:O,x:T},R=this.state.formattedGraphicalItems.find(function(D){var L=D.item;return L.type.name==="Scatter"});R&&(I=te(te({},I),R.props.points[E].tooltipPosition),A=R.props.points[E].tooltipPayload);var M={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:I};this.setState(M),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Zw([Nn(b.children,Tt)],[Nn(this.props.children,Tt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nn(this.props.children,Tt);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Yce(w),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},P=w.width/_.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,P);if(!E)return null;var k=this.state,A=k.xAxisMap,O=k.yAxisMap,T=this.getTooltipEventType(),$=jT(this.state,this.props.data,this.props.layout,E);if(T!=="axis"&&A&&O){var I=Ns(A).scale,R=Ns(O).scale,M=I&&I.invert?I.invert(C.chartX):null,D=R&&R.invert?R.invert(C.chartY):null;return te(te({},C),{},{xValue:M,yValue:D},$)}return $?te(te({},C),$):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/w,P=_/w;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,k=C>=E.left&&C<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return k?{x:C,y:P}:null}var A=this.state,O=A.angleAxisMap,T=A.radiusAxisMap;if(O&&T){var $=Ns(O);return VO({x:C,y:P},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Nn(b,Tt),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=kv(this.props,this.handleOuterEvent);return te(te({},C),S)}},{key:"addListener",value:function(){ib.on(ab,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ib.removeListener(ab,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var S=this.state.formattedGraphicalItems,C=0,P=S.length;C<P;C++){var E=S[C];if(E.item===b||E.props.key===b.key||_===Va(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,C=_.height,P=_.width;return N.createElement("defs",null,N.createElement("clipPath",{id:b},N.createElement("rect",{x:w,y:S,height:C,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=xT(w,2),C=S[0],P=S[1];return te(te({},_),{},Le({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=xT(w,2),C=S[0],P=S[1];return te(te({},_),{},Le({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var C=0,P=w.length;C<P;C++){var E=w[C],k=E.props,A=E.item,O=A.type.defaultProps!==void 0?te(te({},A.type.defaultProps),A.props):A.props,T=Va(A.type);if(T==="Bar"){var $=(k.data||[]).find(function(D){return Nge(b,D)});if($)return{graphicalItem:E,payload:$}}else if(T==="RadialBar"){var I=(k.data||[]).find(function(D){return VO(b,D)});if(I)return{graphicalItem:E,payload:I}}else if(hx(E,S)||px(E,S)||Fh(E,S)){var R=xxe({graphicalItem:E,activeTooltipItem:S,itemData:O.data}),M=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:te(te({},E),{},{childIndex:M}),payload:Fh(E,S)?O.data[R]:E.props.data[R]}}}return null}},{key:"render",value:function(){var b=this;if(!$E(this))return null;var _=this.props,w=_.children,S=_.className,C=_.width,P=_.height,E=_.style,k=_.compact,A=_.title,O=_.desc,T=bT(_,uje),$=Ae(T,!1);if(k)return N.createElement(QN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(e1,Ac({},$,{width:C,height:P,title:A,desc:O}),this.renderClipPath(),IE(w,this.renderMap)));if(this.props.accessibilityLayer){var I,R;$.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,$.role=(R=this.props.role)!==null&&R!==void 0?R:"application",$.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return N.createElement(QN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Ac({className:We("recharts-wrapper",S),style:te({position:"relative",cursor:"default",width:C,height:P},E)},M,{ref:function(L){b.container=L}}),N.createElement(e1,Ac({},$,{width:C,height:P,title:A,desc:O,style:Aje}),this.renderClipPath(),IE(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Le(y,"displayName",r),Le(y,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Le(y,"getDerivedStateFromProps",function(g,v){var x=g.dataKey,b=g.data,_=g.children,w=g.width,S=g.height,C=g.layout,P=g.stackOffset,E=g.margin,k=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var O=_T(g);return te(te(te({},O),{},{updateId:0},p(te(te({props:g},O),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||P!==v.prevStackOffset||!Dc(E,v.prevMargin)){var T=_T(g),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},I=te(te({},jT(v,b,C)),{},{updateId:v.updateId+1}),R=te(te(te({},T),$),I);return te(te(te({},R),p(te({props:g},R),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:_})}if(!Zw(_,v.prevChildren)){var M,D,L,V,J=Nn(_,Cu),Y=J&&(M=(D=J.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:k,F=J&&(L=(V=J.props)===null||V===void 0?void 0:V.endIndex)!==null&&L!==void 0?L:A,ee=Y!==k||F!==A,U=!Me(b),z=U&&!ee?v.updateId:v.updateId+1;return te(te({updateId:z},p(te(te({props:g},v),{},{updateId:z,dataStartIndex:Y,dataEndIndex:F}),v)),{},{prevChildren:_,dataStartIndex:Y,dataEndIndex:F})}return null}),Le(y,"renderActiveDot",function(g,v,x){var b;return j.isValidElement(g)?b=j.cloneElement(g,v):Ie(g)?b=g(v):b=N.createElement(vp,v),N.createElement(Ye,{className:"recharts-active-dot",key:x},b)});var m=j.forwardRef(function(v,x){return N.createElement(y,Ac({},v,{ref:x}))});return m.displayName=y.displayName,m},vF=gp({chartName:"LineChart",GraphicalChild:pn,axisComponents:[{axisType:"xAxis",AxisComp:rr},{axisType:"yAxis",AxisComp:nr}],formatAxisMap:vx}),jd=gp({chartName:"BarChart",GraphicalChild:Bt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rr},{axisType:"yAxis",AxisComp:nr}],formatAxisMap:vx}),Dje=gp({chartName:"PieChart",GraphicalChild:cs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:fx},{axisType:"radiusAxis",AxisComp:ux}],formatAxisMap:Hpe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gF=gp({chartName:"AreaChart",GraphicalChild:Bn,axisComponents:[{axisType:"xAxis",AxisComp:rr},{axisType:"yAxis",AxisComp:nr}],formatAxisMap:vx}),yp=gp({chartName:"ComposedChart",GraphicalChild:[pn,Bn,Bt,jx],axisComponents:[{axisType:"xAxis",AxisComp:rr},{axisType:"yAxis",AxisComp:nr},{axisType:"zAxis",AxisComp:wx}],formatAxisMap:vx});function Lje({products:e,years:t}){const r=t.map(i=>{const a={year:i};return e.forEach(s=>{const l=s.volumesByYear[i]||0;a[s.name]=l*s.priceHT/1e3}),a}),n=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)"];return o.jsx(De,{title:"CA par Produit",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(jd,{data:r,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:i=>`${i}k`}),o.jsx(Tt,{formatter:i=>`${i.toFixed(0)}k`}),o.jsx(Nr,{}),e.map((i,a)=>o.jsx(Bt,{dataKey:i.name,stackId:"a",fill:n[a%n.length]},i.id))]})})})})}function _d({pageTitle:e,fileName:t}){const r=()=>{window.print()};return o.jsxs(ce,{variant:"outline",size:"sm",onClick:r,children:[o.jsx(dy,{className:"h-4 w-4 mr-1"}),"PDF"]})}function So({children:e,tabKey:t}){const{getTabPermission:r}=Hi(),i=r(t)==="read";return o.jsxs("div",{className:i?"pointer-events-none opacity-90":"",children:[i&&o.jsx("div",{className:"mb-4 p-2 bg-muted border rounded text-sm text-muted-foreground text-center",children:"Mode lecture seule"}),e]})}var ob="rovingFocusGroup.onEntryFocus",Fje={bubbles:!1,cancelable:!0},xp="RovingFocusGroup",[Aj,yF,Bje]=ly(xp),[Uje,Sx]=jn(xp,[Bje]),[zje,Vje]=Uje(xp),xF=j.forwardRef((e,t)=>o.jsx(Aj.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Aj.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Wje,{...e,ref:t})})}));xF.displayName=xp;var Wje=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=j.useRef(null),p=Qe(t,h),y=op(a),[m,g]=yn({prop:s,defaultProp:l??null,onChange:c,caller:xp}),[v,x]=j.useState(!1),b=li(u),_=yF(r),w=j.useRef(!1),[S,C]=j.useState(0);return j.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(ob,b),()=>P.removeEventListener(ob,b)},[b]),o.jsx(zje,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:m,onItemFocus:j.useCallback(P=>g(P),[g]),onItemShiftTab:j.useCallback(()=>x(!0),[]),onFocusableItemAdd:j.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:j.useCallback(()=>C(P=>P-1),[]),children:o.jsx(Re.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{w.current=!0}),onFocus:we(e.onFocus,P=>{const E=!w.current;if(P.target===P.currentTarget&&E&&!v){const k=new CustomEvent(ob,Fje);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=_().filter(R=>R.focusable),O=A.find(R=>R.active),T=A.find(R=>R.id===m),I=[O,T,...A].filter(Boolean).map(R=>R.ref.current);jF(I,d)}}w.current=!1}),onBlur:we(e.onBlur,()=>x(!1))})})}),bF="RovingFocusGroupItem",wF=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...l}=e,c=fa(),u=a||c,d=Vje(bF,r),f=d.currentTabStopId===u,h=yF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return j.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Aj.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:we(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:we(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=Kje(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=d.loop?Gje(b,_+1):b.slice(_+1)}setTimeout(()=>jF(b))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});wF.displayName=bF;var Hje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qje(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kje(e,t,r){const n=qje(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Hje[n]}function jF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Gje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _F=xF,SF=wF,Cx="Tabs",[Yje,rOe]=jn(Cx,[Sx]),CF=Sx(),[Xje,CC]=Yje(Cx),PF=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=op(l),[f,h]=yn({prop:n,onChange:i,defaultProp:a??"",caller:Cx});return o.jsx(Xje,{scope:r,baseId:fa(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Re.div,{dir:d,"data-orientation":s,...u,ref:t})})});PF.displayName=Cx;var AF="TabsList",EF=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=CC(AF,r),s=CF(r);return o.jsx(_F,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Re.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});EF.displayName=AF;var kF="TabsTrigger",OF=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,s=CC(kF,r),l=CF(r),c=RF(s.baseId,n),u=$F(s.baseId,n),d=n===s.value;return o.jsx(SF,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(Re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:we(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:we(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:we(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});OF.displayName=kF;var NF="TabsContent",TF=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=e,l=CC(NF,r),c=RF(l.baseId,n),u=$F(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(xa,{present:i||d,children:({present:h})=>o.jsx(Re.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});TF.displayName=NF;function RF(e,t){return`${e}-trigger-${t}`}function $F(e,t){return`${e}-content-${t}`}var Qje=PF,MF=EF,IF=OF,DF=TF;const mi=Qje,qn=j.forwardRef(({className:e,...t},r)=>o.jsx(MF,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qn.displayName=MF.displayName;const st=j.forwardRef(({className:e,...t},r)=>o.jsx(IF,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));st.displayName=IF.displayName;const pt=j.forwardRef(({className:e,...t},r)=>o.jsx(DF,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pt.displayName=DF.displayName;const Zje=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function Jje(){var x;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:i,saveAll:a,setRevenueMode:s,updateGlobalRevenueConfig:l}=wa(),c=e.scenarioSettings,u=Array.from({length:c.durationYears},(b,_)=>c.startYear+_),d=b=>{n(b)},f=b=>{const _=e.products.map(w=>w.id===b.id?b:w);r(_)},h=(b,_,w)=>{const S=e.products.map(C=>C.id!==b?C:{...C,volumesByYear:{...C.volumesByYear,[_]:w}});r(S)},p=t.totalDevCost,y=u[u.length-1],m=((x=t.revenueByYear.find(b=>b.year===y))==null?void 0:x.revenue)||0,g=t.revenueByYear.length>0?t.revenueByYear.reduce((b,_)=>b+(_.revenue>0?(_.revenue-_.cogs)/_.revenue:0),0)/t.revenueByYear.length:0,v=u.map(b=>{const _=t.revenueByYear.find(w=>w.year===b);return{year:b,revenue:((_==null?void 0:_.revenue)||0)/1e3,cogs:((_==null?void 0:_.cogs)||0)/1e3,margin:(((_==null?void 0:_.revenue)||0)-((_==null?void 0:_.cogs)||0))/1e3}});return o.jsx(So,{tabKey:"product-plan",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ce,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>s("by-product"),children:[o.jsx(p6,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),o.jsxs(ce,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>s("by-channel-global"),children:[o.jsx(Xf,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Dtail produits":"Global canaux"}),o.jsx(_d,{pageTitle:"Plan Produit",sections:Zje,fileName:"Plan_Produit"}),o.jsx(od,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ze,{label:"Investissement R&D",value:Q(p,!0),subValue:`${e.products.filter(b=>b.devCost>0).length} produits`}),o.jsx(Ze,{label:`CA ${y}`,value:Q(m,!0),subValue:"Projection",trend:"up"}),o.jsx(Ze,{label:"Marge Brute Moy.",value:vr(g),subValue:"Sur la priode"}),o.jsx(Ze,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),o.jsx("div",{id:"product-revenue-chart",children:o.jsx(De,{title:"Projection du Chiffre d'Affaires",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(jd,{data:v,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:b=>`${b}k`}),o.jsx(Tt,{formatter:b=>`${b.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bt,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),o.jsx(Bt,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),o.jsxs(mi,{defaultValue:"visualization",className:"space-y-4",children:[o.jsxs(qn,{children:[o.jsxs(st,{value:"visualization",children:[o.jsx(i6,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),o.jsxs(st,{value:"pricing",children:[o.jsx(dv,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),o.jsxs(st,{value:"volumes",children:[o.jsx(ip,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&o.jsx(pt,{value:"visualization",children:o.jsx(B7,{config:e.globalRevenueConfig,onChange:l,years:u})}),e.revenueMode==="by-product"&&o.jsx(pt,{value:"visualization",children:o.jsx("div",{id:"product-revenue-viz",children:o.jsx(Lje,{products:e.products,years:u})})}),o.jsx(pt,{value:"pricing",children:e.revenueMode==="by-product"?o.jsx("div",{id:"product-pricing",children:o.jsx(kY,{products:e.products,onUpdateProduct:f,onAddProduct:d,onRemoveProduct:i})}):o.jsx(De,{title:"Pricing Produits",children:o.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[o.jsx(Xf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),o.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,o.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),o.jsx(pt,{value:"volumes",children:o.jsx("div",{id:"product-volumes",children:o.jsxs(De,{title:"Volumes par Anne",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Saisissez les volumes de vente prvisionnels par produit et par anne."}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Produit"}),o.jsx(se,{className:"text-right",children:"Cot Unit."}),u.map(b=>o.jsx(se,{className:"text-center",children:b},b)),o.jsx(se,{className:"text-right",children:"CA Total"})]})}),o.jsx(Dt,{children:e.products.map(b=>{const _=u.reduce((w,S)=>{const C=b.volumesByYear[S]||0;return w+C*b.priceHT},0);return o.jsxs(ye,{children:[o.jsxs(G,{children:[o.jsx("div",{className:"font-medium",children:b.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lancement: ",b.launchYear]})]}),o.jsx(G,{className:"text-right font-mono-numbers text-muted-foreground",children:Q(b.unitCost)}),u.map(w=>o.jsx(G,{className:"text-center",children:w>=b.launchYear?o.jsx(je,{type:"number",value:b.volumesByYear[w]||0,onChange:S=>h(b.id,w,Number(S.target.value)),className:"h-8 w-20 mx-auto text-center"}):o.jsx("span",{className:"text-muted-foreground",children:"-"})},w)),o.jsx(G,{className:"text-right font-mono-numbers font-medium",children:Q(_,!0)})]},b.id)})})]})})]})})})]})]})})}const e_e=["R&D","Production","Sales","Support","Admin"];function t_e({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return o.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:e_e.map(i=>{const a=e.filter(s=>s.department===i);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Te,{variant:"outline",children:i}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>n(i),children:o.jsx(on,{className:"h-3 w-3"})})]}),o.jsx("div",{className:"space-y-2",children:a.map(s=>o.jsx($r,{className:"bg-muted/30",children:o.jsxs(Mr,{className:"p-3",children:[o.jsx("div",{className:"text-sm font-medium",children:s.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.startYear,"  ",(s.annualCostLoaded/1e3).toFixed(0),"k"]}),o.jsxs("div",{className:"flex gap-1 mt-2",children:[o.jsx(ce,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(s),children:o.jsx(G_,{className:"h-3 w-3"})}),o.jsx(ce,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(s.id),children:o.jsx(_n,{className:"h-3 w-3"})})]})]})},s.id))})]},i)})})}var LF="Toggle",PC=j.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:i,...a}=e,[s,l]=yn({prop:r,onChange:i,defaultProp:n??!1,caller:LF});return o.jsx(Re.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:we(e.onClick,()=>{e.disabled||l(!s)})})});PC.displayName=LF;var FF=PC,Co="ToggleGroup",[BF,nOe]=jn(Co,[Sx]),UF=Sx(),AC=N.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const i=n;return o.jsx(r_e,{...i,ref:t})}if(r==="multiple"){const i=n;return o.jsx(n_e,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Co}\``)});AC.displayName=Co;var[zF,VF]=BF(Co),r_e=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[s,l]=yn({prop:r,defaultProp:n??"",onChange:i,caller:Co});return o.jsx(zF,{scope:e.__scopeToggleGroup,type:"single",value:N.useMemo(()=>s?[s]:[],[s]),onItemActivate:l,onItemDeactivate:N.useCallback(()=>l(""),[l]),children:o.jsx(WF,{...a,ref:t})})}),n_e=N.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[s,l]=yn({prop:r,defaultProp:n??[],onChange:i,caller:Co}),c=N.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=N.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(zF,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:o.jsx(WF,{...a,ref:t})})});AC.displayName=Co;var[i_e,a_e]=BF(Co),WF=N.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:i=!0,orientation:a,dir:s,loop:l=!0,...c}=e,u=UF(r),d=op(s),f={role:"group",dir:d,...c};return o.jsx(i_e,{scope:r,rovingFocus:i,disabled:n,children:i?o.jsx(_F,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:o.jsx(Re.div,{...f,ref:t})}):o.jsx(Re.div,{...f,ref:t})})}),Tg="ToggleGroupItem",HF=N.forwardRef((e,t)=>{const r=VF(Tg,e.__scopeToggleGroup),n=a_e(Tg,e.__scopeToggleGroup),i=UF(e.__scopeToggleGroup),a=r.value.includes(e.value),s=n.disabled||e.disabled,l={...e,pressed:a,disabled:s},c=N.useRef(null);return n.rovingFocus?o.jsx(SF,{asChild:!0,...i,focusable:!s,active:a,ref:c,children:o.jsx(CT,{...l,ref:t})}):o.jsx(CT,{...l,ref:t})});HF.displayName=Tg;var CT=N.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...i}=e,a=VF(Tg,r),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?s:void 0;return o.jsx(PC,{...l,...i,ref:t,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),qF=AC,KF=HF;const GF=Yu("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),s_e=j.forwardRef(({className:e,variant:t,size:r,...n},i)=>o.jsx(FF,{ref:i,className:ie(GF({variant:t,size:r,className:e})),...n}));s_e.displayName=FF.displayName;const YF=j.createContext({size:"default",variant:"default"}),XF=j.forwardRef(({className:e,variant:t,size:r,children:n,...i},a)=>o.jsx(qF,{ref:a,className:ie("flex items-center justify-center gap-1",e),...i,children:o.jsx(YF.Provider,{value:{variant:t,size:r},children:n})}));XF.displayName=qF.displayName;const Ej=j.forwardRef(({className:e,children:t,variant:r,size:n,...i},a)=>{const s=j.useContext(YF);return o.jsx(KF,{ref:a,className:ie(GF({variant:s.variant||r,size:s.size||n}),e),...i,children:t})});Ej.displayName=KF.displayName;var lb=0;function EC(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PT()),document.body.insertAdjacentElement("beforeend",e[1]??PT()),lb++,()=>{lb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lb--}},[])}function PT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cb="focusScope.autoFocusOnMount",ub="focusScope.autoFocusOnUnmount",AT={bubbles:!1,cancelable:!0},o_e="FocusScope",Px=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=j.useState(null),u=li(i),d=li(a),f=j.useRef(null),h=Qe(t,m=>c(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:ws(f.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ws(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&ws(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){kT.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(cb,AT);l.addEventListener(cb,u),l.dispatchEvent(v),v.defaultPrevented||(l_e(h_e(QF(l)),{select:!0}),document.activeElement===m&&ws(l))}return()=>{l.removeEventListener(cb,u),setTimeout(()=>{const v=new CustomEvent(ub,AT);l.addEventListener(ub,d),l.dispatchEvent(v),v.defaultPrevented||ws(m??document.body,{select:!0}),l.removeEventListener(ub,d),kT.remove(p)},0)}}},[l,u,d,p]);const y=j.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const x=m.currentTarget,[b,_]=c_e(x);b&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&ws(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),r&&ws(_,{select:!0})):v===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Re.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});Px.displayName=o_e;function l_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ws(n,{select:t}),document.activeElement!==r)return}function c_e(e){const t=QF(e),r=ET(t,e),n=ET(t.reverse(),e);return[r,n]}function QF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ET(e,t){for(const r of e)if(!u_e(r,{upTo:t}))return r}function u_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function d_e(e){return e instanceof HTMLInputElement&&"select"in e}function ws(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&d_e(e)&&t&&e.select()}}var kT=f_e();function f_e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=OT(e,t),e.unshift(t)},remove(t){var r;e=OT(e,t),(r=e[0])==null||r.resume()}}}function OT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function h_e(e){return e.filter(t=>t.tagName!=="A")}var p_e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yl=new WeakMap,pm=new WeakMap,mm={},db=0,ZF=function(e){return e&&(e.host||ZF(e.parentNode))},m_e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ZF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},v_e=function(e,t,r,n){var i=m_e(t,Array.isArray(e)?e:[e]);mm[r]||(mm[r]=new WeakMap);var a=mm[r],s=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(Yl.get(h)||0)+1,g=(a.get(h)||0)+1;Yl.set(h,m),a.set(h,g),s.push(h),m===1&&y&&pm.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),db++,function(){s.forEach(function(f){var h=Yl.get(f)-1,p=a.get(f)-1;Yl.set(f,h),a.set(f,p),h||(pm.has(f)||f.removeAttribute(n),pm.delete(f)),p||f.removeAttribute(r)}),db--,db||(Yl=new WeakMap,Yl=new WeakMap,pm=new WeakMap,mm={})}},kC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=p_e(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),v_e(n,i,r,"aria-hidden")):function(){return null}},Lm="right-scroll-bar-position",Fm="width-before-scroll-bar",g_e="with-scroll-bars-hidden",y_e="--removed-body-scroll-bar-size";function fb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function x_e(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var b_e=typeof window<"u"?j.useLayoutEffect:j.useEffect,NT=new WeakMap;function w_e(e,t){var r=x_e(null,function(n){return e.forEach(function(i){return fb(i,n)})});return b_e(function(){var n=NT.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(l){a.has(l)||fb(l,null)}),a.forEach(function(l){i.has(l)||fb(l,s)})}NT.set(r,e)},[e]),r}function j_e(e){return e}function __e(e,t){t===void 0&&(t=j_e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(a),s=r}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function S_e(e){e===void 0&&(e={});var t=__e(null);return t.options=ra({async:!0,ssr:!1},e),t}var JF=function(e){var t=e.sideCar,r=ad(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,ra({},r))};JF.isSideCarExport=!0;function C_e(e,t){return e.useMedium(t),JF}var eB=S_e(),hb=function(){},Ax=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:hb,onWheelCapture:hb,onTouchMoveCapture:hb}),i=n[0],a=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,_=ad(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=w_e([r,t]),C=ra(ra({},_),i);return j.createElement(j.Fragment,null,d&&j.createElement(w,{sideCar:eB,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:b}),s?j.cloneElement(j.Children.only(l),ra(ra({},C),{ref:S})):j.createElement(x,ra({},C,{className:c,ref:S}),l))});Ax.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ax.classNames={fullWidth:Fm,zeroRight:Lm};var P_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A_e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P_e();return t&&e.setAttribute("nonce",t),e}function E_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function k_e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O_e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=A_e())&&(E_e(t,r),k_e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},N_e=function(){var e=O_e();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tB=function(){var e=N_e(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},T_e={left:0,top:0,right:0,gap:0},pb=function(e){return parseInt(e||"",10)||0},R_e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[pb(r),pb(n),pb(i)]},$_e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return T_e;var t=R_e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},M_e=tB(),Bc="data-scroll-locked",I_e=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(g_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fm," .").concat(Fm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bc,`] {
    `).concat(y_e,": ").concat(l,`px;
  }
`)},TT=function(){var e=parseInt(document.body.getAttribute(Bc)||"0",10);return isFinite(e)?e:0},D_e=function(){j.useEffect(function(){return document.body.setAttribute(Bc,(TT()+1).toString()),function(){var e=TT()-1;e<=0?document.body.removeAttribute(Bc):document.body.setAttribute(Bc,e.toString())}},[])},L_e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;D_e();var a=j.useMemo(function(){return $_e(i)},[i]);return j.createElement(M_e,{styles:I_e(a,!t,i,r?"":"!important")})},kj=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return kj=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{kj=!1}var Xl=kj?{passive:!1}:!1,F_e=function(e){return e.tagName==="TEXTAREA"},rB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!F_e(e)&&r[t]==="visible")},B_e=function(e){return rB(e,"overflowY")},U_e=function(e){return rB(e,"overflowX")},RT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=nB(e,n);if(i){var a=iB(e,n),s=a[1],l=a[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},z_e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},V_e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nB=function(e,t){return e==="v"?B_e(t):U_e(t)},iB=function(e,t){return e==="v"?z_e(t):V_e(t)},W_e=function(e,t){return e==="h"&&t==="rtl"?-1:1},H_e=function(e,t,r,n,i){var a=W_e(e,window.getComputedStyle(t).direction),s=a*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var p=iB(e,l),y=p[0],m=p[1],g=p[2],v=m-g-a*y;(y||v)&&nB(e,l)&&(f+=v,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},gm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$T=function(e){return[e.deltaX,e.deltaY]},MT=function(e){return e&&"current"in e?e.current:e},q_e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K_e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G_e=0,Ql=[];function Y_e(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(G_e++)[0],a=j.useState(tB)[0],s=j.useRef(e);j.useEffect(function(){s.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=z7([e.lockRef.current],(e.shards||[]).map(MT),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=gm(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-v[0],_="deltaY"in m?m.deltaY:x[1]-v[1],w,S=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var P=RT(C,S);if(!P)return!0;if(P?w=C:(w=C==="v"?"h":"v",P=RT(C,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=w),!w)return!0;var E=n.current||w;return H_e(E,g,m,E==="h"?b:_,!0)},[]),c=j.useCallback(function(m){var g=m;if(!(!Ql.length||Ql[Ql.length-1]!==a)){var v="deltaY"in g?$T(g):gm(g),x=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&q_e(w.delta,v)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(s.current.shards||[]).map(MT).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=b.length>0?l(g,b[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=j.useCallback(function(m,g,v,x){var b={name:m,delta:g,target:v,should:x,shadowParent:X_e(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=j.useCallback(function(m){r.current=gm(m),n.current=void 0},[]),f=j.useCallback(function(m){u(m.type,$T(m),m.target,l(m,e.lockRef.current))},[]),h=j.useCallback(function(m){u(m.type,gm(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return Ql.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Xl),document.addEventListener("touchmove",c,Xl),document.addEventListener("touchstart",d,Xl),function(){Ql=Ql.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Xl),document.removeEventListener("touchmove",c,Xl),document.removeEventListener("touchstart",d,Xl)}},[]);var p=e.removeScrollBar,y=e.inert;return j.createElement(j.Fragment,null,y?j.createElement(a,{styles:K_e(i)}):null,p?j.createElement(L_e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function X_e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q_e=C_e(eB,Y_e);var Ex=j.forwardRef(function(e,t){return j.createElement(Ax,ra({},e,{ref:t,sideCar:Q_e}))});Ex.classNames=Ax.classNames;var Z_e=[" ","Enter","ArrowUp","ArrowDown"],J_e=[" ","Enter"],Cl="Select",[kx,Ox,eSe]=ly(Cl),[Sd,iOe]=jn(Cl,[eSe,td]),Nx=td(),[tSe,Po]=Sd(Cl),[rSe,nSe]=Sd(Cl),aB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=Nx(t),[g,v]=j.useState(null),[x,b]=j.useState(null),[_,w]=j.useState(!1),S=op(u),[C,P]=yn({prop:n,defaultProp:i??!1,onChange:a,caller:Cl}),[E,k]=yn({prop:s,defaultProp:l,onChange:c,caller:Cl}),A=j.useRef(null),O=g?y||!!g.closest("form"):!0,[T,$]=j.useState(new Set),I=Array.from(T).map(R=>R.props.value).join(";");return o.jsx(oS,{...m,children:o.jsxs(tSe,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:fa(),value:E,onValueChange:k,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[o.jsx(kx.Provider,{scope:t,children:o.jsx(rSe,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(R=>{$(M=>new Set(M).add(R))},[]),onNativeOptionRemove:j.useCallback(R=>{$(M=>{const D=new Set(M);return D.delete(R),D})},[]),children:r})}),O?o.jsxs(kB,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:R=>k(R.target.value),disabled:h,form:y,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(T)]},I):null]})})};aB.displayName=Cl;var sB="SelectTrigger",oB=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=Nx(r),s=Po(sB,r),l=s.disabled||n,c=Qe(t,s.onTriggerChange),u=Ox(r),d=j.useRef("touch"),[f,h,p]=NB(m=>{const g=u().filter(b=>!b.disabled),v=g.find(b=>b.value===s.value),x=TB(g,m,v);x!==void 0&&s.onValueChange(x.value)}),y=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(vy,{asChild:!0,...a,children:o.jsx(Re.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":OB(s.value)?"":void 0,...i,ref:c,onClick:we(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:we(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:we(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&Z_e.includes(m.key)&&(y(),m.preventDefault())})})})});oB.displayName=sB;var lB="SelectValue",cB=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...l}=e,c=Po(lB,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Qe(t,c.onValueNodeChange);return Rr(()=>{u(d)},[u,d]),o.jsx(Re.span,{...l,ref:f,style:{pointerEvents:"none"},children:OB(c.value)?o.jsx(o.Fragment,{children:s}):a})});cB.displayName=lB;var iSe="SelectIcon",uB=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return o.jsx(Re.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});uB.displayName=iSe;var aSe="SelectPortal",dB=e=>o.jsx(rp,{asChild:!0,...e});dB.displayName=aSe;var Pl="SelectContent",fB=j.forwardRef((e,t)=>{const r=Po(Pl,e.__scopeSelect),[n,i]=j.useState();if(Rr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Nl.createPortal(o.jsx(hB,{scope:e.__scopeSelect,children:o.jsx(kx.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(pB,{...e,ref:t})});fB.displayName=Pl;var Si=10,[hB,Ao]=Sd(Pl),sSe="SelectContentImpl",oSe=yl("SelectContent.RemoveScroll"),pB=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,x=Po(Pl,r),[b,_]=j.useState(null),[w,S]=j.useState(null),C=Qe(t,W=>_(W)),[P,E]=j.useState(null),[k,A]=j.useState(null),O=Ox(r),[T,$]=j.useState(!1),I=j.useRef(!1);j.useEffect(()=>{if(b)return kC(b)},[b]),EC();const R=j.useCallback(W=>{const[ue,...X]=O().map(H=>H.ref.current),[re]=X.slice(-1),q=document.activeElement;for(const H of W)if(H===q||(H==null||H.scrollIntoView({block:"nearest"}),H===ue&&w&&(w.scrollTop=0),H===re&&w&&(w.scrollTop=w.scrollHeight),H==null||H.focus(),document.activeElement!==q))return},[O,w]),M=j.useCallback(()=>R([P,b]),[R,P,b]);j.useEffect(()=>{T&&M()},[T,M]);const{onOpenChange:D,triggerPointerDownPosRef:L}=x;j.useEffect(()=>{if(b){let W={x:0,y:0};const ue=re=>{var q,H;W={x:Math.abs(Math.round(re.pageX)-(((q=L.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(re.pageY)-(((H=L.current)==null?void 0:H.y)??0))}},X=re=>{W.x<=10&&W.y<=10?re.preventDefault():b.contains(re.target)||D(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,D,L]),j.useEffect(()=>{const W=()=>D(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[D]);const[V,J]=NB(W=>{const ue=O().filter(q=>!q.disabled),X=ue.find(q=>q.ref.current===document.activeElement),re=TB(ue,W,X);re&&setTimeout(()=>re.ref.current.focus())}),Y=j.useCallback((W,ue,X)=>{const re=!I.current&&!X;(x.value!==void 0&&x.value===ue||re)&&(E(W),re&&(I.current=!0))},[x.value]),F=j.useCallback(()=>b==null?void 0:b.focus(),[b]),ee=j.useCallback((W,ue,X)=>{const re=!I.current&&!X;(x.value!==void 0&&x.value===ue||re)&&A(W)},[x.value]),U=n==="popper"?Oj:mB,z=U===Oj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(hB,{scope:r,content:b,viewport:w,onViewportChange:S,itemRefCallback:Y,selectedItem:P,onItemLeave:F,itemTextRefCallback:ee,focusSelectedItem:M,selectedItemText:k,position:n,isPositioned:T,searchRef:V,children:o.jsx(Ex,{as:oSe,allowPinchZoom:!0,children:o.jsx(Px,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:we(i,W=>{var ue;(ue=x.trigger)==null||ue.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(U,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...v,...z,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:we(v.onKeyDown,W=>{const ue=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ue&&W.key.length===1&&J(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let re=O().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(W.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const q=W.target,H=re.indexOf(q);re=re.slice(H+1)}setTimeout(()=>R(re)),W.preventDefault()}})})})})})})});pB.displayName=sSe;var lSe="SelectItemAlignedPosition",mB=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Po(Pl,r),s=Ao(Pl,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=Qe(t,C=>d(C)),h=Ox(r),p=j.useRef(!1),y=j.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=s,b=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&g&&v){const C=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(a.dir!=="rtl"){const q=k.left-P.left,H=E.left-q,ge=C.left-H,me=C.width+ge,Oe=Math.max(me,P.width),ze=window.innerWidth-Si,ot=wv(H,[Si,Math.max(Si,ze-Oe)]);l.style.minWidth=me+"px",l.style.left=ot+"px"}else{const q=P.right-k.right,H=window.innerWidth-E.right-q,ge=window.innerWidth-C.right-H,me=C.width+ge,Oe=Math.max(me,P.width),ze=window.innerWidth-Si,ot=wv(H,[Si,Math.max(Si,ze-Oe)]);l.style.minWidth=me+"px",l.style.right=ot+"px"}const A=h(),O=window.innerHeight-Si*2,T=m.scrollHeight,$=window.getComputedStyle(u),I=parseInt($.borderTopWidth,10),R=parseInt($.paddingTop,10),M=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),L=I+R+T+D+M,V=Math.min(g.offsetHeight*5,L),J=window.getComputedStyle(m),Y=parseInt(J.paddingTop,10),F=parseInt(J.paddingBottom,10),ee=C.top+C.height/2-Si,U=O-ee,z=g.offsetHeight/2,W=g.offsetTop+z,ue=I+R+W,X=L-ue;if(ue<=ee){const q=A.length>0&&g===A[A.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-m.offsetTop-m.offsetHeight,ge=Math.max(U,z+(q?F:0)+H+M),me=ue+ge;l.style.height=me+"px"}else{const q=A.length>0&&g===A[0].ref.current;l.style.top="0px";const ge=Math.max(ee,I+m.offsetTop+(q?Y:0)+z)+X;l.style.height=ge+"px",m.scrollTop=ue-ee+m.offsetTop}l.style.margin=`${Si}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,g,v,a.dir,n]);Rr(()=>b(),[b]);const[_,w]=j.useState();Rr(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=j.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return o.jsx(uSe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Re.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mB.displayName=lSe;var cSe="SelectPopperPosition",Oj=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Si,...a}=e,s=Nx(r);return o.jsx(lS,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oj.displayName=cSe;var[uSe,OC]=Sd(Pl,{}),Nj="SelectViewport",vB=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Ao(Nj,r),s=OC(Nj,r),l=Qe(t,a.onViewportChange),c=j.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(kx.Slot,{scope:r,children:o.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:we(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Si*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),v=Math.max(m,g);if(v<y){const x=v+p,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vB.displayName=Nj;var gB="SelectGroup",[dSe,fSe]=Sd(gB),hSe=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=fa();return o.jsx(dSe,{scope:r,id:i,children:o.jsx(Re.div,{role:"group","aria-labelledby":i,...n,ref:t})})});hSe.displayName=gB;var yB="SelectLabel",xB=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=fSe(yB,r);return o.jsx(Re.div,{id:i.id,...n,ref:t})});xB.displayName=yB;var Rg="SelectItem",[pSe,bB]=Sd(Rg),wB=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,l=Po(Rg,r),c=Ao(Rg,r),u=l.value===n,[d,f]=j.useState(a??""),[h,p]=j.useState(!1),y=Qe(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,i)}),m=fa(),g=j.useRef("touch"),v=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(pSe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:j.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(kx.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:o.jsx(Re.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:we(s.onFocus,()=>p(!0)),onBlur:we(s.onBlur,()=>p(!1)),onClick:we(s.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:we(s.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:we(s.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:we(s.onPointerMove,x=>{var b;g.current=x.pointerType,i?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:we(s.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(J_e.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});wB.displayName=Rg;var af="SelectItemText",jB=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=Po(af,r),l=Ao(af,r),c=bB(af,r),u=nSe(af,r),[d,f]=j.useState(null),h=Qe(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=j.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Rr(()=>(m(y),()=>g(y)),[m,g,y]),o.jsxs(o.Fragment,{children:[o.jsx(Re.span,{id:c.textId,...a,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Nl.createPortal(a.children,s.valueNode):null]})});jB.displayName=af;var _B="SelectItemIndicator",SB=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return bB(_B,r).isSelected?o.jsx(Re.span,{"aria-hidden":!0,...n,ref:t}):null});SB.displayName=_B;var Tj="SelectScrollUpButton",CB=j.forwardRef((e,t)=>{const r=Ao(Tj,e.__scopeSelect),n=OC(Tj,e.__scopeSelect),[i,a]=j.useState(!1),s=Qe(t,n.onScrollButtonChange);return Rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(AB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CB.displayName=Tj;var Rj="SelectScrollDownButton",PB=j.forwardRef((e,t)=>{const r=Ao(Rj,e.__scopeSelect),n=OC(Rj,e.__scopeSelect),[i,a]=j.useState(!1),s=Qe(t,n.onScrollButtonChange);return Rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(AB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PB.displayName=Rj;var AB=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Ao("SelectScrollButton",r),s=j.useRef(null),l=Ox(r),c=j.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Rr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Re.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:we(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:we(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:we(i.onPointerLeave,()=>{c()})})}),mSe="SelectSeparator",EB=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Re.div,{"aria-hidden":!0,...n,ref:t})});EB.displayName=mSe;var $j="SelectArrow",vSe=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Nx(r),a=Po($j,r),s=Ao($j,r);return a.open&&s.position==="popper"?o.jsx(cS,{...i,...n,ref:t}):null});vSe.displayName=$j;var gSe="SelectBubbleInput",kB=j.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=j.useRef(null),a=Qe(n,i),s=Cy(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Re.select,{...r,style:{...aM,...r.style},ref:a,defaultValue:t})});kB.displayName=gSe;function OB(e){return e===""||e===void 0}function NB(e){const t=li(e),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function TB(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=ySe(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function ySe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xSe=aB,RB=oB,bSe=cB,wSe=uB,jSe=dB,$B=fB,_Se=vB,MB=xB,IB=wB,SSe=jB,CSe=SB,DB=CB,LB=PB,FB=EB;const it=xSe,at=bSe,rt=j.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(RB,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(wSe,{asChild:!0,children:o.jsx(OM,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=RB.displayName;const BB=j.forwardRef(({className:e,...t},r)=>o.jsx(DB,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(o6,{className:"h-4 w-4"})}));BB.displayName=DB.displayName;const UB=j.forwardRef(({className:e,...t},r)=>o.jsx(LB,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(OM,{className:"h-4 w-4"})}));UB.displayName=LB.displayName;const nt=j.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>o.jsx(jSe,{children:o.jsxs($B,{ref:i,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(BB,{}),o.jsx(_Se,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(UB,{})]})}));nt.displayName=$B.displayName;const PSe=j.forwardRef(({className:e,...t},r)=>o.jsx(MB,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PSe.displayName=MB.displayName;const Ue=j.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(IB,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(CSe,{children:o.jsx(Gf,{className:"h-4 w-4"})})}),o.jsx(SSe,{children:t})]}));Ue.displayName=IB.displayName;const ASe=j.forwardRef(({className:e,...t},r)=>o.jsx(FB,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));ASe.displayName=FB.displayName;var Tx="Dialog",[zB,VB]=jn(Tx),[ESe,Ki]=zB(Tx),WB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,d]=yn({prop:n,defaultProp:i??!1,onChange:a,caller:Tx});return o.jsx(ESe,{scope:t,triggerRef:l,contentRef:c,contentId:fa(),titleId:fa(),descriptionId:fa(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};WB.displayName=Tx;var HB="DialogTrigger",qB=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ki(HB,r),a=Qe(t,i.triggerRef);return o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RC(i.open),...n,ref:a,onClick:we(e.onClick,i.onOpenToggle)})});qB.displayName=HB;var NC="DialogPortal",[kSe,KB]=zB(NC,{forceMount:void 0}),GB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Ki(NC,t);return o.jsx(kSe,{scope:t,forceMount:r,children:j.Children.map(n,s=>o.jsx(xa,{present:r||a.open,children:o.jsx(rp,{asChild:!0,container:i,children:s})}))})};GB.displayName=NC;var $g="DialogOverlay",YB=j.forwardRef((e,t)=>{const r=KB($g,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ki($g,e.__scopeDialog);return a.modal?o.jsx(xa,{present:n||a.open,children:o.jsx(NSe,{...i,ref:t})}):null});YB.displayName=$g;var OSe=yl("DialogOverlay.RemoveScroll"),NSe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ki($g,r);return o.jsx(Ex,{as:OSe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Re.div,{"data-state":RC(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Al="DialogContent",XB=j.forwardRef((e,t)=>{const r=KB(Al,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ki(Al,e.__scopeDialog);return o.jsx(xa,{present:n||a.open,children:a.modal?o.jsx(TSe,{...i,ref:t}):o.jsx(RSe,{...i,ref:t})})});XB.displayName=Al;var TSe=j.forwardRef((e,t)=>{const r=Ki(Al,e.__scopeDialog),n=j.useRef(null),i=Qe(t,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return kC(a)},[]),o.jsx(QB,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:we(e.onFocusOutside,a=>a.preventDefault())})}),RSe=j.forwardRef((e,t)=>{const r=Ki(Al,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return o.jsx(QB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),QB=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=Ki(Al,r),c=j.useRef(null),u=Qe(t,c);return EC(),o.jsxs(o.Fragment,{children:[o.jsx(Px,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(Gu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":RC(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(MSe,{titleId:l.titleId}),o.jsx(DSe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),TC="DialogTitle",ZB=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ki(TC,r);return o.jsx(Re.h2,{id:i.titleId,...n,ref:t})});ZB.displayName=TC;var JB="DialogDescription",e5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ki(JB,r);return o.jsx(Re.p,{id:i.descriptionId,...n,ref:t})});e5.displayName=JB;var t5="DialogClose",r5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ki(t5,r);return o.jsx(Re.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>i.onOpenChange(!1))})});r5.displayName=t5;function RC(e){return e?"open":"closed"}var n5="DialogTitleWarning",[$Se,i5]=uV(n5,{contentName:Al,titleName:TC,docsSlug:"dialog"}),MSe=({titleId:e})=>{const t=i5(n5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ISe="DialogDescriptionWarning",DSe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i5(ISe).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},a5=WB,s5=qB,o5=GB,$C=YB,MC=XB,IC=ZB,DC=e5,LC=r5;const zn=a5,FC=s5,LSe=o5,l5=j.forwardRef(({className:e,...t},r)=>o.jsx($C,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));l5.displayName=$C.displayName;const xn=j.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(LSe,{children:[o.jsx(l5,{}),o.jsxs(MC,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(LC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(oo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xn.displayName=MC.displayName;const bn=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bn.displayName="DialogHeader";const Rx=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rx.displayName="DialogFooter";const wn=j.forwardRef(({className:e,...t},r)=>o.jsx(IC,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));wn.displayName=IC.displayName;const FSe=j.forwardRef(({className:e,...t},r)=>o.jsx(DC,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));FSe.displayName=DC.displayName;const BSe=["R&D","Production","Sales","Support","Admin"],USe=[2025,2026,2027,2028,2029,2030],zSe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function VSe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:i,saveAll:a}=wa(),[s,l]=j.useState("orgchart"),[c,u]=j.useState(null),[d,f]=j.useState(!1),[h,p]=j.useState({}),y=w=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:w||"R&D",startYear:2026,annualCostLoaded:5e4};p(S),u(null),f(!0)},m=w=>{u(w),p(w),f(!0)},g=()=>{if(h.title&&h.department){if(c){const w=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(w)}else n(h);f(!1),p({}),u(null)}},v=t.payrollByYear.map(w=>({year:w.year,payroll:w.payroll/1e3,headcount:w.headcount})),x=e.roles.filter(w=>w.startYear>2025),b=USe.slice(1).map(w=>({year:w,count:e.roles.filter(S=>S.startYear===w).length,cost:e.roles.filter(S=>S.startYear===w).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(w=>w.count>0);return o.jsx(So,{tabKey:"organisation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),o.jsxs(XF,{type:"single",value:s,onValueChange:w=>w&&l(w),children:[o.jsx(Ej,{value:"orgchart","aria-label":"Vue organigramme",children:o.jsx(d6,{className:"h-4 w-4"})}),o.jsx(Ej,{value:"table","aria-label":"Vue tableau",children:o.jsx(v6,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_d,{pageTitle:"Organisation & RH",sections:zSe,fileName:"Organisation_RH"}),o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>y(),children:[o.jsx(on,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),o.jsx(od,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ze,{label:"Masse Salariale 2025",value:Q(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),o.jsx(Ze,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),o.jsx(Ze,{label:"Cot Moyen / ETP",value:Q(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),o.jsx(Ze,{label:"Masse Salariale 2030",value:Q(((_=t.payrollByYear.find(w=>w.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),o.jsx("div",{id:"org-payroll-chart",children:o.jsx(De,{title:"volution de la Masse Salariale",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(gF,{data:v,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:w=>`${w}k`}),o.jsx(Tt,{formatter:(w,S)=>S==="payroll"?`${w.toFixed(0)}k`:w}),o.jsx(Nr,{}),o.jsx(Bn,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),o.jsx("div",{id:"org-hiring-plan",children:b.length>0&&o.jsx(De,{title:"Plan de Recrutement",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:w,count:S,cost:C})=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-lg font-semibold",children:w}),o.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:Q(C,!0)})]},w))})})}),o.jsx("div",{id:"org-team",children:s==="orgchart"?o.jsx(De,{title:"Organigramme",children:o.jsx(t_e,{roles:e.roles,onEdit:m,onRemove:i,onAddToTeam:y})}):o.jsx(De,{title:"quipe & Recrutements",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Poste"}),o.jsx(se,{children:"Dpartement"}),o.jsx(se,{children:"Dbut"}),o.jsx(se,{className:"text-right",children:"Cot Annuel"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:e.roles.map(w=>o.jsxs(ye,{className:w.startYear>2025?"bg-muted/20":"",children:[o.jsxs(G,{className:"font-medium",children:[w.title,w.startYear>2025&&o.jsx(Te,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),o.jsx(G,{children:o.jsx(Te,{variant:"outline",children:w.department})}),o.jsx(G,{children:w.startYear}),o.jsx(G,{className:"text-right font-mono-numbers",children:Q(w.annualCostLoaded)}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>m(w),children:"Modifier"}),o.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>i(w.id),children:"Suppr."})]})})]},w.id))})]})})})}),o.jsx(zn,{open:d,onOpenChange:f,children:o.jsxs(xn,{children:[o.jsx(bn,{children:o.jsx(wn,{children:c?"Modifier le poste":"Nouveau poste"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),o.jsx(je,{value:h.title||"",onChange:w=>p({...h,title:w.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),o.jsxs(it,{value:h.department,onValueChange:w=>p({...h,department:w}),children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Slectionner un dpartement"})}),o.jsx(nt,{children:BSe.map(w=>o.jsx(Ue,{value:w,children:w},w))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),o.jsx(je,{type:"number",value:h.startYear||2026,onChange:w=>p({...h,startYear:Number(w.target.value)}),min:2025,max:2030})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),o.jsx(je,{type:"number",value:h.annualCostLoaded||5e4,onChange:w=>p({...h,annualCostLoaded:Number(w.target.value)}),step:1e3})]})]})]}),o.jsxs(Rx,{children:[o.jsx(ce,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),o.jsx(ce,{onClick:g,children:"Sauvegarder"})]})]})})]})})}var WSe="Label",c5=j.forwardRef((e,t)=>o.jsx(Re.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));c5.displayName=WSe;var u5=c5;const HSe=Yu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=j.forwardRef(({className:e,...t},r)=>o.jsx(u5,{ref:r,className:ie(HSe(),e),...t}));ke.displayName=u5.displayName;const IT=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],DT=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],qSe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],KSe=[0,.02,.03,.05,.07,.1,.15,.2],GSe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function YSe(){var $,I,R;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:i,setOpexMode:a,updateSimpleOpexConfig:s,saveAll:l}=wa(),[c,u]=j.useState(null),[d,f]=j.useState({}),{startYear:h,durationYears:p}=e.scenarioSettings,y=Array.from({length:p},(M,D)=>h+D),[m,g]=j.useState(h),v=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(D=>D.id===c?{...D,...d}:D);r(M),u(null),f({})}},_=()=>{u(null),f({})},w=y[0],S=y[y.length-1],C=(($=t.opexByYear.find(M=>M.year===w))==null?void 0:$.opex)||0,P=((I=t.opexByYear.find(M=>M.year===S))==null?void 0:I.opex)||0,E=((R=t.revenueByYear.find(M=>M.year===w))==null?void 0:R.revenue)||1,k=C/E,A=t.opexByYear.find(M=>M.year===m),O=A?IT.map((M,D)=>({name:M,value:A.byCategory[M]||0,color:qSe[D]})).filter(M=>M.value>0):[],T=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return o.jsx(So,{tabKey:"charges",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Te,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_d,{pageTitle:"Structure des Charges",sections:GSe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&o.jsxs(ce,{variant:"outline",size:"sm",onClick:v,children:[o.jsx(on,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),o.jsx(od,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(De,{title:"Mode de Calcul",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>a("detailed"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(m6,{className:ie("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:ie("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),o.jsxs("button",{onClick:()=>a("simple"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(dv,{className:ie("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:ie("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&o.jsxs(De,{title:"Configuration Simplifie",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ke,{children:["Montant OPEX annuel de base (",w,")"]}),o.jsx(je,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>s({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"volution annuelle (%)"}),o.jsxs(it,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>s({growthRate:Number(M)/100}),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:KSe.map(M=>o.jsxs(Ue,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,D)=>{const L=e.simpleOpexConfig.baseAmount*Math.pow(1+e.simpleOpexConfig.growthRate,D);return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:M}),o.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:Q(L,!0)})]},M)})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[o.jsx(Ze,{label:`OPEX ${w}`,value:Q(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),o.jsx(Ze,{label:"Ratio OPEX / CA",value:vr(k),subValue:w.toString()}),o.jsx(Ze,{label:`OPEX ${S}`,value:Q(P,!0),subValue:"Projection",trend:"up"}),o.jsx(Ze,{label:"Croissance OPEX",value:C>0?vr(P/C-1):"N/A",subValue:`${w}-${S}`})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(De,{title:"volution des Charges",id:"charges-chart",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(jd,{data:T,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:M=>`${M}k`}),o.jsx(Tt,{formatter:M=>`${M.toFixed(0)}k`}),o.jsx(Bt,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&O.length>0&&o.jsxs(De,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(it,{value:m.toString(),onValueChange:M=>g(parseInt(M)),children:[o.jsx(rt,{className:"w-24 h-8",children:o.jsx(at,{})}),o.jsx(nt,{children:y.map(M=>o.jsx(Ue,{value:M.toString(),children:M},M))})]})}),o.jsx("div",{className:"h-56",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(Dje,{children:[o.jsx(cs,{data:O,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:O.map((M,D)=>o.jsx(dp,{fill:M.color},`cell-${D}`))}),o.jsx(Tt,{formatter:M=>Q(M)})]})})}),o.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",m,": ",o.jsx("span",{className:"font-mono-numbers font-medium",children:Q((A==null?void 0:A.opex)||0,!0)})]})]}),e.opexMode==="simple"&&o.jsx(De,{title:"Rcapitulatif",id:"charges-breakdown",children:o.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),o.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:Q(e.simpleOpexConfig.baseAmount,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),o.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&o.jsx(De,{title:"Dtail des Charges",id:"charges-table",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Charge"}),o.jsx(se,{children:"Catgorie"}),o.jsx(se,{children:"Type d'volution"}),o.jsx(se,{className:"text-right",children:"Cot Base"}),o.jsx(se,{children:"Paramtre"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:e.expenses.map(M=>{var D,L;return o.jsx(ye,{children:c===M.id?o.jsxs(o.Fragment,{children:[o.jsx(G,{children:o.jsx(je,{value:d.name||"",onChange:V=>f({...d,name:V.target.value}),className:"h-8"})}),o.jsx(G,{children:o.jsxs(it,{value:d.category,onValueChange:V=>f({...d,category:V}),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(at,{})}),o.jsx(nt,{children:IT.map(V=>o.jsx(Ue,{value:V,children:V},V))})]})}),o.jsx(G,{children:o.jsxs(it,{value:d.evolutionType,onValueChange:V=>f({...d,evolutionType:V}),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(at,{})}),o.jsx(nt,{children:DT.map(V=>o.jsx(Ue,{value:V.value,children:V.label},V.value))})]})}),o.jsx(G,{children:o.jsx(je,{type:"number",value:d.baseAnnualCost||0,onChange:V=>f({...d,baseAnnualCost:Number(V.target.value)}),className:"h-8 w-28 text-right"})}),o.jsxs(G,{children:[d.evolutionType==="growth_rate"&&o.jsx(je,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:V=>f({...d,growthRate:Number(V.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&o.jsx(je,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:V=>f({...d,revenueRatio:Number(V.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{size:"icon",variant:"ghost",onClick:b,children:o.jsx(Gf,{className:"h-4 w-4 text-accent"})}),o.jsx(ce,{size:"icon",variant:"ghost",onClick:_,children:o.jsx(oo,{className:"h-4 w-4 text-destructive"})})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(G,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&o.jsxs(Cq,{children:[o.jsx(Pq,{children:o.jsx(Yf,{className:"h-3 w-3 text-muted-foreground"})}),o.jsx(CI,{children:o.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),o.jsx(G,{children:o.jsx(Te,{variant:"outline",children:M.category})}),o.jsx(G,{children:o.jsx(Te,{variant:"secondary",children:(D=DT.find(V=>V.value===M.evolutionType))==null?void 0:D.label})}),o.jsx(G,{className:"text-right font-mono-numbers",children:Q(M.baseAnnualCost)}),o.jsxs(G,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${vr(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${vr(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((L=M.steps)==null?void 0:L.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{size:"icon",variant:"ghost",onClick:()=>x(M),children:o.jsx(G_,{className:"h-4 w-4"})}),o.jsx(ce,{size:"icon",variant:"ghost",onClick:()=>i(M.id),children:o.jsx(_n,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function XSe({customers:e,selectedId:t,onSelect:r,onRefresh:n,onCreate:i}){const[a,s]=j.useState(!1),[l,c]=j.useState({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),u=async()=>{if(!i||!l.company_name.trim())return;const d=await i({...l,address:null,postal_code:null,country:"France",latitude:null,longitude:null,notes:null});d&&(s(!1),c({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),r(d.id))};return o.jsxs(o.Fragment,{children:[o.jsxs($r,{children:[o.jsx(ci,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ui,{className:"text-lg",children:"Clients"}),o.jsxs("div",{className:"flex gap-1",children:[i&&o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>s(!0),children:o.jsx(on,{className:"h-4 w-4"})}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:n,children:o.jsx(w6,{className:"h-4 w-4"})})]})]})}),o.jsxs(Mr,{className:"space-y-1",children:[e.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),e.map(d=>o.jsxs("button",{onClick:()=>r(d.id),className:ie("w-full text-left p-3 rounded-lg transition-colors",t===d.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium text-sm",children:d.company_name}),o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[d.city&&o.jsx("span",{children:d.city}),o.jsx(Te,{variant:"outline",className:"text-[10px]",children:d.pricing_tier})]})]},d.id))]})]}),o.jsx(zn,{open:a,onOpenChange:s,children:o.jsxs(xn,{children:[o.jsx(bn,{children:o.jsx(wn,{children:"Nouveau Client"})}),o.jsxs("div",{className:"space-y-3 py-2",children:[o.jsx(je,{placeholder:"Nom de l'entreprise *",value:l.company_name,onChange:d=>c(f=>({...f,company_name:d.target.value}))}),o.jsx(je,{placeholder:"Nom du contact",value:l.contact_name,onChange:d=>c(f=>({...f,contact_name:d.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(je,{placeholder:"Email",value:l.email,onChange:d=>c(f=>({...f,email:d.target.value}))}),o.jsx(je,{placeholder:"Tlphone",value:l.phone,onChange:d=>c(f=>({...f,phone:d.target.value}))})]}),o.jsx(je,{placeholder:"Ville",value:l.city,onChange:d=>c(f=>({...f,city:d.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(it,{value:l.status,onValueChange:d=>c(f=>({...f,status:d})),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"prospect",children:"Prospect"}),o.jsx(Ue,{value:"active",children:"Actif"}),o.jsx(Ue,{value:"inactive",children:"Inactif"})]})]}),o.jsxs(it,{value:l.pricing_tier,onValueChange:d=>c(f=>({...f,pricing_tier:d})),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"bronze",children:"Bronze"}),o.jsx(Ue,{value:"silver",children:"Silver"}),o.jsx(Ue,{value:"gold",children:"Gold"})]})]})]})]}),o.jsxs(Rx,{children:[o.jsx(ce,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),o.jsx(ce,{onClick:u,disabled:!l.company_name.trim(),children:"Crer"})]})]})})]})}function QSe({customer:e,orders:t}){const r=t.reduce((n,i)=>n+(i.total_amount||0),0);return o.jsxs($r,{children:[o.jsx(ci,{children:o.jsxs(ui,{className:"flex items-center justify-between",children:[e.company_name,o.jsx(Te,{children:e.status})]})}),o.jsxs(Mr,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("span",{className:"ml-2",children:e.contact_name||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("span",{className:"ml-2",children:e.email||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Ville:"}),o.jsx("span",{className:"ml-2",children:e.city||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"CA Total:"}),o.jsx("span",{className:"ml-2 font-mono-numbers",children:Q(r,!0)})]})]}),t.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Commandes (",t.length,")"]}),o.jsx("div",{className:"space-y-1",children:t.slice(0,5).map(n=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/30 rounded",children:[o.jsx("span",{children:n.order_reference}),o.jsx("span",{className:"font-mono-numbers",children:Q(n.total_amount,!0)})]},n.id))})]})]})]})}function ZSe({customers:e}){const t=e.filter(r=>r.latitude&&r.longitude);return o.jsx("div",{className:"h-[400px] bg-muted/30 rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(jw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsxs("p",{children:[t.length," clients golocaliss"]}),o.jsx("p",{className:"text-xs mt-1",children:"Carte interactive (Leaflet)"})]})})}function JSe({tiers:e}){return o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.map(t=>o.jsxs($r,{children:[o.jsx(ci,{children:o.jsxs(ui,{className:"flex items-center justify-between",children:[o.jsx(Te,{variant:t.tier==="gold"?"default":"outline",children:t.tier}),o.jsxs("span",{className:"text-2xl font-bold font-mono-numbers",children:["-",t.discount_percentage,"%"]})]})}),o.jsx(Mr,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Grille tarifaire"})})]},t.id)),e.length===0&&o.jsx("p",{className:"text-muted-foreground col-span-3 text-center py-8",children:"Aucune grille tarifaire configure"})]})}function eCe({appointments:e,customers:t}){const r=e.filter(n=>!n.is_completed&&new Date(n.appointment_date)>=new Date).slice(0,10);return o.jsxs($r,{children:[o.jsx(ci,{children:o.jsxs(ui,{className:"flex items-center gap-2",children:[o.jsx(iu,{className:"h-5 w-5"}),"Rendez-vous  venir"]})}),o.jsxs(Mr,{children:[r.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun rendez-vous planifi"}),o.jsx("div",{className:"space-y-2",children:r.map(n=>{const i=t.find(a=>a.id===n.customer_id);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:n.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[i==null?void 0:i.company_name,"  ",new Date(n.appointment_date).toLocaleDateString("fr-FR")]})]}),n.location&&o.jsx(Te,{variant:"outline",className:"text-xs",children:n.location})]},n.id)})})]})]})}function tCe(){const{toast:e}=X$(),{user:t}=Hi(),[r,n]=j.useState([]),[i,a]=j.useState([]),[s,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState(!0),y=j.useCallback(async()=>{if(!t){p(!1);return}try{p(!0);const[b,_]=await Promise.all([Ce.from("customers").select("*").order("company_name"),Ce.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{p(!1)}},[t]);j.useEffect(()=>{y()},[y]);const m=j.useCallback(async b=>{if(!t)return null;try{const{data:_,error:w}=await Ce.from("customers").insert({...b,user_id:t.id}).select().single();if(w)throw w;const S=_;return n(C=>[...C,S].sort((P,E)=>P.company_name.localeCompare(E.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),g=j.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:w}=await Ce.from("customers").update(_).eq("id",b);if(w)throw w;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(w){return console.error("Failed to update customer:",w),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),v=j.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await Ce.from("customers").delete().eq("id",b);if(_)throw _;return n(w=>w.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=j.useCallback(async b=>{if(!t)return null;try{const{data:_,error:w}=await Ce.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(w)throw w;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:i,appointments:s,orders:c,pricingTiers:d,isLoading:h,refreshData:y,createCustomer:m,updateCustomer:g,deleteCustomer:v,createOrder:x,getCustomerInteractions:b=>i.filter(_=>_.customer_id===b),getCustomerAppointments:b=>s.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}function rCe(){const{customers:e,orders:t,appointments:r,pricingTiers:n,isLoading:i,refreshData:a,createCustomer:s,updateCustomer:l,deleteCustomer:c}=tCe(),[u,d]=j.useState(null),f=e.find(v=>v.id===u),h=e.length,p=e.filter(v=>v.status==="active").length,y=t.reduce((v,x)=>v+(x.total_amount||0),0),m=t.filter(v=>["draft","confirmed","in_progress"].includes(v.status)).length,g=r.filter(v=>!v.is_completed&&new Date(v.appointment_date)>=new Date).length;return i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, suivi commercial et commandes"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[o.jsx(Ze,{label:"Total Clients",value:h}),o.jsx(Ze,{label:"Clients Actifs",value:p,trend:p>0?"up":"neutral"}),o.jsx(Ze,{label:"CA Total",value:`${(y/1e3).toFixed(0)} k`}),o.jsx(Ze,{label:"Commandes en cours",value:m}),o.jsx(Ze,{label:"RDV  venir",value:g})]}),o.jsxs(mi,{defaultValue:"customers",className:"space-y-4",children:[o.jsxs(qn,{children:[o.jsxs(st,{value:"customers",children:[o.jsx(su,{className:"h-4 w-4 mr-2"}),"Clients"]}),o.jsxs(st,{value:"map",children:[o.jsx(jw,{className:"h-4 w-4 mr-2"}),"Carte"]}),o.jsxs(st,{value:"pricing",children:[o.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Grille Tarifaire"]}),o.jsxs(st,{value:"agenda",children:[o.jsx(iu,{className:"h-4 w-4 mr-2"}),"Agenda"]})]}),o.jsx(pt,{value:"customers",className:"space-y-4",children:o.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(XSe,{customers:e,selectedId:u,onSelect:d,onRefresh:a,onCreate:s})}),o.jsx("div",{className:"lg:col-span-2",children:f?o.jsx(QSe,{customer:f,orders:t.filter(v=>v.customer_id===u),onRefresh:a}):o.jsx($r,{className:"h-full min-h-[400px] flex items-center justify-center",children:o.jsxs(Mr,{className:"text-center text-muted-foreground",children:[o.jsx(su,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})}),o.jsx(pt,{value:"map",className:"space-y-4",children:o.jsxs($r,{children:[o.jsx(ci,{children:o.jsxs(ui,{className:"flex items-center gap-2",children:[o.jsx(jw,{className:"h-5 w-5"}),"Localisation des clients"]})}),o.jsx(Mr,{children:o.jsx(ZSe,{customers:e,selectedId:u,onSelectCustomer:d})})]})}),o.jsx(pt,{value:"pricing",className:"space-y-4",children:o.jsx(JSe,{tiers:n,onRefresh:a})}),o.jsx(pt,{value:"agenda",className:"space-y-4",children:o.jsx(eCe,{appointments:r,customers:e,onRefresh:a})})]})]})}var $x="Switch",[nCe,aOe]=jn($x),[iCe,aCe]=nCe($x),d5=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=j.useState(null),y=Qe(t,b=>p(b)),m=j.useRef(!1),g=h?d||!!h.closest("form"):!0,[v,x]=yn({prop:i,defaultProp:a??!1,onChange:u,caller:$x});return o.jsxs(iCe,{scope:r,checked:v,disabled:l,children:[o.jsx(Re.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":m5(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:we(e.onClick,b=>{x(_=>!_),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&o.jsx(p5,{control:h,bubbles:!m.current,name:n,value:c,checked:v,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});d5.displayName=$x;var f5="SwitchThumb",h5=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=aCe(f5,r);return o.jsx(Re.span,{"data-state":m5(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});h5.displayName=f5;var sCe="SwitchBubbleInput",p5=j.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=j.useRef(null),l=Qe(s,a),c=Cy(r),u=my(t);return j.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p5.displayName=sCe;function m5(e){return e?"checked":"unchecked"}var v5=d5,oCe=h5;const g5=j.forwardRef(({className:e,...t},r)=>o.jsx(v5,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(oCe,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));g5.displayName=v5.displayName;var Mx="Checkbox",[lCe,sOe]=jn(Mx),[cCe,BC]=lCe(Mx);function uCe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=yn({prop:r,defaultProp:i??!1,onChange:c,caller:Mx}),[y,m]=j.useState(null),[g,v]=j.useState(null),x=j.useRef(!1),b=y?!!s||!!y.closest("form"):!0,_={checked:h,disabled:a,setChecked:p,control:y,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:no(i)?!1:i,isFormControl:b,bubbleInput:g,setBubbleInput:v};return o.jsx(cCe,{scope:t,..._,children:dCe(f)?f(_):n})}var y5="CheckboxTrigger",x5=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=BC(y5,e),m=Qe(i,d),g=j.useRef(c);return j.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const x=()=>f(g.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[a,f]),o.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":no(c)?"mixed":c,"aria-required":u,"data-state":S5(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:we(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:we(r,v=>{f(x=>no(x)?!0:!x),y&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});x5.displayName=y5;var UC=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(uCe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(x5,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(_5,{__scopeCheckbox:r})]})})});UC.displayName=Mx;var b5="CheckboxIndicator",w5=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=BC(b5,r);return o.jsx(xa,{present:n||no(a.checked)||a.checked===!0,children:o.jsx(Re.span,{"data-state":S5(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});w5.displayName=b5;var j5="CheckboxBubbleInput",_5=j.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=BC(j5,e),y=Qe(r,p),m=Cy(a),g=my(n);j.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(b,"checked").set,S=!i.current;if(m!==a&&w){const C=new Event("click",{bubbles:S});x.indeterminate=no(a),w.call(x,no(a)?!1:a),x.dispatchEvent(C)}},[h,m,a,i]);const v=j.useRef(no(a)?!1:a);return o.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_5.displayName=j5;function dCe(e){return typeof e=="function"}function no(e){return e==="indeterminate"}function S5(e){return no(e)?"indeterminate":e?"checked":"unchecked"}const C5=j.forwardRef(({className:e,...t},r)=>o.jsx(UC,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(w5,{className:ie("flex items-center justify-center text-current"),children:o.jsx(Gf,{className:"h-4 w-4"})})}));C5.displayName=UC.displayName;var Ix="Popover",[P5,oOe]=jn(Ix,[td]),bp=td(),[fCe,Eo]=P5(Ix),A5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=bp(t),c=j.useRef(null),[u,d]=j.useState(!1),[f,h]=yn({prop:n,defaultProp:i??!1,onChange:a,caller:Ix});return o.jsx(oS,{...l,children:o.jsx(fCe,{scope:t,contentId:fa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:s,children:r})})};A5.displayName=Ix;var E5="PopoverAnchor",hCe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Eo(E5,r),a=bp(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return j.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(vy,{...a,...n,ref:t})});hCe.displayName=E5;var k5="PopoverTrigger",O5=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Eo(k5,r),a=bp(r),s=Qe(t,i.triggerRef),l=o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":M5(i.open),...n,ref:s,onClick:we(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(vy,{asChild:!0,...a,children:l})});O5.displayName=k5;var zC="PopoverPortal",[pCe,mCe]=P5(zC,{forceMount:void 0}),N5=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=Eo(zC,t);return o.jsx(pCe,{scope:t,forceMount:r,children:o.jsx(xa,{present:r||a.open,children:o.jsx(rp,{asChild:!0,container:i,children:n})})})};N5.displayName=zC;var Fu="PopoverContent",T5=j.forwardRef((e,t)=>{const r=mCe(Fu,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=Eo(Fu,e.__scopePopover);return o.jsx(xa,{present:n||a.open,children:a.modal?o.jsx(gCe,{...i,ref:t}):o.jsx(yCe,{...i,ref:t})})});T5.displayName=Fu;var vCe=yl("PopoverContent.RemoveScroll"),gCe=j.forwardRef((e,t)=>{const r=Eo(Fu,e.__scopePopover),n=j.useRef(null),i=Qe(t,n),a=j.useRef(!1);return j.useEffect(()=>{const s=n.current;if(s)return kC(s)},[]),o.jsx(Ex,{as:vCe,allowPinchZoom:!0,children:o.jsx(R5,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),yCe=j.forwardRef((e,t)=>{const r=Eo(Fu,e.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return o.jsx(R5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),R5=j.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Eo(Fu,r),p=bp(r);return EC(),o.jsx(Px,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(lS,{"data-state":M5(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$5="PopoverClose",xCe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Eo($5,r);return o.jsx(Re.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>i.onOpenChange(!1))})});xCe.displayName=$5;var bCe="PopoverArrow",wCe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=bp(r);return o.jsx(cS,{...i,...n,ref:t})});wCe.displayName=bCe;function M5(e){return e?"open":"closed"}var jCe=A5,_Ce=O5,SCe=N5,I5=T5;const CCe=jCe,PCe=_Ce,D5=j.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>o.jsx(SCe,{children:o.jsx(I5,{ref:i,align:t,sideOffset:r,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));D5.displayName=I5.displayName;function ACe(){const{computed:e}=wa(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return o.jsx(De,{title:"Plan de Trsorerie Mensuel",children:o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return o.jsx("div",{className:"space-y-6",children:r.map(n=>{const i=t.months.filter(a=>a.year===n);return o.jsx(De,{title:`Trsorerie ${n}`,children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),o.jsx("tbody",{children:i.map(a=>o.jsxs("tr",{className:ie("border-b",a.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-1.5 px-2",children:a.monthName}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:Q(a.totalInflows,!0)}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:Q(a.totalOutflows,!0)}),o.jsxs("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers",a.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[a.netCashFlow>=0?"+":"",Q(a.netCashFlow,!0)]}),o.jsx("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers font-medium",a.treasuryEnd<0&&"text-destructive"),children:Q(a.treasuryEnd,!0)})]},`${a.year}-${a.month}`))})]})})},n)})})}const mb={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},vb={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},ECe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function kCe({loans:e,onChange:t,startYear:r,durationYears:n}){const[i,a]=j.useState(!1),[s,l]=j.useState(null),[c,u]=j.useState(mb),d=Array.from({length:n+2},(v,x)=>r+x),f=()=>{l(null),u({...mb,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),a(!0)},h=v=>{l(v.id);const{id:x,...b}=v;u({...mb,...b}),a(!0)},p=()=>{c.name.trim()&&(t(s?e.map(v=>v.id===s?{...v,...c}:v):[...e,{id:`loan-${Date.now()}`,...c}]),a(!1))},y=v=>{t(e.filter(x=>x.id!==v))},m=v=>{if(v.inputMode==="fixed")return v.fixedPaymentAmount||0;const x=v.startDate.year*12+v.startDate.month,_=v.endDate.year*12+v.endDate.month-x;if(_<=0)return 0;if(v.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=v.interestRate;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(v.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=v.interestRate/4;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const w=v.interestRate/12;return w===0?v.principalAmount/_:v.principalAmount*w*Math.pow(1+w,_)/(Math.pow(1+w,_)-1)},g=v=>{const x=m(v),b=v.startDate.year*12+v.startDate.month,w=v.endDate.year*12+v.endDate.month-b;return w<=0?0:v.frequency==="annual"?x*Math.max(1,Math.round(w/12)):v.frequency==="quarterly"?x*Math.max(1,Math.round(w/3)):x*w};return o.jsxs(o.Fragment,{children:[o.jsx(De,{title:"Gestion des Prts",action:o.jsxs(ce,{variant:"outline",size:"sm",onClick:f,children:[o.jsx(on,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(h6,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun prt configur"}),o.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Mode"}),o.jsx(se,{className:"text-right",children:"Capital"}),o.jsx(se,{className:"text-right",children:"Taux"}),o.jsx(se,{children:"Frquence"}),o.jsx(se,{children:"Priode"}),o.jsx(se,{className:"text-right",children:"chance"}),o.jsx(se,{className:"text-right",children:"Cot Total"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:e.map(v=>{const x=m(v),b=g(v);return o.jsxs(ye,{children:[o.jsx(G,{className:"font-medium",children:v.name}),o.jsx(G,{children:o.jsx(Te,{variant:"outline",className:"text-xs",children:v.inputMode==="fixed"?o.jsxs(o.Fragment,{children:[o.jsx(yA,{className:"h-3 w-3 mr-1"}),"Fixe"]}):o.jsxs(o.Fragment,{children:[o.jsx(dv,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),o.jsx(G,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?Q(v.principalAmount,!0):"-"}),o.jsx(G,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?`${(v.interestRate*100).toFixed(1)}%`:"-"}),o.jsx(G,{children:o.jsx(Te,{variant:"secondary",className:"text-xs",children:vb[v.frequency]})}),o.jsxs(G,{className:"text-xs",children:[Yo[v.startDate.month].slice(0,3)," ",v.startDate.year,"  ",Yo[v.endDate.month].slice(0,3)," ",v.endDate.year]}),o.jsxs(G,{className:"text-right font-mono-numbers font-medium",children:[Q(x),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:ECe[v.frequency]})]}),o.jsx(G,{className:"text-right font-mono-numbers text-muted-foreground",children:Q(b,!0)}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>h(v),children:o.jsx(G_,{className:"h-3 w-3"})}),o.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(v.id),children:o.jsx(_n,{className:"h-3 w-3"})})]})})]},v.id)})})]})})}),o.jsx(zn,{open:i,onOpenChange:a,children:o.jsxs(xn,{className:"max-w-lg",children:[o.jsx(bn,{children:o.jsx(wn,{children:s?"Modifier le Prt":"Nouveau Prt"})}),o.jsxs("div",{className:"space-y-4 py-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Nom du prt"}),o.jsx(je,{value:c.name,onChange:v=>u(x=>({...x,name:v.target.value})),placeholder:"Ex: BPI Innovation"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Mode de saisie"}),o.jsx(mi,{value:c.inputMode,onValueChange:v=>u(x=>({...x,inputMode:v})),children:o.jsxs(qn,{className:"w-full",children:[o.jsxs(st,{value:"calculated",className:"flex-1",children:[o.jsx(dv,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),o.jsxs(st,{value:"fixed",className:"flex-1",children:[o.jsx(yA,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Montant emprunt ()"}),o.jsx(je,{type:"number",value:c.principalAmount,onChange:v=>u(x=>({...x,principalAmount:Number(v.target.value)}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Taux d'intrt annuel (%)"}),o.jsx(je,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:v=>u(x=>({...x,interestRate:Number(v.target.value)/100}))})]})]}),c.inputMode==="fixed"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Montant de l'chance ()"}),o.jsx(je,{type:"number",value:c.fixedPaymentAmount||0,onChange:v=>u(x=>({...x,fixedPaymentAmount:Number(v.target.value)})),placeholder:"Montant fixe par priode"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",vb[c.frequency].toLowerCase(),")."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Frquence des chances"}),o.jsxs(it,{value:c.frequency,onValueChange:v=>u(x=>({...x,frequency:v})),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"monthly",children:"Mensuel"}),o.jsx(Ue,{value:"quarterly",children:"Trimestriel"}),o.jsx(Ue,{value:"annual",children:"Annuel"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Date de dbut"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:c.startDate.month.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,month:Number(v)}})),children:[o.jsx(rt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(nt,{children:Yo.map((v,x)=>o.jsx(Ue,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(it,{value:c.startDate.year.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,year:Number(v)}})),children:[o.jsx(rt,{className:"w-24",children:o.jsx(at,{})}),o.jsx(nt,{children:d.map(v=>o.jsx(Ue,{value:v.toString(),children:v},v))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Date de fin"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:c.endDate.month.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,month:Number(v)}})),children:[o.jsx(rt,{className:"flex-1",children:o.jsx(at,{})}),o.jsx(nt,{children:Yo.map((v,x)=>o.jsx(Ue,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(it,{value:c.endDate.year.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,year:Number(v)}})),children:[o.jsx(rt,{className:"w-24",children:o.jsx(at,{})}),o.jsx(nt,{children:d.map(v=>o.jsx(Ue,{value:v.toString(),children:v},v))})]})]})]})]}),c.name.trim()&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[o.jsx("div",{className:"font-medium",children:"Aperu"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:["chance ",vb[c.frequency].toLowerCase()," :"]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:Q(m({id:"",...c}))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),o.jsx("span",{className:"font-mono-numbers",children:Q(g({id:"",...c}),!0)})]})]})]}),o.jsxs(Rx,{children:[o.jsx(ce,{variant:"outline",onClick:()=>a(!1),children:"Annuler"}),o.jsx(ce,{onClick:p,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function OCe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:i}){const a=Array.from({length:i},(f,h)=>n+h),s=j.useMemo(()=>{const f=new Map;return e.forEach(h=>{const p=f.get(h.productId)||[];p.push(h),f.set(h.productId,p)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const p=e.filter(v=>v.productId===f.id).reduce((v,x)=>v+x.percentageOfTotal,0),y=Math.max(0,100-p),m=Math.min(y,25),g={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:m,amount:f.devCost*m/100};t([...e,g])},u=(f,h)=>{t(e.map(p=>{if(p.id!==f)return p;const y={...p,...h},m=r.find(g=>g.id===y.productId);return m&&(y.amount=m.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return o.jsx(De,{title:"Dblocage CAPEX Produits",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ip,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):o.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=s.get(f.id)||[],p=h.reduce((y,m)=>y+m.percentageOfTotal,0);return h.reduce((y,m)=>y+m.amount,0),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:f.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",Q(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:p===100?"default":"secondary",children:[p,"% planifi"]}),o.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:p>=100,children:[o.jsx(on,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Mois"}),o.jsx(se,{children:"Anne"}),o.jsx(se,{className:"text-right",children:"% du total"}),o.jsx(se,{className:"text-right",children:"Montant"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:h.map(y=>o.jsxs(ye,{children:[o.jsx(G,{children:o.jsxs(it,{value:y.month.toString(),onValueChange:m=>u(y.id,{month:Number(m)}),children:[o.jsx(rt,{className:"h-8 w-28",children:o.jsx(at,{})}),o.jsx(nt,{children:Yo.map((m,g)=>o.jsx(Ue,{value:g.toString(),children:m},g))})]})}),o.jsx(G,{children:o.jsxs(it,{value:y.year.toString(),onValueChange:m=>u(y.id,{year:Number(m)}),children:[o.jsx(rt,{className:"h-8 w-20",children:o.jsx(at,{})}),o.jsx(nt,{children:a.map(m=>o.jsx(Ue,{value:m.toString(),children:m},m))})]})}),o.jsx(G,{className:"text-right",children:o.jsx(je,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:m=>u(y.id,{percentageOfTotal:Number(m.target.value)})})}),o.jsx(G,{className:"text-right font-mono-numbers font-medium",children:Q(y.amount,!0)}),o.jsx(G,{children:o.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:o.jsx(_n,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}function NCe({projection:e,startYear:t,durationYears:r}){const[n,i]=j.useState("full-period"),[a,s]=j.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=j.useMemo(()=>{const f=mS(e.months);return l.map(h=>{const p=f.get(h);if(!p)return{label:h.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const m=e.months.filter(v=>v.year===h).reduce((v,x)=>v+x.capexPayments,0),g=p.loanPayments;return{label:h.toString(),ca:p.revenue/1e3,cogs:p.cogs/1e3,payroll:p.payroll/1e3,opex:p.opex/1e3,capex:m/1e3,loans:g/1e3,tresorerie:p.treasuryEnd/1e3,cashFlow:p.netCashFlow/1e3}})},[e,l]),u=j.useMemo(()=>e.months.filter(f=>f.year===a).map(f=>({label:f.monthName.slice(0,3),ca:f.revenue/1e3,cogs:f.cogs/1e3,payroll:f.payroll/1e3,opex:f.opex/1e3,capex:f.capexPayments/1e3,loans:f.loanPayments/1e3,tresorerie:f.treasuryEnd/1e3,cashFlow:f.netCashFlow/1e3})),[e,a]),d=n==="annual"?u:c;return o.jsx(De,{title:"Suivi de Trsorerie Dtaill",action:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(it,{value:n,onValueChange:f=>i(f),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"full-period",children:"Toute la priode"}),o.jsx(Ue,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&o.jsxs(it,{value:a.toString(),onValueChange:f=>s(Number(f)),children:[o.jsx(rt,{className:"h-8 w-24",children:o.jsx(at,{})}),o.jsx(nt,{children:l.map(f=>o.jsx(Ue,{value:f.toString(),children:f},f))})]})]}),children:o.jsx("div",{className:"h-80",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(yp,{data:d,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"label"}),o.jsx(nr,{tickFormatter:f=>`${f}k`}),o.jsx(Tt,{formatter:f=>`${f.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bt,{dataKey:"cogs",name:"Achats matire",stackId:"costs",fill:"hsl(38, 92%, 50%)"}),o.jsx(Bt,{dataKey:"payroll",name:"Masse salariale",stackId:"costs",fill:"hsl(210, 70%, 50%)"}),o.jsx(Bt,{dataKey:"opex",name:"OPEX",stackId:"costs",fill:"hsl(280, 60%, 50%)"}),o.jsx(Bt,{dataKey:"capex",name:"CAPEX",stackId:"costs",fill:"hsl(0, 0%, 45%)"}),o.jsx(Bt,{dataKey:"loans",name:"chances prts",stackId:"costs",fill:"hsl(0, 85%, 50%)"}),o.jsx(pn,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",stroke:"hsl(150, 60%, 40%)",strokeWidth:3,dot:{r:4}})]})})})})}function TCe({projection:e,startYear:t,durationYears:r}){const[n,i]=j.useState("annual"),[a,s]=j.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=j.useMemo(()=>mS(e.months),[e]),u=j.useMemo(()=>e.months.filter(f=>f.year===a),[e,a]),d=(f,h,p,y)=>o.jsxs(ye,{className:p,children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((m,g)=>o.jsx(G,{className:ie("text-right font-mono-numbers",y&&m>0&&"text-destructive"),children:y&&m>0?`(${Q(m,!0)})`:Q(m,!0)},g))]});if(n==="monthly"){const f=u;return o.jsx(De,{title:"Dtail Prvisionnel",action:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:n,onValueChange:h=>i(h),children:[o.jsx(rt,{className:"h-8 w-36",children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"annual",children:"Par anne"}),o.jsx(Ue,{value:"monthly",children:"Par mois"})]})]}),o.jsxs(it,{value:a.toString(),onValueChange:h=>s(Number(h)),children:[o.jsx(rt,{className:"h-8 w-24",children:o.jsx(at,{})}),o.jsx(nt,{children:l.map(h=>o.jsx(Ue,{value:h.toString(),children:h},h))})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>o.jsx(se,{className:"text-right min-w-20",children:Yo[h.month].slice(0,3)},h.month))]})}),o.jsxs(Dt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),o.jsxs(ye,{className:"border-t-2",children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,p)=>o.jsxs(G,{className:ie("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",Q(h.netCashFlow,!0)]},p))]}),o.jsxs(ye,{className:"bg-primary/5",children:[o.jsx(G,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,p)=>o.jsx(G,{className:ie("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:Q(h.treasuryEnd,!0)},p))]})]})]})})})}return o.jsx(De,{title:"Dtail Prvisionnel",action:o.jsxs(it,{value:n,onValueChange:f=>i(f),children:[o.jsx(rt,{className:"h-8 w-36",children:o.jsx(at,{})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"annual",children:"Par anne"}),o.jsx(Ue,{value:"monthly",children:"Par mois"})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>o.jsx(se,{className:"text-right min-w-24",children:f},f))]})}),o.jsxs(Dt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(p=>p.year===f).reduce((p,y)=>p+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),o.jsxs(ye,{className:"border-t-2",children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.netCashFlow)||0;return o.jsxs(G,{className:ie("text-right font-mono-numbers font-bold",p<0?"text-destructive":"text-green-600"),children:[p>=0?"+":"",Q(p,!0)]},f)})]}),o.jsxs(ye,{className:"bg-primary/5",children:[o.jsx(G,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.treasuryEnd)||0;return o.jsx(G,{className:ie("text-right font-mono-numbers font-bold",p<0&&"text-destructive"),children:Q(p,!0)},f)})]})]})]})})})}const gb=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],RCe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],$Ce=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],MCe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function ICe(){var E;const{state:e,computed:t,saveAll:r,setExcludeFundingFromTreasury:n,updateMonthlyTreasuryConfig:i}=wa(),[a,s]=j.useState(()=>{const k=new Set;return gb.forEach(A=>{A.defaultVisible&&k.add(A.id)}),k}),[l,c]=j.useState("annual"),{startYear:u,durationYears:d}=e.scenarioSettings,f=Array.from({length:d},(k,A)=>u+A),h=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:p}=t,y=j.useMemo(()=>{const k=mS(p.months);return f.map(A=>{const O=k.get(A);if(!O)return{year:A,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const T=t.treasuryProjection.years.find(R=>R.year===A),$=(T==null?void 0:T.capex)||0,I=(T==null?void 0:T.depreciation)||0;return{year:O.year,revenue:O.revenue,cogs:O.cogs,grossMargin:O.grossMargin,payroll:O.payroll,opex:O.opex,capex:$,depreciation:I,ebitda:O.ebitda,operatingResult:O.ebitda-I,cashFlow:O.netCashFlow,treasuryStart:O.treasuryStart,treasuryEnd:O.treasuryEnd,fundingInjection:O.fundingInjection}})},[p,t.treasuryProjection,f]),m=y.map(k=>({year:k.year,tresorerie:k.treasuryEnd/1e3,cashFlow:k.cashFlow/1e3,levee:k.fundingInjection/1e3})),g=y.map(k=>({year:k.year,ca:k.revenue/1e3,margeBrute:k.grossMargin/1e3,ebitda:k.ebitda/1e3,resultat:k.operatingResult/1e3})),v=y[0],x=y[y.length-1],b=y.reduce((k,A)=>k+A.cashFlow,0),_=((E=p.breakEvenMonth)==null?void 0:E.year)||null,w=p.minTreasury,S=k=>{s(A=>{const O=new Set(A);return O.has(k)?O.delete(k):O.add(k),O})},C=gb.filter(k=>a.has(k.id)),P=(k,A)=>A==="percent"?vr(k):Q(k,!0);return o.jsx(So,{tabKey:"previsionnel",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(mi,{value:l,onValueChange:k=>c(k),children:o.jsxs(qn,{children:[o.jsxs(st,{value:"annual",className:"flex items-center gap-2",children:[o.jsx(kM,{className:"h-4 w-4"}),"Vue Annuelle"]}),o.jsxs(st,{value:"monthly",className:"flex items-center gap-2",children:[o.jsx(r6,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),o.jsxs(st,{value:"params",className:"flex items-center gap-2",children:[o.jsx(bA,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),o.jsx(Te,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":"Global Canaux"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C5,{id:"exclude-funding",checked:h,onCheckedChange:k=>n(k===!0)}),o.jsx(ke,{htmlFor:"exclude-funding",className:"text-sm cursor-pointer",children:"Ne pas intgrer le montant  lever dans la trsorerie"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",className:"text-xs",children:[d," annes  ",C.length," indicateurs actifs"]}),o.jsx(_d,{pageTitle:l==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:l==="monthly"?$Ce:RCe,fileName:l==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),o.jsx(od,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),l==="params"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(kCe,{loans:e.monthlyTreasuryConfig.loans,onChange:k=>i({...e.monthlyTreasuryConfig,loans:k}),startYear:u,durationYears:d}),o.jsx(OCe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:k=>i({...e.monthlyTreasuryConfig,capexPayments:k}),products:e.products,startYear:u,durationYears:d})]}):l==="monthly"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(NCe,{projection:p,startYear:u,durationYears:d}),o.jsx(TCe,{projection:p,startYear:u,durationYears:d}),o.jsx(ACe,{})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[o.jsx(Ze,{label:`CA ${(x==null?void 0:x.year)||""}`,value:Q((x==null?void 0:x.revenue)||0,!0),subValue:`vs ${Q((v==null?void 0:v.revenue)||0,!0)} en ${v==null?void 0:v.year}`,trend:"up"}),o.jsx(Ze,{label:"Cash Flow Cumul",value:Q(b,!0),subValue:`${v==null?void 0:v.year}-${x==null?void 0:x.year}`,trend:b>=0?"up":"down"}),o.jsx(Ze,{label:"Trsorerie Min",value:Q(w,!0),subValue:"Point bas projet",trend:w>=0?"neutral":"down"}),o.jsx(Ze,{label:"Break-even",value:_?_.toString():"N/A",subValue:"Cash flow positif"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(De,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:o.jsx("div",{className:"h-72",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(yp,{data:m,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:k=>`${k}k`}),o.jsx(Tt,{formatter:k=>`${k.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bn,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx(Bt,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),o.jsx(De,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:o.jsx("div",{className:"h-72",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(jd,{data:m,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:k=>`${k}k`}),o.jsx(Tt,{formatter:k=>`${k.toFixed(0)}k`}),o.jsx(Bt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),o.jsx(De,{title:"Soldes Intermdiaires de Gestion",children:o.jsx("div",{className:"h-72",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(vF,{data:g,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:k=>`${k}k`}),o.jsx(Tt,{formatter:k=>`${k.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(pn,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx(pn,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),o.jsx(pn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),o.jsx(pn,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),o.jsxs(De,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:o.jsxs(CCe,{children:[o.jsx(PCe,{asChild:!0,children:o.jsxs(ce,{variant:"outline",size:"sm",children:[o.jsx(bA,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),o.jsx(D5,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(MCe).map(([k,A])=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:A}),gb.filter(O=>O.category===k).map(O=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[o.jsx(ke,{htmlFor:O.id,className:"text-sm cursor-pointer",children:O.name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:O.description})]}),o.jsx(g5,{id:O.id,checked:a.has(O.id),onCheckedChange:()=>S(O.id)})]},O.id))]},k))]})})]}),children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),f.map(k=>o.jsx(se,{className:"text-right min-w-24",children:k},k)),o.jsx(se,{className:"text-right min-w-28",children:"volution"})]})}),o.jsx(Dt,{children:C.map(k=>{const A=y.map(I=>k.calculate(I)),O=A[0]||0,T=A[A.length-1]||0,$=O!==0?(T-O)/Math.abs(O):0;return o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-medium",children:o.jsxs("div",{children:[o.jsx("span",{children:k.name}),o.jsx("span",{className:"block text-xs text-muted-foreground",children:k.description})]})}),A.map((I,R)=>o.jsx(G,{className:ie("text-right font-mono-numbers",k.format==="currency"&&I<0&&"text-destructive"),children:P(I,k.format)},R)),o.jsx(G,{className:"text-right",children:o.jsxs("div",{className:ie("flex items-center justify-end gap-1",$>0?"text-green-600":$<0?"text-destructive":"text-muted-foreground"),children:[$>0?o.jsx(Qu,{className:"h-3 w-3"}):$<0?o.jsx(X_,{className:"h-3 w-3"}):null,o.jsxs("span",{className:"font-mono-numbers text-sm",children:[$>0?"+":"",vr($)]})]})})]},k.id)})})]})}),C.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($M,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"Aucun indicateur slectionn"}),o.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),o.jsx(De,{title:"Compte de Rsultat Simplifi",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(k=>o.jsx(se,{className:"text-right min-w-24",children:k},k))]})}),o.jsxs(Dt,{children:[o.jsxs(ye,{className:"bg-muted/30",children:[o.jsx(G,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),y.map((k,A)=>o.jsx(G,{className:"text-right font-mono-numbers font-medium",children:Q(k.revenue,!0)},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",Q(k.cogs,!0),")"]},A))]}),o.jsxs(ye,{className:"border-t-2",children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),y.map((k,A)=>o.jsx(G,{className:"text-right font-mono-numbers font-medium",children:Q(k.grossMargin,!0)},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",Q(k.payroll,!0),")"]},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",Q(k.opex,!0),")"]},A))]}),o.jsxs(ye,{className:"border-t-2 bg-muted/30",children:[o.jsx(G,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),y.map((k,A)=>o.jsx(G,{className:ie("text-right font-mono-numbers font-medium",k.ebitda<0&&"text-destructive"),children:Q(k.ebitda,!0)},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",Q(k.depreciation,!0),")"]},A))]}),o.jsxs(ye,{className:"border-t-2 bg-primary/5",children:[o.jsx(G,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),y.map((k,A)=>o.jsx(G,{className:ie("text-right font-mono-numbers font-bold",k.operatingResult<0&&"text-destructive"),children:Q(k.operatingResult,!0)},A))]})]})]})})}),o.jsx(De,{title:"Tableau des Flux de Trsorerie",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"sticky left-0 bg-background z-10",children:"Flux"}),f.map(k=>o.jsx(se,{className:"text-right min-w-24",children:k},k))]})}),o.jsxs(Dt,{children:[o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),y.map((k,A)=>o.jsx(G,{className:"text-right font-mono-numbers",children:Q(k.treasuryStart,!0)},A))]}),o.jsxs(ye,{className:"bg-muted/30",children:[o.jsx(G,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-green-600",children:["+",Q(k.revenue,!0)]},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),y.map((k,A)=>o.jsxs(G,{className:"text-right font-mono-numbers text-destructive",children:["-",Q(k.cogs+k.payroll+k.opex,!0)]},A))]}),o.jsxs(ye,{children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),y.map((k,A)=>o.jsx(G,{className:"text-right font-mono-numbers text-destructive",children:k.capex>0?`-${Q(k.capex,!0)}`:"-"},A))]}),o.jsxs(ye,{className:"border-t",children:[o.jsx(G,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),y.map((k,A)=>o.jsxs(G,{className:ie("text-right font-mono-numbers font-medium",k.cashFlow<0?"text-destructive":"text-green-600"),children:[k.cashFlow>=0?"+":"",Q(k.cashFlow,!0)]},A))]}),o.jsxs(ye,{className:"bg-green-50 dark:bg-green-950/20",children:[o.jsx(G,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),y.map((k,A)=>o.jsx(G,{className:"text-right font-mono-numbers text-green-600",children:k.fundingInjection>0?`+${Q(k.fundingInjection,!0)}`:"-"},A))]}),o.jsxs(ye,{className:"border-t-2 bg-primary/5",children:[o.jsx(G,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),y.map((k,A)=>o.jsx(G,{className:ie("text-right font-mono-numbers font-bold",k.treasuryEnd<0&&"text-destructive"),children:Q(k.treasuryEnd,!0)},A))]})]})]})})})]})]})})}const LT=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function DCe(){const{state:e}=wa(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return o.jsx(De,{title:"Allocation des Fonds",children:o.jsx("div",{className:"space-y-3",children:LT.map(n=>{const i=1/LT.length,a=r*i;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:n.label}),o.jsx("span",{className:"font-mono-numbers",children:Q(a,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${i*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function LCe(){var P;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=wa(),{startYear:i,durationYears:a,initialCash:s}=e.scenarioSettings,l=Array.from({length:a},(E,k)=>i+k),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:i,quarter:"Q1"},{treasuryProjection:u}=t,d=c.amount,f=c.preMoneyValuation,h=f+d,p=d/h,y=u.fundingNeed,m=y>0?d/y:1,g=u.years.map(E=>({year:E.year,revenue:E.revenue/1e3,costs:E.totalCosts/1e3,cashFlow:E.cashFlow/1e3,treasury:E.treasuryEnd/1e3,isNegative:E.treasuryEnd<0})),v=E=>{r([{...c,amount:E}])},x=E=>{r([{...c,preMoneyValuation:E}])},b=E=>{r([{...c,year:parseInt(E)}])},_=E=>{r([{...c,quarter:E}])},w=E=>{n({initialCash:E})},S=u.minTreasury<0,C=(P=u.years.find(E=>E.minTreasuryInYear===u.minTreasury))==null?void 0:P.year;return o.jsx(So,{tabKey:"funding",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),S&&o.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(au,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),o.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",Q(u.minTreasury,!0)," en ",C]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(Ze,{label:"Besoin Calcul",value:Q(y,!0),subValue:"max(0, -trso min)",trend:y>0?"down":void 0}),o.jsx(Ze,{label:"Montant  Lever",value:Q(d,!0),subValue:"Ajustable ci-dessous"}),o.jsx(Ze,{label:"Pre-Money",value:Q(f,!0),subValue:"Valorisation"}),o.jsx(Ze,{label:"Post-Money",value:Q(h,!0),subValue:"Aprs leve"}),o.jsx(Ze,{label:"Dilution",value:vr(p),subValue:"Sur le round"})]}),o.jsx(De,{title:"Calibrage de la Leve",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:Q(s,!0)})]}),o.jsx(Zr,{value:[s/1e3],onValueChange:([E])=>w(E*1e3),min:0,max:500,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"500k"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:Q(d,!0)})]}),o.jsx(Zr,{value:[d/1e3],onValueChange:([E])=>v(E*1e3),min:0,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"5M"})]}),d===0&&o.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:Q(f,!0)})]}),o.jsx(Zr,{value:[f/1e3],onValueChange:([E])=>x(E*1e3),min:200,max:2e4,step:100}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"200k"}),o.jsx("span",{children:"20M"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(iu,{className:"h-4 w-4"}),"Anne"]}),o.jsxs(it,{value:c.year.toString(),onValueChange:b,children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:l.map(E=>o.jsx(Ue,{value:E.toString(),children:E},E))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),o.jsxs(it,{value:c.quarter,onValueChange:_,children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:h7.map(E=>o.jsx(Ue,{value:E,children:E},E))})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),o.jsx(Te,{variant:"secondary",children:"Auto"})]}),o.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:Q(y,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),o.jsx("span",{className:"font-mono-numbers",children:vr(Math.min(m,2))})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:ie("h-2 rounded-full transition-all",m>=1?"bg-accent":m>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(m*100,100)}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),o.jsx("div",{className:"text-lg font-bold",children:u.breakEvenYear||"N/A"})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",u.minTreasury<0?"text-destructive":""),children:Q(u.minTreasury,!0)})]})]})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(De,{title:"Projection Cash Flow & Trsorerie",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(yp,{data:g,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:E=>`${E}k`}),o.jsx(Tt,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx(pn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),o.jsx(DCe,{})]}),o.jsx(De,{title:"Projection Dtaille",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),o.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),o.jsx("tbody",{children:u.years.map(E=>o.jsxs("tr",{className:ie("border-b",E.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-2 px-3 font-medium",children:E.year}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:Q(E.revenue,!0)}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(E.totalCosts,!0)}),o.jsxs("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-medium",E.cashFlow>=0?"text-accent":"text-destructive"),children:[E.cashFlow>=0?"+":"",Q(E.cashFlow,!0)]}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:E.fundingInjection>0?`+${Q(E.fundingInjection,!0)}`:"-"}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:Q(E.treasuryStart,!0)}),o.jsx("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-bold",E.treasuryEnd<0?"text-destructive":""),children:Q(E.treasuryEnd,!0)})]},E.year))})]})})})]})})}const FCe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function BCe(){var E,k;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:i,updateFundingRounds:a,saveAll:s}=wa();e.scenarioConfigs[e.activeScenarioId];const{startYear:l,durationYears:c,initialCash:u}=e.scenarioSettings,d=e.fundingRounds[e.fundingRounds.length-1],f=(d==null?void 0:d.amount)||0,h=Array.from({length:c},(A,O)=>l+O),p=A=>{const O=e.scenarioConfigs[A],T=h.map(R=>{let M=0;return e.products.forEach(D=>{if(D.volumesByYear[R]){const L=Math.round(D.volumesByYear[R]*(1+O.volumeAdjustment)),V=D.priceHT*(1+O.priceAdjustment);M+=L*V}}),M}),$=T[T.length-1]||0,I=T[0]||0;return{revenueLastYear:$,totalRevenue:T.reduce((R,M)=>R+M,0),cagr:$>0&&I>0&&c>1?Math.pow($/I,1/(c-1))-1:0}},y=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],m=h.map(A=>{const O={year:A};return y.forEach(T=>{const $=e.scenarioConfigs[T.id];let I=0;e.products.forEach(R=>{if(R.volumesByYear[A]){const M=Math.round(R.volumesByYear[A]*(1+$.volumeAdjustment)),D=R.priceHT*(1+$.priceAdjustment);I+=M*D}}),O[T.id]=I/1e3}),O}),g=y.map(A=>{const O=p(A.id);return{...A,...O,config:e.scenarioConfigs[A.id]}}),v=A=>{i({startYear:A})},x=A=>{i({durationYears:A})},b=A=>{i({initialCash:A})},_=A=>{if(d){const O=e.fundingRounds.map(T=>T.id===d.id?{...T,amount:A}:T);a(O)}},{treasuryProjection:w}=t,S=w.years.map(A=>({year:A.year,revenue:A.revenue/1e3,cogs:A.cogs/1e3,payroll:A.payroll/1e3,opex:A.opex/1e3,capex:A.capex/1e3,depreciation:A.depreciation/1e3,grossMargin:A.grossMargin/1e3,ebitda:A.ebitda/1e3,cashFlow:A.cashFlow/1e3,treasury:A.treasuryEnd/1e3})),C=w.minTreasury/1e3,P=w.breakEvenYear||"N/A";return o.jsx(So,{tabKey:"scenarios",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs(Te,{variant:"secondary",className:"text-xs",children:[l,"  ",l+c-1," (",c," ans)"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_d,{pageTitle:"Scnarios",sections:FCe,fileName:"Scenarios"}),o.jsx(od,{onSave:s,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(De,{title:"Paramtres du Scnario",id:"scenario-settings",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(iu,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(ke,{children:"Anne de dbut"})]}),o.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(A=>o.jsx(ce,{size:"sm",variant:l===A?"default":"outline",onClick:()=>v(A),children:A},A))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(K_,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(ke,{children:"Dure (annes)"})]}),o.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(A=>o.jsxs(ce,{size:"sm",variant:c===A?"default":"outline",onClick:()=>x(A),children:[A," ans"]},A))}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",l,"  ",l+c-1]})]})]})}),o.jsxs(De,{title:"Paramtres Trsorerie",id:"treasury-params",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(FM,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(ke,{children:"Trsorerie initiale (T0)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:Q(u,!0)})]}),o.jsx(Zr,{value:[u/1e3],onValueChange:([A])=>b(A*1e3),min:0,max:1e3,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"1M"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Qu,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(ke,{children:"Montant Lev"}),o.jsx(Te,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:(d==null?void 0:d.name)||"Tour de table"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:Q(f,!0)})]}),o.jsx(Zr,{value:[f/1e3],onValueChange:([A])=>_(A*1e3),min:100,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"100k"}),o.jsx("span",{children:"5M"})]})]})]})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[o.jsx(Ze,{label:"Cash Total T0",value:Q(u+f,!0),subValue:"Trso + Leve"}),o.jsx(Ze,{label:"Point Bas Trso",value:Q(C*1e3,!0),subValue:"Sur la priode",trend:C<0?"down":void 0}),o.jsx(Ze,{label:"Break-even",value:P.toString(),subValue:"Cash flow positif"}),o.jsx(Ze,{label:"Trso Finale",value:Q((((E=S[S.length-1])==null?void 0:E.treasury)||0)*1e3,!0),subValue:`En ${l+c-1}`})]})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:g.map(A=>o.jsxs("div",{className:ie("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===A.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(A.id),children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"font-semibold",children:A.name}),e.activeScenarioId===A.id&&o.jsx(Te,{children:"Actif"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",l+c-1]}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:Q(A.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:vr(A.cagr)})]})]}),o.jsxs("div",{className:"space-y-3",onClick:O=>O.stopPropagation(),children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:ie("font-mono-numbers",A.config.volumeAdjustment>0?"text-green-600":A.config.volumeAdjustment<0?"text-destructive":""),children:[A.config.volumeAdjustment>0?"+":"",(A.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsx(Zr,{value:[(A.config.volumeAdjustment+.5)*100],onValueChange:([O])=>n(A.id,{volumeAdjustment:O/100-.5}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:ie("font-mono-numbers",A.config.priceAdjustment>0?"text-green-600":A.config.priceAdjustment<0?"text-destructive":""),children:[A.config.priceAdjustment>0?"+":"",(A.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsx(Zr,{value:[(A.config.priceAdjustment+.2)*250],onValueChange:([O])=>n(A.id,{priceAdjustment:O/250-.2}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:ie("font-mono-numbers",A.config.opexAdjustment<0?"text-green-600":A.config.opexAdjustment>0?"text-destructive":""),children:[A.config.opexAdjustment>0?"+":"",(A.config.opexAdjustment*100).toFixed(0),"%"]})]}),o.jsx(Zr,{value:[(A.config.opexAdjustment+.3)*166],onValueChange:([O])=>n(A.id,{opexAdjustment:O/166-.3}),min:0,max:100,step:5})]})]})]},A.id))}),o.jsx(De,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:o.jsx("div",{className:"h-80",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(vF,{data:m,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:A=>`${A}k`}),o.jsx(Tt,{formatter:A=>`${A.toFixed(0)}k`}),o.jsx(Nr,{}),y.map(A=>o.jsx(pn,{type:"monotone",dataKey:A.id,name:A.name,stroke:A.color,strokeWidth:e.activeScenarioId===A.id?3:1,dot:{fill:A.color}},A.id))]})})})}),o.jsxs(De,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",o.jsx(Te,{variant:"outline",children:(k=y.find(A=>A.id===e.activeScenarioId))==null?void 0:k.name})," avec trso initiale ",Q(u,!0)," + leve ",Q(f,!0)]}),o.jsx("div",{className:"h-80",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(yp,{data:S,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:A=>`${A}k`}),o.jsx(Tt,{formatter:A=>`${A.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),o.jsx(pn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:g.map(A=>o.jsx(De,{title:A.name,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",l+c-1]}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:Q(A.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:vr(A.cagr)})]})]}),o.jsxs("div",{className:"pt-4 border-t space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:"font-mono-numbers",children:[A.config.volumeAdjustment>0?"+":"",(A.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:"font-mono-numbers",children:[A.config.priceAdjustment>0?"+":"",(A.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:"font-mono-numbers",children:[A.config.opexAdjustment>0?"+":"",(A.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[A.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",A.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",A.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},A.id))})]})})}function UCe({data:e,onChange:t}){const r=(n,i,a)=>{const s=[...e];s[n]={...s[n],[i]:a},t(s)};return o.jsx(De,{title:"Donnes Historiques",id:"valuation-historical",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),o.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Marge Brute %"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Masse Salariale"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Charges Ext."})]})}),o.jsx("tbody",{children:e.map((n,i)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 px-3 font-medium",children:n.year}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(je,{type:"number",value:n.revenue,onChange:a=>r(i,"revenue",Number(a.target.value)),className:"h-8 w-28 text-right"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(je,{type:"number",value:(n.grossMargin*100).toFixed(0),onChange:a=>r(i,"grossMargin",Number(a.target.value)/100),className:"h-8 w-20 text-right",step:"1"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(je,{type:"number",value:n.payroll,onChange:a=>r(i,"payroll",Number(a.target.value)),className:"h-8 w-28 text-right"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(je,{type:"number",value:n.externalCosts,onChange:a=>r(i,"externalCosts",Number(a.target.value)),className:"h-8 w-28 text-right"})})]},n.year))})]})})})}const zCe={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function VCe({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*(1-e.ocRatio),i=r+n,a=i>0?n/i:0;return o.jsx(De,{title:"Simulation de Dilution",id:"valuation-dilution",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ke,{children:["Multiple EBITDA: ",e.ebitdaMultiple.toFixed(1),"x"]}),o.jsx(Zr,{value:[e.ebitdaMultiple],onValueChange:([s])=>t({...e,ebitdaMultiple:s}),min:2,max:15,step:.5})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ke,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%"]}),o.jsx(Zr,{value:[e.ocRatio*100],onValueChange:([s])=>t({...e,ocRatio:s/100}),min:0,max:50,step:5})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:Q(r,!0)})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:Q(i,!0)})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:vr(a)})]})]})]})})}const FT=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function WCe(e){return e.projectedRevenue*e.multiple}function HCe(e){return e.projectedEBITDA*e.multiple}function qCe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let i=0;t.forEach((c,u)=>{i+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return i+l}function KCe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let i=1;return Object.entries(r).forEach(([a,s])=>{const l=n[a]||0;i+=l*s}),t*i}function GCe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function YCe(e){const{baseValuation:t,factors:r}=e,i=Object.values(r).reduce((a,s)=>a+s,0)*25e4;return t+i}function Zl(e,t){let r=0,n="medium",i="";switch(e){case"revenue_multiple":r=WCe(t),n=t.projectedRevenue>5e5?"high":"medium",i=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=HCe(t),n=t.projectedEBITDA>0?"high":"low",i=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=qCe(t),n="medium",i=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=KCe(t),n="low",i="Bas sur comparables secteur";break;case"berkus":r=GCe(t),n="low",i="Mthode qualitative pour early-stage";break;case"risk_factor":r=YCe(t),n="low",i="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:i}}function XCe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(i=>{const a=t[i.confidence];r+=i.value*a,n+=a}),n>0?r/n:0}const BT=[2025,2026,2027,2028,2029,2030],QCe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function ZCe(){const{state:e,computed:t,updateHistoricalData:r,saveAll:n}=wa(),[i,a]=j.useState(["revenue_multiple","ebitda_multiple"]),[s,l]=j.useState("projected"),[c,u]=j.useState(2024),[d,f]=j.useState(2028),[h,p]=j.useState(.5),[y,m]=j.useState({revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}}),g=e.fundingRounds[e.fundingRounds.length-1],v=(g==null?void 0:g.amount)||15e5,x=(()=>{const F=e.historicalData[e.historicalData.length-1];return F?F.revenue*F.grossMargin-F.payroll-F.externalCosts:5e5})(),[b,_]=j.useState({...zCe,totalRaise:v,referenceEBITDA:x});N.useEffect(()=>{_(F=>({...F,totalRaise:v,referenceEBITDA:x}))},[v,x]);const w=Math.max(2e5,b.referenceEBITDA*b.ebitdaMultiple),S=b.totalRaise*(1-b.ocRatio),C=w+S,P=C>0?S/C:0,[E,k]=j.useState({conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}),A=e.historicalData.map(F=>F.year),T=(()=>{const F=U=>{const z=e.historicalData.find(re=>re.year===U);if(!z)return{revenue:0,ebitda:0,ebit:0};const ue=z.revenue*z.grossMargin-z.payroll-z.externalCosts,X=ue-z.depreciation;return{revenue:z.revenue,ebitda:ue,ebit:X}},ee=U=>{const z=t.revenueByYear.find(me=>me.year===U),W=t.payrollByYear.find(me=>me.year===U),ue=t.opexByYear.find(me=>me.year===U),X=t.capexByYear.find(me=>me.year===U),re=(z==null?void 0:z.revenue)||0,H=re-((z==null?void 0:z.cogs)||0)-((W==null?void 0:W.payroll)||0)-((ue==null?void 0:ue.opex)||0),ge=H-((X==null?void 0:X.depreciation)||0);return{revenue:re,ebitda:H,ebit:ge}};if(s==="historical")return F(c);if(s==="projected")return ee(d);{const U=F(c),z=ee(d);return{revenue:U.revenue*(1-h)+z.revenue*h,ebitda:U.ebitda*(1-h)+z.ebitda*h,ebit:U.ebit*(1-h)+z.ebit*h}}})(),I=(()=>{const F=[];if(i.includes("revenue_multiple")&&F.push(Zl("revenue_multiple",{projectedRevenue:T.revenue,multiple:y.revenue_multiple.multiple})),i.includes("ebitda_multiple")&&F.push(Zl("ebitda_multiple",{projectedEBITDA:T.ebitda,multiple:y.ebitda_multiple.multiple})),i.includes("dcf")){const ee=BT.map(U=>{const z=t.revenueByYear.find(re=>re.year===U),W=t.payrollByYear.find(re=>re.year===U),ue=t.opexByYear.find(re=>re.year===U),X=t.capexByYear.find(re=>re.year===U);return((z==null?void 0:z.revenue)||0)-((z==null?void 0:z.cogs)||0)-((W==null?void 0:W.payroll)||0)-((ue==null?void 0:ue.opex)||0)-((X==null?void 0:X.capex)||0)});F.push(Zl("dcf",{cashFlows:ee,discountRate:y.dcf.discountRate,terminalGrowthRate:y.dcf.terminalGrowthRate}))}return i.includes("scorecard")&&F.push(Zl("scorecard",{baseValuation:y.scorecard.baseValuation,factors:{team:y.scorecard.team,market:y.scorecard.market,product:y.scorecard.product,competition:y.scorecard.competition,marketing:y.scorecard.marketing,fundingNeed:y.scorecard.fundingNeed}})),i.includes("berkus")&&F.push(Zl("berkus",y.berkus)),i.includes("risk_factor")&&F.push(Zl("risk_factor",{baseValuation:y.risk_factor.baseValuation,factors:{managementRisk:y.risk_factor.managementRisk,businessStage:y.risk_factor.businessStage,legislation:y.risk_factor.legislation,manufacturing:y.risk_factor.manufacturing,salesMarketing:y.risk_factor.salesMarketing,fundingCapital:y.risk_factor.fundingCapital,competition:y.risk_factor.competition,technology:y.risk_factor.technology,litigation:y.risk_factor.litigation,international:y.risk_factor.international,reputation:y.risk_factor.reputation,potentialExit:y.risk_factor.potentialExit}})),F})(),R=XCe(I),M=F=>{a(ee=>ee.includes(F)?ee.filter(U=>U!==F):[...ee,F])},D=I.map(F=>{var ee;return{name:((ee=FT.find(U=>U.id===F.method))==null?void 0:ee.name)||F.method,value:F.value/1e6,confidence:F.confidence}}),L=(F,ee,U)=>F<=0||ee<=0||U<=0?0:Math.pow(ee/F,1/U)-1,V=F=>{const ee=t.revenueByYear.find(W=>W.year===F),U=t.payrollByYear.find(W=>W.year===F),z=t.opexByYear.find(W=>W.year===F);return ee?ee.revenue-ee.cogs-((U==null?void 0:U.payroll)||0)-((z==null?void 0:z.opex)||0):0},J=Object.entries(E).map(([F,ee])=>{const U=ee.year,z=V(U),W=z*ee.exitMultiple,X=W*P,re=U-e.scenarioSettings.startYear,q=L(S,X,re),H=S>0?X/S:0;return{scenario:F,year:U,exitMultiple:ee.exitMultiple,probability:ee.probability,ebitdaAtExit:z,exitValuation:W,investorReturn:X,irr:q,multiple:H}}),Y=BT.map(F=>{const ee=t.revenueByYear.find(H=>H.year===F),U=t.payrollByYear.find(H=>H.year===F),z=t.opexByYear.find(H=>H.year===F),W=t.capexByYear.find(H=>H.year===F),ue=(ee==null?void 0:ee.revenue)||0,X=ue-((ee==null?void 0:ee.cogs)||0),re=X-((U==null?void 0:U.payroll)||0)-((z==null?void 0:z.opex)||0),q=re-((W==null?void 0:W.depreciation)||0);return{year:F,revenue:ue/1e3,grossMargin:X/1e3,ebitda:re/1e3,ebit:q/1e3}});return o.jsx(So,{tabKey:"valuation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",className:"text-xs",children:[i.length," mthodes slectionnes"]}),o.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",Q(R,!0)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_d,{pageTitle:"Valorisation & Analyse",sections:QCe,fileName:"Valorisation"}),o.jsx(od,{onSave:n,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[o.jsx(Ze,{label:"Pre-Money (EBITDA)",value:Q(w,!0),subValue:`${b.ebitdaMultiple.toFixed(1)}x EBITDA`}),o.jsx(Ze,{label:"Post-Money",value:Q(C,!0),subValue:"Aprs leve"}),o.jsx(Ze,{label:"Dilution Totale",value:vr(P),subValue:"Part investisseur"}),o.jsx(Ze,{label:"TRI moyen",value:vr(J.reduce((F,ee)=>F+ee.irr*ee.probability,0)),subValue:"Pondr par probabilit"})]}),o.jsxs(mi,{defaultValue:"historical",className:"space-y-4",children:[o.jsxs(qn,{className:"flex flex-wrap",children:[o.jsx(st,{value:"historical",children:"Historique Financier"}),o.jsx(st,{value:"methods",children:"Mthodes de Valorisation"}),o.jsx(st,{value:"dilution",children:"Simulation Dilution"}),o.jsx(st,{value:"exit",children:"Scnarios de Sortie"})]}),o.jsx(pt,{value:"historical",className:"space-y-6",children:o.jsx(UCe,{data:e.historicalData,onChange:r})}),o.jsxs(pt,{value:"methods",className:"space-y-6",children:[o.jsxs(De,{title:"Base de Calcul",children:[o.jsx("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"}].map(F=>o.jsxs("button",{onClick:()=>l(F.value),className:ie("p-4 rounded-lg text-left transition-colors border-2",s===F.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium",children:F.label}),o.jsx("div",{className:"text-xs text-muted-foreground",children:F.desc})]},F.value))}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(s==="historical"||s==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Anne historique de rfrence"}),o.jsx("div",{className:"flex gap-2",children:A.map(F=>o.jsx(ce,{size:"sm",variant:c===F?"default":"outline",onClick:()=>u(F),children:F},F))})]}),(s==="projected"||s==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Anne projete de rfrence"}),o.jsx("div",{className:"flex gap-2",children:[2027,2028,2029,2030].map(F=>o.jsx(ce,{size:"sm",variant:d===F?"default":"outline",onClick:()=>f(F),children:F},F))})]})]}),s==="mixed"&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Pondration"}),o.jsxs("span",{children:[Math.round((1-h)*100),"% historique / ",Math.round(h*100),"% projet"]})]}),o.jsx(Zr,{value:[h*100],onValueChange:([F])=>p(F/100),min:0,max:100,step:5})]}),o.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"CA de rfrence"}),o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:Q(T.revenue,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"EBITDA de rfrence"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",T.ebitda<0&&"text-destructive"),children:Q(T.ebitda,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"EBIT de rfrence"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",T.ebit<0&&"text-destructive"),children:Q(T.ebit,!0)})]})]})]}),o.jsx(De,{title:"Slection des Mthodes",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:FT.map(F=>{const ee=i.includes(F.id),U=I.find(z=>z.method===F.id);return o.jsxs("button",{onClick:()=>M(F.id),className:ie("p-4 rounded-lg text-left transition-all border-2",ee?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:F.name}),ee&&o.jsx(Te,{variant:"default",className:"text-xs",children:"Actif"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:F.description}),U&&o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:Q(U.value,!0)})]},F.id)})})}),I.length>0&&o.jsx(De,{title:"Comparaison des Valorisations",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(jd,{data:D,layout:"vertical",children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{type:"number",tickFormatter:F=>`${F}M`}),o.jsx(nr,{type:"category",dataKey:"name",width:120}),o.jsx(Tt,{formatter:F=>`${F.toFixed(1)}M`}),o.jsx(Bt,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),o.jsx(pt,{value:"dilution",className:"space-y-6",children:o.jsx(VCe,{config:b,onChange:_})}),o.jsxs(pt,{value:"exit",className:"space-y-6",children:[o.jsx(De,{title:"Paramtres des Scnarios de Sortie",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:F,label:ee,color:U})=>o.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:ie("font-medium",U),children:ee}),o.jsx(Te,{variant:"outline",children:E[F].year})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Multiple EBITDA sortie"}),o.jsxs("span",{className:"font-mono-numbers font-bold",children:[E[F].exitMultiple,"x"]})]}),o.jsx(Zr,{value:[E[F].exitMultiple],onValueChange:([z])=>k(W=>({...W,[F]:{...W[F],exitMultiple:z}})),min:2,max:15,step:.5})]})]},F))})}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:J.map(F=>o.jsx(De,{title:F.scenario==="conservative"?"Prudent":F.scenario==="base"?"Base":"Ambitieux",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),o.jsx("p",{className:"text-xl font-bold",children:F.year})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),o.jsxs("p",{className:"text-xl font-bold",children:[F.exitMultiple,"x"]})]})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:Q(F.ebitdaAtExit,!0)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:Q(F.exitValuation,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:Q(F.investorReturn,!0)})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"TRI"}),o.jsx("span",{className:ie("font-bold font-mono-numbers",F.irr>=.25?"text-green-600 dark:text-green-400":F.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:vr(F.irr)})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm",children:"Multiple"}),o.jsxs("span",{className:"font-bold font-mono-numbers",children:[F.multiple.toFixed(1),"x"]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),o.jsx("span",{className:"text-muted-foreground",children:vr(F.probability)})]})]})]})},F.scenario))}),o.jsx(De,{title:"volution Prvisionnelle P&L",children:o.jsx("div",{className:"h-64",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(gF,{data:Y,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:F=>`${F}k`}),o.jsx(Tt,{formatter:F=>`${F.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bn,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),o.jsx(Bn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),o.jsx(Bn,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function JCe(){return o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[o.jsx(dy,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const ePe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"};function tPe(){var O,T,$,I;const{state:e,computed:t}=wa(),{treasuryProjection:r}=t,{startYear:n,durationYears:i,initialCash:a}=e.scenarioSettings,s=n+i-1,l=r.totalFundingRaised,c=a+l,u=r.years,d=r.minTreasury,f=r.breakEvenYear||"N/A",h=d<0,p=(O=u.find(R=>R.treasuryEnd<0))==null?void 0:O.year;r.maxBurn/12;const y=r.runway,m=u.reduce((R,M)=>R+M.revenue,0),g=u.reduce((R,M)=>R+M.payroll,0),v=u.reduce((R,M)=>R+M.opex,0),x=r.totalCapex,b=u.reduce((R,M)=>R+M.cogs,0),_=r.totalDepreciation,w=g+v+x+b,S=r.fundingNeed,C=l-S,P=u.map(R=>({year:R.year,"Cash Flow":R.cashFlow/1e3,Trsorerie:R.treasuryEnd/1e3})),E=e.fundingRounds[e.fundingRounds.length-1],k=E?E.preMoneyValuation+E.amount:0,A=E?E.amount/k:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Te,{variant:"default",children:ePe[e.activeScenarioId]}),o.jsxs(Te,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs(Te,{variant:"outline",className:"text-xs",children:[n,"  ",s," (",i," ans)"]}),o.jsxs(Te,{variant:"secondary",className:"text-xs gap-1",children:[o.jsx(iu,{className:"h-3 w-3"}),e.products.length," produits  ",((T=u[u.length-1])==null?void 0:T.headcount)||0," ETP"]})]}),o.jsx(JCe,{})]}),h&&o.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(au,{className:"h-6 w-6 text-destructive flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",p,". Point bas: ",Q(d,!0),". Financement additionnel de ",Q(Math.abs(d),!0)," requis."]})]})]}),o.jsxs(De,{title:"Approche Cash",id:"cash-approach",children:[o.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(FM,{className:"h-4 w-4"}),"Cash Initial (T0)"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:Q(a,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(xA,{className:"h-4 w-4"}),"Montant Lev"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:Q(l,!0)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.fundingRounds.length," tour(s)"]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-accent/10 border border-accent/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(Xf,{className:"h-4 w-4"}),"Trso Dpart"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:Q(c,!0)})]}),o.jsxs("div",{className:ie("p-4 rounded-lg border",d<0?"bg-destructive/10 border-destructive/30":"bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[d<0?o.jsx(X_,{className:"h-4 w-4"}):o.jsx(Qu,{className:"h-4 w-4"}),"Point Bas"]}),o.jsx("div",{className:ie("text-2xl font-bold font-mono-numbers",d<0&&"text-destructive"),children:Q(d,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(iu,{className:"h-4 w-4"}),"Break-even"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:f}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Runway: ",y>60?"60+":y," mois"]})]})]}),o.jsx("div",{className:"h-72",children:o.jsx(Wr,{width:"100%",height:"100%",children:o.jsxs(yp,{data:P,children:[o.jsx(Hr,{strokeDasharray:"3 3"}),o.jsx(rr,{dataKey:"year"}),o.jsx(nr,{tickFormatter:R=>`${R}k`}),o.jsx(Tt,{formatter:R=>`${R.toFixed(0)}k`}),o.jsx(Nr,{}),o.jsx(Bt,{dataKey:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx(pn,{type:"monotone",dataKey:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx(De,{title:"Justification des Besoins",id:"needs-justification",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(vA,{className:"h-4 w-4"}),"Rpartition des Cots (",n,"-",s,")"]}),o.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:g,icon:su,color:"hsl(var(--primary))"},{label:"COGS (Cot des ventes)",value:b,icon:ip,color:"hsl(var(--chart-4))"},{label:"OPEX (Charges)",value:v,icon:vA,color:"hsl(var(--accent))"},{label:"CAPEX (R&D)",value:x,icon:Xf,color:"hsl(var(--chart-1))"}].map(R=>{const M=R.icon,D=w>0?R.value/w*100:0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(M,{className:"h-4 w-4",style:{color:R.color}}),o.jsx("span",{children:R.label})]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:Q(R.value,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${D}%`,backgroundColor:R.color}})}),o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[D.toFixed(0),"%"]})]},R.label)}),o.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[o.jsx("span",{children:"Total Cots"}),o.jsx("span",{className:"font-mono-numbers",children:Q(w,!0)})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(xA,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),o.jsx(Te,{variant:"secondary",children:"Calcul"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:Q(S,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),o.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Montant Lev"}),o.jsx(Te,{variant:"default",children:(E==null?void 0:E.name)||"Round"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:Q(l,!0)})]}),o.jsxs("div",{className:ie("p-4 rounded-lg border-2",C>=0?"bg-chart-4/10 border-chart-4/30":"bg-destructive/10 border-destructive/30"),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:C>=0?"Marge de Scurit":"Dficit"}),o.jsxs("span",{className:ie("text-xl font-bold font-mono-numbers",C>=0?"text-chart-4":"text-destructive"),children:[C>=0?"+":"",Q(C,!0)]})]}),C>=0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",vr(C/l)," sur le montant lev"]})]})]})]})]})}),o.jsx(De,{title:"Projection Dtaille",id:"detailed-projection",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b bg-muted/30",children:[o.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),o.jsx("tbody",{children:u.map(R=>o.jsxs("tr",{className:ie("border-b hover:bg-muted/20",R.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-3 px-3 font-semibold",children:R.year}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(R.revenue,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(R.cogs,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(R.grossMargin,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(R.payroll,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(R.opex,!0)}),o.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",R.ebitda>=0?"text-chart-4":"text-destructive"),children:Q(R.ebitda,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(R.depreciation,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:Q(R.capex,!0)}),o.jsxs("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",R.cashFlow>=0?"text-chart-4":"text-accent"),children:[R.cashFlow>=0?"+":"",Q(R.cashFlow,!0)]}),o.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-bold",R.treasuryEnd<0&&"text-destructive"),children:Q(R.treasuryEnd,!0)})]},R.year))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[o.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(m,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(b,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(m-b,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(g,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(v,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(_,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q(x,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:Q((($=u[u.length-1])==null?void 0:$.treasuryEnd)||0,!0)})]})})]})})}),o.jsxs(De,{title:"Valorisation & Tours",id:"valuation",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[o.jsx(Ze,{label:"Pre-Money",value:Q((E==null?void 0:E.preMoneyValuation)||0,!0),subValue:(E==null?void 0:E.name)||"-"}),o.jsx(Ze,{label:"Post-Money",value:Q(k,!0),subValue:"Aprs leve"}),o.jsx(Ze,{label:"Dilution",value:vr(A),subValue:"Part cde",trend:A>.25?"down":void 0}),o.jsx(Ze,{label:"Multiple CA",value:m>0?`${(k/(((I=u[u.length-1])==null?void 0:I.revenue)||1)).toFixed(1)}x`:"-",subValue:`sur CA ${s}`})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map(R=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold",children:R.name}),o.jsx(Te,{variant:"outline",className:"text-xs mt-1",children:R.year})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"text-xl font-bold font-mono-numbers text-primary",children:Q(R.amount,!0)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("span",{children:"Pre-money:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:Q(R.preMoneyValuation,!0)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{children:"Dilution:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:vr(R.amount/(R.preMoneyValuation+R.amount))})]})]})]},R.id))})]})]})}var dt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of a)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(dt||(dt={}));var UT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(UT||(UT={}));const Pe=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),As=e=>{switch(typeof e){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(e)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(e)?Pe.array:e===null?Pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pe.promise:typeof Map<"u"&&e instanceof Map?Pe.map:typeof Set<"u"&&e instanceof Set?Pe.set:typeof Date<"u"&&e instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},he=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class es extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof es))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}es.create=e=>new es(e);const Mj=(e,t)=>{let r;switch(e.code){case he.invalid_type:e.received===Pe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${dt.joinValues(e.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dt.joinValues(e.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${dt.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case he.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case he.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=t.defaultError,dt.assertNever(e)}return{message:r}};let rPe=Mj;function nPe(){return rPe}const iPe=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function xe(e,t){const r=nPe(),n=iPe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Mj?void 0:Mj].filter(i=>!!i)});e.common.issues.push(n)}class Vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return He;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Vn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return He;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const He=Object.freeze({status:"aborted"}),sf=e=>({status:"dirty",value:e}),vi=e=>({status:"valid",value:e}),zT=e=>e.status==="aborted",VT=e=>e.status==="dirty",Bu=e=>e.status==="valid",Mg=e=>typeof Promise<"u"&&e instanceof Promise;var Ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ee||(Ee={}));class ho{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WT=(e,t)=>{if(Bu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new es(e.common.issues);return this._error=r,this._error}}};function Je(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class ct{get description(){return this._def.description}_getType(t){return As(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:As(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vn,ctx:{common:t.parent.common,data:t.data,parsedType:As(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Mg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)},i=this._parseSync({data:t,path:n.path,parent:n});return WT(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Bu(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Bu(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Mg(i)?i:Promise.resolve(i));return WT(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),l=()=>a.addIssue({code:he.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new zu({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return io.create(this,this._def)}nullable(){return Vu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return va.create(this)}promise(){return Fg.create(this,this._def)}or(t){return Dg.create([this,t],this._def)}and(t){return Lg.create(this,t,this._def)}transform(t){return new zu({...Je(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Dj({...Je(this._def),innerType:this,defaultValue:r,typeName:qe.ZodDefault})}brand(){return new APe({typeName:qe.ZodBranded,type:this,...Je(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Lj({...Je(this._def),innerType:this,catchValue:r,typeName:qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return VC.create(this,t)}readonly(){return Fj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aPe=/^c[^\s-]{8,}$/i,sPe=/^[0-9a-z]+$/,oPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cPe=/^[a-z0-9_-]{21}$/i,uPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yb;const pPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yPe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,L5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bPe=new RegExp(`^${L5}$`);function F5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function wPe(e){return new RegExp(`^${F5(e)}$`)}function jPe(e){let t=`${L5}T${F5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function _Pe(e,t){return!!((t==="v4"||!t)&&pPe.test(e)||(t==="v6"||!t)&&vPe.test(e))}function SPe(e,t){if(!uPe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function CPe(e,t){return!!((t==="v4"||!t)&&mPe.test(e)||(t==="v6"||!t)&&gPe.test(e))}class Vs extends ct{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pe.string){const a=this._getOrReturnCtx(t);return xe(a,{code:he.invalid_type,expected:Pe.string,received:a.parsedType}),He}const n=new Vn;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,l=t.data.length<a.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?xe(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&xe(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")fPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"email",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")yb||(yb=new RegExp(hPe,"u")),yb.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"emoji",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")lPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"uuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")cPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"nanoid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")aPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")sPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid2",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")oPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ulid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),xe(i,{validation:"url",code:he.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"regex",code:he.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?jPe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?bPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?wPe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:he.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?dPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"duration",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?_Pe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ip",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?SPe(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"jwt",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?CPe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cidr",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?yPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"base64",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?xPe.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"base64url",code:he.invalid_string,message:a.message}),n.dirty()):dt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:he.invalid_string,...Ee.errToObj(n)})}_addCheck(t){return new Vs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ee.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ee.errToObj(r)})}nonempty(t){return this.min(1,Ee.errToObj(t))}trim(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Vs.create=e=>new Vs({checks:[],typeName:qe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Je(e)});function PPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class qh extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pe.number){const a=this._getOrReturnCtx(t);return xe(a,{code:he.invalid_type,expected:Pe.number,received:a.parsedType}),He}let n;const i=new Vn;for(const a of this._def.checks)a.kind==="int"?dt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:he.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?PPe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:he.not_finite,message:a.message}),i.dirty()):dt.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,n,i){return new qh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ee.toString(i)}]})}_addCheck(t){return new qh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qh.create=e=>new qh({checks:[],typeName:qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Je(e)});class Kh extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pe.bigint)return this._getInvalidInput(t);let n;const i=new Vn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):dt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return xe(r,{code:he.invalid_type,expected:Pe.bigint,received:r.parsedType}),He}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,n,i){return new Kh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ee.toString(i)}]})}_addCheck(t){return new Kh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Kh.create=e=>new Kh({checks:[],typeName:qe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Je(e)});class HT extends ct{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pe.boolean){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.boolean,received:n.parsedType}),He}return vi(t.data)}}HT.create=e=>new HT({typeName:qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Je(e)});class Ig extends ct{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pe.date){const a=this._getOrReturnCtx(t);return xe(a,{code:he.invalid_type,expected:Pe.date,received:a.parsedType}),He}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return xe(a,{code:he.invalid_date}),He}const n=new Vn;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:he.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:he.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):dt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ig({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ig.create=e=>new Ig({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qe.ZodDate,...Je(e)});class qT extends ct{_parse(t){if(this._getType(t)!==Pe.symbol){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.symbol,received:n.parsedType}),He}return vi(t.data)}}qT.create=e=>new qT({typeName:qe.ZodSymbol,...Je(e)});class KT extends ct{_parse(t){if(this._getType(t)!==Pe.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.undefined,received:n.parsedType}),He}return vi(t.data)}}KT.create=e=>new KT({typeName:qe.ZodUndefined,...Je(e)});class GT extends ct{_parse(t){if(this._getType(t)!==Pe.null){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.null,received:n.parsedType}),He}return vi(t.data)}}GT.create=e=>new GT({typeName:qe.ZodNull,...Je(e)});class YT extends ct{constructor(){super(...arguments),this._any=!0}_parse(t){return vi(t.data)}}YT.create=e=>new YT({typeName:qe.ZodAny,...Je(e)});class XT extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vi(t.data)}}XT.create=e=>new XT({typeName:qe.ZodUnknown,...Je(e)});class po extends ct{_parse(t){const r=this._getOrReturnCtx(t);return xe(r,{code:he.invalid_type,expected:Pe.never,received:r.parsedType}),He}}po.create=e=>new po({typeName:qe.ZodNever,...Je(e)});class QT extends ct{_parse(t){if(this._getType(t)!==Pe.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.void,received:n.parsedType}),He}return vi(t.data)}}QT.create=e=>new QT({typeName:qe.ZodVoid,...Je(e)});class va extends ct{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Pe.array)return xe(r,{code:he.invalid_type,expected:Pe.array,received:r.parsedType}),He;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(s||l)&&(xe(r,{code:s?he.too_big:he.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(xe(r,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(xe(r,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>i.type._parseAsync(new ho(r,s,r.path,l)))).then(s=>Vn.mergeArray(n,s));const a=[...r.data].map((s,l)=>i.type._parseSync(new ho(r,s,r.path,l)));return Vn.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new va({...this._def,minLength:{value:t,message:Ee.toString(r)}})}max(t,r){return new va({...this._def,maxLength:{value:t,message:Ee.toString(r)}})}length(t,r){return new va({...this._def,exactLength:{value:t,message:Ee.toString(r)}})}nonempty(t){return this.min(1,t)}}va.create=(e,t)=>new va({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Je(t)});function ac(e){if(e instanceof Xt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=io.create(ac(n))}return new Xt({...e._def,shape:()=>t})}else return e instanceof va?new va({...e._def,type:ac(e.element)}):e instanceof io?io.create(ac(e.unwrap())):e instanceof Vu?Vu.create(ac(e.unwrap())):e instanceof El?El.create(e.items.map(t=>ac(t))):e}class Xt extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Pe.object){const u=this._getOrReturnCtx(t);return xe(u,{code:he.invalid_type,expected:Pe.object,received:u.parsedType}),He}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof po&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ho(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof po){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(xe(i,{code:he.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ho(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Vn.mergeObjectSync(n,u)):Vn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ee.errToObj,new Xt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ee.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Xt({...this._def,catchall:t})}pick(t){const r={};for(const n of dt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of dt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Xt({...this._def,shape:()=>r})}deepPartial(){return ac(this)}partial(t){const r={};for(const n of dt.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Xt({...this._def,shape:()=>r})}required(t){const r={};for(const n of dt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof io;)a=a._def.innerType;r[n]=a}return new Xt({...this._def,shape:()=>r})}keyof(){return B5(dt.objectKeys(this.shape))}}Xt.create=(e,t)=>new Xt({shape:()=>e,unknownKeys:"strip",catchall:po.create(),typeName:qe.ZodObject,...Je(t)});Xt.strictCreate=(e,t)=>new Xt({shape:()=>e,unknownKeys:"strict",catchall:po.create(),typeName:qe.ZodObject,...Je(t)});Xt.lazycreate=(e,t)=>new Xt({shape:e,unknownKeys:"strip",catchall:po.create(),typeName:qe.ZodObject,...Je(t)});class Dg extends ct{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=a.map(l=>new es(l.ctx.common.issues));return xe(r,{code:he.invalid_union,unionErrors:s}),He}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=s.map(c=>new es(c));return xe(r,{code:he.invalid_union,unionErrors:l}),He}}get options(){return this._def.options}}Dg.create=(e,t)=>new Dg({options:e,typeName:qe.ZodUnion,...Je(t)});function Ij(e,t){const r=As(e),n=As(t);if(e===t)return{valid:!0,data:e};if(r===Pe.object&&n===Pe.object){const i=dt.objectKeys(t),a=dt.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of a){const c=Ij(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===Pe.array&&n===Pe.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],l=t[a],c=Ij(s,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Pe.date&&n===Pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lg extends ct{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(zT(a)||zT(s))return He;const l=Ij(a.value,s.value);return l.valid?((VT(a)||VT(s))&&r.dirty(),{status:r.value,value:l.data}):(xe(n,{code:he.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lg.create=(e,t,r)=>new Lg({left:e,right:t,typeName:qe.ZodIntersection,...Je(r)});class El extends ct{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.array)return xe(n,{code:he.invalid_type,expected:Pe.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return xe(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(xe(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ho(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Vn.mergeArray(r,s)):Vn.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new El({...this._def,rest:t})}}El.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new El({items:e,typeName:qe.ZodTuple,rest:null,...Je(t)})};class ZT extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.map)return xe(n,{code:he.invalid_type,expected:Pe.map,received:n.parsedType}),He;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new ho(n,l,n.path,[u,"key"])),value:a._parse(new ho(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ZT.create=(e,t,r)=>new ZT({valueType:t,keyType:e,typeName:qe.ZodMap,...Je(r)});class Gh extends ct{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.set)return xe(n,{code:he.invalid_type,expected:Pe.set,received:n.parsedType}),He;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(xe(n,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(xe(n,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return He;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ho(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new Gh({...this._def,minSize:{value:t,message:Ee.toString(r)}})}max(t,r){return new Gh({...this._def,maxSize:{value:t,message:Ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Gh.create=(e,t)=>new Gh({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...Je(t)});class JT extends ct{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}JT.create=(e,t)=>new JT({getter:e,typeName:qe.ZodLazy,...Je(t)});class e2 extends ct{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return xe(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}e2.create=(e,t)=>new e2({value:e,typeName:qe.ZodLiteral,...Je(t)});function B5(e,t){return new Uu({values:e,typeName:qe.ZodEnum,...Je(t)})}class Uu extends ct{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{expected:dt.joinValues(n),received:r.parsedType,code:he.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{received:r.data,code:he.invalid_enum_value,options:n}),He}return vi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Uu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Uu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Uu.create=B5;class t2 extends ct{_parse(t){const r=dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Pe.string&&n.parsedType!==Pe.number){const i=dt.objectValues(r);return xe(n,{expected:dt.joinValues(i),received:n.parsedType,code:he.invalid_type}),He}if(this._cache||(this._cache=new Set(dt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=dt.objectValues(r);return xe(n,{received:n.data,code:he.invalid_enum_value,options:i}),He}return vi(t.data)}get enum(){return this._def.values}}t2.create=(e,t)=>new t2({values:e,typeName:qe.ZodNativeEnum,...Je(t)});class Fg extends ct{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.promise&&r.common.async===!1)return xe(r,{code:he.invalid_type,expected:Pe.promise,received:r.parsedType}),He;const n=r.parsedType===Pe.promise?r.data:Promise.resolve(r.data);return vi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fg.create=(e,t)=>new Fg({type:e,typeName:qe.ZodPromise,...Je(t)});class zu extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{xe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return He;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?He:c.status==="dirty"||r.value==="dirty"?sf(c.value):c});{if(r.value==="aborted")return He;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?He:l.status==="dirty"||r.value==="dirty"?sf(l.value):l}}if(i.type==="refinement"){const s=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?He:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?He:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Bu(s))return He;const l=i.transform(s.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Bu(s)?Promise.resolve(i.transform(s.value,a)).then(l=>({status:r.value,value:l})):He);dt.assertNever(i)}}zu.create=(e,t,r)=>new zu({schema:e,typeName:qe.ZodEffects,effect:t,...Je(r)});zu.createWithPreprocess=(e,t,r)=>new zu({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...Je(r)});class io extends ct{_parse(t){return this._getType(t)===Pe.undefined?vi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}io.create=(e,t)=>new io({innerType:e,typeName:qe.ZodOptional,...Je(t)});class Vu extends ct{_parse(t){return this._getType(t)===Pe.null?vi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vu.create=(e,t)=>new Vu({innerType:e,typeName:qe.ZodNullable,...Je(t)});class Dj extends ct{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Pe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dj.create=(e,t)=>new Dj({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Je(t)});class Lj extends ct{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mg(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new es(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new es(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Lj.create=(e,t)=>new Lj({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Je(t)});class r2 extends ct{_parse(t){if(this._getType(t)!==Pe.nan){const n=this._getOrReturnCtx(t);return xe(n,{code:he.invalid_type,expected:Pe.nan,received:n.parsedType}),He}return{status:"valid",value:t.data}}}r2.create=e=>new r2({typeName:qe.ZodNaN,...Je(e)});class APe extends ct{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class VC extends ct{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?He:a.status==="dirty"?(r.dirty(),sf(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?He:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new VC({in:t,out:r,typeName:qe.ZodPipeline})}}class Fj extends ct{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Bu(i)&&(i.value=Object.freeze(i.value)),i);return Mg(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Fj.create=(e,t)=>new Fj({innerType:e,typeName:qe.ZodReadonly,...Je(t)});Xt.lazycreate;var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const Ef=Vs.create;po.create;va.create;const U5=Xt.create;Xt.strictCreate;Dg.create;Lg.create;El.create;Uu.create;Fg.create;io.create;Vu.create;var wp=e=>e.type==="checkbox",rl=e=>e instanceof Date,Xr=e=>e==null;const z5=e=>typeof e=="object";var ir=e=>!Xr(e)&&!Array.isArray(e)&&z5(e)&&!rl(e),V5=e=>ir(e)&&e.target?wp(e.target)?e.target.checked:e.target.value:e,EPe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,W5=(e,t)=>e.has(EPe(t)),kPe=e=>{const t=e.constructor&&e.constructor.prototype;return ir(t)&&t.hasOwnProperty("isPrototypeOf")},WC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(WC&&(e instanceof Blob||n))&&(r||ir(e)))if(t=r?[]:{},!r&&!kPe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=hr(e[i]));else return e;return t}var Dx=e=>/^\w*$/.test(e),er=e=>e===void 0,HC=e=>Array.isArray(e)?e.filter(Boolean):[],qC=e=>HC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(e,t,r)=>{if(!t||!ir(e))return r;const n=(Dx(t)?[t]:qC(t)).reduce((i,a)=>Xr(i)?i:i[a],e);return er(n)||n===e?er(e[t])?r:e[t]:n},Tn=e=>typeof e=="boolean",vt=(e,t,r)=>{let n=-1;const i=Dx(t)?[t]:qC(t),a=i.length,s=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==s){const u=e[l];c=ir(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Bg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ea={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},KC=N.createContext(null);KC.displayName="HookFormContext";const Lx=()=>N.useContext(KC),OPe=e=>{const{children:t,...r}=e;return N.createElement(KC.Provider,{value:r},t)};var H5=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==Ii.all&&(t._proxyFormState[s]=!n||Ii.all),r&&(r[s]=!0),e[s]}});return i};const GC=typeof window<"u"?N.useLayoutEffect:N.useEffect;function NPe(e){const t=Lx(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[s,l]=N.useState(r._formState),c=N.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return GC(()=>r._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[i,n,a]),N.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),N.useMemo(()=>H5(s,r,c.current,!1),[s,r])}var la=e=>typeof e=="string",q5=(e,t,r,n,i)=>la(e)?(n&&t.watch.add(e),ve(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),ve(r,a))):(n&&(t.watchAll=!0),r),Bj=e=>Xr(e)||!z5(e);function Ma(e,t,r=new WeakSet){if(Bj(e)||Bj(t))return e===t;if(rl(e)&&rl(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(rl(s)&&rl(l)||ir(s)&&ir(l)||Array.isArray(s)&&Array.isArray(l)?!Ma(s,l,r):s!==l)return!1}}return!0}function TPe(e){const t=Lx(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:s,compute:l}=e||{},c=N.useRef(i),u=N.useRef(l),d=N.useRef(void 0);u.current=l;const f=N.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=N.useState(u.current?u.current(f):f);return GC(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:y=>{if(!a){const m=q5(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const g=u.current(m);Ma(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,a,n,s]),N.useEffect(()=>r._removeUnmounted()),h}function RPe(e){const t=Lx(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a,defaultValue:s}=e,l=W5(i._names.array,r),c=N.useMemo(()=>ve(i._formValues,r,ve(i._defaultValues,r,s)),[i,r,s]),u=TPe({control:i,name:r,defaultValue:c,exact:!0}),d=NPe({control:i,name:r,exact:!0}),f=N.useRef(e),h=N.useRef(i.register(r,{...e.rules,value:u,...Tn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=N.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(d.validatingFields,r)},error:{enumerable:!0,get:()=>ve(d.errors,r)}}),[d,r]),y=N.useCallback(x=>h.current.onChange({target:{value:V5(x),name:r},type:Bg.CHANGE}),[r]),m=N.useCallback(()=>h.current.onBlur({target:{value:ve(i._formValues,r),name:r},type:Bg.BLUR}),[r,i._formValues]),g=N.useCallback(x=>{const b=ve(i._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[i._fields,r]),v=N.useMemo(()=>({name:r,value:u,...Tn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:m,ref:g}),[r,n,d.disabled,y,m,g,u]);return N.useEffect(()=>{const x=i._options.shouldUnregister||a;i.register(r,{...f.current.rules,...Tn(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,w)=>{const S=ve(i._fields,_);S&&S._f&&(S._f.mount=w)};if(b(r,!0),x){const _=hr(ve(i._options.defaultValues,r));vt(i._defaultValues,r,_),er(ve(i._formValues,r))&&vt(i._formValues,r,_)}return!l&&i.register(r),()=>{(l?x&&!i._state.action:x)?i.unregister(r):b(r,!1)}},[r,i,l,a]),N.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),N.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const $Pe=e=>e.render(RPe(e));var K5=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},kf=e=>Array.isArray(e)?e:[e],n2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},cn=e=>ir(e)&&!Object.keys(e).length,YC=e=>e.type==="file",Di=e=>typeof e=="function",Ug=e=>{if(!WC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},G5=e=>e.type==="select-multiple",XC=e=>e.type==="radio",MPe=e=>XC(e)||wp(e),xb=e=>Ug(e)&&e.isConnected;function IPe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=er(e)?n++:e[t[n++]];return e}function DPe(e){for(const t in e)if(e.hasOwnProperty(t)&&!er(e[t]))return!1;return!0}function ar(e,t){const r=Array.isArray(t)?t:Dx(t)?[t]:qC(t),n=r.length===1?e:IPe(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ir(n)&&cn(n)||Array.isArray(n)&&DPe(n))&&ar(e,r.slice(0,-1)),e}var Y5=e=>{for(const t in e)if(Di(e[t]))return!0;return!1};function zg(e,t={}){const r=Array.isArray(e);if(ir(e)||r)for(const n in e)Array.isArray(e[n])||ir(e[n])&&!Y5(e[n])?(t[n]=Array.isArray(e[n])?[]:{},zg(e[n],t[n])):Xr(e[n])||(t[n]=!0);return t}function X5(e,t,r){const n=Array.isArray(e);if(ir(e)||n)for(const i in e)Array.isArray(e[i])||ir(e[i])&&!Y5(e[i])?er(t)||Bj(r[i])?r[i]=Array.isArray(e[i])?zg(e[i],[]):{...zg(e[i])}:X5(e[i],Xr(t)?{}:t[i],r[i]):r[i]=!Ma(e[i],t[i]);return r}var qd=(e,t)=>X5(e,t,zg(t));const i2={value:!1,isValid:!1},a2={value:!0,isValid:!0};var Q5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!er(e[0].attributes.value)?er(e[0].value)||e[0].value===""?a2:{value:e[0].value,isValid:!0}:a2:i2}return i2},Z5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>er(e)?e:t?e===""?NaN:e&&+e:r&&la(e)?new Date(e):n?n(e):e;const s2={isValid:!1,value:null};var J5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,s2):s2;function o2(e){const t=e.ref;return YC(t)?t.files:XC(t)?J5(e.refs).value:G5(t)?[...t.selectedOptions].map(({value:r})=>r):wp(t)?Q5(e.refs).value:Z5(er(t.value)?e.ref.value:t.value,e)}var LPe=(e,t,r,n)=>{const i={};for(const a of e){const s=ve(t,a);s&&vt(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Vg=e=>e instanceof RegExp,Kd=e=>er(e)?e:Vg(e)?e.source:ir(e)?Vg(e.value)?e.value.source:e.value:e,l2=e=>({isOnSubmit:!e||e===Ii.onSubmit,isOnBlur:e===Ii.onBlur,isOnChange:e===Ii.onChange,isOnAll:e===Ii.all,isOnTouch:e===Ii.onTouched});const c2="AsyncFunction";var FPe=e=>!!e&&!!e.validate&&!!(Di(e.validate)&&e.validate.constructor.name===c2||ir(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===c2)),BPe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),u2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Of=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=ve(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Of(l,t))break}else if(ir(l)&&Of(l,t))break}}};function d2(e,t,r){const n=ve(e,r);if(n||Dx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=ve(t,a),l=ve(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var UPe=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return cn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||Ii.all))},zPe=(e,t,r)=>!e||!t||e===t||kf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),VPe=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,WPe=(e,t)=>!HC(ve(e,t)).length&&ar(e,t),HPe=(e,t,r)=>{const n=kf(ve(e,r));return vt(n,"root",t[r]),vt(e,r,n),e},Bm=e=>la(e);function f2(e,t,r="validate"){if(Bm(e)||Array.isArray(e)&&e.every(Bm)||Tn(e)&&!e)return{type:r,message:Bm(e)?e:"",ref:t}}var Jl=e=>ir(e)&&!Vg(e)?e:{value:e,message:""},h2=async(e,t,r,n,i,a)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:g,mount:v}=e._f,x=ve(r,m);if(!v||t.has(m))return{};const b=l?l[0]:s,_=O=>{i&&b.reportValidity&&(b.setCustomValidity(Tn(O)?"":O||""),b.reportValidity())},w={},S=XC(s),C=wp(s),P=S||C,E=(g||YC(s))&&er(s.value)&&er(x)||Ug(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,k=K5.bind(null,m,n,w),A=(O,T,$,I=Ea.maxLength,R=Ea.minLength)=>{const M=O?T:$;w[m]={type:O?I:R,message:M,ref:s,...k(O?I:R,M)}};if(a?!Array.isArray(x)||!x.length:c&&(!P&&(E||Xr(x))||Tn(x)&&!x||C&&!Q5(l).isValid||S&&!J5(l).isValid)){const{value:O,message:T}=Bm(c)?{value:!!c,message:c}:Jl(c);if(O&&(w[m]={type:Ea.required,message:T,ref:b,...k(Ea.required,T)},!n))return _(T),w}if(!E&&(!Xr(f)||!Xr(h))){let O,T;const $=Jl(h),I=Jl(f);if(!Xr(x)&&!isNaN(x)){const R=s.valueAsNumber||x&&+x;Xr($.value)||(O=R>$.value),Xr(I.value)||(T=R<I.value)}else{const R=s.valueAsDate||new Date(x),M=V=>new Date(new Date().toDateString()+" "+V),D=s.type=="time",L=s.type=="week";la($.value)&&x&&(O=D?M(x)>M($.value):L?x>$.value:R>new Date($.value)),la(I.value)&&x&&(T=D?M(x)<M(I.value):L?x<I.value:R<new Date(I.value))}if((O||T)&&(A(!!O,$.message,I.message,Ea.max,Ea.min),!n))return _(w[m].message),w}if((u||d)&&!E&&(la(x)||a&&Array.isArray(x))){const O=Jl(u),T=Jl(d),$=!Xr(O.value)&&x.length>+O.value,I=!Xr(T.value)&&x.length<+T.value;if(($||I)&&(A($,O.message,T.message),!n))return _(w[m].message),w}if(p&&!E&&la(x)){const{value:O,message:T}=Jl(p);if(Vg(O)&&!x.match(O)&&(w[m]={type:Ea.pattern,message:T,ref:s,...k(Ea.pattern,T)},!n))return _(T),w}if(y){if(Di(y)){const O=await y(x,r),T=f2(O,b);if(T&&(w[m]={...T,...k(Ea.validate,T.message)},!n))return _(T.message),w}else if(ir(y)){let O={};for(const T in y){if(!cn(O)&&!n)break;const $=f2(await y[T](x,r),b,T);$&&(O={...$,...k(T,$.message)},_($.message),n&&(w[m]=O))}if(!cn(O)&&(w[m]={ref:b,...O},!n))return w}}return _(!0),w};const qPe={mode:Ii.onSubmit,reValidateMode:Ii.onChange,shouldFocusError:!0};function KPe(e={}){let t={...qPe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Di(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=ir(t.defaultValues)||ir(t.values)?hr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:hr(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:n2(),state:n2()},p=t.criteriaMode===Ii.all,y=B=>K=>{clearTimeout(u),u=setTimeout(B,K)},m=async B=>{if(!t.disabled&&(d.isValid||f.isValid||B)){const K=t.resolver?cn((await C()).errors):await E(n,!0);K!==r.isValid&&h.state.next({isValid:K})}},g=(B,K)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(l.mount)).forEach(Z=>{Z&&(K?vt(r.validatingFields,Z,K):ar(r.validatingFields,Z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!cn(r.validatingFields)}))},v=(B,K=[],Z,ne,le=!0,oe=!0)=>{if(ne&&Z&&!t.disabled){if(s.action=!0,oe&&Array.isArray(ve(n,B))){const pe=Z(ve(n,B),ne.argA,ne.argB);le&&vt(n,B,pe)}if(oe&&Array.isArray(ve(r.errors,B))){const pe=Z(ve(r.errors,B),ne.argA,ne.argB);le&&vt(r.errors,B,pe),WPe(r.errors,B)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(ve(r.touchedFields,B))){const pe=Z(ve(r.touchedFields,B),ne.argA,ne.argB);le&&vt(r.touchedFields,B,pe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=qd(i,a)),h.state.next({name:B,isDirty:A(B,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(a,B,K)},x=(B,K)=>{vt(r.errors,B,K),h.state.next({errors:r.errors})},b=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},_=(B,K,Z,ne)=>{const le=ve(n,B);if(le){const oe=ve(a,B,er(Z)?ve(i,B):Z);er(oe)||ne&&ne.defaultChecked||K?vt(a,B,K?oe:o2(le._f)):$(B,oe),s.mount&&m()}},w=(B,K,Z,ne,le)=>{let oe=!1,pe=!1;const $e={name:B};if(!t.disabled){if(!Z||ne){(d.isDirty||f.isDirty)&&(pe=r.isDirty,r.isDirty=$e.isDirty=A(),oe=pe!==$e.isDirty);const tt=Ma(ve(i,B),K);pe=!!ve(r.dirtyFields,B),tt?ar(r.dirtyFields,B):vt(r.dirtyFields,B,!0),$e.dirtyFields=r.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&pe!==!tt}if(Z){const tt=ve(r.touchedFields,B);tt||(vt(r.touchedFields,B,Z),$e.touchedFields=r.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&tt!==Z)}oe&&le&&h.state.next($e)}return oe?$e:{}},S=(B,K,Z,ne)=>{const le=ve(r.errors,B),oe=(d.isValid||f.isValid)&&Tn(K)&&r.isValid!==K;if(t.delayError&&Z?(c=y(()=>x(B,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?vt(r.errors,B,Z):ar(r.errors,B)),(Z?!Ma(le,Z):le)||!cn(ne)||oe){const pe={...ne,...oe&&Tn(K)?{isValid:K}:{},errors:r.errors,name:B};r={...r,...pe},h.state.next(pe)}},C=async B=>{g(B,!0);const K=await t.resolver(a,t.context,LPe(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(B),K},P=async B=>{const{errors:K}=await C(B);if(B)for(const Z of B){const ne=ve(K,Z);ne?vt(r.errors,Z,ne):ar(r.errors,Z)}else r.errors=K;return K},E=async(B,K,Z={valid:!0})=>{for(const ne in B){const le=B[ne];if(le){const{_f:oe,...pe}=le;if(oe){const $e=l.array.has(oe.name),tt=le._f&&FPe(le._f);tt&&d.validatingFields&&g([ne],!0);const Ir=await h2(le,l.disabled,a,p,t.shouldUseNativeValidation&&!K,$e);if(tt&&d.validatingFields&&g([ne]),Ir[oe.name]&&(Z.valid=!1,K))break;!K&&(ve(Ir,oe.name)?$e?HPe(r.errors,Ir,oe.name):vt(r.errors,oe.name,Ir[oe.name]):ar(r.errors,oe.name))}!cn(pe)&&await E(pe,K,Z)}}return Z.valid},k=()=>{for(const B of l.unMount){const K=ve(n,B);K&&(K._f.refs?K._f.refs.every(Z=>!xb(Z)):!xb(K._f.ref))&&W(B)}l.unMount=new Set},A=(B,K)=>!t.disabled&&(B&&K&&vt(a,B,K),!Ma(V(),i)),O=(B,K,Z)=>q5(B,l,{...s.mount?a:er(K)?i:la(B)?{[B]:K}:K},Z,K),T=B=>HC(ve(s.mount?a:i,B,t.shouldUnregister?ve(i,B,[]):[])),$=(B,K,Z={})=>{const ne=ve(n,B);let le=K;if(ne){const oe=ne._f;oe&&(!oe.disabled&&vt(a,B,Z5(K,oe)),le=Ug(oe.ref)&&Xr(K)?"":K,G5(oe.ref)?[...oe.ref.options].forEach(pe=>pe.selected=le.includes(pe.value)):oe.refs?wp(oe.ref)?oe.refs.forEach(pe=>{(!pe.defaultChecked||!pe.disabled)&&(Array.isArray(le)?pe.checked=!!le.find($e=>$e===pe.value):pe.checked=le===pe.value||!!le)}):oe.refs.forEach(pe=>pe.checked=pe.value===le):YC(oe.ref)?oe.ref.value="":(oe.ref.value=le,oe.ref.type||h.state.next({name:B,values:hr(a)})))}(Z.shouldDirty||Z.shouldTouch)&&w(B,le,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(B)},I=(B,K,Z)=>{for(const ne in K){if(!K.hasOwnProperty(ne))return;const le=K[ne],oe=B+"."+ne,pe=ve(n,oe);(l.array.has(B)||ir(le)||pe&&!pe._f)&&!rl(le)?I(oe,le,Z):$(oe,le,Z)}},R=(B,K,Z={})=>{const ne=ve(n,B),le=l.array.has(B),oe=hr(K);vt(a,B,oe),le?(h.array.next({name:B,values:hr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&h.state.next({name:B,dirtyFields:qd(i,a),isDirty:A(B,oe)})):ne&&!ne._f&&!Xr(oe)?I(B,oe,Z):$(B,oe,Z),u2(B,l)&&h.state.next({...r,name:B}),h.state.next({name:s.mount?B:void 0,values:hr(a)})},M=async B=>{s.mount=!0;const K=B.target;let Z=K.name,ne=!0;const le=ve(n,Z),oe=tt=>{ne=Number.isNaN(tt)||rl(tt)&&isNaN(tt.getTime())||Ma(tt,ve(a,Z,tt))},pe=l2(t.mode),$e=l2(t.reValidateMode);if(le){let tt,Ir;const Kn=K.type?o2(le._f):V5(B),Cn=B.type===Bg.BLUR||B.type===Bg.FOCUS_OUT,ko=!BPe(le._f)&&!t.resolver&&!ve(r.errors,Z)&&!le._f.deps||VPe(Cn,ve(r.touchedFields,Z),r.isSubmitted,$e,pe),Sa=u2(Z,l,Cn);vt(a,Z,Kn),Cn?(le._f.onBlur&&le._f.onBlur(B),c&&c(0)):le._f.onChange&&le._f.onChange(B);const Gi=w(Z,Kn,Cn),jp=!cn(Gi)||Sa;if(!Cn&&h.state.next({name:Z,type:B.type,values:hr(a)}),ko)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Cn&&m():Cn||m()),jp&&h.state.next({name:Z,...Sa?{}:Gi});if(!Cn&&Sa&&h.state.next({...r}),t.resolver){const{errors:Ca}=await C([Z]);if(oe(Kn),ne){const Ux=d2(r.errors,n,Z),_p=d2(Ca,n,Ux.name||Z);tt=_p.error,Z=_p.name,Ir=cn(Ca)}}else g([Z],!0),tt=(await h2(le,l.disabled,a,p,t.shouldUseNativeValidation))[Z],g([Z]),oe(Kn),ne&&(tt?Ir=!1:(d.isValid||f.isValid)&&(Ir=await E(n,!0)));ne&&(le._f.deps&&L(le._f.deps),S(Z,Ir,tt,Gi))}},D=(B,K)=>{if(ve(r.errors,K)&&B.focus)return B.focus(),1},L=async(B,K={})=>{let Z,ne;const le=kf(B);if(t.resolver){const oe=await P(er(B)?B:le);Z=cn(oe),ne=B?!le.some(pe=>ve(oe,pe)):Z}else B?(ne=(await Promise.all(le.map(async oe=>{const pe=ve(n,oe);return await E(pe&&pe._f?{[oe]:pe}:pe)}))).every(Boolean),!(!ne&&!r.isValid)&&m()):ne=Z=await E(n);return h.state.next({...!la(B)||(d.isValid||f.isValid)&&Z!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:Z}:{},errors:r.errors}),K.shouldFocus&&!ne&&Of(n,D,B?le:l.mount),ne},V=B=>{const K={...s.mount?a:i};return er(B)?K:la(B)?ve(K,B):B.map(Z=>ve(K,Z))},J=(B,K)=>({invalid:!!ve((K||r).errors,B),isDirty:!!ve((K||r).dirtyFields,B),error:ve((K||r).errors,B),isValidating:!!ve(r.validatingFields,B),isTouched:!!ve((K||r).touchedFields,B)}),Y=B=>{B&&kf(B).forEach(K=>ar(r.errors,K)),h.state.next({errors:B?r.errors:{}})},F=(B,K,Z)=>{const ne=(ve(n,B,{_f:{}})._f||{}).ref,le=ve(r.errors,B)||{},{ref:oe,message:pe,type:$e,...tt}=le;vt(r.errors,B,{...tt,...K,ref:ne}),h.state.next({name:B,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&ne&&ne.focus&&ne.focus()},ee=(B,K)=>Di(B)?h.state.subscribe({next:Z=>"values"in Z&&B(O(void 0,K),Z)}):O(B,K,!0),U=B=>h.state.subscribe({next:K=>{zPe(B.name,K.name,B.exact)&&UPe(K,B.formState||d,ot,B.reRenderRoot)&&B.callback({values:{...a},...r,...K,defaultValues:i})}}).unsubscribe,z=B=>(s.mount=!0,f={...f,...B.formState},U({...B,formState:f})),W=(B,K={})=>{for(const Z of B?kf(B):l.mount)l.mount.delete(Z),l.array.delete(Z),K.keepValue||(ar(n,Z),ar(a,Z)),!K.keepError&&ar(r.errors,Z),!K.keepDirty&&ar(r.dirtyFields,Z),!K.keepTouched&&ar(r.touchedFields,Z),!K.keepIsValidating&&ar(r.validatingFields,Z),!t.shouldUnregister&&!K.keepDefaultValue&&ar(i,Z);h.state.next({values:hr(a)}),h.state.next({...r,...K.keepDirty?{isDirty:A()}:{}}),!K.keepIsValid&&m()},ue=({disabled:B,name:K})=>{(Tn(B)&&s.mount||B||l.disabled.has(K))&&(B?l.disabled.add(K):l.disabled.delete(K))},X=(B,K={})=>{let Z=ve(n,B);const ne=Tn(K.disabled)||Tn(t.disabled);return vt(n,B,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:B}},name:B,mount:!0,...K}}),l.mount.add(B),Z?ue({disabled:Tn(K.disabled)?K.disabled:t.disabled,name:B}):_(B,!0,K.value),{...ne?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Kd(K.min),max:Kd(K.max),minLength:Kd(K.minLength),maxLength:Kd(K.maxLength),pattern:Kd(K.pattern)}:{},name:B,onChange:M,onBlur:M,ref:le=>{if(le){X(B,K),Z=ve(n,B);const oe=er(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,pe=MPe(oe),$e=Z._f.refs||[];if(pe?$e.find(tt=>tt===oe):oe===Z._f.ref)return;vt(n,B,{_f:{...Z._f,...pe?{refs:[...$e.filter(xb),oe,...Array.isArray(ve(i,B))?[{}]:[]],ref:{type:oe.type,name:B}}:{ref:oe}}}),_(B,!1,void 0,oe)}else Z=ve(n,B,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(W5(l.array,B)&&s.action)&&l.unMount.add(B)}}},re=()=>t.shouldFocusError&&Of(n,D,l.mount),q=B=>{Tn(B)&&(h.state.next({disabled:B}),Of(n,(K,Z)=>{const ne=ve(n,Z);ne&&(K.disabled=ne._f.disabled||B,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(le=>{le.disabled=ne._f.disabled||B}))},0,!1))},H=(B,K)=>async Z=>{let ne;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let le=hr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:pe}=await C();r.errors=oe,le=hr(pe)}else await E(n);if(l.disabled.size)for(const oe of l.disabled)ar(le,oe);if(ar(r.errors,"root"),cn(r.errors)){h.state.next({errors:{}});try{await B(le,Z)}catch(oe){ne=oe}}else K&&await K({...r.errors},Z),re(),setTimeout(re);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},ge=(B,K={})=>{ve(n,B)&&(er(K.defaultValue)?R(B,hr(ve(i,B))):(R(B,K.defaultValue),vt(i,B,hr(K.defaultValue))),K.keepTouched||ar(r.touchedFields,B),K.keepDirty||(ar(r.dirtyFields,B),r.isDirty=K.defaultValue?A(B,hr(ve(i,B))):A()),K.keepError||(ar(r.errors,B),d.isValid&&m()),h.state.next({...r}))},me=(B,K={})=>{const Z=B?hr(B):i,ne=hr(Z),le=cn(B),oe=le?i:ne;if(K.keepDefaultValues||(i=Z),!K.keepValues){if(K.keepDirtyValues){const pe=new Set([...l.mount,...Object.keys(qd(i,a))]);for(const $e of Array.from(pe))ve(r.dirtyFields,$e)?vt(oe,$e,ve(a,$e)):R($e,ve(oe,$e))}else{if(WC&&er(B))for(const pe of l.mount){const $e=ve(n,pe);if($e&&$e._f){const tt=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(Ug(tt)){const Ir=tt.closest("form");if(Ir){Ir.reset();break}}}}if(K.keepFieldsRef)for(const pe of l.mount)R(pe,ve(oe,pe));else n={}}a=t.shouldUnregister?K.keepDefaultValues?hr(i):{}:hr(oe),h.array.next({values:{...oe}}),h.state.next({values:{...oe}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:le?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Ma(B,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:K.keepDirtyValues?K.keepDefaultValues&&a?qd(i,a):r.dirtyFields:K.keepDefaultValues&&B?qd(i,B):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(B,K)=>me(Di(B)?B(a):B,K),ze=(B,K={})=>{const Z=ve(n,B),ne=Z&&Z._f;if(ne){const le=ne.refs?ne.refs[0]:ne.ref;le.focus&&(le.focus(),K.shouldSelect&&Di(le.select)&&le.select())}},ot=B=>{r={...r,...B}},Jt={control:{register:X,unregister:W,getFieldState:J,handleSubmit:H,setError:F,_subscribe:U,_runSchema:C,_focusError:re,_getWatch:O,_getDirty:A,_setValid:m,_setFieldArray:v,_setDisabledField:ue,_setErrors:b,_getFieldArray:T,_reset:me,_resetDefaultValues:()=>Di(t.defaultValues)&&t.defaultValues().then(B=>{Oe(B,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:q,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(B){s=B},get _defaultValues(){return i},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:z,trigger:L,register:X,handleSubmit:H,watch:ee,setValue:R,getValues:V,reset:Oe,resetField:ge,clearErrors:Y,unregister:W,setError:F,setFocus:ze,getFieldState:J};return{...Jt,formControl:Jt}}function p2(e={}){const t=N.useRef(void 0),r=N.useRef(void 0),[n,i]=N.useState({isDirty:!1,isValidating:!1,isLoading:Di(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Di(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Di(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=KPe(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,GC(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),N.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),N.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),N.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),N.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),N.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),N.useEffect(()=>{e.values&&!Ma(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[a,e.values]),N.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=H5(n,a),t.current}const m2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ve(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},eU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?m2(n.ref,r,e):n.refs&&n.refs.forEach(i=>m2(i,r,e))}},GPe=(e,t)=>{t.shouldUseNativeValidation&&eU(e,t);const r={};for(const n in e){const i=ve(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(YPe(t.names||Object.keys(e),n)){const s=Object.assign({},ve(r,n));vt(s,"root",a),vt(r,n,s)}else vt(r,n,a)}return r},YPe=(e,t)=>e.some(r=>r.startsWith(t+"."));var XPe=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=K5(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},v2=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&eU({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:GPe(XPe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}};const g2=OPe,tU=j.createContext({}),Gd=({...e})=>o.jsx(tU.Provider,{value:{name:e.name},children:o.jsx($Pe,{...e})}),Fx=()=>{const e=j.useContext(tU),t=j.useContext(rU),{getFieldState:r,formState:n}=Lx(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},rU=j.createContext({}),sc=j.forwardRef(({className:e,...t},r)=>{const n=j.useId();return o.jsx(rU.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:ie("space-y-2",e),...t})})});sc.displayName="FormItem";const oc=j.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=Fx();return o.jsx(ke,{ref:r,className:ie(n&&"text-destructive",e),htmlFor:i,...t})});oc.displayName="FormLabel";const lc=j.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Fx();return o.jsx(Z$,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});lc.displayName="FormControl";const QPe=j.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Fx();return o.jsx("p",{ref:r,id:n,className:ie("text-sm text-muted-foreground",e),...t})});QPe.displayName="FormDescription";const cc=j.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=Fx(),s=i?String(i==null?void 0:i.message):t;return s?o.jsx("p",{ref:n,id:a,className:ie("text-sm font-medium text-destructive",e),...r,children:s}):null});cc.displayName="FormMessage";const ZPe=U5({email:Ef().trim().email({message:"Email invalide"}),password:Ef().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),JPe=U5({email:Ef().trim().email({message:"Email invalide"}),password:Ef().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:Ef().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function eAe(){const{user:e,loading:t,signIn:r,signUp:n}=Hi(),i=sp(),[a,s]=j.useState(!1);j.useEffect(()=>{e&&!t&&i("/")},[e,t,i]);const l=p2({resolver:v2(ZPe),defaultValues:{email:"",password:""}}),c=p2({resolver:v2(JPe),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{s(!0);const{error:h}=await r(f.email,f.password);s(!1),h?h.message.includes("Invalid login credentials")?kr({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?kr({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):kr({title:"Erreur",description:h.message,variant:"destructive"}):(kr({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),i("/"))},d=async f=>{s(!0);const{error:h}=await n(f.email,f.password,f.displayName);s(!1),h?h.message.includes("already registered")?kr({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):kr({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):kr({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:o.jsxs($r,{className:"w-full max-w-md",children:[o.jsxs(ci,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Av,{variant:"full",color:"dark"})}),o.jsx(ui,{children:"FinPlan Studio"}),o.jsx(ih,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),o.jsx(Mr,{children:o.jsxs(mi,{defaultValue:"login",className:"w-full",children:[o.jsxs(qn,{className:"grid w-full grid-cols-2",children:[o.jsx(st,{value:"login",children:"Connexion"}),o.jsx(st,{value:"signup",children:"Inscription"})]}),o.jsx(pt,{value:"login",className:"mt-4",children:o.jsx(g2,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[o.jsx(Gd,{control:l.control,name:"email",render:({field:f})=>o.jsxs(sc,{children:[o.jsx(oc,{children:"Email"}),o.jsx(lc,{children:o.jsx(je,{type:"email",placeholder:"vous@exemple.com",...f})}),o.jsx(cc,{})]})}),o.jsx(Gd,{control:l.control,name:"password",render:({field:f})=>o.jsxs(sc,{children:[o.jsx(oc,{children:"Mot de passe"}),o.jsx(lc,{children:o.jsx(je,{type:"password",placeholder:"",...f})}),o.jsx(cc,{})]})}),o.jsxs(ce,{type:"submit",className:"w-full",disabled:a,children:[a&&o.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),o.jsx(pt,{value:"signup",className:"mt-4",children:o.jsx(g2,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[o.jsx(Gd,{control:c.control,name:"displayName",render:({field:f})=>o.jsxs(sc,{children:[o.jsx(oc,{children:"Nom complet"}),o.jsx(lc,{children:o.jsx(je,{placeholder:"Jean Dupont",...f})}),o.jsx(cc,{})]})}),o.jsx(Gd,{control:c.control,name:"email",render:({field:f})=>o.jsxs(sc,{children:[o.jsx(oc,{children:"Email"}),o.jsx(lc,{children:o.jsx(je,{type:"email",placeholder:"vous@exemple.com",...f})}),o.jsx(cc,{})]})}),o.jsx(Gd,{control:c.control,name:"password",render:({field:f})=>o.jsxs(sc,{children:[o.jsx(oc,{children:"Mot de passe"}),o.jsx(lc,{children:o.jsx(je,{type:"password",placeholder:"",...f})}),o.jsx(cc,{})]})}),o.jsxs(ce,{type:"submit",className:"w-full",disabled:a,children:[a&&o.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const tAe=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function rAe(){const[e,t]=j.useState([]),[r,n]=j.useState(!0);j.useEffect(()=>{i()},[]);const i=async()=>{var s;try{const{data:l}=await Ce.auth.getSession(),c=(s=l==null?void 0:l.session)==null?void 0:s.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await Ce.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const p=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(p)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},a=async(s,l)=>{try{await Ce.from("user_roles").upsert({user_id:s,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===s?{...u,role:l}:u)),kr({title:"Rle mis  jour"})}catch{kr({title:"Erreur",variant:"destructive"})}};return r?o.jsx(da,{className:"h-6 w-6 animate-spin mx-auto"}):o.jsxs($r,{children:[o.jsx(ci,{children:o.jsx(ui,{children:"Gestion des Utilisateurs"})}),o.jsx(Mr,{children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Email"}),o.jsx(se,{children:"Rle"})]})}),o.jsxs(Dt,{children:[e.map(s=>o.jsxs(ye,{children:[o.jsx(G,{className:"font-medium",children:s.display_name||""}),o.jsx(G,{className:"text-sm text-muted-foreground",children:s.email}),o.jsx(G,{children:o.jsxs(it,{value:s.role,onValueChange:l=>a(s.id,l),children:[o.jsx(rt,{className:"w-32",children:o.jsx(at,{})}),o.jsx(nt,{children:tAe.map(l=>o.jsx(Ue,{value:l,children:l},l))})]})})]},s.id)),e.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const y2=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],nAe=["hidden","read","write"],bb=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],iAe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},wb={hidden:{label:"Masqu",icon:$M,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:c6,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:IM,color:"bg-green-100 text-green-800"}};function aAe(){const{isAdmin:e,loading:t}=Hi(),r=sp(),[n,i]=j.useState({}),[a,s]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await Ce.from("tab_permissions").select("*");if(h)throw h;const p={};y2.forEach(y=>{p[y]={},bb.forEach(m=>{p[y][m.key]="hidden"})}),f==null||f.forEach(y=>{p[y.role]&&(p[y.role][y.tab_key]=y.permission)}),i(p)}catch{}finally{s(!1)}},d=async(f,h,p)=>{c(`${f}:${h}`);try{await Ce.from("tab_permissions").upsert({role:f,tab_key:h,permission:p},{onConflict:"role,tab_key"}),i(y=>({...y,[f]:{...y[f],[h]:p}})),kr({title:"Permission mise  jour"})}catch{kr({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||a?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):e?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(LM,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),o.jsxs(mi,{defaultValue:"users",className:"space-y-6",children:[o.jsxs(qn,{className:"grid w-full max-w-md grid-cols-2",children:[o.jsxs(st,{value:"users",className:"flex items-center gap-2",children:[o.jsx(su,{className:"h-4 w-4"}),"Utilisateurs"]}),o.jsxs(st,{value:"permissions",className:"flex items-center gap-2",children:[o.jsx(j6,{className:"h-4 w-4"}),"Permissions"]})]}),o.jsx(pt,{value:"users",children:o.jsx(rAe,{})}),o.jsx(pt,{value:"permissions",className:"space-y-6",children:o.jsxs($r,{children:[o.jsxs(ci,{children:[o.jsx(ui,{children:"Matrice des Permissions"}),o.jsx(ih,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),o.jsx(Mr,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"w-32",children:"Rle"}),bb.map(f=>o.jsx(se,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),o.jsx(Dt,{children:y2.map(f=>o.jsxs(ye,{children:[o.jsx(G,{children:o.jsx(Te,{variant:f==="admin"?"default":"secondary",children:iAe[f]})}),bb.map(h=>{var m;const p=((m=n[f])==null?void 0:m[h.key])||"hidden",y=`${f}:${h.key}`;return o.jsx(G,{className:"text-center p-2",children:f==="admin"?o.jsxs(Te,{className:wb.write.color,children:[o.jsx(IM,{className:"h-3 w-3 mr-1"}),wb.write.label]}):o.jsxs(it,{value:p,onValueChange:g=>d(f,h.key,g),disabled:l===y,children:[o.jsx(rt,{className:"w-28",children:o.jsx(at,{})}),o.jsx(nt,{children:nAe.map(g=>{const{label:v,icon:x}=wb[g];return o.jsx(Ue,{value:g,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x,{className:"h-3 w-3"}),v]})},g)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const jb=[50,100,200,500,1e3,2e3,5e3,1e4];function sAe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function oAe(){const{user:e}=Hi(),[t,r]=j.useState([]),[n,i]=j.useState([]),[a,s]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,h]=j.useState([]),[p,y]=j.useState(!0),[m,g]=j.useState(!1),v=j.useCallback(async()=>{if(e){m||y(!0);try{const[U,z,W,ue,X,re]=await Promise.all([Ce.from("costflow_references").select("*").order("code"),Ce.from("costflow_products").select("*").order("name"),Ce.from("costflow_bom").select("*"),Ce.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),Ce.from("costflow_suppliers").select("*").order("name"),Ce.from("costflow_product_categories").select("*").order("name")]);U.data&&r(U.data.map(sAe)),z.data&&i(z.data.map(q=>({id:q.id,name:q.name,family:q.family||"Standard",main_supplier:q.main_supplier||"",coefficient:Number(q.coefficient)||1.3,price_ttc:Number(q.price_ttc)||0,default_volume:q.default_volume||500,comments:q.comments||"",category_id:q.category_id||null,created_at:q.created_at,updated_at:q.updated_at}))),W.data&&s(W.data.map(q=>({id:q.id,product_id:q.product_id,reference_id:q.reference_id,quantity:Number(q.quantity)||1}))),ue.data&&c(ue.data.map(q=>({id:q.id,reference_id:q.reference_id,file_name:q.file_name,file_path:q.file_path,file_size:q.file_size||0,version:q.version||1,uploaded_at:q.uploaded_at}))),X.data&&d(X.data.map(q=>({id:q.id,name:q.name,contact_name:q.contact_name||"",email:q.email||"",phone:q.phone||"",country:q.country||"France",comments:q.comments||"",created_at:q.created_at,updated_at:q.updated_at}))),re.data&&h(re.data.map(q=>({id:q.id,name:q.name,description:q.description||"",color:q.color||"#6366f1",created_at:q.created_at})))}catch(U){console.error("CostFlow fetch error:",U)}finally{y(!1),g(!0)}}},[e,m]);j.useEffect(()=>{v()},[v]);const x=async U=>{if(!e)return;const z=U.prices||{},{error:W}=await Ce.from("costflow_references").insert({user_id:e.id,code:U.code,name:U.name,category:U.category||"Mcanique",revision:U.revision||"A",supplier:U.supplier||"",currency:U.currency||"EUR",comments:U.comments||"",price_vol_50:z[50]||0,price_vol_100:z[100]||0,price_vol_200:z[200]||0,price_vol_500:z[500]||0,price_vol_1000:z[1e3]||0,price_vol_2000:z[2e3]||0,price_vol_5000:z[5e3]||0,price_vol_10000:z[1e4]||0});W?(Ve.error("Erreur cration rfrence"),console.error(W)):(Ve.success("Rfrence cre"),v())},b=async(U,z)=>{if(!e)return;const W={};z.code!==void 0&&(W.code=z.code),z.name!==void 0&&(W.name=z.name),z.category!==void 0&&(W.category=z.category),z.revision!==void 0&&(W.revision=z.revision),z.supplier!==void 0&&(W.supplier=z.supplier),z.currency!==void 0&&(W.currency=z.currency),z.comments!==void 0&&(W.comments=z.comments),z.prices&&(W.price_vol_50=z.prices[50]??0,W.price_vol_100=z.prices[100]??0,W.price_vol_200=z.prices[200]??0,W.price_vol_500=z.prices[500]??0,W.price_vol_1000=z.prices[1e3]??0,W.price_vol_2000=z.prices[2e3]??0,W.price_vol_5000=z.prices[5e3]??0,W.price_vol_10000=z.prices[1e4]??0);const{error:ue}=await Ce.from("costflow_references").update(W).eq("id",U);ue?(Ve.error("Erreur mise  jour"),console.error(ue)):(Ve.success("Rfrence mise  jour"),v())},_=async U=>{const{error:z}=await Ce.from("costflow_references").delete().eq("id",U);z?(Ve.error("Erreur suppression"),console.error(z)):(Ve.success("Rfrence supprime"),v())},w=async(U,z="skip")=>{if(!e||U.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const W={imported:0,skipped:0,updated:0,errors:[]},ue=t.map(q=>q.code),X=U.filter(q=>!ue.includes(q.code||"")),re=U.filter(q=>ue.includes(q.code||""));if(X.length>0){const q=X.map(ge=>{const me=ge.prices||{};return{user_id:e.id,code:ge.code,name:ge.name||ge.code,category:ge.category||"Mcanique",revision:ge.revision||"A",supplier:ge.supplier||"",currency:ge.currency||"EUR",comments:ge.comments||"",price_vol_50:me[50]||0,price_vol_100:me[100]||0,price_vol_200:me[200]||0,price_vol_500:me[500]||0,price_vol_1000:me[1e3]||0,price_vol_2000:me[2e3]||0,price_vol_5000:me[5e3]||0,price_vol_10000:me[1e4]||0}}),{error:H}=await Ce.from("costflow_references").insert(q);H?W.errors.push(`Erreur insertion : ${H.message}`):W.imported=X.length}if(re.length>0)if(z==="skip")W.skipped=re.length;else for(const q of re){const H=t.find(Oe=>Oe.code===q.code);if(!H)continue;const ge=q.prices||{},{error:me}=await Ce.from("costflow_references").update({name:q.name||q.code,supplier:q.supplier||"",currency:q.currency||"EUR",comments:q.comments||"",price_vol_50:ge[50]||0,price_vol_100:ge[100]||0,price_vol_200:ge[200]||0,price_vol_500:ge[500]||0,price_vol_1000:ge[1e3]||0,price_vol_2000:ge[2e3]||0,price_vol_5000:ge[5e3]||0,price_vol_10000:ge[1e4]||0}).eq("id",H.id);me?W.errors.push(`Erreur mise  jour ${q.code}`):W.updated++}return v(),W},S=async U=>{if(!e)return;const{error:z}=await Ce.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""});z?(Ve.error("Erreur cration produit"),console.error(z)):(Ve.success("Produit cr"),v())},C=async(U,z)=>{if(!e)return;const{error:W}=await Ce.from("costflow_products").update(z).eq("id",U);W?(Ve.error("Erreur mise  jour"),console.error(W)):(Ve.success("Produit mis  jour"),v())},P=async U=>{const{error:z}=await Ce.from("costflow_products").delete().eq("id",U);z?(Ve.error("Erreur suppression"),console.error(z)):(Ve.success("Produit supprim"),v())},E=async(U,z,W)=>{if(!e)return;const{error:ue}=await Ce.from("costflow_bom").insert({user_id:e.id,product_id:U,reference_id:z,quantity:W});ue?(Ve.error("Erreur ajout nomenclature"),console.error(ue)):v()},k=async(U,z)=>{const{error:W}=await Ce.from("costflow_bom").update({quantity:z}).eq("id",U);W?(Ve.error("Erreur mise  jour"),console.error(W)):v()},A=async U=>{const{error:z}=await Ce.from("costflow_bom").delete().eq("id",U);z?(Ve.error("Erreur suppression"),console.error(z)):v()},O=async(U,z)=>{if(!e)return;const W=`${e.id}/${U}/${Date.now()}_${z.name}`,{error:ue}=await Ce.storage.from("technical-plans").upload(W,z);if(ue){Ve.error("Erreur upload fichier"),console.error(ue);return}const X=l.filter(H=>H.reference_id===U),re=X.length>0?Math.max(...X.map(H=>H.version)):0,{error:q}=await Ce.from("costflow_reference_files").insert({user_id:e.id,reference_id:U,file_name:z.name,file_path:W,file_size:z.size,version:re+1});q?(Ve.error("Erreur enregistrement fichier"),console.error(q)):(Ve.success("Fichier upload"),v())},T=async(U,z)=>{await Ce.storage.from("technical-plans").remove([z]);const{error:W}=await Ce.from("costflow_reference_files").delete().eq("id",U);W?(Ve.error("Erreur suppression fichier"),console.error(W)):v()},$=U=>{const{data:z}=Ce.storage.from("technical-plans").getPublicUrl(U);return z.publicUrl},I=async U=>{const{data:z,error:W}=await Ce.storage.from("technical-plans").createSignedUrl(U,3600);return W?(Ve.error("Erreur accs fichier"),null):z.signedUrl},R=(U,z)=>{const W=a.filter(q=>q.product_id===U),ue=n.find(q=>q.id===U);if(!ue)return 0;const X=jb.reduce((q,H)=>Math.abs(H-z)<Math.abs(q-z)?H:q);let re=0;for(const q of W){const H=t.find(ge=>ge.id===q.reference_id);H&&(re+=q.quantity*(H.prices[X]||0))}return re*ue.coefficient};return{references:t,products:n,bom:a,referenceFiles:l,suppliers:u,productCategories:f,loading:p,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:w,createProduct:S,updateProduct:C,deleteProduct:P,createProductWithBom:async(U,z)=>{if(!e)return;const{data:W,error:ue}=await Ce.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""}).select("id").single();if(ue||!W){Ve.error("Erreur cration produit"),console.error(ue);return}const X=W.id;if(z.length>0){const re=z.map(H=>({user_id:e.id,product_id:X,reference_id:H.referenceId,quantity:H.quantity})),{error:q}=await Ce.from("costflow_bom").insert(re);q&&(Ve.error("Erreur ajout nomenclature"),console.error(q))}Ve.success(`Produit "${U.name}" cr avec ${z.length} rfrence(s)`),v()},addBomEntry:E,updateBomEntry:k,removeBomEntry:A,uploadFile:O,deleteFile:T,getFileUrl:$,getSignedUrl:I,createSupplier:async U=>{if(!e)return;const{error:z}=await Ce.from("costflow_suppliers").insert({user_id:e.id,name:U.name,contact_name:U.contact_name||"",email:U.email||"",phone:U.phone||"",country:U.country||"France",comments:U.comments||""});z?(Ve.error("Erreur cration fournisseur"),console.error(z)):(Ve.success("Fournisseur cr"),v())},updateSupplier:async(U,z)=>{if(!e)return;const{error:W}=await Ce.from("costflow_suppliers").update(z).eq("id",U);W?(Ve.error("Erreur mise  jour fournisseur"),console.error(W)):(Ve.success("Fournisseur mis  jour"),v())},deleteSupplier:async U=>{const{error:z}=await Ce.from("costflow_suppliers").delete().eq("id",U);z?(Ve.error("Erreur suppression fournisseur"),console.error(z)):(Ve.success("Fournisseur supprim"),v())},createProductCategory:async U=>{if(!e)return;const{error:z}=await Ce.from("costflow_product_categories").insert({user_id:e.id,name:U.name,description:U.description||"",color:U.color||"#6366f1"});z?(Ve.error("Erreur cration catgorie"),console.error(z)):(Ve.success("Catgorie cre"),v())},updateProductCategory:async(U,z)=>{if(!e)return;const{error:W}=await Ce.from("costflow_product_categories").update(z).eq("id",U);W?(Ve.error("Erreur mise  jour catgorie"),console.error(W)):(Ve.success("Catgorie mise  jour"),v())},deleteProductCategory:async U=>{await Ce.from("costflow_products").update({category_id:null}).eq("category_id",U);const{error:z}=await Ce.from("costflow_product_categories").delete().eq("id",U);z?(Ve.error("Erreur suppression catgorie"),console.error(z)):(Ve.success("Catgorie supprime"),v())},calculateProductCost:R,calculateProductCosts:U=>{const z={};for(const W of jb)z[W]=R(U,W);return z},VOLUME_TIERS:jb,refresh:v}}const Dl=j.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Dl.displayName="Textarea";const lAe=Yu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ws=j.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ie(lAe({variant:t}),e),...r}));Ws.displayName="Alert";const cAe=j.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));cAe.displayName="AlertTitle";const Hs=j.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));Hs.displayName="AlertDescription";const _b=["EUR","USD","GBP","CHF","CNY","JPY"],ym=[50,100,200,500,1e3,2e3,5e3,1e4];function ec(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function Yd(e){return e.code.trim().length>0}function uAe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[i,a]=j.useState([ec()]),[s,l]=j.useState(!1),[c,u]=j.useState("skip"),[d,f]=j.useState(null),h=j.useRef(null),p=j.useRef(null),y=i.filter(P=>Yd(P)).length,m=i.filter(P=>P.code&&n.includes(P.code)).length,g=(P,E,k)=>{a(A=>{const O=[...A];return O[P]={...O[P],[E]:k},O[P].valid=Yd(O[P]),O[P].isDuplicate=O[P].code?n.includes(O[P].code):!1,O})},v=(P,E,k)=>{a(A=>{const O=[...A];return O[P]={...O[P],prices:{...O[P].prices,[E]:k}},O})},x=P=>{a(E=>E.length===1?[ec()]:E.filter((k,A)=>A!==P))},b=()=>a(P=>[...P,ec()]),_=j.useCallback(P=>{const E=P.clipboardData.getData("text/plain");if(!E.includes("	")&&!E.includes(`
`))return;P.preventDefault();const k=E.split(`
`).map(I=>I.trim()).filter(I=>I.length>0),A=k[0].toLowerCase(),$=(A.includes("code")||A.includes("nom")||A.includes("name")?k.slice(1):k).map(I=>{const R=I.split("	"),M=ec();return M.code=(R[0]||"").trim(),M.name=(R[1]||"").trim(),M.supplier=(R[2]||"").trim(),M.currency=_b.includes((R[3]||"").trim().toUpperCase())?(R[3]||"EUR").trim().toUpperCase():"EUR",ym.forEach((D,L)=>{const V=parseFloat((R[4+L]||"").replace(",","."));isNaN(V)||(M.prices[D]=V)}),M.unit=(R[12]||"pice").trim(),M.comments=(R[13]||"").trim(),M.valid=Yd(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter(I=>I.code||I.name);$.length>0&&a(I=>I.length===1&&!I[0].code&&!I[0].name?$:[...I,...$])},[]),w=P=>{var A;const E=(A=P.target.files)==null?void 0:A[0];if(!E)return;const k=new FileReader;k.onload=O=>{var V;const T=(V=O.target)==null?void 0:V.result;if(!T)return;const $=T.includes("	")?"	":T.includes(";")?";":",",I=T.split(`
`).map(J=>J.trim()).filter(J=>J.length>0),R=I[0].toLowerCase(),L=(R.includes("code")||R.includes("nom")?I.slice(1):I).map(J=>{const Y=J.split($),F=ec();return F.code=(Y[0]||"").trim(),F.name=(Y[1]||"").trim(),F.supplier=(Y[2]||"").trim(),F.currency=_b.includes((Y[3]||"").trim().toUpperCase())?(Y[3]||"EUR").trim().toUpperCase():"EUR",ym.forEach((ee,U)=>{const z=parseFloat((Y[4+U]||"").replace(",","."));isNaN(z)||(F.prices[ee]=z)}),F.unit=(Y[12]||"pice").trim(),F.comments=(Y[13]||"").trim(),F.valid=Yd(F),F.isDuplicate=F.code?n.includes(F.code):!1,F}).filter(J=>J.code||J.name);L.length>0&&a(L)},k.readAsText(E),p.current&&(p.current.value="")},S=async()=>{const P=i.filter(A=>Yd(A));if(P.length===0)return;l(!0);const E=P.map(A=>({code:A.code,name:A.name||A.code,supplier:A.supplier||"",currency:A.currency||"EUR",prices:A.prices||{},comments:A.comments||"",category:"Mcanique",revision:"A"})),k=await r(E,c);f(k),l(!1)},C=()=>{a([ec()]),f(null),t(!1)};return d?o.jsx(zn,{open:e,onOpenChange:C,children:o.jsxs(xn,{className:"max-w-md",children:[o.jsx(bn,{children:o.jsxs(wn,{className:"flex items-center gap-2",children:[o.jsx(NM,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"default",className:"bg-green-600",children:d.imported}),o.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"secondary",children:d.updated}),o.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",children:d.skipped}),o.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&o.jsx(Ws,{variant:"destructive",children:o.jsx(Hs,{children:d.errors.map((P,E)=>o.jsx("div",{className:"text-xs",children:P},E))})})]}),o.jsx(ce,{onClick:C,className:"w-full",children:"Fermer"})]})}):o.jsx(zn,{open:e,onOpenChange:C,children:o.jsxs(xn,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(bn,{children:[o.jsx(wn,{children:"Importer des rfrences"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(mi,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(qn,{className:"w-full",children:[o.jsxs(st,{value:"paste",className:"flex-1",children:[o.jsx(TM,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(st,{value:"file",className:"flex-1",children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(pt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(Ws,{children:[o.jsx(Yf,{className:"h-4 w-4"}),o.jsxs(Hs,{children:[o.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",o.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),m>0&&o.jsxs(Ws,{children:[o.jsx(au,{className:"h-4 w-4"}),o.jsxs(Hs,{className:"flex items-center justify-between",children:[o.jsxs("span",{children:[m," code(s) dj existant(s)"]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(ce,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),o.jsx(ce,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),o.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),ym.map(P=>o.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:P},P)),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:i.map((P,E)=>o.jsxs("tr",{className:`border-t ${P.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[o.jsx("td",{className:"px-1 py-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(je,{className:`h-8 text-xs ${P.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:P.code,onChange:k=>g(E,"code",k.target.value)}),P.isDuplicate&&o.jsx(au,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(je,{className:"h-8 text-xs",placeholder:"Nom...",value:P.name,onChange:k=>g(E,"name",k.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(je,{className:"h-8 text-xs",value:P.supplier,onChange:k=>g(E,"supplier",k.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsxs(it,{value:P.currency,onValueChange:k=>g(E,"currency",k),children:[o.jsx(rt,{className:"h-8 text-xs",children:o.jsx(at,{})}),o.jsx(nt,{children:_b.map(k=>o.jsx(Ue,{value:k,children:k},k))})]})}),ym.map(k=>o.jsx("td",{className:"px-1 py-1",children:o.jsx(je,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:P.prices[k]??"",onChange:A=>v(E,k,parseFloat(A.target.value)||0),placeholder:"0"})},k)),o.jsx("td",{className:"px-1 py-1",children:o.jsx(je,{className:"h-8 text-xs",value:P.unit,onChange:k=>g(E,"unit",k.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(je,{className:"h-8 text-xs",value:P.comments,onChange:k=>g(E,"comments",k.target.value)})}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>x(E),className:"text-destructive hover:text-destructive/80",children:o.jsx(oo,{className:"h-4 w-4"})})})]},E))})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ce,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),o.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&o.jsxs("span",{className:"text-xs text-yellow-600",children:[m," doublon(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),o.jsxs(pt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(Ws,{children:[o.jsx(Yf,{className:"h-4 w-4"}),o.jsxs(Hs,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(za,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:p,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:w}),o.jsx(ce,{variant:"outline",onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},children:"Choisir un fichier"})]})}),i.length>0&&i[0].code&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ce,{variant:"outline",onClick:C,children:[o.jsx(oo,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ce,{onClick:S,disabled:y===0||s,children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const dAe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],fAe=["EUR","USD","GBP","CHF","CNY","JPY"],hAe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),pAe=[50,100,200,500,1e3,2e3,5e3,1e4];function mAe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:i,onBulkImport:a,onSelectReference:s}){const[l,c]=j.useState(""),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,y]=j.useState(null),[m,g]=j.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),v=e.filter(w=>w.code.toLowerCase().includes(l.toLowerCase())||w.name.toLowerCase().includes(l.toLowerCase())||w.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),g({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=w=>{y(w),g({code:w.code,name:w.name,category:w.category,revision:w.revision,supplier:w.supplier,currency:w.currency,comments:w.comments,prices:{...w.prices}}),h(!0)},_=async()=>{if(!m.code||!m.name)return;const w={...m,supplier:m.supplier==="none"?"":m.supplier};p?await n(p.id,w):await r(w),h(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Y_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(je,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:w=>c(w.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ce,{variant:"outline",onClick:()=>d(!0),children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(zn,{open:f,onOpenChange:h,children:[o.jsx(FC,{asChild:!0,children:o.jsxs(ce,{onClick:x,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),o.jsxs(xn,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[o.jsx(bn,{children:o.jsx(wn,{children:p?"Modifier la rfrence":"Nouvelle rfrence"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{children:"Code *"}),o.jsx(je,{value:m.code,onChange:w=>g({...m,code:w.target.value}),placeholder:"REF-001"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Nom *"}),o.jsx(je,{value:m.name,onChange:w=>g({...m,name:w.target.value}),placeholder:"Nom de la pice"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Catgorie"}),o.jsxs(it,{value:m.category,onValueChange:w=>g({...m,category:w}),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:dAe.map(w=>o.jsx(Ue,{value:w,children:w},w))})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Rvision"}),o.jsxs(it,{value:m.revision,onValueChange:w=>g({...m,revision:w}),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:hAe.map(w=>o.jsx(Ue,{value:w,children:w},w))})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Fournisseur"}),o.jsxs(it,{value:m.supplier,onValueChange:w=>g({...m,supplier:w}),children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"none",children:"Aucun"}),t.map(w=>o.jsx(Ue,{value:w.name,children:w.name},w.id))]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Devise"}),o.jsxs(it,{value:m.currency,onValueChange:w=>g({...m,currency:w}),children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:fAe.map(w=>o.jsx(Ue,{value:w,children:w},w))})]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs(ke,{className:"text-sm font-semibold",children:["Grille de prix par volume (",m.currency,")"]}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:pAe.map(w=>o.jsxs("div",{children:[o.jsxs(ke,{className:"text-xs text-muted-foreground",children:[w," units"]}),o.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:m.prices[w]||"",onChange:S=>g({...m,prices:{...m.prices,[w]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},w))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ke,{children:"Commentaires"}),o.jsx(Dl,{value:m.comments,onChange:w=>g({...m,comments:w.target.value}),rows:2})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:_,children:p?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Code"}),o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Catgorie"}),o.jsx(se,{children:"Rv."}),o.jsx(se,{children:"Fournisseur"}),o.jsx(se,{children:"Devise"}),o.jsx(se,{className:"text-right",children:"Prix @500"}),o.jsx(se,{className:"text-right",children:"Prix @1000"}),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[v.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),v.map(w=>{var S,C;return o.jsxs(ye,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(w),children:[o.jsx(G,{className:"font-mono-numbers font-medium",children:w.code}),o.jsx(G,{children:w.name}),o.jsx(G,{children:o.jsx(Te,{variant:"secondary",children:w.category})}),o.jsx(G,{children:w.revision}),o.jsx(G,{children:w.supplier||"-"}),o.jsx(G,{children:w.currency}),o.jsx(G,{className:"text-right font-mono-numbers",children:((S=w.prices[500])==null?void 0:S.toFixed(2))||"-"}),o.jsx(G,{className:"text-right font-mono-numbers",children:((C=w.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),b(w)},children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),i(w.id)},children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},w.id)})]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),o.jsx(uAe,{open:u,onOpenChange:d,onImport:a,existingCodes:e.map(w=>w.code)})]})}const vAe=[50,100,200,500,1e3,2e3,5e3,1e4];function gAe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:i,onBack:a}){const s=j.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];h&&await r(e.id,h),s.current&&(s.current.value="")},u=async f=>{const h=await i(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:a,children:o.jsx(AM,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(Te,{variant:"secondary",children:e.category}),o.jsxs(Te,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&o.jsx(Te,{variant:"outline",children:e.supplier})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:vAe.map(f=>{var h;return o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),o.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Commentaires"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),o.jsxs("div",{children:[o.jsx("input",{ref:s,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=s.current)==null?void 0:f.click()},children:[o.jsx(za,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Fichier"}),o.jsx(se,{children:"Version"}),o.jsx(se,{children:"Taille"}),o.jsx(se,{children:"Date"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:l.map(f=>o.jsxs(ye,{children:[o.jsxs(G,{className:"flex items-center gap-2",children:[o.jsx(MM,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),o.jsx(G,{children:o.jsxs(Te,{variant:"outline",children:["v",f.version]})}),o.jsx(G,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),o.jsx(G,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>u(f),children:o.jsx(dy,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const yAe=[50,100,200,500,1e3,2e3,5e3,1e4],xAe=["Standard","Premium","conomique","Custom"];function xm(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function bAe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:i}){const[a,s]=j.useState(""),[l,c]=j.useState("Standard"),[u,d]=j.useState(""),[f,h]=j.useState([xm()]),[p,y]=j.useState(!1),[m,g]=j.useState(null),v=j.useRef(null),x=j.useCallback(T=>{if(!T.trim())return{found:!1,referenceId:null,referenceName:""};const $=r.find(I=>I.code.toLowerCase()===T.trim().toLowerCase());return $?{found:!0,referenceId:$.id,referenceName:$.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(T,$,I)=>{h(R=>{const M=[...R];if(M[T]={...M[T],[$]:I},$==="refCode"){const D=x(I);M[T]={...M[T],...D}}return M})},_=T=>{h($=>$.length===1?[xm()]:$.filter((I,R)=>R!==T))},w=()=>h(T=>[...T,xm()]),S=j.useCallback(T=>{const $=T.clipboardData.getData("text/plain");if(!$.includes("	")&&!$.includes(`
`))return;T.preventDefault();const I=$.split(`
`).map(V=>V.trim()).filter(V=>V.length>0),R=I[0].toLowerCase(),L=(R.includes("code")||R.includes("ref")||R.includes("rfrence")?I.slice(1):I).map(V=>{const J=V.split("	"),Y=(J[0]||"").trim(),F=parseFloat((J[1]||"1").replace(",","."))||1,ee=parseInt(J[2]||"200")||200,U=x(Y);return{refCode:Y,quantity:F,volume:ee,...U}}).filter(V=>V.refCode.length>0);L.length>0&&h(V=>V.length===1&&!V[0].refCode?L:[...V,...L])},[x]),C=T=>{var R;const $=(R=T.target.files)==null?void 0:R[0];if(!$)return;const I=new FileReader;I.onload=M=>{var U;const D=(U=M.target)==null?void 0:U.result;if(!D)return;const L=D.includes("	")?"	":D.includes(";")?";":",",V=D.split(`
`).map(z=>z.trim()).filter(z=>z.length>0),J=V[0].toLowerCase(),ee=(J.includes("code")||J.includes("ref")?V.slice(1):V).map(z=>{const W=z.split(L),ue=(W[0]||"").trim(),X=parseFloat((W[1]||"1").replace(",","."))||1,re=parseInt(W[2]||"200")||200,q=x(ue);return{refCode:ue,quantity:X,volume:re,...q}}).filter(z=>z.refCode.length>0);ee.length>0&&h(ee)},I.readAsText($),v.current&&(v.current.value="")},P=f.filter(T=>T.refCode.trim()&&T.found&&T.referenceId),E=f.filter(T=>T.refCode.trim()&&!T.found),k=P.length,A=async()=>{if(!(!a.trim()||k===0)){y(!0);try{const T=P.map($=>({referenceId:$.referenceId,quantity:$.quantity}));await i({name:a,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},T),g({success:!0,productName:a,refCount:k,errors:E.map($=>$.refCode)})}catch{g({success:!1,productName:a,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},O=()=>{s(""),c("Standard"),d(""),h([xm()]),g(null),t(!1)};return m?o.jsx(zn,{open:e,onOpenChange:O,children:o.jsxs(xn,{className:"max-w-md",children:[o.jsx(bn,{children:o.jsxs(wn,{className:"flex items-center gap-2",children:[m.success?o.jsx(NM,{className:"h-5 w-5 text-emerald-500"}):o.jsx(au,{className:"h-5 w-5 text-destructive"}),m.success?"Produit cr":"Erreur"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[m.success&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm",children:["Le produit ",o.jsx("strong",{children:m.productName})," a t cr avec ",o.jsx("strong",{children:m.refCount})," rfrence(s)."]}),m.errors.length>0&&o.jsxs(Ws,{children:[o.jsx(au,{className:"h-4 w-4"}),o.jsxs(Hs,{children:[o.jsxs("span",{className:"font-medium",children:[m.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),o.jsx("span",{className:"text-xs ml-1",children:m.errors.join(", ")})]})]})]}),!m.success&&o.jsx("p",{className:"text-sm text-destructive",children:m.errors[0]})]}),o.jsx(ce,{onClick:O,className:"w-full",children:"Fermer"})]})}):o.jsx(zn,{open:e,onOpenChange:O,children:o.jsxs(xn,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(bn,{children:[o.jsx(wn,{children:"Importer des produits"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(mi,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(qn,{className:"w-full",children:[o.jsxs(st,{value:"paste",className:"flex-1",children:[o.jsx(TM,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(st,{value:"file",className:"flex-1",children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(pt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(Ws,{children:[o.jsx(Yf,{className:"h-4 w-4"}),o.jsxs(Hs,{children:[o.jsx("strong",{children:"Comment utiliser :"}),o.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[o.jsxs("li",{children:["Saisissez le ",o.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),o.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),o.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),o.jsxs("li",{children:["Les rfrences ",o.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{children:[o.jsx(ke,{children:"Nom du produit *"}),o.jsx(je,{value:a,onChange:T=>s(T.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Famille *"}),o.jsxs(it,{value:l,onValueChange:c,children:[o.jsx(rt,{children:o.jsx(at,{})}),o.jsx(nt,{children:xAe.map(T=>o.jsx(Ue,{value:T,children:T},T))})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Fournisseur"}),o.jsxs(it,{value:u,onValueChange:d,children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:" ",children:"Aucun"}),n.map(T=>o.jsx(Ue,{value:T,children:T},T))]})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[o.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:f.map((T,$)=>o.jsxs("tr",{className:`border-t ${T.refCode&&!T.found?"bg-destructive/5":""}`,children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx(je,{className:`h-8 text-xs ${T.refCode&&!T.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:T.refCode,onChange:I=>b($,"refCode",I.target.value)}),T.found&&o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:T.referenceName})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(je,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:T.quantity,onChange:I=>b($,"quantity",parseInt(I.target.value)||1)})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(it,{value:String(T.volume),onValueChange:I=>b($,"volume",parseInt(I)),children:[o.jsx(rt,{className:"h-8 text-xs",children:o.jsx(at,{})}),o.jsx(nt,{children:yAe.map(I=>o.jsx(Ue,{value:String(I),children:I},I))})]})}),o.jsx("td",{className:"px-2 py-1",children:T.refCode&&(T.found?o.jsx(Te,{variant:"secondary",className:"text-xs",children:" Trouve"}):o.jsx(Te,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>_($),className:"text-destructive hover:text-destructive/80",children:o.jsx(oo,{className:"h-4 w-4"})})})]},$))})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ce,{variant:"outline",size:"sm",onClick:w,children:"+ Ajouter une rfrence"}),o.jsxs("div",{className:"flex items-center gap-3",children:[E.length>0&&o.jsxs("span",{className:"text-xs text-destructive",children:[E.length," non trouve(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[k," rfrence(s) valide(s)"]})]})]})]}),o.jsxs(pt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(Ws,{children:[o.jsx(Yf,{className:"h-4 w-4"}),o.jsxs(Hs,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(za,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:v,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),o.jsx(ce,{variant:"outline",onClick:()=>{var T;return(T=v.current)==null?void 0:T.click()},children:"Choisir un fichier"})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ce,{variant:"outline",onClick:O,children:[o.jsx(oo,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ce,{onClick:A,disabled:!a.trim()||k===0||p,children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Crer le produit (",k," rf.)"]})]})]})})}function wAe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:i,onDeleteProduct:a,onSelectProduct:s,onImportProduct:l,calculateProductCosts:c}){const[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,y]=j.useState(!1),[m,g]=j.useState(null),[v,x]=j.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var E;const P=((E=r.find(k=>k.id===C.category_id))==null?void 0:E.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||P.toLowerCase().includes(u.toLowerCase())}),_=()=>{g(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},w=C=>{g(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{v.name&&(m?await i(m.id,v):await n(v),y(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Y_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(je,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ce,{variant:"outline",onClick:()=>h(!0),children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(zn,{open:p,onOpenChange:y,children:[o.jsx(FC,{asChild:!0,children:o.jsxs(ce,{onClick:_,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),o.jsxs(xn,{className:"max-w-lg",children:[o.jsx(bn,{children:o.jsx(wn,{children:m?"Modifier le produit":"Nouveau produit"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(ke,{children:"Nom *"}),o.jsx(je,{value:v.name,onChange:C=>x({...v,name:C.target.value}),placeholder:"Nom du produit"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Catgorie"}),o.jsxs(it,{value:v.category_id||"none",onValueChange:C=>x({...v,category_id:C==="none"?null:C}),children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Aucune catgorie"})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"none",children:"Aucune"}),r.map(C=>o.jsx(Ue,{value:C.id,children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Fournisseur principal"}),o.jsx(je,{value:v.main_supplier,onChange:C=>x({...v,main_supplier:C.target.value})})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Coefficient (MO + assemblage)"}),o.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.coefficient,onChange:C=>x({...v,coefficient:parseFloat(C.target.value)||1})})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Volume d'achat par dfaut"}),o.jsx(je,{type:"number",className:"font-mono-numbers",value:v.default_volume,onChange:C=>x({...v,default_volume:parseInt(C.target.value)||500})})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Prix TTC public ()"}),o.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.price_ttc,onChange:C=>x({...v,price_ttc:parseFloat(C.target.value)||0})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(ke,{children:"Commentaires"}),o.jsx(Dl,{value:v.comments,onChange:C=>x({...v,comments:C.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:S,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Produit"}),o.jsx(se,{children:"Catgorie"}),o.jsx(se,{children:"Fournisseur"}),o.jsx(se,{className:"text-right",children:"Coef."}),o.jsx(se,{className:"text-right",children:"Cot @500"}),o.jsx(se,{className:"text-right",children:"Prix TTC"}),o.jsx(se,{className:"text-right",children:"Marge"}),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[b.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const E=c(C.id)[500]||0,k=C.price_ttc>0?(C.price_ttc/1.2-E)/(C.price_ttc/1.2)*100:0;return o.jsxs(ye,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(C),children:[o.jsx(G,{className:"font-medium",children:C.name}),o.jsx(G,{children:(()=>{const A=r.find(O=>O.id===C.category_id);return A?o.jsxs(Te,{variant:"outline",className:"gap-1",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:A.color}}),A.name]}):o.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),o.jsx(G,{children:C.main_supplier||"-"}),o.jsx(G,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),o.jsx(G,{className:"text-right font-mono-numbers",children:E>0?`${E.toFixed(2)} `:"-"}),o.jsx(G,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),o.jsx(G,{className:`text-right font-mono-numbers font-medium ${k>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${k.toFixed(1)}%`:"-"}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),w(C)},children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),a(C.id)},children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),o.jsx(bAe,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const Xd=[50,100,200,500,1e3,2e3,5e3,1e4];function jAe({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:i,onRemoveBomEntry:a,calculateProductCosts:s,onBack:l}){const[c,u]=j.useState(""),[d,f]=j.useState(1),h=r.filter(b=>b.product_id===e.id),p=s(e.id),y=e.price_ttc/1.2,m=Xd.map(b=>({volume:`${b}`,cost:p[b]||0,margin:y>0?Math.max(0,y-(p[b]||0)):0})),g=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},v=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!v.has(b.id));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:l,children:o.jsx(AM,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:e.name}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsxs(Te,{variant:"outline",children:["Coef. ",e.coefficient]}),o.jsxs(Te,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Code"}),o.jsx(se,{children:"Rfrence"}),o.jsx(se,{className:"text-right",children:"Qt"}),Xd.map(b=>o.jsxs(se,{className:"text-right text-xs",children:["@",b]},b)),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[h.map(b=>{const _=t.find(w=>w.id===b.reference_id);return _?o.jsxs(ye,{children:[o.jsx(G,{className:"font-mono-numbers",children:_.code}),o.jsx(G,{children:_.name}),o.jsx(G,{className:"text-right",children:o.jsx(je,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:w=>i(b.id,parseFloat(w.target.value)||1)})}),Xd.map(w=>o.jsx(G,{className:"text-right font-mono-numbers text-xs",children:((_.prices[w]||0)*b.quantity).toFixed(2)},w)),o.jsx(G,{children:o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>a(b.id),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),o.jsxs(ye,{className:"font-semibold bg-muted/30",children:[o.jsxs(G,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),Xd.map(b=>o.jsx(G,{className:"text-right font-mono-numbers text-xs",children:(p[b]||0).toFixed(2)},b)),o.jsx(G,{})]}),y>0&&o.jsxs(ye,{className:"font-semibold",children:[o.jsx(G,{colSpan:3,className:"text-right",children:"Marge ()"}),Xd.map(b=>{const _=y-(p[b]||0);return o.jsx(G,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),o.jsx(G,{})]})]})]}),o.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ke,{className:"text-xs",children:"Rfrence"}),o.jsxs(it,{value:c,onValueChange:u,children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Choisir une rfrence..."})}),o.jsx(nt,{children:x.map(b=>o.jsxs(Ue,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),o.jsxs("div",{className:"w-20",children:[o.jsx(ke,{className:"text-xs",children:"Qt"}),o.jsx(je,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),o.jsxs(ce,{size:"sm",onClick:g,disabled:!c,children:[o.jsx(on,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),o.jsx(Wr,{width:"100%",height:300,children:o.jsxs(jd,{data:m,children:[o.jsx(Hr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(rr,{dataKey:"volume",tick:{fontSize:12}}),o.jsx(nr,{tick:{fontSize:12}}),o.jsx(Tt,{formatter:b=>`${b.toFixed(2)} `}),o.jsx(Bt,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&o.jsx(Bt,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function _Ae({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[i,a]=j.useState(!1),[s,l]=j.useState(null),[c,u]=j.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),a(!0)},f=p=>{l(p),u({name:p.name,description:p.description,color:p.color}),a(!0)},h=async()=>{c.name.trim()&&(s?await r(s.id,c):await t(c),a(!1))};return o.jsxs("div",{className:"financial-card p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"section-title flex items-center gap-2",children:[o.jsx(_6,{className:"h-4 w-4"})," Catgories de produits"]}),o.jsxs(zn,{open:i,onOpenChange:a,children:[o.jsx(FC,{asChild:!0,children:o.jsxs(ce,{size:"sm",onClick:d,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),o.jsxs(xn,{className:"max-w-md",children:[o.jsx(bn,{children:o.jsx(wn,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ke,{children:"Nom *"}),o.jsx(je,{value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Description"}),o.jsx(Dl,{value:c.description,onChange:p=>u({...c,description:p.target.value}),rows:2,placeholder:"Description optionnelle"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Couleur"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),o.jsx(je,{value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:h,children:s?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Couleur"}),o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Description"}),o.jsx(se,{})]})}),o.jsx(Dt,{children:e.map(p=>o.jsxs(ye,{children:[o.jsx(G,{children:o.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:p.color}})}),o.jsx(G,{className:"font-medium",children:p.name}),o.jsx(G,{className:"text-muted-foreground text-sm",children:p.description||"-"}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>f(p),children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))})]})]})}const Xi=[50,100,200,500,1e3,2e3,5e3,1e4];function SAe({products:e,references:t,bom:r,calculateProductCosts:n}){const[i,a]=j.useState(!1),[s,l]=j.useState(!1),[c,u]=j.useState(new Set),[d,f]=j.useState(new Set),h=g=>{const v=new Set(c);v.has(g)?v.delete(g):v.add(g),u(v)},p=g=>{const v=new Set(d);v.has(g)?v.delete(g):v.add(g),f(v)},y=()=>{const g=e.filter(b=>c.size===0||c.has(b.id)),v=["Produit","Famille","Coef.",...Xi.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=g.map(b=>{const _=n(b.id),w=b.price_ttc/1.2,S=w>0?((w-(_[500]||0))/w*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...Xi.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([v,...x].join(`
`)),a(!0),setTimeout(()=>a(!1),2e3),Ve.success("Donnes produits copies")},m=()=>{const g=t.filter(b=>d.size===0||d.has(b.id)),v=["Code","Nom","Catgorie","Fournisseur",...Xi.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=g.map(b=>[b.code,b.name,b.category,b.supplier,...Xi.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([v,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Ve.success("Donnes rfrences copies")};return o.jsxs(mi,{defaultValue:"products",className:"space-y-4",children:[o.jsxs(qn,{children:[o.jsx(st,{value:"products",children:"Export Produits"}),o.jsx(st,{value:"references",children:"Export Rfrences"}),o.jsx(st,{value:"margins",children:"Analyse Marges"})]}),o.jsxs(pt,{value:"products",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),o.jsxs(ce,{variant:"outline",onClick:y,children:[i?o.jsx(Gf,{className:"h-4 w-4 mr-1"}):o.jsx(gA,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"w-8"}),o.jsx(se,{children:"Produit"}),o.jsx(se,{children:"Famille"}),Xi.map(g=>o.jsxs(se,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(se,{className:"text-right",children:"Prix TTC"})]})}),o.jsx(Dt,{children:e.map(g=>{const v=n(g.id);return o.jsxs(ye,{className:"cursor-pointer",onClick:()=>h(g.id),children:[o.jsx(G,{children:o.jsx("input",{type:"checkbox",checked:c.has(g.id),readOnly:!0})}),o.jsx(G,{className:"font-medium",children:g.name}),o.jsx(G,{children:o.jsx(Te,{variant:"secondary",children:g.family})}),Xi.map(x=>o.jsx(G,{className:"text-right font-mono-numbers text-xs",children:(v[x]||0).toFixed(2)},x)),o.jsx(G,{className:"text-right font-mono-numbers",children:g.price_ttc.toFixed(2)})]},g.id)})})]})})]}),o.jsxs(pt,{value:"references",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),o.jsxs(ce,{variant:"outline",onClick:m,children:[s?o.jsx(Gf,{className:"h-4 w-4 mr-1"}):o.jsx(gA,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"w-8"}),o.jsx(se,{children:"Code"}),o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Fournisseur"}),Xi.map(g=>o.jsxs(se,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(se,{children:"Devise"})]})}),o.jsx(Dt,{children:t.map(g=>o.jsxs(ye,{className:"cursor-pointer",onClick:()=>p(g.id),children:[o.jsx(G,{children:o.jsx("input",{type:"checkbox",checked:d.has(g.id),readOnly:!0})}),o.jsx(G,{className:"font-mono-numbers",children:g.code}),o.jsx(G,{children:g.name}),o.jsx(G,{children:g.supplier||"-"}),Xi.map(v=>o.jsx(G,{className:"text-right font-mono-numbers text-xs",children:(g.prices[v]||0).toFixed(2)},v)),o.jsx(G,{children:g.currency})]},g.id))})]})})]}),o.jsx(pt,{value:"margins",className:"space-y-4",children:o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Produit"}),o.jsx(se,{className:"text-right",children:"Prix HT"}),Xi.map(g=>o.jsxs(se,{className:"text-right text-xs",children:["Marge @",g]},g))]})}),o.jsx(Dt,{children:e.map(g=>{const v=n(g.id),x=g.price_ttc/1.2;return o.jsxs(ye,{children:[o.jsx(G,{className:"font-medium",children:g.name}),o.jsx(G,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),Xi.map(b=>{const _=x>0?(x-(v[b]||0))/x*100:0;return o.jsx(G,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},g.id)})})]})})})]})}const x2={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function CAe({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[i,a]=j.useState(""),[s,l]=j.useState(!1),[c,u]=j.useState(null),[d,f]=j.useState(x2),h=e.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.contact_name.toLowerCase().includes(i.toLowerCase())||g.email.toLowerCase().includes(i.toLowerCase())),p=()=>{u(null),f(x2),l(!0)},y=g=>{u(g.id),f({name:g.name,contact_name:g.contact_name,email:g.email,phone:g.phone,country:g.country,comments:g.comments}),l(!0)},m=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Y_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(je,{placeholder:"Rechercher un fournisseur...",value:i,onChange:g=>a(g.target.value),className:"pl-9"})]}),o.jsxs(ce,{onClick:p,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Nom"}),o.jsx(se,{children:"Contact"}),o.jsx(se,{children:"Email"}),o.jsx(se,{children:"Tlphone"}),o.jsx(se,{children:"Pays"}),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[h.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(g=>o.jsxs(ye,{children:[o.jsx(G,{className:"font-medium",children:g.name}),o.jsx(G,{children:g.contact_name||"-"}),o.jsx(G,{children:g.email||"-"}),o.jsx(G,{children:g.phone||"-"}),o.jsx(G,{children:g.country}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>y(g),children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n(g.id),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},g.id))]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),o.jsx(zn,{open:s,onOpenChange:l,children:o.jsxs(xn,{className:"max-w-lg",children:[o.jsx(bn,{children:o.jsx(wn,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(ke,{children:"Nom *"}),o.jsx(je,{value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"Nom du fournisseur"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Contact"}),o.jsx(je,{value:d.contact_name,onChange:g=>f({...d,contact_name:g.target.value}),placeholder:"Nom du contact"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Email"}),o.jsx(je,{type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Tlphone"}),o.jsx(je,{value:d.phone,onChange:g=>f({...d,phone:g.target.value}),placeholder:"+33 ..."})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Pays"}),o.jsx(je,{value:d.country,onChange:g=>f({...d,country:g.target.value}),placeholder:"France"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(ke,{children:"Commentaires"}),o.jsx(Dl,{value:d.comments,onChange:g=>f({...d,comments:g.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:m,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function PAe(){const e=oAe(),[t,r]=j.useState(null),[n,i]=j.useState(null),[a,s]=j.useState("references");return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),o.jsxs(mi,{value:a,onValueChange:s,className:"space-y-4",children:[o.jsxs(qn,{children:[o.jsx(st,{value:"references",children:" Rfrences"}),o.jsx(st,{value:"products",children:" Produits"}),o.jsx(st,{value:"suppliers",children:" Fournisseurs"}),o.jsx(st,{value:"costs",children:" Cots & Export"})]}),o.jsx(pt,{value:"references",children:t?o.jsx(gAe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):o.jsx(mAe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),o.jsx(pt,{value:"products",children:n?o.jsx(jAe,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>i(null)}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(wAe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:i,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),o.jsx(_Ae,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),o.jsx(pt,{value:"suppliers",children:o.jsx(CAe,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),o.jsx(pt,{value:"costs",children:o.jsx(SAe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})})]})]})}function AAe(){const{user:e,userRole:t}=Hi(),[r,n]=j.useState([]),[i,a]=j.useState([]),[s,l]=j.useState(!0),c=t==="admin"||t==="finance",u=j.useCallback(async()=>{if(e){l(!0);try{const[g,v]=await Promise.all([Ce.from("timetracking_categories").select("*").order("name"),Ce.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);g.data&&n(g.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),v.data&&a(v.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(g){console.error("TimeTracking fetch error:",g)}finally{l(!1)}}},[e]);return j.useEffect(()=>{u()},[u]),{categories:r,entries:i,loading:s,canManageCategories:c,createCategory:async(g,v)=>{if(!e)return;const{error:x}=await Ce.from("timetracking_categories").insert({user_id:e.id,name:g,color:v});x?(Ve.error("Erreur cration catgorie"),console.error(x)):(Ve.success("Catgorie cre"),u())},updateCategory:async(g,v)=>{const{error:x}=await Ce.from("timetracking_categories").update(v).eq("id",g);x?(Ve.error("Erreur mise  jour catgorie"),console.error(x)):(Ve.success("Catgorie mise  jour"),u())},deleteCategory:async g=>{const{error:v}=await Ce.from("timetracking_categories").delete().eq("id",g);v?(Ve.error("Erreur suppression catgorie"),console.error(v)):(Ve.success("Catgorie supprime"),u())},createEntry:async g=>{if(!e)return;const{error:v}=await Ce.from("timetracking_entries").insert({user_id:e.id,date:g.date,category_id:g.category_id||null,task_description:g.task_description,duration_minutes:g.duration_minutes||0,comments:g.comments||""});v?(Ve.error("Erreur cration entre"),console.error(v)):(Ve.success("Temps enregistr"),u())},updateEntry:async(g,v)=>{const{error:x}=await Ce.from("timetracking_entries").update(v).eq("id",g);x?(Ve.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async g=>{const{error:v}=await Ce.from("timetracking_entries").delete().eq("id",g);v?(Ve.error("Erreur suppression"),console.error(v)):u()},refresh:u}}function qr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function EAe(e,t){const r=qr(e);return isNaN(t)?ts(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const nU=6048e5,kAe=864e5,iU=6e4,aU=36e5;let OAe={};function Bx(){return OAe}function Wu(e,t){var l,c,u,d;const r=Bx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=qr(e),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Wg(e){return Wu(e,{weekStartsOn:1})}function sU(e){const t=qr(e),r=t.getFullYear(),n=ts(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Wg(n),a=ts(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Wg(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Hg(e){const t=qr(e);return t.setHours(0,0,0,0),t}function b2(e){const t=qr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function NAe(e,t){const r=Hg(e),n=Hg(t),i=+r-b2(r),a=+n-b2(n);return Math.round((i-a)/kAe)}function TAe(e){const t=sU(e),r=ts(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Wg(r)}function oU(e,t){const r=t*7;return EAe(e,r)}function RAe(e){return ts(e,Date.now())}function Uj(e,t){const r=Hg(e),n=Hg(t);return+r==+n}function $Ae(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function MAe(e){if(!$Ae(e)&&typeof e!="number")return!1;const t=qr(e);return!isNaN(Number(t))}function IAe(e,t){const r=qr(e.start),n=qr(e.end);let i=+r>+n;const a=i?+r:+n,s=i?n:r;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=a;)c.push(qr(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return i?c.reverse():c}function DAe(e){const t=qr(e),r=ts(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function LAe(e,t){const r=t==null?void 0:t.weekStartsOn,n=qr(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const FAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BAe=(e,t,r)=>{let n;const i=FAe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Uc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const UAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WAe={date:Uc({formats:UAe,defaultWidth:"full"}),time:Uc({formats:zAe,defaultWidth:"full"}),dateTime:Uc({formats:VAe,defaultWidth:"full"})},HAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qAe=(e,t,r,n)=>HAe[e];function na(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const KAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JAe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eEe={ordinalNumber:JAe,era:na({values:KAe,defaultWidth:"wide"}),quarter:na({values:GAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:na({values:YAe,defaultWidth:"wide"}),day:na({values:XAe,defaultWidth:"wide"}),dayPeriod:na({values:QAe,defaultWidth:"wide",formattingValues:ZAe,defaultFormattingWidth:"wide"})};function ia(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rEe(l,f=>f.test(s)):tEe(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function tEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const nEe=/^(\d+)(th|st|nd|rd)?/i,iEe=/\d+/i,aEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sEe={any:[/^b/i,/^(a|c)/i]},oEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lEe={any:[/1/i,/2/i,/3/i,/4/i]},cEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mEe={ordinalNumber:lU({matchPattern:nEe,parsePattern:iEe,valueCallback:e=>parseInt(e,10)}),era:ia({matchPatterns:aEe,defaultMatchWidth:"wide",parsePatterns:sEe,defaultParseWidth:"any"}),quarter:ia({matchPatterns:oEe,defaultMatchWidth:"wide",parsePatterns:lEe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:cEe,defaultMatchWidth:"wide",parsePatterns:uEe,defaultParseWidth:"any"}),day:ia({matchPatterns:dEe,defaultMatchWidth:"wide",parsePatterns:fEe,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:hEe,defaultMatchWidth:"any",parsePatterns:pEe,defaultParseWidth:"any"})},vEe={code:"en-US",formatDistance:BAe,formatLong:WAe,formatRelative:qAe,localize:eEe,match:mEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gEe(e){const t=qr(e);return NAe(t,DAe(t))+1}function yEe(e){const t=qr(e),r=+Wg(t)-+TAe(t);return Math.round(r/nU)+1}function cU(e,t){var d,f,h,p;const r=qr(e),n=r.getFullYear(),i=Bx(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=ts(e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const l=Wu(s,t),c=ts(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Wu(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xEe(e,t){var l,c,u,d;const r=Bx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=cU(e,t),a=ts(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Wu(a,t)}function bEe(e,t){const r=qr(e),n=+Wu(r,t)-+xEe(r,t);return Math.round(n/nU)+1}function gt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const gs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return gt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):gt(r+1,2)},d(e,t){return gt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return gt(e.getHours()%12||12,t.length)},H(e,t){return gt(e.getHours(),t.length)},m(e,t){return gt(e.getMinutes(),t.length)},s(e,t){return gt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return gt(i,t.length)}},tc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return gs.y(e,t)},Y:function(e,t,r,n){const i=cU(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return gt(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):gt(a,t.length)},R:function(e,t){const r=sU(e);return gt(r,t.length)},u:function(e,t){const r=e.getFullYear();return gt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return gt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return gt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return gs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return gt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=bEe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):gt(i,t.length)},I:function(e,t,r){const n=yEe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):gt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):gs.d(e,t)},D:function(e,t,r){const n=gEe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):gt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return gt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return gt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return gt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=tc.noon:n===0?i=tc.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=tc.evening:n>=12?i=tc.afternoon:n>=4?i=tc.morning:i=tc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):gs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):gs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):gs.s(e,t)},S:function(e,t){return gs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return _2(n);case"XXXX":case"XX":return zo(n);case"XXXXX":case"XXX":default:return zo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return _2(n);case"xxxx":case"xx":return zo(n);case"xxxxx":case"xxx":default:return zo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j2(n,":");case"OOOO":default:return"GMT"+zo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j2(n,":");case"zzzz":default:return"GMT"+zo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return gt(n,t.length)},T:function(e,t,r){const n=e.getTime();return gt(n,t.length)}};function j2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+gt(a,2)}function _2(e,t){return e%60===0?(e>0?"-":"+")+gt(Math.abs(e)/60,2):zo(e,t)}function zo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=gt(Math.trunc(n/60),2),a=gt(n%60,2);return r+i+t+a}const S2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wEe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return S2(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",S2(n,t)).replace("{{time}}",uU(i,t))},jEe={p:uU,P:wEe},_Ee=/^D+$/,SEe=/^Y+$/,CEe=["D","DD","YY","YYYY"];function PEe(e){return _Ee.test(e)}function AEe(e){return SEe.test(e)}function EEe(e,t,r){const n=kEe(e,t,r);if(console.warn(n),CEe.includes(e))throw new RangeError(n)}function kEe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TEe=/^'([^]*?)'?$/,REe=/''/g,$Ee=/[a-zA-Z]/;function ys(e,t,r){var d,f,h,p,y,m,g,v;const n=Bx(),i=(r==null?void 0:r.locale)??n.locale??vEe,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=qr(e);if(!MAe(l))throw new RangeError("Invalid time value");let c=t.match(NEe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=jEe[b];return _(x,i.formatLong)}return x}).join("").match(OEe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:MEe(x)};if(w2[b])return{isToken:!0,value:x};if(b.match($Ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&AEe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&PEe(b))&&EEe(b,t,String(e));const _=w2[b[0]];return _(l,b,i.localize,u)}).join("")}function MEe(e){const t=e.match(TEe);return t?t[1].replace(REe,"'"):e}function IEe(e){return Uj(e,RAe(e))}function DEe(e,t){const n=UEe(e);let i;if(n.date){const c=zEe(n.date,2);i=VEe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(n.time&&(s=WEe(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=HEe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+s+l)}const bm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function UEe(e){const t={},r=e.split(bm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],bm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=bm.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function zEe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function VEe(e,t){if(t===null)return new Date(NaN);const r=e.match(LEe);if(!r)return new Date(NaN);const n=!!r[4],i=Qd(r[1]),a=Qd(r[2])-1,s=Qd(r[3]),l=Qd(r[4]),c=Qd(r[5])-1;if(n)return XEe(t,l,c)?qEe(t,l,c):new Date(NaN);{const u=new Date(0);return!GEe(t,a,s)||!YEe(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,s)),u)}}function Qd(e){return e?parseInt(e):1}function WEe(e){const t=e.match(FEe);if(!t)return NaN;const r=Sb(t[1]),n=Sb(t[2]),i=Sb(t[3]);return QEe(r,n,i)?r*aU+n*iU+i*1e3:NaN}function Sb(e){return e&&parseFloat(e.replace(",","."))||0}function HEe(e){if(e==="Z")return 0;const t=e.match(BEe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return ZEe(n,i)?r*(n*aU+i*iU):NaN}function qEe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const KEe=[31,null,31,30,31,30,31,31,30,31,30,31];function dU(e){return e%400===0||e%4===0&&e%100!==0}function GEe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(KEe[t]||(dU(e)?29:28))}function YEe(e,t){return t>=1&&t<=(dU(e)?366:365)}function XEe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function QEe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ZEe(e,t){return t>=0&&t<=59}function JEe(e,t){return oU(e,-t)}const eke={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},tke=(e,t,r)=>{let n;const i=eke[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},rke={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},nke={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ike={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ake={date:Uc({formats:rke,defaultWidth:"full"}),time:Uc({formats:nke,defaultWidth:"full"}),dateTime:Uc({formats:ike,defaultWidth:"full"})},ske={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},oke=(e,t,r,n)=>ske[e],lke={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},cke={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},uke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},dke={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},fke={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},hke=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},pke=["MMM","MMMM"],mke={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&pke.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:hke,era:na({values:lke,defaultWidth:"wide"}),quarter:na({values:cke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:na({values:uke,defaultWidth:"wide"}),day:na({values:dke,defaultWidth:"wide"}),dayPeriod:na({values:fke,defaultWidth:"wide"})},vke=/^(\d+)(ime|re|me|er|e)?/i,gke=/\d+/i,yke={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},xke={any:[/^av/i,/^ap/i]},bke={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},wke={any:[/1/i,/2/i,/3/i,/4/i]},jke={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},_ke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ske={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Cke={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Pke={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},Ake={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Eke={ordinalNumber:lU({matchPattern:vke,parsePattern:gke,valueCallback:e=>parseInt(e)}),era:ia({matchPatterns:yke,defaultMatchWidth:"wide",parsePatterns:xke,defaultParseWidth:"any"}),quarter:ia({matchPatterns:bke,defaultMatchWidth:"wide",parsePatterns:wke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:jke,defaultMatchWidth:"wide",parsePatterns:_ke,defaultParseWidth:"any"}),day:ia({matchPatterns:Ske,defaultMatchWidth:"wide",parsePatterns:Cke,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:Pke,defaultMatchWidth:"any",parsePatterns:Ake,defaultParseWidth:"any"})},wm={code:"fr",formatDistance:tke,formatLong:ake,formatRelative:oke,localize:mke,match:Eke,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Cb(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function kke({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:i}){const[a,s]=j.useState(()=>Wu(new Date,{weekStartsOn:1})),[l,c]=j.useState(new Date),[u,d]=j.useState(!1),[f,h]=j.useState(null),[p,y]=j.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),m=LAe(a,{weekStartsOn:1}),g=IAe({start:a,end:m}),v=j.useMemo(()=>e.filter(P=>Uj(DEe(P.date),l)),[e,l]),x=j.useMemo(()=>{const P={};return g.forEach(E=>{const k=ys(E,"yyyy-MM-dd");P[k]=e.filter(A=>A.date===k).reduce((A,O)=>A+O.duration_minutes,0)}),P},[e,g]),b=v.reduce((P,E)=>P+E.duration_minutes,0),_=P=>t.find(E=>E.id===P),w=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=P=>{h(P.id),y({task_description:P.task_description,category_id:P.category_id||"",duration_hours:Math.floor(P.duration_minutes/60),duration_minutes:P.duration_minutes%60,comments:P.comments}),d(!0)},C=async()=>{if(!p.task_description.trim())return;const P=p.duration_hours*60+p.duration_minutes,E={date:ys(l,"yyyy-MM-dd"),task_description:p.task_description,category_id:p.category_id||null,duration_minutes:P,comments:p.comments};f?await n(f,E):await r(E),d(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ce,{variant:"outline",size:"icon",onClick:()=>s(JEe(a,1)),children:o.jsx(a6,{className:"h-4 w-4"})}),o.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",ys(a,"d MMMM",{locale:wm})," au ",ys(m,"d MMMM yyyy",{locale:wm})]}),o.jsx(ce,{variant:"outline",size:"icon",onClick:()=>s(oU(a,1)),children:o.jsx(s6,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map(P=>{const E=ys(P,"yyyy-MM-dd"),k=x[E]||0,A=Uj(P,l);return o.jsxs("button",{onClick:()=>c(P),className:`p-3 rounded-lg border text-center transition-colors ${A?"bg-primary text-primary-foreground border-primary":IEe(P)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[o.jsx("div",{className:"text-xs font-medium",children:ys(P,"EEE",{locale:wm})}),o.jsx("div",{className:"text-lg font-bold",children:ys(P,"d")}),k>0&&o.jsx("div",{className:`text-xs mt-1 ${A?"text-primary-foreground/80":"text-muted-foreground"}`,children:Cb(k)})]},E)})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:ys(l,"EEEE d MMMM yyyy",{locale:wm})}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(K_,{className:"h-3.5 w-3.5"}),"Total : ",Cb(b)]})]}),o.jsxs(ce,{onClick:w,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{children:"Catgorie"}),o.jsx(se,{children:"Tche"}),o.jsx(se,{className:"text-right",children:"Dure"}),o.jsx(se,{children:"Commentaire"}),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[v.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),v.map(P=>{const E=_(P.category_id);return o.jsxs(ye,{children:[o.jsx(G,{children:E?o.jsxs(Te,{variant:"outline",className:"gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:E.color}}),E.name]}):o.jsx("span",{className:"text-muted-foreground",children:""})}),o.jsx(G,{className:"font-medium",children:P.task_description}),o.jsx(G,{className:"text-right font-mono-numbers",children:Cb(P.duration_minutes)}),o.jsx(G,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:P.comments||""}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>S(P),children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>i(P.id),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},P.id)})]})]})}),o.jsx(zn,{open:u,onOpenChange:d,children:o.jsxs(xn,{className:"max-w-md",children:[o.jsx(bn,{children:o.jsx(wn,{children:f?"Modifier la tche":"Nouvelle tche"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ke,{children:"Tche *"}),o.jsx(je,{value:p.task_description,onChange:P=>y({...p,task_description:P.target.value}),placeholder:"Description de la tche..."})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Catgorie"}),o.jsxs(it,{value:p.category_id||"none",onValueChange:P=>y({...p,category_id:P==="none"?"":P}),children:[o.jsx(rt,{children:o.jsx(at,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(Ue,{value:"none",children:"Aucune"}),t.map(P=>o.jsx(Ue,{value:P.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),P.name]})},P.id))]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Dure"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(je,{type:"number",min:0,max:23,className:"w-20 text-right",value:p.duration_hours,onChange:P=>y({...p,duration_hours:parseInt(P.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),o.jsx(je,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:p.duration_minutes,onChange:P=>y({...p,duration_minutes:parseInt(P.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Commentaire"}),o.jsx(Dl,{value:p.comments,onChange:P=>y({...p,comments:P.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:C,disabled:!p.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const Oke=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function Nke({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[i,a]=j.useState(!1),[s,l]=j.useState(null),[c,u]=j.useState(""),[d,f]=j.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),a(!0)},p=m=>{l(m.id),u(m.name),f(m.color),a(!0)},y=async()=>{c.trim()&&(s?await r(s,{name:c,color:d}):await t(c,d),a(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),o.jsxs(ce,{onClick:h,children:[o.jsx(on,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Mt,{children:[o.jsx(It,{children:o.jsxs(ye,{children:[o.jsx(se,{className:"w-12",children:"Couleur"}),o.jsx(se,{children:"Nom"}),o.jsx(se,{})]})}),o.jsxs(Dt,{children:[e.length===0&&o.jsx(ye,{children:o.jsx(G,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(m=>o.jsxs(ye,{children:[o.jsx(G,{children:o.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:m.color}})}),o.jsx(G,{className:"font-medium",children:m.name}),o.jsx(G,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>p(m),children:o.jsx(Xu,{className:"h-3 w-3"})}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:o.jsx(_n,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))]})]})}),o.jsx(zn,{open:i,onOpenChange:a,children:o.jsxs(xn,{className:"max-w-sm",children:[o.jsx(bn,{children:o.jsx(wn,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ke,{children:"Nom *"}),o.jsx(je,{value:c,onChange:m=>u(m.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),o.jsxs("div",{children:[o.jsx(ke,{children:"Couleur"}),o.jsx("div",{className:"flex gap-2 mt-2",children:Oke.map(m=>o.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===m?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:m},onClick:()=>f(m)},m))})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ce,{onClick:y,disabled:!c.trim(),children:s?"Mettre  jour":"Crer"})})]})})]})}function Tke(){const e=AAe();return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),o.jsxs(mi,{defaultValue:"entries",className:"space-y-4",children:[o.jsxs(qn,{children:[o.jsx(st,{value:"entries",children:" Mes entres"}),e.canManageCategories&&o.jsx(st,{value:"categories",children:" Catgories"})]}),o.jsx(pt,{value:"entries",children:o.jsx(kke,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&o.jsx(pt,{value:"categories",children:o.jsx(Nke,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const C2="novaride_financial_state_v5";function Rke(){const{user:e,isAdmin:t,getTabPermission:r}=Hi(),[n,i]=j.useState([]),[a,s]=j.useState(!0),l=j.useCallback(()=>!!e,[e,t]),c=j.useCallback(async()=>{if(!e){s(!1);return}try{const{data:m}=await Ce.from("snapshots").select("*").order("created_at",{ascending:!1});m&&i(m.map(g=>({id:g.id,name:g.name,comment:g.comment,createdAt:g.created_at,stateData:JSON.stringify(g.state_data)})))}catch{}finally{s(!1)}},[e]);j.useEffect(()=>{c()},[c]);const u=j.useCallback(async(m,g)=>{if(!e)return!1;try{const v=localStorage.getItem(C2);if(!v)return!1;const{data:x,error:b}=await Ce.from("snapshots").insert({user_id:e.id,name:m,comment:g,state_data:JSON.parse(v)}).select().single();if(b||!x)return!1;const _=x;return i(w=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...w]),kr({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=j.useCallback(m=>{const g=n.find(v=>v.id===m);return g?(localStorage.setItem(C2,g.stateData),kr({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=j.useCallback(async m=>!1,[]),h=j.useCallback(async m=>e?(await Ce.from("snapshots").delete().eq("id",m),i(g=>g.filter(v=>v.id!==m)),!0):!1,[e]),p=j.useCallback(async(m,g)=>!1,[]),y=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:a,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:p,formatDate:y}}var fU="AlertDialog",[$ke,lOe]=jn(fU,[VB]),us=VB(),hU=e=>{const{__scopeAlertDialog:t,...r}=e,n=us(t);return o.jsx(a5,{...n,...r,modal:!0})};hU.displayName=fU;var Mke="AlertDialogTrigger",pU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=us(r);return o.jsx(s5,{...i,...n,ref:t})});pU.displayName=Mke;var Ike="AlertDialogPortal",mU=e=>{const{__scopeAlertDialog:t,...r}=e,n=us(t);return o.jsx(o5,{...n,...r})};mU.displayName=Ike;var Dke="AlertDialogOverlay",vU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=us(r);return o.jsx($C,{...i,...n,ref:t})});vU.displayName=Dke;var zc="AlertDialogContent",[Lke,Fke]=$ke(zc),Bke=eM("AlertDialogContent"),gU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=us(r),s=j.useRef(null),l=Qe(t,s),c=j.useRef(null);return o.jsx($Se,{contentName:zc,titleName:yU,docsSlug:"alert-dialog",children:o.jsx(Lke,{scope:r,cancelRef:c,children:o.jsxs(MC,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:we(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Bke,{children:n}),o.jsx(zke,{contentRef:s})]})})})});gU.displayName=zc;var yU="AlertDialogTitle",xU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=us(r);return o.jsx(IC,{...i,...n,ref:t})});xU.displayName=yU;var bU="AlertDialogDescription",wU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=us(r);return o.jsx(DC,{...i,...n,ref:t})});wU.displayName=bU;var Uke="AlertDialogAction",jU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=us(r);return o.jsx(LC,{...i,...n,ref:t})});jU.displayName=Uke;var _U="AlertDialogCancel",SU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=Fke(_U,r),a=us(r),s=Qe(t,i);return o.jsx(LC,{...a,...n,ref:s})});SU.displayName=_U;var zke=({contentRef:e})=>{const t=`\`${zc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zc}\` by passing a \`${bU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Vke=hU,Wke=pU,Hke=mU,CU=vU,PU=gU,AU=jU,EU=SU,kU=xU,OU=wU;const P2=Vke,A2=Wke,qke=Hke,NU=j.forwardRef(({className:e,...t},r)=>o.jsx(CU,{className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NU.displayName=CU.displayName;const zj=j.forwardRef(({className:e,...t},r)=>o.jsxs(qke,{children:[o.jsx(NU,{}),o.jsx(PU,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));zj.displayName=PU.displayName;const Vj=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vj.displayName="AlertDialogHeader";const Wj=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wj.displayName="AlertDialogFooter";const Hj=j.forwardRef(({className:e,...t},r)=>o.jsx(kU,{ref:r,className:ie("text-lg font-semibold",e),...t}));Hj.displayName=kU.displayName;const qj=j.forwardRef(({className:e,...t},r)=>o.jsx(OU,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));qj.displayName=OU.displayName;const Kj=j.forwardRef(({className:e,...t},r)=>o.jsx(AU,{ref:r,className:ie(gS(),e),...t}));Kj.displayName=AU.displayName;const Gj=j.forwardRef(({className:e,...t},r)=>o.jsx(EU,{ref:r,className:ie(gS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Gj.displayName=EU.displayName;function Kke(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:i,formatDate:a}=Rke(),{getTabPermission:s,isAdmin:l}=Hi(),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),m=s("snapshots")==="write",g=async()=>{if(!c.trim()){kr({title:"Nom requis",variant:"destructive"});return}p(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),p(!1)};return t?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx(So,{tabKey:"snapshots",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(as,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),m&&o.jsxs($r,{children:[o.jsxs(ci,{children:[o.jsxs(ui,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),o.jsx(ih,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),o.jsx(Mr,{children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Nom"}),o.jsx(je,{value:c,onChange:v=>u(v.target.value),placeholder:"Ex: Budget V2 valid"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ke,{children:"Commentaire (optionnel)"}),o.jsx(Dl,{value:d,onChange:v=>f(v.target.value),placeholder:"Notes...",rows:1})]}),o.jsxs(ce,{onClick:g,disabled:h,children:[h?o.jsx(da,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(DM,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),o.jsxs($r,{children:[o.jsxs(ci,{children:[o.jsxs(ui,{className:"flex items-center gap-2",children:[o.jsx(RM,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),o.jsxs(ih,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),o.jsx(Mr,{children:e.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):o.jsx("div",{className:"space-y-3",children:e.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:v.name}),o.jsx(Te,{variant:"outline",className:"text-xs",children:a(v.createdAt)})]}),v.comment&&o.jsx("p",{className:"text-sm text-muted-foreground",children:v.comment})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[m&&o.jsxs(P2,{children:[o.jsx(A2,{asChild:!0,children:o.jsxs(ce,{variant:"outline",size:"sm",children:[o.jsx(dy,{className:"h-4 w-4 mr-1"}),"Charger"]})}),o.jsxs(zj,{children:[o.jsxs(Vj,{children:[o.jsx(Hj,{children:"Restaurer cette sauvegarde ?"}),o.jsxs(qj,{children:["Les donnes actuelles seront remplaces par  ",v.name," . Cette action rechargera la page."]})]}),o.jsxs(Wj,{children:[o.jsx(Gj,{children:"Annuler"}),o.jsx(Kj,{onClick:()=>n(v.id),children:"Restaurer"})]})]})]}),l&&o.jsxs(P2,{children:[o.jsx(A2,{asChild:!0,children:o.jsx(ce,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:o.jsx(_n,{className:"h-4 w-4"})})}),o.jsxs(zj,{children:[o.jsxs(Vj,{children:[o.jsxs(Hj,{children:["Supprimer  ",v.name,"  ?"]}),o.jsx(qj,{children:"Cette action est irrversible."})]}),o.jsxs(Wj,{children:[o.jsx(Gj,{children:"Annuler"}),o.jsx(Kj,{onClick:()=>i(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},v.id))})})]})]})})}const Gke=()=>{const e=Tl();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Yke=new Yq,Xke=()=>o.jsx(Qq,{client:Yke,children:o.jsx(Sq,{children:o.jsx(gY,{children:o.jsxs(bY,{children:[o.jsx(sW,{}),o.jsx(LW,{}),o.jsx(K9,{children:o.jsxs(F9,{children:[o.jsx(Cr,{path:"/auth",element:o.jsx(eAe,{})}),o.jsx(Cr,{path:"/home",element:o.jsx(ln,{tabKey:"home",children:o.jsx(PY,{})})}),o.jsx(Cr,{path:"/",element:o.jsx(ln,{tabKey:"product-plan",children:o.jsx(Pn,{children:o.jsx(Jje,{})})})}),o.jsx(Cr,{path:"/organisation",element:o.jsx(ln,{tabKey:"organisation",children:o.jsx(Pn,{children:o.jsx(VSe,{})})})}),o.jsx(Cr,{path:"/charges",element:o.jsx(ln,{tabKey:"charges",children:o.jsx(Pn,{children:o.jsx(YSe,{})})})}),o.jsx(Cr,{path:"/crm",element:o.jsx(ln,{tabKey:"crm",children:o.jsx(Pn,{children:o.jsx(rCe,{})})})}),o.jsx(Cr,{path:"/previsionnel",element:o.jsx(ln,{tabKey:"previsionnel",children:o.jsx(Pn,{children:o.jsx(ICe,{})})})}),o.jsx(Cr,{path:"/funding",element:o.jsx(ln,{tabKey:"funding",children:o.jsx(Pn,{children:o.jsx(LCe,{})})})}),o.jsx(Cr,{path:"/scenarios",element:o.jsx(ln,{tabKey:"scenarios",children:o.jsx(Pn,{children:o.jsx(BCe,{})})})}),o.jsx(Cr,{path:"/valuation",element:o.jsx(ln,{tabKey:"valuation",children:o.jsx(Pn,{children:o.jsx(ZCe,{})})})}),o.jsx(Cr,{path:"/investment-summary",element:o.jsx(ln,{tabKey:"investment-summary",children:o.jsx(Pn,{children:o.jsx(tPe,{})})})}),o.jsx(Cr,{path:"/costflow",element:o.jsx(ln,{tabKey:"costflow",children:o.jsx(Pn,{children:o.jsx(PAe,{})})})}),o.jsx(Cr,{path:"/timetracking",element:o.jsx(ln,{tabKey:"timetracking",children:o.jsx(Pn,{children:o.jsx(Tke,{})})})}),o.jsx(Cr,{path:"/snapshots",element:o.jsx(ln,{tabKey:"snapshots",children:o.jsx(Pn,{children:o.jsx(Kke,{})})})}),o.jsx(Cr,{path:"/permissions",element:o.jsx(ln,{children:o.jsx(Pn,{children:o.jsx(aAe,{})})})}),o.jsx(Cr,{path:"*",element:o.jsx(Gke,{})})]})})]})})})});Y$(document.getElementById("root")).render(o.jsx(Xke,{}));
