var $N=e=>{throw TypeError(e)};var v0=(e,t,r)=>t.has(e)||$N("Cannot "+r);var fe=(e,t,r)=>(v0(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?$N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(v0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),hn=(e,t,r)=>(v0(e,t,"access private method"),r);var Um=(e,t,r,n)=>({set _(a){st(e,t,a,r)},get _(){return fe(e,t,n)}});function VU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bR={exports:{}},vy={},wR={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=Symbol.for("react.element"),WU=Symbol.for("react.portal"),HU=Symbol.for("react.fragment"),qU=Symbol.for("react.strict_mode"),KU=Symbol.for("react.profiler"),GU=Symbol.for("react.provider"),YU=Symbol.for("react.context"),XU=Symbol.for("react.forward_ref"),QU=Symbol.for("react.suspense"),JU=Symbol.for("react.memo"),ZU=Symbol.for("react.lazy"),IN=Symbol.iterator;function e8(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var jR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_R=Object.assign,SR={};function hd(e,t,r){this.props=e,this.context=t,this.refs=SR,this.updater=r||jR}hd.prototype.isReactComponent={};hd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CR(){}CR.prototype=hd.prototype;function C_(e,t,r){this.props=e,this.context=t,this.refs=SR,this.updater=r||jR}var N_=C_.prototype=new CR;N_.constructor=C_;_R(N_,hd.prototype);N_.isPureReactComponent=!0;var DN=Array.isArray,NR=Object.prototype.hasOwnProperty,P_={current:null},PR={key:!0,ref:!0,__self:!0,__source:!0};function kR(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)NR.call(t,n)&&!PR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bm,type:e,key:i,ref:o,props:a,_owner:P_.current}}function t8(e,t){return{$$typeof:bm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k_(e){return typeof e=="object"&&e!==null&&e.$$typeof===bm}function r8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var LN=/\/+/g;function g0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r8(""+e.key):t.toString(36)}function Bp(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bm:case WU:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+g0(o,0):n,DN(a)?(r="",e!=null&&(r=e.replace(LN,"$&/")+"/"),Bp(a,t,r,"",function(u){return u})):a!=null&&(k_(a)&&(a=t8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(LN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",DN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+g0(i,l);o+=Bp(i,t,r,c,a)}else if(c=e8(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+g0(i,l++),o+=Bp(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wm(e,t,r){if(e==null)return e;var n=[],a=0;return Bp(e,n,"","",function(i){return t.call(r,i,a++)}),n}function n8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},zp={transition:null},a8={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:zp,ReactCurrentOwner:P_};function ER(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:Wm,forEach:function(e,t,r){Wm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wm(e,function(){t++}),t},toArray:function(e){return Wm(e,function(t){return t})||[]},only:function(e){if(!k_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=hd;yt.Fragment=HU;yt.Profiler=KU;yt.PureComponent=C_;yt.StrictMode=qU;yt.Suspense=QU;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a8;yt.act=ER;yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_R({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=P_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)NR.call(t,c)&&!PR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bm,type:e.type,key:a,ref:i,props:n,_owner:o}};yt.createContext=function(e){return e={$$typeof:YU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GU,_context:e},e.Consumer=e};yt.createElement=kR;yt.createFactory=function(e){var t=kR.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:XU,render:e}};yt.isValidElement=k_;yt.lazy=function(e){return{$$typeof:ZU,_payload:{_status:-1,_result:e},_init:n8}};yt.memo=function(e,t){return{$$typeof:JU,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=zp.transition;zp.transition={};try{e()}finally{zp.transition=t}};yt.unstable_act=ER;yt.useCallback=function(e,t){return Rn.current.useCallback(e,t)};yt.useContext=function(e){return Rn.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};yt.useEffect=function(e,t){return Rn.current.useEffect(e,t)};yt.useId=function(){return Rn.current.useId()};yt.useImperativeHandle=function(e,t,r){return Rn.current.useImperativeHandle(e,t,r)};yt.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return Rn.current.useMemo(e,t)};yt.useReducer=function(e,t,r){return Rn.current.useReducer(e,t,r)};yt.useRef=function(e){return Rn.current.useRef(e)};yt.useState=function(e){return Rn.current.useState(e)};yt.useSyncExternalStore=function(e,t,r){return Rn.current.useSyncExternalStore(e,t,r)};yt.useTransition=function(){return Rn.current.useTransition()};yt.version="18.3.1";wR.exports=yt;var w=wR.exports;const R=Ot(w),E_=VU({__proto__:null,default:R},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i8=w,s8=Symbol.for("react.element"),o8=Symbol.for("react.fragment"),l8=Object.prototype.hasOwnProperty,c8=i8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u8={key:!0,ref:!0,__self:!0,__source:!0};function AR(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)l8.call(t,n)&&!u8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:s8,type:e,key:i,ref:o,props:a,_owner:c8.current}}vy.Fragment=o8;vy.jsx=AR;vy.jsxs=AR;bR.exports=vy;var s=bR.exports,OR={exports:{}},da={},TR={exports:{}},RR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var B=I.length;I.push(L);e:for(;0<B;){var Q=B-1>>>1,X=I[Q];if(0<a(X,L))I[Q]=L,I[B]=X,B=Q;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var L=I[0],B=I.pop();if(B!==L){I[0]=B;e:for(var Q=0,X=I.length,ne=X>>>1;Q<ne;){var z=2*(Q+1)-1,U=I[z],H=z+1,q=I[H];if(0>a(U,B))H<X&&0>a(q,U)?(I[Q]=q,I[H]=B,Q=H):(I[Q]=U,I[z]=B,Q=z);else if(H<X&&0>a(q,B))I[Q]=q,I[H]=B,Q=H;else break e}}return L}function a(I,L){var B=I.sortIndex-L.sortIndex;return B!==0?B:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=I)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(I){if(p=!1,b(I),!y)if(r(c)!==null)y=!0,D(j);else{var L=r(u);L!==null&&M(_,L.startTime-I)}}function j(I,L){y=!1,p&&(p=!1,g(N),N=-1),m=!0;var B=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||I&&!O());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var X=Q(f.expirationTime<=L);L=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var ne=!0;else{var z=r(u);z!==null&&M(_,z.startTime-L),ne=!1}return ne}finally{f=null,h=B,m=!1}}var S=!1,C=null,N=-1,P=5,E=-1;function O(){return!(e.unstable_now()-E<P)}function T(){if(C!==null){var I=e.unstable_now();E=I;var L=!0;try{L=C(!0,I)}finally{L?A():(S=!1,C=null)}}else S=!1}var A;if(typeof x=="function")A=function(){x(T)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$=k.port2;k.port1.onmessage=T,A=function(){$.postMessage(null)}}else A=function(){v(T,0)};function D(I){C=I,S||(S=!0,A())}function M(I,L){N=v(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,D(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return L()}finally{h=B}},e.unstable_scheduleCallback=function(I,L,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,I={id:d++,callback:L,priorityLevel:I,startTime:B,expirationTime:X,sortIndex:-1},B>Q?(I.sortIndex=B,t(u,I),r(c)===null&&I===r(u)&&(p?(g(N),N=-1):p=!0,M(_,B-Q))):(I.sortIndex=X,t(c,I),y||m||(y=!0,D(j))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var L=h;return function(){var B=h;h=L;try{return I.apply(this,arguments)}finally{h=B}}}})(RR);TR.exports=RR;var d8=TR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8=w,ca=d8;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MR=new Set,eh={};function Hl(e,t){vu(e,t),vu(e+"Capture",t)}function vu(e,t){for(eh[e]=t,e=0;e<t.length;e++)MR.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zb=Object.prototype.hasOwnProperty,h8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},BN={};function m8(e){return Zb.call(BN,e)?!0:Zb.call(FN,e)?!1:h8.test(e)?BN[e]=!0:(FN[e]=!0,!1)}function p8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v8(e,t,r,n){if(t===null||typeof t>"u"||p8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){un[e]=new Mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];un[t]=new Mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){un[e]=new Mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){un[e]=new Mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){un[e]=new Mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){un[e]=new Mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){un[e]=new Mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){un[e]=new Mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){un[e]=new Mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var A_=/[\-:]([a-z])/g;function O_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A_,O_);un[t]=new Mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A_,O_);un[t]=new Mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A_,O_);un[t]=new Mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){un[e]=new Mn(e,1,!1,e.toLowerCase(),null,!1,!1)});un.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){un[e]=new Mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function T_(e,t,r,n){var a=un.hasOwnProperty(t)?un[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v8(t,r,a,n)&&(r=null),n||a===null?m8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ws=f8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hm=Symbol.for("react.element"),kc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),ew=Symbol.for("react.profiler"),$R=Symbol.for("react.provider"),IR=Symbol.for("react.context"),M_=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),rw=Symbol.for("react.suspense_list"),$_=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),DR=Symbol.for("react.offscreen"),zN=Symbol.iterator;function Gd(e){return e===null||typeof e!="object"?null:(e=zN&&e[zN]||e["@@iterator"],typeof e=="function"?e:null)}var dr=Object.assign,y0;function jf(e){if(y0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);y0=t&&t[1]||""}return`
`+y0+e}var x0=!1;function b0(e,t){if(!e||x0)return"";x0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{x0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jf(e):""}function g8(e){switch(e.tag){case 5:return jf(e.type);case 16:return jf("Lazy");case 13:return jf("Suspense");case 19:return jf("SuspenseList");case 0:case 2:case 15:return e=b0(e.type,!1),e;case 11:return e=b0(e.type.render,!1),e;case 1:return e=b0(e.type,!0),e;default:return""}}function nw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ec:return"Fragment";case kc:return"Portal";case ew:return"Profiler";case R_:return"StrictMode";case tw:return"Suspense";case rw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case IR:return(e.displayName||"Context")+".Consumer";case $R:return(e._context.displayName||"Context")+".Provider";case M_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $_:return t=e.displayName||null,t!==null?t:nw(e.type)||"Memo";case Ls:t=e._payload,e=e._init;try{return nw(e(t))}catch{}}return null}function y8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nw(t);case 8:return t===R_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x8(e){var t=LR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qm(e){e._valueTracker||(e._valueTracker=x8(e))}function FR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=LR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aw(e,t){var r=t.checked;return dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function UN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BR(e,t){t=t.checked,t!=null&&T_(e,"checked",t,!1)}function iw(e,t){BR(e,t);var r=wo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sw(e,t.type,r):t.hasOwnProperty("defaultValue")&&sw(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sw(e,t,r){(t!=="number"||sv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _f=Array.isArray;function Kc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ow(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(_f(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wo(r)}}function zR(e,t){var r=wo(t.value),n=wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function HN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Km,VR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Km=Km||document.createElement("div"),Km.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Km.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function th(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Af={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b8=["Webkit","ms","Moz","O"];Object.keys(Af).forEach(function(e){b8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Af[t]=Af[e]})});function WR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Af.hasOwnProperty(e)&&Af[e]?(""+t).trim():t+"px"}function HR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=WR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var w8=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cw(e,t){if(t){if(w8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function uw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dw=null;function I_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fw=null,Gc=null,Yc=null;function qN(e){if(e=_m(e)){if(typeof fw!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=wy(t),fw(e.stateNode,e.type,t))}}function qR(e){Gc?Yc?Yc.push(e):Yc=[e]:Gc=e}function KR(){if(Gc){var e=Gc,t=Yc;if(Yc=Gc=null,qN(e),t)for(e=0;e<t.length;e++)qN(t[e])}}function GR(e,t){return e(t)}function YR(){}var w0=!1;function XR(e,t,r){if(w0)return e(t,r);w0=!0;try{return GR(e,t,r)}finally{w0=!1,(Gc!==null||Yc!==null)&&(YR(),KR())}}function rh(e,t){var r=e.stateNode;if(r===null)return null;var n=wy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var hw=!1;if(us)try{var Yd={};Object.defineProperty(Yd,"passive",{get:function(){hw=!0}}),window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{hw=!1}function j8(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Of=!1,ov=null,lv=!1,mw=null,_8={onError:function(e){Of=!0,ov=e}};function S8(e,t,r,n,a,i,o,l,c){Of=!1,ov=null,j8.apply(_8,arguments)}function C8(e,t,r,n,a,i,o,l,c){if(S8.apply(this,arguments),Of){if(Of){var u=ov;Of=!1,ov=null}else throw Error(ve(198));lv||(lv=!0,mw=u)}}function ql(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KN(e){if(ql(e)!==e)throw Error(ve(188))}function N8(e){var t=e.alternate;if(!t){if(t=ql(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return KN(a),e;if(i===n)return KN(a),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function JR(e){return e=N8(e),e!==null?ZR(e):null}function ZR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ZR(e);if(t!==null)return t;e=e.sibling}return null}var eM=ca.unstable_scheduleCallback,GN=ca.unstable_cancelCallback,P8=ca.unstable_shouldYield,k8=ca.unstable_requestPaint,Nr=ca.unstable_now,E8=ca.unstable_getCurrentPriorityLevel,D_=ca.unstable_ImmediatePriority,tM=ca.unstable_UserBlockingPriority,cv=ca.unstable_NormalPriority,A8=ca.unstable_LowPriority,rM=ca.unstable_IdlePriority,gy=null,Pi=null;function O8(e){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(gy,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:M8,T8=Math.log,R8=Math.LN2;function M8(e){return e>>>=0,e===0?32:31-(T8(e)/R8|0)|0}var Gm=64,Ym=4194304;function Sf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Sf(l):(i&=o,i!==0&&(n=Sf(i)))}else o=r&~a,o!==0?n=Sf(o):i!==0&&(n=Sf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ri(t),a=1<<r,n|=e[r],t&=~a;return n}function $8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ri(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=$8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function pw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nM(){var e=Gm;return Gm<<=1,!(Gm&4194240)&&(Gm=64),e}function j0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=r}function D8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ri(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function L_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ri(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var $t=0;function aM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iM,F_,sM,oM,lM,vw=!1,Xm=[],oo=null,lo=null,co=null,nh=new Map,ah=new Map,Vs=[],L8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YN(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(t.pointerId)}}function Xd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_m(t),t!==null&&F_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function F8(e,t,r,n,a){switch(t){case"focusin":return oo=Xd(oo,e,t,r,n,a),!0;case"dragenter":return lo=Xd(lo,e,t,r,n,a),!0;case"mouseover":return co=Xd(co,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return nh.set(i,Xd(nh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ah.set(i,Xd(ah.get(i)||null,e,t,r,n,a)),!0}return!1}function cM(e){var t=il(e.target);if(t!==null){var r=ql(t);if(r!==null){if(t=r.tag,t===13){if(t=QR(r),t!==null){e.blockedOn=t,lM(e.priority,function(){sM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dw=n,r.target.dispatchEvent(n),dw=null}else return t=_m(r),t!==null&&F_(t),e.blockedOn=r,!1;t.shift()}return!0}function XN(e,t,r){Up(e)&&r.delete(t)}function B8(){vw=!1,oo!==null&&Up(oo)&&(oo=null),lo!==null&&Up(lo)&&(lo=null),co!==null&&Up(co)&&(co=null),nh.forEach(XN),ah.forEach(XN)}function Qd(e,t){e.blockedOn===t&&(e.blockedOn=null,vw||(vw=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,B8)))}function ih(e){function t(a){return Qd(a,e)}if(0<Xm.length){Qd(Xm[0],e);for(var r=1;r<Xm.length;r++){var n=Xm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oo!==null&&Qd(oo,e),lo!==null&&Qd(lo,e),co!==null&&Qd(co,e),nh.forEach(t),ah.forEach(t),r=0;r<Vs.length;r++)n=Vs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)cM(r),r.blockedOn===null&&Vs.shift()}var Xc=ws.ReactCurrentBatchConfig,dv=!0;function z8(e,t,r,n){var a=$t,i=Xc.transition;Xc.transition=null;try{$t=1,B_(e,t,r,n)}finally{$t=a,Xc.transition=i}}function U8(e,t,r,n){var a=$t,i=Xc.transition;Xc.transition=null;try{$t=4,B_(e,t,r,n)}finally{$t=a,Xc.transition=i}}function B_(e,t,r,n){if(dv){var a=gw(e,t,r,n);if(a===null)T0(e,t,n,fv,r),YN(e,n);else if(F8(a,e,t,r,n))n.stopPropagation();else if(YN(e,n),t&4&&-1<L8.indexOf(e)){for(;a!==null;){var i=_m(a);if(i!==null&&iM(i),i=gw(e,t,r,n),i===null&&T0(e,t,n,fv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else T0(e,t,n,null,r)}}var fv=null;function gw(e,t,r,n){if(fv=null,e=I_(n),e=il(e),e!==null)if(t=ql(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fv=e,null}function uM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E8()){case D_:return 1;case tM:return 4;case cv:case A8:return 16;case rM:return 536870912;default:return 16}default:return 16}}var Js=null,z_=null,Vp=null;function dM(){if(Vp)return Vp;var e,t=z_,r=t.length,n,a="value"in Js?Js.value:Js.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Vp=a.slice(e,1<n?1-n:void 0)}function Wp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qm(){return!0}function QN(){return!1}function fa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qm:QN,this.isPropagationStopped=QN,this}return dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qm)},persist:function(){},isPersistent:Qm}),t}var md={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U_=fa(md),jm=dr({},md,{view:0,detail:0}),V8=fa(jm),_0,S0,Jd,yy=dr({},jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jd&&(Jd&&e.type==="mousemove"?(_0=e.screenX-Jd.screenX,S0=e.screenY-Jd.screenY):S0=_0=0,Jd=e),_0)},movementY:function(e){return"movementY"in e?e.movementY:S0}}),JN=fa(yy),W8=dr({},yy,{dataTransfer:0}),H8=fa(W8),q8=dr({},jm,{relatedTarget:0}),C0=fa(q8),K8=dr({},md,{animationName:0,elapsedTime:0,pseudoElement:0}),G8=fa(K8),Y8=dr({},md,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X8=fa(Y8),Q8=dr({},md,{data:0}),ZN=fa(Q8),J8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eV[e])?!!t[e]:!1}function V_(){return tV}var rV=dr({},jm,{key:function(e){if(e.key){var t=J8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V_,charCode:function(e){return e.type==="keypress"?Wp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nV=fa(rV),aV=dr({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eP=fa(aV),iV=dr({},jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V_}),sV=fa(iV),oV=dr({},md,{propertyName:0,elapsedTime:0,pseudoElement:0}),lV=fa(oV),cV=dr({},yy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uV=fa(cV),dV=[9,13,27,32],W_=us&&"CompositionEvent"in window,Tf=null;us&&"documentMode"in document&&(Tf=document.documentMode);var fV=us&&"TextEvent"in window&&!Tf,fM=us&&(!W_||Tf&&8<Tf&&11>=Tf),tP=" ",rP=!1;function hM(e,t){switch(e){case"keyup":return dV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ac=!1;function hV(e,t){switch(e){case"compositionend":return mM(t);case"keypress":return t.which!==32?null:(rP=!0,tP);case"textInput":return e=t.data,e===tP&&rP?null:e;default:return null}}function mV(e,t){if(Ac)return e==="compositionend"||!W_&&hM(e,t)?(e=dM(),Vp=z_=Js=null,Ac=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fM&&t.locale!=="ko"?null:t.data;default:return null}}var pV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pV[e.type]:t==="textarea"}function pM(e,t,r,n){qR(n),t=hv(t,"onChange"),0<t.length&&(r=new U_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rf=null,sh=null;function vV(e){NM(e,0)}function xy(e){var t=Rc(e);if(FR(t))return e}function gV(e,t){if(e==="change")return t}var vM=!1;if(us){var N0;if(us){var P0="oninput"in document;if(!P0){var aP=document.createElement("div");aP.setAttribute("oninput","return;"),P0=typeof aP.oninput=="function"}N0=P0}else N0=!1;vM=N0&&(!document.documentMode||9<document.documentMode)}function iP(){Rf&&(Rf.detachEvent("onpropertychange",gM),sh=Rf=null)}function gM(e){if(e.propertyName==="value"&&xy(sh)){var t=[];pM(t,sh,e,I_(e)),XR(vV,t)}}function yV(e,t,r){e==="focusin"?(iP(),Rf=t,sh=r,Rf.attachEvent("onpropertychange",gM)):e==="focusout"&&iP()}function xV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xy(sh)}function bV(e,t){if(e==="click")return xy(t)}function wV(e,t){if(e==="input"||e==="change")return xy(t)}function jV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var li=typeof Object.is=="function"?Object.is:jV;function oh(e,t){if(li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Zb.call(t,a)||!li(e[a],t[a]))return!1}return!0}function sP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oP(e,t){var r=sP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sP(r)}}function yM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xM(){for(var e=window,t=sv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sv(e.document)}return t}function H_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _V(e){var t=xM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yM(r.ownerDocument.documentElement,r)){if(n!==null&&H_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=oP(r,i);var o=oP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SV=us&&"documentMode"in document&&11>=document.documentMode,Oc=null,yw=null,Mf=null,xw=!1;function lP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xw||Oc==null||Oc!==sv(n)||(n=Oc,"selectionStart"in n&&H_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mf&&oh(Mf,n)||(Mf=n,n=hv(yw,"onSelect"),0<n.length&&(t=new U_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Oc)))}function Jm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tc={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},k0={},bM={};us&&(bM=document.createElement("div").style,"AnimationEvent"in window||(delete Tc.animationend.animation,delete Tc.animationiteration.animation,delete Tc.animationstart.animation),"TransitionEvent"in window||delete Tc.transitionend.transition);function by(e){if(k0[e])return k0[e];if(!Tc[e])return e;var t=Tc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bM)return k0[e]=t[r];return e}var wM=by("animationend"),jM=by("animationiteration"),_M=by("animationstart"),SM=by("transitionend"),CM=new Map,cP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){CM.set(e,t),Hl(t,[e])}for(var E0=0;E0<cP.length;E0++){var A0=cP[E0],CV=A0.toLowerCase(),NV=A0[0].toUpperCase()+A0.slice(1);Eo(CV,"on"+NV)}Eo(wM,"onAnimationEnd");Eo(jM,"onAnimationIteration");Eo(_M,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(SM,"onTransitionEnd");vu("onMouseEnter",["mouseout","mouseover"]);vu("onMouseLeave",["mouseout","mouseover"]);vu("onPointerEnter",["pointerout","pointerover"]);vu("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function uP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,C8(n,t,void 0,e),e.currentTarget=null}function NM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;uP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;uP(a,l,u),i=c}}}if(lv)throw e=mw,lv=!1,mw=null,e}function Jt(e,t){var r=t[Sw];r===void 0&&(r=t[Sw]=new Set);var n=e+"__bubble";r.has(n)||(PM(t,e,2,!1),r.add(n))}function O0(e,t,r){var n=0;t&&(n|=4),PM(r,e,n,t)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function lh(e){if(!e[Zm]){e[Zm]=!0,MR.forEach(function(r){r!=="selectionchange"&&(PV.has(r)||O0(r,!1,e),O0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zm]||(t[Zm]=!0,O0("selectionchange",!1,t))}}function PM(e,t,r,n){switch(uM(t)){case 1:var a=z8;break;case 4:a=U8;break;default:a=B_}r=a.bind(null,t,r,e),a=void 0,!hw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function T0(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=il(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}XR(function(){var u=i,d=I_(r),f=[];e:{var h=CM.get(e);if(h!==void 0){var m=U_,y=e;switch(e){case"keypress":if(Wp(r)===0)break e;case"keydown":case"keyup":m=nV;break;case"focusin":y="focus",m=C0;break;case"focusout":y="blur",m=C0;break;case"beforeblur":case"afterblur":m=C0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=H8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sV;break;case wM:case jM:case _M:m=G8;break;case SM:m=lV;break;case"scroll":m=V8;break;case"wheel":m=uV;break;case"copy":case"cut":case"paste":m=X8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eP}var p=(t&4)!==0,v=!p&&e==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=rh(x,g),_!=null&&p.push(ch(x,_,b)))),v)break;x=x.return}0<p.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==dw&&(y=r.relatedTarget||r.fromElement)&&(il(y)||y[ds]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?il(y):null,y!==null&&(v=ql(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=JN,_="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=eP,_="onPointerLeave",g="onPointerEnter",x="pointer"),v=m==null?h:Rc(m),b=y==null?h:Rc(y),h=new p(_,x+"leave",m,r,d),h.target=v,h.relatedTarget=b,_=null,il(d)===u&&(p=new p(g,x+"enter",y,r,d),p.target=b,p.relatedTarget=v,_=p),v=_,m&&y)t:{for(p=m,g=y,x=0,b=p;b;b=tc(b))x++;for(b=0,_=g;_;_=tc(_))b++;for(;0<x-b;)p=tc(p),x--;for(;0<b-x;)g=tc(g),b--;for(;x--;){if(p===g||g!==null&&p===g.alternate)break t;p=tc(p),g=tc(g)}p=null}else p=null;m!==null&&dP(f,h,m,p,!1),y!==null&&v!==null&&dP(f,v,y,p,!0)}}e:{if(h=u?Rc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=gV;else if(nP(h))if(vM)j=wV;else{j=xV;var S=yV}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=bV);if(j&&(j=j(e,u))){pM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&sw(h,"number",h.value)}switch(S=u?Rc(u):window,e){case"focusin":(nP(S)||S.contentEditable==="true")&&(Oc=S,yw=u,Mf=null);break;case"focusout":Mf=yw=Oc=null;break;case"mousedown":xw=!0;break;case"contextmenu":case"mouseup":case"dragend":xw=!1,lP(f,r,d);break;case"selectionchange":if(SV)break;case"keydown":case"keyup":lP(f,r,d)}var C;if(W_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ac?hM(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(fM&&r.locale!=="ko"&&(Ac||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ac&&(C=dM()):(Js=d,z_="value"in Js?Js.value:Js.textContent,Ac=!0)),S=hv(u,N),0<S.length&&(N=new ZN(N,e,null,r,d),f.push({event:N,listeners:S}),C?N.data=C:(C=mM(r),C!==null&&(N.data=C)))),(C=fV?hV(e,r):mV(e,r))&&(u=hv(u,"onBeforeInput"),0<u.length&&(d=new ZN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}NM(f,t)})}function ch(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rh(e,r),i!=null&&n.unshift(ch(e,i,a)),i=rh(e,t),i!=null&&n.push(ch(e,i,a))),e=e.return}return n}function tc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=rh(r,i),c!=null&&o.unshift(ch(r,c,l))):a||(c=rh(r,i),c!=null&&o.push(ch(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kV=/\r\n?/g,EV=/\u0000|\uFFFD/g;function fP(e){return(typeof e=="string"?e:""+e).replace(kV,`
`).replace(EV,"")}function ep(e,t,r){if(t=fP(t),fP(e)!==t&&r)throw Error(ve(425))}function mv(){}var bw=null,ww=null;function jw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _w=typeof setTimeout=="function"?setTimeout:void 0,AV=typeof clearTimeout=="function"?clearTimeout:void 0,hP=typeof Promise=="function"?Promise:void 0,OV=typeof queueMicrotask=="function"?queueMicrotask:typeof hP<"u"?function(e){return hP.resolve(null).then(e).catch(TV)}:_w;function TV(e){setTimeout(function(){throw e})}function R0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ih(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ih(t)}function uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pd=Math.random().toString(36).slice(2),xi="__reactFiber$"+pd,uh="__reactProps$"+pd,ds="__reactContainer$"+pd,Sw="__reactEvents$"+pd,RV="__reactListeners$"+pd,MV="__reactHandles$"+pd;function il(e){var t=e[xi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ds]||r[xi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mP(e);e!==null;){if(r=e[xi])return r;e=mP(e)}return t}e=r,r=e.parentNode}return null}function _m(e){return e=e[xi]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function wy(e){return e[uh]||null}var Cw=[],Mc=-1;function Ao(e){return{current:e}}function rr(e){0>Mc||(e.current=Cw[Mc],Cw[Mc]=null,Mc--)}function qt(e,t){Mc++,Cw[Mc]=e.current,e.current=t}var jo={},_n=Ao(jo),Vn=Ao(!1),Nl=jo;function gu(e,t){var r=e.type.contextTypes;if(!r)return jo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wn(e){return e=e.childContextTypes,e!=null}function pv(){rr(Vn),rr(_n)}function pP(e,t,r){if(_n.current!==jo)throw Error(ve(168));qt(_n,t),qt(Vn,r)}function kM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,y8(e)||"Unknown",a));return dr({},r,n)}function vv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Nl=_n.current,qt(_n,e),qt(Vn,Vn.current),!0}function vP(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=kM(e,t,Nl),n.__reactInternalMemoizedMergedChildContext=e,rr(Vn),rr(_n),qt(_n,e)):rr(Vn),qt(Vn,r)}var Qi=null,jy=!1,M0=!1;function EM(e){Qi===null?Qi=[e]:Qi.push(e)}function $V(e){jy=!0,EM(e)}function Oo(){if(!M0&&Qi!==null){M0=!0;var e=0,t=$t;try{var r=Qi;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qi=null,jy=!1}catch(a){throw Qi!==null&&(Qi=Qi.slice(e+1)),eM(D_,Oo),a}finally{$t=t,M0=!1}}return null}var $c=[],Ic=0,gv=null,yv=0,xa=[],ba=0,Pl=null,es=1,ts="";function Yo(e,t){$c[Ic++]=yv,$c[Ic++]=gv,gv=e,yv=t}function AM(e,t,r){xa[ba++]=es,xa[ba++]=ts,xa[ba++]=Pl,Pl=e;var n=es;e=ts;var a=32-ri(n)-1;n&=~(1<<a),r+=1;var i=32-ri(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,es=1<<32-ri(t)+a|r<<a|n,ts=i+e}else es=1<<i|r<<a|n,ts=e}function q_(e){e.return!==null&&(Yo(e,1),AM(e,1,0))}function K_(e){for(;e===gv;)gv=$c[--Ic],$c[Ic]=null,yv=$c[--Ic],$c[Ic]=null;for(;e===Pl;)Pl=xa[--ba],xa[ba]=null,ts=xa[--ba],xa[ba]=null,es=xa[--ba],xa[ba]=null}var ia=null,aa=null,ar=!1,Ja=null;function OM(e,t){var r=ja(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ia=e,aa=uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ia=e,aa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pl!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ja(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ia=e,aa=null,!0):!1;default:return!1}}function Nw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pw(e){if(ar){var t=aa;if(t){var r=t;if(!gP(e,t)){if(Nw(e))throw Error(ve(418));t=uo(r.nextSibling);var n=ia;t&&gP(e,t)?OM(n,r):(e.flags=e.flags&-4097|2,ar=!1,ia=e)}}else{if(Nw(e))throw Error(ve(418));e.flags=e.flags&-4097|2,ar=!1,ia=e}}}function yP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function tp(e){if(e!==ia)return!1;if(!ar)return yP(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jw(e.type,e.memoizedProps)),t&&(t=aa)){if(Nw(e))throw TM(),Error(ve(418));for(;t;)OM(e,t),t=uo(t.nextSibling)}if(yP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){aa=uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}aa=null}}else aa=ia?uo(e.stateNode.nextSibling):null;return!0}function TM(){for(var e=aa;e;)e=uo(e.nextSibling)}function yu(){aa=ia=null,ar=!1}function G_(e){Ja===null?Ja=[e]:Ja.push(e)}var IV=ws.ReactCurrentBatchConfig;function Zd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function rp(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xP(e){var t=e._init;return t(e._payload)}function RM(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=po(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,_){return x===null||x.tag!==6?(x=z0(b,g.mode,_),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,_){var j=b.type;return j===Ec?d(g,x,b.props.children,_,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ls&&xP(j)===x.type)?(_=a(x,b.props),_.ref=Zd(g,x,b),_.return=g,_):(_=Qp(b.type,b.key,b.props,null,g.mode,_),_.ref=Zd(g,x,b),_.return=g,_)}function u(g,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=U0(b,g.mode,_),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function d(g,x,b,_,j){return x===null||x.tag!==7?(x=_l(b,g.mode,_,j),x.return=g,x):(x=a(x,b),x.return=g,x)}function f(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=z0(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hm:return b=Qp(x.type,x.key,x.props,null,g.mode,b),b.ref=Zd(g,null,x),b.return=g,b;case kc:return x=U0(x,g.mode,b),x.return=g,x;case Ls:var _=x._init;return f(g,_(x._payload),b)}if(_f(x)||Gd(x))return x=_l(x,g.mode,b,null),x.return=g,x;rp(g,x)}return null}function h(g,x,b,_){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hm:return b.key===j?c(g,x,b,_):null;case kc:return b.key===j?u(g,x,b,_):null;case Ls:return j=b._init,h(g,x,j(b._payload),_)}if(_f(b)||Gd(b))return j!==null?null:d(g,x,b,_,null);rp(g,b)}return null}function m(g,x,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(x,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hm:return g=g.get(_.key===null?b:_.key)||null,c(x,g,_,j);case kc:return g=g.get(_.key===null?b:_.key)||null,u(x,g,_,j);case Ls:var S=_._init;return m(g,x,b,S(_._payload),j)}if(_f(_)||Gd(_))return g=g.get(b)||null,d(x,g,_,j,null);rp(x,_)}return null}function y(g,x,b,_){for(var j=null,S=null,C=x,N=x=0,P=null;C!==null&&N<b.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var E=h(g,C,b[N],_);if(E===null){C===null&&(C=P);break}e&&C&&E.alternate===null&&t(g,C),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E,C=P}if(N===b.length)return r(g,C),ar&&Yo(g,N),j;if(C===null){for(;N<b.length;N++)C=f(g,b[N],_),C!==null&&(x=i(C,x,N),S===null?j=C:S.sibling=C,S=C);return ar&&Yo(g,N),j}for(C=n(g,C);N<b.length;N++)P=m(C,g,N,b[N],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),x=i(P,x,N),S===null?j=P:S.sibling=P,S=P);return e&&C.forEach(function(O){return t(g,O)}),ar&&Yo(g,N),j}function p(g,x,b,_){var j=Gd(b);if(typeof j!="function")throw Error(ve(150));if(b=j.call(b),b==null)throw Error(ve(151));for(var S=j=null,C=x,N=x=0,P=null,E=b.next();C!==null&&!E.done;N++,E=b.next()){C.index>N?(P=C,C=null):P=C.sibling;var O=h(g,C,E.value,_);if(O===null){C===null&&(C=P);break}e&&C&&O.alternate===null&&t(g,C),x=i(O,x,N),S===null?j=O:S.sibling=O,S=O,C=P}if(E.done)return r(g,C),ar&&Yo(g,N),j;if(C===null){for(;!E.done;N++,E=b.next())E=f(g,E.value,_),E!==null&&(x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return ar&&Yo(g,N),j}for(C=n(g,C);!E.done;N++,E=b.next())E=m(C,g,N,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?N:E.key),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return e&&C.forEach(function(T){return t(g,T)}),ar&&Yo(g,N),j}function v(g,x,b,_){if(typeof b=="object"&&b!==null&&b.type===Ec&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hm:e:{for(var j=b.key,S=x;S!==null;){if(S.key===j){if(j=b.type,j===Ec){if(S.tag===7){r(g,S.sibling),x=a(S,b.props.children),x.return=g,g=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ls&&xP(j)===S.type){r(g,S.sibling),x=a(S,b.props),x.ref=Zd(g,S,b),x.return=g,g=x;break e}r(g,S);break}else t(g,S);S=S.sibling}b.type===Ec?(x=_l(b.props.children,g.mode,_,b.key),x.return=g,g=x):(_=Qp(b.type,b.key,b.props,null,g.mode,_),_.ref=Zd(g,x,b),_.return=g,g=_)}return o(g);case kc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=U0(b,g.mode,_),x.return=g,g=x}return o(g);case Ls:return S=b._init,v(g,x,S(b._payload),_)}if(_f(b))return y(g,x,b,_);if(Gd(b))return p(g,x,b,_);rp(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=z0(b,g.mode,_),x.return=g,g=x),o(g)):r(g,x)}return v}var xu=RM(!0),MM=RM(!1),xv=Ao(null),bv=null,Dc=null,Y_=null;function X_(){Y_=Dc=bv=null}function Q_(e){var t=xv.current;rr(xv),e._currentValue=t}function kw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qc(e,t){bv=e,Y_=Dc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Y_!==e)if(e={context:e,memoizedValue:t,next:null},Dc===null){if(bv===null)throw Error(ve(308));Dc=e,bv.dependencies={lanes:0,firstContext:e}}else Dc=Dc.next=e;return t}var sl=null;function J_(e){sl===null?sl=[e]:sl.push(e)}function $M(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,J_(t)):(r.next=a.next,a.next=r),t.interleaved=r,fs(e,n)}function fs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fs=!1;function Z_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,jt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,fs(e,r)}return a=n.interleaved,a===null?(t.next=t,J_(n)):(t.next=a.next,a.next=t),n.interleaved=t,fs(e,r)}function Hp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,L_(e,r)}}function bP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wv(e,t,r,n){var a=e.updateQueue;Fs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,p=l;switch(h=t,m=r,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=dr({},f,h);break e;case 2:Fs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);El|=o,e.lanes=o,e.memoizedState=f}}function wP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var Sm={},ki=Ao(Sm),dh=Ao(Sm),fh=Ao(Sm);function ol(e){if(e===Sm)throw Error(ve(174));return e}function eS(e,t){switch(qt(fh,t),qt(dh,e),qt(ki,Sm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lw(t,e)}rr(ki),qt(ki,t)}function bu(){rr(ki),rr(dh),rr(fh)}function DM(e){ol(fh.current);var t=ol(ki.current),r=lw(t,e.type);t!==r&&(qt(dh,e),qt(ki,r))}function tS(e){dh.current===e&&(rr(ki),rr(dh))}var or=Ao(0);function jv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $0=[];function rS(){for(var e=0;e<$0.length;e++)$0[e]._workInProgressVersionPrimary=null;$0.length=0}var qp=ws.ReactCurrentDispatcher,I0=ws.ReactCurrentBatchConfig,kl=0,cr=null,zr=null,Gr=null,_v=!1,$f=!1,hh=0,DV=0;function mn(){throw Error(ve(321))}function nS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!li(e[r],t[r]))return!1;return!0}function aS(e,t,r,n,a,i){if(kl=i,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qp.current=e===null||e.memoizedState===null?zV:UV,e=r(n,a),$f){i=0;do{if($f=!1,hh=0,25<=i)throw Error(ve(301));i+=1,Gr=zr=null,t.updateQueue=null,qp.current=VV,e=r(n,a)}while($f)}if(qp.current=Sv,t=zr!==null&&zr.next!==null,kl=0,Gr=zr=cr=null,_v=!1,t)throw Error(ve(300));return e}function iS(){var e=hh!==0;return hh=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?cr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function Pa(){if(zr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=Gr===null?cr.memoizedState:Gr.next;if(t!==null)Gr=t,zr=e;else{if(e===null)throw Error(ve(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},Gr===null?cr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function mh(e,t){return typeof t=="function"?t(e):t}function D0(e){var t=Pa(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=zr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((kl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,cr.lanes|=d,El|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,li(n,t.memoizedState)||(Bn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,cr.lanes|=i,El|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function L0(e){var t=Pa(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);li(i,t.memoizedState)||(Bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function LM(){}function FM(e,t){var r=cr,n=Pa(),a=t(),i=!li(n.memoizedState,a);if(i&&(n.memoizedState=a,Bn=!0),n=n.queue,sS(UM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,ph(9,zM.bind(null,r,n,a,t),void 0,null),Xr===null)throw Error(ve(349));kl&30||BM(r,t,a)}return a}function BM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zM(e,t,r,n){t.value=r,t.getSnapshot=n,VM(t)&&WM(e)}function UM(e,t,r){return r(function(){VM(t)&&WM(e)})}function VM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!li(e,r)}catch{return!0}}function WM(e){var t=fs(e,1);t!==null&&ni(t,e,1,-1)}function jP(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:e},t.queue=e,e=e.dispatch=BV.bind(null,cr,e),[t.memoizedState,e]}function ph(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function HM(){return Pa().memoizedState}function Kp(e,t,r,n){var a=pi();cr.flags|=e,a.memoizedState=ph(1|t,r,void 0,n===void 0?null:n)}function _y(e,t,r,n){var a=Pa();n=n===void 0?null:n;var i=void 0;if(zr!==null){var o=zr.memoizedState;if(i=o.destroy,n!==null&&nS(n,o.deps)){a.memoizedState=ph(t,r,i,n);return}}cr.flags|=e,a.memoizedState=ph(1|t,r,i,n)}function _P(e,t){return Kp(8390656,8,e,t)}function sS(e,t){return _y(2048,8,e,t)}function qM(e,t){return _y(4,2,e,t)}function KM(e,t){return _y(4,4,e,t)}function GM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YM(e,t,r){return r=r!=null?r.concat([e]):null,_y(4,4,GM.bind(null,t,e),r)}function oS(){}function XM(e,t){var r=Pa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QM(e,t){var r=Pa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function JM(e,t,r){return kl&21?(li(r,t)||(r=nM(),cr.lanes|=r,El|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=r)}function LV(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=I0.transition;I0.transition={};try{e(!1),t()}finally{$t=r,I0.transition=n}}function ZM(){return Pa().memoizedState}function FV(e,t,r){var n=mo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},e$(e))t$(t,r);else if(r=$M(e,t,r,n),r!==null){var a=On();ni(r,e,n,a),r$(r,t,n)}}function BV(e,t,r){var n=mo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(e$(e))t$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,li(l,o)){var c=t.interleaved;c===null?(a.next=a,J_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=$M(e,t,a,n),r!==null&&(a=On(),ni(r,e,n,a),r$(r,t,n))}}function e$(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function t$(e,t){$f=_v=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,L_(e,r)}}var Sv={readContext:Na,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},zV={readContext:Na,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:Na,useEffect:_P,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kp(4194308,4,GM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kp(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FV.bind(null,cr,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:jP,useDebugValue:oS,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=jP(!1),t=e[0];return e=LV.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=cr,a=pi();if(ar){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),Xr===null)throw Error(ve(349));kl&30||BM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,_P(UM.bind(null,n,i,e),[e]),n.flags|=2048,ph(9,zM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pi(),t=Xr.identifierPrefix;if(ar){var r=ts,n=es;r=(n&~(1<<32-ri(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UV={readContext:Na,useCallback:XM,useContext:Na,useEffect:sS,useImperativeHandle:YM,useInsertionEffect:qM,useLayoutEffect:KM,useMemo:QM,useReducer:D0,useRef:HM,useState:function(){return D0(mh)},useDebugValue:oS,useDeferredValue:function(e){var t=Pa();return JM(t,zr.memoizedState,e)},useTransition:function(){var e=D0(mh)[0],t=Pa().memoizedState;return[e,t]},useMutableSource:LM,useSyncExternalStore:FM,useId:ZM,unstable_isNewReconciler:!1},VV={readContext:Na,useCallback:XM,useContext:Na,useEffect:sS,useImperativeHandle:YM,useInsertionEffect:qM,useLayoutEffect:KM,useMemo:QM,useReducer:L0,useRef:HM,useState:function(){return L0(mh)},useDebugValue:oS,useDeferredValue:function(e){var t=Pa();return zr===null?t.memoizedState=e:JM(t,zr.memoizedState,e)},useTransition:function(){var e=L0(mh)[0],t=Pa().memoizedState;return[e,t]},useMutableSource:LM,useSyncExternalStore:FM,useId:ZM,unstable_isNewReconciler:!1};function Ua(e,t){if(e&&e.defaultProps){t=dr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ew(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sy={isMounted:function(e){return(e=e._reactInternals)?ql(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=On(),a=mo(e),i=is(n,a);i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(ni(t,e,a,n),Hp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=On(),a=mo(e),i=is(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(ni(t,e,a,n),Hp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=On(),n=mo(e),a=is(r,n);a.tag=2,t!=null&&(a.callback=t),t=fo(e,a,n),t!==null&&(ni(t,e,n,r),Hp(t,e,n))}};function SP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!oh(r,n)||!oh(a,i):!0}function n$(e,t,r){var n=!1,a=jo,i=t.contextType;return typeof i=="object"&&i!==null?i=Na(i):(a=Wn(t)?Nl:_n.current,n=t.contextTypes,i=(n=n!=null)?gu(e,a):jo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function CP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sy.enqueueReplaceState(t,t.state,null)}function Aw(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Z_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Na(i):(i=Wn(t)?Nl:_n.current,a.context=gu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ew(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sy.enqueueReplaceState(a,a.state,null),wv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wu(e,t){try{var r="",n=t;do r+=g8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function F0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ow(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WV=typeof WeakMap=="function"?WeakMap:Map;function a$(e,t,r){r=is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nv||(Nv=!0,zw=n),Ow(e,t)},r}function i$(e,t,r){r=is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ow(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ow(e,t),typeof n!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function NP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=a6.bind(null,e,t,r),t.then(e,e))}function PP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=is(-1,1),t.tag=2,fo(r,t,1))),r.lanes|=1),e)}var HV=ws.ReactCurrentOwner,Bn=!1;function Cn(e,t,r,n){t.child=e===null?MM(t,null,r,n):xu(t,e.child,r,n)}function EP(e,t,r,n,a){r=r.render;var i=t.ref;return Qc(t,a),n=aS(e,t,r,n,i,a),r=iS(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(ar&&r&&q_(t),t.flags|=1,Cn(e,t,n,a),t.child)}function AP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!pS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,s$(e,t,i,n,a)):(e=Qp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:oh,r(o,n)&&e.ref===t.ref)return hs(e,t,a)}return t.flags|=1,e=po(i,n),e.ref=t.ref,e.return=t,t.child=e}function s$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(oh(i,n)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,hs(e,t,a)}return Tw(e,t,r,n,a)}function o$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Fc,Jn),Jn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Fc,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qt(Fc,Jn),Jn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qt(Fc,Jn),Jn|=n;return Cn(e,t,a,r),t.child}function l$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tw(e,t,r,n,a){var i=Wn(r)?Nl:_n.current;return i=gu(t,i),Qc(t,a),r=aS(e,t,r,n,i,a),n=iS(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(ar&&n&&q_(t),t.flags|=1,Cn(e,t,r,a),t.child)}function OP(e,t,r,n,a){if(Wn(r)){var i=!0;vv(t)}else i=!1;if(Qc(t,a),t.stateNode===null)Gp(e,t),n$(t,r,n),Aw(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Na(u):(u=Wn(r)?Nl:_n.current,u=gu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&CP(t,o,n,u),Fs=!1;var h=t.memoizedState;o.state=h,wv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Vn.current||Fs?(typeof d=="function"&&(Ew(t,r,d,n),c=t.memoizedState),(l=Fs||SP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,IM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ua(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Na(c):(c=Wn(r)?Nl:_n.current,c=gu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&CP(t,o,n,c),Fs=!1,h=t.memoizedState,o.state=h,wv(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||Vn.current||Fs?(typeof m=="function"&&(Ew(t,r,m,n),y=t.memoizedState),(u=Fs||SP(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Rw(e,t,r,n,i,a)}function Rw(e,t,r,n,a,i){l$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&vP(t,r,!1),hs(e,t,i);n=t.stateNode,HV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xu(t,e.child,null,i),t.child=xu(t,null,l,i)):Cn(e,t,l,i),t.memoizedState=n.state,a&&vP(t,r,!0),t.child}function c$(e){var t=e.stateNode;t.pendingContext?pP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pP(e,t.context,!1),eS(e,t.containerInfo)}function TP(e,t,r,n,a){return yu(),G_(a),t.flags|=256,Cn(e,t,r,n),t.child}var Mw={dehydrated:null,treeContext:null,retryLane:0};function $w(e){return{baseLanes:e,cachePool:null,transitions:null}}function u$(e,t,r){var n=t.pendingProps,a=or.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(or,a&1),e===null)return Pw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Py(o,n,0,null),e=_l(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$w(r),t.memoizedState=Mw,e):lS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return qV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=po(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=po(l,i):(i=_l(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?$w(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Mw,n}return i=e.child,e=i.sibling,n=po(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lS(e,t){return t=Py({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function np(e,t,r,n){return n!==null&&G_(n),xu(t,e.child,null,r),e=lS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=F0(Error(ve(422))),np(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Py({mode:"visible",children:n.children},a,0,null),i=_l(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xu(t,e.child,null,o),t.child.memoizedState=$w(o),t.memoizedState=Mw,i);if(!(t.mode&1))return np(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=F0(i,n,void 0),np(e,t,o,n)}if(l=(o&e.childLanes)!==0,Bn||l){if(n=Xr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fs(e,a),ni(n,e,a,-1))}return mS(),n=F0(Error(ve(421))),np(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=i6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,aa=uo(a.nextSibling),ia=t,ar=!0,Ja=null,e!==null&&(xa[ba++]=es,xa[ba++]=ts,xa[ba++]=Pl,es=e.id,ts=e.overflow,Pl=t),t=lS(t,n.children),t.flags|=4096,t)}function RP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kw(e.return,t,r)}function B0(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function d$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Cn(e,t,n.children,r),n=or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RP(e,r,t);else if(e.tag===19)RP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(or,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&jv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),B0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&jv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}B0(t,!0,r,null,i);break;case"together":B0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KV(e,t,r){switch(t.tag){case 3:c$(t),yu();break;case 5:DM(t);break;case 1:Wn(t.type)&&vv(t);break;case 4:eS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;qt(xv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(or,or.current&1),t.flags|=128,null):r&t.child.childLanes?u$(e,t,r):(qt(or,or.current&1),e=hs(e,t,r),e!==null?e.sibling:null);qt(or,or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return d$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(or,or.current),n)break;return null;case 22:case 23:return t.lanes=0,o$(e,t,r)}return hs(e,t,r)}var f$,Iw,h$,m$;f$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iw=function(){};h$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ol(ki.current);var i=null;switch(r){case"input":a=aw(e,a),n=aw(e,n),i=[];break;case"select":a=dr({},a,{value:void 0}),n=dr({},n,{value:void 0}),i=[];break;case"textarea":a=ow(e,a),n=ow(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mv)}cw(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Jt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};m$=function(e,t,r,n){r!==n&&(t.flags|=4)};function ef(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GV(e,t,r){var n=t.pendingProps;switch(K_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return Wn(t.type)&&pv(),pn(t),null;case 3:return n=t.stateNode,bu(),rr(Vn),rr(_n),rS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ja!==null&&(Ww(Ja),Ja=null))),Iw(e,t),pn(t),null;case 5:tS(t);var a=ol(fh.current);if(r=t.type,e!==null&&t.stateNode!=null)h$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return pn(t),null}if(e=ol(ki.current),tp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xi]=t,n[uh]=i,e=(t.mode&1)!==0,r){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(a=0;a<Cf.length;a++)Jt(Cf[a],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":UN(n,i),Jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Jt("invalid",n);break;case"textarea":WN(n,i),Jt("invalid",n)}cw(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ep(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ep(n.textContent,l,e),a=["children",""+l]):eh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Jt("scroll",n)}switch(r){case"input":qm(n),VN(n,i,!0);break;case"textarea":qm(n),HN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xi]=t,e[uh]=n,f$(e,t,!1,!1),t.stateNode=e;e:{switch(o=uw(r,n),r){case"dialog":Jt("cancel",e),Jt("close",e),a=n;break;case"iframe":case"object":case"embed":Jt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Cf.length;a++)Jt(Cf[a],e);a=n;break;case"source":Jt("error",e),a=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),a=n;break;case"details":Jt("toggle",e),a=n;break;case"input":UN(e,n),a=aw(e,n),Jt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=dr({},n,{value:void 0}),Jt("invalid",e);break;case"textarea":WN(e,n),a=ow(e,n),Jt("invalid",e);break;default:a=n}cw(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?HR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&VR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&th(e,c):typeof c=="number"&&th(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(eh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Jt("scroll",e):c!=null&&T_(e,i,c,o))}switch(r){case"input":qm(e),VN(e,n,!1);break;case"textarea":qm(e),HN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Kc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Kc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)m$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=ol(fh.current),ol(ki.current),tp(t)){if(n=t.stateNode,r=t.memoizedProps,n[xi]=t,(i=n.nodeValue!==r)&&(e=ia,e!==null))switch(e.tag){case 3:ep(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ep(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=t,t.stateNode=n}return pn(t),null;case 13:if(rr(or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&aa!==null&&t.mode&1&&!(t.flags&128))TM(),yu(),t.flags|=98560,i=!1;else if(i=tp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[xi]=t}else yu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),i=!1}else Ja!==null&&(Ww(Ja),Ja=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Vr===0&&(Vr=3):mS())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return bu(),Iw(e,t),e===null&&lh(t.stateNode.containerInfo),pn(t),null;case 10:return Q_(t.type._context),pn(t),null;case 17:return Wn(t.type)&&pv(),pn(t),null;case 19:if(rr(or),i=t.memoizedState,i===null)return pn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ef(i,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jv(e),o!==null){for(t.flags|=128,ef(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(or,or.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nr()>ju&&(t.flags|=128,n=!0,ef(i,!1),t.lanes=4194304)}else{if(!n)if(e=jv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ef(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ar)return pn(t),null}else 2*Nr()-i.renderingStartTime>ju&&r!==1073741824&&(t.flags|=128,n=!0,ef(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nr(),t.sibling=null,r=or.current,qt(or,n?r&1|2:r&1),t):(pn(t),null);case 22:case 23:return hS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jn&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function YV(e,t){switch(K_(t),t.tag){case 1:return Wn(t.type)&&pv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bu(),rr(Vn),rr(_n),rS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tS(t),null;case 13:if(rr(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));yu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(or),null;case 4:return bu(),null;case 10:return Q_(t.type._context),null;case 22:case 23:return hS(),null;case 24:return null;default:return null}}var ap=!1,bn=!1,XV=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Lc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pr(e,t,n)}else r.current=null}function Dw(e,t,r){try{r()}catch(n){pr(e,t,n)}}var MP=!1;function QV(e,t){if(bw=dv,e=xM(),H_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ww={focusedElem:e,selectionRange:r},dv=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,v=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ua(t.type,p),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){pr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return y=MP,MP=!1,y}function If(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Dw(t,r,i)}a=a.next}while(a!==n)}}function Cy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p$(e){var t=e.alternate;t!==null&&(e.alternate=null,p$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[uh],delete t[Sw],delete t[RV],delete t[MV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v$(e){return e.tag===5||e.tag===3||e.tag===4}function $P(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mv));else if(n!==4&&(e=e.child,e!==null))for(Fw(e,t,r),e=e.sibling;e!==null;)Fw(e,t,r),e=e.sibling}function Bw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bw(e,t,r),e=e.sibling;e!==null;)Bw(e,t,r),e=e.sibling}var rn=null,Ga=!1;function Os(e,t,r){for(r=r.child;r!==null;)g$(e,t,r),r=r.sibling}function g$(e,t,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(gy,r)}catch{}switch(r.tag){case 5:bn||Lc(r,t);case 6:var n=rn,a=Ga;rn=null,Os(e,t,r),rn=n,Ga=a,rn!==null&&(Ga?(e=rn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rn.removeChild(r.stateNode));break;case 18:rn!==null&&(Ga?(e=rn,r=r.stateNode,e.nodeType===8?R0(e.parentNode,r):e.nodeType===1&&R0(e,r),ih(e)):R0(rn,r.stateNode));break;case 4:n=rn,a=Ga,rn=r.stateNode.containerInfo,Ga=!0,Os(e,t,r),rn=n,Ga=a;break;case 0:case 11:case 14:case 15:if(!bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dw(r,t,o),a=a.next}while(a!==n)}Os(e,t,r);break;case 1:if(!bn&&(Lc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){pr(r,t,l)}Os(e,t,r);break;case 21:Os(e,t,r);break;case 22:r.mode&1?(bn=(n=bn)||r.memoizedState!==null,Os(e,t,r),bn=n):Os(e,t,r);break;default:Os(e,t,r)}}function IP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XV),t.forEach(function(n){var a=s6.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Da(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Ga=!1;break e;case 3:rn=l.stateNode.containerInfo,Ga=!0;break e;case 4:rn=l.stateNode.containerInfo,Ga=!0;break e}l=l.return}if(rn===null)throw Error(ve(160));g$(i,o,a),rn=null,Ga=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){pr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y$(t,e),t=t.sibling}function y$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Da(t,e),hi(e),n&4){try{If(3,e,e.return),Cy(3,e)}catch(p){pr(e,e.return,p)}try{If(5,e,e.return)}catch(p){pr(e,e.return,p)}}break;case 1:Da(t,e),hi(e),n&512&&r!==null&&Lc(r,r.return);break;case 5:if(Da(t,e),hi(e),n&512&&r!==null&&Lc(r,r.return),e.flags&32){var a=e.stateNode;try{th(a,"")}catch(p){pr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&BR(a,i),uw(l,o);var u=uw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?HR(a,f):d==="dangerouslySetInnerHTML"?VR(a,f):d==="children"?th(a,f):T_(a,d,f,u)}switch(l){case"input":iw(a,i);break;case"textarea":zR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kc(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Kc(a,!!i.multiple,i.defaultValue,!0):Kc(a,!!i.multiple,i.multiple?[]:"",!1))}a[uh]=i}catch(p){pr(e,e.return,p)}}break;case 6:if(Da(t,e),hi(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){pr(e,e.return,p)}}break;case 3:if(Da(t,e),hi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ih(t.containerInfo)}catch(p){pr(e,e.return,p)}break;case 4:Da(t,e),hi(e);break;case 13:Da(t,e),hi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(dS=Nr())),n&4&&IP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(bn=(u=bn)||d,Da(t,e),bn=u):Da(t,e),hi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,m=h.child,h.tag){case 0:case 11:case 14:case 15:If(4,h,h.return);break;case 1:Lc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){pr(n,r,p)}}break;case 5:Lc(h,h.return);break;case 22:if(h.memoizedState!==null){LP(f);continue}}m!==null?(m.return=h,Me=m):LP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WR("display",o))}catch(p){pr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){pr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Da(t,e),hi(e),n&4&&IP(e);break;case 21:break;default:Da(t,e),hi(e)}}function hi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(v$(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(th(a,""),n.flags&=-33);var i=$P(e);Bw(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$P(e);Fw(e,l,o);break;default:throw Error(ve(161))}}catch(c){pr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JV(e,t,r){Me=e,x$(e)}function x$(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var a=Me,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||ap;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||bn;l=ap;var u=bn;if(ap=o,(bn=c)&&!u)for(Me=a;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?FP(a):c!==null?(c.return=o,Me=c):FP(a);for(;i!==null;)Me=i,x$(i),i=i.sibling;Me=a,ap=l,bn=u}DP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Me=i):DP(e)}}function DP(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||Cy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ua(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ih(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}bn||t.flags&512&&Lw(t)}catch(h){pr(t,t.return,h)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function LP(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function FP(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cy(4,t)}catch(c){pr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){pr(t,a,c)}}var i=t.return;try{Lw(t)}catch(c){pr(t,i,c)}break;case 5:var o=t.return;try{Lw(t)}catch(c){pr(t,o,c)}}}catch(c){pr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var ZV=Math.ceil,Cv=ws.ReactCurrentDispatcher,cS=ws.ReactCurrentOwner,Sa=ws.ReactCurrentBatchConfig,jt=0,Xr=null,Mr=null,sn=0,Jn=0,Fc=Ao(0),Vr=0,vh=null,El=0,Ny=0,uS=0,Df=null,Fn=null,dS=0,ju=1/0,Gi=null,Nv=!1,zw=null,ho=null,ip=!1,Zs=null,Pv=0,Lf=0,Uw=null,Yp=-1,Xp=0;function On(){return jt&6?Nr():Yp!==-1?Yp:Yp=Nr()}function mo(e){return e.mode&1?jt&2&&sn!==0?sn&-sn:IV.transition!==null?(Xp===0&&(Xp=nM()),Xp):(e=$t,e!==0||(e=window.event,e=e===void 0?16:uM(e.type)),e):1}function ni(e,t,r,n){if(50<Lf)throw Lf=0,Uw=null,Error(ve(185));wm(e,r,n),(!(jt&2)||e!==Xr)&&(e===Xr&&(!(jt&2)&&(Ny|=r),Vr===4&&Ws(e,sn)),Hn(e,n),r===1&&jt===0&&!(t.mode&1)&&(ju=Nr()+500,jy&&Oo()))}function Hn(e,t){var r=e.callbackNode;I8(e,t);var n=uv(e,e===Xr?sn:0);if(n===0)r!==null&&GN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&GN(r),t===1)e.tag===0?$V(BP.bind(null,e)):EM(BP.bind(null,e)),OV(function(){!(jt&6)&&Oo()}),r=null;else{switch(aM(n)){case 1:r=D_;break;case 4:r=tM;break;case 16:r=cv;break;case 536870912:r=rM;break;default:r=cv}r=P$(r,b$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function b$(e,t){if(Yp=-1,Xp=0,jt&6)throw Error(ve(327));var r=e.callbackNode;if(Jc()&&e.callbackNode!==r)return null;var n=uv(e,e===Xr?sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kv(e,n);else{t=n;var a=jt;jt|=2;var i=j$();(Xr!==e||sn!==t)&&(Gi=null,ju=Nr()+500,jl(e,t));do try{r6();break}catch(l){w$(e,l)}while(!0);X_(),Cv.current=i,jt=a,Mr!==null?t=0:(Xr=null,sn=0,t=Vr)}if(t!==0){if(t===2&&(a=pw(e),a!==0&&(n=a,t=Vw(e,a))),t===1)throw r=vh,jl(e,0),Ws(e,n),Hn(e,Nr()),r;if(t===6)Ws(e,n);else{if(a=e.current.alternate,!(n&30)&&!e6(a)&&(t=kv(e,n),t===2&&(i=pw(e),i!==0&&(n=i,t=Vw(e,i))),t===1))throw r=vh,jl(e,0),Ws(e,n),Hn(e,Nr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:Xo(e,Fn,Gi);break;case 3:if(Ws(e,n),(n&130023424)===n&&(t=dS+500-Nr(),10<t)){if(uv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){On(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_w(Xo.bind(null,e,Fn,Gi),t);break}Xo(e,Fn,Gi);break;case 4:if(Ws(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ri(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZV(n/1960))-n,10<n){e.timeoutHandle=_w(Xo.bind(null,e,Fn,Gi),n);break}Xo(e,Fn,Gi);break;case 5:Xo(e,Fn,Gi);break;default:throw Error(ve(329))}}}return Hn(e,Nr()),e.callbackNode===r?b$.bind(null,e):null}function Vw(e,t){var r=Df;return e.current.memoizedState.isDehydrated&&(jl(e,t).flags|=256),e=kv(e,t),e!==2&&(t=Fn,Fn=r,t!==null&&Ww(t)),e}function Ww(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function e6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!li(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t){for(t&=~uS,t&=~Ny,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),n=1<<r;e[r]=-1,t&=~n}}function BP(e){if(jt&6)throw Error(ve(327));Jc();var t=uv(e,0);if(!(t&1))return Hn(e,Nr()),null;var r=kv(e,t);if(e.tag!==0&&r===2){var n=pw(e);n!==0&&(t=n,r=Vw(e,n))}if(r===1)throw r=vh,jl(e,0),Ws(e,t),Hn(e,Nr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,Fn,Gi),Hn(e,Nr()),null}function fS(e,t){var r=jt;jt|=1;try{return e(t)}finally{jt=r,jt===0&&(ju=Nr()+500,jy&&Oo())}}function Al(e){Zs!==null&&Zs.tag===0&&!(jt&6)&&Jc();var t=jt;jt|=1;var r=Sa.transition,n=$t;try{if(Sa.transition=null,$t=1,e)return e()}finally{$t=n,Sa.transition=r,jt=t,!(jt&6)&&Oo()}}function hS(){Jn=Fc.current,rr(Fc)}function jl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,AV(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch(K_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pv();break;case 3:bu(),rr(Vn),rr(_n),rS();break;case 5:tS(n);break;case 4:bu();break;case 13:rr(or);break;case 19:rr(or);break;case 10:Q_(n.type._context);break;case 22:case 23:hS()}r=r.return}if(Xr=e,Mr=e=po(e.current,null),sn=Jn=t,Vr=0,vh=null,uS=Ny=El=0,Fn=Df=null,sl!==null){for(t=0;t<sl.length;t++)if(r=sl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}sl=null}return e}function w$(e,t){do{var r=Mr;try{if(X_(),qp.current=Sv,_v){for(var n=cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_v=!1}if(kl=0,Gr=zr=cr=null,$f=!1,hh=0,cS.current=null,r===null||r.return===null){Vr=1,vh=t,Mr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=PP(o);if(m!==null){m.flags&=-257,kP(m,o,l,i,t),m.mode&1&&NP(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if(!(t&1)){NP(i,u,t),mS();break e}c=Error(ve(426))}}else if(ar&&l.mode&1){var v=PP(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),kP(v,o,l,i,t),G_(wu(c,l));break e}}i=c=wu(c,l),Vr!==4&&(Vr=2),Df===null?Df=[i]:Df.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=a$(i,c,t);bP(i,g);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=i$(i,l,t);bP(i,_);break e}}i=i.return}while(i!==null)}S$(r)}catch(j){t=j,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function j$(){var e=Cv.current;return Cv.current=Sv,e===null?Sv:e}function mS(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),Xr===null||!(El&268435455)&&!(Ny&268435455)||Ws(Xr,sn)}function kv(e,t){var r=jt;jt|=2;var n=j$();(Xr!==e||sn!==t)&&(Gi=null,jl(e,t));do try{t6();break}catch(a){w$(e,a)}while(!0);if(X_(),jt=r,Cv.current=n,Mr!==null)throw Error(ve(261));return Xr=null,sn=0,Vr}function t6(){for(;Mr!==null;)_$(Mr)}function r6(){for(;Mr!==null&&!P8();)_$(Mr)}function _$(e){var t=N$(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?S$(e):Mr=t,cS.current=null}function S$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=YV(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,Mr=null;return}}else if(r=GV(r,t,Jn),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Vr===0&&(Vr=5)}function Xo(e,t,r){var n=$t,a=Sa.transition;try{Sa.transition=null,$t=1,n6(e,t,r,n)}finally{Sa.transition=a,$t=n}return null}function n6(e,t,r,n){do Jc();while(Zs!==null);if(jt&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(D8(e,i),e===Xr&&(Mr=Xr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ip||(ip=!0,P$(cv,function(){return Jc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sa.transition,Sa.transition=null;var o=$t;$t=1;var l=jt;jt|=4,cS.current=null,QV(e,r),y$(r,e),_V(ww),dv=!!bw,ww=bw=null,e.current=r,JV(r),k8(),jt=l,$t=o,Sa.transition=i}else e.current=r;if(ip&&(ip=!1,Zs=e,Pv=a),i=e.pendingLanes,i===0&&(ho=null),O8(r.stateNode),Hn(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Nv)throw Nv=!1,e=zw,zw=null,e;return Pv&1&&e.tag!==0&&Jc(),i=e.pendingLanes,i&1?e===Uw?Lf++:(Lf=0,Uw=e):Lf=0,Oo(),null}function Jc(){if(Zs!==null){var e=aM(Pv),t=Sa.transition,r=$t;try{if(Sa.transition=null,$t=16>e?16:e,Zs===null)var n=!1;else{if(e=Zs,Zs=null,Pv=0,jt&6)throw Error(ve(331));var a=jt;for(jt|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:If(8,d,i)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,m=d.return;if(p$(d),d===u){Me=null;break}if(h!==null){h.return=m,Me=h;break}Me=m}}}var y=i.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:If(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Me=g;break e}Me=i.return}}var x=e.current;for(Me=x;Me!==null;){o=Me;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Me=b;else e:for(o=x;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cy(9,l)}}catch(j){pr(l,l.return,j)}if(l===o){Me=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Me=_;break e}Me=l.return}}if(jt=a,Oo(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(gy,e)}catch{}n=!0}return n}finally{$t=r,Sa.transition=t}}return!1}function zP(e,t,r){t=wu(r,t),t=a$(e,t,1),e=fo(e,t,1),t=On(),e!==null&&(wm(e,1,t),Hn(e,t))}function pr(e,t,r){if(e.tag===3)zP(e,e,r);else for(;t!==null;){if(t.tag===3){zP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ho===null||!ho.has(n))){e=wu(r,e),e=i$(t,e,1),t=fo(t,e,1),e=On(),t!==null&&(wm(t,1,e),Hn(t,e));break}}t=t.return}}function a6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=On(),e.pingedLanes|=e.suspendedLanes&r,Xr===e&&(sn&r)===r&&(Vr===4||Vr===3&&(sn&130023424)===sn&&500>Nr()-dS?jl(e,0):uS|=r),Hn(e,t)}function C$(e,t){t===0&&(e.mode&1?(t=Ym,Ym<<=1,!(Ym&130023424)&&(Ym=4194304)):t=1);var r=On();e=fs(e,t),e!==null&&(wm(e,t,r),Hn(e,r))}function i6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),C$(e,r)}function s6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),C$(e,r)}var N$;N$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Bn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bn=!1,KV(e,t,r);Bn=!!(e.flags&131072)}else Bn=!1,ar&&t.flags&1048576&&AM(t,yv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gp(e,t),e=t.pendingProps;var a=gu(t,_n.current);Qc(t,r),a=aS(null,t,n,e,a,r);var i=iS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(n)?(i=!0,vv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Z_(t),a.updater=Sy,t.stateNode=a,a._reactInternals=t,Aw(t,n,e,r),t=Rw(null,t,n,!0,i,r)):(t.tag=0,ar&&i&&q_(t),Cn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=l6(n),e=Ua(n,e),a){case 0:t=Tw(null,t,n,e,r);break e;case 1:t=OP(null,t,n,e,r);break e;case 11:t=EP(null,t,n,e,r);break e;case 14:t=AP(null,t,n,Ua(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ua(n,a),Tw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ua(n,a),OP(e,t,n,a,r);case 3:e:{if(c$(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,IM(e,t),wv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=wu(Error(ve(423)),t),t=TP(e,t,n,r,a);break e}else if(n!==a){a=wu(Error(ve(424)),t),t=TP(e,t,n,r,a);break e}else for(aa=uo(t.stateNode.containerInfo.firstChild),ia=t,ar=!0,Ja=null,r=MM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yu(),n===a){t=hs(e,t,r);break e}Cn(e,t,n,r)}t=t.child}return t;case 5:return DM(t),e===null&&Pw(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jw(n,a)?o=null:i!==null&&jw(n,i)&&(t.flags|=32),l$(e,t),Cn(e,t,o,r),t.child;case 6:return e===null&&Pw(t),null;case 13:return u$(e,t,r);case 4:return eS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xu(t,null,n,r):Cn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ua(n,a),EP(e,t,n,a,r);case 7:return Cn(e,t,t.pendingProps,r),t.child;case 8:return Cn(e,t,t.pendingProps.children,r),t.child;case 12:return Cn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qt(xv,n._currentValue),n._currentValue=o,i!==null)if(li(i.value,o)){if(i.children===a.children&&!Vn.current){t=hs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=is(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),kw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),kw(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Qc(t,r),a=Na(a),n=n(a),t.flags|=1,Cn(e,t,n,r),t.child;case 14:return n=t.type,a=Ua(n,t.pendingProps),a=Ua(n.type,a),AP(e,t,n,a,r);case 15:return s$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ua(n,a),Gp(e,t),t.tag=1,Wn(n)?(e=!0,vv(t)):e=!1,Qc(t,r),n$(t,n,a),Aw(t,n,a,r),Rw(null,t,n,!0,e,r);case 19:return d$(e,t,r);case 22:return o$(e,t,r)}throw Error(ve(156,t.tag))};function P$(e,t){return eM(e,t)}function o6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,r,n){return new o6(e,t,r,n)}function pS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l6(e){if(typeof e=="function")return pS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M_)return 11;if(e===$_)return 14}return 2}function po(e,t){var r=e.alternate;return r===null?(r=ja(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qp(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")pS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ec:return _l(r.children,a,i,t);case R_:o=8,a|=8;break;case ew:return e=ja(12,r,t,a|2),e.elementType=ew,e.lanes=i,e;case tw:return e=ja(13,r,t,a),e.elementType=tw,e.lanes=i,e;case rw:return e=ja(19,r,t,a),e.elementType=rw,e.lanes=i,e;case DR:return Py(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $R:o=10;break e;case IR:o=9;break e;case M_:o=11;break e;case $_:o=14;break e;case Ls:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=ja(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function _l(e,t,r,n){return e=ja(7,e,n,t),e.lanes=r,e}function Py(e,t,r,n){return e=ja(22,e,n,t),e.elementType=DR,e.lanes=r,e.stateNode={isHidden:!1},e}function z0(e,t,r){return e=ja(6,e,null,t),e.lanes=r,e}function U0(e,t,r){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c6(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j0(0),this.expirationTimes=j0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vS(e,t,r,n,a,i,o,l,c){return e=new c6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ja(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z_(i),e}function u6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function k$(e){if(!e)return jo;e=e._reactInternals;e:{if(ql(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Wn(r))return kM(e,r,t)}return t}function E$(e,t,r,n,a,i,o,l,c){return e=vS(r,n,!0,e,a,i,o,l,c),e.context=k$(null),r=e.current,n=On(),a=mo(r),i=is(n,a),i.callback=t??null,fo(r,i,a),e.current.lanes=a,wm(e,a,n),Hn(e,n),e}function ky(e,t,r,n){var a=t.current,i=On(),o=mo(a);return r=k$(r),t.context===null?t.context=r:t.pendingContext=r,t=is(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fo(a,t,o),e!==null&&(ni(e,a,o,i),Hp(e,a,o)),o}function Ev(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gS(e,t){UP(e,t),(e=e.alternate)&&UP(e,t)}function d6(){return null}var A$=typeof reportError=="function"?reportError:function(e){console.error(e)};function yS(e){this._internalRoot=e}Ey.prototype.render=yS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));ky(e,t,null,null)};Ey.prototype.unmount=yS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){ky(null,e,null,null)}),t[ds]=null}};function Ey(e){this._internalRoot=e}Ey.prototype.unstable_scheduleHydration=function(e){if(e){var t=oM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vs.length&&t!==0&&t<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&cM(e)}};function xS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VP(){}function f6(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Ev(o);i.call(u)}}var o=E$(t,n,e,0,null,!1,!1,"",VP);return e._reactRootContainer=o,e[ds]=o.current,lh(e.nodeType===8?e.parentNode:e),Al(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ev(c);l.call(u)}}var c=vS(e,0,!1,null,null,!1,!1,"",VP);return e._reactRootContainer=c,e[ds]=c.current,lh(e.nodeType===8?e.parentNode:e),Al(function(){ky(t,c,r,n)}),c}function Oy(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ev(o);l.call(c)}}ky(t,o,e,a)}else o=f6(r,t,e,a,n);return Ev(o)}iM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sf(t.pendingLanes);r!==0&&(L_(t,r|1),Hn(t,Nr()),!(jt&6)&&(ju=Nr()+500,Oo()))}break;case 13:Al(function(){var n=fs(e,1);if(n!==null){var a=On();ni(n,e,1,a)}}),gS(e,1)}};F_=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var r=On();ni(t,e,134217728,r)}gS(e,134217728)}};sM=function(e){if(e.tag===13){var t=mo(e),r=fs(e,t);if(r!==null){var n=On();ni(r,e,t,n)}gS(e,t)}};oM=function(){return $t};lM=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};fw=function(e,t,r){switch(t){case"input":if(iw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wy(n);if(!a)throw Error(ve(90));FR(n),iw(n,a)}}}break;case"textarea":zR(e,r);break;case"select":t=r.value,t!=null&&Kc(e,!!r.multiple,t,!1)}};GR=fS;YR=Al;var h6={usingClientEntryPoint:!1,Events:[_m,Rc,wy,qR,KR,fS]},tf={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m6={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=JR(e),e===null?null:e.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||d6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{gy=sp.inject(m6),Pi=sp}catch{}}da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h6;da.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xS(t))throw Error(ve(200));return u6(e,t,null,r)};da.createRoot=function(e,t){if(!xS(e))throw Error(ve(299));var r=!1,n="",a=A$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vS(e,1,!1,null,null,r,!1,n,a),e[ds]=t.current,lh(e.nodeType===8?e.parentNode:e),new yS(t)};da.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=JR(t),e=e===null?null:e.stateNode,e};da.flushSync=function(e){return Al(e)};da.hydrate=function(e,t,r){if(!Ay(t))throw Error(ve(200));return Oy(null,e,t,!0,r)};da.hydrateRoot=function(e,t,r){if(!xS(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=A$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=E$(t,null,e,1,r??null,a,!1,i,o),e[ds]=t.current,lh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ey(t)};da.render=function(e,t,r){if(!Ay(t))throw Error(ve(200));return Oy(null,e,t,!1,r)};da.unmountComponentAtNode=function(e){if(!Ay(e))throw Error(ve(40));return e._reactRootContainer?(Al(function(){Oy(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};da.unstable_batchedUpdates=fS;da.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ay(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Oy(e,t,r,!1,n)};da.version="18.3.1-next-f1338f8080-20240426";function O$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O$)}catch(e){console.error(e)}}O$(),OR.exports=da;var Kl=OR.exports;const T$=Ot(Kl);var R$,WP=Kl;R$=WP.createRoot,WP.hydrateRoot;const p6=1,v6=1e6;let V0=0;function g6(){return V0=(V0+1)%Number.MAX_SAFE_INTEGER,V0.toString()}const W0=new Map,HP=e=>{if(W0.has(e))return;const t=setTimeout(()=>{W0.delete(e),Ff({type:"REMOVE_TOAST",toastId:e})},v6);W0.set(e,t)},y6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,p6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?HP(r):e.toasts.forEach(n=>{HP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jp=[];let Zp={toasts:[]};function Ff(e){Zp=y6(Zp,e),Jp.forEach(t=>{t(Zp)})}function nn({...e}){const t=g6(),r=a=>Ff({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ff({type:"DISMISS_TOAST",toastId:t});return Ff({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function M$(){const[e,t]=w.useState(Zp);return w.useEffect(()=>(Jp.push(t),()=>{const r=Jp.indexOf(t);r>-1&&Jp.splice(r,1)}),[e]),{...e,toast:nn,dismiss:r=>Ff({type:"DISMISS_TOAST",toastId:r})}}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function qP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=qP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():qP(e[a],null)}}}}function rt(...e){return w.useCallback($$(...e),e)}function x6(e,t){const r=w.createContext(t),n=i=>{const{children:o,...l}=i,c=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function $n(e,t=[]){let r=[];function n(i,o){const l=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:m,...y}=f,p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=w.useMemo(()=>y,Object.values(y));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,y=w.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,b6(a,...t)]}function b6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ol(e){const t=w6(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),c=l.find(j6);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var I$=Ol("Slot");function w6(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=S6(a),l=_6(i,a.props);return a.type!==w.Fragment&&(l.ref=n?$$(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D$=Symbol("radix.slottable");function L$(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=D$,t}function j6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D$}function _6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function S6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ty(e){const t=e+"CollectionProvider",[r,n]=$n(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:g}=p,x=R.useRef(null),b=R.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:b,collectionRef:x,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Ol(l),u=R.forwardRef((p,v)=>{const{scope:g,children:x}=p,b=i(l,g),_=rt(v,b.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ol(d),m=R.forwardRef((p,v)=>{const{scope:g,children:x,...b}=p,_=R.useRef(null),j=rt(v,_),S=i(d,g);return R.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function y(p){const v=i(e+"CollectionConsumer",p);return R.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var C6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=C6.reduce((e,t)=>{const r=Ol(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F$(e,t){e&&Kl.flushSync(()=>e.dispatchEvent(t))}function Ur(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function N6(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var P6="DismissableLayer",Hw="dismissableLayer.update",k6="dismissableLayer.pointerDownOutside",E6="dismissableLayer.focusOutside",KP,B$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(B$),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),y=rt(t,C=>f(C)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(v),x=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=g,j=O6(C=>{const N=C.target,P=[...u.branches].some(E=>E.contains(N));!_||P||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),S=T6(C=>{const N=C.target;[...u.branches].some(E=>E.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return N6(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),GP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=KP)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),GP())},[d,u]),w.useEffect(()=>{const C=()=>m({});return document.addEventListener(Hw,C),()=>document.removeEventListener(Hw,C)},[]),s.jsx(Fe.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,j.onPointerDownCapture)})});vd.displayName=P6;var A6="DismissableLayerBranch",z$=w.forwardRef((e,t)=>{const r=w.useContext(B$),n=w.useRef(null),a=rt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Fe.div,{...e,ref:a})});z$.displayName=A6;function O6(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){U$(k6,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function T6(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&U$(E6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GP(){const e=new CustomEvent(Hw);document.dispatchEvent(e)}function U$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F$(a,i):a.dispatchEvent(i)}var R6=vd,M6=z$,Qr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},$6="Portal",Cm=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=w.useState(!1);Qr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?T$.createPortal(s.jsx(Fe.div,{...n,ref:t}),o):null});Cm.displayName=$6;function I6(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Kn=e=>{const{present:t,children:r}=e,n=D6(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=rt(n.ref,L6(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};Kn.displayName="Presence";function D6(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=I6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=op(n.current);i.current=l==="mounted"?u:"none"},[l]),Qr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=op(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Qr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=op(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=op(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function op(e){return(e==null?void 0:e.animationName)||"none"}function L6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var F6=E_[" useInsertionEffect ".trim().toString()]||Qr;function qn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=B6({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=z6(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function B6({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return F6(()=>{i.current=t},[t]),w.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function z6(e){return typeof e=="function"}var V$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),U6="VisuallyHidden",Ry=w.forwardRef((e,t)=>s.jsx(Fe.span,{...e,ref:t,style:{...V$,...e.style}}));Ry.displayName=U6;var V6=Ry,bS="ToastProvider",[wS,W6,H6]=Ty("Toast"),[W$,IOe]=$n("Toast",[H6]),[q6,My]=W$(bS),H$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bS}\`. Expected non-empty \`string\`.`),s.jsx(wS.Provider,{scope:t,children:s.jsx(q6,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};H$.displayName=bS;var q$="ToastViewport",K6=["F8"],qw="toast.viewportPause",Kw="toast.viewportResume",K$=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=K6,label:a="Notifications ({hotkey})",...i}=e,o=My(q$,r),l=W6(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=rt(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const v=g=>{var b;n.length!==0&&n.every(_=>g[_]||g.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),w.useEffect(()=>{const v=c.current,g=f.current;if(y&&v&&g){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(qw);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Kw);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!v.contains(S.relatedTarget)&&b()},j=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const p=w.useCallback(({tabbingDirection:v})=>{const x=l().map(b=>{const _=b.ref.current,j=[_,...sW(_)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return w.useEffect(()=>{const v=f.current;if(v){const g=x=>{var j,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,P=x.shiftKey;if(x.target===v&&P){(j=u.current)==null||j.focus();return}const T=p({tabbingDirection:P?"backwards":"forwards"}),A=T.findIndex(k=>k===N);H0(T.slice(A+1))?x.preventDefault():P?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[l,p]),s.jsxs(M6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(Gw,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});H0(v)}}),s.jsx(wS.Slot,{scope:r,children:s.jsx(Fe.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(Gw,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});H0(v)}})]})});K$.displayName=q$;var G$="ToastFocusProxy",Gw=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=My(G$,r);return s.jsx(Ry,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Gw.displayName=G$;var Nm="Toast",G6="toast.swipeStart",Y6="toast.swipeMove",X6="toast.swipeCancel",Q6="toast.swipeEnd",Y$=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=qn({prop:n,defaultProp:a??!0,onChange:i,caller:Nm});return s.jsx(Kn,{present:r||l,children:s.jsx(eW,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ur(e.onPause),onResume:Ur(e.onResume),onSwipeStart:Ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Y$.displayName=Nm;var[J6,Z6]=W$(Nm,{onClose(){}}),eW=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,p=My(Nm,r),[v,g]=w.useState(null),x=rt(t,k=>g(k)),b=w.useRef(null),_=w.useRef(null),j=a||p.duration,S=w.useRef(0),C=w.useRef(j),N=w.useRef(0),{onToastAdd:P,onToastRemove:E}=p,O=Ur(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),T=w.useCallback(k=>{!k||k===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(O,k))},[O]);w.useEffect(()=>{const k=p.viewport;if(k){const $=()=>{T(C.current),u==null||u()},D=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(N.current),c==null||c()};return k.addEventListener(qw,D),k.addEventListener(Kw,$),()=>{k.removeEventListener(qw,D),k.removeEventListener(Kw,$)}}},[p.viewport,j,c,u,T]),w.useEffect(()=>{i&&!p.isClosePausedRef.current&&T(j)},[i,j,p.isClosePausedRef,T]),w.useEffect(()=>(P(),()=>E()),[P,E]);const A=w.useMemo(()=>v?rI(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[A&&s.jsx(tW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),s.jsx(J6,{scope:r,onClose:O,children:Kl.createPortal(s.jsx(wS.ItemSlot,{scope:r,children:s.jsx(R6,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ee(e.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Ee(e.onPointerMove,k=>{if(!b.current)return;const $=k.clientX-b.current.x,D=k.clientY-b.current.y,M=!!_.current,I=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,B=I?L(0,$):0,Q=I?0:L(0,D),X=k.pointerType==="touch"?10:2,ne={x:B,y:Q},z={originalEvent:k,delta:ne};M?(_.current=ne,lp(Y6,f,z,{discrete:!1})):YP(ne,p.swipeDirection,X)?(_.current=ne,lp(G6,d,z,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs($)>X||Math.abs(D)>X)&&(b.current=null)}),onPointerUp:Ee(e.onPointerUp,k=>{const $=_.current,D=k.target;if(D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),_.current=null,b.current=null,$){const M=k.currentTarget,I={originalEvent:k,delta:$};YP($,p.swipeDirection,p.swipeThreshold)?lp(Q6,m,I,{discrete:!0}):lp(X6,h,I,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),tW=e=>{const{__scopeToast:t,children:r,...n}=e,a=My(Nm,t),[i,o]=w.useState(!1),[l,c]=w.useState(!1);return aW(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Cm,{asChild:!0,children:s.jsx(Ry,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},rW="ToastTitle",X$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Fe.div,{...n,ref:t})});X$.displayName=rW;var nW="ToastDescription",Q$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Fe.div,{...n,ref:t})});Q$.displayName=nW;var J$="ToastAction",Z$=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(tI,{altText:r,asChild:!0,children:s.jsx(jS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${J$}\`. Expected non-empty \`string\`.`),null)});Z$.displayName=J$;var eI="ToastClose",jS=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Z6(eI,r);return s.jsx(tI,{asChild:!0,children:s.jsx(Fe.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,a.onClose)})})});jS.displayName=eI;var tI=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function rI(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),iW(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...rI(n))}}),t}function lp(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F$(a,i):a.dispatchEvent(i)}var YP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function aW(e=()=>{}){const t=Ur(e);Qr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function iW(e){return e.nodeType===e.ELEMENT_NODE}function sW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function H0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oW=H$,nI=K$,aI=Y$,iI=X$,sI=Q$,oI=Z$,lI=jS;function cI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=cI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=cI(e))&&(n&&(n+=" "),n+=t);return n}const XP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,QP=tt,gd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return QP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=XP(d)||XP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,v]=y;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return QP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...cW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:uI("lucide",a),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(uW,{ref:i,iconNode:t,className:uI(`lucide-${lW(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Oe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Oe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Oe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Oe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Oe("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Oe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Oe("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Oe("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Oe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Oe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=Oe("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Oe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Oe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Oe("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Oe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Oe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Oe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Oe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kS="-",RW=e=>{const t=$W(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(kS);return l[0]===""&&l.length!==1&&l.shift(),wI(l,t)||MW(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},wI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?wI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(kS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},rk=/^\[(.+)\]$/,MW=e=>{if(rk.test(e)){const t=rk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$W=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return DW(Object.entries(e.classGroups),r).forEach(([i,o])=>{ej(o,n,i,t)}),n},ej=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:nk(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(IW(a)){ej(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ej(o,nk(t,i),r,n)})})},nk=(e,t)=>{let r=e;return t.split(kS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IW=e=>e.isThemeGetter,DW=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,LW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},jI="!",FW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(jI),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},BW=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zW=e=>({cache:LW(e.cacheSize),parseClassName:FW(e),...RW(e)}),UW=/\s+/,VW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(UW);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,p=n(y?h.substring(0,m):h);if(!p){if(!y){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=BW(d).join(":"),g=f?v+jI:v,x=g+p;if(i.includes(x))continue;i.push(x);const b=a(p,y);for(let _=0;_<b.length;++_){const j=b[_];i.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function WW(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_I(t))&&(n&&(n+=" "),n+=r);return n}const _I=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_I(e[n]))&&(r&&(r+=" "),r+=t);return r};function HW(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=zW(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=VW(c,r);return a(c,d),d}return function(){return i(WW.apply(null,arguments))}}const Qt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},SI=/^\[(?:([a-z-]+):)?(.+)\]$/i,qW=/^\d+\/\d+$/,KW=new Set(["px","full","screen"]),GW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=e=>Zc(e)||KW.has(e)||qW.test(e),Ts=e=>xd(e,"length",sH),Zc=e=>!!e&&!Number.isNaN(Number(e)),q0=e=>xd(e,"number",Zc),rf=e=>!!e&&Number.isInteger(Number(e)),ZW=e=>e.endsWith("%")&&Zc(e.slice(0,-1)),ut=e=>SI.test(e),Rs=e=>GW.test(e),eH=new Set(["length","size","percentage"]),tH=e=>xd(e,eH,CI),rH=e=>xd(e,"position",CI),nH=new Set(["image","url"]),aH=e=>xd(e,nH,lH),iH=e=>xd(e,"",oH),nf=()=>!0,xd=(e,t,r)=>{const n=SI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sH=e=>YW.test(e)&&!XW.test(e),CI=()=>!1,oH=e=>QW.test(e),lH=e=>JW.test(e),cH=()=>{const e=Qt("colors"),t=Qt("spacing"),r=Qt("blur"),n=Qt("brightness"),a=Qt("borderColor"),i=Qt("borderRadius"),o=Qt("borderSpacing"),l=Qt("borderWidth"),c=Qt("contrast"),u=Qt("grayscale"),d=Qt("hueRotate"),f=Qt("invert"),h=Qt("gap"),m=Qt("gradientColorStops"),y=Qt("gradientColorStopPositions"),p=Qt("inset"),v=Qt("margin"),g=Qt("opacity"),x=Qt("padding"),b=Qt("saturate"),_=Qt("scale"),j=Qt("sepia"),S=Qt("skew"),C=Qt("space"),N=Qt("translate"),P=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ut,t],T=()=>[ut,t],A=()=>["",Wi,Ts],k=()=>["auto",Zc,ut],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ut],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Zc,ut];return{cacheSize:500,separator:":",theme:{colors:[nf],spacing:[Wi,Ts],blur:["none","",Rs,ut],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Rs,ut],borderSpacing:T(),borderWidth:A(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[ZW,Ts],inset:O(),margin:O(),opacity:Q(),padding:T(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ut]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rf,ut]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",rf,ut]}],"grid-cols":[{"grid-cols":[nf]}],"col-start-end":[{col:["auto",{span:["full",rf,ut]},ut]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[nf]}],"row-start-end":[{row:["auto",{span:[rf,ut]},ut]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,t]}],"min-w":[{"min-w":[ut,t,"min","max","fit"]}],"max-w":[{"max-w":[ut,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q0]}],"font-family":[{font:[nf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",Zc,q0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,Ts]}],"underline-offset":[{"underline-offset":["auto",Wi,ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),rH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aH]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Wi,ut]}],"outline-w":[{outline:[Wi,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Wi,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,iH]}],"shadow-color":[{shadow:[nf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[rf,ut]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wi,Ts,q0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uH=HW(cH);function ie(...e){return uH(tt(e))}const dH=oW,NI=w.forwardRef(({className:e,...t},r)=>s.jsx(nI,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));NI.displayName=nI.displayName;const fH=gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PI=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(aI,{ref:n,className:ie(fH({variant:t}),e),...r}));PI.displayName=aI.displayName;const hH=w.forwardRef(({className:e,...t},r)=>s.jsx(oI,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));hH.displayName=oI.displayName;const kI=w.forwardRef(({className:e,...t},r)=>s.jsx(lI,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Mi,{className:"h-4 w-4"})}));kI.displayName=lI.displayName;const EI=w.forwardRef(({className:e,...t},r)=>s.jsx(iI,{ref:r,className:ie("text-sm font-semibold",e),...t}));EI.displayName=iI.displayName;const AI=w.forwardRef(({className:e,...t},r)=>s.jsx(sI,{ref:r,className:ie("text-sm opacity-90",e),...t}));AI.displayName=sI.displayName;function mH(){const{toasts:e}=M$();return s.jsxs(dH,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(PI,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(EI,{children:r}),n&&s.jsx(AI,{children:n})]}),a,s.jsx(kI,{})]},t)}),s.jsx(NI,{})]})}var ak=["light","dark"],pH="(prefers-color-scheme: dark)",vH=w.createContext(void 0),gH={setTheme:e=>{},themes:[]},yH=()=>{var e;return(e=w.useContext(vH))!=null?e:gH};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?ak.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,p=!1,v=!0)=>{let g=o?o[y]:y,x=p?y+"|| ''":`'${g}'`,b="";return a&&v&&!p&&ak.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?p||g?b+=`c.add(${x})`:b+="null":g&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${pH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var xH=e=>{switch(e){case"success":return jH;case"info":return SH;case"warning":return _H;case"error":return CH;default:return null}},bH=Array(12).fill(0),wH=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},bH.map((r,n)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jH=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_H=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SH=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CH=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NH=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PH=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},tj=1,kH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:tj++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],R.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(AH(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||tj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ln=new kH,EH=(e,t)=>{let r=(t==null?void 0:t.id)||tj++;return Ln.addToast({title:e,...t,id:r}),r},AH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",OH=EH,TH=()=>Ln.toasts,RH=()=>Ln.getActiveToasts(),Pe=Object.assign(OH,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:TH,getToasts:RH});function MH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}MH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cp(e){return e.label!==void 0}var $H=3,IH="32px",DH="16px",ik=4e3,LH=356,FH=14,BH=20,zH=200;function La(...e){return e.filter(Boolean).join(" ")}function UH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var VH=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:y,interacting:p,setHeights:v,visibleToasts:g,heights:x,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:C,closeButton:N,style:P,cancelButtonStyle:E,actionButtonStyle:O,className:T="",descriptionClassName:A="",duration:k,position:$,gap:D,loadingIcon:M,expandByDefault:I,classNames:L,icons:B,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:X}=e,[ne,z]=R.useState(null),[U,H]=R.useState(null),[q,J]=R.useState(!1),[Z,te]=R.useState(!1),[V,K]=R.useState(!1),[he,_e]=R.useState(!1),[ze,Ye]=R.useState(!1),[et,ht]=R.useState(0),[Tt,F]=R.useState(0),G=R.useRef(m.duration||k||ik),re=R.useRef(null),xe=R.useRef(null),be=b===0,oe=b+1<=g,ye=m.type,Ie=m.dismissible!==!1,nt=m.className||"",xt=m.descriptionClassName||"",_r=R.useMemo(()=>x.findIndex(Re=>Re.toastId===m.id)||0,[x,m.id]),Ar=R.useMemo(()=>{var Re;return(Re=m.closeButton)!=null?Re:N},[m.closeButton,N]),de=R.useMemo(()=>m.duration||k||ik,[m.duration,k]),We=R.useRef(0),W=R.useRef(0),ue=R.useRef(0),ae=R.useRef(null),[ge,ke]=$.split("-"),qe=R.useMemo(()=>x.reduce((Re,Ze,mt)=>mt>=_r?Re:Re+Ze.height,0),[x,_r]),wt=PH(),sr=m.invert||h,gt=ye==="loading";W.current=R.useMemo(()=>_r*D+qe,[_r,qe]),R.useEffect(()=>{G.current=de},[de]),R.useEffect(()=>{J(!0)},[]),R.useEffect(()=>{let Re=xe.current;if(Re){let Ze=Re.getBoundingClientRect().height;return F(Ze),v(mt=>[{toastId:m.id,height:Ze,position:m.position},...mt]),()=>v(mt=>mt.filter(dn=>dn.toastId!==m.id))}},[v,m.id]),R.useLayoutEffect(()=>{if(!q)return;let Re=xe.current,Ze=Re.style.height;Re.style.height="auto";let mt=Re.getBoundingClientRect().height;Re.style.height=Ze,F(mt),v(dn=>dn.find(fn=>fn.toastId===m.id)?dn.map(fn=>fn.toastId===m.id?{...fn,height:mt}:fn):[{toastId:m.id,height:mt,position:m.position},...dn])},[q,m.title,m.description,v,m.id]);let zt=R.useCallback(()=>{te(!0),ht(W.current),v(Re=>Re.filter(Ze=>Ze.toastId!==m.id)),setTimeout(()=>{S(m)},zH)},[m,S,v,W]);R.useEffect(()=>{if(m.promise&&ye==="loading"||m.duration===1/0||m.type==="loading")return;let Re;return j||p||X&&wt?(()=>{if(ue.current<We.current){let Ze=new Date().getTime()-We.current;G.current=G.current-Ze}ue.current=new Date().getTime()})():G.current!==1/0&&(We.current=new Date().getTime(),Re=setTimeout(()=>{var Ze;(Ze=m.onAutoClose)==null||Ze.call(m,m),zt()},G.current)),()=>clearTimeout(Re)},[j,p,m,ye,X,wt,zt]),R.useEffect(()=>{m.delete&&zt()},[zt,m.delete]);function nr(){var Re,Ze,mt;return B!=null&&B.loading?R.createElement("div",{className:La(L==null?void 0:L.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":ye==="loading"},B.loading):M?R.createElement("div",{className:La(L==null?void 0:L.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":ye==="loading"},M):R.createElement(wH,{className:La(L==null?void 0:L.loader,(mt=m==null?void 0:m.classNames)==null?void 0:mt.loader),visible:ye==="loading"})}return R.createElement("li",{tabIndex:0,ref:xe,className:La(T,nt,L==null?void 0:L.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ye],(r=m==null?void 0:m.classNames)==null?void 0:r[ye]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":ze,"data-removed":Z,"data-visible":oe,"data-y-position":ge,"data-x-position":ke,"data-index":b,"data-front":be,"data-swiping":V,"data-dismissible":Ie,"data-type":ye,"data-invert":sr,"data-swipe-out":he,"data-swipe-direction":U,"data-expanded":!!(j||I&&q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Z?et:W.current}px`,"--initial-height":I?"auto":`${Tt}px`,...P,...m.style},onDragEnd:()=>{K(!1),z(null),ae.current=null},onPointerDown:Re=>{gt||!Ie||(re.current=new Date,ht(W.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(K(!0),ae.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,Ze,mt,dn;if(he||!Ie)return;ae.current=null;let fn=Number(((Re=xe.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((Ze=xe.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Uo=new Date().getTime()-((mt=re.current)==null?void 0:mt.getTime()),Ia=ne==="x"?fn:In,As=Math.abs(Ia)/Uo;if(Math.abs(Ia)>=BH||As>.11){ht(W.current),(dn=m.onDismiss)==null||dn.call(m,m),H(ne==="x"?fn>0?"right":"left":In>0?"down":"up"),zt(),_e(!0),Ye(!1);return}K(!1),z(null)},onPointerMove:Re=>{var Ze,mt,dn,fn;if(!ae.current||!Ie||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let In=Re.clientY-ae.current.y,Uo=Re.clientX-ae.current.x,Ia=(mt=e.swipeDirections)!=null?mt:UH($);!ne&&(Math.abs(Uo)>1||Math.abs(In)>1)&&z(Math.abs(Uo)>Math.abs(In)?"x":"y");let As={x:0,y:0};ne==="y"?(Ia.includes("top")||Ia.includes("bottom"))&&(Ia.includes("top")&&In<0||Ia.includes("bottom")&&In>0)&&(As.y=In):ne==="x"&&(Ia.includes("left")||Ia.includes("right"))&&(Ia.includes("left")&&Uo<0||Ia.includes("right")&&Uo>0)&&(As.x=Uo),(Math.abs(As.x)>0||Math.abs(As.y)>0)&&Ye(!0),(dn=xe.current)==null||dn.style.setProperty("--swipe-amount-x",`${As.x}px`),(fn=xe.current)==null||fn.style.setProperty("--swipe-amount-y",`${As.y}px`)}},Ar&&!m.jsx?R.createElement("button",{"aria-label":Q,"data-disabled":gt,"data-close-button":!0,onClick:gt||!Ie?()=>{}:()=>{var Re;zt(),(Re=m.onDismiss)==null||Re.call(m,m)},className:La(L==null?void 0:L.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=B==null?void 0:B.close)!=null?i:NH):null,m.jsx||w.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:R.createElement(R.Fragment,null,ye||m.icon||m.promise?R.createElement("div",{"data-icon":"",className:La(L==null?void 0:L.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||nr():null,m.type!=="loading"?m.icon||(B==null?void 0:B[ye])||xH(ye):null):null,R.createElement("div",{"data-content":"",className:La(L==null?void 0:L.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},R.createElement("div",{"data-title":"",className:La(L==null?void 0:L.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?R.createElement("div",{"data-description":"",className:La(A,xt,L==null?void 0:L.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),w.isValidElement(m.cancel)?m.cancel:m.cancel&&cp(m.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:Re=>{var Ze,mt;cp(m.cancel)&&Ie&&((mt=(Ze=m.cancel).onClick)==null||mt.call(Ze,Re),zt())},className:La(L==null?void 0:L.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,w.isValidElement(m.action)?m.action:m.action&&cp(m.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Re=>{var Ze,mt;cp(m.action)&&((mt=(Ze=m.action).onClick)==null||mt.call(Ze,Re),!Re.defaultPrevented&&zt())},className:La(L==null?void 0:L.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function sk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function WH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?DH:IH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var HH=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:y=$H,toastOptions:p,dir:v=sk(),gap:g=FH,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=R.useState([]),N=R.useMemo(()=>Array.from(new Set([n].concat(S.filter(X=>X.position).map(X=>X.position)))),[S,n]),[P,E]=R.useState([]),[O,T]=R.useState(!1),[A,k]=R.useState(!1),[$,D]=R.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=R.useRef(null),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=R.useRef(null),B=R.useRef(!1),Q=R.useCallback(X=>{C(ne=>{var z;return(z=ne.find(U=>U.id===X.id))!=null&&z.delete||Ln.dismiss(X.id),ne.filter(({id:U})=>U!==X.id)})},[]);return R.useEffect(()=>Ln.subscribe(X=>{if(X.dismiss){C(ne=>ne.map(z=>z.id===X.id?{...z,delete:!0}:z));return}setTimeout(()=>{T$.flushSync(()=>{C(ne=>{let z=ne.findIndex(U=>U.id===X.id);return z!==-1?[...ne.slice(0,z),{...ne[z],...X},...ne.slice(z+1)]:[X,...ne]})})})}),[]),R.useEffect(()=>{if(d!=="system"){D(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ne})=>{D(ne?"dark":"light")})}catch{X.addListener(({matches:z})=>{try{D(z?"dark":"light")}catch(U){console.error(U)}})}},[d]),R.useEffect(()=>{S.length<=1&&T(!1)},[S]),R.useEffect(()=>{let X=ne=>{var z,U;a.every(H=>ne[H]||ne.code===H)&&(T(!0),(z=M.current)==null||z.focus()),ne.code==="Escape"&&(document.activeElement===M.current||(U=M.current)!=null&&U.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),R.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[M.current]),R.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((X,ne)=>{var z;let[U,H]=X.split("-");return S.length?R.createElement("ol",{key:X,dir:v==="auto"?sk():v,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":U,"data-lifted":O&&S.length>1&&!i,"data-x-position":H,style:{"--front-toast-height":`${((z=P[0])==null?void 0:z.height)||0}px`,"--width":`${LH}px`,"--gap":`${g}px`,...m,...WH(c,u)},onBlur:q=>{B.current&&!q.currentTarget.contains(q.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=q.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onDragEnd:()=>T(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},S.filter(q=>!q.position&&ne===0||q.position===X).map((q,J)=>{var Z,te;return R.createElement(VH,{key:q.id,icons:b,index:J,toast:q,defaultRichColors:f,duration:(Z=p==null?void 0:p.duration)!=null?Z:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:y,closeButton:(te=p==null?void 0:p.closeButton)!=null?te:o,interacting:A,position:X,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Q,toasts:S.filter(V=>V.position==q.position),heights:P.filter(V=>V.position==q.position),setHeights:E,expandByDefault:i,gap:g,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const qH=({...e})=>{const{theme:t="system"}=yH();return s.jsx(HH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var KH=E_[" useId ".trim().toString()]||(()=>{}),GH=0;function Ei(e){const[t,r]=w.useState(KH());return Qr(()=>{e||r(n=>n??String(GH++))},[e]),e||(t?`radix-${t}`:"")}const YH=["top","right","bottom","left"],_o=Math.min,ta=Math.max,Mv=Math.round,up=Math.floor,Ai=e=>({x:e,y:e}),XH={left:"right",right:"left",bottom:"top",top:"bottom"},QH={start:"end",end:"start"};function rj(e,t,r){return ta(e,_o(t,r))}function ms(e,t){return typeof e=="function"?e(t):e}function ps(e){return e.split("-")[0]}function bd(e){return e.split("-")[1]}function ES(e){return e==="x"?"y":"x"}function AS(e){return e==="y"?"height":"width"}const JH=new Set(["top","bottom"]);function _i(e){return JH.has(ps(e))?"y":"x"}function OS(e){return ES(_i(e))}function ZH(e,t,r){r===void 0&&(r=!1);const n=bd(e),a=OS(e),i=AS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=$v(o)),[o,$v(o)]}function eq(e){const t=$v(e);return[nj(e),t,nj(t)]}function nj(e){return e.replace(/start|end/g,t=>QH[t])}const ok=["left","right"],lk=["right","left"],tq=["top","bottom"],rq=["bottom","top"];function nq(e,t,r){switch(e){case"top":case"bottom":return r?t?lk:ok:t?ok:lk;case"left":case"right":return t?tq:rq;default:return[]}}function aq(e,t,r,n){const a=bd(e);let i=nq(ps(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(nj)))),i}function $v(e){return e.replace(/left|right|bottom|top/g,t=>XH[t])}function iq(e){return{top:0,right:0,bottom:0,left:0,...e}}function OI(e){return typeof e!="number"?iq(e):{top:e,right:e,bottom:e,left:e}}function Iv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ck(e,t,r){let{reference:n,floating:a}=e;const i=_i(t),o=OS(t),l=AS(o),c=ps(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(bd(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const sq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=ck(u,n,c),h=n,m={},y=0;for(let p=0;p<l.length;p++){const{name:v,fn:g}=l[p],{x,y:b,data:_,reset:j}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,m={...m,[v]:{...m[v],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=ck(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function xh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ms(t,e),y=OI(m),v=l[h?f==="floating"?"reference":"floating":f],g=Iv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Iv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-j.top+y.top)/_.y,bottom:(j.bottom-g.bottom+y.bottom)/_.y,left:(g.left-j.left+y.left)/_.x,right:(j.right-g.right+y.right)/_.x}}const oq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ms(e,t)||{};if(u==null)return{};const f=OI(d),h={x:r,y:n},m=OS(a),y=AS(m),p=await o.getDimensions(u),v=m==="y",g=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const N=_/2-j/2,P=C/2-p[y]/2-1,E=_o(f[g],P),O=_o(f[x],P),T=E,A=C-p[y]-O,k=C/2-p[y]/2+N,$=rj(T,k,A),D=!c.arrow&&bd(a)!=null&&k!==$&&i.reference[y]/2-(k<T?E:O)-p[y]/2<0,M=D?k<T?k-T:k-A:0;return{[m]:h[m]+M,data:{[m]:$,centerOffset:k-$-M,...D&&{alignmentOffset:M}},reset:D}}}),lq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...v}=ms(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=ps(a),x=_i(l),b=ps(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!p?[$v(l)]:eq(l)),S=y!=="none";!h&&S&&j.push(...aq(l,p,y,_));const C=[l,...j],N=await xh(t,v),P=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(N[g]),f){const k=ZH(a,o,_);P.push(N[k[0]],N[k[1]])}if(E=[...E,{placement:a,overflows:P}],!P.every(k=>k<=0)){var O,T;const k=(((O=i.flip)==null?void 0:O.index)||0)+1,$=C[k];if($&&(!(f==="alignment"?x!==_i($):!1)||E.every(I=>I.overflows[0]>0&&_i(I.placement)===x)))return{data:{index:k,overflows:E},reset:{placement:$}};let D=(T=E.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!D)switch(m){case"bestFit":{var A;const M=(A=E.filter(I=>{if(S){const L=_i(I.placement);return L===x||L==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((I,L)=>I[1]-L[1])[0])==null?void 0:A[0];M&&(D=M);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function uk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dk(e){return YH.some(t=>e[t]>=0)}const cq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ms(e,t);switch(n){case"referenceHidden":{const i=await xh(t,{...a,elementContext:"reference"}),o=uk(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dk(o)}}}case"escaped":{const i=await xh(t,{...a,altBoundary:!0}),o=uk(i,r.floating);return{data:{escapedOffsets:o,escaped:dk(o)}}}default:return{}}}}},TI=new Set(["left","top"]);async function uq(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ps(r),l=bd(r),c=_i(r)==="y",u=TI.has(o)?-1:1,d=i&&c?-1:1,f=ms(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const dq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await uq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},fq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:g,y:x}=v;return{x:g,y:x}}},...c}=ms(e,t),u={x:r,y:n},d=await xh(t,c),f=_i(ps(a)),h=ES(f);let m=u[h],y=u[f];if(i){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=m+d[v],b=m-d[g];m=rj(x,m,b)}if(o){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=y+d[v],b=y-d[g];y=rj(x,y,b)}const p=l.fn({...t,[h]:m,[f]:y});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},hq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ms(e,t),d={x:r,y:n},f=_i(a),h=ES(f);let m=d[h],y=d[f];const p=ms(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+v.mainAxis,j=i.reference[h]+i.reference[b]-v.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var g,x;const b=h==="y"?"width":"height",_=TI.has(ps(a)),j=i.reference[f]-i.floating[b]+(_&&((g=o.offset)==null?void 0:g[f])||0)+(_?0:v.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[f]:y}}}},mq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ms(e,t),d=await xh(t,u),f=ps(a),h=bd(a),m=_i(a)==="y",{width:y,height:p}=i.floating;let v,g;f==="top"||f==="bottom"?(v=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,b=y-d.left-d.right,_=_o(p-d[v],x),j=_o(y-d[g],b),S=!t.middlewareData.shift;let C=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const E=ta(d.left,0),O=ta(d.right,0),T=ta(d.top,0),A=ta(d.bottom,0);m?N=y-2*(E!==0||O!==0?E+O:ta(d.left,d.right)):C=p-2*(T!==0||A!==0?T+A:ta(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const P=await o.getDimensions(l.floating);return y!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Dy(){return typeof window<"u"}function wd(e){return RI(e)?(e.nodeName||"").toLowerCase():"#document"}function sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Li(e){var t;return(t=(RI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RI(e){return Dy()?e instanceof Node||e instanceof sa(e).Node:!1}function ci(e){return Dy()?e instanceof Element||e instanceof sa(e).Element:!1}function $i(e){return Dy()?e instanceof HTMLElement||e instanceof sa(e).HTMLElement:!1}function fk(e){return!Dy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sa(e).ShadowRoot}const pq=new Set(["inline","contents"]);function Pm(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ui(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!pq.has(a)}const vq=new Set(["table","td","th"]);function gq(e){return vq.has(wd(e))}const yq=[":popover-open",":modal"];function Ly(e){return yq.some(t=>{try{return e.matches(t)}catch{return!1}})}const xq=["transform","translate","scale","rotate","perspective"],bq=["transform","translate","scale","rotate","perspective","filter"],wq=["paint","layout","strict","content"];function TS(e){const t=RS(),r=ci(e)?ui(e):e;return xq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||bq.some(n=>(r.willChange||"").includes(n))||wq.some(n=>(r.contain||"").includes(n))}function jq(e){let t=So(e);for(;$i(t)&&!Pu(t);){if(TS(t))return t;if(Ly(t))return null;t=So(t)}return null}function RS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _q=new Set(["html","body","#document"]);function Pu(e){return _q.has(wd(e))}function ui(e){return sa(e).getComputedStyle(e)}function Fy(e){return ci(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function So(e){if(wd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fk(e)&&e.host||Li(e);return fk(t)?t.host:t}function MI(e){const t=So(e);return Pu(t)?e.ownerDocument?e.ownerDocument.body:e.body:$i(t)&&Pm(t)?t:MI(t)}function bh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=MI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=sa(a);if(i){const l=aj(o);return t.concat(o,o.visualViewport||[],Pm(a)?a:[],l&&r?bh(l):[])}return t.concat(a,bh(a,[],r))}function aj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $I(e){const t=ui(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$i(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Mv(r)!==i||Mv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function MS(e){return ci(e)?e:e.contextElement}function eu(e){const t=MS(e);if(!$i(t))return Ai(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=$I(t);let o=(i?Mv(r.width):r.width)/n,l=(i?Mv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Sq=Ai(0);function II(e){const t=sa(e);return!RS()||!t.visualViewport?Sq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sa(e)?!1:t}function Ml(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=MS(e);let o=Ai(1);t&&(n?ci(n)&&(o=eu(n)):o=eu(e));const l=Cq(i,r,n)?II(i):Ai(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=sa(i),m=n&&ci(n)?sa(n):n;let y=h,p=aj(y);for(;p&&n&&m!==y;){const v=eu(p),g=p.getBoundingClientRect(),x=ui(p),b=g.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,_=g.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,y=sa(p),p=aj(y)}}return Iv({width:d,height:f,x:c,y:u})}function $S(e,t){const r=Fy(e).scrollLeft;return t?t.left+r:Ml(Li(e)).left+r}function DI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:$S(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Nq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Li(n),l=t?Ly(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ai(1);const d=Ai(0),f=$i(n);if((f||!f&&!i)&&((wd(n)!=="body"||Pm(o))&&(c=Fy(n)),$i(n))){const m=Ml(n);u=eu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?DI(o,c,!0):Ai(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Pq(e){return Array.from(e.getClientRects())}function kq(e){const t=Li(e),r=Fy(e),n=e.ownerDocument.body,a=ta(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ta(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+$S(e);const l=-r.scrollTop;return ui(n).direction==="rtl"&&(o+=ta(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Eq(e,t){const r=sa(e),n=Li(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=RS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Aq=new Set(["absolute","fixed"]);function Oq(e,t){const r=Ml(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=$i(e)?eu(e):Ai(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function hk(e,t,r){let n;if(t==="viewport")n=Eq(e,r);else if(t==="document")n=kq(Li(e));else if(ci(t))n=Oq(t,r);else{const a=II(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Iv(n)}function LI(e,t){const r=So(e);return r===t||!ci(r)||Pu(r)?!1:ui(r).position==="fixed"||LI(r,t)}function Tq(e,t){const r=t.get(e);if(r)return r;let n=bh(e,[],!1).filter(l=>ci(l)&&wd(l)!=="body"),a=null;const i=ui(e).position==="fixed";let o=i?So(e):e;for(;ci(o)&&!Pu(o);){const l=ui(o),c=TS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Aq.has(a.position)||Pm(o)&&!c&&LI(e,o))?n=n.filter(d=>d!==o):a=l,o=So(o)}return t.set(e,n),n}function Rq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ly(t)?[]:Tq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=hk(t,d,a);return u.top=ta(f.top,u.top),u.right=_o(f.right,u.right),u.bottom=_o(f.bottom,u.bottom),u.left=ta(f.left,u.left),u},hk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Mq(e){const{width:t,height:r}=$I(e);return{width:t,height:r}}function $q(e,t,r){const n=$i(t),a=Li(t),i=r==="fixed",o=Ml(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ai(0);function u(){c.x=$S(a)}if(n||!n&&!i)if((wd(t)!=="body"||Pm(a))&&(l=Fy(t)),n){const m=Ml(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?DI(a,l):Ai(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function K0(e){return ui(e).position==="static"}function mk(e,t){if(!$i(e)||ui(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Li(e)===r&&(r=r.ownerDocument.body),r}function FI(e,t){const r=sa(e);if(Ly(e))return r;if(!$i(e)){let a=So(e);for(;a&&!Pu(a);){if(ci(a)&&!K0(a))return a;a=So(a)}return r}let n=mk(e,t);for(;n&&gq(n)&&K0(n);)n=mk(n,t);return n&&Pu(n)&&K0(n)&&!TS(n)?r:n||jq(e)||r}const Iq=async function(e){const t=this.getOffsetParent||FI,r=this.getDimensions,n=await r(e.floating);return{reference:$q(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Dq(e){return ui(e).direction==="rtl"}const Lq={convertOffsetParentRelativeRectToViewportRelativeRect:Nq,getDocumentElement:Li,getClippingRect:Rq,getOffsetParent:FI,getElementRects:Iq,getClientRects:Pq,getDimensions:Mq,getScale:eu,isElement:ci,isRTL:Dq};function BI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Fq(e,t){let r=null,n;const a=Li(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=up(f),p=up(a.clientWidth-(d+h)),v=up(a.clientHeight-(f+m)),g=up(d),b={rootMargin:-y+"px "+-p+"px "+-v+"px "+-g+"px",threshold:ta(0,_o(1,c))||1};let _=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!BI(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function Bq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=MS(e),d=a||i?[...u?bh(u):[],...bh(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Fq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,p=c?Ml(e):null;c&&v();function v(){const g=Ml(e);p&&!BI(p,g)&&r(),p=g,y=requestAnimationFrame(v)}return r(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const zq=dq,Uq=fq,Vq=lq,Wq=mq,Hq=cq,pk=oq,qq=hq,Kq=(e,t,r)=>{const n=new Map,a={platform:Lq,...r},i={...a.platform,_c:n};return sq(e,t,{...a,platform:i})};var Gq=typeof document<"u",Yq=function(){},tv=Gq?w.useLayoutEffect:Yq;function Dv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Dv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Dv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function zI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vk(e,t){const r=zI(e);return Math.round(t*r)/r}function G0(e){const t=w.useRef(e);return tv(()=>{t.current=e}),t}function Xq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);Dv(h,n)||m(n);const[y,p]=w.useState(null),[v,g]=w.useState(null),x=w.useCallback(I=>{I!==S.current&&(S.current=I,p(I))},[]),b=w.useCallback(I=>{I!==C.current&&(C.current=I,g(I))},[]),_=i||y,j=o||v,S=w.useRef(null),C=w.useRef(null),N=w.useRef(d),P=c!=null,E=G0(c),O=G0(a),T=G0(u),A=w.useCallback(()=>{if(!S.current||!C.current)return;const I={placement:t,strategy:r,middleware:h};O.current&&(I.platform=O.current),Kq(S.current,C.current,I).then(L=>{const B={...L,isPositioned:T.current!==!1};k.current&&!Dv(N.current,B)&&(N.current=B,Kl.flushSync(()=>{f(B)}))})},[h,t,r,O,T]);tv(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const k=w.useRef(!1);tv(()=>(k.current=!0,()=>{k.current=!1}),[]),tv(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(E.current)return E.current(_,j,A);A()}},[_,j,A,E,P]);const $=w.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),D=w.useMemo(()=>({reference:_,floating:j}),[_,j]),M=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!D.floating)return I;const L=vk(D.floating,d.x),B=vk(D.floating,d.y);return l?{...I,transform:"translate("+L+"px, "+B+"px)",...zI(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:B}},[r,l,D.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:A,refs:$,elements:D,floatingStyles:M}),[d,A,$,D,M])}const Qq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?pk({element:n.current,padding:a}).fn(r):{}:n?pk({element:n,padding:a}).fn(r):{}}}},Jq=(e,t)=>({...zq(e),options:[e,t]}),Zq=(e,t)=>({...Uq(e),options:[e,t]}),e9=(e,t)=>({...qq(e),options:[e,t]}),t9=(e,t)=>({...Vq(e),options:[e,t]}),r9=(e,t)=>({...Wq(e),options:[e,t]}),n9=(e,t)=>({...Hq(e),options:[e,t]}),a9=(e,t)=>({...Qq(e),options:[e,t]});var i9="Arrow",UI=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Fe.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});UI.displayName=i9;var s9=UI;function By(e){const[t,r]=w.useState(void 0);return Qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var IS="Popper",[VI,jd]=$n(IS),[o9,WI]=VI(IS),HI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return s.jsx(o9,{scope:t,anchor:n,onAnchorChange:a,children:r})};HI.displayName=IS;var qI="PopperAnchor",KI=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=WI(qI,r),o=w.useRef(null),l=rt(t,o);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Fe.div,{...a,ref:l})});KI.displayName=qI;var DS="PopperContent",[l9,c9]=VI(DS),GI=w.forwardRef((e,t)=>{var q,J,Z,te,V,K;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=e,v=WI(DS,r),[g,x]=w.useState(null),b=rt(t,he=>x(he)),[_,j]=w.useState(null),S=By(_),C=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,P=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],T=O.length>0,A={padding:E,boundary:O.filter(d9),altBoundary:T},{refs:k,floatingStyles:$,placement:D,isPositioned:M,middlewareData:I}=Xq({strategy:"fixed",placement:P,whileElementsMounted:(...he)=>Bq(...he,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Jq({mainAxis:a+N,alignmentAxis:o}),c&&Zq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?e9():void 0,...A}),c&&t9({...A}),r9({...A,apply:({elements:he,rects:_e,availableWidth:ze,availableHeight:Ye})=>{const{width:et,height:ht}=_e.reference,Tt=he.floating.style;Tt.setProperty("--radix-popper-available-width",`${ze}px`),Tt.setProperty("--radix-popper-available-height",`${Ye}px`),Tt.setProperty("--radix-popper-anchor-width",`${et}px`),Tt.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),_&&a9({element:_,padding:l}),f9({arrowWidth:C,arrowHeight:N}),h&&n9({strategy:"referenceHidden",...A})]}),[L,B]=QI(D),Q=Ur(y);Qr(()=>{M&&(Q==null||Q())},[M,Q]);const X=(q=I.arrow)==null?void 0:q.x,ne=(J=I.arrow)==null?void 0:J.y,z=((Z=I.arrow)==null?void 0:Z.centerOffset)!==0,[U,H]=w.useState();return Qr(()=>{g&&H(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(te=I.transformOrigin)==null?void 0:te.x,(V=I.transformOrigin)==null?void 0:V.y].join(" "),...((K=I.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(l9,{scope:r,placedSide:L,onArrowChange:j,arrowX:X,arrowY:ne,shouldHideArrow:z,children:s.jsx(Fe.div,{"data-side":L,"data-align":B,...p,ref:b,style:{...p.style,animation:M?void 0:"none"}})})})});GI.displayName=DS;var YI="PopperArrow",u9={top:"bottom",right:"left",bottom:"top",left:"right"},XI=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=c9(YI,n),o=u9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(s9,{...a,ref:r,style:{...a.style,display:"block"}})})});XI.displayName=YI;function d9(e){return e!==null}var f9=e=>({name:"transformOrigin",options:e,fn(t){var v,g,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=QI(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=o?f:`${h}px`,p=`${-c}px`):u==="top"?(y=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:y,y:p}}}});function QI(e){const[t,r="center"]=e.split("-");return[t,r]}var LS=HI,zy=KI,FS=GI,BS=XI,[Uy,DOe]=$n("Tooltip",[jd]),Vy=jd(),JI="TooltipProvider",h9=700,ij="tooltip.open",[m9,zS]=Uy(JI),ZI=e=>{const{__scopeTooltip:t,delayDuration:r=h9,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(m9,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};ZI.displayName=JI;var wh="Tooltip",[p9,Wy]=Uy(wh),eD=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=zS(wh,e.__scopeTooltip),u=Vy(t),[d,f]=w.useState(null),h=Ei(),m=w.useRef(0),y=o??c.disableHoverableContent,p=l??c.delayDuration,v=w.useRef(!1),[g,x]=qn({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(ij))):c.onClose(),i==null||i(C)},caller:wh}),b=w.useMemo(()=>g?v.current?"delayed-open":"instant-open":"closed",[g]),_=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,x(!0)},[x]),j=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,x(!0),m.current=0},p)},[p,x]);return w.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(LS,{...u,children:s.jsx(p9,{scope:t,contentId:h,open:g,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:w.useCallback(()=>{y?j():(window.clearTimeout(m.current),m.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};eD.displayName=wh;var sj="TooltipTrigger",tD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Wy(sj,r),i=zS(sj,r),o=Vy(r),l=w.useRef(null),c=rt(t,l,a.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(zy,{asChild:!0,...o,children:s.jsx(Fe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ee(e.onBlur,a.onClose),onClick:Ee(e.onClick,a.onClose)})})});tD.displayName=sj;var v9="TooltipPortal",[LOe,g9]=Uy(v9,{forceMount:void 0}),ku="TooltipContent",rD=w.forwardRef((e,t)=>{const r=g9(ku,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Wy(ku,e.__scopeTooltip);return s.jsx(Kn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(nD,{side:a,...i,ref:t}):s.jsx(y9,{side:a,...i,ref:t})})}),y9=w.forwardRef((e,t)=>{const r=Wy(ku,e.__scopeTooltip),n=zS(ku,e.__scopeTooltip),a=w.useRef(null),i=rt(t,a),[o,l]=w.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{l(null),f(!1)},[f]),m=w.useCallback((y,p)=>{const v=y.currentTarget,g={x:y.clientX,y:y.clientY},x=_9(g,v.getBoundingClientRect()),b=S9(g,x),_=C9(p.getBoundingClientRect()),j=P9([...b,..._]);l(j),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const y=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),w.useEffect(()=>{if(o){const y=p=>{const v=p.target,g={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!N9(g,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(nD,{...e,ref:i})}),[x9,b9]=Uy(wh,{isInside:!1}),w9=L$("TooltipContent"),nD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Wy(ku,r),u=Vy(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(ij,d),()=>document.removeEventListener(ij,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(FS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(w9,{children:n}),s.jsx(x9,{scope:r,isInside:!0,children:s.jsx(V6,{id:c.contentId,role:"tooltip",children:a||n})})]})})});rD.displayName=ku;var aD="TooltipArrow",j9=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Vy(r);return b9(aD,r).isInside?null:s.jsx(BS,{...a,...n,ref:t})});j9.displayName=aD;function _9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function S9(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function C9(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function N9(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function P9(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),k9(t)}function k9(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var E9=ZI,A9=eD,O9=tD,iD=rD;const T9=E9,R9=A9,M9=O9,sD=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(iD,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));sD.displayName=iD.displayName;var Hy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qy=typeof window>"u"||"Deno"in globalThis;function Va(){}function $9(e,t){return typeof e=="function"?e(t):e}function I9(e){return typeof e=="number"&&e>=0&&e!==1/0}function D9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oj(e,t){return typeof e=="function"?e(t):e}function L9(e,t){return typeof e=="function"?e(t):e}function gk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==US(o,t.options))return!1}else if(!_h(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function yk(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(jh(t.options.mutationKey)!==jh(i))return!1}else if(!_h(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function US(e,t){return((t==null?void 0:t.queryKeyHashFn)||jh)(e)}function jh(e){return JSON.stringify(e,(t,r)=>lj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function _h(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_h(e[r],t[r])):!1}function oD(e,t){if(e===t)return e;const r=xk(e)&&xk(t);if(r||lj(e)&&lj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=oD(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function xk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lj(e){if(!bk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bk(e){return Object.prototype.toString.call(e)==="[object Object]"}function F9(e){return new Promise(t=>{setTimeout(t,e)})}function B9(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oD(e,t):t}function z9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function U9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var VS=Symbol();function lD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vl,Ks,lu,fR,V9=(fR=class extends Hy{constructor(){super();St(this,vl);St(this,Ks);St(this,lu);st(this,lu,t=>{if(!qy&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,Ks)||this.setEventListener(fe(this,lu))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Ks))==null||t.call(this),st(this,Ks,void 0))}setEventListener(t){var r;st(this,lu,t),(r=fe(this,Ks))==null||r.call(this),st(this,Ks,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){fe(this,vl)!==t&&(st(this,vl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof fe(this,vl)=="boolean"?fe(this,vl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vl=new WeakMap,Ks=new WeakMap,lu=new WeakMap,fR),cD=new V9,cu,Gs,uu,hR,W9=(hR=class extends Hy{constructor(){super();St(this,cu,!0);St(this,Gs);St(this,uu);st(this,uu,t=>{if(!qy&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,Gs)||this.setEventListener(fe(this,uu))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Gs))==null||t.call(this),st(this,Gs,void 0))}setEventListener(t){var r;st(this,uu,t),(r=fe(this,Gs))==null||r.call(this),st(this,Gs,t(this.setOnline.bind(this)))}setOnline(t){fe(this,cu)!==t&&(st(this,cu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return fe(this,cu)}},cu=new WeakMap,Gs=new WeakMap,uu=new WeakMap,hR),Lv=new W9;function H9(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function q9(e){return Math.min(1e3*2**e,3e4)}function uD(e){return(e??"online")==="online"?Lv.isOnline():!0}var dD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Y0(e){return e instanceof dD}function fD(e){let t=!1,r=0,n=!1,a;const i=H9(),o=p=>{var v;n||(h(new dD(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>cD.isFocused()&&(e.networkMode==="always"||Lv.isOnline())&&e.canRun(),d=()=>uD(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var v;a=g=>{(n||u())&&p(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),y=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(f).catch(g=>{var S;if(n)return;const x=e.retry??(qy?0:3),b=e.retryDelay??q9,_=typeof b=="function"?b(r,g):b,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!j){h(g);return}r++,(S=e.onFail)==null||S.call(e,r,g),F9(_).then(()=>u()?void 0:m()).then(()=>{t?h(g):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var K9=e=>setTimeout(e,0);function G9(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=K9;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Pn=G9(),gl,mR,hD=(mR=class{constructor(){St(this,gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I9(this.gcTime)&&st(this,gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qy?1/0:5*60*1e3))}clearGcTimeout(){fe(this,gl)&&(clearTimeout(fe(this,gl)),st(this,gl,void 0))}},gl=new WeakMap,mR),du,yl,ya,xl,yn,ym,bl,qa,Ki,pR,Y9=(pR=class extends hD{constructor(t){super();St(this,qa);St(this,du);St(this,yl);St(this,ya);St(this,xl);St(this,yn);St(this,ym);St(this,bl);st(this,bl,!1),st(this,ym,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,xl,t.client),st(this,ya,fe(this,xl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,du,Q9(this.options)),this.state=t.state??fe(this,du),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=fe(this,yn))==null?void 0:t.promise}setOptions(t){this.options={...fe(this,ym),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,ya).remove(this)}setData(t,r){const n=B9(this.state.data,t,this.options);return hn(this,qa,Ki).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){hn(this,qa,Ki).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=fe(this,yn))==null?void 0:n.promise;return(a=fe(this,yn))==null||a.cancel(t),r?r.then(Va).catch(Va):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,du))}isActive(){return this.observers.some(t=>L9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>oj(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,yn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,yn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),fe(this,ya).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(fe(this,yn)&&(fe(this,bl)?fe(this,yn).cancel({revert:!0}):fe(this,yn).cancelRetry()),this.scheduleGc()),fe(this,ya).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,qa,Ki).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,yn))return fe(this,yn).continueRetry(),fe(this,yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(st(this,bl,!0),n.signal)})},i=()=>{const h=lD(this.options,r),y=(()=>{const p={client:fe(this,xl),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return st(this,bl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,xl),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),st(this,yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&hn(this,qa,Ki).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,y,p,v;Y0(h)&&h.silent||hn(this,qa,Ki).call(this,{type:"error",error:h}),Y0(h)||((y=(m=fe(this,ya).config).onError)==null||y.call(m,h,this),(v=(p=fe(this,ya).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return st(this,yn,fD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,y,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){c(g);return}(y=(m=fe(this,ya).config).onSuccess)==null||y.call(m,h,this),(v=(p=fe(this,ya).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{hn(this,qa,Ki).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{hn(this,qa,Ki).call(this,{type:"pause"})},onContinue:()=>{hn(this,qa,Ki).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),fe(this,yn).start()}},du=new WeakMap,yl=new WeakMap,ya=new WeakMap,xl=new WeakMap,yn=new WeakMap,ym=new WeakMap,bl=new WeakMap,qa=new WeakSet,Ki=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...X9(n.data,this.options),fetchMeta:t.meta??null};case"success":return st(this,yl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Y0(a)&&a.revert&&fe(this,yl)?{...fe(this,yl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Pn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,ya).notify({query:this,type:"updated",action:t})})},pR);function X9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Q9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vi,vR,J9=(vR=class extends Hy{constructor(t={}){super();St(this,vi);this.config=t,st(this,vi,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??US(a,r);let o=this.get(i);return o||(o=new Y9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){fe(this,vi).has(t.queryHash)||(fe(this,vi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=fe(this,vi).get(t.queryHash);r&&(t.destroy(),r===t&&fe(this,vi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return fe(this,vi).get(t)}getAll(){return[...fe(this,vi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gk(t,n)):r}notify(t){Pn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},vi=new WeakMap,vR),gi,Sn,wl,yi,$s,gR,Z9=(gR=class extends hD{constructor(t){super();St(this,yi);St(this,gi);St(this,Sn);St(this,wl);this.mutationId=t.mutationId,st(this,Sn,t.mutationCache),st(this,gi,[]),this.state=t.state||e7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){fe(this,gi).includes(t)||(fe(this,gi).push(t),this.clearGcTimeout(),fe(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,gi,fe(this,gi).filter(r=>r!==t)),this.scheduleGc(),fe(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){fe(this,gi).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Sn).remove(this))}continue(){var t;return((t=fe(this,wl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,y,p,v,g,x,b,_,j,S,C,N;const r=()=>{hn(this,yi,$s).call(this,{type:"continue"})};st(this,wl,fD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{hn(this,yi,$s).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{hn(this,yi,$s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Sn).canRun(this)}));const n=this.state.status==="pending",a=!fe(this,wl).canStart();try{if(n)r();else{hn(this,yi,$s).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=fe(this,Sn).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&hn(this,yi,$s).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const P=await fe(this,wl).start();return await((d=(u=fe(this,Sn).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((y=(m=fe(this,Sn).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,P,null,t,this.state.context)),hn(this,yi,$s).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(g=fe(this,Sn).config).onError)==null?void 0:x.call(g,P,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context)),await((S=(j=fe(this,Sn).config).onSettled)==null?void 0:S.call(j,void 0,P,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,P,t,this.state.context)),P}finally{hn(this,yi,$s).call(this,{type:"error",error:P})}}finally{fe(this,Sn).runNext(this)}}},gi=new WeakMap,Sn=new WeakMap,wl=new WeakMap,yi=new WeakSet,$s=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pn.batch(()=>{fe(this,gi).forEach(n=>{n.onMutationUpdate(t)}),fe(this,Sn).notify({mutation:this,type:"updated",action:t})})},gR);function e7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ji,Ka,xm,yR,t7=(yR=class extends Hy{constructor(t={}){super();St(this,Ji);St(this,Ka);St(this,xm);this.config=t,st(this,Ji,new Set),st(this,Ka,new Map),st(this,xm,0)}build(t,r,n){const a=new Z9({mutationCache:this,mutationId:++Um(this,xm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){fe(this,Ji).add(t);const r=dp(t);if(typeof r=="string"){const n=fe(this,Ka).get(r);n?n.push(t):fe(this,Ka).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(fe(this,Ji).delete(t)){const r=dp(t);if(typeof r=="string"){const n=fe(this,Ka).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&fe(this,Ka).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=dp(t);if(typeof r=="string"){const n=fe(this,Ka).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=dp(t);if(typeof r=="string"){const a=(n=fe(this,Ka).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pn.batch(()=>{fe(this,Ji).forEach(t=>{this.notify({type:"removed",mutation:t})}),fe(this,Ji).clear(),fe(this,Ka).clear()})}getAll(){return Array.from(fe(this,Ji))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yk(r,n))}findAll(t={}){return this.getAll().filter(r=>yk(t,r))}notify(t){Pn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Pn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Va))))}},Ji=new WeakMap,Ka=new WeakMap,xm=new WeakMap,yR);function dp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wk(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},g=lD(t.options,t.fetchOptions),x=async(b,_,j)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return v(O),O})(),N=await g(C),{maxPages:P}=t.options,E=j?U9:z9;return{pages:E(b.pages,N,P),pageParams:E(b.pageParams,_,P)}};if(a&&i.length){const b=a==="backward",_=b?r7:jk,j={pages:i,pageParams:o},S=_(n,j);l=await x(j,S,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:jk(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function jk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function r7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var fr,Ys,Xs,fu,hu,Qs,mu,pu,xR,n7=(xR=class{constructor(e={}){St(this,fr);St(this,Ys);St(this,Xs);St(this,fu);St(this,hu);St(this,Qs);St(this,mu);St(this,pu);st(this,fr,e.queryCache||new J9),st(this,Ys,e.mutationCache||new t7),st(this,Xs,e.defaultOptions||{}),st(this,fu,new Map),st(this,hu,new Map),st(this,Qs,0)}mount(){Um(this,Qs)._++,fe(this,Qs)===1&&(st(this,mu,cD.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,fr).onFocus())})),st(this,pu,Lv.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,fr).onOnline())})))}unmount(){var e,t;Um(this,Qs)._--,fe(this,Qs)===0&&((e=fe(this,mu))==null||e.call(this),st(this,mu,void 0),(t=fe(this,pu))==null||t.call(this),st(this,pu,void 0))}isFetching(e){return fe(this,fr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return fe(this,Ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,fr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=fe(this,fr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(oj(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return fe(this,fr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=fe(this,fr).get(n.queryHash),i=a==null?void 0:a.state.data,o=$9(t,i);if(o!==void 0)return fe(this,fr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Pn.batch(()=>fe(this,fr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,fr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=fe(this,fr);Pn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=fe(this,fr);return Pn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Pn.batch(()=>fe(this,fr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Va).catch(Va)}invalidateQueries(e,t={}){return Pn.batch(()=>(fe(this,fr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Pn.batch(()=>fe(this,fr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Va)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Va)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=fe(this,fr).build(this,t);return r.isStaleByTime(oj(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Va).catch(Va)}fetchInfiniteQuery(e){return e.behavior=wk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Va).catch(Va)}ensureInfiniteQueryData(e){return e.behavior=wk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lv.isOnline()?fe(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,fr)}getMutationCache(){return fe(this,Ys)}getDefaultOptions(){return fe(this,Xs)}setDefaultOptions(e){st(this,Xs,e)}setQueryDefaults(e,t){fe(this,fu).set(jh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...fe(this,fu).values()],r={};return t.forEach(n=>{_h(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){fe(this,hu).set(jh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...fe(this,hu).values()],r={};return t.forEach(n=>{_h(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...fe(this,Xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=US(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...fe(this,Xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){fe(this,fr).clear(),fe(this,Ys).clear()}},fr=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,fu=new WeakMap,hu=new WeakMap,Qs=new WeakMap,mu=new WeakMap,pu=new WeakMap,xR),a7=w.createContext(void 0),i7=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(a7.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}var eo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(eo||(eo={}));const _k="popstate";function s7(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return cj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Fv(a)}return l7(t,r,null,e)}function ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o7(){return Math.random().toString(36).substr(2,8)}function Sk(e,t){return{usr:e.state,key:e.key,idx:t}}function cj(e,t,r,n){return r===void 0&&(r=null),Sh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_d(t):t,{state:r,key:t&&t.key||n||o7()})}function Fv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _d(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function l7(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=eo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=eo.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:g})}function h(v,g){l=eo.Push;let x=cj(p.location,v,g);u=d()+1;let b=Sk(x,u),_=p.createHref(x);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,g){l=eo.Replace;let x=cj(p.location,v,g);u=d();let b=Sk(x,u),_=p.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function y(v){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:Fv(v);return x=x.replace(/ $/,"%20"),ur(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_k,f),c=v,()=>{a.removeEventListener(_k,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var Ck;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ck||(Ck={}));function c7(e,t,r){return r===void 0&&(r="/"),u7(e,t,r,!1)}function u7(e,t,r,n){let a=typeof t=="string"?_d(t):t,i=Eu(a.pathname||"/",r);if(i==null)return null;let o=pD(e);d7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=j7(i);l=b7(o[c],u,n)}return l}function pD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ur(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ur(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:y7(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of vD(i.path))a(i,o,c)}),t}function vD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=vD(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function d7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:x7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f7=/^:[\w-]+$/,h7=3,m7=2,p7=1,v7=10,g7=-2,Nk=e=>e==="*";function y7(e,t){let r=e.split("/"),n=r.length;return r.some(Nk)&&(n+=g7),t&&(n+=m7),r.filter(a=>!Nk(a)).reduce((a,i)=>a+(f7.test(i)?h7:i===""?p7:v7),n)}function x7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function b7(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:vo([i,f.pathname]),pathnameBase:N7(vo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=vo([i,f.pathnameBase]))}return o}function Bv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=w7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function w7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function j7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Eu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _7(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?_d(e):e;return{pathname:r?r.startsWith("/")?r:S7(r,t):t,search:P7(n),hash:k7(a)}}function S7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function X0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function WS(e,t){let r=C7(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function HS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=_d(e):(a=Sh({},e),ur(!a.pathname||!a.pathname.includes("?"),X0("?","pathname","search",a)),ur(!a.pathname||!a.pathname.includes("#"),X0("#","pathname","hash",a)),ur(!a.search||!a.search.includes("#"),X0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=_7(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vo=e=>e.join("/").replace(/\/\/+/g,"/"),N7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gD=["post","put","patch","delete"];new Set(gD);const A7=["get",...gD];new Set(A7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}const Ky=w.createContext(null),yD=w.createContext(null),js=w.createContext(null),Gy=w.createContext(null),To=w.createContext({outlet:null,matches:[],isDataRoute:!1}),xD=w.createContext(null);function O7(e,t){let{relative:r}=t===void 0?{}:t;Sd()||ur(!1);let{basename:n,navigator:a}=w.useContext(js),{hash:i,pathname:o,search:l}=Yy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:vo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Sd(){return w.useContext(Gy)!=null}function Yl(){return Sd()||ur(!1),w.useContext(Gy).location}function bD(e){w.useContext(js).static||w.useLayoutEffect(e)}function km(){let{isDataRoute:e}=w.useContext(To);return e?W7():T7()}function T7(){Sd()||ur(!1);let e=w.useContext(Ky),{basename:t,future:r,navigator:n}=w.useContext(js),{matches:a}=w.useContext(To),{pathname:i}=Yl(),o=JSON.stringify(WS(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return bD(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=HS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Yy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(js),{matches:a}=w.useContext(To),{pathname:i}=Yl(),o=JSON.stringify(WS(a,n.v7_relativeSplatPath));return w.useMemo(()=>HS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function R7(e,t){return M7(e,t)}function M7(e,t,r,n){Sd()||ur(!1);let{navigator:a}=w.useContext(js),{matches:i}=w.useContext(To),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yl(),d;if(t){var f;let v=typeof t=="string"?_d(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ur(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=c7(e,{pathname:m}),p=F7(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:vo([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:vo([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?w.createElement(Gy.Provider,{value:{location:Ch({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:eo.Pop}},p):p}function $7(){let e=V7(),t=E7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const I7=w.createElement($7,null);class D7 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(To.Provider,{value:this.props.routeContext},w.createElement(xD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L7(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(Ky);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(To.Provider,{value:t},n)}function F7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ur(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||I7,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=p:y?b=v:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(L7,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(D7,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var wD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wD||{}),zv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zv||{});function B7(e){let t=w.useContext(Ky);return t||ur(!1),t}function z7(e){let t=w.useContext(yD);return t||ur(!1),t}function U7(e){let t=w.useContext(To);return t||ur(!1),t}function jD(e){let t=U7(),r=t.matches[t.matches.length-1];return r.route.id||ur(!1),r.route.id}function V7(){var e;let t=w.useContext(xD),r=z7(zv.UseRouteError),n=jD(zv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function W7(){let{router:e}=B7(wD.UseNavigateStable),t=jD(zv.UseNavigateStable),r=w.useRef(!1);return bD(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ch({fromRouteId:t},i)))},[e,t])}function H7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Uv(e){let{to:t,replace:r,state:n,relative:a}=e;Sd()||ur(!1);let{future:i,static:o}=w.useContext(js),{matches:l}=w.useContext(To),{pathname:c}=Yl(),u=km(),d=HS(t,WS(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Sr(e){ur(!1)}function q7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=eo.Pop,navigator:i,static:o=!1,future:l}=e;Sd()&&ur(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Ch({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=_d(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,p=w.useMemo(()=>{let v=Eu(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:y},navigationType:a}},[c,d,f,h,m,y,a]);return p==null?null:w.createElement(js.Provider,{value:u},w.createElement(Gy.Provider,{children:r,value:p}))}function K7(e){let{children:t,location:r}=e;return R7(uj(t),r)}new Promise(()=>{});function uj(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,uj(n.props.children,i));return}n.type!==Sr&&ur(!1),!n.props.index||!n.props.children||ur(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}function _D(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function G7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y7(e,t){return e.button===0&&(!t||t==="_self")&&!G7(e)}const X7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],J7="6";try{window.__reactRouterVersion=J7}catch{}const Z7=w.createContext({isTransitioning:!1}),eK="startTransition",Pk=E_[eK];function tK(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=s7({window:a,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&Pk?Pk(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>H7(n),[n]),w.createElement(q7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const rK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aK=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=_D(t,X7),{basename:m}=w.useContext(js),y,p=!1;if(typeof u=="string"&&nK.test(u)&&(y=u,rK))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Eu(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let v=O7(u,{relative:a}),g=sK(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||g(b)}return w.createElement("a",Vv({},h,{href:y||v,onClick:p||i?n:x,ref:r,target:c}))}),kk=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=_D(t,Q7),h=Yy(c,{relative:f.relative}),m=Yl(),y=w.useContext(yD),{navigator:p,basename:v}=w.useContext(js),g=y!=null&&oK(h)&&u===!0,x=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&v&&(_=Eu(_,v)||_);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!o&&b.startsWith(x)&&b.charAt(j)==="/",C=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),N={isActive:S,isPending:C,isTransitioning:g},P=S?n:void 0,E;typeof i=="function"?E=i(N):E=[i,S?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(N):l;return w.createElement(aK,Vv({},f,{"aria-current":P,className:E,ref:r,style:O,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var dj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dj||(dj={}));var Ek;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ek||(Ek={}));function iK(e){let t=w.useContext(Ky);return t||ur(!1),t}function sK(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=km(),u=Yl(),d=Yy(e,{relative:o});return w.useCallback(f=>{if(Y7(f,r)){f.preventDefault();let h=n!==void 0?n:Fv(u)===Fv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function oK(e,t){t===void 0&&(t={});let r=w.useContext(Z7);r==null&&ur(!1);let{basename:n}=iK(dj.useViewTransitionState),a=Yy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Eu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Eu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bv(a.pathname,o)!=null||Bv(a.pathname,i)!=null}const lK=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],cK=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],uK=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],qS=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function dK(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,o=i+a;return t>=i&&t<o?r+n.devCost/a:r},0)}function fK(e,t,r){let n=0,a=0;return e.forEach(i=>{const o=i.volumesByChannel;if(o){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,d=i.coef_oem||1.4,f=l/c/u,h=i.unitCost*d,m=Math.round((o.B2C[t]||0)*(1+r.volumeAdjustment));n+=m*l*(1+r.priceAdjustment),a+=m*i.unitCost;const y=Math.round((o.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),a+=y*i.unitCost;const p=Math.round((o.OEM[t]||0)*(1+r.volumeAdjustment));n+=p*h*(1+r.priceAdjustment),a+=p*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function hK(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function mK(e,t,r,n,a,i,o="detailed",l){if(o==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=a*(u.volumeRatio||0);break;case"step":const m=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();m&&(d=m.newAnnualCost);break}d=d*(1+i.opexAdjustment),c+=d}),c}function pK(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function vK(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,o=a.launchYear,l=o+i;if(t>=o&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function gK(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),o=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+o+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function yK(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function xK(e,t,r,n,a,i,o,l,c="detailed",u){const d=[];let f=a,h=a,m=a,y=0,p=null,v=0,g=0,x=0;const b=yK(e);for(let C=0;C<o;C++){const N=i+C,P=f,{revenue:E,cogs:O}=fK(e,N,l),{payroll:T,headcount:A}=hK(t,N),k=gK(e,N,l),$=mK(r,N,i,E,k,l,c,u),D=pK(e,N),{total:M,byProduct:I}=vK(e,N);g+=D,x+=M;const L=E-O,B=E>0?L/E:0,Q=L-T-$,X=E>0?Q/E:0,ne=Q-M,z=O+T+$+D,U=E-z,H=n.filter(ze=>ze.year===N),q=H.reduce((ze,Ye)=>ze+Ye.amount,0);v+=q;const J=U/4,Z={Q1:0,Q2:0,Q3:0,Q4:0};let te=P,V=P;["Q1","Q2","Q3","Q4"].forEach(ze=>{const et=H.filter(ht=>ht.quarter===ze).reduce((ht,Tt)=>ht+Tt.amount,0);V+=J+et,Z[ze]=V,V<te&&(te=V)});const he=P+U+q;f=he,te<h&&(h=te);const _e=a+d.reduce((ze,Ye)=>ze+Ye.cashFlow,0)+U;_e<m&&(m=_e),U<0&&Math.abs(U)>y&&(y=Math.abs(U)),p===null&&U>0&&(p=N),d.push({year:N,revenue:E,fundingInjection:q,cogs:O,payroll:T,opex:$,capex:D,grossMargin:L,grossMarginRate:B,ebitda:Q,ebitdaMargin:X,depreciation:M,depreciationByProduct:I,operatingResult:ne,totalCosts:z,cashFlow:U,treasuryStart:P,treasuryEnd:he,quarterlyTreasury:Z,minTreasuryInYear:te,headcount:A})}const _=Math.max(0,-m),j=y/12,S=j>0?Math.floor(a/j):999;return{years:d,initialCash:a,totalFundingRaised:v,fundingNeed:_,minTreasury:h,breakEvenYear:p,maxBurn:y,runway:S,productAmortizations:b,totalCapex:g,totalDepreciation:x}}const bK=["Q1","Q2","Q3","Q4"],ll=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function wK(){return[{delayMonths:0,percentage:100}]}function Ak(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function SD(){return{revenueSeasonality:Ak(),cogsSeasonality:Ak(),cogsPaymentTerms:wK(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function Ok(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function jK(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=CK(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<a&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,o=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((o-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(o<=i)return n;if(e.frequency==="monthly"){const l=o-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const p=d*c,v=u-p;d-=v,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,v),interest:p,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((o-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f*3,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const p=d*c,v=u-p;d-=v,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,v),interest:p,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((o-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,m=e.startDate.month;if(h<t||h>=a)continue;const y=d*c,p=u-y;d-=p,n.push({loanId:e.id,loanName:e.name,year:h,month:m,principal:Math.max(0,p),interest:y,total:u,isManuallyModified:!1})}}return n}function _K(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function SK(e,t,r,n,a,i,o=!1){var E,O;const l=[];let c=n,u=n,d=null,f=null,h=0,m=0,y=0,p=0;const v=Ok(e.revenueSeasonality),g=Ok(e.cogsSeasonality),x=e.cogsPaymentTerms&&e.cogsPaymentTerms.length>0?e.cogsPaymentTerms:[{delayMonths:0,percentage:100}],b=x.reduce((T,A)=>T+A.percentage,0),_=b>0?x.map(T=>({...T,percentage:T.percentage/b})):[{delayMonths:0,percentage:1}],j=[];e.loans.forEach(T=>{j.push(...jK(T,a,i))});const S=e.capexPayments||[],C=i*12,N=[];for(let T=0;T<i;T++){const A=a+T,$=(t.annualCogs[A]||0)/12;for(let D=0;D<12;D++)N.push($*g[D])}const P=new Array(C+24).fill(0);N.forEach((T,A)=>{_.forEach(k=>{const $=A+k.delayMonths;$<P.length&&(P[$]+=T*k.percentage)})});for(let T=0;T<i;T++){const A=a+T,k=t.annualRevenue[A]||0,$=t.annualPayroll[A]||0,D=t.annualOpex[A]||0,M=k/12,I=$/12,L=D/12;for(let B=0;B<12;B++){const Q=B,X=c,ne=M*v[B];let z=0;if(!o){const F=_K(Q);B%3===0&&r.forEach(re=>{re.year===A&&re.quarter===F&&(z+=re.amount,h+=re.amount)})}const U=`${A}-${Q.toString().padStart(2,"0")}`,H=((E=e.otherInflows[U])==null?void 0:E.amount)||0,q=ne+z+H,J=T*12+B,Z=P[J]||0;let te=0;const V=[];e.variableCharges.forEach(F=>{const G=ne*F.rateOfRevenue;te+=G,V.push({name:F.name,amount:G})}),m+=te;const K=j.filter(F=>F.year===A&&F.month===Q),he=K.reduce((F,G)=>F+G.total,0);y+=he;const _e=S.filter(F=>F.year===A&&F.month===Q),ze=_e.reduce((F,G)=>F+G.amount,0);p+=ze;const Ye=((O=e.otherOutflows[U])==null?void 0:O.amount)||0,et=Z+I+L+te+he+ze+Ye,ht=q-et,Tt=X+ht;Tt<u&&(u=Tt,d={year:A,month:Q}),f===null&&ht>0&&l.length>0&&l.slice(-3).some(G=>G.netCashFlow<0)&&(f={year:A,month:Q}),l.push({year:A,month:Q,monthName:ll[B],revenue:ne,fundingInjection:z,otherInflows:H,totalInflows:q,cogs:Z,payroll:I,opex:L,variableCharges:te,loanPayments:he,capexPayments:ze,otherOutflows:Ye,totalOutflows:et,treasuryStart:X,netCashFlow:ht,treasuryEnd:Tt,loanPaymentDetails:K,variableChargeDetails:V,capexPaymentDetails:_e}),c=Tt}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:m,totalLoanPayments:y,totalCapexPayments:p}}function CK(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function Cd(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const Ct=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ct.displayName="Card";const Lt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Lt.displayName="CardHeader";const Ft=w.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ft.displayName="CardTitle";const os=w.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));os.displayName="CardDescription";const Et=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));Et.displayName="CardContent";const NK=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));NK.displayName="CardFooter";function pt({label:e,value:t,subValue:r,trend:n,className:a}){return s.jsx(Ct,{className:ie("",a),children:s.jsxs(Et,{className:"pt-4 pb-3",children:[s.jsx("div",{className:"kpi-label mb-1",children:e}),s.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&s.jsx(Gl,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&s.jsx(PS,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function He({title:e,children:t,id:r,className:n,action:a}){return s.jsxs(Ct,{className:ie("",n),id:r,children:[s.jsxs(Lt,{className:"pb-3 flex flex-row items-center justify-between",children:[s.jsx(Ft,{className:"text-lg",children:e}),a]}),s.jsx(Et,{children:t})]})}const je=w.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));je.displayName="Input";function Nh(e,[t,r]){return Math.min(r,Math.max(t,e))}var PK=w.createContext(void 0);function Nd(e){const t=w.useContext(PK);return e||t||"ltr"}function Xy(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CD=["PageUp","PageDown"],ND=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pd="Slider",[fj,kK,EK]=Ty(Pd),[kD,FOe]=$n(Pd,[EK]),[AK,Qy]=kD(Pd),ED=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...p}=e,v=w.useRef(new Set),g=w.useRef(0),b=o==="horizontal"?OK:TK,[_=[],j]=qn({prop:d,defaultProp:u,onChange:O=>{var A;(A=[...v.current][g.current])==null||A.focus(),f(O)}}),S=w.useRef(_);function C(O){const T=DK(_,O);E(O,T)}function N(O){E(O,g.current)}function P(){const O=S.current[g.current];_[g.current]!==O&&h(_)}function E(O,T,{commit:A}={commit:!1}){const k=zK(i),$=UK(Math.round((O-n)/i)*i+n,k),D=Nh($,[n,a]);j((M=[])=>{const I=$K(M,D,T);if(BK(I,c*i)){g.current=I.indexOf(D);const L=String(I)!==String(M);return L&&A&&h(I),L?I:M}else return M})}return s.jsx(AK,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:g,thumbs:v.current,values:_,orientation:o,form:y,children:s.jsx(fj.Provider,{scope:e.__scopeSlider,children:s.jsx(fj.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ee(p.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,_.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:T})=>{if(!l){const $=CD.includes(O.key)||O.shiftKey&&ND.includes(O.key)?10:1,D=g.current,M=_[D],I=i*$*T;E(M+I,D,{commit:!0})}}})})})})});ED.displayName=Pd;var[AD,OD]=kD(Pd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),OK=w.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=w.useState(null),m=rt(t,b=>h(b)),y=w.useRef(void 0),p=Nd(a),v=p==="ltr",g=v&&!i||!v&&i;function x(b){const _=y.current||f.getBoundingClientRect(),j=[0,_.width],C=KS(j,g?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return s.jsx(AD,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:s.jsx(TD,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=PD[g?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),TK=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=w.useRef(null),f=rt(t,d),h=w.useRef(void 0),m=!a;function y(p){const v=h.current||d.current.getBoundingClientRect(),g=[0,v.height],b=KS(g,m?[n,r]:[r,n]);return h.current=v,b(p-v.top)}return s.jsx(AD,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(TD,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=y(p.clientY);i==null||i(v)},onSlideMove:p=>{const v=y(p.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const g=PD[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:g?-1:1})}})})}),TD=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Qy(Pd,r);return s.jsx(Fe.span,{...u,ref:t,onKeyDown:Ee(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):CD.concat(ND).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ee(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Ee(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Ee(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),RD="SliderTrack",MD=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Qy(RD,r);return s.jsx(Fe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});MD.displayName=RD;var hj="SliderRange",$D=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Qy(hj,r),i=OD(hj,r),o=w.useRef(null),l=rt(t,o),c=a.values.length,u=a.values.map(h=>LD(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Fe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});$D.displayName=hj;var mj="SliderThumb",ID=w.forwardRef((e,t)=>{const r=kK(e.__scopeSlider),[n,a]=w.useState(null),i=rt(t,l=>a(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(RK,{...e,ref:i,index:o})}),RK=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=Qy(mj,r),l=OD(mj,r),[c,u]=w.useState(null),d=rt(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=By(c),m=o.values[n],y=m===void 0?0:LD(m,o.min,o.max),p=IK(n,o.values.length),v=h==null?void 0:h[l.size],g=v?LK(v,y,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${g}px)`},children:[s.jsx(fj.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Fe.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Ee(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(DD,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});ID.displayName=mj;var MK="RadioBubbleInput",DD=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=w.useRef(null),i=rt(a,n),o=Xy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Fe.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});DD.displayName=MK;function $K(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function LD(e,t,r){const i=100/(r-t)*(e-t);return Nh(i,[0,100])}function IK(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function DK(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function LK(e,t,r){const n=e/2,i=KS([0,50],[0,n]);return(n-i(t)*r)*r}function FK(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function BK(e,t){if(t>0){const r=FK(e);return Math.min(...r)>=t}return!0}function KS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function zK(e){return(String(e).split(".")[1]||"").length}function UK(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var FD=ED,VK=MD,WK=$D,HK=ID;const an=w.forwardRef(({className:e,...t},r)=>s.jsxs(FD,{ref:r,className:ie("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(VK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(WK,{className:"absolute h-full bg-primary"})}),s.jsx(HK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));an.displayName=FD.displayName;const GS=gd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?I$:"button";return s.jsx(o,{className:ie(GS({variant:t,size:r,className:e})),ref:i,...a})});se.displayName="Button";function ee(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function Wr(e){return`${(e*100).toFixed(1)}%`}const Wv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function Ph(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function pj(e,t){const r=e.marginRates||Wv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function qK(e,t){return Ph(e,t)-pj(e,t)}const Q0=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function KK({config:e,onChange:t,years:r}){const n=e.marginRates||Wv.marginRates,a=e.growthRates||Wv.growthRates,i=(m,y,p)=>{t({...e,[m]:{...e[m],[y]:p}})},o=(m,y)=>{t({...e,marginRates:{...n,[m]:y}})},l=(m,y)=>{t({...e,growthRates:{...a,[m]:y}})},c=m=>{const y=r[0],p=e[m][y]||0;if(p<=0)return;const v=a[m],g={...e[m]};r.forEach((x,b)=>{b!==0&&(g[x]=Math.round(p*Math.pow(1+v,b)))}),t({...e,[m]:g})},u=()=>{let m={...e};Q0.forEach(({key:y})=>{const p=e[y][r[0]]||0;if(p<=0)return;const v=a[y],g={...e[y]};r.forEach((x,b)=>{b!==0&&(g[x]=Math.round(p*Math.pow(1+v,b)))}),m={...m,[y]:g}}),t(m)},d=r.reduce((m,y)=>m+Ph(e,y),0),f=r.reduce((m,y)=>m+pj(e,y),0),h=d>0?f/d:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(He,{title:"Paramtres par Canal",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Q0.map(m=>s.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[s.jsx("div",{className:"font-medium text-sm",children:m.label}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de croissance"}),s.jsxs("span",{className:"font-mono",children:[(a[m.key]*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[a[m.key]*100],onValueChange:([y])=>l(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de marge"}),s.jsxs("span",{className:"font-mono",children:[(n[m.key]*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[n[m.key]*100],onValueChange:([y])=>o(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs(se,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(m.key),children:[s.jsx(tk,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},m.key))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(se,{variant:"default",size:"sm",onClick:u,children:[s.jsx(tk,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),s.jsx(He,{title:"CA Global par Canal",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(m=>s.jsx("th",{className:"text-center py-2 px-3",children:m},m)),s.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),s.jsxs("tbody",{children:[Q0.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:[m.label,s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[m.key]*100).toFixed(0),"%)"]})]}),r.map(y=>s.jsx("td",{className:"py-2 px-3 text-center",children:s.jsx(je,{type:"number",value:e[m.key][y]||0,onChange:p=>i(m.key,y,Number(p.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(r.reduce((y,p)=>y+(e[m.key][p]||0),0),!0)})]},m.key)),s.jsxs("tr",{className:"font-semibold border-t",children:[s.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(Ph(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(d,!0)})]}),s.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",s.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(pj(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(f,!0)})]})]})]})})})]})}var GK="Label",BD=w.forwardRef((e,t)=>s.jsx(Fe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));BD.displayName=GK;var zD=BD;const YK=gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=w.forwardRef(({className:e,...t},r)=>s.jsx(zD,{ref:r,className:ie(YK(),e),...t}));Se.displayName=zD.displayName;const XK={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function QK({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*e.ocRatio,a=e.totalRaise*(1-e.ocRatio),i=r+a,o=i>0?a/i:0;return s.jsx(He,{title:"Simulation de Dilution",id:"valuation-dilution",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Se,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%  Equity: ",((1-e.ocRatio)*100).toFixed(0),"%"]}),s.jsx(an,{value:[e.ocRatio*100],onValueChange:([l])=>t({...e,ocRatio:l/100}),min:0,max:99,step:1})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(r,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part OC"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(n,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(e.ocRatio*100).toFixed(0),"% de la leve"]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part Equity"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(a,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[((1-e.ocRatio)*100).toFixed(0),"% de la leve"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(i,!0)})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution (equity uniquement)"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:Wr(o)})]})]})]})})}var bi=function(){return bi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},bi.apply(this,arguments)};function kd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function JK(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function ZK(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const eG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class YS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tG extends YS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tk extends YS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rk extends YS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vj||(vj={}));class rG{constructor(t,{headers:r={},customFetch:n,region:a=vj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=eG(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return JK(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:v}).catch(j=>{throw new tG(j)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new Tk(g);if(!g.ok)throw new Rk(g);let b=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield g.json():b==="application/octet-stream"||b==="application/pdf"?_=yield g.blob():b==="text/event-stream"?_=g:b==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof Rk||l instanceof Tk?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var nG=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},aG=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new nG(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},iG=class extends aG{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Mk=new RegExp("[,()]");var bc=class extends iG{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mk.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sG=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new bc({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new bc({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new bc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new bc({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new bc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oG=class UD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new UD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new bc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class lG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cG="2.93.3",uG=`realtime-js/${cG}`,dG="1.0.0",VD="2.0.0",$k=VD,gj=1e4,fG=1e3,hG=100;var Bs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bs||(Bs={}));var Fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fr||(Fr={}));var Ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ya||(Ya={}));var yj;(function(e){e.websocket="websocket"})(yj||(yj={}));var rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rl||(rl={}));class mG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),p=0;y.setUint8(p++,this.KINDS.userBroadcastPush),y.setUint8(p++,c.length),y.setUint8(p++,l.length),y.setUint8(p++,o.length),y.setUint8(p++,u.length),y.setUint8(p++,f.length),y.setUint8(p++,r),Array.from(c,g=>y.setUint8(p++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(p++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(p++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(p++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(p++,g.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class WD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ut||(Ut={}));const Ik=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=pG(o,e,t,a),i),{}):{}},pG=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?HD(i,o):xj(o)},HD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return xG(t,r)}switch(e){case Ut.bool:return vG(t);case Ut.float4:case Ut.float8:case Ut.int2:case Ut.int4:case Ut.int8:case Ut.numeric:case Ut.oid:return gG(t);case Ut.json:case Ut.jsonb:return yG(t);case Ut.timestamp:return bG(t);case Ut.abstime:case Ut.date:case Ut.daterange:case Ut.int4range:case Ut.int8range:case Ut.money:case Ut.reltime:case Ut.text:case Ut.time:case Ut.timestamptz:case Ut.timetz:case Ut.tsrange:case Ut.tstzrange:return xj(t);default:return xj(t)}},xj=e=>e,vG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},xG=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>HD(t,l))}return e},bG=e=>typeof e=="string"?e.replace(" ","T"):e,qD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class J0{constructor(t,r,n={},a=gj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dk||(Dk={}));class Bf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Bf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),y=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lk||(Lk={}));var zf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zf||(zf={}));var Yi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yi||(Yi={}));class Bc{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new J0(this,Ya.join,this.params,this.timeout),this.rejoinTimer=new WD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ya.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Bf(this),this.broadcastEndpointURL=qD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[zf.PRESENCE]&&this.bindings[zf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Yi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Yi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Yi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(y=p==null?void 0:p.length)!==null&&y!==void 0?y:0,g=[];for(let x=0;x<v;x++){const b=p[x],{filter:{event:_,schema:j,table:S,filter:C}}=b,N=m&&m[x];if(N&&N.event===_&&Bc.isFilterValueEqual(N.schema,j)&&Bc.isFilterValueEqual(N.table,S)&&Bc.isFilterValueEqual(N.filter,C))g.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Yi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Fr.joined&&t===zf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ya.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new J0(this,Ya.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new J0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hG){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ya;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,p,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,p,v,g,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:p,table:v,commit_timestamp:g,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:g,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Bc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ya.close,{},t)}_onError(t){this._on(Ya.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ik(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ik(t.columns,t.old_record)),r}}const Z0=()=>{},fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wG=[1e3,2e3,5e3,1e4],jG=1e4,_G=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SG{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gj,this.transport=null,this.heartbeatIntervalMs=fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Z0,this.ref=0,this.reconnectTimer=null,this.vsn=$k,this.logger=Z0,this.conn=null,this.sendBuffer=[],this.serializer=new mG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${yj.websocket}`,this.httpEndpoint=qD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bs.connecting:return rl.Connecting;case Bs.open:return rl.Open;case Bs.closing:return rl.Closing;default:return rl.Closed}}isConnected(){return this.connectionState()===rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Bc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fG,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Bs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bs.open||this.conn.readyState===Bs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ya.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_G],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:uG};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ya.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new WD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gj,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:fp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Z0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:$k,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>wG[y-1]||jG,this.vsn){case dG:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,p)=>p(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,p)=>p(JSON.parse(y));break;case VD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var kh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CG(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function NG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function PG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=CG(e.baseUrl,n,a),c=await NG(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new kh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function hp(e){return e.join("")}var kG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hp(e.namespace)}`}),!0}catch(t){if(t instanceof kh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof kh&&r.status===409)return;throw r}}};function rc(e){return e.join("")}var EG=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof kh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof kh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},AG=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=PG({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new kG(this.client,t),this.tableOps=new EG(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Jy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Zy(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mp=class extends Jy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},KD=class extends Jy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const OG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bj=e=>{if(Array.isArray(e))return e.map(r=>bj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=bj(n)}),t},RG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function MG(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e){var t=MG(e,"string");return Eh(t)=="symbol"?t:t+""}function IG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Bk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},DG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new mp(Bk(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new mp(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new mp(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new mp(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new KD(Bk(e),e,n))},LG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},a),r):(TG(n)?(a.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Je(Je({},a),r))};async function af(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,LG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>DG(u,c,n,o))})}function GD(e="storage"){return{get:async(t,r,n,a)=>af(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>af(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>af(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>af(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>af(t,"DELETE",r,a,i,n,e)}}const FG=GD("storage"),{get:Ah,post:Wa,put:wj,head:BG,remove:XS}=FG,ra=GD("vectors");var Ed=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=OG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zy(r))return{data:null,error:r};throw r}}},zG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zy(t))return{data:null,error:t};throw t}}};let YD;YD=Symbol.toStringTag;var UG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[YD]="BlobDownloadBuilder",this.promise=null}asStream(){return new zG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zy(t))return{data:null,error:t};throw t}}};const VG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var WG=class extends Ed{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=Je(Je({},zk),n);let l=Je(Je({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?wj:Wa)(a.fetch,`${a.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=Je({upsert:zk.upsert},n),d=Je(Je({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await wj(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Je({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Wa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Jy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Wa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Wa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Wa(n.fetch,`${n.url}/object/sign/${a}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Wa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Ah(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new UG(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>bj(await Ah(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await BG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zy(n)&&n instanceof KD){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Je(Je(Je({},VG),t),{},{prefix:e||""});return await Wa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await Wa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const HG="2.93.3",Em={"X-Client-Info":`storage-js/${HG}`};var qG=class extends Ed{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=Je(Je({},Em),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Ah(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ah(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Wa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await wj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Wa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},KG=class extends Ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Je(Je({},Em),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Wa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Ah(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!RG(e))throw new Jy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new AG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},GG=class extends Ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Je(Je({},Em),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ra.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ra.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},YG=class extends Ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Je(Je({},Em),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},XG=class extends Ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Je(Je({},Em),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ra.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},QG=class extends XG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new JG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},JG=class extends GG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new ZG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ZG=class extends YG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},eY=class extends qG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new WG(this.url,this.headers,e,this.fetch)}get vectors(){return new QG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KG(this.url+"/iceberg",this.headers,this.fetch)}};const XD="2.93.3",wc=30*1e3,jj=3,eb=jj*wc,tY="http://localhost:9999",rY="supabase.auth.token",nY={"X-Client-Info":`gotrue-js/${XD}`},_j="X-Supabase-Api-Version",QD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iY=10*60*1e3;class Oh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sY extends Oh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oY(e){return Ue(e)&&e.name==="AuthApiError"}class nl extends Oh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _s extends Oh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Yn extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tb(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class nc extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pp extends _s{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vp extends _s{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lY(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uk extends _s{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cY extends _s{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sj extends _s{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rb(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class Vk extends _s{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cj extends _s{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wk=` 	
\r=`.split(""),uY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wk.length;t+=1)e[Wk[t].charCodeAt(0)]=-2;for(let t=0;t<Hv.length;t+=1)e[Hv[t].charCodeAt(0)]=t;return e})();function Hk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hv[n]),t.queuedBits-=6}}function JD(e,t,r){const n=uY[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qk(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{hY(o,n,r)};for(let o=0;o<e.length;o+=1)JD(e.charCodeAt(o),a,i);return t.join("")}function dY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fY(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dY(n,t)}}function hY(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)JD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function mY(e){const t=[];return fY(e,r=>t.push(r)),new Uint8Array(t)}function cl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Hk(a,r,n)),Hk(null,r,n),t.join("")}function pY(e){return Math.round(Date.now()/1e3)+e}function vY(){return Symbol("auth-callback")}const en=()=>typeof window<"u"&&typeof document<"u",Vo={tested:!1,writable:!1},ZD=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vo.tested)return Vo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vo.tested=!0,Vo.writable=!0}catch{Vo.tested=!0,Vo.writable=!1}return Vo.writable};function gY(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const e3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zr=async(e,t)=>{await e.removeItem(t)};class ex{constructor(){this.promise=new ex.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ex.promiseConstructor=Promise;function gp(e){const t=e.split(".");if(t.length!==3)throw new Cj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!aY.test(t[n]))throw new Cj("JWT not in base64url format");return{header:JSON.parse(qk(t[0])),payload:JSON.parse(qk(t[1])),signature:tu(t[2]),raw:{header:t[0],payload:t[1]}}}async function xY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bY(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wY(e){return("0"+e.toString(16)).substr(-2)}function jY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wY).join("")}async function _Y(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function SY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _Y(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ac(e,t,r=!1){const n=jY();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await jc(e,`${t}-code-verifier`,a);const i=await SY(n);return[i,n===i?"plain":"s256"]}const CY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NY(e){const t=e.headers.get(_j);if(!t||!t.match(CY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(e){if(!EY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AY(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Kk(e){return JSON.parse(JSON.stringify(e))}const Qo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OY=[502,503,504];async function Gk(e){var t;if(!yY(e))throw new Sj(Qo(e),0);if(OY.includes(e.status))throw new Sj(Qo(e),e.status);let r;try{r=await e.json()}catch(i){throw new nl(Qo(i),i)}let n;const a=NY(e);if(a&&a.getTime()>=QD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vk(Qo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vk(Qo(r),e.status,r.weak_password.reasons);throw new sY(Qo(r),e.status||500,n)}const TY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Qe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[_j]||(i[_j]=QD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await RY(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function RY(e,t,r,n,a,i){const o=TY(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Sj(Qo(c),0)}if(l.ok||await Gk(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gk(c)}}function Ba(e){var t;let r=null;IY(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=pY(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yk(e){const t=Ba(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MY(e){return{data:e,error:null}}function $Y(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=kd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Xk(e){return e}function IY(e){return e.access_token&&e.refresh_token&&e.expires_in}const ab=["global","local","others"];class DY{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=e3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ab[0]){if(ab.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ab.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=kd(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$Y,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Xk});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ic(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ic(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ic(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ic(t.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ic(t.userId),ic(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Xk});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function Qk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const sc={debug:!!(globalThis&&ZD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class LY extends t3{}async function FY(e,t,r){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),sc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function BY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function zY(e){return parseInt(e,16)}function UY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function VY(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=r3(e.address),y=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${m}

${p}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}g+=x}return`${v}
${g}`}class Rr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qv extends Rr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function WY({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Rr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Rr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Rr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(n3(o)){if(i.rp.id!==o)return new Rr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Rr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function HY({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(n3(n)){if(r.rpId!==n)return new Rr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class qY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const KY=new qY;function GY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=kd(e,["challenge","user","excludeCredentials"]),i=tu(t).buffer,o=Object.assign(Object.assign({},r),{id:tu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:tu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function YY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=kd(e,["challenge","allowCredentials"]),a=tu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:tu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function XY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:cl(new Uint8Array(e.response.attestationObject)),clientDataJSON:cl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:cl(new Uint8Array(a.authenticatorData)),clientDataJSON:cl(new Uint8Array(a.clientDataJSON)),signature:cl(new Uint8Array(a.signature)),userHandle:a.userHandle?cl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jk(){var e,t;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qv("Browser returned unexpected credential type",t)}:{data:null,error:new qv("Empty credential response",t)}}catch(t){return{data:null,error:WY({error:t,options:e})}}}async function ZY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qv("Browser returned unexpected credential type",t)}:{data:null,error:new qv("Empty credential response",t)}}catch(t){return{data:null,error:HY({error:t,options:e})}}}const eX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Kv(l,o):n[i]=Kv(o)}else n[i]=o}return n}function rX(e,t){return Kv(eX,e,t||{})}function nX(e,t){return Kv(tX,e,t||{})}class aX{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??KY.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=rX(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await JY({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=nX(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await ZY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new nl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Oh("rpId is required for WebAuthn authentication")};try{if(!Jk())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new nl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Oh("rpId is required for WebAuthn registration")};try{if(!Jk())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new nl("Unexpected error in register",o)}}}}BY();const iX={url:tY,storageKey:rY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zk(e,t,r){return await r()}const oc={};class Th{get jwks(){var t,r;return(r=(t=oc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){oc[this.storageKey]=Object.assign(Object.assign({},oc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=oc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oc[this.storageKey]=Object.assign(Object.assign({},oc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},iX),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Th.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Th.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&en()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new DY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=e3(i.fetch),this.lock=i.lock||Zk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=FY:this.lock=Zk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Qk(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${XD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(en()&&(r=gY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),en()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lY(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new nl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ba}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ac(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Ba})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ba})}else throw new pp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Zr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yk})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yk})}else throw new pp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new nc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:p,wallet:v,statement:g,options:x}=t;let b;if(en())if(typeof v=="object")b=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=r3(j[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const P=await b.request({method:"eth_chainId"});C=zY(P)}const N={domain:_.host,address:S,statement:g,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=VY(N),y=await b.request({method:"personal_sign",params:[UY(m),S]})}try{const{data:p,error:v}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ba});if(v)throw v;if(!p||!p.session||!p.user){const g=new nc;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(Ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let y,p;if("message"in t)y=t.message,p=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let _;if(en())if(typeof g=="object")_=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:v,error:g}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:cl(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ba});if(g)throw g;if(!v||!v.session||!v.user){const x=new nc;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new cY;const{data:i,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ba});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new nc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ba}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new nc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ac(this.storage,this.storageKey));const{error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new pp("You must provide either an email or phone number.")}catch(l){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ba});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ac(this.storage,this.storageKey));const u=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:MY});return!((i=u.data)===null||i===void 0)&&i.url&&en()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yn;const{error:a}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new pp("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<eb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Wo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=nb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=AY(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hs}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Hs})})}catch(r){if(Ue(r))return tb(r)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Yn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ac(this.storage,this.storageKey));const{data:u,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Hs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=gp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!en())throw new vp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uk("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new vp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=wc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!tb(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(oY(l)&&(l.status===404||l.status===401||l.status===403)||tb(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=vY(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ac(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return en()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ba}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new nc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bY(async a=>(a>0&&await xY(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ba})),(a,i)=>{const o=200*Math.pow(2,a);return i&&rb(i)&&Date.now()+o-n<wc})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),en()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Wo(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Wo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await jc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:nb()}else if(a&&!a.user&&!a.user){const o=await Wo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Zr(this.storage,this.storageKey+"-user"),await jc(this.storage,this.storageKey,a)):a.user=nb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<eb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${eb}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),rb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ex;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ue(i)){const o={data:null,error:i};return rb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Kk(a);await jc(this.storage,this.storageKey,i)}else{const a=Kk(r);await jc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/wc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wc}ms, refresh threshold is ${jj} ticks`),a<=jj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof t3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ac(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?XY(t.webauthn.credential_response):QY(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:GY(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:YY(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=gp(t);let y=null;m.aal&&(y=m.aal);let p=y;const{data:{user:v},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const b=m.amr||[];return{data:{currentLevel:y,nextLevel:p,currentAuthenticationMethods:b},error:null}}catch(m){if(Ue(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=gp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Yn});const o=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&en()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Yn});const o=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&en()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+iY>a)return n;const{data:i,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=gp(n);r!=null&&r.allowExpired||PY(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=kY(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,mY(`${l}.${c}`)))throw new Cj("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Th.nextInstanceID={};const sX=Th,oX="2.93.3";let Nf="";typeof Deno<"u"?Nf="deno":typeof document<"u"?Nf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nf="react-native":Nf="node";const lX={"X-Client-Info":`supabase-js-${Nf}/${oX}`},cX={headers:lX},uX={schema:"public"},dX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fX={};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function hX(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e){var t=hX(e,"string");return Rh(t)=="symbol"?t:t+""}function pX(e,t,r){return(t=mX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const vX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gX=()=>Headers,yX=(e,t,r)=>{const n=vX(r),a=gX();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,hr(hr({},o),{},{headers:u}))}};function xX(e){return e.endsWith("/")?e:e+"/"}function bX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:hr(hr({},c),a),auth:hr(hr({},u),i),realtime:hr(hr({},d),o),storage:{},global:hr(hr(hr({},f),l),{},{headers:hr(hr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function wX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jX=class extends sX{constructor(e){super(e)}},_X=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=wX(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:uX,realtime:fX,auth:hr(hr({},dX),{},{storageKey:o}),global:cX},c=bX(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=yX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new oG(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new eY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new rG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jX({url:this.authUrl.href,headers:hr(hr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new SG(this.realtimeUrl.href,hr(hr({},e),{},{params:hr(hr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const SX=(e,t,r)=>new _X(e,t,r);function CX(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}CX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NX="https://twkcoxagbajvopzzinor.supabase.co",PX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",me=SX(NX,PX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),a3=w.createContext(void 0);function kX({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,o]=w.useState("lecteur"),[l,c]=w.useState({});w.useEffect(()=>{const{data:{subscription:v}}=me.auth.onAuthStateChange((g,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return me.auth.getSession().then(({data:{session:g}})=>{r((g==null?void 0:g.user)??null),a(!1),g!=null&&g.user&&(u(g.user.id),d())}),()=>v.unsubscribe()},[]);const u=async v=>{try{const{data:g}=await me.from("user_roles").select("role").eq("user_id",v).single();g&&o(g.role)}catch{o("lecteur")}},d=async()=>{try{const{data:v}=await me.from("tab_permissions").select("*");if(v){const g={};v.forEach(x=>{g[x.role]||(g[x.role]={}),g[x.role][x.tab_key]=x.permission}),c(g)}}catch{}},f=async(v,g)=>{const{error:x}=await me.auth.signInWithPassword({email:v,password:g});return{error:x}},h=async(v,g,x)=>{const{error:b}=await me.auth.signUp({email:v,password:g,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},m=async()=>{await me.auth.signOut(),r(null)},y=i==="admin",p=v=>{if(y)return"write";const g=l[i];return g&&g[v]||"write"};return s.jsx(a3.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:f,signUp:h,signOut:m,getTabPermission:p},children:e})}function Aa(){const e=w.useContext(a3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const QS={selectedMethods:["revenue_multiple","ebitda_multiple"],valuationBasis:"projected",historicalYear:2024,projectedYear:2028,mixWeight:.5,averageYears:[],valuationParams:{revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}},dilutionConfig:{...XK},exitScenarios:{conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}},Nj="novaride_financial_state_v5";function EX(){try{const e=localStorage.getItem(Nj);if(e){const t=JSON.parse(e);return t.valuationConfig||(t.valuationConfig={...QS}),t.monthlyTreasuryConfig&&!t.monthlyTreasuryConfig.cogsPaymentTerms&&(t.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),t.excludeFundingFromTreasury===void 0&&(t.excludeFundingFromTreasury=!1),t.fundingRounds?t.fundingRounds=t.fundingRounds.map(r=>({...r,quarter:r.quarter||"Q1"})):t.fundingRounds=qS,t}}catch{}return AX()}function AX(){return{products:lK,roles:cK,expenses:uK,fundingRounds:qS,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:Wv,opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:SD(),valuationConfig:{...QS}}}const i3=w.createContext(void 0);function OX({children:e}){const{user:t}=Aa(),[r,n]=w.useState(EX),[a,i]=w.useState(!1);w.useRef(null),w.useEffect(()=>{!t||a||(async()=>{try{const{data:A}=await me.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(A!=null&&A.state_data){const k=A.state_data;k.valuationConfig||(k.valuationConfig={...QS}),k.excludeFundingFromTreasury===void 0&&(k.excludeFundingFromTreasury=!1),k.fundingRounds?k.fundingRounds=k.fundingRounds.map($=>({...$,quarter:$.quarter||"Q1"})):k.fundingRounds=qS,k.monthlyTreasuryConfig||(k.monthlyTreasuryConfig=SD()),k.monthlyTreasuryConfig&&!k.monthlyTreasuryConfig.cogsPaymentTerms&&(k.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),n({...k,hasUnsavedChanges:!1}),localStorage.setItem(Nj,JSON.stringify(k))}}catch(A){console.warn("Failed to load from cloud:",A)}finally{i(!0)}})()},[t,a]),w.useCallback(()=>{n(A=>({...A,hasUnsavedChanges:!0}))},[]);const o=w.useCallback(A=>{n(k=>({...k,products:A,hasUnsavedChanges:!0}))},[]),l=w.useCallback(A=>{n(k=>({...k,products:[...k.products,A],hasUnsavedChanges:!0}))},[]),c=w.useCallback(A=>{n(k=>({...k,products:k.products.filter($=>$.id!==A),hasUnsavedChanges:!0}))},[]),u=w.useCallback(A=>{n(k=>({...k,roles:A,hasUnsavedChanges:!0}))},[]),d=w.useCallback(A=>{n(k=>({...k,roles:[...k.roles,A],hasUnsavedChanges:!0}))},[]),f=w.useCallback(A=>{n(k=>({...k,roles:k.roles.filter($=>$.id!==A),hasUnsavedChanges:!0}))},[]),h=w.useCallback(A=>{n(k=>({...k,expenses:A,hasUnsavedChanges:!0}))},[]),m=w.useCallback(A=>{n(k=>({...k,expenses:[...k.expenses,A],hasUnsavedChanges:!0}))},[]),y=w.useCallback(A=>{n(k=>({...k,expenses:k.expenses.filter($=>$.id!==A),hasUnsavedChanges:!0}))},[]),p=w.useCallback(A=>{n(k=>({...k,fundingRounds:A,hasUnsavedChanges:!0}))},[]),v=w.useCallback(A=>{n(k=>({...k,scenarioSettings:{...k.scenarioSettings,...A},hasUnsavedChanges:!0}))},[]),g=w.useCallback(A=>{n(k=>({...k,activeScenarioId:A}))},[]),x=w.useCallback((A,k)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[A]:{...$.scenarioConfigs[A],...k}},hasUnsavedChanges:!0}))},[]),b=w.useCallback(A=>{n(k=>({...k,revenueMode:A,hasUnsavedChanges:!0}))},[]),_=w.useCallback(A=>{n(k=>({...k,globalRevenueConfig:A,hasUnsavedChanges:!0}))},[]),j=w.useCallback(A=>{n(k=>({...k,opexMode:A,hasUnsavedChanges:!0}))},[]),S=w.useCallback(A=>{n(k=>({...k,simpleOpexConfig:{...k.simpleOpexConfig,...A},hasUnsavedChanges:!0}))},[]),C=w.useCallback(A=>{n(k=>({...k,excludeFundingFromTreasury:A,hasUnsavedChanges:!0}))},[]),N=w.useCallback(A=>{n(k=>({...k,historicalData:A,hasUnsavedChanges:!0}))},[]),P=w.useCallback(A=>{n(k=>({...k,monthlyTreasuryConfig:A,hasUnsavedChanges:!0}))},[]),E=w.useCallback(A=>{n(k=>({...k,valuationConfig:{...k.valuationConfig,...A},hasUnsavedChanges:!0}))},[]),O=w.useCallback(async()=>{try{const A={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(Nj,JSON.stringify(A)),n(A),t){const{hasUnsavedChanges:k,...$}=A;await me.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}nn({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{nn({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),T=w.useMemo(()=>{const{products:A,roles:k,expenses:$,fundingRounds:D,scenarioSettings:M,scenarioConfigs:I,activeScenarioId:L,opexMode:B,simpleOpexConfig:Q,excludeFundingFromTreasury:X,monthlyTreasuryConfig:ne}=r,{startYear:z,durationYears:U,initialCash:H}=M,q=I[L],J=Array.from({length:U},(oe,ye)=>z+ye),Z=A.reduce((oe,ye)=>oe+ye.devCost,0),te=J.map(oe=>{if(r.revenueMode==="by-channel-global"){const nt=Ph(r.globalRevenueConfig,oe),xt=qK(r.globalRevenueConfig,oe);return{year:oe,revenue:nt,cogs:xt}}let ye=0,Ie=0;return A.forEach(nt=>{const xt=Math.round((nt.volumesByYear[oe]||0)*(1+q.volumeAdjustment));ye+=xt*nt.priceHT*(1+q.priceAdjustment),Ie+=xt*nt.unitCost}),{year:oe,revenue:ye,cogs:Ie}}),V=J.map(oe=>{const ye=k.filter(Ie=>Ie.startYear<=oe);return{year:oe,payroll:ye.reduce((Ie,nt)=>Ie+nt.annualCostLoaded,0),headcount:ye.length}}),K=J.map((oe,ye)=>{let Ie=0;const nt={};return B==="simple"?Ie=Q.baseAmount*Math.pow(1+Q.growthRate,ye):$.forEach(xt=>{var de,We;if(xt.startYear>oe)return;let _r=xt.baseAnnualCost;const Ar=oe-xt.startYear;if(xt.evolutionType==="growth_rate")_r*=Math.pow(1+(xt.growthRate||0),Ar);else if(xt.evolutionType==="linked_to_revenue")_r=(((de=te[ye])==null?void 0:de.revenue)||0)*(xt.revenueRatio||0);else if(xt.evolutionType==="step"){const W=(We=xt.steps)==null?void 0:We.filter(ue=>ue.year<=oe).pop();W&&(_r=W.newAnnualCost)}_r*=1+q.opexAdjustment,Ie+=_r,nt[xt.category]=(nt[xt.category]||0)+_r}),{year:oe,opex:Ie,byCategory:nt}}),he=J.map(oe=>({year:oe,capex:A.filter(ye=>ye.launchYear===oe).reduce((ye,Ie)=>ye+Ie.devCost,0),depreciation:dK(A,oe)})),_e=z,ze=k.filter(oe=>oe.startYear<=_e).length,Ye=k.filter(oe=>oe.startYear<=_e).reduce((oe,ye)=>oe+ye.annualCostLoaded,0),et=D.map(oe=>({...oe,quarter:oe.quarter||"Q1"})),Tt=xK(A,k,$,X?[]:et,H,z,U,q,B,Q),F={},G={},re={},xe={};te.forEach(oe=>{F[oe.year]=oe.revenue,G[oe.year]=oe.cogs}),V.forEach(oe=>{re[oe.year]=oe.payroll}),K.forEach(oe=>{xe[oe.year]=oe.opex});const be=SK(ne,{annualRevenue:F,annualCogs:G,annualPayroll:re,annualOpex:xe},D,H,z,U,X);return{totalDevCost:Z,revenueByYear:te,payrollByYear:V,opexByYear:K,capexByYear:he,totalHeadcount:ze,currentPayroll:Ye,treasuryProjection:Tt,monthlyTreasuryProjection:be}},[r]);return s.jsx(i3.Provider,{value:{state:r,computed:T,updateProducts:o,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:m,removeExpense:y,updateFundingRounds:p,updateScenarioSettings:v,setActiveScenario:g,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,setOpexMode:j,updateSimpleOpexConfig:S,setExcludeFundingFromTreasury:C,updateHistoricalData:N,updateMonthlyTreasuryConfig:P,updateValuationConfig:E,saveAll:O},children:e})}function Fi(){const e=w.useContext(i3);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function JS({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return s.jsx("div",{className:ie("flex items-center gap-2",r),children:s.jsxs("span",{className:ie("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",s.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const TX=[{items:[{to:"/",label:"Tableau de bord",icon:wW,tabKey:"costflow"}]},{label:"Prvisionnel",items:[{to:"/product",label:"Plan Produit",icon:Rl,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:Nu,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:kW,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:fI,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:hW,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:fW,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:Gl,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:Su,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:PW,tabKey:"crm"},{to:"/pricing",label:"Pricing",icon:NS,tabKey:"pricing"},{to:"/costflow",label:"Production et BE",icon:pI,tabKey:"costflow"},{to:"/planning-dev",label:"Planning Dev",icon:Xw,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:_S,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:vI,tabKey:"snapshots"}]}];function vn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Aa(),a=km(),[i,o]=w.useState(!1),l=async()=>{await t(),a("/auth")},c=TX.map(u=>({...u,items:u.items.filter(d=>n(d.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>o(!i),children:i?s.jsx(Mi,{className:"h-5 w-5"}):s.jsx(NW,{className:"h-5 w-5"})}),s.jsxs("aside",{className:ie("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[s.jsx(JS,{variant:"compact",color:"light"}),s.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,d)=>s.jsxs("div",{className:ie(d>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&s.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(f=>{const h=f.icon;return s.jsxs(kk,{to:f.to,end:!0,onClick:()=>o(!1),className:({isActive:m})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",m?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(h,{className:"h-4 w-4"}),f.label]},f.to)})]},d)),r&&s.jsxs(kk,{to:"/permissions",onClick:()=>o(!1),className:({isActive:u})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(xI,{className:"h-4 w-4"}),"Administration"]})]}),s.jsx("div",{className:"p-4 border-t border-sidebar-border",children:s.jsxs(se,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[s.jsx(SW,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>o(!1)}),s.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function gn({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=Aa();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?s.jsx(Uv,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Uv,{to:"/auth",replace:!0})}function Ss({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return s.jsx("div",{className:ie("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:s.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[s.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&s.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function Ad({onSave:e,hasUnsavedChanges:t}){return s.jsxs(se,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[s.jsx(Iy,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Gt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ie("w-full caption-bottom text-sm",e),...t})}));Gt.displayName="Table";const Yt=w.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ie("[&_tr]:border-b",e),...t}));Yt.displayName="TableHeader";const Xt=w.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ie("[&_tr:last-child]:border-0",e),...t}));Xt.displayName="TableBody";const RX=w.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RX.displayName="TableFooter";const Ne=w.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ne.displayName="TableRow";const le=w.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableHead";const Y=w.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const MX=w.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));MX.displayName="TableCaption";function $X({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return s.jsxs(He,{title:"Pricing Produits",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Produit"}),s.jsx(le,{className:"text-right",children:"Prix TTC B2C"}),s.jsx(le,{className:"text-right",children:"Prix HT"}),s.jsx(le,{className:"text-right",children:"Cot Unitaire"}),s.jsx(le,{className:"text-right",children:"Marge"}),s.jsx(le,{className:"text-right",children:"Dev Cost"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:e.map(i=>s.jsxs(Ne,{children:[s.jsx(Y,{children:s.jsx(je,{value:i.name,onChange:o=>t({...i,name:o.target.value}),className:"h-8 w-40"})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:s.jsx(je,{type:"number",value:i.priceTTC_B2C,onChange:o=>{const l=Number(o.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.priceHT)}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.unitCost)}),s.jsxs(Y,{className:"text-right font-mono-numbers",children:[((1-i.unitCost/i.priceHT)*100).toFixed(0),"%"]}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.devCost,!0)}),s.jsx(Y,{children:s.jsx(se,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:s.jsx(Ir,{className:"h-4 w-4"})})})]},i.id))})]})}),s.jsxs(se,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var IX=Array.isArray,Gn=IX,DX=typeof Vm=="object"&&Vm&&Vm.Object===Object&&Vm,s3=DX,LX=s3,FX=typeof self=="object"&&self&&self.Object===Object&&self,BX=LX||FX||Function("return this")(),Bi=BX,zX=Bi,UX=zX.Symbol,Am=UX,tE=Am,o3=Object.prototype,VX=o3.hasOwnProperty,WX=o3.toString,sf=tE?tE.toStringTag:void 0;function HX(e){var t=VX.call(e,sf),r=e[sf];try{e[sf]=void 0;var n=!0}catch{}var a=WX.call(e);return n&&(t?e[sf]=r:delete e[sf]),a}var qX=HX,KX=Object.prototype,GX=KX.toString;function YX(e){return GX.call(e)}var XX=YX,rE=Am,QX=qX,JX=XX,ZX="[object Null]",eQ="[object Undefined]",nE=rE?rE.toStringTag:void 0;function tQ(e){return e==null?e===void 0?eQ:ZX:nE&&nE in Object(e)?QX(e):JX(e)}var Cs=tQ;function rQ(e){return e!=null&&typeof e=="object"}var Ns=rQ,nQ=Cs,aQ=Ns,iQ="[object Symbol]";function sQ(e){return typeof e=="symbol"||aQ(e)&&nQ(e)==iQ}var Od=sQ,oQ=Gn,lQ=Od,cQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uQ=/^\w*$/;function dQ(e,t){if(oQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||lQ(e)?!0:uQ.test(e)||!cQ.test(e)||t!=null&&e in Object(t)}var ZS=dQ;function fQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ro=fQ;const Td=Ot(Ro);var hQ=Cs,mQ=Ro,pQ="[object AsyncFunction]",vQ="[object Function]",gQ="[object GeneratorFunction]",yQ="[object Proxy]";function xQ(e){if(!mQ(e))return!1;var t=hQ(e);return t==vQ||t==gQ||t==pQ||t==yQ}var eC=xQ;const Ge=Ot(eC);var bQ=Bi,wQ=bQ["__core-js_shared__"],jQ=wQ,ib=jQ,aE=function(){var e=/[^.]+$/.exec(ib&&ib.keys&&ib.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _Q(e){return!!aE&&aE in e}var SQ=_Q,CQ=Function.prototype,NQ=CQ.toString;function PQ(e){if(e!=null){try{return NQ.call(e)}catch{}try{return e+""}catch{}}return""}var l3=PQ,kQ=eC,EQ=SQ,AQ=Ro,OQ=l3,TQ=/[\\^$.*+?()[\]{}|]/g,RQ=/^\[object .+?Constructor\]$/,MQ=Function.prototype,$Q=Object.prototype,IQ=MQ.toString,DQ=$Q.hasOwnProperty,LQ=RegExp("^"+IQ.call(DQ).replace(TQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FQ(e){if(!AQ(e)||EQ(e))return!1;var t=kQ(e)?LQ:RQ;return t.test(OQ(e))}var BQ=FQ;function zQ(e,t){return e==null?void 0:e[t]}var UQ=zQ,VQ=BQ,WQ=UQ;function HQ(e,t){var r=WQ(e,t);return VQ(r)?r:void 0}var Xl=HQ,qQ=Xl,KQ=qQ(Object,"create"),tx=KQ,iE=tx;function GQ(){this.__data__=iE?iE(null):{},this.size=0}var YQ=GQ;function XQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var QQ=XQ,JQ=tx,ZQ="__lodash_hash_undefined__",eJ=Object.prototype,tJ=eJ.hasOwnProperty;function rJ(e){var t=this.__data__;if(JQ){var r=t[e];return r===ZQ?void 0:r}return tJ.call(t,e)?t[e]:void 0}var nJ=rJ,aJ=tx,iJ=Object.prototype,sJ=iJ.hasOwnProperty;function oJ(e){var t=this.__data__;return aJ?t[e]!==void 0:sJ.call(t,e)}var lJ=oJ,cJ=tx,uJ="__lodash_hash_undefined__";function dJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cJ&&t===void 0?uJ:t,this}var fJ=dJ,hJ=YQ,mJ=QQ,pJ=nJ,vJ=lJ,gJ=fJ;function Rd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rd.prototype.clear=hJ;Rd.prototype.delete=mJ;Rd.prototype.get=pJ;Rd.prototype.has=vJ;Rd.prototype.set=gJ;var yJ=Rd;function xJ(){this.__data__=[],this.size=0}var bJ=xJ;function wJ(e,t){return e===t||e!==e&&t!==t}var tC=wJ,jJ=tC;function _J(e,t){for(var r=e.length;r--;)if(jJ(e[r][0],t))return r;return-1}var rx=_J,SJ=rx,CJ=Array.prototype,NJ=CJ.splice;function PJ(e){var t=this.__data__,r=SJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():NJ.call(t,r,1),--this.size,!0}var kJ=PJ,EJ=rx;function AJ(e){var t=this.__data__,r=EJ(t,e);return r<0?void 0:t[r][1]}var OJ=AJ,TJ=rx;function RJ(e){return TJ(this.__data__,e)>-1}var MJ=RJ,$J=rx;function IJ(e,t){var r=this.__data__,n=$J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var DJ=IJ,LJ=bJ,FJ=kJ,BJ=OJ,zJ=MJ,UJ=DJ;function Md(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Md.prototype.clear=LJ;Md.prototype.delete=FJ;Md.prototype.get=BJ;Md.prototype.has=zJ;Md.prototype.set=UJ;var nx=Md,VJ=Xl,WJ=Bi,HJ=VJ(WJ,"Map"),rC=HJ,sE=yJ,qJ=nx,KJ=rC;function GJ(){this.size=0,this.__data__={hash:new sE,map:new(KJ||qJ),string:new sE}}var YJ=GJ;function XJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var QJ=XJ,JJ=QJ;function ZJ(e,t){var r=e.__data__;return JJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ax=ZJ,eZ=ax;function tZ(e){var t=eZ(this,e).delete(e);return this.size-=t?1:0,t}var rZ=tZ,nZ=ax;function aZ(e){return nZ(this,e).get(e)}var iZ=aZ,sZ=ax;function oZ(e){return sZ(this,e).has(e)}var lZ=oZ,cZ=ax;function uZ(e,t){var r=cZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dZ=uZ,fZ=YJ,hZ=rZ,mZ=iZ,pZ=lZ,vZ=dZ;function $d(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$d.prototype.clear=fZ;$d.prototype.delete=hZ;$d.prototype.get=mZ;$d.prototype.has=pZ;$d.prototype.set=vZ;var nC=$d,c3=nC,gZ="Expected a function";function aC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gZ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(aC.Cache||c3),r}aC.Cache=c3;var u3=aC;const yZ=Ot(u3);var xZ=u3,bZ=500;function wZ(e){var t=xZ(e,function(n){return r.size===bZ&&r.clear(),n}),r=t.cache;return t}var jZ=wZ,_Z=jZ,SZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CZ=/\\(\\)?/g,NZ=_Z(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SZ,function(r,n,a,i){t.push(a?i.replace(CZ,"$1"):n||r)}),t}),PZ=NZ;function kZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var iC=kZ,oE=Am,EZ=iC,AZ=Gn,OZ=Od,TZ=1/0,lE=oE?oE.prototype:void 0,cE=lE?lE.toString:void 0;function d3(e){if(typeof e=="string")return e;if(AZ(e))return EZ(e,d3)+"";if(OZ(e))return cE?cE.call(e):"";var t=e+"";return t=="0"&&1/e==-TZ?"-0":t}var RZ=d3,MZ=RZ;function $Z(e){return e==null?"":MZ(e)}var f3=$Z,IZ=Gn,DZ=ZS,LZ=PZ,FZ=f3;function BZ(e,t){return IZ(e)?e:DZ(e,t)?[e]:LZ(FZ(e))}var h3=BZ,zZ=Od,UZ=1/0;function VZ(e){if(typeof e=="string"||zZ(e))return e;var t=e+"";return t=="0"&&1/e==-UZ?"-0":t}var ix=VZ,WZ=h3,HZ=ix;function qZ(e,t){t=WZ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[HZ(t[r++])];return r&&r==n?e:void 0}var sC=qZ,KZ=sC;function GZ(e,t,r){var n=e==null?void 0:KZ(e,t);return n===void 0?r:n}var m3=GZ;const oa=Ot(m3);function YZ(e){return e==null}var XZ=YZ;const Ke=Ot(XZ);var QZ=Cs,JZ=Gn,ZZ=Ns,eee="[object String]";function tee(e){return typeof e=="string"||!JZ(e)&&ZZ(e)&&QZ(e)==eee}var ree=tee;const $l=Ot(ree);var p3={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC=Symbol.for("react.element"),lC=Symbol.for("react.portal"),sx=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),lx=Symbol.for("react.profiler"),cx=Symbol.for("react.provider"),ux=Symbol.for("react.context"),nee=Symbol.for("react.server_context"),dx=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),hx=Symbol.for("react.suspense_list"),mx=Symbol.for("react.memo"),px=Symbol.for("react.lazy"),aee=Symbol.for("react.offscreen"),v3;v3=Symbol.for("react.module.reference");function Oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case oC:switch(e=e.type,e){case sx:case lx:case ox:case fx:case hx:return e;default:switch(e=e&&e.$$typeof,e){case nee:case ux:case dx:case px:case mx:case cx:return e;default:return t}}case lC:return t}}}It.ContextConsumer=ux;It.ContextProvider=cx;It.Element=oC;It.ForwardRef=dx;It.Fragment=sx;It.Lazy=px;It.Memo=mx;It.Portal=lC;It.Profiler=lx;It.StrictMode=ox;It.Suspense=fx;It.SuspenseList=hx;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return Oa(e)===ux};It.isContextProvider=function(e){return Oa(e)===cx};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oC};It.isForwardRef=function(e){return Oa(e)===dx};It.isFragment=function(e){return Oa(e)===sx};It.isLazy=function(e){return Oa(e)===px};It.isMemo=function(e){return Oa(e)===mx};It.isPortal=function(e){return Oa(e)===lC};It.isProfiler=function(e){return Oa(e)===lx};It.isStrictMode=function(e){return Oa(e)===ox};It.isSuspense=function(e){return Oa(e)===fx};It.isSuspenseList=function(e){return Oa(e)===hx};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sx||e===lx||e===ox||e===fx||e===hx||e===aee||typeof e=="object"&&e!==null&&(e.$$typeof===px||e.$$typeof===mx||e.$$typeof===cx||e.$$typeof===ux||e.$$typeof===dx||e.$$typeof===v3||e.getModuleId!==void 0)};It.typeOf=Oa;p3.exports=It;var iee=p3.exports,see=Cs,oee=Ns,lee="[object Number]";function cee(e){return typeof e=="number"||oee(e)&&see(e)==lee}var g3=cee;const uee=Ot(g3);var dee=g3;function fee(e){return dee(e)&&e!=+e}var hee=fee;const Id=Ot(hee);var kn=function(t){return t===0?0:t>0?1:-1},ul=function(t){return $l(t)&&t.indexOf("%")===t.length-1},pe=function(t){return uee(t)&&!Id(t)},mee=function(t){return Ke(t)},Hr=function(t){return pe(t)||$l(t)},pee=0,Mo=function(t){var r=++pee;return"".concat(t||"").concat(r)},En=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!$l(t))return n;var i;if(ul(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Id(i)&&(i=n),a&&i>r&&(i=r),i},qs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},vee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},lr=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Gv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):oa(n,t))===r})}var gee=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},yee=function(t,r){return pe(t)&&pe(r)?t-r:$l(t)&&$l(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ru(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Pj(e){"@babel/helpers - typeof";return Pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pj(e)}var xee=["viewBox","children"],bee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uE=["points","pathLength"],sb={svg:xee,polygon:uE,polyline:uE},cC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Td(n))return null;var a={};return Object.keys(n).forEach(function(i){cC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},wee=function(t,r,n){return function(a){return t(r,n,a),null}},Co=function(t,r,n){if(!Td(t)||Pj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];cC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=wee(o,r,n))}),a},jee=["children"],_ee=["children"];function dE(e,t){if(e==null)return{};var r=See(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function See(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kj(e){"@babel/helpers - typeof";return kj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kj(e)}var fE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ls=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hE=null,ob=null,uC=function e(t){if(t===hE&&Array.isArray(ob))return ob;var r=[];return w.Children.forEach(t,function(n){Ke(n)||(iee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ob=r,hE=t,r};function Tn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ls(a)}):n=[ls(t)],uC(e).forEach(function(a){var i=oa(a,"type.displayName")||oa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Zn(e,t){var r=Tn(e,t);return r&&r[0]}var mE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},Cee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nee=function(t){return t&&t.type&&$l(t.type)&&Cee.indexOf(t.type)>=0},y3=function(t){return t&&kj(t)==="object"&&"clipDot"in t},Pee=function(t,r,n,a){var i,o=(i=sb==null?void 0:sb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ge(t)&&(a&&o.includes(r)||bee.includes(r))||n&&cC.includes(r)},Le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Td(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Pee((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Ej=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return pE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!pE(i,o))return!1}return!0},pE=function(t,r){if(Ke(t)&&Ke(r))return!0;if(!Ke(t)&&!Ke(r)){var n=t.props||{},a=n.children,i=dE(n,jee),o=r.props||{},l=o.children,c=dE(o,_ee);return a&&l?ru(i,c)&&Ej(a,l):!a&&!l?ru(i,c):!1}return!1},vE=function(t,r){var n=[],a={};return uC(t).forEach(function(i,o){if(Nee(i))n.push(i);else if(i){var l=ls(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},kee=function(t){var r=t&&t.type;return r&&fE[r]?fE[r]:null},Eee=function(t,r){return uC(r).indexOf(t)},Aee=["children","width","height","viewBox","className","style","title","desc"];function Aj(){return Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aj.apply(this,arguments)}function Oee(e,t){if(e==null)return{};var r=Tee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oj(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Oee(e,Aee),d=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",i);return R.createElement("svg",Aj({},Le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Ree=["children","className"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tj.apply(this,arguments)}function Mee(e,t){if(e==null)return{};var r=$ee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ot=R.forwardRef(function(e,t){var r=e.children,n=e.className,a=Mee(e,Ree),i=tt("recharts-layer",n);return R.createElement("g",Tj({className:i},Le(a,!0),{ref:t}),r)}),ii=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Iee(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Dee=Iee,Lee=Dee;function Fee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Lee(e,t,r)}var Bee=Fee,zee="\\ud800-\\udfff",Uee="\\u0300-\\u036f",Vee="\\ufe20-\\ufe2f",Wee="\\u20d0-\\u20ff",Hee=Uee+Vee+Wee,qee="\\ufe0e\\ufe0f",Kee="\\u200d",Gee=RegExp("["+Kee+zee+Hee+qee+"]");function Yee(e){return Gee.test(e)}var x3=Yee;function Xee(e){return e.split("")}var Qee=Xee,b3="\\ud800-\\udfff",Jee="\\u0300-\\u036f",Zee="\\ufe20-\\ufe2f",ete="\\u20d0-\\u20ff",tte=Jee+Zee+ete,rte="\\ufe0e\\ufe0f",nte="["+b3+"]",Rj="["+tte+"]",Mj="\\ud83c[\\udffb-\\udfff]",ate="(?:"+Rj+"|"+Mj+")",w3="[^"+b3+"]",j3="(?:\\ud83c[\\udde6-\\uddff]){2}",_3="[\\ud800-\\udbff][\\udc00-\\udfff]",ite="\\u200d",S3=ate+"?",C3="["+rte+"]?",ste="(?:"+ite+"(?:"+[w3,j3,_3].join("|")+")"+C3+S3+")*",ote=C3+S3+ste,lte="(?:"+[w3+Rj+"?",Rj,j3,_3,nte].join("|")+")",cte=RegExp(Mj+"(?="+Mj+")|"+lte+ote,"g");function ute(e){return e.match(cte)||[]}var dte=ute,fte=Qee,hte=x3,mte=dte;function pte(e){return hte(e)?mte(e):fte(e)}var vte=pte,gte=Bee,yte=x3,xte=vte,bte=f3;function wte(e){return function(t){t=bte(t);var r=yte(t)?xte(t):void 0,n=r?r[0]:t.charAt(0),a=r?gte(r,1).join(""):t.slice(1);return n[e]()+a}}var jte=wte,_te=jte,Ste=_te("toUpperCase"),Cte=Ste;const vx=Ot(Cte);function Wt(e){return function(){return e}}const N3=Math.cos,Xv=Math.sin,di=Math.sqrt,Qv=Math.PI,gx=2*Qv,$j=Math.PI,Ij=2*$j,Jo=1e-6,Nte=Ij-Jo;function P3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Pte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return P3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class kte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P3:Pte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Jo)if(!(Math.abs(f*c-u*d)>Jo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=a-l,p=c*c+u*u,v=m*m+y*y,g=Math.sqrt(p),x=Math.sqrt(h),b=i*Math.tan(($j-Math.acos((p+h-v)/(2*g*x)))/2),_=b/x,j=b/g;Math.abs(_-1)>Jo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Jo||Math.abs(this._y1-d)>Jo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ij+Ij),h>Nte?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Jo&&this._append`A${n},${n},0,${+(h>=$j)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kte(t)}function fC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k3(e){this._context=e}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yx(e){return new k3(e)}function E3(e){return e[0]}function A3(e){return e[1]}function O3(e,t){var r=Wt(!0),n=null,a=yx,i=null,o=dC(l);e=typeof e=="function"?e:e===void 0?E3:Wt(e),t=typeof t=="function"?t:t===void 0?A3:Wt(t);function l(c){var u,d=(c=fC(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function yp(e,t,r){var n=null,a=Wt(!0),i=null,o=yx,l=null,c=dC(u);e=typeof e=="function"?e:e===void 0?E3:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?A3:Wt(+r);function u(f){var h,m,y,p=(f=fC(f)).length,v,g=!1,x,b=new Array(p),_=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return O3().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Wt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class T3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ete(e){return new T3(e,!0)}function Ate(e){return new T3(e,!1)}const hC={draw(e,t){const r=di(t/Qv);e.moveTo(r,0),e.arc(0,0,r,0,gx)}},Ote={draw(e,t){const r=di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R3=di(1/3),Tte=R3*2,Rte={draw(e,t){const r=di(t/Tte),n=r*R3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Mte={draw(e,t){const r=di(t),n=-r/2;e.rect(n,n,r,r)}},$te=.8908130915292852,M3=Xv(Qv/10)/Xv(7*Qv/10),Ite=Xv(gx/10)*M3,Dte=-N3(gx/10)*M3,Lte={draw(e,t){const r=di(t*$te),n=Ite*r,a=Dte*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=gx*i/5,l=N3(o),c=Xv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},lb=di(3),Fte={draw(e,t){const r=-di(t/(lb*3));e.moveTo(0,r*2),e.lineTo(-lb*r,-r),e.lineTo(lb*r,-r),e.closePath()}},ma=-.5,pa=di(3)/2,Dj=1/di(12),Bte=(Dj/2+1)*3,zte={draw(e,t){const r=di(t/Bte),n=r/2,a=r*Dj,i=n,o=r*Dj+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ma*n-pa*a,pa*n+ma*a),e.lineTo(ma*i-pa*o,pa*i+ma*o),e.lineTo(ma*l-pa*c,pa*l+ma*c),e.lineTo(ma*n+pa*a,ma*a-pa*n),e.lineTo(ma*i+pa*o,ma*o-pa*i),e.lineTo(ma*l+pa*c,ma*c-pa*l),e.closePath()}};function Ute(e,t){let r=null,n=dC(a);e=typeof e=="function"?e:Wt(e||hC),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jv(){}function Zv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $3(e){this._context=e}$3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vte(e){return new $3(e)}function I3(e){this._context=e}I3.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wte(e){return new I3(e)}function D3(e){this._context=e}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hte(e){return new D3(e)}function L3(e){this._context=e}L3.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qte(e){return new L3(e)}function gE(e){return e<0?-1:1}function yE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(gE(i)+gE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function xE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function eg(e){this._context=e}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cb(this,this._t0,xE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cb(this,xE(this,r=yE(this,e,t)),r);break;default:cb(this,this._t0,r=yE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F3(e){this._context=new B3(e)}(F3.prototype=Object.create(eg.prototype)).point=function(e,t){eg.prototype.point.call(this,t,e)};function B3(e){this._context=e}B3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Kte(e){return new eg(e)}function Gte(e){return new F3(e)}function z3(e){this._context=e}z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=bE(e),a=bE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Yte(e){return new z3(e)}function xx(e,t){this._context=e,this._t=t}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Xte(e){return new xx(e,.5)}function Qte(e){return new xx(e,0)}function Jte(e){return new xx(e,1)}function Au(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Lj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Zte(e,t){return e[t]}function ere(e){const t=[];return t.key=e,t}function tre(){var e=Wt([]),t=Lj,r=Au,n=Zte;function a(i){var o=Array.from(e.apply(this,arguments),ere),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=fC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Lj:typeof i=="function"?i:Wt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Au,a):r},a}function rre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Au(e,t)}}function nre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Au(e,t)}}function are(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var p=e[t[y]],v=p[n][1]||0,g=p[n-1][1]||0;m+=v-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Au(e,t)}}function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}var ire=["type","size","sizeType"];function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return t=ore(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return Mh(t)=="symbol"?t:t+""}function lre(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t){if(e==null)return{};var r=ure(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ure(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U3={symbolCircle:hC,symbolCross:Ote,symbolDiamond:Rte,symbolSquare:Mte,symbolStar:Lte,symbolTriangle:Fte,symbolWye:zte},dre=Math.PI/180,fre=function(t){var r="symbol".concat(vx(t));return U3[r]||hC},hre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*dre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mre=function(t,r){U3["symbol".concat(vx(t))]=r},bx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=cre(t,ire),u=jE(jE({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=fre(n),g=Ute().type(v).size(hre(i,l,n));return g()},f=u.className,h=u.cx,m=u.cy,y=Le(u,!0);return h===+h&&m===+m&&i===+i?R.createElement("path",Fj({},y,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};bx.registerSymbol=mre;function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bj.apply(this,arguments)}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){$h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function yre(e,t,r){return t&&gre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xre(e,t,r){return t=tg(t),bre(e,V3()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function bre(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wre(e)}function wre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(e)}function jre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zj(e,t)}function $h(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=_re(e,"string");return Ou(t)=="symbol"?t:t+""}function _re(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=32,mC=function(e){function t(){return vre(this,t),xre(this,t,arguments)}return jre(t,e),yre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=va/2,o=va/6,l=va/3,c=n.inactive?a:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:va,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(va,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(va/8,"h").concat(va,"v").concat(va*3/4,"h").concat(-va,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=pre({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(bx,{fill:c,cx:i,cy:i,size:va,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:va,height:va},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var p=m.formatter||c,v=tt($h($h({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=Ge(m.value)?null:m.value;ii(!Ge(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return R.createElement("li",Bj({className:v,style:f,key:"legend-item-".concat(y)},Co(n.props,m,y)),R.createElement(Oj,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(g,m,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);$h(mC,"displayName","Legend");$h(mC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sre=nx;function Cre(){this.__data__=new Sre,this.size=0}var Nre=Cre;function Pre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kre=Pre;function Ere(e){return this.__data__.get(e)}var Are=Ere;function Ore(e){return this.__data__.has(e)}var Tre=Ore,Rre=nx,Mre=rC,$re=nC,Ire=200;function Dre(e,t){var r=this.__data__;if(r instanceof Rre){var n=r.__data__;if(!Mre||n.length<Ire-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $re(n)}return r.set(e,t),this.size=r.size,this}var Lre=Dre,Fre=nx,Bre=Nre,zre=kre,Ure=Are,Vre=Tre,Wre=Lre;function Dd(e){var t=this.__data__=new Fre(e);this.size=t.size}Dd.prototype.clear=Bre;Dd.prototype.delete=zre;Dd.prototype.get=Ure;Dd.prototype.has=Vre;Dd.prototype.set=Wre;var H3=Dd,Hre="__lodash_hash_undefined__";function qre(e){return this.__data__.set(e,Hre),this}var Kre=qre;function Gre(e){return this.__data__.has(e)}var Yre=Gre,Xre=nC,Qre=Kre,Jre=Yre;function rg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Xre;++t<r;)this.add(e[t])}rg.prototype.add=rg.prototype.push=Qre;rg.prototype.has=Jre;var q3=rg;function Zre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var K3=Zre;function ene(e,t){return e.has(t)}var G3=ene,tne=q3,rne=K3,nne=G3,ane=1,ine=2;function sne(e,t,r,n,a,i){var o=r&ane,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&ine?new tne:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],p=t[f];if(n)var v=o?n(p,y,f,t,e,i):n(y,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!rne(t,function(g,x){if(!nne(m,x)&&(y===g||a(y,g,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(y===p||a(y,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var Y3=sne,one=Bi,lne=one.Uint8Array,cne=lne;function une(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var dne=une;function fne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pC=fne,SE=Am,CE=cne,hne=tC,mne=Y3,pne=dne,vne=pC,gne=1,yne=2,xne="[object Boolean]",bne="[object Date]",wne="[object Error]",jne="[object Map]",_ne="[object Number]",Sne="[object RegExp]",Cne="[object Set]",Nne="[object String]",Pne="[object Symbol]",kne="[object ArrayBuffer]",Ene="[object DataView]",NE=SE?SE.prototype:void 0,ub=NE?NE.valueOf:void 0;function Ane(e,t,r,n,a,i,o){switch(r){case Ene:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kne:return!(e.byteLength!=t.byteLength||!i(new CE(e),new CE(t)));case xne:case bne:case _ne:return hne(+e,+t);case wne:return e.name==t.name&&e.message==t.message;case Sne:case Nne:return e==t+"";case jne:var l=pne;case Cne:var c=n&gne;if(l||(l=vne),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=yne,o.set(e,t);var d=mne(l(e),l(t),n,a,i,o);return o.delete(e),d;case Pne:if(ub)return ub.call(e)==ub.call(t)}return!1}var One=Ane;function Tne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var X3=Tne,Rne=X3,Mne=Gn;function $ne(e,t,r){var n=t(e);return Mne(e)?n:Rne(n,r(e))}var Ine=$ne;function Dne(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Lne=Dne;function Fne(){return[]}var Bne=Fne,zne=Lne,Une=Bne,Vne=Object.prototype,Wne=Vne.propertyIsEnumerable,PE=Object.getOwnPropertySymbols,Hne=PE?function(e){return e==null?[]:(e=Object(e),zne(PE(e),function(t){return Wne.call(e,t)}))}:Une,qne=Hne;function Kne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Gne=Kne,Yne=Cs,Xne=Ns,Qne="[object Arguments]";function Jne(e){return Xne(e)&&Yne(e)==Qne}var Zne=Jne,kE=Zne,eae=Ns,Q3=Object.prototype,tae=Q3.hasOwnProperty,rae=Q3.propertyIsEnumerable,nae=kE(function(){return arguments}())?kE:function(e){return eae(e)&&tae.call(e,"callee")&&!rae.call(e,"callee")},vC=nae,ng={exports:{}};function aae(){return!1}var iae=aae;ng.exports;(function(e,t){var r=Bi,n=iae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ng,ng.exports);var J3=ng.exports,sae=9007199254740991,oae=/^(?:0|[1-9]\d*)$/;function lae(e,t){var r=typeof e;return t=t??sae,!!t&&(r=="number"||r!="symbol"&&oae.test(e))&&e>-1&&e%1==0&&e<t}var gC=lae,cae=9007199254740991;function uae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cae}var yC=uae,dae=Cs,fae=yC,hae=Ns,mae="[object Arguments]",pae="[object Array]",vae="[object Boolean]",gae="[object Date]",yae="[object Error]",xae="[object Function]",bae="[object Map]",wae="[object Number]",jae="[object Object]",_ae="[object RegExp]",Sae="[object Set]",Cae="[object String]",Nae="[object WeakMap]",Pae="[object ArrayBuffer]",kae="[object DataView]",Eae="[object Float32Array]",Aae="[object Float64Array]",Oae="[object Int8Array]",Tae="[object Int16Array]",Rae="[object Int32Array]",Mae="[object Uint8Array]",$ae="[object Uint8ClampedArray]",Iae="[object Uint16Array]",Dae="[object Uint32Array]",Zt={};Zt[Eae]=Zt[Aae]=Zt[Oae]=Zt[Tae]=Zt[Rae]=Zt[Mae]=Zt[$ae]=Zt[Iae]=Zt[Dae]=!0;Zt[mae]=Zt[pae]=Zt[Pae]=Zt[vae]=Zt[kae]=Zt[gae]=Zt[yae]=Zt[xae]=Zt[bae]=Zt[wae]=Zt[jae]=Zt[_ae]=Zt[Sae]=Zt[Cae]=Zt[Nae]=!1;function Lae(e){return hae(e)&&fae(e.length)&&!!Zt[dae(e)]}var Fae=Lae;function Bae(e){return function(t){return e(t)}}var Z3=Bae,ag={exports:{}};ag.exports;(function(e,t){var r=s3,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ag,ag.exports);var zae=ag.exports,Uae=Fae,Vae=Z3,EE=zae,AE=EE&&EE.isTypedArray,Wae=AE?Vae(AE):Uae,eL=Wae,Hae=Gne,qae=vC,Kae=Gn,Gae=J3,Yae=gC,Xae=eL,Qae=Object.prototype,Jae=Qae.hasOwnProperty;function Zae(e,t){var r=Kae(e),n=!r&&qae(e),a=!r&&!n&&Gae(e),i=!r&&!n&&!a&&Xae(e),o=r||n||a||i,l=o?Hae(e.length,String):[],c=l.length;for(var u in e)(t||Jae.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Yae(u,c)))&&l.push(u);return l}var eie=Zae,tie=Object.prototype;function rie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tie;return e===r}var nie=rie;function aie(e,t){return function(r){return e(t(r))}}var tL=aie,iie=tL,sie=iie(Object.keys,Object),oie=sie,lie=nie,cie=oie,uie=Object.prototype,die=uie.hasOwnProperty;function fie(e){if(!lie(e))return cie(e);var t=[];for(var r in Object(e))die.call(e,r)&&r!="constructor"&&t.push(r);return t}var hie=fie,mie=eC,pie=yC;function vie(e){return e!=null&&pie(e.length)&&!mie(e)}var Om=vie,gie=eie,yie=hie,xie=Om;function bie(e){return xie(e)?gie(e):yie(e)}var wx=bie,wie=Ine,jie=qne,_ie=wx;function Sie(e){return wie(e,_ie,jie)}var Cie=Sie,OE=Cie,Nie=1,Pie=Object.prototype,kie=Pie.hasOwnProperty;function Eie(e,t,r,n,a,i){var o=r&Nie,l=OE(e),c=l.length,u=OE(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:kie.call(t,h)))return!1}var m=i.get(e),y=i.get(t);if(m&&y)return m==t&&y==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var g=e[h],x=t[h];if(n)var b=o?n(x,g,h,t,e,i):n(g,x,h,e,t,i);if(!(b===void 0?g===x||a(g,x,r,n,i):b)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var Aie=Eie,Oie=Xl,Tie=Bi,Rie=Oie(Tie,"DataView"),Mie=Rie,$ie=Xl,Iie=Bi,Die=$ie(Iie,"Promise"),Lie=Die,Fie=Xl,Bie=Bi,zie=Fie(Bie,"Set"),rL=zie,Uie=Xl,Vie=Bi,Wie=Uie(Vie,"WeakMap"),Hie=Wie,Uj=Mie,Vj=rC,Wj=Lie,Hj=rL,qj=Hie,nL=Cs,Ld=l3,TE="[object Map]",qie="[object Object]",RE="[object Promise]",ME="[object Set]",$E="[object WeakMap]",IE="[object DataView]",Kie=Ld(Uj),Gie=Ld(Vj),Yie=Ld(Wj),Xie=Ld(Hj),Qie=Ld(qj),Zo=nL;(Uj&&Zo(new Uj(new ArrayBuffer(1)))!=IE||Vj&&Zo(new Vj)!=TE||Wj&&Zo(Wj.resolve())!=RE||Hj&&Zo(new Hj)!=ME||qj&&Zo(new qj)!=$E)&&(Zo=function(e){var t=nL(e),r=t==qie?e.constructor:void 0,n=r?Ld(r):"";if(n)switch(n){case Kie:return IE;case Gie:return TE;case Yie:return RE;case Xie:return ME;case Qie:return $E}return t});var Jie=Zo,db=H3,Zie=Y3,ese=One,tse=Aie,DE=Jie,LE=Gn,FE=J3,rse=eL,nse=1,BE="[object Arguments]",zE="[object Array]",xp="[object Object]",ase=Object.prototype,UE=ase.hasOwnProperty;function ise(e,t,r,n,a,i){var o=LE(e),l=LE(t),c=o?zE:DE(e),u=l?zE:DE(t);c=c==BE?xp:c,u=u==BE?xp:u;var d=c==xp,f=u==xp,h=c==u;if(h&&FE(e)){if(!FE(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new db),o||rse(e)?Zie(e,t,r,n,a,i):ese(e,t,c,r,n,a,i);if(!(r&nse)){var m=d&&UE.call(e,"__wrapped__"),y=f&&UE.call(t,"__wrapped__");if(m||y){var p=m?e.value():e,v=y?t.value():t;return i||(i=new db),a(p,v,r,n,i)}}return h?(i||(i=new db),tse(e,t,r,n,a,i)):!1}var sse=ise,ose=sse,VE=Ns;function aL(e,t,r,n,a){return e===t?!0:e==null||t==null||!VE(e)&&!VE(t)?e!==e&&t!==t:ose(e,t,r,n,aL,a)}var xC=aL,lse=H3,cse=xC,use=1,dse=2;function fse(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new lse;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?cse(d,u,use|dse,n,f):h))return!1}}return!0}var hse=fse,mse=Ro;function pse(e){return e===e&&!mse(e)}var iL=pse,vse=iL,gse=wx;function yse(e){for(var t=gse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,vse(a)]}return t}var xse=yse;function bse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sL=bse,wse=hse,jse=xse,_se=sL;function Sse(e){var t=jse(e);return t.length==1&&t[0][2]?_se(t[0][0],t[0][1]):function(r){return r===e||wse(r,e,t)}}var Cse=Sse;function Nse(e,t){return e!=null&&t in Object(e)}var Pse=Nse,kse=h3,Ese=vC,Ase=Gn,Ose=gC,Tse=yC,Rse=ix;function Mse(e,t,r){t=kse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Rse(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Tse(a)&&Ose(o,a)&&(Ase(e)||Ese(e)))}var $se=Mse,Ise=Pse,Dse=$se;function Lse(e,t){return e!=null&&Dse(e,t,Ise)}var Fse=Lse,Bse=xC,zse=m3,Use=Fse,Vse=ZS,Wse=iL,Hse=sL,qse=ix,Kse=1,Gse=2;function Yse(e,t){return Vse(e)&&Wse(t)?Hse(qse(e),t):function(r){var n=zse(r,e);return n===void 0&&n===t?Use(r,e):Bse(t,n,Kse|Gse)}}var Xse=Yse;function Qse(e){return e}var Fd=Qse;function Jse(e){return function(t){return t==null?void 0:t[e]}}var Zse=Jse,eoe=sC;function toe(e){return function(t){return eoe(t,e)}}var roe=toe,noe=Zse,aoe=roe,ioe=ZS,soe=ix;function ooe(e){return ioe(e)?noe(soe(e)):aoe(e)}var loe=ooe,coe=Cse,uoe=Xse,doe=Fd,foe=Gn,hoe=loe;function moe(e){return typeof e=="function"?e:e==null?doe:typeof e=="object"?foe(e)?uoe(e[0],e[1]):coe(e):hoe(e)}var zi=moe;function poe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var oL=poe;function voe(e){return e!==e}var goe=voe;function yoe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var xoe=yoe,boe=oL,woe=goe,joe=xoe;function _oe(e,t,r){return t===t?joe(e,t,r):boe(e,woe,r)}var Soe=_oe,Coe=Soe;function Noe(e,t){var r=e==null?0:e.length;return!!r&&Coe(e,t,0)>-1}var Poe=Noe;function koe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Eoe=koe;function Aoe(){}var Ooe=Aoe,fb=rL,Toe=Ooe,Roe=pC,Moe=1/0,$oe=fb&&1/Roe(new fb([,-0]))[1]==Moe?function(e){return new fb(e)}:Toe,Ioe=$oe,Doe=q3,Loe=Poe,Foe=Eoe,Boe=G3,zoe=Ioe,Uoe=pC,Voe=200;function Woe(e,t,r){var n=-1,a=Loe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Foe;else if(i>=Voe){var u=t?null:zoe(e);if(u)return Uoe(u);o=!1,a=Boe,c=new Doe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Hoe=Woe,qoe=zi,Koe=Hoe;function Goe(e,t){return e&&e.length?Koe(e,qoe(t)):[]}var Yoe=Goe;const WE=Ot(Yoe);function lL(e,t,r){return t===!0?WE(e,r):Ge(t)?WE(e,t):e}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var Xoe=["ref"];function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uL(n.key),n)}}function Joe(e,t,r){return t&&qE(e.prototype,t),r&&qE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zoe(e,t,r){return t=ig(t),ele(e,cL()?Reflect.construct(t,r||[],ig(e).constructor):t.apply(e,r))}function ele(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tle(e)}function tle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!e})()}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(e)}function rle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kj(e,t)}function Kj(e,t){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kj(e,t)}function jx(e,t,r){return t=uL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=nle(e,"string");return Tu(t)=="symbol"?t:t+""}function nle(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ale(e,t){if(e==null)return{};var r=ile(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ile(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sle(e){return e.value}function ole(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=ale(t,Xoe);return R.createElement(mC,r)}var KE=1,on=function(e){function t(){var r;Qoe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zoe(this,t,[].concat(a)),jx(r,"lastBoundingBox",{width:-1,height:-1}),r}return rle(t,e),Joe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>KE||Math.abs(a.height-this.lastBoundingBox.height)>KE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Hi(Hi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},ole(i,Hi(Hi({},this.props),{},{payload:lL(d,u,sle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Hi(Hi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);jx(on,"displayName","Legend");jx(on,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GE=Am,lle=vC,cle=Gn,YE=GE?GE.isConcatSpreadable:void 0;function ule(e){return cle(e)||lle(e)||!!(YE&&e&&e[YE])}var dle=ule,fle=X3,hle=dle;function dL(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=hle),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?dL(l,t-1,r,n,a):fle(a,l):n||(a[a.length]=l)}return a}var fL=dL;function mle(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ple=mle,vle=ple,gle=vle(),yle=gle,xle=yle,ble=wx;function wle(e,t){return e&&xle(e,t,ble)}var hL=wle,jle=Om;function _le(e,t){return function(r,n){if(r==null)return r;if(!jle(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Sle=_le,Cle=hL,Nle=Sle,Ple=Nle(Cle),bC=Ple,kle=bC,Ele=Om;function Ale(e,t){var r=-1,n=Ele(e)?Array(e.length):[];return kle(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var mL=Ale;function Ole(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Tle=Ole,XE=Od;function Rle(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=XE(e),o=t!==void 0,l=t===null,c=t===t,u=XE(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Mle=Rle,$le=Mle;function Ile(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=$le(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Dle=Ile,hb=iC,Lle=sC,Fle=zi,Ble=mL,zle=Tle,Ule=Z3,Vle=Dle,Wle=Fd,Hle=Gn;function qle(e,t,r){t.length?t=hb(t,function(i){return Hle(i)?function(o){return Lle(o,i.length===1?i[0]:i)}:i}):t=[Wle];var n=-1;t=hb(t,Ule(Fle));var a=Ble(e,function(i,o,l){var c=hb(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return zle(a,function(i,o){return Vle(i,o,r)})}var Kle=qle;function Gle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Yle=Gle,Xle=Yle,QE=Math.max;function Qle(e,t,r){return t=QE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=QE(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Xle(e,this,l)}}var Jle=Qle;function Zle(e){return function(){return e}}var ece=Zle,tce=Xl,rce=function(){try{var e=tce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),pL=rce,nce=ece,JE=pL,ace=Fd,ice=JE?function(e,t){return JE(e,"toString",{configurable:!0,enumerable:!1,value:nce(t),writable:!0})}:ace,sce=ice,oce=800,lce=16,cce=Date.now;function uce(e){var t=0,r=0;return function(){var n=cce(),a=lce-(n-r);if(r=n,a>0){if(++t>=oce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dce=uce,fce=sce,hce=dce,mce=hce(fce),pce=mce,vce=Fd,gce=Jle,yce=pce;function xce(e,t){return yce(gce(e,t,vce),e+"")}var bce=xce,wce=tC,jce=Om,_ce=gC,Sce=Ro;function Cce(e,t,r){if(!Sce(r))return!1;var n=typeof t;return(n=="number"?jce(r)&&_ce(t,r.length):n=="string"&&t in r)?wce(r[t],e):!1}var _x=Cce,Nce=fL,Pce=Kle,kce=bce,ZE=_x,Ece=kce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ZE(e,t[0],t[1])?t=[]:r>2&&ZE(t[0],t[1],t[2])&&(t=[t[0]]),Pce(e,Nce(t,1),[])}),Ace=Ece;const wC=Ot(Ace);function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gj.apply(this,arguments)}function Oce(e,t){return $ce(e)||Mce(e,t)||Rce(e,t)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $ce(e){if(Array.isArray(e))return e}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){Ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ice(e,t,r){return t=Dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dce(e){var t=Lce(e,"string");return Ih(t)=="symbol"?t:t+""}function Lce(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fce(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var Bce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,p=t.label,v=t.labelFormatter,g=t.accessibilityLayer,x=g===void 0?!1:g,b=function(){if(d&&d.length){var T={padding:0,margin:0},A=(h?wC(d,h):d).map(function(k,$){if(k.type==="none")return null;var D=mb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},l),M=k.formatter||f||Fce,I=k.value,L=k.name,B=I,Q=L;if(M&&B!=null&&Q!=null){var X=M(I,L,k,$,d);if(Array.isArray(X)){var ne=Oce(X,2);B=ne[0],Q=ne[1]}else B=X}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:D},Hr(Q)?R.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Hr(Q)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},B),R.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:T},A)}return null},_=mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=mb({margin:0},u),S=!Ke(p),C=S?p:"",N=tt("recharts-default-tooltip",m),P=tt("recharts-tooltip-label",y);S&&v&&d!==void 0&&d!==null&&(C=v(p,d));var E=x?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Gj({className:N,style:_},E),R.createElement("p",{className:P,style:j},R.isValidElement(C)?C:"".concat(C)),b())};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function bp(e,t,r){return t=zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zce(e){var t=Uce(e,"string");return Dh(t)=="symbol"?t:t+""}function Uce(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of="recharts-tooltip-wrapper",Vce={visibility:"hidden"};function Wce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(of,bp(bp(bp(bp({},"".concat(of,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(of,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(of,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(of,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function rA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,p=c[n]+u;return y>p?Math.max(d,c[n]):Math.max(f,c[n])}function Hce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=rA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=rA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Hce({translateX:d,translateY:f,useTranslate3d:l})):u=Vce,{cssProperties:u,cssClasses:Wce({translateX:d,translateY:f,coordinate:r})}}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gL(n.key),n)}}function Yce(e,t,r){return t&&Gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xce(e,t,r){return t=sg(t),Qce(e,vL()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function Qce(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jce(e)}function Jce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function Zce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yj(e,t)}function Yj(e,t){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yj(e,t)}function Xj(e,t,r){return t=gL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=eue(e,"string");return Ru(t)=="symbol"?t:t+""}function eue(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iA=1,tue=function(e){function t(){var r;Kce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xce(this,t,[].concat(a)),Xj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xj(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Zce(t,e),Yce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iA||Math.abs(n.height-this.state.lastBoundingBox.height)>iA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,y=a.position,p=a.reverseDirection,v=a.useTranslate3d,g=a.viewBox,x=a.wrapperStyle,b=qce({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),_=b.cssClasses,j=b.cssProperties,S=aA(aA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return R.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(w.PureComponent),rue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ca={isSsr:rue(),get:function(t){return Ca[t]},set:function(t,r){if(typeof t=="string")Ca[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ca[a]=t[a]})}}};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){jC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xL(n.key),n)}}function iue(e,t,r){return t&&aue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sue(e,t,r){return t=og(t),oue(e,yL()?Reflect.construct(t,r||[],og(e).constructor):t.apply(e,r))}function oue(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(e)}function lue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!e})()}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(e)}function cue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qj(e,t)}function Qj(e,t){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qj(e,t)}function jC(e,t,r){return t=xL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=uue(e,"string");return Mu(t)=="symbol"?t:t+""}function uue(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function due(e){return e.dataKey}function fue(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(Bce,t)}var Ht=function(e){function t(){return nue(this,t),sue(this,t,arguments)}return cue(t,e),iue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,y=a.payload,p=a.payloadUniqBy,v=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=y??[];f&&j.length&&(j=lL(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),p,due));var S=j.length>0;return R.createElement(tue,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:_},fue(u,oA(oA({},this.props),{},{payload:j})))}}])}(w.PureComponent);jC(Ht,"displayName","Tooltip");jC(Ht,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ca.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hue=Bi,mue=function(){return hue.Date.now()},pue=mue,vue=/\s/;function gue(e){for(var t=e.length;t--&&vue.test(e.charAt(t)););return t}var yue=gue,xue=yue,bue=/^\s+/;function wue(e){return e&&e.slice(0,xue(e)+1).replace(bue,"")}var jue=wue,_ue=jue,lA=Ro,Sue=Od,cA=NaN,Cue=/^[-+]0x[0-9a-f]+$/i,Nue=/^0b[01]+$/i,Pue=/^0o[0-7]+$/i,kue=parseInt;function Eue(e){if(typeof e=="number")return e;if(Sue(e))return cA;if(lA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_ue(e);var r=Nue.test(e);return r||Pue.test(e)?kue(e.slice(2),r?2:8):Cue.test(e)?cA:+e}var bL=Eue,Aue=Ro,pb=pue,uA=bL,Oue="Expected a function",Tue=Math.max,Rue=Math.min;function Mue(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Oue);t=uA(t)||0,Aue(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Tue(uA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var C=n,N=a;return n=a=void 0,u=S,o=e.apply(N,C),o}function y(S){return u=S,l=setTimeout(g,t),d?m(S):o}function p(S){var C=S-c,N=S-u,P=t-C;return f?Rue(P,i-N):P}function v(S){var C=S-c,N=S-u;return c===void 0||C>=t||C<0||f&&N>=i}function g(){var S=pb();if(v(S))return x(S);l=setTimeout(g,p(S))}function x(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(pb())}function j(){var S=pb(),C=v(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),m(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=b,j.flush=_,j}var $ue=Mue,Iue=$ue,Due=Ro,Lue="Expected a function";function Fue(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Lue);return Due(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Iue(e,t,{leading:n,maxWait:t,trailing:a})}var Bue=Fue;const wL=Ot(Bue);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){zue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zue(e,t,r){return t=Uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uue(e){var t=Vue(e,"string");return Lh(t)=="symbol"?t:t+""}function Vue(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e,t){return Gue(e)||Kue(e,t)||que(e,t)||Hue()}function Hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function que(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gue(e){if(Array.isArray(e))return e}var ln=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,p=y===void 0?0:y,v=e.id,g=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,j=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),N=Wue(C,2),P=N[0],E=N[1],O=w.useCallback(function(A,k){E(function($){var D=Math.round(A),M=Math.round(k);return $.containerWidth===D&&$.containerHeight===M?$:{containerWidth:D,containerHeight:M}})},[]);w.useEffect(function(){var A=function(L){var B,Q=L[0].contentRect,X=Q.width,ne=Q.height;O(X,ne),(B=S.current)===null||B===void 0||B.call(S,X,ne)};p>0&&(A=wL(A,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(A),$=j.current.getBoundingClientRect(),D=$.width,M=$.height;return O(D,M),k.observe(j.current),function(){k.disconnect()}},[O,p]);var T=w.useMemo(function(){var A=P.containerWidth,k=P.containerHeight;if(A<0||k<0)return null;ii(ul(o)||ul(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ii(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ul(o)?A:o,D=ul(c)?k:c;r&&r>0&&($?D=$/r:D&&($=D*r),h&&D>h&&(D=h)),ii($>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,D,o,c,d,f,r);var M=!Array.isArray(m)&&ls(m.type).endsWith("Chart");return R.Children.map(m,function(I){return R.isValidElement(I)?w.cloneElement(I,wp({width:$,height:D},M?{style:wp({height:"100%",width:"100%",maxHeight:D,maxWidth:$},I.props.style)}:{})):I})},[r,m,c,h,f,d,P,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:tt("recharts-responsive-container",g),style:wp(wp({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),Bd=function(t){return null};Bd.displayName="Cell";function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yue(e,t,r){return t=Xue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xue(e){var t=Que(e,"string");return Fh(t)=="symbol"?t:t+""}function Que(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lc={widthCache:{},cacheCount:0},Jue=2e3,Zue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mA="recharts_measurement_span";function ede(e){var t=Jj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Uf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ca.isSsr)return{width:0,height:0};var n=ede(r),a=JSON.stringify({text:t,copyStyle:n});if(lc.widthCache[a])return lc.widthCache[a];try{var i=document.getElementById(mA);i||(i=document.createElement("span"),i.setAttribute("id",mA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Jj(Jj({},Zue),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return lc.widthCache[a]=c,++lc.cacheCount>Jue&&(lc.cacheCount=0,lc.widthCache={}),c}catch{return{width:0,height:0}}},tde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function lg(e,t){return ide(e)||ade(e,t)||nde(e,t)||rde()}function rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ade(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ide(e){if(Array.isArray(e))return e}function sde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lde(n.key),n)}}function ode(e,t,r){return t&&vA(e.prototype,t),r&&vA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lde(e){var t=cde(e,"string");return Bh(t)=="symbol"?t:t+""}function cde(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ude=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fde=Object.keys(jL),zc="NaN";function hde(e,t){return e*jL[t]}var jp=function(){function e(t,r){sde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ude.test(r)&&(this.num=NaN,this.unit=""),fde.includes(r)&&(this.num=hde(t,r),this.unit="px")}return ode(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=dde.exec(r))!==null&&n!==void 0?n:[],i=lg(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function _L(e){if(e.includes(zc))return zc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=gA.exec(t))!==null&&r!==void 0?r:[],a=lg(n,4),i=a[1],o=a[2],l=a[3],c=jp.parse(i??""),u=jp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zc;t=t.replace(gA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=yA.exec(t))!==null&&f!==void 0?f:[],m=lg(h,4),y=m[1],p=m[2],v=m[3],g=jp.parse(y??""),x=jp.parse(v??""),b=p==="+"?g.add(x):g.subtract(x);if(b.isNaN())return zc;t=t.replace(yA,b.toString())}return t}var xA=/\(([^()]*)\)/;function mde(e){for(var t=e;t.includes("(");){var r=xA.exec(t),n=lg(r,2),a=n[1];t=t.replace(xA,_L(a))}return t}function pde(e){var t=e.replace(/\s+/g,"");return t=mde(t),t=_L(t),t}function vde(e){try{return pde(e)}catch{return zc}}function vb(e){var t=vde(e.slice(5,-1));return t===zc?"":t}var gde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yde=["dx","dy","angle","className","breakAll"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(this,arguments)}function bA(e,t){if(e==null)return{};var r=xde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wA(e,t){return _de(e)||jde(e,t)||wde(e,t)||bde()}function bde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wde(e,t){if(e){if(typeof e=="string")return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(e,t)}}function jA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _de(e){if(Array.isArray(e))return e}var SL=/[ \f\n\r\t\v\u2028\u2029]+/,CL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ke(r)||(n?i=r.toString().split(""):i=r.toString().split(SL));var o=i.map(function(c){return{word:c,width:Uf(c,a).width}}),l=n?0:Uf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Sde=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(D,M){var I=M.word,L=M.width,B=D[D.length-1];if(B&&(a==null||i||B.width+L+n<Number(a)))B.words.push(I),B.width+=L+n;else{var Q={words:[I],width:L};D.push(Q)}return D},[])},m=h(r),y=function($){return $.reduce(function(D,M){return D.width>M.width?D:M})};if(!d)return m;for(var p="",v=function($){var D=f.slice(0,$),M=CL({breakAll:u,style:c,children:D+p}).wordsWithComputedWidth,I=h(M),L=I.length>o||y(I).width>Number(a);return[L,I]},g=0,x=f.length-1,b=0,_;g<=x&&b<=f.length-1;){var j=Math.floor((g+x)/2),S=j-1,C=v(S),N=wA(C,2),P=N[0],E=N[1],O=v(j),T=wA(O,1),A=T[0];if(!P&&!A&&(g=j+1),P&&A&&(x=j-1),!P&&A){_=E;break}b++}return _||m},_A=function(t){var r=Ke(t)?[]:t.toString().split(SL);return[{words:r}]},Cde=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ca.isSsr){var c,u,d=CL({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return _A(a);return Sde({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return _A(a)},SA="#808080",Il=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,p=y===void 0?"end":y,v=t.fill,g=v===void 0?SA:v,x=bA(t,gde),b=w.useMemo(function(){return Cde({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,j=x.dy,S=x.angle,C=x.className,N=x.breakAll,P=bA(x,yde);if(!Hr(n)||!Hr(i))return null;var E=n+(pe(_)?_:0),O=i+(pe(j)?j:0),T;switch(p){case"start":T=vb("calc(".concat(u,")"));break;case"middle":T=vb("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=vb("calc(".concat(b.length-1," * -").concat(l,")"));break}var A=[];if(f){var k=b[0].width,$=x.width;A.push("scale(".concat((pe($)?$/k:1)/k,")"))}return S&&A.push("rotate(".concat(S,", ").concat(E,", ").concat(O,")")),A.length&&(P.transform=A.join(" ")),R.createElement("text",Zj({},Le(P,!0),{x:E,y:O,className:tt("recharts-text",C),textAnchor:m,fill:g.includes("url")?SA:g}),b.map(function(D,M){var I=D.words.join(N?"":" ");return R.createElement("tspan",{x:E,dy:M===0?T:l,key:"".concat(I,"-").concat(M)},I)}))};function go(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _C(e){let t,r,n;e.length!==2?(t=go,r=(l,c)=>go(e(l),c),n=(l,c)=>e(l)-c):(t=e===go||e===Nde?e:Pde,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Pde(){return 0}function NL(e){return e===null?NaN:+e}function*kde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ede=_C(go),Tm=Ede.right;_C(NL).center;class CA extends Map{constructor(t,r=Tde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(NA(this,t))}has(t){return super.has(NA(this,t))}set(t,r){return super.set(Ade(this,t),r)}delete(t){return super.delete(Ode(this,t))}}function NA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ade({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ode({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Tde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rde(e=go){if(e===go)return PL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mde=Math.sqrt(50),$de=Math.sqrt(10),Ide=Math.sqrt(2);function cg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Mde?10:i>=$de?5:i>=Ide?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?cg(e,t,r*2):[l,c,u]}function e1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?cg(t,e,r):cg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function t1(e,t,r){return t=+t,e=+e,r=+r,cg(e,t,r)[2]}function r1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?t1(t,e,r):t1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function PA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?PL:Rde(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));kL(e,t,m,y,a)}const i=e[t];let o=r,l=n;for(lf(e,r,t),a(e[n],i)>0&&lf(e,r,n);o<l;){for(lf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?lf(e,r,l):(++l,lf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function lf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Dde(e,t,r){if(e=Float64Array.from(kde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return kA(e);if(t>=1)return PA(e);var n,a=(n-1)*t,i=Math.floor(a),o=PA(kL(e,i).subarray(0,i+1)),l=kA(e.subarray(i+1));return o+(l-o)*(a-i)}}function Lde(e,t,r=NL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Fde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ta(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ps(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const n1=Symbol("implicit");function SC(){var e=new CA,t=[],r=[],n=n1;function a(i){let o=e.get(i);if(o===void 0){if(n!==n1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return SC(t,r).unknown(n)},Ta.apply(a,arguments),a}function zh(){var e=SC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,y=m?a:n,p=m?n:a;i=(p-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(p-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=Fde(h).map(function(g){return y+i*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ta.apply(f(),arguments)}function EL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EL(t())},e}function Vf(){return EL(zh.apply(null,arguments).paddingInner(1))}function CC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rm(){}var Uh=.7,ug=1/Uh,nu="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bde=/^#([0-9a-f]{3,8})$/,zde=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),Ude=new RegExp(`^rgb\\(${Oi},${Oi},${Oi}\\)$`),Vde=new RegExp(`^rgba\\(${nu},${nu},${nu},${Vh}\\)$`),Wde=new RegExp(`^rgba\\(${Oi},${Oi},${Oi},${Vh}\\)$`),Hde=new RegExp(`^hsl\\(${Vh},${Oi},${Oi}\\)$`),qde=new RegExp(`^hsla\\(${Vh},${Oi},${Oi},${Vh}\\)$`),EA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CC(Rm,Wh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AA,formatHex:AA,formatHex8:Kde,formatHsl:Gde,formatRgb:OA,toString:OA});function AA(){return this.rgb().formatHex()}function Kde(){return this.rgb().formatHex8()}function Gde(){return OL(this).formatHsl()}function OA(){return this.rgb().formatRgb()}function Wh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Bde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TA(t):r===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_p(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_p(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zde.exec(e))?new zn(t[1],t[2],t[3],1):(t=Ude.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vde.exec(e))?_p(t[1],t[2],t[3],t[4]):(t=Wde.exec(e))?_p(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hde.exec(e))?$A(t[1],t[2]/100,t[3]/100,1):(t=qde.exec(e))?$A(t[1],t[2]/100,t[3]/100,t[4]):EA.hasOwnProperty(e)?TA(EA[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function TA(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function _p(e,t,r,n){return n<=0&&(e=t=r=NaN),new zn(e,t,r,n)}function Yde(e){return e instanceof Rm||(e=Wh(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function a1(e,t,r,n){return arguments.length===1?Yde(e):new zn(e,t,r,n??1)}function zn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}CC(zn,a1,AL(Rm,{brighter(e){return e=e==null?ug:Math.pow(ug,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uh:Math.pow(Uh,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(Sl(this.r),Sl(this.g),Sl(this.b),dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RA,formatHex:RA,formatHex8:Xde,formatRgb:MA,toString:MA}));function RA(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function Xde(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function MA(){const e=dg(this.opacity);return`${e===1?"rgb(":"rgba("}${Sl(this.r)}, ${Sl(this.g)}, ${Sl(this.b)}${e===1?")":`, ${e})`}`}function dg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dl(e){return e=Sl(e),(e<16?"0":"")+e.toString(16)}function $A(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Za(e,t,r,n)}function OL(e){if(e instanceof Za)return new Za(e.h,e.s,e.l,e.opacity);if(e instanceof Rm||(e=Wh(e)),!e)return new Za;if(e instanceof Za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Za(o,l,c,e.opacity)}function Qde(e,t,r,n){return arguments.length===1?OL(e):new Za(e,t,r,n??1)}function Za(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}CC(Za,Qde,AL(Rm,{brighter(e){return e=e==null?ug:Math.pow(ug,e),new Za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uh:Math.pow(Uh,e),new Za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new zn(gb(e>=240?e-240:e+120,a,n),gb(e,a,n),gb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Za(IA(this.h),Sp(this.s),Sp(this.l),dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dg(this.opacity);return`${e===1?"hsl(":"hsla("}${IA(this.h)}, ${Sp(this.s)*100}%, ${Sp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IA(e){return e=(e||0)%360,e<0?e+360:e}function Sp(e){return Math.max(0,Math.min(1,e||0))}function gb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const NC=e=>()=>e;function Jde(e,t){return function(r){return e+r*t}}function Zde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function efe(e){return(e=+e)==1?TL:function(t,r){return r-t?Zde(t,r,e):NC(isNaN(t)?r:t)}}function TL(e,t){var r=t-e;return r?Jde(e,r):NC(isNaN(e)?t:e)}const DA=function e(t){var r=efe(t);function n(a,i){var o=r((a=a1(a)).r,(i=a1(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=TL(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function tfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=zd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function afe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ife(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=zd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var i1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp(i1.source,"g");function sfe(e){return function(){return e}}function ofe(e){return function(t){return e(t)+""}}function lfe(e,t){var r=i1.lastIndex=yb.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=i1.exec(e))&&(a=yb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:fg(n,a)})),r=yb.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?ofe(c[0].x):sfe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function zd(e,t){var r=typeof t,n;return t==null||r==="boolean"?NC(t):(r==="number"?fg:r==="string"?(n=Wh(t))?(t=n,DA):lfe:t instanceof Wh?DA:t instanceof Date?afe:rfe(t)?tfe:Array.isArray(t)?nfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ife:fg)(e,t)}function PC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cfe(e,t){t===void 0&&(t=e,e=zd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ufe(e){return function(){return e}}function hg(e){return+e}var LA=[0,1];function An(e){return e}function s1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ufe(isNaN(t)?NaN:.5)}function dfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ffe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=s1(a,n),i=r(o,i)):(n=s1(n,a),i=r(i,o)),function(l){return i(n(l))}}function hfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=s1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Tm(e,l,1,n)-1;return i[c](a[c](l))}}function Mm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sx(){var e=LA,t=LA,r=zd,n,a,i,o=An,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==An&&(o=dfe(e[0],e[h-1])),l=h>2?hfe:ffe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),fg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=PC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:An,d()):o!==An},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function kC(){return Sx()(An,An)}function mfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $u(e){return e=mg(Math.abs(e)),e?e[1]:NaN}function pfe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function vfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hh(e){if(!(t=gfe.exec(e)))throw new Error("invalid format: "+e);var t;return new EC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hh.prototype=EC.prototype;function EC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var RL;function xfe(e,t){var r=mg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(RL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+mg(e,Math.max(0,t+i-1))[0]}function FA(e,t){var r=mg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const BA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FA(e*100,t),r:FA,s:xfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zA(e){return e}var UA=Array.prototype.map,VA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bfe(e){var t=e.grouping===void 0||e.thousands===void 0?zA:pfe(UA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zA:vfe(UA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Hh(f);var h=f.fill,m=f.align,y=f.sign,p=f.symbol,v=f.zero,g=f.width,x=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):BA[j]||(b===void 0&&(b=12),_=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=p==="$"?n:/[%p]/.test(j)?o:"",N=BA[j],P=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(O){var T=S,A=C,k,$,D;if(j==="c")A=N(O)+A,O="";else{O=+O;var M=O<0||1/O<0;if(O=isNaN(O)?c:N(Math.abs(O),b),_&&(O=yfe(O)),M&&+O==0&&y!=="+"&&(M=!1),T=(M?y==="("?y:l:y==="-"||y==="("?"":y)+T,A=(j==="s"?VA[8+RL/3]:"")+A+(M&&y==="("?")":""),P){for(k=-1,$=O.length;++k<$;)if(D=O.charCodeAt(k),48>D||D>57){A=(D===46?a+O.slice(k+1):O.slice(k))+A,O=O.slice(0,k);break}}}x&&!v&&(O=t(O,1/0));var I=T.length+O.length+A.length,L=I<g?new Array(g-I+1).join(h):"";switch(x&&v&&(O=t(L+O,L.length?g-A.length:1/0),L=""),m){case"<":O=T+O+A+L;break;case"=":O=T+L+O+A;break;case"^":O=L.slice(0,I=L.length>>1)+T+O+A+L.slice(I);break;default:O=L+T+O+A;break}return i(O)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=Hh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor($u(h)/3)))*3,p=Math.pow(10,-y),v=VA[8+y/3];return function(g){return m(p*g)+v}}return{format:u,formatPrefix:d}}var Cp,AC,ML;wfe({thousands:",",grouping:[3],currency:["$",""]});function wfe(e){return Cp=bfe(e),AC=Cp.format,ML=Cp.formatPrefix,Cp}function jfe(e){return Math.max(0,-$u(Math.abs(e)))}function _fe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($u(t)/3)))*3-$u(Math.abs(e)))}function Sfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$u(t)-$u(e))+1}function $L(e,t,r,n){var a=r1(e,t,r),i;switch(n=Hh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=_fe(a,o))&&(n.precision=i),ML(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Sfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return AC(n)}function $o(e){var t=e.domain;return e.ticks=function(r){var n=t();return e1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return $L(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=t1(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function pg(){var e=kC();return e.copy=function(){return Mm(e,pg())},Ta.apply(e,arguments),$o(e)}function IL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IL(e).unknown(t)},e=arguments.length?Array.from(e,hg):[0,1],$o(r)}function DL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function WA(e){return Math.log(e)}function HA(e){return Math.exp(e)}function Cfe(e){return-Math.log(-e)}function Nfe(e){return-Math.exp(-e)}function Pfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kfe(e){return e===10?Pfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Efe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qA(e){return(t,r)=>-e(-t,r)}function OC(e){const t=e(WA,HA),r=t.domain;let n=10,a,i;function o(){return a=Efe(n),i=kfe(n),r()[0]<0?(a=qA(a),i=qA(i),e(Cfe,Nfe)):e(WA,HA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),y,p;const v=l==null?10:+l;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(p=h<0?y/i(-h):y*i(h),!(p<u)){if(p>d)break;g.push(p)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(p=h>0?y/i(-h):y*i(h),!(p<u)){if(p>d)break;g.push(p)}g.length*2<v&&(g=e1(u,d,v))}else g=e1(h,m,Math.min(m-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Hh(c)).precision==null&&(c.trim=!0),c=AC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(DL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function LL(){const e=OC(Sx()).domain([1,10]);return e.copy=()=>Mm(e,LL()).base(e.base()),Ta.apply(e,arguments),e}function KA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TC(e){var t=1,r=e(KA(t),GA(t));return r.constant=function(n){return arguments.length?e(KA(t=+n),GA(t)):t},$o(r)}function FL(){var e=TC(Sx());return e.copy=function(){return Mm(e,FL()).constant(e.constant())},Ta.apply(e,arguments)}function YA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Afe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ofe(e){return e<0?-e*e:e*e}function RC(e){var t=e(An,An),r=1;function n(){return r===1?e(An,An):r===.5?e(Afe,Ofe):e(YA(r),YA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$o(t)}function MC(){var e=RC(Sx());return e.copy=function(){return Mm(e,MC()).exponent(e.exponent())},Ta.apply(e,arguments),e}function Tfe(){return MC.apply(null,arguments).exponent(.5)}function XA(e){return Math.sign(e)*e*e}function Rfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BL(){var e=kC(),t=[0,1],r=!1,n;function a(i){var o=Rfe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(XA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hg)).map(XA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return BL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ta.apply(a,arguments),$o(a)}function zL(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Lde(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Tm(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(go),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return zL().domain(e).range(t).unknown(n)},Ta.apply(i,arguments)}function UL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Tm(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return UL().domain([e,t]).range(a).unknown(i)},Ta.apply($o(o),arguments)}function VL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Tm(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return VL().domain(e).range(t).unknown(r)},Ta.apply(a,arguments)}const xb=new Date,bb=new Date;function qr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>qr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(xb.setTime(+i),bb.setTime(+o),e(xb),e(bb),Math.floor(r(xb,bb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const vg=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vg);vg.range;const rs=1e3,_a=rs*60,ns=_a*60,vs=ns*24,$C=vs*7,QA=vs*30,wb=vs*365,fl=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCSeconds());fl.range;const IC=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rs)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getMinutes());IC.range;const DC=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCMinutes());DC.range;const LC=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rs-e.getMinutes()*_a)},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getHours());LC.range;const FC=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCHours());FC.range;const $m=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_a)/vs,e=>e.getDate()-1);$m.range;const Cx=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>e.getUTCDate()-1);Cx.range;const WL=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>Math.floor(e/vs));WL.range;function Ql(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_a)/$C)}const Nx=Ql(0),gg=Ql(1),Mfe=Ql(2),$fe=Ql(3),Iu=Ql(4),Ife=Ql(5),Dfe=Ql(6);Nx.range;gg.range;Mfe.range;$fe.range;Iu.range;Ife.range;Dfe.range;function Jl(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$C)}const Px=Jl(0),yg=Jl(1),Lfe=Jl(2),Ffe=Jl(3),Du=Jl(4),Bfe=Jl(5),zfe=Jl(6);Px.range;yg.range;Lfe.range;Ffe.range;Du.range;Bfe.range;zfe.range;const BC=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());BC.range;const zC=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zC.range;const gs=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gs.range;const ys=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ys.range;function HL(e,t,r,n,a,i){const o=[[fl,1,rs],[fl,5,5*rs],[fl,15,15*rs],[fl,30,30*rs],[i,1,_a],[i,5,5*_a],[i,15,15*_a],[i,30,30*_a],[a,1,ns],[a,3,3*ns],[a,6,6*ns],[a,12,12*ns],[n,1,vs],[n,2,2*vs],[r,1,$C],[t,1,QA],[t,3,3*QA],[e,1,wb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=_C(([,,v])=>v).right(o,h);if(m===o.length)return e.every(r1(u/wb,d/wb,f));if(m===0)return vg.every(Math.max(r1(u,d,f),1));const[y,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(p)}return[l,c]}const[Ufe,Vfe]=HL(ys,zC,Px,WL,FC,DC),[Wfe,Hfe]=HL(gs,BC,Nx,$m,LC,IC);function jb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qfe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=uf(a),d=df(a),f=uf(i),h=df(i),m=uf(o),y=df(o),p=uf(l),v=df(l),g=uf(c),x=df(c),b={a:M,A:I,b:L,B,c:null,d:nO,e:nO,f:phe,g:Che,G:Phe,H:fhe,I:hhe,j:mhe,L:qL,m:vhe,M:ghe,p:Q,q:X,Q:sO,s:oO,S:yhe,u:xhe,U:bhe,V:whe,w:jhe,W:_he,x:null,X:null,y:She,Y:Nhe,Z:khe,"%":iO},_={a:ne,A:z,b:U,B:H,c:null,d:aO,e:aO,f:The,g:Uhe,G:Whe,H:Ehe,I:Ahe,j:Ohe,L:GL,m:Rhe,M:Mhe,p:q,q:J,Q:sO,s:oO,S:$he,u:Ihe,U:Dhe,V:Lhe,w:Fhe,W:Bhe,x:null,X:null,y:zhe,Y:Vhe,Z:Hhe,"%":iO},j={a:E,A:O,b:T,B:A,c:k,d:tO,e:tO,f:lhe,g:eO,G:ZA,H:rO,I:rO,j:ahe,L:ohe,m:nhe,M:ihe,p:P,q:rhe,Q:uhe,s:dhe,S:she,u:Qfe,U:Jfe,V:Zfe,w:Xfe,W:ehe,x:$,X:D,y:eO,Y:ZA,Z:the,"%":che};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(Z,te){return function(V){var K=[],he=-1,_e=0,ze=Z.length,Ye,et,ht;for(V instanceof Date||(V=new Date(+V));++he<ze;)Z.charCodeAt(he)===37&&(K.push(Z.slice(_e,he)),(et=JA[Ye=Z.charAt(++he)])!=null?Ye=Z.charAt(++he):et=Ye==="e"?" ":"0",(ht=te[Ye])&&(Ye=ht(V,et)),K.push(Ye),_e=he+1);return K.push(Z.slice(_e,he)),K.join("")}}function C(Z,te){return function(V){var K=cf(1900,void 0,1),he=N(K,Z,V+="",0),_e,ze;if(he!=V.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(te&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(_e=_b(cf(K.y,0,1)),ze=_e.getUTCDay(),_e=ze>4||ze===0?yg.ceil(_e):yg(_e),_e=Cx.offset(_e,(K.V-1)*7),K.y=_e.getUTCFullYear(),K.m=_e.getUTCMonth(),K.d=_e.getUTCDate()+(K.w+6)%7):(_e=jb(cf(K.y,0,1)),ze=_e.getDay(),_e=ze>4||ze===0?gg.ceil(_e):gg(_e),_e=$m.offset(_e,(K.V-1)*7),K.y=_e.getFullYear(),K.m=_e.getMonth(),K.d=_e.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ze="Z"in K?_b(cf(K.y,0,1)).getUTCDay():jb(cf(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ze+5)%7:K.w+K.U*7-(ze+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,_b(K)):jb(K)}}function N(Z,te,V,K){for(var he=0,_e=te.length,ze=V.length,Ye,et;he<_e;){if(K>=ze)return-1;if(Ye=te.charCodeAt(he++),Ye===37){if(Ye=te.charAt(he++),et=j[Ye in JA?te.charAt(he++):Ye],!et||(K=et(Z,V,K))<0)return-1}else if(Ye!=V.charCodeAt(K++))return-1}return K}function P(Z,te,V){var K=u.exec(te.slice(V));return K?(Z.p=d.get(K[0].toLowerCase()),V+K[0].length):-1}function E(Z,te,V){var K=m.exec(te.slice(V));return K?(Z.w=y.get(K[0].toLowerCase()),V+K[0].length):-1}function O(Z,te,V){var K=f.exec(te.slice(V));return K?(Z.w=h.get(K[0].toLowerCase()),V+K[0].length):-1}function T(Z,te,V){var K=g.exec(te.slice(V));return K?(Z.m=x.get(K[0].toLowerCase()),V+K[0].length):-1}function A(Z,te,V){var K=p.exec(te.slice(V));return K?(Z.m=v.get(K[0].toLowerCase()),V+K[0].length):-1}function k(Z,te,V){return N(Z,t,te,V)}function $(Z,te,V){return N(Z,r,te,V)}function D(Z,te,V){return N(Z,n,te,V)}function M(Z){return o[Z.getDay()]}function I(Z){return i[Z.getDay()]}function L(Z){return c[Z.getMonth()]}function B(Z){return l[Z.getMonth()]}function Q(Z){return a[+(Z.getHours()>=12)]}function X(Z){return 1+~~(Z.getMonth()/3)}function ne(Z){return o[Z.getUTCDay()]}function z(Z){return i[Z.getUTCDay()]}function U(Z){return c[Z.getUTCMonth()]}function H(Z){return l[Z.getUTCMonth()]}function q(Z){return a[+(Z.getUTCHours()>=12)]}function J(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var te=S(Z+="",b);return te.toString=function(){return Z},te},parse:function(Z){var te=C(Z+="",!1);return te.toString=function(){return Z},te},utcFormat:function(Z){var te=S(Z+="",_);return te.toString=function(){return Z},te},utcParse:function(Z){var te=C(Z+="",!0);return te.toString=function(){return Z},te}}}var JA={"-":"",_:" ",0:"0"},Jr=/^\s*\d+/,Kfe=/^%/,Gfe=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Yfe(e){return e.replace(Gfe,"\\$&")}function uf(e){return new RegExp("^(?:"+e.map(Yfe).join("|")+")","i")}function df(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Xfe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qfe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Jfe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zfe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ehe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZA(e,t,r){var n=Jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eO(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function the(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rhe(e,t,r){var n=Jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nhe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tO(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ahe(e,t,r){var n=Jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rO(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ihe(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function she(e,t,r){var n=Jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ohe(e,t,r){var n=Jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lhe(e,t,r){var n=Jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function che(e,t,r){var n=Kfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uhe(e,t,r){var n=Jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dhe(e,t,r){var n=Jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nO(e,t){return kt(e.getDate(),t,2)}function fhe(e,t){return kt(e.getHours(),t,2)}function hhe(e,t){return kt(e.getHours()%12||12,t,2)}function mhe(e,t){return kt(1+$m.count(gs(e),e),t,3)}function qL(e,t){return kt(e.getMilliseconds(),t,3)}function phe(e,t){return qL(e,t)+"000"}function vhe(e,t){return kt(e.getMonth()+1,t,2)}function ghe(e,t){return kt(e.getMinutes(),t,2)}function yhe(e,t){return kt(e.getSeconds(),t,2)}function xhe(e){var t=e.getDay();return t===0?7:t}function bhe(e,t){return kt(Nx.count(gs(e)-1,e),t,2)}function KL(e){var t=e.getDay();return t>=4||t===0?Iu(e):Iu.ceil(e)}function whe(e,t){return e=KL(e),kt(Iu.count(gs(e),e)+(gs(e).getDay()===4),t,2)}function jhe(e){return e.getDay()}function _he(e,t){return kt(gg.count(gs(e)-1,e),t,2)}function She(e,t){return kt(e.getFullYear()%100,t,2)}function Che(e,t){return e=KL(e),kt(e.getFullYear()%100,t,2)}function Nhe(e,t){return kt(e.getFullYear()%1e4,t,4)}function Phe(e,t){var r=e.getDay();return e=r>=4||r===0?Iu(e):Iu.ceil(e),kt(e.getFullYear()%1e4,t,4)}function khe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function aO(e,t){return kt(e.getUTCDate(),t,2)}function Ehe(e,t){return kt(e.getUTCHours(),t,2)}function Ahe(e,t){return kt(e.getUTCHours()%12||12,t,2)}function Ohe(e,t){return kt(1+Cx.count(ys(e),e),t,3)}function GL(e,t){return kt(e.getUTCMilliseconds(),t,3)}function The(e,t){return GL(e,t)+"000"}function Rhe(e,t){return kt(e.getUTCMonth()+1,t,2)}function Mhe(e,t){return kt(e.getUTCMinutes(),t,2)}function $he(e,t){return kt(e.getUTCSeconds(),t,2)}function Ihe(e){var t=e.getUTCDay();return t===0?7:t}function Dhe(e,t){return kt(Px.count(ys(e)-1,e),t,2)}function YL(e){var t=e.getUTCDay();return t>=4||t===0?Du(e):Du.ceil(e)}function Lhe(e,t){return e=YL(e),kt(Du.count(ys(e),e)+(ys(e).getUTCDay()===4),t,2)}function Fhe(e){return e.getUTCDay()}function Bhe(e,t){return kt(yg.count(ys(e)-1,e),t,2)}function zhe(e,t){return kt(e.getUTCFullYear()%100,t,2)}function Uhe(e,t){return e=YL(e),kt(e.getUTCFullYear()%100,t,2)}function Vhe(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function Whe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Du(e):Du.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function Hhe(){return"+0000"}function iO(){return"%"}function sO(e){return+e}function oO(e){return Math.floor(+e/1e3)}var cc,XL,QL;qhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qhe(e){return cc=qfe(e),XL=cc.format,cc.parse,QL=cc.utcFormat,cc.utcParse,cc}function Khe(e){return new Date(e)}function Ghe(e){return e instanceof Date?+e:+new Date(+e)}function UC(e,t,r,n,a,i,o,l,c,u){var d=kC(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),p=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:o(S)<S?p:i(S)<S?v:n(S)<S?a(S)<S?g:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Ghe)):h().map(Khe)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(DL(C,S)):d},d.copy=function(){return Mm(d,UC(e,t,r,n,a,i,o,l,c,u))},d}function Yhe(){return Ta.apply(UC(Wfe,Hfe,gs,BC,Nx,$m,LC,IC,fl,XL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xhe(){return Ta.apply(UC(Ufe,Vfe,ys,zC,Px,Cx,FC,DC,fl,QL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kx(){var e=0,t=1,r,n,a,i,o=An,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(zd),u.rangeRound=d(PC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Io(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JL(){var e=$o(kx()(An));return e.copy=function(){return Io(e,JL())},Ps.apply(e,arguments)}function ZL(){var e=OC(kx()).domain([1,10]);return e.copy=function(){return Io(e,ZL()).base(e.base())},Ps.apply(e,arguments)}function e4(){var e=TC(kx());return e.copy=function(){return Io(e,e4()).constant(e.constant())},Ps.apply(e,arguments)}function VC(){var e=RC(kx());return e.copy=function(){return Io(e,VC()).exponent(e.exponent())},Ps.apply(e,arguments)}function Qhe(){return VC.apply(null,arguments).exponent(.5)}function t4(){var e=[],t=An;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(go),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Dde(e,i/n))},r.copy=function(){return t4(t).domain(e)},Ps.apply(r,arguments)}function Ex(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=An,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function y(p){return function(v){var g,x,b;return arguments.length?([g,x,b]=v,u=cfe(p,[g,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(zd),m.rangeRound=y(PC),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function r4(){var e=$o(Ex()(An));return e.copy=function(){return Io(e,r4())},Ps.apply(e,arguments)}function n4(){var e=OC(Ex()).domain([.1,1,10]);return e.copy=function(){return Io(e,n4()).base(e.base())},Ps.apply(e,arguments)}function a4(){var e=TC(Ex());return e.copy=function(){return Io(e,a4()).constant(e.constant())},Ps.apply(e,arguments)}function WC(){var e=RC(Ex());return e.copy=function(){return Io(e,WC()).exponent(e.exponent())},Ps.apply(e,arguments)}function Jhe(){return WC.apply(null,arguments).exponent(.5)}const lO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zh,scaleDiverging:r4,scaleDivergingLog:n4,scaleDivergingPow:WC,scaleDivergingSqrt:Jhe,scaleDivergingSymlog:a4,scaleIdentity:IL,scaleImplicit:n1,scaleLinear:pg,scaleLog:LL,scaleOrdinal:SC,scalePoint:Vf,scalePow:MC,scaleQuantile:zL,scaleQuantize:UL,scaleRadial:BL,scaleSequential:JL,scaleSequentialLog:ZL,scaleSequentialPow:VC,scaleSequentialQuantile:t4,scaleSequentialSqrt:Qhe,scaleSequentialSymlog:e4,scaleSqrt:Tfe,scaleSymlog:FL,scaleThreshold:VL,scaleTime:Yhe,scaleUtc:Xhe,tickFormat:$L},Symbol.toStringTag,{value:"Module"}));var Zhe=Od;function eme(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Zhe(o):r(o,l)))var l=o,c=i}return c}var Ax=eme;function tme(e,t){return e>t}var i4=tme,rme=Ax,nme=i4,ame=Fd;function ime(e){return e&&e.length?rme(e,ame,nme):void 0}var sme=ime;const to=Ot(sme);function ome(e,t){return e<t}var s4=ome,lme=Ax,cme=s4,ume=Fd;function dme(e){return e&&e.length?lme(e,ume,cme):void 0}var fme=dme;const Ox=Ot(fme);var hme=iC,mme=zi,pme=mL,vme=Gn;function gme(e,t){var r=vme(e)?hme:pme;return r(e,mme(t))}var yme=gme,xme=fL,bme=yme;function wme(e,t){return xme(bme(e,t),1)}var jme=wme;const _me=Ot(jme);var Sme=xC;function Cme(e,t){return Sme(e,t)}var Nme=Cme;const No=Ot(Nme);var Ud=1e9,Pme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qC,ir=!0,ka="[DecimalError] ",Cl=ka+"Invalid argument: ",HC=ka+"Exponent out of range: ",Vd=Math.floor,el=Math.pow,kme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,Kr=1e7,er=7,o4=9007199254740991,xg=Vd(o4/er),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*er;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return cs(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return Bt(cs(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return $r(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(na))throw Error(ka+"NaN");if(r.s<1)throw Error(ka+(r.s?"NaN":"-Infinity"));return r.eq(na)?new n(0):(ir=!1,t=cs(qh(r,i),qh(e,i),i),ir=!0,Bt(t,a))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u4(t,e):l4(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ka+"NaN");return r.s?(ir=!1,t=cs(r,e,0,1).times(e),ir=!0,r.minus(t)):Bt(new n(r),a)};$e.naturalExponential=$e.exp=function(){return c4(this)};$e.naturalLogarithm=$e.ln=function(){return qh(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l4(t,e):u4(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cl+e);if(t=$r(a)+1,n=a.d.length-1,r=n*er+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ka+"NaN")}for(e=$r(l),ir=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Si(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(cs(l,i,o+2)).times(.5),Si(i.d).slice(0,o)===(t=Si(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Bt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ir=!0,Bt(n,r)};$e.times=$e.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Kr|0,t=l/Kr|0;i[a]=(i[a]+t)%Kr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ir?Bt(e,f.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ii(e,0,Ud),t===void 0?t=n.rounding:Ii(t,0,8),Bt(r,e+$r(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Dl(n,!0):(Ii(e,0,Ud),t===void 0?t=a.rounding:Ii(t,0,8),n=Bt(new a(n),e+1,t),r=Dl(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Dl(a):(Ii(e,0,Ud),t===void 0?t=i.rounding:Ii(t,0,8),n=Bt(new i(a),e+$r(a)+1,t),r=Dl(n.abs(),!1,e+$r(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),$r(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(na);if(l=new c(l),!l.s){if(e.s<1)throw Error(ka+"Infinity");return l}if(l.eq(na))return l;if(n=c.precision,e.eq(na))return Bt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=o4){for(a=new c(na),t=Math.ceil(n/er+4),ir=!1;r%2&&(a=a.times(l),uO(a.d,t)),r=Vd(r/2),r!==0;)l=l.times(l),uO(l.d,t);return ir=!0,e.s<0?new c(na).div(a):Bt(a,n)}}else if(i<0)throw Error(ka+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,a=e.times(qh(l,n+u)),ir=!0,a=c4(a),a.s=i,a};$e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=$r(a),n=Dl(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ii(e,1,Ud),t===void 0?t=i.rounding:Ii(t,0,8),a=Bt(new i(a),e,t),r=$r(a),n=Dl(a,e<=r||r<=i.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ii(e,1,Ud),t===void 0?t=n.rounding:Ii(t,0,8)),Bt(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),r=e.constructor;return Dl(e,t<=r.toExpNeg||t>=r.toExpPos)};function l4(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Bt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/er),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Kr|0,c[i]%=Kr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ir?Bt(t,f):t}function Ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Cl+e)}function Si(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=er-n.length,r&&(i+=zs(r)),i+=n;o=e[t],n=o+"",r=er-n.length,r&&(i+=zs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var cs=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Kr|0,o=i/Kr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Kr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,y,p,v,g,x,b,_,j,S,C,N,P=n.constructor,E=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(ka+"Division by zero");for(c=n.e-a.e,C=T.length,j=O.length,m=new P(E),y=m.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,i==null?x=i=P.precision:o?x=i+($r(n)-$r(a))+1:x=i,x<0)return new P(0);if(x=x/er+2|0,u=0,C==1)for(d=0,T=T[0],x++;(u<j||d)&&x--;u++)b=d*Kr+(O[u]||0),y[u]=b/T|0,d=b%T|0;else{for(d=Kr/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),C=T.length,j=O.length),_=C,p=O.slice(0,C),v=p.length;v<C;)p[v++]=0;N=T.slice(),N.unshift(0),S=T[0],T[1]>=Kr/2&&++S;do d=0,l=t(T,p,C,v),l<0?(g=p[0],C!=v&&(g=g*Kr+(p[1]||0)),d=g/S|0,d>1?(d>=Kr&&(d=Kr-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,C<h?N:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,C,v),l<1&&(d++,r(p,C<v?N:T,v))),v=p.length):l===0&&(d++,p=[0]),y[u++]=d,l&&p[0]?p[v++]=O[_]||0:(p=[O[_]],v=1);while((_++<j||p[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=c,Bt(m,o?i+$r(m)+1:i)}}();function c4(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(HC+$r(e));if(!e.s)return new d(na);for(t==null?(ir=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(el(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(na),d.precision=l;;){if(a=Bt(a.times(e),l),r=r.times(++c),o=i.plus(cs(a,r,l)),Si(o.d).slice(0,l)===Si(i.d).slice(0,l)){for(;u--;)i=Bt(i.times(i),l);return d.precision=f,t==null?(ir=!0,Bt(i,f)):i}i=o}}function $r(e){for(var t=e.e*er,r=e.d[0];r>=10;r/=10)t++;return t}function Sb(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error(ka+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function zs(e){for(var t="";e--;)t+="0";return t}function qh(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,y=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(ka+(m.s?"NaN":"-Infinity"));if(m.eq(na))return new p(0);if(t==null?(ir=!1,u=v):u=t,m.eq(10))return t==null&&(ir=!0),Sb(p,u);if(u+=h,p.precision=u,r=Si(y),n=r.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Si(m.d),n=r.charAt(0),f++;i=$r(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=Sb(p,u+2,v).times(i+""),m=qh(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(ir=!0,Bt(m,v)):m;for(l=o=m=cs(m.minus(na),m.plus(na),u),d=Bt(m.times(m),u),a=3;;){if(o=Bt(o.times(d),u),c=l.plus(cs(o,new p(a),u)),Si(c.d).slice(0,u)===Si(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Sb(p,u+2,v).times(i+""))),l=cs(l,new p(f),u),p.precision=v,t==null?(ir=!0,Bt(l,v)):l;l=c,a+=2}}function cO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vd(r/er),e.d=[],n=(r+1)%er,r<0&&(n+=er),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=er;n<a;)e.d.push(+t.slice(n,n+=er));t=t.slice(n),n=er-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>xg||e.e<-xg))throw Error(HC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=er,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/er),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=er,a=n-er+o}if(r!==void 0&&(i=el(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/el(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=$r(e),f.length=1,t=t-i-1,f[0]=el(10,(er-t%er)%er),e.e=Vd(-t/er)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=el(10,er-n),f[d]=a>0?(u/el(10,o-a)%el(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Kr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Kr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>xg||e.e<-xg))throw Error(HC+$r(e));return e}function u4(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Bt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/er),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Kr-1;--c[i],c[a]+=Kr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Bt(t,m):t):new h(0)}function Dl(e,t,r){var n,a=$r(e),i=Si(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+zs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+zs(-a-1)+i,r&&(n=r-o)>0&&(i+=zs(n))):a>=o?(i+=zs(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+zs(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=zs(n))),e.s<0?"-"+i:i}function uO(e,t){if(e.length>t)return e.length=t,!0}function d4(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Cl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cO(o,i.toString())}else if(typeof i!="string")throw Error(Cl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,kme.test(i))cO(o,i);else throw Error(Cl+i)}if(a.prototype=$e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=d4,a.config=a.set=Eme,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Eme(e){if(!e||typeof e!="object")throw Error(ka+"Object expected");var t,r,n,a=["precision",1,Ud,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Cl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cl+r+": "+n);return this}var qC=d4(Pme);na=new qC(1);const Dt=qC;function Ame(e){return Mme(e)||Rme(e)||Tme(e)||Ome()}function Ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tme(e,t){if(e){if(typeof e=="string")return o1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(e,t)}}function Rme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mme(e){if(Array.isArray(e))return o1(e)}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $me=function(t){return t},f4={"@@functional/placeholder":!0},h4=function(t){return t===f4},dO=function(t){return function r(){return arguments.length===0||arguments.length===1&&h4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ime=function e(t,r){return t===1?r:dO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==f4}).length;return o>=t?r.apply(void 0,a):e(t-o,dO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return h4(f)?c.shift():f});return r.apply(void 0,Ame(d).concat(c))}))})},Tx=function(t){return Ime(t.length,t)},l1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Dme=Tx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Lme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $me;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},c1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},m4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Fme(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function Bme(e,t,r){for(var n=new Dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var zme=Tx(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Ume=Tx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Vme=Tx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rx={rangeStep:Bme,getDigitCount:Fme,interpolateNumber:zme,uninterpolateNumber:Ume,uninterpolateTruncation:Vme};function u1(e){return qme(e)||Hme(e)||p4(e)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qme(e){if(Array.isArray(e))return d1(e)}function Kh(e,t){return Yme(e)||Gme(e,t)||p4(e,t)||Kme()}function Kme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4(e,t){if(e){if(typeof e=="string")return d1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(e,t)}}function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gme(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Yme(e){if(Array.isArray(e))return e}function v4(e){var t=Kh(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function g4(e,t,r){if(e.lte(0))return new Dt(0);var n=Rx.getDigitCount(e.toNumber()),a=new Dt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Dt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Dt(Math.ceil(c))}function Xme(e,t,r){var n=1,a=new Dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(Rx.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Lme(Dme(function(c){return a.add(new Dt(c-o).mul(n)).toNumber()}),l1);return l(0,t)}function y4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=g4(new Dt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?y4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Dt(l).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function Qme(e){var t=Kh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=v4([r,n]),c=Kh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(u1(l1(0,a-1).map(function(){return 1/0}))):[].concat(u1(l1(0,a-1).map(function(){return-1/0})),[d]);return r>n?c1(f):f}if(u===d)return Xme(u,a,i);var h=y4(u,d,o,i),m=h.step,y=h.tickMin,p=h.tickMax,v=Rx.rangeStep(y,p.add(new Dt(.1).mul(m)),m);return r>n?c1(v):v}function Jme(e,t){var r=Kh(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=v4([n,a]),l=Kh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=g4(new Dt(u).sub(c).div(d-1),i,0),h=[].concat(u1(Rx.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return n>a?c1(h):h}var Zme=m4(Qme),epe=m4(Jme),tpe="Invariant failed";function Ll(e,t){throw new Error(tpe)}var rpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function npe(e,t){return ope(e)||spe(e,t)||ipe(e,t)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function spe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ope(e){if(Array.isArray(e))return e}function lpe(e,t){if(e==null)return{};var r=cpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function upe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w4(n.key),n)}}function fpe(e,t,r){return t&&dpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hpe(e,t,r){return t=wg(t),mpe(e,x4()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function mpe(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ppe(e)}function ppe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function vpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f1(e,t)}function b4(e,t,r){return t=w4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4(e){var t=gpe(e,"string");return Lu(t)=="symbol"?t:t+""}function gpe(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=function(e){function t(){return upe(this,t),hpe(this,t,arguments)}return vpe(t,e),fpe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=lpe(n,rpe),m=Le(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ll();var y=c.map(function(p){var v=u(p,l),g=v.x,x=v.y,b=v.value,_=v.errorVal;if(!_)return null;var j=[],S,C;if(Array.isArray(_)){var N=npe(_,2);S=N[0],C=N[1]}else S=C=_;if(i==="vertical"){var P=d.scale,E=x+a,O=E+o,T=E-o,A=P(b-S),k=P(b+C);j.push({x1:k,y1:O,x2:k,y2:T}),j.push({x1:A,y1:E,x2:k,y2:E}),j.push({x1:A,y1:O,x2:A,y2:T})}else if(i==="horizontal"){var $=f.scale,D=g+a,M=D-o,I=D+o,L=$(b-S),B=$(b+C);j.push({x1:M,y1:B,x2:I,y2:B}),j.push({x1:D,y1:L,x2:D,y2:B}),j.push({x1:M,y1:L,x2:I,y2:L})}return R.createElement(ot,bg({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),j.map(function(Q){return R.createElement("line",bg({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return R.createElement(ot,{className:"recharts-errorBars"},y)}}])}(R.Component);b4(Wd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});b4(Wd,"displayName","ErrorBar");function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){ype(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ype(e,t,r){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpe(e){var t=bpe(e,"string");return Gh(t)=="symbol"?t:t+""}function bpe(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Zn(r,on);if(!o)return null;var l=on.defaultProps,c=l!==void 0?Ho(Ho({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ho(Ho({},h),f.props):{},y=m.dataKey,p=m.name,v=m.legendType,g=m.hide;return{inactive:g,dataKey:y,type:c.iconType||v||"square",color:KC(f),value:p||y,payload:m}}),Ho(Ho(Ho({},c),on.getWithHeight(o,a)),{},{payload:u,item:o})};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function mO(e){return Spe(e)||_pe(e)||jpe(e)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(e,t){if(e){if(typeof e=="string")return h1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(e,t)}}function _pe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Spe(e){if(Array.isArray(e))return h1(e)}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function au(e,t,r){return t=Cpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cpe(e){var t=Npe(e,"string");return Yh(t)=="symbol"?t:t+""}function Npe(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,r){return Ke(e)||Ke(t)?r:Hr(t)?oa(e,t,r):Ge(t)?t(e):r}function Wf(e,t,r,n){var a=_me(e,function(l){return tr(l,t)});if(r==="number"){var i=a.filter(function(l){return pe(l)||parseFloat(l)});return i.length?[Ox(i),to(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ke(l)}):a;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var Ppe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(kn(f-d)!==kn(h-f)){var y=[];if(kn(h-f)===kn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];y[0]=Math.min(p,(p+d)/2),y[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},KC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},kpe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],p=y.items,v=y.cateAxisId,g=p.filter(function(C){return ls(C.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=x!==void 0?vr(vr({},x),g[0].props):g[0].props,_=b.barSize,j=b[v];o[j]||(o[j]=[]);var S=Ke(_)?r:_;o[j].push({item:g[0],stackList:g.slice(1),barSize:Ke(S)?void 0:En(S,n,0)})}}return o},Epe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=En(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,y=o.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&m>0&&(h=!0,m*=.9,y=c*m);var p=(a-y)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},C=[].concat(mO(_),[S]);return v=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:v})}),C},f)}else{var g=En(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var x=(a-2*g-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(_,j,S){var C=[].concat(mO(_),[{item:j.item,position:{offset:g+(x+u)*S+(x-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},f)}return d},Ape=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=j4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&y==="middle")&&m!=="center"&&pe(t[m]))return vr(vr({},t),{},au({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&y!=="middle"&&pe(t[y]))return vr(vr({},t),{},au({},y,t[y]+(h||0)))}return t},Ope=function(t,r,n){return Ke(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_4=function(t,r,n,a,i){var o=r.props.children,l=Tn(o,Wd).filter(function(u){return Ope(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=tr(d,n);if(Ke(f))return u;var h=Array.isArray(f)?[Ox(f),to(f)]:[f,f],m=c.reduce(function(y,p){var v=tr(d,p,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Tpe=function(t,r,n,a,i){var o=r.map(function(l){return _4(t,l,n,i,a)}).filter(function(l){return!Ke(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},S4=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&_4(t,c,u,a)||Wf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},C4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},N4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},as=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?kn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Id(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Cb=new WeakMap,Np=function(t,r){if(typeof r!="function")return t;Cb.has(t)||Cb.set(t,new WeakMap);var n=Cb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},P4=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:pg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Vf(),realScaleType:"point"}:i==="category"?{scale:zh(),realScaleType:"band"}:{scale:pg(),realScaleType:"linear"};if($l(a)){var c="scale".concat(vx(a));return{scale:(lO[c]||Vf)(),realScaleType:lO[c]?c:"point"}}return Ge(a)?{scale:a}:{scale:Vf(),realScaleType:"point"}},vO=1e-4,k4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-vO,o=Math.max(a[0],a[1])+vO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Rpe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Mpe=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},$pe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Id(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Ipe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Id(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Dpe={sign:$pe,expand:rre,none:Au,silhouette:nre,wiggle:are,positive:Ipe},Lpe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Dpe[n],o=tre().keys(a).value(function(l,c){return+tr(l,c,0)}).order(Lj).offset(i);return o(t)},Fpe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?vr(vr({},h.type.defaultProps),h.props):h.props,p=y.stackId,v=y.hide;if(v)return f;var g=y[n],x=f[g]||{hasStack:!1,stackGroups:{}};if(Hr(p)){var b=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[Mo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return vr(vr({},f),{},au({},g,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var g=m.stackGroups[v];return vr(vr({},p),{},au({},v,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:Lpe(t,g.items,i)}))},y)}return vr(vr({},f),{},au({},h,m))},d)},E4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Zme(u,i,l);return t.domain([Ox(d),to(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=epe(f,i,l);return{niceTicks:h}}return null};function Fu(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(a[t.dataKey])){var l=Gv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=tr(a,Ke(o)?t.dataKey:o);return Ke(c)?null:t.scale(c)}var gO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=tr(o,r.dataKey,r.domain[l]);return Ke(c)?null:r.scale(c)-i/2+a},Bpe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},zpe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Upe=function(t){return t.reduce(function(r,n){return[Ox(n.concat([r[0]]).filter(pe)),to(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},A4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Upe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m1=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(yO.test(t[0])){var i=+yO.exec(t[0])[1];a[0]=r[0]-i}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(xO.test(t[1])){var o=+xO.exec(t[1])[1];a[1]=r[1]+o}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=wC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},bO=function(t,r,n){return!t||!t.length||No(t,oa(n,"type.defaultProps.domain"))?r:t},O4=function(t,r){var n=t.type.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return vr(vr({},Le(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:KC(t),value:tr(r,a),type:c,payload:r,chartType:u,hide:d})};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){T4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T4(e,t,r){return t=Vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=Wpe(e,"string");return Xh(t)=="symbol"?t:t+""}function Wpe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hpe(e,t){return Ype(e)||Gpe(e,t)||Kpe(e,t)||qpe()}function qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(e,t){if(e){if(typeof e=="string")return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ype(e){if(Array.isArray(e))return e}var _g=Math.PI/180,Xpe=function(t){return t*180/Math.PI},Kt=function(t,r,n,a){return{x:t+Math.cos(-_g*a)*n,y:r+Math.sin(-_g*a)*n}},R4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Qpe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=En(t.cx,o,o/2),f=En(t.cy,l,l/2),h=R4(o,l,n),m=En(t.innerRadius,h,0),y=En(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,g){var x=r[g],b=x.domain,_=x.reversed,j;if(Ke(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,y]),_&&(j=[j[1],j[0]]);else{j=x.range;var S=j,C=Hpe(S,2);c=C[0],u=C[1]}var N=P4(x,i),P=N.realScaleType,E=N.scale;E.domain(b).range(j),k4(E);var O=E4(E,Xi(Xi({},x),{},{realScaleType:P})),T=Xi(Xi(Xi({},x),O),{},{range:j,radius:y,realScaleType:P,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return Xi(Xi({},v),{},T4({},g,T))},{})},Jpe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Zpe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Jpe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Xpe(u),angleInRadian:u}},eve=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},tve=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},_O=function(t,r){var n=t.x,a=t.y,i=Zpe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=eve(r),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?Xi(Xi({},r),{},{radius:o,angle:tve(m,r)}):null},M4=function(t){return!w.isValidElement(t)&&!Ge(t)&&typeof t!="boolean"?t.className:""};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}var rve=["offset"];function nve(e){return ove(e)||sve(e)||ive(e)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(e,t){if(e){if(typeof e=="string")return p1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(e,t)}}function sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ove(e){if(Array.isArray(e))return p1(e)}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lve(e,t){if(e==null)return{};var r=cve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){uve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uve(e,t,r){return t=dve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dve(e){var t=fve(e,"string");return Qh(t)=="symbol"?t:t+""}function fve(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(this,arguments)}var hve=function(t){var r=t.value,n=t.formatter,a=Ke(t.children)?r:t.children;return Ge(n)?n(a):a},mve=function(t,r){var n=kn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},pve=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,p=c.clockWise,v=(f+h)/2,g=mve(m,y),x=g>=0?1:-1,b,_;a==="insideStart"?(b=m+x*o,_=p):a==="insideEnd"?(b=y-x*o,_=!p):a==="end"&&(b=y+x*o,_=p),_=g<=0?_:!_;var j=Kt(u,d,v,b),S=Kt(u,d,v,b+(_?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Ke(t.id)?Mo("recharts-radial-line-"):t.id;return R.createElement("text",Jh({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:N,d:C})),R.createElement("textPath",{xlinkHref:"#".concat(N)},r))},vve=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Kt(o,l,u+n,h),y=m.x,p=m.y;return{x:y,y:p,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,g=Kt(o,l,v,h),x=g.x,b=g.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},gve=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",y=f>0?"start":"end",p=u>=0?1:-1,v=p*a,g=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Lr(Lr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Lr(Lr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Lr(Lr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Lr(Lr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?Lr({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?Lr({x:l+u-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},C):i==="insideTop"?Lr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?Lr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?Lr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?Lr({x:l+u-v,y:c+h,textAnchor:g,verticalAnchor:y},C):i==="insideBottomLeft"?Lr({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},C):i==="insideBottomRight"?Lr({x:l+u-v,y:c+d-h,textAnchor:g,verticalAnchor:m},C):Td(i)&&(pe(i.x)||ul(i.x))&&(pe(i.y)||ul(i.y))?Lr({x:l+En(i.x,u),y:c+En(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):Lr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},yve=function(t){return"cx"in t&&pe(t.cx)};function Yr(e){var t=e.offset,r=t===void 0?5:t,n=lve(e,rve),a=Lr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ke(l)&&Ke(c)&&!w.isValidElement(u)&&!Ge(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var m;if(Ge(u)){if(m=w.createElement(u,a),w.isValidElement(m))return m}else m=hve(a);var y=yve(i),p=Le(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pve(a,m,p);var v=y?vve(a):gve(a);return R.createElement(Il,Jh({className:tt("recharts-label",f)},p,v,{breakAll:h}),m)}Yr.displayName="Label";var $4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,p=t.width,v=t.height,g=t.clockWise,x=t.labelViewBox;if(x)return x;if(pe(p)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:p,height:v};if(pe(m)&&pe(y))return{x:m,y,width:p,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},xve=function(t,r){return t?t===!0?R.createElement(Yr,{key:"label-implicit",viewBox:r}):Hr(t)?R.createElement(Yr,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Yr?w.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Yr,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?R.createElement(Yr,{key:"label-implicit",content:t,viewBox:r}):Td(t)?R.createElement(Yr,Jh({viewBox:r},t,{key:"label-implicit"})):null:null},bve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=$4(t),o=Tn(a,Yr).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=xve(t.label,r||i);return[l].concat(nve(o))};Yr.parseViewBox=$4;Yr.renderCallByParent=bve;function wve(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jve=wve;const _ve=Ot(jve);function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}var Sve=["valueAccessor"],Cve=["data","dataKey","clockWise","id","textBreakAll"];function Nve(e){return Ave(e)||Eve(e)||kve(e)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kve(e,t){if(e){if(typeof e=="string")return v1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(e,t)}}function Eve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ave(e){if(Array.isArray(e))return v1(e)}function v1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ove(e,t,r){return t=Tve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tve(e){var t=Rve(e,"string");return Zh(t)=="symbol"?t:t+""}function Rve(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PO(e,t){if(e==null)return{};var r=Mve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $ve=function(t){return Array.isArray(t.value)?_ve(t.value):t.value};function si(e){var t=e.valueAccessor,r=t===void 0?$ve:t,n=PO(e,Sve),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=PO(n,Cve);return!a||!a.length?null:R.createElement(ot,{className:"recharts-label-list"},a.map(function(d,f){var h=Ke(i)?r(d,f):tr(d&&d.payload,i),m=Ke(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Yr,Sg({},Le(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Yr.parseViewBox(Ke(o)?d:NO(NO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}si.displayName="LabelList";function Ive(e,t){return e?e===!0?R.createElement(si,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Ge(e)?R.createElement(si,{key:"labelList-implicit",data:t,content:e}):Td(e)?R.createElement(si,Sg({data:t},e,{key:"labelList-implicit"})):null:null}function Dve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Tn(n,si).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Ive(e.label,t);return[i].concat(Nve(a))}si.renderCallByParent=Dve;function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){Lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lve(e,t,r){return t=Fve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fve(e){var t=Bve(e,"string");return em(t)=="symbol"?t:t+""}function Bve(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zve=function(t,r){var n=kn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Pp=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/_g,h=u?i:i+o*f,m=Kt(r,n,d,h),y=Kt(r,n,a,h),p=u?i-o*f:i,v=Kt(r,n,d*Math.cos(f*_g),p);return{center:m,circleTangency:y,lineTangency:v,theta:f}},I4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=zve(o,l),u=o+c,d=Kt(r,n,i,o),f=Kt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Kt(r,n,a,o),y=Kt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Uve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=kn(d-u),h=Pp({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,p=h.theta,v=Pp({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=v.circleTangency,x=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):I4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=Pp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,N=S.lineTangency,P=S.theta,E=Pp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,T=E.lineTangency,A=E.theta,k=c?Math.abs(u-d):Math.abs(u-d)-P-A;if(k<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Vve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D4=function(t){var r=EO(EO({},Vve),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=tt("recharts-sector",h),y=o-i,p=En(l,y,0,!0),v;return p>0&&Math.abs(d-f)<360?v=Uve({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=I4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",g1({},Le(r,!0),{className:m,d:v,role:"img"}))};function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wve(e,t,r){return t=Hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=qve(e,"string");return tm(t)=="symbol"?t:t+""}function qve(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TO={curveBasisClosed:Wte,curveBasisOpen:Hte,curveBasis:Vte,curveBumpX:Ete,curveBumpY:Ate,curveLinearClosed:qte,curveLinear:yx,curveMonotoneX:Kte,curveMonotoneY:Gte,curveNatural:Yte,curveStep:Xte,curveStepAfter:Jte,curveStepBefore:Qte},kp=function(t){return t.x===+t.x&&t.y===+t.y},ff=function(t){return t.x},hf=function(t){return t.y},Kve=function(t,r){if(Ge(t))return t;var n="curve".concat(vx(t));return(n==="curveMonotone"||n==="curveBump")&&r?TO["".concat(n).concat(r==="vertical"?"Y":"X")]:TO[n]||yx},Gve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Kve(n,l),f=u?i.filter(function(p){return kp(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return kp(p)}):o,y=f.map(function(p,v){return OO(OO({},p),{},{base:m[v]})});return l==="vertical"?h=yp().y(hf).x1(ff).x0(function(p){return p.base.x}):h=yp().x(ff).y1(hf).y0(function(p){return p.base.y}),h.defined(kp).curve(d),h(y)}return l==="vertical"&&pe(o)?h=yp().y(hf).x1(ff).x0(o):pe(o)?h=yp().x(ff).y1(hf).y0(o):h=O3().x(ff).y(hf),h.defined(kp).curve(d),h(f)},yo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Gve(t):a;return w.createElement("path",y1({},Le(t,!1),Yv(t),{className:tt("recharts-curve",r),d:o,ref:i}))},L4={exports:{}},Yve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xve=Yve,Qve=Xve;function F4(){}function B4(){}B4.resetWarningCache=F4;var Jve=function(){function e(n,a,i,o,l,c){if(c!==Qve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B4,resetWarningCache:F4};return r.PropTypes=r,r};L4.exports=Jve();var Zve=L4.exports;const At=Ot(Zve);var ege=Object.getOwnPropertyNames,tge=Object.getOwnPropertySymbols,rge=Object.prototype.hasOwnProperty;function RO(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ep(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function MO(e){return ege(e).concat(tge(e))}var nge=Object.hasOwn||function(e,t){return rge.call(e,t)};function Zl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var age="__v",ige="__o",sge="_owner",$O=Object.getOwnPropertyDescriptor,IO=Object.keys;function oge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function lge(e,t){return Zl(e.getTime(),t.getTime())}function cge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uge(e,t){return e===t}function DO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var dge=Zl;function fge(e,t,r){var n=IO(e),a=n.length;if(IO(t).length!==a)return!1;for(;a-- >0;)if(!z4(e,t,r,n[a]))return!1;return!0}function mf(e,t,r){var n=MO(e),a=n.length;if(MO(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!z4(e,t,r,i)||(o=$O(e,i),l=$O(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function hge(e,t){return Zl(e.valueOf(),t.valueOf())}function mge(e,t){return e.source===t.source&&e.flags===t.flags}function LO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function pge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function vge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function z4(e,t,r,n){return(n===sge||n===ige||n===age)&&(e.$$typeof||t.$$typeof)?!0:nge(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var gge="[object Arguments]",yge="[object Boolean]",xge="[object Date]",bge="[object Error]",wge="[object Map]",jge="[object Number]",_ge="[object Object]",Sge="[object RegExp]",Cge="[object Set]",Nge="[object String]",Pge="[object URL]",kge=Array.isArray,FO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BO=Object.assign,Ege=Object.prototype.toString.call.bind(Object.prototype.toString);function Age(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,p,v){if(y===p)return!0;if(y==null||p==null)return!1;var g=typeof y;if(g!==typeof p)return!1;if(g!=="object")return g==="number"?o(y,p,v):g==="function"?a(y,p,v):!1;var x=y.constructor;if(x!==p.constructor)return!1;if(x===Object)return l(y,p,v);if(kge(y))return t(y,p,v);if(FO!=null&&FO(y))return f(y,p,v);if(x===Date)return r(y,p,v);if(x===RegExp)return u(y,p,v);if(x===Map)return i(y,p,v);if(x===Set)return d(y,p,v);var b=Ege(y);return b===xge?r(y,p,v):b===Sge?u(y,p,v):b===wge?i(y,p,v):b===Cge?d(y,p,v):b===_ge?typeof y.then!="function"&&typeof p.then!="function"&&l(y,p,v):b===Pge?h(y,p,v):b===bge?n(y,p,v):b===gge?l(y,p,v):b===yge||b===jge||b===Nge?c(y,p,v):!1}}function Oge(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?mf:oge,areDatesEqual:lge,areErrorsEqual:cge,areFunctionsEqual:uge,areMapsEqual:n?RO(DO,mf):DO,areNumbersEqual:dge,areObjectsEqual:n?mf:fge,arePrimitiveWrappersEqual:hge,areRegExpsEqual:mge,areSetsEqual:n?RO(LO,mf):LO,areTypedArraysEqual:n?mf:pge,areUrlsEqual:vge};if(r&&(a=BO({},a,r(a))),t){var i=Ep(a.areArraysEqual),o=Ep(a.areMapsEqual),l=Ep(a.areObjectsEqual),c=Ep(a.areSetsEqual);a=BO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Tge(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function Rge(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Mge=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:function(){return Zl}});Do({strict:!0,createInternalComparator:function(){return Zl}});Do({circular:!0,createInternalComparator:function(){return Zl}});Do({circular:!0,createInternalComparator:function(){return Zl},strict:!0});function Do(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Oge(e),c=Age(l),u=n?n(c):Tge(c);return Rge({circular:r,comparator:c,createState:a,equals:u,strict:o})}function $ge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):$ge(a)};requestAnimationFrame(n)}function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function Ige(e){return Bge(e)||Fge(e)||Lge(e)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(e,t){if(e){if(typeof e=="string")return UO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(e,t)}}function UO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bge(e){if(Array.isArray(e))return e}function zge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Ige(o),c=l[0],u=l.slice(1);if(typeof c=="number"){zO(a.bind(null,u),c);return}a(c),zO(a.bind(null,u));return}x1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){U4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4(e,t,r){return t=Uge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uge(e){var t=Vge(e,"string");return rm(t)==="symbol"?t:String(t)}function Vge(e,t){if(rm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Hge=function(t){return t},qge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hf=function(t,r){return Object.keys(r).reduce(function(n,a){return WO(WO({},n),{},U4({},a,t(a,r[a])))},{})},HO=function(t,r,n){return t.map(function(a){return"".concat(qge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Kge(e,t){return Xge(e)||Yge(e,t)||V4(e,t)||Gge()}function Gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xge(e){if(Array.isArray(e))return e}function Qge(e){return eye(e)||Zge(e)||V4(e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V4(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function Zge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eye(e){if(Array.isArray(e))return b1(e)}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cg=1e-4,W4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},H4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},qO=function(t,r){return function(n){var a=W4(t,r);return H4(a,n)}},tye=function(t,r){return function(n){var a=W4(t,r),i=[].concat(Qge(a.map(function(o,l){return o*l}).slice(1)),[0]);return H4(i,n)}},KO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Kge(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=qO(a,o),h=qO(i,l),m=tye(a,o),y=function(g){return g>1?1:g<0?0:g},p=function(g){for(var x=g>1?1:g,b=x,_=0;_<8;++_){var j=f(b)-x,S=m(b);if(Math.abs(j-x)<Cg||S<Cg)return h(b);b=y(b-j/S)}return h(b)};return p.isStepper=!1,p},rye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,y=h*i,p=h+(m-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Cg&&Math.abs(p)<Cg?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},nye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KO(a);case"spring":return rye();default:if(a.split("(")[0]==="cubic-bezier")return KO(a)}return typeof a=="function"?a:null};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function GO(e){return sye(e)||iye(e)||q4(e)||aye()}function aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sye(e){if(Array.isArray(e))return j1(e)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){w1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1(e,t,r){return t=oye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oye(e){var t=lye(e,"string");return nm(t)==="symbol"?t:String(t)}function lye(e,t){if(nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cye(e,t){return fye(e)||dye(e,t)||q4(e,t)||uye()}function uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fye(e){if(Array.isArray(e))return e}var Ng=function(t,r,n){return t+(r-t)*n},_1=function(t){var r=t.from,n=t.to;return r!==n},hye=function e(t,r,n){var a=Hf(function(i,o){if(_1(o)){var l=t(o.from,o.to,o.velocity),c=cye(l,2),u=c[0],d=c[1];return tn(tn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Hf(function(i,o){return _1(o)?tn(tn({},o),{},{velocity:Ng(o.velocity,a[i].velocity,n),from:Ng(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const mye=function(e,t,r,n,a){var i=Wge(e,t),o=i.reduce(function(v,g){return tn(tn({},v),{},w1({},g,[e[g],t[g]]))},{}),l=i.reduce(function(v,g){return tn(tn({},v),{},w1({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Hf(function(g,x){return x.from},l)},m=function(){return!Object.values(l).filter(_1).length},y=function(g){u||(u=g);var x=g-u,b=x/r.dt;l=hye(r,l,b),a(tn(tn(tn({},e),t),h())),u=g,m()||(c=requestAnimationFrame(f))},p=function(g){d||(d=g);var x=(g-d)/n,b=Hf(function(j,S){return Ng.apply(void 0,GO(S).concat([r(x)]))},o);if(a(tn(tn(tn({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=Hf(function(j,S){return Ng.apply(void 0,GO(S).concat([r(1)]))},o);a(tn(tn(tn({},e),t),_))}};return f=r.isStepper?y:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}var pye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vye(e,t){if(e==null)return{};var r=gye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Nb(e){return wye(e)||bye(e)||xye(e)||yye()}function yye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(e,t){if(e){if(typeof e=="string")return S1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(e,t)}}function bye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wye(e){if(Array.isArray(e))return S1(e)}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pf(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function Sye(e,t,r){return t&&_ye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K4(e){var t=Cye(e,"string");return Bu(t)==="symbol"?t:String(t)}function Cye(e,t){if(Bu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(e,t)}function Pye(e){var t=kye();return function(){var n=Pg(e),a;if(t){var i=Pg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return N1(this,a)}}function N1(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1(e)}function P1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}var Ea=function(e){Nye(r,e);var t=Pye(r);function r(n,a){var i;jye(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(P1(i)),i.changeStyle=i.changeStyle.bind(P1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),N1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},N1(i);i.state={style:c?Pf({},c,u):u}}else i.state={style:{}};return i}return Sye(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Pf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Mge(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=y||u?f:a.to;if(this.state&&h){var v={style:c?Pf({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Fa(Fa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=mye(o,l,nye(u),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,g){if(g===0)return p;var x=v.duration,b=v.easing,_=b===void 0?"ease":b,j=v.style,S=v.properties,C=v.onAnimationEnd,N=g>0?o[g-1]:v,P=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(Nb(p),[i.runJSAnimation.bind(i,{from:N.style,to:j,duration:x,easing:_}),x]);var E=HO(P,x,_),O=Fa(Fa(Fa({},N.style),j),{},{transition:E});return[].concat(Nb(p),[O,x,C]).filter(Hge)};return this.manager.start([c].concat(Nb(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=zge());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Pf({},l,c):c,v=HO(Object.keys(p),o,u);y.start([d,i,Fa(Fa({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=vye(a,pye),u=w.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var y=m.props,p=y.style,v=p===void 0?{}:p,g=y.className,x=w.cloneElement(m,Fa(Fa({},c),{},{style:Fa(Fa({},v),d),className:g}));return x};return u===1?f(w.Children.only(i)):R.createElement("div",null,w.Children.map(i,function(h){return f(h)}))}}]),r}(w.PureComponent);Ea.displayName="Animate";Ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ea.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function Eye(e,t){return Rye(e)||Tye(e,t)||Oye(e,t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(e,t){if(e){if(typeof e=="string")return QO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(e,t)}}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rye(e){if(Array.isArray(e))return e}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return t=$ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ye(e){var t=Iye(e,"string");return am(t)=="symbol"?t:t+""}function Iye(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eT=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Dye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Lye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GC=function(t){var r=ZO(ZO({},Lye),t),n=w.useRef(),a=w.useState(-1),i=Eye(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,y=r.animationEasing,p=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=tt("recharts-rectangle",m);return x?R.createElement(Ea,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:y,isActive:x},function(_){var j=_.width,S=_.height,C=_.x,N=_.y;return R.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:g,easing:y},R.createElement("path",kg({},Le(r,!0),{className:b,d:eT(C,N,j,S,h),ref:n})))}):R.createElement("path",kg({},Le(r,!0),{className:b,d:eT(c,u,d,f,h)}))},Fye=["points","className","baseLinePoints","connectNulls"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function Bye(e,t){if(e==null)return{};var r=zye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tT(e){return Hye(e)||Wye(e)||Vye(e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function Wye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hye(e){if(Array.isArray(e))return k1(e)}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rT=function(t){return t&&t.x===+t.x&&t.y===+t.y},qye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){rT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),rT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qf=function(t,r){var n=qye(t);r&&(n=[n.reduce(function(i,o){return[].concat(tT(i),tT(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Kye=function(t,r,n){var a=qf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(qf(r.reverse(),n).slice(1))},Gye=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Bye(t,Fye);if(!r||!r.length)return null;var l=tt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Kye(r,a,i);return R.createElement("g",{className:l},R.createElement("path",Uc({},Le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?R.createElement("path",Uc({},Le(o,!0),{fill:"none",d:qf(r,i)})):null,c?R.createElement("path",Uc({},Le(o,!0),{fill:"none",d:qf(a,i)})):null)}var d=qf(r,i);return R.createElement("path",Uc({},Le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}var Im=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",E1({},Le(t,!1),Yv(t),{className:o,cx:r,cy:n,r:a})):null};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}var Yye=["x","y","top","left","width","height","className"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){Qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qye(e,t,r){return t=Jye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jye(e){var t=Zye(e,"string");return im(t)=="symbol"?t:t+""}function Zye(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function exe(e,t){if(e==null)return{};var r=txe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function txe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rxe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},nxe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,p=exe(t,Yye),v=Xye({x:n,y:i,top:l,left:u,width:f,height:m},p);return!pe(n)||!pe(i)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:R.createElement("path",A1({},Le(v,!0),{className:tt("recharts-cross",y),d:rxe(n,i,f,m,l,u)}))},axe=Ax,ixe=i4,sxe=zi;function oxe(e,t){return e&&e.length?axe(e,sxe(t),ixe):void 0}var lxe=oxe;const cxe=Ot(lxe);var uxe=Ax,dxe=zi,fxe=s4;function hxe(e,t){return e&&e.length?uxe(e,dxe(t),fxe):void 0}var mxe=hxe;const pxe=Ot(mxe);var vxe=["cx","cy","angle","ticks","axisLine"],gxe=["ticks","tick","angle","tickFormatter","stroke"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iT(e,t){if(e==null)return{};var r=yxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y4(n.key),n)}}function bxe(e,t,r){return t&&sT(e.prototype,t),r&&sT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wxe(e,t,r){return t=Eg(t),jxe(e,G4()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function jxe(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function Sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O1(e,t)}function Mx(e,t,r){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=Cxe(e,"string");return zu(t)=="symbol"?t:t+""}function Cxe(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $x=function(e){function t(){return xxe(this,t),wxe(this,t,arguments)}return Sxe(t,e),bxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Kt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=cxe(l,function(d){return d.coordinate||0}),u=pxe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=iT(n,vxe),d=l.reduce(function(y,p){return[Math.min(y[0],p.coordinate),Math.max(y[1],p.coordinate)]},[1/0,-1/0]),f=Kt(a,i,d[0],o),h=Kt(a,i,d[1],o),m=qo(qo(qo({},Le(u,!1)),{},{fill:"none"},Le(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Kf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=iT(a,gxe),f=this.getTickTextAnchor(),h=Le(d,!1),m=Le(o,!1),y=i.map(function(p,v){var g=n.getTickValueCoord(p),x=qo(qo(qo(qo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},g),{},{payload:p});return R.createElement(ot,Kf({className:tt("recharts-polar-radius-axis-tick",M4(o)),key:"tick-".concat(p.coordinate)},Co(n.props,p,v)),t.renderTickItem(o,x,c?c(p.value,v):p.value))});return R.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:R.createElement(ot,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Yr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,a):Ge(n)?o=n(a):o=R.createElement(Il,Kf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(w.PureComponent);Mx($x,"displayName","PolarRadiusAxis");Mx($x,"axisType","radiusAxis");Mx($x,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Ix(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q4(n.key),n)}}function Pxe(e,t,r){return t&&lT(e.prototype,t),r&&lT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kxe(e,t,r){return t=Ag(t),Exe(e,X4()?Reflect.construct(t,r||[],Ag(e).constructor):t.apply(e,r))}function Exe(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Axe(e)}function Axe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!e})()}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(e)}function Oxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T1(e,t)}function Ix(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=Txe(e,"string");return Uu(t)=="symbol"?t:t+""}function Txe(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rxe=Math.PI/180,cT=1e-5,Dx=function(e){function t(){return Nxe(this,t),kxe(this,t,arguments)}return Oxe(t,e),Pxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Kt(i,o,l,n.coordinate),h=Kt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Rxe),o;return i>cT?o=a==="outer"?"start":"end":i<-cT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ko(Ko({},Le(this.props,!1)),{},{fill:"none"},Le(l,!1));if(c==="circle")return R.createElement(Im,al({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Kt(a,i,o,h.coordinate)});return R.createElement(Gye,al({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Le(this.props,!1),f=Le(o,!1),h=Ko(Ko({},d),{},{fill:"none"},Le(l,!1)),m=i.map(function(y,p){var v=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),x=Ko(Ko(Ko({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:y,x:v.x2,y:v.y2});return R.createElement(ot,al({className:tt("recharts-polar-angle-axis-tick",M4(o)),key:"tick-".concat(y.coordinate)},Co(n.props,y,p)),l&&R.createElement("line",al({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,c?c(y.value,p):y.value))});return R.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:R.createElement(ot,{className:tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,a):Ge(n)?o=n(a):o=R.createElement(Il,al({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(w.PureComponent);Ix(Dx,"displayName","PolarAngleAxis");Ix(Dx,"axisType","angleAxis");Ix(Dx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Mxe=tL,$xe=Mxe(Object.getPrototypeOf,Object),Ixe=$xe,Dxe=Cs,Lxe=Ixe,Fxe=Ns,Bxe="[object Object]",zxe=Function.prototype,Uxe=Object.prototype,J4=zxe.toString,Vxe=Uxe.hasOwnProperty,Wxe=J4.call(Object);function Hxe(e){if(!Fxe(e)||Dxe(e)!=Bxe)return!1;var t=Lxe(e);if(t===null)return!0;var r=Vxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&J4.call(r)==Wxe}var qxe=Hxe;const Kxe=Ot(qxe);var Gxe=Cs,Yxe=Ns,Xxe="[object Boolean]";function Qxe(e){return e===!0||e===!1||Yxe(e)&&Gxe(e)==Xxe}var Jxe=Qxe;const Zxe=Ot(Jxe);function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function e0e(e,t){return a0e(e)||n0e(e,t)||r0e(e,t)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0e(e,t){if(e){if(typeof e=="string")return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(e,t)}}function uT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function a0e(e){if(Array.isArray(e))return e}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){i0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0e(e,t,r){return t=s0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s0e(e){var t=o0e(e,"string");return sm(t)=="symbol"?t:t+""}function o0e(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hT=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},l0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c0e=function(t){var r=fT(fT({},l0e),t),n=w.useRef(),a=w.useState(-1),i=e0e(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,p=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=tt("recharts-trapezoid",m);return g?R.createElement(Ea,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:y,isActive:g},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,C=b.x,N=b.y;return R.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:y},R.createElement("path",Og({},Le(r,!0),{className:x,d:hT(C,N,_,j,S),ref:n})))}):R.createElement("g",null,R.createElement("path",Og({},Le(r,!0),{className:x,d:hT(c,u,d,f,h)})))},u0e=["option","shapeType","propTransformer","activeClassName","isActive"];function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function d0e(e,t){if(e==null)return{};var r=f0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){h0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h0e(e,t,r){return t=m0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0e(e){var t=p0e(e,"string");return om(t)=="symbol"?t:t+""}function p0e(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0e(e,t){return Tg(Tg({},t),e)}function g0e(e,t){return e==="symbols"}function pT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(GC,r);case"trapezoid":return R.createElement(c0e,r);case"sector":return R.createElement(D4,r);case"symbols":if(g0e(t))return R.createElement(bx,r);break;default:return null}}function y0e(e){return w.isValidElement(e)?e.props:e}function Rg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?v0e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=d0e(e,u0e),u;if(w.isValidElement(t))u=w.cloneElement(t,Tg(Tg({},c),y0e(t)));else if(Ge(t))u=t(c);else if(Kxe(t)&&!Zxe(t)){var d=a(t,c);u=R.createElement(pT,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(pT,{shapeType:r,elementProps:f})}return l?R.createElement(ot,{className:o},u):u}function Lx(e,t){return t!=null&&"trapezoids"in e.props}function Fx(e,t){return t!=null&&"sectors"in e.props}function lm(e,t){return t!=null&&"points"in e.props}function x0e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function b0e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function w0e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function j0e(e,t){var r;return Lx(e,t)?r=x0e:Fx(e,t)?r=b0e:lm(e,t)&&(r=w0e),r}function _0e(e,t){var r;return Lx(e,t)?r="trapezoids":Fx(e,t)?r="sectors":lm(e,t)&&(r="points"),r}function S0e(e,t){if(Lx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Fx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lm(e,t)?t.payload:{}}function C0e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=_0e(r,t),i=S0e(r,t),o=n.filter(function(c,u){var d=No(i,c),f=r.props[a].filter(function(y){var p=j0e(r,t);return p(y,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var rv;function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eF(n.key),n)}}function P0e(e,t,r){return t&&gT(e.prototype,t),r&&gT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k0e(e,t,r){return t=Mg(t),E0e(e,Z4()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function E0e(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0e(e)}function A0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function O0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(e,t)}function wa(e,t,r){return t=eF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=T0e(e,"string");return Vu(t)=="symbol"?t:t+""}function T0e(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=function(e){function t(r){var n;return N0e(this,t),n=k0e(this,t,[r]),wa(n,"pieRef",null),wa(n,"sectorRefs",[]),wa(n,"id",Mo("recharts-pie-")),wa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ge(a)&&a()}),wa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ge(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return O0e(t,e),P0e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Le(this.props,!1),f=Le(o,!1),h=Le(l,!1),m=o&&o.offsetRadius||20,y=n.map(function(p,v){var g=(p.startAngle+p.endAngle)/2,x=Kt(p.cx,p.cy,p.outerRadius+m,g),b=Vt(Vt(Vt(Vt({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),_=Vt(Vt(Vt(Vt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Kt(p.cx,p.cy,p.outerRadius,g),x]}),j=c;return Ke(c)&&Ke(u)?j="value":Ke(c)&&(j=u),R.createElement(ot,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,tr(p,j)))});return R.createElement(ot,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,y=Vt(Vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(ot,Vc({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Co(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),R.createElement(Rg,Vc({option:m,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return R.createElement(Ea,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var p=y.t,v=[],g=i&&i[0],x=g.startAngle;return i.forEach(function(b,_){var j=h&&h[_],S=_>0?oa(b,"paddingAngle",0):0;if(j){var C=lr(j.endAngle-j.startAngle,b.endAngle-b.startAngle),N=Vt(Vt({},b),{},{startAngle:x+S,endAngle:x+C(p)+S});v.push(N),x=N.endAngle}else{var P=b.endAngle,E=b.startAngle,O=lr(0,P-E),T=O(p),A=Vt(Vt({},b),{},{startAngle:x+S,endAngle:x+T+S});v.push(A),x=A.endAngle}}),R.createElement(ot,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!No(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var p=tt("recharts-pie",l);return R.createElement(ot,{tabIndex:this.props.rootTabIndex,className:p,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Yr.renderCallByParent(this.props,null,!1),(!m||y)&&si.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);if(Ge(n))return n(a);var o=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(yo,Vc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);var o=i;if(Ge(n)&&(o=n(a),R.isValidElement(o)))return o;var l=tt("recharts-pie-label-text",typeof n!="boolean"&&!Ge(n)?n.className:"");return R.createElement(Il,Vc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);rv=ks;wa(ks,"displayName","Pie");wa(ks,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ca.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wa(ks,"parseDeltaAngle",function(e,t){var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wa(ks,"getRealPieData",function(e){var t=e.data,r=e.children,n=Le(e,!1),a=Tn(r,Bd);return t&&t.length?t.map(function(i,o){return Vt(Vt(Vt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vt(Vt({},n),i.props)}):[]});wa(ks,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=R4(a,i),l=n+En(e.cx,a,a/2),c=r+En(e.cy,i,i/2),u=En(e.innerRadius,o,0),d=En(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});wa(ks,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Vt(Vt({},t.type.defaultProps),t.props):t.props,a=rv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),y=rv.parseCoordinateOfPie(n,r),p=rv.parseDeltaAngle(o,l),v=Math.abs(p),g=u;Ke(u)&&Ke(f)?(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Ke(u)&&(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var x=a.filter(function(N){return tr(N,g,0)!==0}).length,b=(v>=360?x:x-1)*c,_=v-x*m-b,j=a.reduce(function(N,P){var E=tr(P,g,0);return N+(pe(E)?E:0)},0),S;if(j>0){var C;S=a.map(function(N,P){var E=tr(N,g,0),O=tr(N,d,P),T=(pe(E)?E:0)/j,A;P?A=C.endAngle+kn(p)*c*(E!==0?1:0):A=o;var k=A+kn(p)*((E!==0?m:0)+T*_),$=(A+k)/2,D=(y.innerRadius+y.outerRadius)/2,M=[{name:O,value:E,payload:N,dataKey:g,type:h}],I=Kt(y.cx,y.cy,D,$);return C=Vt(Vt(Vt({percent:T,cornerRadius:i,name:O,tooltipPayload:M,midAngle:$,middleRadius:D,tooltipPosition:I},N),y),{},{value:tr(N,g),startAngle:A,endAngle:k,payload:N,paddingAngle:kn(p)*c}),C})}return Vt(Vt({},y),{},{sectors:S,data:a})});var R0e=Math.ceil,M0e=Math.max;function $0e(e,t,r,n){for(var a=-1,i=M0e(R0e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var I0e=$0e,D0e=bL,yT=1/0,L0e=17976931348623157e292;function F0e(e){if(!e)return e===0?e:0;if(e=D0e(e),e===yT||e===-yT){var t=e<0?-1:1;return t*L0e}return e===e?e:0}var tF=F0e,B0e=I0e,z0e=_x,Pb=tF;function U0e(e){return function(t,r,n){return n&&typeof n!="number"&&z0e(t,r,n)&&(r=n=void 0),t=Pb(t),r===void 0?(r=t,t=0):r=Pb(r),n=n===void 0?t<r?1:-1:Pb(n),B0e(t,r,n,e)}}var V0e=U0e,W0e=V0e,H0e=W0e(),q0e=H0e;const $g=Ot(q0e);function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=G0e(e,"string");return cm(t)=="symbol"?t:t+""}function G0e(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y0e=["Webkit","Moz","O","ms"],X0e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Y0e.reduce(function(i,o){return bT(bT({},i),{},rF({},o+n,r))},{});return a[t]=r,a};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function J0e(e,t,r){return t&&jT(e.prototype,t),r&&jT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z0e(e,t,r){return t=Dg(t),ebe(e,nF()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function ebe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tbe(e)}function tbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function rbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(e,t)}function Qn(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(e){var t=nbe(e,"string");return Wu(t)=="symbol"?t:t+""}function nbe(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var abe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Vf().domain($g(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},_T=function(t){return t.changedTouches&&!!t.changedTouches.length},Hu=function(e){function t(r){var n;return Q0e(this,t),n=Z0e(this,t,[r]),Qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qn(n,"handleSlideDragStart",function(a){var i=_T(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rbe(t,e),J0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=tr(i[n],l,n);return Ge(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_T(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,p=d.gap,v=d.data,g={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),g[o]=u+x;var b=this.getIndex(g),_=b.startIndex,j=b.endIndex,S=function(){var N=v.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===N||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===N};this.setState(Qn(Qn({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Qn({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?R.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,p=c.startIndex,v=c.endIndex,g=Math.max(n,this.props.x),x=kb(kb({},Le(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=m||"Min value: ".concat((i=y[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return R.createElement(ot,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return R.createElement(ot,{className:"recharts-brush-texts"},R.createElement(Il,Ig({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},y),this.getTextOfTick(a)),R.createElement(Il,Ig({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,p=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var b=tt("recharts-brush",i),_=R.Children.count(o)===1,j=X0e("userSelect","none");return R.createElement(ot,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(p||v||g||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return R.isValidElement(n)?i=R.cloneElement(n,a):Ge(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return kb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?abe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(w.PureComponent);Qn(Hu,"displayName","Brush");Qn(Hu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ibe=bC;function sbe(e,t){var r;return ibe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var obe=sbe,lbe=K3,cbe=zi,ube=obe,dbe=Gn,fbe=_x;function hbe(e,t,r){var n=dbe(e)?lbe:ube;return r&&fbe(e,t,r)&&(t=void 0),n(e,cbe(t))}var mbe=hbe;const pbe=Ot(mbe);var Ti=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ST=pL;function vbe(e,t,r){t=="__proto__"&&ST?ST(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var gbe=vbe,ybe=gbe,xbe=hL,bbe=zi;function wbe(e,t){var r={};return t=bbe(t),xbe(e,function(n,a,i){ybe(r,a,t(n,a,i))}),r}var jbe=wbe;const _be=Ot(jbe);function Sbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Cbe=Sbe,Nbe=bC;function Pbe(e,t){var r=!0;return Nbe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var kbe=Pbe,Ebe=Cbe,Abe=kbe,Obe=zi,Tbe=Gn,Rbe=_x;function Mbe(e,t,r){var n=Tbe(e)?Ebe:Abe;return r&&Rbe(e,t,r)&&(t=void 0),n(e,Obe(t))}var $be=Mbe;const iF=Ot($be);var Ibe=["x","y"];function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t,r){return t=Lbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e){var t=Fbe(e,"string");return um(t)=="symbol"?t:t+""}function Fbe(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bbe(e,t){if(e==null)return{};var r=zbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ube(e,t){var r=e.x,n=e.y,a=Bbe(e,Ibe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return pf(pf(pf(pf(pf({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NT(e){return R.createElement(Rg,$1({shapeType:"rectangle",propTransformer:Ube,activeClassName:"recharts-active-bar"},e))}var Vbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=pe(n)||mee(n);return i?t(n,a):(i||Ll(),r)}},Wbe=["value","background"],sF;function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function Hbe(e,t){if(e==null)return{};var r=qbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function Gbe(e,t,r){return t&&kT(e.prototype,t),r&&kT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ybe(e,t,r){return t=Fg(t),Xbe(e,oF()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function Xbe(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qbe(e)}function Qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function Jbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(e,t)}function ro(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Zbe(e,"string");return qu(t)=="symbol"?t:t+""}function Zbe(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kr=function(e){function t(){var r;Kbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ybe(this,t,[].concat(a)),ro(r,"state",{isAnimationFinished:!1}),ro(r,"id",Mo("recharts-bar-")),ro(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ro(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Jbe(t,e),Gbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Le(this.props,!1);return n&&n.map(function(f,h){var m=h===c,y=m?u:o,p=Tr(Tr(Tr({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(ot,Lg({className:"recharts-bar-rectangle"},Co(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(NT,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return R.createElement(Ea,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,p=i.map(function(v,g){var x=h&&h[g];if(x){var b=lr(x.x,v.x),_=lr(x.y,v.y),j=lr(x.width,v.width),S=lr(x.height,v.height);return Tr(Tr({},v),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(o==="horizontal"){var C=lr(0,v.height),N=C(y);return Tr(Tr({},v),{},{y:v.y+v.height-N,height:N})}var P=lr(0,v.width),E=P(y);return Tr(Tr({},v),{},{width:E})});return R.createElement(ot,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!No(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Le(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Hbe(u,Wbe);if(!f)return null;var m=Tr(Tr(Tr(Tr(Tr({},h),{},{fill:"#eee"},f),c),Co(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(NT,Lg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Tn(d,Wd);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,g){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:tr(v,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(ot,y,f.map(function(p){return R.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,y=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=tt("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,j=Ke(p)?this.id:p;return R.createElement(ot,{className:g},x||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,R.createElement(ot,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||v)&&si.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);sF=kr;ro(kr,"displayName","Bar");ro(kr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ca.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ro(kr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Rpe(n,r);if(!m)return null;var y=t.layout,p=r.type.defaultProps,v=p!==void 0?Tr(Tr({},p),r.props):r.props,g=v.dataKey,x=v.children,b=v.minPointSize,_=y==="horizontal"?o:i,j=u?_.scale.domain():null,S=Bpe({numericAxis:_}),C=Tn(x,Bd),N=f.map(function(P,E){var O,T,A,k,$,D;u?O=Mpe(u[d+E],j):(O=tr(P,g),Array.isArray(O)||(O=[S,O]));var M=Vbe(b,sF.defaultProps.minPointSize)(O[1],E);if(y==="horizontal"){var I,L=[o.scale(O[0]),o.scale(O[1])],B=L[0],Q=L[1];T=gO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:P,index:E}),A=(I=Q??B)!==null&&I!==void 0?I:void 0,k=m.size;var X=B-Q;if($=Number.isNaN(X)?0:X,D={x:T,y:o.y,width:k,height:o.height},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var ne=kn($||M)*(Math.abs(M)-Math.abs($));A-=ne,$+=ne}}else{var z=[i.scale(O[0]),i.scale(O[1])],U=z[0],H=z[1];if(T=U,A=gO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:P,index:E}),k=H-U,$=m.size,D={x:i.x,y:A,width:i.width,height:$},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var q=kn(k||M)*(Math.abs(M)-Math.abs(k));k+=q}}return Tr(Tr(Tr({},P),{},{x:T,y:A,width:k,height:$,value:u?O:O[1],payload:P,background:D},C&&C[E]&&C[E].props),{},{tooltipPayload:[O4(r,P)],tooltipPosition:{x:T+k/2,y:A+$/2}})});return Tr({data:N,layout:y},h)});function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function ewe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ET(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function twe(e,t,r){return t&&ET(e.prototype,t),r&&ET(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bx(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=rwe(e,"string");return dm(t)=="symbol"?t:t+""}function rwe(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Zn(u,kr);return d.reduce(function(m,y){var p=r[y],v=p.orientation,g=p.domain,x=p.padding,b=x===void 0?{}:x,_=p.mirror,j=p.reversed,S="".concat(v).concat(_?"Mirror":""),C,N,P,E,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=g[1]-g[0],A=1/0,k=p.categoricalDomain.sort(yee);if(k.forEach(function(z,U){U>0&&(A=Math.min((z||0)-(k[U-1]||0),A))}),Number.isFinite(A)){var $=A/T,D=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(C=$*D/2),p.padding==="no-gap"){var M=En(t.barCategoryGap,$*D),I=$*D/2;C=I-M-(I-M)/D*M}}}a==="xAxis"?N=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:N=p.range,j&&(N=[N[1],N[0]]);var L=P4(p,i,h),B=L.scale,Q=L.realScaleType;B.domain(g).range(N),k4(B);var X=E4(B,Xa(Xa({},p),{},{realScaleType:Q}));a==="xAxis"?(O=v==="top"&&!_||v==="bottom"&&_,P=n.left,E=f[S]-O*p.height):a==="yAxis"&&(O=v==="left"&&!_||v==="right"&&_,P=f[S]-O*p.width,E=n.top);var ne=Xa(Xa(Xa({},p),X),{},{realScaleType:Q,x:P,y:E,scale:B,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ne.bandSize=jg(ne,X),!p.hide&&a==="xAxis"?f[S]+=(O?-1:1)*ne.height:p.hide||(f[S]+=(O?-1:1)*ne.width),Xa(Xa({},m),{},Bx({},y,ne))},{})},uF=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},nwe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return uF({x:r,y:n},{x:a,y:i})},dF=function(){function e(t){ewe(this,e),this.scale=t}return twe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Bx(dF,"EPS",1e-4);var YC=function(t){var r=Object.keys(t).reduce(function(n,a){return Xa(Xa({},n),{},Bx({},a,dF.create(t[a])))},{});return Xa(Xa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return _be(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return iF(a,function(i,o){return r[o].isInRange(i)})}})};function awe(e){return(e%180+180)%180}var iwe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=awe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},swe=zi,owe=Om,lwe=wx;function cwe(e){return function(t,r,n){var a=Object(t);if(!owe(t)){var i=swe(r);t=lwe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var uwe=cwe,dwe=tF;function fwe(e){var t=dwe(e),r=t%1;return t===t?r?t-r:t:0}var hwe=fwe,mwe=oL,pwe=zi,vwe=hwe,gwe=Math.max;function ywe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:vwe(r);return a<0&&(a=gwe(n+a,0)),mwe(e,pwe(t),a)}var xwe=ywe,bwe=uwe,wwe=xwe,jwe=bwe(wwe),_we=jwe;const Swe=Ot(_we);var Cwe=yZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),XC=w.createContext(void 0),QC=w.createContext(void 0),fF=w.createContext(void 0),hF=w.createContext({}),mF=w.createContext(void 0),pF=w.createContext(0),vF=w.createContext(0),OT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Cwe(i);return R.createElement(XC.Provider,{value:n},R.createElement(QC.Provider,{value:a},R.createElement(hF.Provider,{value:i},R.createElement(fF.Provider,{value:d},R.createElement(mF.Provider,{value:o},R.createElement(pF.Provider,{value:u},R.createElement(vF.Provider,{value:c},l)))))))},Nwe=function(){return w.useContext(mF)},gF=function(t){var r=w.useContext(XC);r==null&&Ll();var n=r[t];return n==null&&Ll(),n},Pwe=function(){var t=w.useContext(XC);return qs(t)},kwe=function(){var t=w.useContext(QC),r=Swe(t,function(n){return iF(n.domain,Number.isFinite)});return r||qs(t)},yF=function(t){var r=w.useContext(QC);r==null&&Ll();var n=r[t];return n==null&&Ll(),n},Ewe=function(){var t=w.useContext(fF);return t},Awe=function(){return w.useContext(hF)},JC=function(){return w.useContext(vF)},ZC=function(){return w.useContext(pF)};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Twe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bF(n.key),n)}}function Rwe(e,t,r){return t&&Twe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mwe(e,t,r){return t=Bg(t),$we(e,xF()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function $we(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iwe(e)}function Iwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function Dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(e,t)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){eN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eN(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=Lwe(e,"string");return Ku(t)=="symbol"?t:t+""}function Lwe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fwe(e,t){return Vwe(e)||Uwe(e,t)||zwe(e,t)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(e,t){if(e){if(typeof e=="string")return MT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MT(e,t)}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Vwe(e){if(Array.isArray(e))return e}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(this,arguments)}var Wwe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):Ge(t)?n=t(r):n=R.createElement("line",L1({},r,{className:"recharts-reference-line-line"})),n},Hwe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var y=u.y,p=t.y.apply(y,{position:o});if(Ti(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var g=u.x,x=t.x.apply(g,{position:o});if(Ti(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Ti(u,"discard")&&pbe(j,function(S){return!t.isInRange(S)})?null:j}return null};function qwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Nwe(),d=gF(a),f=yF(i),h=Ewe();if(!u||!h)return null;ii(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=YC({x:d.scale,y:f.scale}),y=Hr(t),p=Hr(r),v=n&&n.length===2,g=Hwe(m,y,p,v,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var x=Fwe(g,2),b=x[0],_=b.x,j=b.y,S=x[1],C=S.x,N=S.y,P=Ti(e,"hidden")?"url(#".concat(u,")"):void 0,E=RT(RT({clipPath:P},Le(e,!0)),{},{x1:_,y1:j,x2:C,y2:N});return R.createElement(ot,{className:tt("recharts-reference-line",l)},Wwe(o,E),Yr.renderCallByParent(e,nwe({x1:_,y1:j,x2:C,y2:N})))}var Ux=function(e){function t(){return Owe(this,t),Mwe(this,t,arguments)}return Dwe(t,e),Rwe(t,[{key:"render",value:function(){return R.createElement(qwe,this.props)}}])}(R.Component);eN(Ux,"displayName","ReferenceLine");eN(Ux,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){Vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function Ywe(e,t,r){return t&&Gwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xwe(e,t,r){return t=zg(t),Qwe(e,wF()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function Qwe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(e)}function Jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function Zwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(e,t)}function Vx(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=eje(e,"string");return Gu(t)=="symbol"?t:t+""}function eje(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tje=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=YC({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ti(t,"discard")&&!o.isInRange(l)?null:l},Wx=function(e){function t(){return Kwe(this,t),Xwe(this,t,arguments)}return Zwe(t,e),Ywe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(a),d=Hr(i);if(ii(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=tje(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,p=y.shape,v=y.className,g=Ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=IT(IT({clipPath:g},Le(this.props,!0)),{},{cx:h,cy:m});return R.createElement(ot,{className:tt("recharts-reference-dot",v)},t.renderDot(p,x),Yr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(R.Component);Vx(Wx,"displayName","ReferenceDot");Vx(Wx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vx(Wx,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Ge(e)?r=e(t):r=R.createElement(Im,F1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function aje(e,t,r){return t&&nje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ije(e,t,r){return t=Ug(t),sje(e,_F()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function sje(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oje(e)}function oje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function lje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(e,t)}function Hx(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=cje(e,"string");return Yu(t)=="symbol"?t:t+""}function cje(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uje=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=YC({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ti(i,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:uF(m,y)},qx=function(e){function t(){return rje(this,t),ije(this,t,arguments)}return lje(t,e),aje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ii(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(a),h=Hr(i),m=Hr(o),y=Hr(l),p=this.props.shape;if(!f&&!h&&!m&&!y&&!p)return null;var v=uje(f,h,m,y,this.props);if(!v&&!p)return null;var g=Ti(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(ot,{className:tt("recharts-reference-area",c)},t.renderRect(p,LT(LT({clipPath:g},Le(this.props,!0)),v)),Yr.renderCallByParent(this.props,v))}}])}(R.Component);Hx(qx,"displayName","ReferenceArea");Hx(qx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hx(qx,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Ge(e)?r=e(t):r=R.createElement(GC,z1({},t,{className:"recharts-reference-area-rect"})),r});function CF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function dje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return iwe(n,r)}function fje(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function hje(e,t){return CF(e,t+1)}function mje(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:CF(n,u)};var p=c,v,g=function(){return v===void 0&&(v=r(y,p)),v},x=y.coordinate,b=c===0||Vg(e,x,g,d,l);b||(c=0,d=o,u+=1),b&&(d=x+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){pje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pje(e,t,r){return t=vje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vje(e){var t=gje(e,"string");return fm(t)=="symbol"?t:t+""}function gje(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yje(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],y,p=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=xn(xn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=xn(xn({},m),{},{tickCoord:m.coordinate});var g=Vg(e,m.tickCoord,p,l,c);g&&(c=m.tickCoord-e*(p()/2+a),i[h]=xn(xn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function xje(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=xn(xn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Vg(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=xn(xn({},d),{},{isShow:!0}))}for(var y=i?l-1:l,p=function(x){var b=o[x],_,j=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*j()/2-c);o[x]=b=xn(xn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[x]=b=xn(xn({},b),{},{tickCoord:b.coordinate});var C=Vg(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),o[x]=xn(xn({},b),{},{isShow:!0}))},v=0;v<y;v++)p(v);return o}function tN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(pe(c)||Ca.isSsr)return hje(a,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?Uf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,_){var j=Ge(u)?u(b.value,_):b.value;return m==="width"?dje(Uf(j,{fontSize:t,letterSpacing:r}),y,f):Uf(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?kn(a[1].coordinate-a[0].coordinate):1,g=fje(i,v,m);return c==="equidistantPreserveStart"?mje(v,g,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=xje(v,g,p,a,o,c==="preserveStartEnd"):h=yje(v,g,p,a,o),h.filter(function(x){return x.isShow}))}var bje=["viewBox"],wje=["viewBox"],jje=["ticks"];function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){rN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eb(e,t){if(e==null)return{};var r=_je(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _je(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function Cje(e,t,r){return t&&zT(e.prototype,t),r&&zT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nje(e,t,r){return t=Wg(t),Pje(e,NF()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function Pje(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kje(e)}function kje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function Eje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V1(e,t)}function rN(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=Aje(e,"string");return Xu(t)=="symbol"?t:t+""}function Aje(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=function(e){function t(r){var n;return Sje(this,t),n=Nje(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Eje(t,e),Cje(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Eb(n,bje),l=this.props,c=l.viewBox,u=Eb(l,wje);return!ru(i,c)||!ru(o,u)||!ru(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,y,p,v,g,x,b=f?-1:1,_=n.tickSize||d,j=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,v=o+ +!f*c,p=v-b*_,x=p-b*h,g=j;break;case"left":p=v=n.coordinate,y=i+ +!f*l,m=y-b*_,g=m-b*h,x=j;break;case"right":p=v=n.coordinate,y=i+ +f*l,m=y+b*_,g=m+b*h,x=j;break;default:m=y=n.coordinate,v=o+ +f*c,p=v+b*_,x=p+b*h,g=j;break}return{line:{x1:m,y1:p,x2:y,y2:v},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},Le(this.props,!1)),Le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return R.createElement("line",Wc({},f,{className:tt("recharts-cartesian-axis-line",oa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=tN(Dr(Dr({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Le(this.props,!1),g=Le(d,!1),x=Dr(Dr({},v),{},{fill:"none"},Le(c,!1)),b=m.map(function(_,j){var S=o.getTickLineCoord(_),C=S.line,N=S.tick,P=Dr(Dr(Dr(Dr({textAnchor:y,verticalAnchor:p},v),{},{stroke:"none",fill:u},g),N),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return R.createElement(ot,Wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Co(o.props,_,j)),c&&R.createElement("line",Wc({},x,C,{className:tt("recharts-cartesian-axis-tick-line",oa(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Ge(f)?f(_.value,j):_.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Eb(f,jje),y=h;return Ge(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:R.createElement(ot,{className:tt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=tt(a.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,Dr(Dr({},a),{},{className:l})):Ge(n)?o=n(Dr(Dr({},a),{},{className:l})):o=R.createElement(Il,Wc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(w.Component);rN(Hd,"displayName","CartesianAxis");rN(Hd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Oje=["x1","y1","x2","y2","key"],Tje=["offset"];function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rje(e,t,r){return t=Mje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mje(e){var t=$je(e,"string");return Fl(t)=="symbol"?t:t+""}function $je(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(this,arguments)}function VT(e,t){if(e==null)return{};var r=Ije(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ije(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dje=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kF(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=VT(t,Oje),u=Le(c,!1);u.offset;var d=VT(u,Tje);r=R.createElement("line",hl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Lje(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return kF(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Fje(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=wn(wn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return kF(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Bje(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zje(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Uje=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return N4(tN(wn(wn(wn({},Hd.defaultProps),n),{},{ticks:as(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Vje=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return N4(tN(wn(wn(wn({},Hd.defaultProps),n),{},{ticks:as(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},uc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cn(e){var t,r,n,a,i,o,l=JC(),c=ZC(),u=Awe(),d=wn(wn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:uc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:uc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:uc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:uc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:uc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:uc.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,p=d.syncWithTicks,v=d.horizontalValues,g=d.verticalValues,x=Pwe(),b=kwe();if(!pe(m)||m<=0||!pe(y)||y<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Uje,j=d.horizontalCoordinatesGenerator||Vje,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Ge(j)){var N=v&&v.length,P=j({yAxis:b?wn(wn({},b),{},{ticks:N?v:b.ticks}):void 0,width:l,height:c,offset:u},N?!0:p);ii(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(P),"]")),Array.isArray(P)&&(S=P)}if((!C||!C.length)&&Ge(_)){var E=g&&g.length,O=_({xAxis:x?wn(wn({},x),{},{ticks:E?g:x.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);ii(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(O),"]")),Array.isArray(O)&&(C=O)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Dje,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(Lje,hl({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),R.createElement(Fje,hl({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),R.createElement(Bje,hl({},d,{horizontalPoints:S})),R.createElement(zje,hl({},d,{verticalPoints:C})))}cn.displayName="CartesianGrid";var Wje=["type","layout","connectNulls","ref"],Hje=["key"];function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function WT(e,t){if(e==null)return{};var r=qje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){Qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dc(e){return Xje(e)||Yje(e)||Gje(e)||Kje()}function Kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gje(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function Yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xje(e){if(Array.isArray(e))return W1(e)}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AF(n.key),n)}}function Jje(e,t,r){return t&&qT(e.prototype,t),r&&qT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zje(e,t,r){return t=Hg(t),e1e(e,EF()?Reflect.construct(t,r||[],Hg(e).constructor):t.apply(e,r))}function e1e(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t1e(e)}function t1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function Hg(e){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(e)}function r1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H1(e,t)}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H1(e,t)}function Qa(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=n1e(e,"string");return Qu(t)=="symbol"?t:t+""}function n1e(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Un=function(e){function t(){var r;Qje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zje(this,t,[].concat(a)),Qa(r,"state",{isAnimationFinished:!0,totalLength:0}),Qa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Qa(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,x){return g+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],y=0,p=0;y<c.length;p+=c[y],++y)if(p+c[y]>f){m=[].concat(dc(c.slice(0,y)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(dc(t.repeat(c,d)),dc(m),v).map(function(g){return"".concat(g,"px")}).join(", ")}),Qa(r,"id",Mo("recharts-line-")),Qa(r,"pathRef",function(o){r.mainCurve=o}),Qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return r1e(t,e),Jje(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Tn(d,Wd);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:tr(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(ot,m,f.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Le(this.props,!1),h=Le(c,!0),m=u.map(function(p,v){var g=Xn(Xn(Xn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,g)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(ot,Gf({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=WT(l,Wje),h=Xn(Xn(Xn({},Le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return R.createElement(yo,Gf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,p=o.width,v=o.height,g=this.state,x=g.prevPoints,b=g.totalLength;return R.createElement(Ea,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var S=x.length/l.length,C=l.map(function(T,A){var k=Math.floor(A*S);if(x[k]){var $=x[k],D=lr($.x,T.x),M=lr($.y,T.y);return Xn(Xn({},T),{},{x:D(j),y:M(j)})}if(y){var I=lr(p*2,T.x),L=lr(v/2,T.y);return Xn(Xn({},T),{},{x:I(j),y:L(j)})}return Xn(Xn({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(C,n,a)}var N=lr(0,b),P=N(j),E;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});E=i.getStrokeDasharray(P,b,O)}else E=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!No(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,y=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=tt("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=_||j,C=Ke(v)?this.id:v,N=(n=Le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,E=P===void 0?3:P,O=N.strokeWidth,T=O===void 0?2:O,A=y3(o)?o:{},k=A.clipDot,$=k===void 0?!0:k,D=E*2+T;return R.createElement(ot,{className:b},_||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(C)},R.createElement("rect",{x:_?h:h-m/2,y:j?f:f-y/2,width:_?m:m*2,height:j?y:y*2})),!$&&R.createElement("clipPath",{id:"clipPath-dots-".concat(C)},R.createElement("rect",{x:h-D/2,y:f-D/2,width:m+D,height:y+D}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||o)&&this.renderDots(S,$,C),(!p||g)&&si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(dc(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(dc(o),dc(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(R.isValidElement(n))i=R.cloneElement(n,a);else if(Ge(n))i=n(a);else{var o=a.key,l=WT(a,Hje),c=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=R.createElement(Im,Gf({key:o},l,{className:c}))}return i}}])}(w.PureComponent);Qa(Un,"displayName","Line");Qa(Un,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ca.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qa(Un,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=tr(h,o);return d==="horizontal"?{x:Fu({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Ke(y)?null:n.scale(y),value:y,payload:h}:{x:Ke(y)?null:r.scale(y),y:Fu({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:y,payload:h}});return Xn({points:f,layout:d},u)});var a1e=["layout","type","stroke","connectNulls","isRange","ref"],i1e=["key"],OF;function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function TF(e,t){if(e==null)return{};var r=s1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MF(n.key),n)}}function l1e(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c1e(e,t,r){return t=qg(t),u1e(e,RF()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function u1e(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1e(e)}function d1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function f1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q1(e,t)}function q1(e,t){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q1(e,t)}function Ci(e,t,r){return t=MF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=h1e(e,"string");return Ju(t)=="symbol"?t:t+""}function h1e(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var la=function(e){function t(){var r;o1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=c1e(this,t,[].concat(a)),Ci(r,"state",{isAnimationFinished:!0}),Ci(r,"id",Mo("recharts-area-")),Ci(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(o)&&o()}),Ci(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(o)&&o()}),r}return f1e(t,e),l1e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Le(this.props,!1),m=Le(u,!0),y=d.map(function(v,g){var x=Is(Is(Is({key:"dot-".concat(g),r:3},h),m),{},{index:g,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(ot,ml({className:"recharts-area-dots"},p),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=to(o.map(function(h){return h.y||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(to(i.map(function(h){return h.y||0})),f)),pe(f)?R.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=to(o.map(function(h){return h.x||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(to(i.map(function(h){return h.x||0})),f)),pe(f)?R.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=TF(l,a1e);return R.createElement(ot,{clipPath:i?"url(#clipPath-".concat(o,")"):null},R.createElement(yo,ml({},Le(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(yo,ml({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&R.createElement(yo,ml({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=this.state,p=y.prevPoints,v=y.prevBaseLine;return R.createElement(Ea,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t;if(p){var b=p.length/l.length,_=l.map(function(N,P){var E=Math.floor(P*b);if(p[E]){var O=p[E],T=lr(O.x,N.x),A=lr(O.y,N.y);return Is(Is({},N),{},{x:T(x),y:A(x)})}return N}),j;if(pe(c)&&typeof c=="number"){var S=lr(v,c);j=S(x)}else if(Ke(c)||Id(c)){var C=lr(v,0);j=C(x)}else j=c.map(function(N,P){var E=Math.floor(P*b);if(v[E]){var O=v[E],T=lr(O.x,N.x),A=lr(O.y,N.y);return Is(Is({},N),{},{x:T(x),y:A(x)})}return N});return i.renderAreaStatically(_,j,n,a)}return R.createElement(ot,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),R.createElement(ot,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!No(d,o)||!No(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,y=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=tt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,C=Ke(v)?this.id:v,N=(n=Le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,E=P===void 0?3:P,O=N.strokeWidth,T=O===void 0?2:O,A=y3(o)?o:{},k=A.clipDot,$=k===void 0?!0:k,D=E*2+T;return R.createElement(ot,{className:b},_||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(C)},R.createElement("rect",{x:_?d:d-m/2,y:j?u:u-y/2,width:_?m:m*2,height:j?y:y*2})),!$&&R.createElement("clipPath",{id:"clipPath-dots-".concat(C)},R.createElement("rect",{x:d-D/2,y:u-D/2,width:m+D,height:y+D}))):null,x?null:this.renderArea(S,C),(o||x)&&this.renderDots(S,$,C),(!p||g)&&si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);OF=la;Ci(la,"displayName","Area");Ci(la,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ca.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ci(la,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(pe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ci(la,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,y=u&&u.length,p=OF.getBaseValue(t,r,n,a),v=m==="horizontal",g=!1,x=f.map(function(_,j){var S;y?S=u[d+j]:(S=tr(_,c),Array.isArray(S)?g=!0:S=[p,S]);var C=S[1]==null||y&&tr(_,c)==null;return v?{x:Fu({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:Fu({axis:a,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),b;return y||g?b=x.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=v?a.scale(p):n.scale(p),Is({points:x,baseLine:b,layout:m,isRange:g},h)});Ci(la,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=TF(t,i1e);r=R.createElement(Im,ml({},i,{key:a,className:n}))}return r});function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function m1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DF(n.key),n)}}function v1e(e,t,r){return t&&p1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g1e(e,t,r){return t=Kg(t),y1e(e,$F()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function y1e(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x1e(e)}function x1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function b1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K1(e,t)}function IF(e,t,r){return t=DF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=w1e(e,"string");return Zu(t)=="symbol"?t:t+""}function w1e(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kx=function(e){function t(){return m1e(this,t),g1e(this,t,arguments)}return b1e(t,e),v1e(t,[{key:"render",value:function(){return null}}])}(w.Component);IF(Kx,"displayName","ZAxis");IF(Kx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var j1e=["option","isActive"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function _1e(e,t){if(e==null)return{};var r=S1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C1e(e){var t=e.option,r=e.isActive,n=_1e(e,j1e);return typeof t=="string"?w.createElement(Rg,Yf({option:w.createElement(bx,Yf({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(Rg,Yf({option:t,isActive:r,shapeType:"symbols"},n))}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FF(n.key),n)}}function P1e(e,t,r){return t&&XT(e.prototype,t),r&&XT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k1e(e,t,r){return t=Gg(t),E1e(e,LF()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function E1e(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(e)}function A1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function O1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G1(e,t)}function no(e,t,r){return t=FF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=T1e(e,"string");return ed(t)=="symbol"?t:t+""}function T1e(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gx=function(e){function t(){var r;N1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=k1e(this,t,[].concat(a)),no(r,"state",{isAnimationFinished:!1}),no(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),no(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),no(r,"id",Mo("recharts-scatter-")),r}return O1e(t,e),P1e(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=Le(this.props,!1);return n.map(function(d,f){var h=c===f,m=h?l:o,y=ga(ga({},u),d);return R.createElement(ot,Xf({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Co(a.props,d,f),{role:"img"}),R.createElement(C1e,Xf({option:m,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return R.createElement(Ea,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,y=i.map(function(p,v){var g=f&&f[v];if(g){var x=lr(g.cx,p.cx),b=lr(g.cy,p.cy),_=lr(g.size,p.size);return ga(ga({},p),{},{cx:x(m),cy:b(m),size:_(m)})}var j=lr(0,p.size);return ga(ga({},p),{},{size:j(m)})});return R.createElement(ot,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!No(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=Tn(c,Wd);return u?u.map(function(d,f){var h=d.props,m=h.direction,y=h.dataKey;return R.cloneElement(d,{key:"".concat(m,"-").concat(y,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(v,g){return{x:v.cx,y:v.cy,value:m==="x"?+v.node.x:+v.node.y,errorVal:tr(v,g)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=Le(this.props,!1),u=Le(i,!1),d,f;if(o==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=gee(a),m=h.xmin,y=h.xmax,p=h.a,v=h.b,g=function(_){return p*_+v};d=[{x:m,y:g(m)},{x:y,y:g(y)}]}var x=ga(ga(ga({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return R.isValidElement(i)?f=R.cloneElement(i,x):Ge(i)?f=i(x):f=R.createElement(yo,Xf({},x,{type:l})),R.createElement(ot,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,m=n.height,y=n.id,p=n.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=tt("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,j=Ke(y)?this.id:y;return R.createElement(ot,{className:g,clipPath:_?"url(#clipPath-".concat(j,")"):null},x||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:x?d:d-h/2,y:b?f:f-m/2,width:x?h:h*2,height:b?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),R.createElement(ot,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||v)&&si.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(w.PureComponent);no(Gx,"displayName","Scatter");no(Gx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ca.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});no(Gx,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=Tn(a.props.children,Bd),f=Ke(t.dataKey)?a.props.dataKey:t.dataKey,h=Ke(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,y=n?n.range:Kx.defaultProps.range,p=y&&y[0],v=t.scale.bandwidth?t.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var j=tr(b,f),S=tr(b,h),C=!Ke(m)&&tr(b,m)||"-",N=[{name:Ke(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:f,type:u},{name:Ke(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:m,type:u});var P=Fu({axis:t,ticks:o,bandSize:v,entry:b,index:_,dataKey:f}),E=Fu({axis:r,ticks:l,bandSize:g,entry:b,index:_,dataKey:h}),O=C!=="-"?n.scale(C):p,T=Math.sqrt(Math.max(O,0)/Math.PI);return ga(ga({},b),{},{cx:P,cy:E,x:P-T,y:E-T,xAxis:t,yAxis:r,zAxis:n,width:2*T,height:2*T,size:O,node:{x:j,y:S,z:C},tooltipPayload:N,tooltipPosition:{x:P,y:E},payload:b},d&&d[_]&&d[_].props)});return ga({points:x},c)});function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function R1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UF(n.key),n)}}function $1e(e,t,r){return t&&M1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I1e(e,t,r){return t=Yg(t),D1e(e,BF()?Reflect.construct(t,r||[],Yg(e).constructor):t.apply(e,r))}function D1e(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1e(e)}function L1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(e)}function F1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(e,t)}function zF(e,t,r){return t=UF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UF(e){var t=B1e(e,"string");return td(t)=="symbol"?t:t+""}function B1e(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function z1e(e){var t=e.xAxisId,r=JC(),n=ZC(),a=gF(t);return a==null?null:w.createElement(Hd,X1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return as(o,!0)}}))}var gr=function(e){function t(){return R1e(this,t),I1e(this,t,arguments)}return F1e(t,e),$1e(t,[{key:"render",value:function(){return w.createElement(z1e,this.props)}}])}(w.Component);zF(gr,"displayName","XAxis");zF(gr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function U1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HF(n.key),n)}}function W1e(e,t,r){return t&&V1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H1e(e,t,r){return t=Xg(t),q1e(e,VF()?Reflect.construct(t,r||[],Xg(e).constructor):t.apply(e,r))}function q1e(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1e(e)}function K1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!e})()}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(e)}function G1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(e,t)}function WF(e,t,r){return t=HF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=Y1e(e,"string");return rd(t)=="symbol"?t:t+""}function Y1e(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(this,arguments)}var X1e=function(t){var r=t.yAxisId,n=JC(),a=ZC(),i=yF(r);return i==null?null:w.createElement(Hd,J1({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return as(l,!0)}}))},yr=function(e){function t(){return U1e(this,t),H1e(this,t,arguments)}return G1e(t,e),W1e(t,[{key:"render",value:function(){return w.createElement(X1e,this.props)}}])}(w.Component);WF(yr,"displayName","YAxis");WF(yr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QT(e){return e_e(e)||Z1e(e)||J1e(e)||Q1e()}function Q1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1e(e,t){if(e){if(typeof e=="string")return Z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(e,t)}}function Z1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e_e(e){if(Array.isArray(e))return Z1(e)}function Z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var e_=function(t,r,n,a,i){var o=Tn(t,Ux),l=Tn(t,Wx),c=[].concat(QT(o),QT(l)),u=Tn(t,qx),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Ti(v.props,"extendDomain")&&pe(v.props[f])){var g=v.props[f];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Ti(v.props,"extendDomain")&&pe(v.props[m])&&pe(v.props[y])){var g=v.props[m],x=v.props[y];return[Math.min(p[0],g,x),Math.max(p[1],g,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return pe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},qF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],g=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var _=v.length,j;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(g-1);j<g;j++)x[j-1]=arguments[j];v[b].fn.apply(v[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var p=0,v=[],g=y.length;p<g;p++)(y[p].fn!==d||h&&!y[p].once||f&&y[p].context!==f)&&v.push(y[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qF);var t_e=qF.exports;const r_e=Ot(t_e);var Ab=new r_e,Ob="recharts.syncMouseEvents";function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function n_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KF(n.key),n)}}function i_e(e,t,r){return t&&a_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tb(e,t,r){return t=KF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=s_e(e,"string");return hm(t)=="symbol"?t:t+""}function s_e(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o_e=function(){function e(){n_e(this,e),Tb(this,"activeIndex",0),Tb(this,"coordinateList",[]),Tb(this,"layout","horizontal")}return i_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function l_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function c_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function GF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Kt(t,r,n,a),l=Kt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function u_e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Kt(l,c,u,f),m=Kt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return GF(t);return[{x:n,y:a},{x:i,y:o}]}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){d_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_e(e,t,r){return t=f_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=h_e(e,"string");return mm(t)=="symbol"?t:t+""}function h_e(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,p=yo;if(h==="ScatterChart")y=o,p=nxe;else if(h==="BarChart")y=c_e(f,o,c,d),p=GC;else if(f==="radial"){var v=GF(o),g=v.cx,x=v.cy,b=v.radius,_=v.startAngle,j=v.endAngle;y={cx:g,cy:x,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},p=D4}else y={points:u_e(f,o,c)},p=yo;var S=Ap(Ap(Ap(Ap({stroke:"#ccc",pointerEvents:"none"},c),y),Le(m,!1)),{},{payload:l,payloadIndex:u,className:tt("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(p,S)}var p_e=["item"],v_e=["children","className","width","height","style","compact","title","desc"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}function ZT(e,t){return x_e(e)||y_e(e,t)||XF(e,t)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function x_e(e){if(Array.isArray(e))return e}function e2(e,t){if(e==null)return{};var r=b_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QF(n.key),n)}}function __e(e,t,r){return t&&j_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S_e(e,t,r){return t=Qg(t),C_e(e,YF()?Reflect.construct(t,r||[],Qg(e).constructor):t.apply(e,r))}function C_e(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N_e(e)}function N_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!e})()}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(e)}function P_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t_(e,t)}function ad(e){return A_e(e)||E_e(e)||XF(e)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(e,t){if(e){if(typeof e=="string")return r_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(e,t)}}function E_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A_e(e){if(Array.isArray(e))return r_(e)}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){Xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xe(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=O_e(e,"string");return nd(t)=="symbol"?t:t+""}function O_e(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T_e={xAxis:["bottom","top"],yAxis:["left","right"]},R_e={width:"100%",height:"100%"},JF={x:0,y:0};function Op(e){return e}var M_e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$_e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ce(ce(ce({},a),Kt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ce(ce(ce({},a),Kt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return JF},Yx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ad(l),ad(u)):l},[]);return o.length>0?o:t&&t.length&&pe(a)&&pe(i)?t.slice(a,i+1):[]};function ZF(e){return e==="number"?[0,"auto"]:void 0}var n_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Yx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Gv(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(ad(c),[O4(u,h)]):c},[])},r2=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=M_e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Ppe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=n_(t,r,d,f),m=$_e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},I_e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=C4(d,i);return n.reduce(function(y,p){var v,g=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,x=g.type,b=g.dataKey,_=g.allowDataOverflow,j=g.allowDuplicatedCategory,S=g.scale,C=g.ticks,N=g.includeHidden,P=g[o];if(y[P])return y;var E=Yx(t.data,{graphicalItems:a.filter(function(X){var ne,z=o in X.props?X.props[o]:(ne=X.type.defaultProps)===null||ne===void 0?void 0:ne[o];return z===P}),dataStartIndex:c,dataEndIndex:u}),O=E.length,T,A,k;l_e(g.domain,_,x)&&(T=m1(g.domain,null,_),m&&(x==="number"||S!=="auto")&&(k=Wf(E,b,"category")));var $=ZF(x);if(!T||T.length===0){var D,M=(D=g.domain)!==null&&D!==void 0?D:$;if(b){if(T=Wf(E,b,x),x==="category"&&m){var I=vee(T);j&&I?(A=T,T=$g(0,O)):j||(T=bO(M,T,p).reduce(function(X,ne){return X.indexOf(ne)>=0?X:[].concat(ad(X),[ne])},[]))}else if(x==="category")j?T=T.filter(function(X){return X!==""&&!Ke(X)}):T=bO(M,T,p).reduce(function(X,ne){return X.indexOf(ne)>=0||ne===""||Ke(ne)?X:[].concat(ad(X),[ne])},[]);else if(x==="number"){var L=Tpe(E,a.filter(function(X){var ne,z,U=o in X.props?X.props[o]:(ne=X.type.defaultProps)===null||ne===void 0?void 0:ne[o],H="hide"in X.props?X.props.hide:(z=X.type.defaultProps)===null||z===void 0?void 0:z.hide;return U===P&&(N||!H)}),b,i,d);L&&(T=L)}m&&(x==="number"||S!=="auto")&&(k=Wf(E,b,"category"))}else m?T=$g(0,O):l&&l[P]&&l[P].hasStack&&x==="number"?T=h==="expand"?[0,1]:A4(l[P].stackGroups,c,u):T=S4(E,a.filter(function(X){var ne=o in X.props?X.props[o]:X.type.defaultProps[o],z="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ne===P&&(N||!z)}),x,d,!0);if(x==="number")T=e_(f,T,P,i,C),M&&(T=m1(M,T,_));else if(x==="category"&&M){var B=M,Q=T.every(function(X){return B.indexOf(X)>=0});Q&&(T=B)}}return ce(ce({},y),{},Xe({},P,ce(ce({},g),{},{axisType:i,domain:T,categoricalDomain:k,duplicateDomain:A,originalDomain:(v=g.domain)!==null&&v!==void 0?v:$,isCategorical:m,layout:d})))},{})},D_e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=C4(d,i),p=-1;return n.reduce(function(v,g){var x=g.type.defaultProps!==void 0?ce(ce({},g.type.defaultProps),g.props):g.props,b=x[o],_=ZF("number");if(!v[b]){p++;var j;return y?j=$g(0,m):l&&l[b]&&l[b].hasStack?(j=A4(l[b].stackGroups,c,u),j=e_(f,j,b,i)):(j=m1(_,S4(h,n.filter(function(S){var C,N,P=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],E="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===b&&!E}),"number",d),a.defaultProps.allowDataOverflow),j=e_(f,j,b,i)),ce(ce({},v),{},Xe({},b,ce(ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:oa(T_e,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:y,layout:d})))}return v},{})},L_e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Tn(d,i),m={};return h&&h.length?m=I_e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=D_e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},F_e=function(t){var r=qs(t),n=as(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},n2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Zn(r,Hu),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},B_e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ls(r&&r.type);return n&&n.indexOf("Bar")>=0})},a2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},z_e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Zn(f,Hu),y=Zn(f,on),p=Object.keys(c).reduce(function(j,S){var C=c[S],N=C.orientation;return!C.mirror&&!C.hide?ce(ce({},j),{},Xe({},N,j[N]+C.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,S){var C=o[S],N=C.orientation;return!C.mirror&&!C.hide?ce(ce({},j),{},Xe({},N,oa(j,"".concat(N))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),g=ce(ce({},v),p),x=g.bottom;m&&(g.bottom+=m.props.height||Hu.defaultProps.height),y&&r&&(g=Ape(g,a,n,r));var b=u-g.left-g.right,_=d-g.top-g.bottom;return ce(ce({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(_,0)})},U_e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Dm=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,x){var b=x.graphicalItems,_=x.stackGroups,j=x.offset,S=x.updateId,C=x.dataStartIndex,N=x.dataEndIndex,P=g.barSize,E=g.layout,O=g.barGap,T=g.barCategoryGap,A=g.maxBarSize,k=a2(E),$=k.numericAxisName,D=k.cateAxisName,M=B_e(b),I=[];return b.forEach(function(L,B){var Q=Yx(g.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:N}),X=L.type.defaultProps!==void 0?ce(ce({},L.type.defaultProps),L.props):L.props,ne=X.dataKey,z=X.maxBarSize,U=X["".concat($,"Id")],H=X["".concat(D,"Id")],q={},J=c.reduce(function(G,re){var xe=x["".concat(re.axisType,"Map")],be=X["".concat(re.axisType,"Id")];xe&&xe[be]||re.axisType==="zAxis"||Ll();var oe=xe[be];return ce(ce({},G),{},Xe(Xe({},re.axisType,oe),"".concat(re.axisType,"Ticks"),as(oe)))},q),Z=J[D],te=J["".concat(D,"Ticks")],V=_&&_[U]&&_[U].hasStack&&zpe(L,_[U].stackGroups),K=ls(L.type).indexOf("Bar")>=0,he=jg(Z,te),_e=[],ze=M&&kpe({barSize:P,stackGroups:_,totalSize:U_e(J,D)});if(K){var Ye,et,ht=Ke(z)?A:z,Tt=(Ye=(et=jg(Z,te,!0))!==null&&et!==void 0?et:ht)!==null&&Ye!==void 0?Ye:0;_e=Epe({barGap:O,barCategoryGap:T,bandSize:Tt!==he?Tt:he,sizeList:ze[H],maxBarSize:ht}),Tt!==he&&(_e=_e.map(function(G){return ce(ce({},G),{},{position:ce(ce({},G.position),{},{offset:G.position.offset-Tt/2})})}))}var F=L&&L.type&&L.type.getComposedData;F&&I.push({props:ce(ce({},F(ce(ce({},J),{},{displayedData:Q,props:g,dataKey:ne,item:L,bandSize:he,barPosition:_e,offset:j,stackedData:V,layout:E,dataStartIndex:C,dataEndIndex:N}))),{},Xe(Xe(Xe({key:L.key||"item-".concat(B)},$,J[$]),D,J[D]),"animationId",S)),childIndex:Eee(L,g.children),item:L})}),I},m=function(g,x){var b=g.props,_=g.dataStartIndex,j=g.dataEndIndex,S=g.updateId;if(!mE({props:b}))return null;var C=b.children,N=b.layout,P=b.stackOffset,E=b.data,O=b.reverseStackOrder,T=a2(N),A=T.numericAxisName,k=T.cateAxisName,$=Tn(C,n),D=Fpe(E,$,"".concat(A,"Id"),"".concat(k,"Id"),P,O),M=c.reduce(function(X,ne){var z="".concat(ne.axisType,"Map");return ce(ce({},X),{},Xe({},z,L_e(b,ce(ce({},ne),{},{graphicalItems:$,stackGroups:ne.axisType===A&&D,dataStartIndex:_,dataEndIndex:j}))))},{}),I=z_e(ce(ce({},M),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(X){M[X]=d(b,M[X],I,X.replace("Map",""),r)});var L=M["".concat(k,"Map")],B=F_e(L),Q=h(b,ce(ce({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:$,stackGroups:D,offset:I}));return ce(ce({formattedGraphicalItems:Q,graphicalItems:$,offset:I,stackGroups:D},B),M)},y=function(v){function g(x){var b,_,j;return w_e(this,g),j=S_e(this,g,[x]),Xe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(j,"accessibilityManager",new o_e),Xe(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,N=C.dataStartIndex,P=C.dataEndIndex,E=C.updateId;j.setState(ce({legendBBox:S},m({props:j.props,dataStartIndex:N,dataEndIndex:P,updateId:E},ce(ce({},j.state),{},{legendBBox:S}))))}}),Xe(j,"handleReceiveSyncEvent",function(S,C,N){if(j.props.syncId===S){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Xe(j,"handleBrushChange",function(S){var C=S.startIndex,N=S.endIndex;if(C!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var P=j.state.updateId;j.setState(function(){return ce({dataStartIndex:C,dataEndIndex:N},m({props:j.props,dataStartIndex:C,dataEndIndex:N,updateId:P},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),Xe(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var N=ce(ce({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var P=j.props.onMouseEnter;Ge(P)&&P(N,S)}}),Xe(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),N=C?ce(ce({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var P=j.props.onMouseMove;Ge(P)&&P(N,S)}),Xe(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Xe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Xe(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Xe(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var N=j.props.onMouseLeave;Ge(N)&&N(C,S)}),Xe(j,"handleOuterEvent",function(S){var C=kee(S),N=oa(j.props,"".concat(C));if(C&&Ge(N)){var P,E;/.*touch.*/i.test(C)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),N((P=E)!==null&&P!==void 0?P:{},S)}}),Xe(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var N=ce(ce({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var P=j.props.onClick;Ge(P)&&P(N,S)}}),Xe(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(Ge(C)){var N=j.getMouseInfo(S);C(N,S)}}),Xe(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(Ge(C)){var N=j.getMouseInfo(S);C(N,S)}}),Xe(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Xe(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Xe(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Xe(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(Ge(C)){var N=j.getMouseInfo(S);C(N,S)}}),Xe(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(Ge(C)){var N=j.getMouseInfo(S);C(N,S)}}),Xe(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Ab.emit(Ob,j.props.syncId,S,j.eventEmitterSymbol)}),Xe(j,"applySyncEvent",function(S){var C=j.props,N=C.layout,P=C.syncMethod,E=j.state.updateId,O=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ce({dataStartIndex:O,dataEndIndex:T},m({props:j.props,dataStartIndex:O,dataEndIndex:T,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var A=S.chartX,k=S.chartY,$=S.activeTooltipIndex,D=j.state,M=D.offset,I=D.tooltipTicks;if(!M)return;if(typeof P=="function")$=P(I,S);else if(P==="value"){$=-1;for(var L=0;L<I.length;L++)if(I[L].value===S.activeLabel){$=L;break}}var B=ce(ce({},M),{},{x:M.left,y:M.top}),Q=Math.min(A,B.x+B.width),X=Math.min(k,B.y+B.height),ne=I[$]&&I[$].value,z=n_(j.state,j.props.data,$),U=I[$]?{x:N==="horizontal"?I[$].coordinate:Q,y:N==="horizontal"?X:I[$].coordinate}:JF;j.setState(ce(ce({},S),{},{activeLabel:ne,activeCoordinate:U,activePayload:z,activeTooltipIndex:$}))}else j.setState(S)}),Xe(j,"renderCursor",function(S){var C,N=j.state,P=N.isTooltipActive,E=N.activeCoordinate,O=N.activePayload,T=N.offset,A=N.activeTooltipIndex,k=N.tooltipAxisBandSize,$=j.getTooltipEventType(),D=(C=S.props.active)!==null&&C!==void 0?C:P,M=j.props.layout,I=S.key||"_recharts-cursor";return R.createElement(m_e,{key:I,activeCoordinate:E,activePayload:O,activeTooltipIndex:A,chartName:r,element:S,isActive:D,layout:M,offset:T,tooltipAxisBandSize:k,tooltipEventType:$})}),Xe(j,"renderPolarAxis",function(S,C,N){var P=oa(S,"type.axisType"),E=oa(j.state,"".concat(P,"Map")),O=S.type.defaultProps,T=O!==void 0?ce(ce({},O),S.props):S.props,A=E&&E[T["".concat(P,"Id")]];return w.cloneElement(S,ce(ce({},A),{},{className:tt(P,A.className),key:S.key||"".concat(C,"-").concat(N),ticks:as(A,!0)}))}),Xe(j,"renderPolarGrid",function(S){var C=S.props,N=C.radialLines,P=C.polarAngles,E=C.polarRadius,O=j.state,T=O.radiusAxisMap,A=O.angleAxisMap,k=qs(T),$=qs(A),D=$.cx,M=$.cy,I=$.innerRadius,L=$.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(P)?P:as($,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(E)?E:as(k,!0).map(function(B){return B.coordinate}),cx:D,cy:M,innerRadius:I,outerRadius:L,key:S.key||"polar-grid",radialLines:N})}),Xe(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,N=C.children,P=C.width,E=C.height,O=j.props.margin||{},T=P-(O.left||0)-(O.right||0),A=j4({children:N,formattedGraphicalItems:S,legendWidth:T,legendContent:u});if(!A)return null;var k=A.item,$=e2(A,p_e);return w.cloneElement(k,ce(ce({},$),{},{chartWidth:P,chartHeight:E,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Xe(j,"renderTooltip",function(){var S,C=j.props,N=C.children,P=C.accessibilityLayer,E=Zn(N,Ht);if(!E)return null;var O=j.state,T=O.isTooltipActive,A=O.activeCoordinate,k=O.activePayload,$=O.activeLabel,D=O.offset,M=(S=E.props.active)!==null&&S!==void 0?S:T;return w.cloneElement(E,{viewBox:ce(ce({},D),{},{x:D.left,y:D.top}),active:M,label:$,payload:M?k:[],coordinate:A,accessibilityLayer:P})}),Xe(j,"renderBrush",function(S){var C=j.props,N=C.margin,P=C.data,E=j.state,O=E.offset,T=E.dataStartIndex,A=E.dataEndIndex,k=E.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Np(j.handleBrushChange,S.props.onChange),data:P,x:pe(S.props.x)?S.props.x:O.left,y:pe(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(N.bottom||0),width:pe(S.props.width)?S.props.width:O.width,startIndex:T,endIndex:A,updateId:"brush-".concat(k)})}),Xe(j,"renderReferenceElement",function(S,C,N){if(!S)return null;var P=j,E=P.clipPathId,O=j.state,T=O.xAxisMap,A=O.yAxisMap,k=O.offset,$=S.type.defaultProps||{},D=S.props,M=D.xAxisId,I=M===void 0?$.xAxisId:M,L=D.yAxisId,B=L===void 0?$.yAxisId:L;return w.cloneElement(S,{key:S.key||"".concat(C,"-").concat(N),xAxis:T[I],yAxis:A[B],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:E})}),Xe(j,"renderActivePoints",function(S){var C=S.item,N=S.activePoint,P=S.basePoint,E=S.childIndex,O=S.isRange,T=[],A=C.props.key,k=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,$=k.activeDot,D=k.dataKey,M=ce(ce({index:E,dataKey:D,cx:N.x,cy:N.y,r:4,fill:KC(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Le($,!1)),Yv($));return T.push(g.renderActiveDot($,M,"".concat(A,"-activePoint-").concat(E))),P?T.push(g.renderActiveDot($,ce(ce({},M),{},{cx:P.x,cy:P.y}),"".concat(A,"-basePoint-").concat(E))):O&&T.push(null),T}),Xe(j,"renderGraphicChild",function(S,C,N){var P=j.filterFormatItem(S,C,N);if(!P)return null;var E=j.getTooltipEventType(),O=j.state,T=O.isTooltipActive,A=O.tooltipAxis,k=O.activeTooltipIndex,$=O.activeLabel,D=j.props.children,M=Zn(D,Ht),I=P.props,L=I.points,B=I.isRange,Q=I.baseLine,X=P.item.type.defaultProps!==void 0?ce(ce({},P.item.type.defaultProps),P.item.props):P.item.props,ne=X.activeDot,z=X.hide,U=X.activeBar,H=X.activeShape,q=!!(!z&&T&&M&&(ne||U||H)),J={};E!=="axis"&&M&&M.props.trigger==="click"?J={onClick:Np(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(J={onMouseLeave:Np(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Np(j.handleItemMouseEnter,S.props.onMouseEnter)});var Z=w.cloneElement(S,ce(ce({},P.props),J));function te(re){return typeof A.dataKey=="function"?A.dataKey(re.payload):null}if(q)if(k>=0){var V,K;if(A.dataKey&&!A.allowDuplicatedCategory){var he=typeof A.dataKey=="function"?te:"payload.".concat(A.dataKey.toString());V=Gv(L,he,$),K=B&&Q&&Gv(Q,he,$)}else V=L==null?void 0:L[k],K=B&&Q&&Q[k];if(H||U){var _e=S.props.activeIndex!==void 0?S.props.activeIndex:k;return[w.cloneElement(S,ce(ce(ce({},P.props),J),{},{activeIndex:_e})),null,null]}if(!Ke(V))return[Z].concat(ad(j.renderActivePoints({item:P,activePoint:V,basePoint:K,childIndex:k,isRange:B})))}else{var ze,Ye=(ze=j.getItemByXY(j.state.activeCoordinate))!==null&&ze!==void 0?ze:{graphicalItem:Z},et=Ye.graphicalItem,ht=et.item,Tt=ht===void 0?S:ht,F=et.childIndex,G=ce(ce(ce({},P.props),J),{},{activeIndex:F});return[w.cloneElement(Tt,G),null,null]}return B?[Z,null,null]:[Z,null]}),Xe(j,"renderCustomized",function(S,C,N){return w.cloneElement(S,ce(ce({key:"recharts-customized-".concat(N)},j.props),j.state))}),Xe(j,"renderMap",{CartesianGrid:{handler:Op,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Op},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Op},YAxis:{handler:Op},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Mo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=wL(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return P_e(g,v),__e(g,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,C=b.layout,N=Zn(_,Ht);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=n_(this.state,j,P,E),T=this.state.tooltipTicks[P].coordinate,A=(this.state.offset.top+S)/2,k=C==="horizontal",$=k?{x:T,y:A}:{y:T,x:A},D=this.state.formattedGraphicalItems.find(function(I){var L=I.item;return L.type.name==="Scatter"});D&&($=ce(ce({},$),D.props.points[P].tooltipPosition),O=D.props.points[P].tooltipPayload);var M={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:$};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Ej([Zn(b.children,Ht)],[Zn(this.props.children,Ht)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Zn(this.props.children,Ht);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=tde(j),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},N=j.width/_.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,N);if(!P)return null;var E=this.state,O=E.xAxisMap,T=E.yAxisMap,A=this.getTooltipEventType(),k=r2(this.state,this.props.data,this.props.layout,P);if(A!=="axis"&&O&&T){var $=qs(O).scale,D=qs(T).scale,M=$&&$.invert?$.invert(C.chartX):null,I=D&&D.invert?D.invert(C.chartY):null;return ce(ce({},C),{},{xValue:M,yValue:I},k)}return k?ce(ce({},C),k):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/j,N=_/j;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,E=C>=P.left&&C<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return E?{x:C,y:N}:null}var O=this.state,T=O.angleAxisMap,A=O.radiusAxisMap;if(T&&A){var k=qs(T);return _O({x:C,y:N},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=Zn(b,Ht),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Yv(this.props,this.handleOuterEvent);return ce(ce({},C),S)}},{key:"addListener",value:function(){Ab.on(Ob,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ab.removeListener(Ob,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,C=0,N=S.length;C<N;C++){var P=S[C];if(P.item===b||P.props.key===b.key||_===ls(P.item.type)&&j===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,C=_.height,N=_.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:j,y:S,height:C,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ZT(j,2),C=S[0],N=S[1];return ce(ce({},_),{},Xe({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ZT(j,2),C=S[0],N=S[1];return ce(ce({},_),{},Xe({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var C=0,N=j.length;C<N;C++){var P=j[C],E=P.props,O=P.item,T=O.type.defaultProps!==void 0?ce(ce({},O.type.defaultProps),O.props):O.props,A=ls(O.type);if(A==="Bar"){var k=(E.data||[]).find(function(I){return Dye(b,I)});if(k)return{graphicalItem:P,payload:k}}else if(A==="RadialBar"){var $=(E.data||[]).find(function(I){return _O(b,I)});if($)return{graphicalItem:P,payload:$}}else if(Lx(P,S)||Fx(P,S)||lm(P,S)){var D=C0e({graphicalItem:P,activeTooltipItem:S,itemData:T.data}),M=T.activeIndex===void 0?D:T.activeIndex;return{graphicalItem:ce(ce({},P),{},{childIndex:M}),payload:lm(P,S)?T.data[D]:P.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!mE(this))return null;var _=this.props,j=_.children,S=_.className,C=_.width,N=_.height,P=_.style,E=_.compact,O=_.title,T=_.desc,A=e2(_,v_e),k=Le(A,!1);if(E)return R.createElement(OT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Oj,Hc({},k,{width:C,height:N,title:O,desc:T}),this.renderClipPath(),vE(j,this.renderMap)));if(this.props.accessibilityLayer){var $,D;k.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,k.role=(D=this.props.role)!==null&&D!==void 0?D:"application",k.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},k.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return R.createElement(OT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Hc({className:tt("recharts-wrapper",S),style:ce({position:"relative",cursor:"default",width:C,height:N},P)},M,{ref:function(L){b.container=L}}),R.createElement(Oj,Hc({},k,{width:C,height:N,title:O,desc:T,style:R_e}),this.renderClipPath(),vE(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Xe(y,"displayName",r),Xe(y,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Xe(y,"getDerivedStateFromProps",function(v,g){var x=v.dataKey,b=v.data,_=v.children,j=v.width,S=v.height,C=v.layout,N=v.stackOffset,P=v.margin,E=g.dataStartIndex,O=g.dataEndIndex;if(g.updateId===void 0){var T=n2(v);return ce(ce(ce({},T),{},{updateId:0},m(ce(ce({props:v},T),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(x!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||S!==g.prevHeight||C!==g.prevLayout||N!==g.prevStackOffset||!ru(P,g.prevMargin)){var A=n2(v),k={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},$=ce(ce({},r2(g,b,C)),{},{updateId:g.updateId+1}),D=ce(ce(ce({},A),k),$);return ce(ce(ce({},D),m(ce({props:v},D),g)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(!Ej(_,g.prevChildren)){var M,I,L,B,Q=Zn(_,Hu),X=Q&&(M=(I=Q.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:E,ne=Q&&(L=(B=Q.props)===null||B===void 0?void 0:B.endIndex)!==null&&L!==void 0?L:O,z=X!==E||ne!==O,U=!Ke(b),H=U&&!z?g.updateId:g.updateId+1;return ce(ce({updateId:H},m(ce(ce({props:v},g),{},{updateId:H,dataStartIndex:X,dataEndIndex:ne}),g)),{},{prevChildren:_,dataStartIndex:X,dataEndIndex:ne})}return null}),Xe(y,"renderActiveDot",function(v,g,x){var b;return w.isValidElement(v)?b=w.cloneElement(v,g):Ge(v)?b=v(g):b=R.createElement(Im,g),R.createElement(ot,{className:"recharts-active-dot",key:x},b)});var p=w.forwardRef(function(g,x){return R.createElement(y,Hc({},g,{ref:x}))});return p.displayName=y.displayName,p},eB=Dm({chartName:"LineChart",GraphicalChild:Un,axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:zx}),ec=Dm({chartName:"BarChart",GraphicalChild:kr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:zx}),V_e=Dm({chartName:"PieChart",GraphicalChild:ks,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Dx},{axisType:"radiusAxis",AxisComp:$x}],formatAxisMap:Qpe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tB=Dm({chartName:"AreaChart",GraphicalChild:la,axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:zx}),Lm=Dm({chartName:"ComposedChart",GraphicalChild:[Un,la,kr,Gx],axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr},{axisType:"zAxis",AxisComp:Kx}],formatAxisMap:zx});function W_e({products:e,years:t}){const r=t.map(a=>{const i={year:a};return e.forEach(o=>{const l=o.volumesByYear[a]||0;i[o.name]=l*o.priceHT/1e3}),i}),n=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)"];return s.jsx(He,{title:"CA par Produit",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:r,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:a=>`${a}k`}),s.jsx(Ht,{formatter:a=>`${a.toFixed(0)}k`}),s.jsx(on,{}),e.map((a,i)=>s.jsx(kr,{dataKey:a.name,stackId:"a",fill:n[i%n.length]},a.id))]})})})})}function qd({pageTitle:e,fileName:t}){const r=()=>{window.print()};return s.jsxs(se,{variant:"outline",size:"sm",onClick:r,children:[s.jsx($y,{className:"h-4 w-4 mr-1"}),"PDF"]})}const H_e=w.createContext(!1);function Ui({children:e,tabKey:t}){const{getTabPermission:r}=Aa(),a=r(t)==="read";return s.jsx(H_e.Provider,{value:a,children:s.jsxs("div",{className:a?"read-only-mode":"",children:[a&&s.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}const q_e=gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...r}){return s.jsx("div",{className:ie(q_e({variant:t}),e),...r})}var Rb="rovingFocusGroup.onEntryFocus",K_e={bubbles:!1,cancelable:!0},Fm="RovingFocusGroup",[a_,rB,G_e]=Ty(Fm),[Y_e,Xx]=$n(Fm,[G_e]),[X_e,Q_e]=Y_e(Fm),nB=w.forwardRef((e,t)=>s.jsx(a_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(a_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(J_e,{...e,ref:t})})}));nB.displayName=Fm;var J_e=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=rt(t,h),y=Nd(i),[p,v]=qn({prop:o,defaultProp:l??null,onChange:c,caller:Fm}),[g,x]=w.useState(!1),b=Ur(u),_=rB(r),j=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Rb,b),()=>N.removeEventListener(Rb,b)},[b]),s.jsx(X_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:p,onItemFocus:w.useCallback(N=>v(N),[v]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:w.useCallback(()=>C(N=>N-1),[]),children:s.jsx(Fe.div,{tabIndex:g||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{j.current=!0}),onFocus:Ee(e.onFocus,N=>{const P=!j.current;if(N.target===N.currentTarget&&P&&!g){const E=new CustomEvent(Rb,K_e);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const O=_().filter(D=>D.focusable),T=O.find(D=>D.active),A=O.find(D=>D.id===p),$=[T,A,...O].filter(Boolean).map(D=>D.ref.current);sB($,d)}}j.current=!1}),onBlur:Ee(e.onBlur,()=>x(!1))})})}),aB="RovingFocusGroupItem",iB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ei(),u=i||c,d=Q_e(aB,r),f=d.currentTabStopId===u,h=rB(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:p}=d;return w.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),s.jsx(a_.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Fe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=tSe(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?rSe(b,_+1):b.slice(_+1)}setTimeout(()=>sB(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});iB.displayName=aB;var Z_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tSe(e,t,r){const n=eSe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Z_e[n]}function sB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function rSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oB=nB,lB=iB,Qx="Tabs",[nSe,BOe]=$n(Qx,[Xx]),cB=Xx(),[aSe,nN]=nSe(Qx),uB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Nd(l),[f,h]=qn({prop:n,onChange:a,defaultProp:i??"",caller:Qx});return s.jsx(aSe,{scope:r,baseId:Ei(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Fe.div,{dir:d,"data-orientation":o,...u,ref:t})})});uB.displayName=Qx;var dB="TabsList",fB=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=nN(dB,r),o=cB(r);return s.jsx(oB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});fB.displayName=dB;var hB="TabsTrigger",mB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=nN(hB,r),l=cB(r),c=gB(o.baseId,n),u=yB(o.baseId,n),d=n===o.value;return s.jsx(lB,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});mB.displayName=hB;var pB="TabsContent",vB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=nN(pB,r),c=gB(l.baseId,n),u=yB(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Kn,{present:a||d,children:({present:h})=>s.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});vB.displayName=pB;function gB(e,t){return`${e}-trigger-${t}`}function yB(e,t){return`${e}-content-${t}`}var iSe=uB,xB=fB,bB=mB,wB=vB;const Ra=iSe,ha=w.forwardRef(({className:e,...t},r)=>s.jsx(xB,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ha.displayName=xB.displayName;const bt=w.forwardRef(({className:e,...t},r)=>s.jsx(bB,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));bt.displayName=bB.displayName;const Nt=w.forwardRef(({className:e,...t},r)=>s.jsx(wB,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=wB.displayName;const sSe=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function oSe(){var x;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:o,updateGlobalRevenueConfig:l}=Fi(),c=e.scenarioSettings,u=Array.from({length:c.durationYears},(b,_)=>c.startYear+_),d=b=>{n(b)},f=b=>{const _=e.products.map(j=>j.id===b.id?b:j);r(_)},h=(b,_,j)=>{const S=e.products.map(C=>C.id!==b?C:{...C,volumesByYear:{...C.volumesByYear,[_]:j}});r(S)},m=t.totalDevCost,y=u[u.length-1],p=((x=t.revenueByYear.find(b=>b.year===y))==null?void 0:x.revenue)||0,v=t.revenueByYear.length>0?t.revenueByYear.reduce((b,_)=>b+(_.revenue>0?(_.revenue-_.cogs)/_.revenue:0),0)/t.revenueByYear.length:0,g=u.map(b=>{const _=t.revenueByYear.find(j=>j.year===b);return{year:b,revenue:((_==null?void 0:_.revenue)||0)/1e3,cogs:((_==null?void 0:_.cogs)||0)/1e3,margin:(((_==null?void 0:_.revenue)||0)-((_==null?void 0:_.cogs)||0))/1e3}});return s.jsx(Ui,{tabKey:"product-plan",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(se,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>o("by-product"),children:[s.jsx(yI,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),s.jsxs(se,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>o("by-channel-global"),children:[s.jsx(Rv,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Dtail produits":"Global canaux"}),s.jsx(qd,{pageTitle:"Plan Produit",sections:sSe,fileName:"Plan_Produit"}),s.jsx(Ad,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(pt,{label:"Investissement R&D",value:ee(m,!0),subValue:`${e.products.filter(b=>b.devCost>0).length} produits`}),s.jsx(pt,{label:`CA ${y}`,value:ee(p,!0),subValue:"Projection",trend:"up"}),s.jsx(pt,{label:"Marge Brute Moy.",value:Wr(v),subValue:"Sur la priode"}),s.jsx(pt,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),s.jsx("div",{id:"product-revenue-chart",children:s.jsx(He,{title:"Projection du Chiffre d'Affaires",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:g,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:b=>`${b}k`}),s.jsx(Ht,{formatter:b=>`${b.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(kr,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),s.jsx(kr,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),s.jsxs(Ra,{defaultValue:"visualization",className:"space-y-4",children:[s.jsxs(ha,{children:[s.jsxs(bt,{value:"visualization",children:[s.jsx(mW,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),s.jsxs(bt,{value:"pricing",children:[s.jsx(Av,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),s.jsxs(bt,{value:"volumes",children:[s.jsx(Rl,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&s.jsx(Nt,{value:"visualization",children:s.jsx(KK,{config:e.globalRevenueConfig,onChange:l,years:u})}),e.revenueMode==="by-product"&&s.jsx(Nt,{value:"visualization",children:s.jsx("div",{id:"product-revenue-viz",children:s.jsx(W_e,{products:e.products,years:u})})}),s.jsx(Nt,{value:"pricing",children:e.revenueMode==="by-product"?s.jsx("div",{id:"product-pricing",children:s.jsx($X,{products:e.products,onUpdateProduct:f,onAddProduct:d,onRemoveProduct:a})}):s.jsx(He,{title:"Pricing Produits",children:s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Rv,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),s.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,s.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),s.jsx(Nt,{value:"volumes",children:s.jsx("div",{id:"product-volumes",children:s.jsxs(He,{title:"Volumes par Anne",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Saisissez les volumes de vente prvisionnels par produit et par anne."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Produit"}),s.jsx(le,{className:"text-right",children:"Cot Unit."}),u.map(b=>s.jsx(le,{className:"text-center",children:b},b)),s.jsx(le,{className:"text-right",children:"CA Total"})]})}),s.jsx(Xt,{children:e.products.map(b=>{const _=u.reduce((j,S)=>{const C=b.volumesByYear[S]||0;return j+C*b.priceHT},0);return s.jsxs(Ne,{children:[s.jsxs(Y,{children:[s.jsx("div",{className:"font-medium",children:b.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lancement: ",b.launchYear]})]}),s.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b.unitCost)}),u.map(j=>s.jsx(Y,{className:"text-center",children:j>=b.launchYear?s.jsx(je,{type:"number",value:b.volumesByYear[j]||0,onChange:S=>h(b.id,j,Number(S.target.value)),className:"h-8 w-20 mx-auto text-center"}):s.jsx("span",{className:"text-muted-foreground",children:"-"})},j)),s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(_,!0)})]},b.id)})})]})})]})})})]})]})})}const lSe=["R&D","Production","Sales","Support","Admin"];function cSe({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:lSe.map(a=>{const i=e.filter(o=>o.department===a);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Te,{variant:"outline",children:a}),s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>n(a),children:s.jsx(xr,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"space-y-2",children:i.map(o=>s.jsx(Ct,{className:"bg-muted/30",children:s.jsxs(Et,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium",children:o.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.startYear,"  ",(o.annualCostLoaded/1e3).toFixed(0),"k"]}),s.jsxs("div",{className:"flex gap-1 mt-2",children:[s.jsx(se,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(o),children:s.jsx(SS,{className:"h-3 w-3"})}),s.jsx(se,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(o.id),children:s.jsx(Ir,{className:"h-3 w-3"})})]})]})},o.id))})]},a)})})}var jB="Toggle",aN=w.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=qn({prop:r,onChange:a,defaultProp:n??!1,caller:jB});return s.jsx(Fe.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Ee(e.onClick,()=>{e.disabled||l(!o)})})});aN.displayName=jB;var _B=aN,Lo="ToggleGroup",[SB,zOe]=$n(Lo,[Xx]),CB=Xx(),iN=R.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(uSe,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(dSe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Lo}\``)});iN.displayName=Lo;var[NB,PB]=SB(Lo),uSe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=qn({prop:r,defaultProp:n??"",onChange:a,caller:Lo});return s.jsx(NB,{scope:e.__scopeToggleGroup,type:"single",value:R.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:R.useCallback(()=>l(""),[l]),children:s.jsx(kB,{...i,ref:t})})}),dSe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=qn({prop:r,defaultProp:n??[],onChange:a,caller:Lo}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(NB,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(kB,{...i,ref:t})})});iN.displayName=Lo;var[fSe,hSe]=SB(Lo),kB=R.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=CB(r),d=Nd(o),f={role:"group",dir:d,...c};return s.jsx(fSe,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(oB,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:s.jsx(Fe.div,{...f,ref:t})}):s.jsx(Fe.div,{...f,ref:t})})}),Jg="ToggleGroupItem",EB=R.forwardRef((e,t)=>{const r=PB(Jg,e.__scopeToggleGroup),n=hSe(Jg,e.__scopeToggleGroup),a=CB(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=R.useRef(null);return n.rovingFocus?s.jsx(lB,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(i2,{...l,ref:t})}):s.jsx(i2,{...l,ref:t})});EB.displayName=Jg;var i2=R.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=PB(Jg,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(aN,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),AB=iN,OB=EB;const TB=gd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),mSe=w.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(_B,{ref:a,className:ie(TB({variant:t,size:r,className:e})),...n}));mSe.displayName=_B.displayName;const RB=w.createContext({size:"default",variant:"default"}),Jx=w.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(AB,{ref:i,className:ie("flex items-center justify-center gap-1",e),...a,children:s.jsx(RB.Provider,{value:{variant:t,size:r},children:n})}));Jx.displayName=AB.displayName;const Bl=w.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=w.useContext(RB);return s.jsx(OB,{ref:i,className:ie(TB({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});Bl.displayName=OB.displayName;var Mb=0;function sN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??s2()),document.body.insertAdjacentElement("beforeend",e[1]??s2()),Mb++,()=>{Mb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mb--}},[])}function s2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $b="focusScope.autoFocusOnMount",Ib="focusScope.autoFocusOnUnmount",o2={bubbles:!1,cancelable:!0},pSe="FocusScope",Zx=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=w.useState(null),u=Ur(a),d=Ur(i),f=w.useRef(null),h=rt(t,p=>c(p)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ds(f.current,{select:!0})},v=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ds(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Ds(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),w.useEffect(()=>{if(l){c2.add(m);const p=document.activeElement;if(!l.contains(p)){const g=new CustomEvent($b,o2);l.addEventListener($b,u),l.dispatchEvent(g),g.defaultPrevented||(vSe(wSe(MB(l)),{select:!0}),document.activeElement===p&&Ds(l))}return()=>{l.removeEventListener($b,u),setTimeout(()=>{const g=new CustomEvent(Ib,o2);l.addEventListener(Ib,d),l.dispatchEvent(g),g.defaultPrevented||Ds(p??document.body,{select:!0}),l.removeEventListener(Ib,d),c2.remove(m)},0)}}},[l,u,d,m]);const y=w.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(v&&g){const x=p.currentTarget,[b,_]=gSe(x);b&&_?!p.shiftKey&&g===_?(p.preventDefault(),r&&Ds(b,{select:!0})):p.shiftKey&&g===b&&(p.preventDefault(),r&&Ds(_,{select:!0})):g===x&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Zx.displayName=pSe;function vSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ds(n,{select:t}),document.activeElement!==r)return}function gSe(e){const t=MB(e),r=l2(t,e),n=l2(t.reverse(),e);return[r,n]}function MB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function l2(e,t){for(const r of e)if(!ySe(r,{upTo:t}))return r}function ySe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xSe(e){return e instanceof HTMLInputElement&&"select"in e}function Ds(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xSe(e)&&t&&e.select()}}var c2=bSe();function bSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=u2(e,t),e.unshift(t)},remove(t){var r;e=u2(e,t),(r=e[0])==null||r.resume()}}}function u2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wSe(e){return e.filter(t=>t.tagName!=="A")}var jSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fc=new WeakMap,Tp=new WeakMap,Rp={},Db=0,$B=function(e){return e&&(e.host||$B(e.parentNode))},_Se=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$B(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},SSe=function(e,t,r,n){var a=_Se(t,Array.isArray(e)?e:[e]);Rp[r]||(Rp[r]=new WeakMap);var i=Rp[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",p=(fc.get(h)||0)+1,v=(i.get(h)||0)+1;fc.set(h,p),i.set(h,v),o.push(h),p===1&&y&&Tp.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),Db++,function(){o.forEach(function(f){var h=fc.get(f)-1,m=i.get(f)-1;fc.set(f,h),i.set(f,m),h||(Tp.has(f)||f.removeAttribute(n),Tp.delete(f)),m||f.removeAttribute(r)}),Db--,Db||(fc=new WeakMap,fc=new WeakMap,Tp=new WeakMap,Rp={})}},oN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=jSe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),SSe(n,a,r,"aria-hidden")):function(){return null}},nv="right-scroll-bar-position",av="width-before-scroll-bar",CSe="with-scroll-bars-hidden",NSe="--removed-body-scroll-bar-size";function Lb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PSe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var kSe=typeof window<"u"?w.useLayoutEffect:w.useEffect,d2=new WeakMap;function ESe(e,t){var r=PSe(null,function(n){return e.forEach(function(a){return Lb(a,n)})});return kSe(function(){var n=d2.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Lb(l,null)}),i.forEach(function(l){a.has(l)||Lb(l,o)})}d2.set(r,e)},[e]),r}function ASe(e){return e}function OSe(e,t){t===void 0&&(t=ASe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function TSe(e){e===void 0&&(e={});var t=OSe(null);return t.options=bi({async:!0,ssr:!1},e),t}var IB=function(e){var t=e.sideCar,r=kd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,bi({},r))};IB.isSideCarExport=!0;function RSe(e,t){return e.useMedium(t),IB}var DB=TSe(),Fb=function(){},e0=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Fb,onWheelCapture:Fb,onTouchMoveCapture:Fb}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,p=e.inert,v=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,_=kd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=ESe([r,t]),C=bi(bi({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:DB,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),o?w.cloneElement(w.Children.only(l),bi(bi({},C),{ref:S})):w.createElement(x,bi({},C,{className:c,ref:S}),l))});e0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};e0.classNames={fullWidth:av,zeroRight:nv};var MSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $Se(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=MSe();return t&&e.setAttribute("nonce",t),e}function ISe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$Se())&&(ISe(t,r),DSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},FSe=function(){var e=LSe();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},LB=function(){var e=FSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},BSe={left:0,top:0,right:0,gap:0},Bb=function(e){return parseInt(e||"",10)||0},zSe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Bb(r),Bb(n),Bb(a)]},USe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BSe;var t=zSe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VSe=LB(),iu="data-scroll-locked",WSe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(CSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(av,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(av," .").concat(av,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(NSe,": ").concat(l,`px;
  }
`)},f2=function(){var e=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(e)?e:0},HSe=function(){w.useEffect(function(){return document.body.setAttribute(iu,(f2()+1).toString()),function(){var e=f2()-1;e<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,e.toString())}},[])},qSe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;HSe();var i=w.useMemo(function(){return USe(a)},[a]);return w.createElement(VSe,{styles:WSe(i,!t,a,r?"":"!important")})},i_=!1;if(typeof window<"u")try{var Mp=Object.defineProperty({},"passive",{get:function(){return i_=!0,!0}});window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch{i_=!1}var hc=i_?{passive:!1}:!1,KSe=function(e){return e.tagName==="TEXTAREA"},FB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!KSe(e)&&r[t]==="visible")},GSe=function(e){return FB(e,"overflowY")},YSe=function(e){return FB(e,"overflowX")},h2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=BB(e,n);if(a){var i=zB(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},XSe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},QSe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},BB=function(e,t){return e==="v"?GSe(t):YSe(t)},zB=function(e,t){return e==="v"?XSe(t):QSe(t)},JSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ZSe=function(e,t,r,n,a){var i=JSe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=zB(e,l),y=m[0],p=m[1],v=m[2],g=p-v-i*y;(y||g)&&BB(e,l)&&(f+=g,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},$p=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m2=function(e){return[e.deltaX,e.deltaY]},p2=function(e){return e&&"current"in e?e.current:e},eCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rCe=0,mc=[];function nCe(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(rCe++)[0],i=w.useState(LB)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=ZK([e.lockRef.current],(e.shards||[]).map(p2),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var g=$p(p),x=r.current,b="deltaX"in p?p.deltaX:x[0]-g[0],_="deltaY"in p?p.deltaY:x[1]-g[1],j,S=p.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&S.type==="range")return!1;var N=h2(C,S);if(!N)return!0;if(N?j=C:(j=C==="v"?"h":"v",N=h2(C,S)),!N)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=j),!j)return!0;var P=n.current||j;return ZSe(P,v,p,P==="h"?b:_,!0)},[]),c=w.useCallback(function(p){var v=p;if(!(!mc.length||mc[mc.length-1]!==i)){var g="deltaY"in v?m2(v):$p(v),x=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&eCe(j.delta,g)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(p2).filter(Boolean).filter(function(j){return j.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=w.useCallback(function(p,v,g,x){var b={name:p,delta:v,target:g,should:x,shadowParent:aCe(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(p){r.current=$p(p),n.current=void 0},[]),f=w.useCallback(function(p){u(p.type,m2(p),p.target,l(p,e.lockRef.current))},[]),h=w.useCallback(function(p){u(p.type,$p(p),p.target,l(p,e.lockRef.current))},[]);w.useEffect(function(){return mc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,hc),document.addEventListener("touchmove",c,hc),document.addEventListener("touchstart",d,hc),function(){mc=mc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,hc),document.removeEventListener("touchmove",c,hc),document.removeEventListener("touchstart",d,hc)}},[]);var m=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(i,{styles:tCe(a)}):null,m?w.createElement(qSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iCe=RSe(DB,nCe);var t0=w.forwardRef(function(e,t){return w.createElement(e0,bi({},e,{ref:t,sideCar:iCe}))});t0.classNames=e0.classNames;var sCe=[" ","Enter","ArrowUp","ArrowDown"],oCe=[" ","Enter"],zl="Select",[r0,n0,lCe]=Ty(zl),[Kd,UOe]=$n(zl,[lCe,jd]),a0=jd(),[cCe,Fo]=Kd(zl),[uCe,dCe]=Kd(zl),UB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,p=a0(t),[v,g]=w.useState(null),[x,b]=w.useState(null),[_,j]=w.useState(!1),S=Nd(u),[C,N]=qn({prop:n,defaultProp:a??!1,onChange:i,caller:zl}),[P,E]=qn({prop:o,defaultProp:l,onChange:c,caller:zl}),O=w.useRef(null),T=v?y||!!v.closest("form"):!0,[A,k]=w.useState(new Set),$=Array.from(A).map(D=>D.props.value).join(";");return s.jsx(LS,{...p,children:s.jsxs(cCe,{required:m,scope:t,trigger:v,onTriggerChange:g,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ei(),value:P,onValueChange:E,open:C,onOpenChange:N,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[s.jsx(r0.Provider,{scope:t,children:s.jsx(uCe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(D=>{k(M=>new Set(M).add(D))},[]),onNativeOptionRemove:w.useCallback(D=>{k(M=>{const I=new Set(M);return I.delete(D),I})},[]),children:r})}),T?s.jsxs(f5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:D=>E(D.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(A)]},$):null]})})};UB.displayName=zl;var VB="SelectTrigger",WB=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=a0(r),o=Fo(VB,r),l=o.disabled||n,c=rt(t,o.onTriggerChange),u=n0(r),d=w.useRef("touch"),[f,h,m]=m5(p=>{const v=u().filter(b=>!b.disabled),g=v.find(b=>b.value===o.value),x=p5(v,p,g);x!==void 0&&o.onValueChange(x.value)}),y=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(zy,{asChild:!0,...i,children:s.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":h5(o.value)?"":void 0,...a,ref:c,onClick:Ee(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:Ee(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:Ee(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&sCe.includes(p.key)&&(y(),p.preventDefault())})})})});WB.displayName=VB;var HB="SelectValue",qB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Fo(HB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=rt(t,c.onValueNodeChange);return Qr(()=>{u(d)},[u,d]),s.jsx(Fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:h5(c.value)?s.jsx(s.Fragment,{children:o}):i})});qB.displayName=HB;var fCe="SelectIcon",KB=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Fe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});KB.displayName=fCe;var hCe="SelectPortal",GB=e=>s.jsx(Cm,{asChild:!0,...e});GB.displayName=hCe;var Ul="SelectContent",YB=w.forwardRef((e,t)=>{const r=Fo(Ul,e.__scopeSelect),[n,a]=w.useState();if(Qr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Kl.createPortal(s.jsx(XB,{scope:e.__scopeSelect,children:s.jsx(r0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(QB,{...e,ref:t})});YB.displayName=Ul;var za=10,[XB,Bo]=Kd(Ul),mCe="SelectContentImpl",pCe=Ol("SelectContent.RemoveScroll"),QB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v,...g}=e,x=Fo(Ul,r),[b,_]=w.useState(null),[j,S]=w.useState(null),C=rt(t,q=>_(q)),[N,P]=w.useState(null),[E,O]=w.useState(null),T=n0(r),[A,k]=w.useState(!1),$=w.useRef(!1);w.useEffect(()=>{if(b)return oN(b)},[b]),sN();const D=w.useCallback(q=>{const[J,...Z]=T().map(K=>K.ref.current),[te]=Z.slice(-1),V=document.activeElement;for(const K of q)if(K===V||(K==null||K.scrollIntoView({block:"nearest"}),K===J&&j&&(j.scrollTop=0),K===te&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==V))return},[T,j]),M=w.useCallback(()=>D([N,b]),[D,N,b]);w.useEffect(()=>{A&&M()},[A,M]);const{onOpenChange:I,triggerPointerDownPosRef:L}=x;w.useEffect(()=>{if(b){let q={x:0,y:0};const J=te=>{var V,K;q={x:Math.abs(Math.round(te.pageX)-(((V=L.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(te.pageY)-(((K=L.current)==null?void 0:K.y)??0))}},Z=te=>{q.x<=10&&q.y<=10?te.preventDefault():b.contains(te.target)||I(!1),document.removeEventListener("pointermove",J),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,I,L]),w.useEffect(()=>{const q=()=>I(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[I]);const[B,Q]=m5(q=>{const J=T().filter(V=>!V.disabled),Z=J.find(V=>V.ref.current===document.activeElement),te=p5(J,q,Z);te&&setTimeout(()=>te.ref.current.focus())}),X=w.useCallback((q,J,Z)=>{const te=!$.current&&!Z;(x.value!==void 0&&x.value===J||te)&&(P(q),te&&($.current=!0))},[x.value]),ne=w.useCallback(()=>b==null?void 0:b.focus(),[b]),z=w.useCallback((q,J,Z)=>{const te=!$.current&&!Z;(x.value!==void 0&&x.value===J||te)&&O(q)},[x.value]),U=n==="popper"?s_:JB,H=U===s_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(XB,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:X,selectedItem:N,onItemLeave:ne,itemTextRefCallback:z,focusSelectedItem:M,selectedItemText:E,position:n,isPositioned:A,searchRef:B,children:s.jsx(t0,{as:pCe,allowPinchZoom:!0,children:s.jsx(Zx,{asChild:!0,trapped:x.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Ee(a,q=>{var J;(J=x.trigger)==null||J.focus({preventScroll:!0}),q.preventDefault()}),children:s.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(U,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:q=>q.preventDefault(),...g,...H,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ee(g.onKeyDown,q=>{const J=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!J&&q.key.length===1&&Q(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let te=T().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(q.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const V=q.target,K=te.indexOf(V);te=te.slice(K+1)}setTimeout(()=>D(te)),q.preventDefault()}})})})})})})});QB.displayName=mCe;var vCe="SelectItemAlignedPosition",JB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Fo(Ul,r),o=Bo(Ul,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=rt(t,C=>d(C)),h=n0(r),m=w.useRef(!1),y=w.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:g,focusSelectedItem:x}=o,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&g){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),E=g.getBoundingClientRect();if(i.dir!=="rtl"){const V=E.left-N.left,K=P.left-V,he=C.left-K,_e=C.width+he,ze=Math.max(_e,N.width),Ye=window.innerWidth-za,et=Nh(K,[za,Math.max(za,Ye-ze)]);l.style.minWidth=_e+"px",l.style.left=et+"px"}else{const V=N.right-E.right,K=window.innerWidth-P.right-V,he=window.innerWidth-C.right-K,_e=C.width+he,ze=Math.max(_e,N.width),Ye=window.innerWidth-za,et=Nh(K,[za,Math.max(za,Ye-ze)]);l.style.minWidth=_e+"px",l.style.right=et+"px"}const O=h(),T=window.innerHeight-za*2,A=p.scrollHeight,k=window.getComputedStyle(u),$=parseInt(k.borderTopWidth,10),D=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),I=parseInt(k.paddingBottom,10),L=$+D+A+I+M,B=Math.min(v.offsetHeight*5,L),Q=window.getComputedStyle(p),X=parseInt(Q.paddingTop,10),ne=parseInt(Q.paddingBottom,10),z=C.top+C.height/2-za,U=T-z,H=v.offsetHeight/2,q=v.offsetTop+H,J=$+D+q,Z=L-J;if(J<=z){const V=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-p.offsetTop-p.offsetHeight,he=Math.max(U,H+(V?ne:0)+K+M),_e=J+he;l.style.height=_e+"px"}else{const V=O.length>0&&v===O[0].ref.current;l.style.top="0px";const he=Math.max(z,$+p.offsetTop+(V?X:0)+H)+Z;l.style.height=he+"px",p.scrollTop=J-z+p.offsetTop}l.style.margin=`${za}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,g,i.dir,n]);Qr(()=>b(),[b]);const[_,j]=w.useState();Qr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(yCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Fe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});JB.displayName=vCe;var gCe="SelectPopperPosition",s_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=za,...i}=e,o=a0(r);return s.jsx(FS,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});s_.displayName=gCe;var[yCe,lN]=Kd(Ul,{}),o_="SelectViewport",ZB=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Bo(o_,r),o=lN(o_,r),l=rt(t,i.onViewportChange),c=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(r0.Slot,{scope:r,children:s.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ee(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-za*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),g=Math.max(p,v);if(g<y){const x=g+m,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ZB.displayName=o_;var e5="SelectGroup",[xCe,bCe]=Kd(e5),wCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ei();return s.jsx(xCe,{scope:r,id:a,children:s.jsx(Fe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});wCe.displayName=e5;var t5="SelectLabel",r5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=bCe(t5,r);return s.jsx(Fe.div,{id:a.id,...n,ref:t})});r5.displayName=t5;var Zg="SelectItem",[jCe,n5]=Kd(Zg),a5=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Fo(Zg,r),c=Bo(Zg,r),u=l.value===n,[d,f]=w.useState(i??""),[h,m]=w.useState(!1),y=rt(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),p=Ei(),v=w.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(jCe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:w.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(r0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Fe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ee(o.onFocus,()=>m(!0)),onBlur:Ee(o.onBlur,()=>m(!1)),onClick:Ee(o.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:Ee(o.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:Ee(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Ee(o.onPointerMove,x=>{var b;v.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ee(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(oCe.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});a5.displayName=Zg;var kf="SelectItemText",i5=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Fo(kf,r),l=Bo(kf,r),c=n5(kf,r),u=dCe(kf,r),[d,f]=w.useState(null),h=rt(t,g=>f(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=w.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Qr(()=>(p(y),()=>v(y)),[p,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(Fe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kl.createPortal(i.children,o.valueNode):null]})});i5.displayName=kf;var s5="SelectItemIndicator",o5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return n5(s5,r).isSelected?s.jsx(Fe.span,{"aria-hidden":!0,...n,ref:t}):null});o5.displayName=s5;var l_="SelectScrollUpButton",l5=w.forwardRef((e,t)=>{const r=Bo(l_,e.__scopeSelect),n=lN(l_,e.__scopeSelect),[a,i]=w.useState(!1),o=rt(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(u5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});l5.displayName=l_;var c_="SelectScrollDownButton",c5=w.forwardRef((e,t)=>{const r=Bo(c_,e.__scopeSelect),n=lN(c_,e.__scopeSelect),[a,i]=w.useState(!1),o=rt(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(u5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});c5.displayName=c_;var u5=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Bo("SelectScrollButton",r),o=w.useRef(null),l=n0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Qr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Fe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ee(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(a.onPointerLeave,()=>{c()})})}),_Ce="SelectSeparator",d5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Fe.div,{"aria-hidden":!0,...n,ref:t})});d5.displayName=_Ce;var u_="SelectArrow",SCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=a0(r),i=Fo(u_,r),o=Bo(u_,r);return i.open&&o.position==="popper"?s.jsx(BS,{...a,...n,ref:t}):null});SCe.displayName=u_;var CCe="SelectBubbleInput",f5=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=rt(n,a),o=Xy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Fe.select,{...r,style:{...V$,...r.style},ref:i,defaultValue:t})});f5.displayName=CCe;function h5(e){return e===""||e===void 0}function m5(e){const t=Ur(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function p5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=NCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function NCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var PCe=UB,v5=WB,kCe=qB,ECe=KB,ACe=GB,g5=YB,OCe=ZB,y5=r5,x5=a5,TCe=i5,RCe=o5,b5=l5,w5=c5,j5=d5;const dt=PCe,ft=kCe,lt=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(v5,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ECe,{asChild:!0,children:s.jsx(Ov,{className:"h-4 w-4 opacity-50"})})]}));lt.displayName=v5.displayName;const _5=w.forwardRef(({className:e,...t},r)=>s.jsx(b5,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vW,{className:"h-4 w-4"})}));_5.displayName=b5.displayName;const S5=w.forwardRef(({className:e,...t},r)=>s.jsx(w5,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ov,{className:"h-4 w-4"})}));S5.displayName=w5.displayName;const ct=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(ACe,{children:s.jsxs(g5,{ref:a,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(_5,{}),s.jsx(OCe,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(S5,{})]})}));ct.displayName=g5.displayName;const MCe=w.forwardRef(({className:e,...t},r)=>s.jsx(y5,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));MCe.displayName=y5.displayName;const Ve=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(x5,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(RCe,{children:s.jsx(Tl,{className:"h-4 w-4"})})}),s.jsx(TCe,{children:t})]}));Ve.displayName=x5.displayName;const $Ce=w.forwardRef(({className:e,...t},r)=>s.jsx(j5,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));$Ce.displayName=j5.displayName;var i0="Dialog",[C5,N5]=$n(i0),[ICe,fi]=C5(i0),P5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=qn({prop:n,defaultProp:a??!1,onChange:i,caller:i0});return s.jsx(ICe,{scope:t,triggerRef:l,contentRef:c,contentId:Ei(),titleId:Ei(),descriptionId:Ei(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};P5.displayName=i0;var k5="DialogTrigger",E5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(k5,r),i=rt(t,a.triggerRef);return s.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dN(a.open),...n,ref:i,onClick:Ee(e.onClick,a.onOpenToggle)})});E5.displayName=k5;var cN="DialogPortal",[DCe,A5]=C5(cN,{forceMount:void 0}),O5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=fi(cN,t);return s.jsx(DCe,{scope:t,forceMount:r,children:w.Children.map(n,o=>s.jsx(Kn,{present:r||i.open,children:s.jsx(Cm,{asChild:!0,container:a,children:o})}))})};O5.displayName=cN;var ey="DialogOverlay",T5=w.forwardRef((e,t)=>{const r=A5(ey,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fi(ey,e.__scopeDialog);return i.modal?s.jsx(Kn,{present:n||i.open,children:s.jsx(FCe,{...a,ref:t})}):null});T5.displayName=ey;var LCe=Ol("DialogOverlay.RemoveScroll"),FCe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(ey,r);return s.jsx(t0,{as:LCe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Fe.div,{"data-state":dN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vl="DialogContent",R5=w.forwardRef((e,t)=>{const r=A5(Vl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fi(Vl,e.__scopeDialog);return s.jsx(Kn,{present:n||i.open,children:i.modal?s.jsx(BCe,{...a,ref:t}):s.jsx(zCe,{...a,ref:t})})});R5.displayName=Vl;var BCe=w.forwardRef((e,t)=>{const r=fi(Vl,e.__scopeDialog),n=w.useRef(null),a=rt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return oN(i)},[]),s.jsx(M5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),zCe=w.forwardRef((e,t)=>{const r=fi(Vl,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(M5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),M5=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=fi(Vl,r),c=w.useRef(null),u=rt(t,c);return sN(),s.jsxs(s.Fragment,{children:[s.jsx(Zx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(vd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(VCe,{titleId:l.titleId}),s.jsx(HCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uN="DialogTitle",$5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(uN,r);return s.jsx(Fe.h2,{id:a.titleId,...n,ref:t})});$5.displayName=uN;var I5="DialogDescription",D5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(I5,r);return s.jsx(Fe.p,{id:a.descriptionId,...n,ref:t})});D5.displayName=I5;var L5="DialogClose",F5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(L5,r);return s.jsx(Fe.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>a.onOpenChange(!1))})});F5.displayName=L5;function dN(e){return e?"open":"closed"}var B5="DialogTitleWarning",[UCe,z5]=x6(B5,{contentName:Vl,titleName:uN,docsSlug:"dialog"}),VCe=({titleId:e})=>{const t=z5(B5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},WCe="DialogDescriptionWarning",HCe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z5(WCe).contentName}}.`;return w.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},U5=P5,V5=E5,W5=O5,fN=T5,hN=R5,mN=$5,pN=D5,vN=F5;const Er=U5,id=V5,qCe=W5,H5=w.forwardRef(({className:e,...t},r)=>s.jsx(fN,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));H5.displayName=fN.displayName;const br=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qCe,{children:[s.jsx(H5,{}),s.jsxs(hN,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(vN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Mi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));br.displayName=hN.displayName;const wr=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wr.displayName="DialogHeader";const s0=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});s0.displayName="DialogFooter";const jr=w.forwardRef(({className:e,...t},r)=>s.jsx(mN,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));jr.displayName=mN.displayName;const KCe=w.forwardRef(({className:e,...t},r)=>s.jsx(pN,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));KCe.displayName=pN.displayName;const GCe=["R&D","Production","Sales","Support","Admin"],YCe=[2025,2026,2027,2028,2029,2030],XCe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function QCe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=Fi(),[o,l]=w.useState("orgchart"),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState({}),y=j=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:j||"R&D",startYear:2026,annualCostLoaded:5e4};m(S),u(null),f(!0)},p=j=>{u(j),m(j),f(!0)},v=()=>{if(h.title&&h.department){if(c){const j=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(j)}else n(h);f(!1),m({}),u(null)}},g=t.payrollByYear.map(j=>({year:j.year,payroll:j.payroll/1e3,headcount:j.headcount})),x=e.roles.filter(j=>j.startYear>2025),b=YCe.slice(1).map(j=>({year:j,count:e.roles.filter(S=>S.startYear===j).length,cost:e.roles.filter(S=>S.startYear===j).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(j=>j.count>0);return s.jsx(Ui,{tabKey:"organisation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),s.jsxs(Jx,{type:"single",value:o,onValueChange:j=>j&&l(j),children:[s.jsx(Bl,{value:"orgchart","aria-label":"Vue organigramme",children:s.jsx(xW,{className:"h-4 w-4"})}),s.jsx(Bl,{value:"table","aria-label":"Vue tableau",children:s.jsx(_W,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{pageTitle:"Organisation & RH",sections:XCe,fileName:"Organisation_RH"}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>y(),children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),s.jsx(Ad,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(pt,{label:"Masse Salariale 2025",value:ee(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),s.jsx(pt,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),s.jsx(pt,{label:"Cot Moyen / ETP",value:ee(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),s.jsx(pt,{label:"Masse Salariale 2030",value:ee(((_=t.payrollByYear.find(j=>j.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),s.jsx("div",{id:"org-payroll-chart",children:s.jsx(He,{title:"volution de la Masse Salariale",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(tB,{data:g,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:j=>`${j}k`}),s.jsx(Ht,{formatter:(j,S)=>S==="payroll"?`${j.toFixed(0)}k`:j}),s.jsx(on,{}),s.jsx(la,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),s.jsx("div",{id:"org-hiring-plan",children:b.length>0&&s.jsx(He,{title:"Plan de Recrutement",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:j,count:S,cost:C})=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:j}),s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ee(C,!0)})]},j))})})}),s.jsx("div",{id:"org-team",children:o==="orgchart"?s.jsx(He,{title:"Organigramme",children:s.jsx(cSe,{roles:e.roles,onEdit:p,onRemove:a,onAddToTeam:y})}):s.jsx(He,{title:"quipe & Recrutements",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Poste"}),s.jsx(le,{children:"Dpartement"}),s.jsx(le,{children:"Dbut"}),s.jsx(le,{className:"text-right",children:"Cot Annuel"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:e.roles.map(j=>s.jsxs(Ne,{className:j.startYear>2025?"bg-muted/20":"",children:[s.jsxs(Y,{className:"font-medium",children:[j.title,j.startYear>2025&&s.jsx(Te,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),s.jsx(Y,{children:s.jsx(Te,{variant:"outline",children:j.department})}),s.jsx(Y,{children:j.startYear}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(j.annualCostLoaded)}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>p(j),children:"Modifier"}),s.jsx(se,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(j.id),children:"Suppr."})]})})]},j.id))})]})})})}),s.jsx(Er,{open:d,onOpenChange:f,children:s.jsxs(br,{children:[s.jsx(wr,{children:s.jsx(jr,{children:c?"Modifier le poste":"Nouveau poste"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),s.jsx(je,{value:h.title||"",onChange:j=>m({...h,title:j.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),s.jsxs(dt,{value:h.department,onValueChange:j=>m({...h,department:j}),children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Slectionner un dpartement"})}),s.jsx(ct,{children:GCe.map(j=>s.jsx(Ve,{value:j,children:j},j))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),s.jsx(je,{type:"number",value:h.startYear||2026,onChange:j=>m({...h,startYear:Number(j.target.value)}),min:2025,max:2030})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),s.jsx(je,{type:"number",value:h.annualCostLoaded||5e4,onChange:j=>m({...h,annualCostLoaded:Number(j.target.value)}),step:1e3})]})]})]}),s.jsxs(s0,{children:[s.jsx(se,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),s.jsx(se,{onClick:v,children:"Sauvegarder"})]})]})})]})})}const v2=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],g2=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],JCe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],ZCe=[0,.02,.03,.05,.07,.1,.15,.2],eNe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function tNe(){var k,$,D;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:o,saveAll:l}=Fi(),[c,u]=w.useState(null),[d,f]=w.useState({}),{startYear:h,durationYears:m}=e.scenarioSettings,y=Array.from({length:m},(M,I)=>h+I),[p,v]=w.useState(h),g=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(I=>I.id===c?{...I,...d}:I);r(M),u(null),f({})}},_=()=>{u(null),f({})},j=y[0],S=y[y.length-1],C=((k=t.opexByYear.find(M=>M.year===j))==null?void 0:k.opex)||0,N=(($=t.opexByYear.find(M=>M.year===S))==null?void 0:$.opex)||0,P=((D=t.revenueByYear.find(M=>M.year===j))==null?void 0:D.revenue)||1,E=C/P,O=t.opexByYear.find(M=>M.year===p),T=O?v2.map((M,I)=>({name:M,value:O.byCategory[M]||0,color:JCe[I]})).filter(M=>M.value>0):[],A=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return s.jsx(Ui,{tabKey:"charges",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Te,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{pageTitle:"Structure des Charges",sections:eNe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&s.jsxs(se,{variant:"outline",size:"sm",onClick:g,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),s.jsx(Ad,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(He,{title:"Mode de Calcul",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>i("detailed"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(jW,{className:ie("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ie("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),s.jsxs("button",{onClick:()=>i("simple"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(Av,{className:ie("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ie("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&s.jsxs(He,{title:"Configuration Simplifie",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Se,{children:["Montant OPEX annuel de base (",j,")"]}),s.jsx(je,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>o({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"volution annuelle (%)"}),s.jsxs(dt,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>o({growthRate:Number(M)/100}),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:ZCe.map(M=>s.jsxs(Ve,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,I)=>{const L=e.simpleOpexConfig.baseAmount*Math.pow(1+e.simpleOpexConfig.growthRate,I);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:M}),s.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:ee(L,!0)})]},M)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[s.jsx(pt,{label:`OPEX ${j}`,value:ee(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),s.jsx(pt,{label:"Ratio OPEX / CA",value:Wr(E),subValue:j.toString()}),s.jsx(pt,{label:`OPEX ${S}`,value:ee(N,!0),subValue:"Projection",trend:"up"}),s.jsx(pt,{label:"Croissance OPEX",value:C>0?Wr(N/C-1):"N/A",subValue:`${j}-${S}`})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(He,{title:"volution des Charges",id:"charges-chart",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:A,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:M=>`${M}k`}),s.jsx(Ht,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(kr,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&T.length>0&&s.jsxs(He,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(dt,{value:p.toString(),onValueChange:M=>v(parseInt(M)),children:[s.jsx(lt,{className:"w-24 h-8",children:s.jsx(ft,{})}),s.jsx(ct,{children:y.map(M=>s.jsx(Ve,{value:M.toString(),children:M},M))})]})}),s.jsx("div",{className:"h-56",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(V_e,{children:[s.jsx(ks,{data:T,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:T.map((M,I)=>s.jsx(Bd,{fill:M.color},`cell-${I}`))}),s.jsx(Ht,{formatter:M=>ee(M)})]})})}),s.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",p,": ",s.jsx("span",{className:"font-mono-numbers font-medium",children:ee((O==null?void 0:O.opex)||0,!0)})]})]}),e.opexMode==="simple"&&s.jsx(He,{title:"Rcapitulatif",id:"charges-breakdown",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),s.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:ee(e.simpleOpexConfig.baseAmount,!0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),s.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&s.jsx(He,{title:"Dtail des Charges",id:"charges-table",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Charge"}),s.jsx(le,{children:"Catgorie"}),s.jsx(le,{children:"Type d'volution"}),s.jsx(le,{className:"text-right",children:"Cot Base"}),s.jsx(le,{children:"Paramtre"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:e.expenses.map(M=>{var I,L;return s.jsx(Ne,{children:c===M.id?s.jsxs(s.Fragment,{children:[s.jsx(Y,{children:s.jsx(je,{value:d.name||"",onChange:B=>f({...d,name:B.target.value}),className:"h-8"})}),s.jsx(Y,{children:s.jsxs(dt,{value:d.category,onValueChange:B=>f({...d,category:B}),children:[s.jsx(lt,{className:"h-8 w-40",children:s.jsx(ft,{})}),s.jsx(ct,{children:v2.map(B=>s.jsx(Ve,{value:B,children:B},B))})]})}),s.jsx(Y,{children:s.jsxs(dt,{value:d.evolutionType,onValueChange:B=>f({...d,evolutionType:B}),children:[s.jsx(lt,{className:"h-8 w-40",children:s.jsx(ft,{})}),s.jsx(ct,{children:g2.map(B=>s.jsx(Ve,{value:B.value,children:B.label},B.value))})]})}),s.jsx(Y,{children:s.jsx(je,{type:"number",value:d.baseAnnualCost||0,onChange:B=>f({...d,baseAnnualCost:Number(B.target.value)}),className:"h-8 w-28 text-right"})}),s.jsxs(Y,{children:[d.evolutionType==="growth_rate"&&s.jsx(je,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:B=>f({...d,growthRate:Number(B.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&s.jsx(je,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:B=>f({...d,revenueRatio:Number(B.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{size:"icon",variant:"ghost",onClick:b,children:s.jsx(Tl,{className:"h-4 w-4 text-accent"})}),s.jsx(se,{size:"icon",variant:"ghost",onClick:_,children:s.jsx(Mi,{className:"h-4 w-4 text-destructive"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&s.jsxs(R9,{children:[s.jsx(M9,{children:s.jsx(gh,{className:"h-3 w-3 text-muted-foreground"})}),s.jsx(sD,{children:s.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),s.jsx(Y,{children:s.jsx(Te,{variant:"outline",children:M.category})}),s.jsx(Y,{children:s.jsx(Te,{variant:"secondary",children:(I=g2.find(B=>B.value===M.evolutionType))==null?void 0:I.label})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(M.baseAnnualCost)}),s.jsxs(Y,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${Wr(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${Wr(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((L=M.steps)==null?void 0:L.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{size:"icon",variant:"ghost",onClick:()=>x(M),children:s.jsx(SS,{className:"h-4 w-4"})}),s.jsx(se,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:s.jsx(Ir,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function rNe({customers:e,selectedId:t,onSelect:r,onRefresh:n,onCreate:a}){const[i,o]=w.useState(!1),[l,c]=w.useState({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),u=async()=>{if(!a||!l.company_name.trim())return;const d=await a({...l,address:null,postal_code:null,country:"France",latitude:null,longitude:null,notes:null});d&&(o(!1),c({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),r(d.id))};return s.jsxs(s.Fragment,{children:[s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ft,{className:"text-lg",children:"Clients"}),s.jsxs("div",{className:"flex gap-1",children:[a&&s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>o(!0),children:s.jsx(xr,{className:"h-4 w-4"})}),s.jsx(se,{size:"sm",variant:"ghost",onClick:n,children:s.jsx(EW,{className:"h-4 w-4"})})]})]})}),s.jsxs(Et,{className:"space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),e.map(d=>s.jsxs("button",{onClick:()=>r(d.id),className:ie("w-full text-left p-3 rounded-lg transition-colors",t===d.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium text-sm",children:d.company_name}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[d.city&&s.jsx("span",{children:d.city}),s.jsx(Te,{variant:"outline",className:"text-[10px]",children:d.pricing_tier})]})]},d.id))]})]}),s.jsx(Er,{open:i,onOpenChange:o,children:s.jsxs(br,{children:[s.jsx(wr,{children:s.jsx(jr,{children:"Nouveau Client"})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsx(je,{placeholder:"Nom de l'entreprise *",value:l.company_name,onChange:d=>c(f=>({...f,company_name:d.target.value}))}),s.jsx(je,{placeholder:"Nom du contact",value:l.contact_name,onChange:d=>c(f=>({...f,contact_name:d.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(je,{placeholder:"Email",value:l.email,onChange:d=>c(f=>({...f,email:d.target.value}))}),s.jsx(je,{placeholder:"Tlphone",value:l.phone,onChange:d=>c(f=>({...f,phone:d.target.value}))})]}),s.jsx(je,{placeholder:"Ville",value:l.city,onChange:d=>c(f=>({...f,city:d.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(dt,{value:l.status,onValueChange:d=>c(f=>({...f,status:d})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"prospect",children:"Prospect"}),s.jsx(Ve,{value:"active",children:"Actif"}),s.jsx(Ve,{value:"inactive",children:"Inactif"})]})]}),s.jsxs(dt,{value:l.pricing_tier,onValueChange:d=>c(f=>({...f,pricing_tier:d})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"bronze",children:"Bronze"}),s.jsx(Ve,{value:"silver",children:"Silver"}),s.jsx(Ve,{value:"gold",children:"Gold"})]})]})]})]}),s.jsxs(s0,{children:[s.jsx(se,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsx(se,{onClick:u,disabled:!l.company_name.trim(),children:"Crer"})]})]})})]})}function nNe({customer:e,orders:t}){const r=t.reduce((n,a)=>n+(a.total_amount||0),0);return s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs(Ft,{className:"flex items-center justify-between",children:[e.company_name,s.jsx(Te,{children:e.status})]})}),s.jsxs(Et,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsx("span",{className:"ml-2",children:e.contact_name||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"ml-2",children:e.email||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Ville:"}),s.jsx("span",{className:"ml-2",children:e.city||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"CA Total:"}),s.jsx("span",{className:"ml-2 font-mono-numbers",children:ee(r,!0)})]})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Commandes (",t.length,")"]}),s.jsx("div",{className:"space-y-1",children:t.slice(0,5).map(n=>s.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:n.order_reference}),s.jsx("span",{className:"font-mono-numbers",children:ee(n.total_amount,!0)})]},n.id))})]})]})]})}function aNe({customers:e}){const t=e.filter(r=>r.latitude&&r.longitude);return s.jsx("div",{className:"h-[400px] bg-muted/30 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Zw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsxs("p",{children:[t.length," clients golocaliss"]}),s.jsx("p",{className:"text-xs mt-1",children:"Carte interactive (Leaflet)"})]})})}function iNe({tiers:e}){return s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.map(t=>s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs(Ft,{className:"flex items-center justify-between",children:[s.jsx(Te,{variant:t.tier==="gold"?"default":"outline",children:t.tier}),s.jsxs("span",{className:"text-2xl font-bold font-mono-numbers",children:["-",t.discount_percentage,"%"]})]})}),s.jsx(Et,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Grille tarifaire"})})]},t.id)),e.length===0&&s.jsx("p",{className:"text-muted-foreground col-span-3 text-center py-8",children:"Aucune grille tarifaire configure"})]})}function sNe({appointments:e,customers:t}){const r=e.filter(n=>!n.is_completed&&new Date(n.appointment_date)>=new Date).slice(0,10);return s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs(Ft,{className:"flex items-center gap-2",children:[s.jsx(_u,{className:"h-5 w-5"}),"Rendez-vous  venir"]})}),s.jsxs(Et,{children:[r.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun rendez-vous planifi"}),s.jsx("div",{className:"space-y-2",children:r.map(n=>{const a=t.find(i=>i.id===n.customer_id);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:n.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==null?void 0:a.company_name,"  ",new Date(n.appointment_date).toLocaleDateString("fr-FR")]})]}),n.location&&s.jsx(Te,{variant:"outline",className:"text-xs",children:n.location})]},n.id)})})]})]})}function q5(){const{toast:e}=M$(),{user:t}=Aa(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState(!0),y=w.useCallback(async()=>{if(!t){m(!1);return}try{m(!0);const[b,_]=await Promise.all([me.from("customers").select("*").order("company_name"),me.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{m(!1)}},[t]);w.useEffect(()=>{y()},[y]);const p=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await me.from("customers").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return n(C=>[...C,S].sort((N,P)=>N.company_name.localeCompare(P.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),v=w.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:j}=await me.from("customers").update(_).eq("id",b);if(j)throw j;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(j){return console.error("Failed to update customer:",j),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),g=w.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await me.from("customers").delete().eq("id",b);if(_)throw _;return n(j=>j.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await me.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:o,orders:c,pricingTiers:d,isLoading:h,refreshData:y,createCustomer:p,updateCustomer:v,deleteCustomer:g,createOrder:x,getCustomerInteractions:b=>a.filter(_=>_.customer_id===b),getCustomerAppointments:b=>o.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}function oNe(){const{customers:e,orders:t,appointments:r,pricingTiers:n,isLoading:a,refreshData:i,createCustomer:o,updateCustomer:l,deleteCustomer:c}=q5(),[u,d]=w.useState(null),f=e.find(g=>g.id===u),h=e.length,m=e.filter(g=>g.status==="active").length,y=t.reduce((g,x)=>g+(x.total_amount||0),0),p=t.filter(g=>["draft","confirmed","in_progress"].includes(g.status)).length,v=r.filter(g=>!g.is_completed&&new Date(g.appointment_date)>=new Date).length;return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, suivi commercial et commandes"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[s.jsx(pt,{label:"Total Clients",value:h}),s.jsx(pt,{label:"Clients Actifs",value:m,trend:m>0?"up":"neutral"}),s.jsx(pt,{label:"CA Total",value:`${(y/1e3).toFixed(0)} k`}),s.jsx(pt,{label:"Commandes en cours",value:p}),s.jsx(pt,{label:"RDV  venir",value:v})]}),s.jsxs(Ra,{defaultValue:"customers",className:"space-y-4",children:[s.jsxs(ha,{children:[s.jsxs(bt,{value:"customers",children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Clients"]}),s.jsxs(bt,{value:"map",children:[s.jsx(Zw,{className:"h-4 w-4 mr-2"}),"Carte"]}),s.jsxs(bt,{value:"pricing",children:[s.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Grille Tarifaire"]}),s.jsxs(bt,{value:"agenda",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),"Agenda"]})]}),s.jsx(Nt,{value:"customers",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(rNe,{customers:e,selectedId:u,onSelect:d,onRefresh:i,onCreate:o})}),s.jsx("div",{className:"lg:col-span-2",children:f?s.jsx(nNe,{customer:f,orders:t.filter(g=>g.customer_id===u),onRefresh:i}):s.jsx(Ct,{className:"h-full min-h-[400px] flex items-center justify-center",children:s.jsxs(Et,{className:"text-center text-muted-foreground",children:[s.jsx(Nu,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})}),s.jsx(Nt,{value:"map",className:"space-y-4",children:s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs(Ft,{className:"flex items-center gap-2",children:[s.jsx(Zw,{className:"h-5 w-5"}),"Localisation des clients"]})}),s.jsx(Et,{children:s.jsx(aNe,{customers:e,selectedId:u,onSelectCustomer:d})})]})}),s.jsx(Nt,{value:"pricing",className:"space-y-4",children:s.jsx(iNe,{tiers:n,onRefresh:i})}),s.jsx(Nt,{value:"agenda",className:"space-y-4",children:s.jsx(sNe,{appointments:r,customers:e,onRefresh:i})})]})]})}var o0="Switch",[lNe,VOe]=$n(o0),[cNe,uNe]=lNe(o0),K5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),y=rt(t,b=>m(b)),p=w.useRef(!1),v=h?d||!!h.closest("form"):!0,[g,x]=qn({prop:a,defaultProp:i??!1,onChange:u,caller:o0});return s.jsxs(cNe,{scope:r,checked:g,disabled:l,children:[s.jsx(Fe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":Q5(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ee(e.onClick,b=>{x(_=>!_),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&s.jsx(X5,{control:h,bubbles:!p.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});K5.displayName=o0;var G5="SwitchThumb",Y5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=uNe(G5,r);return s.jsx(Fe.span,{"data-state":Q5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Y5.displayName=G5;var dNe="SwitchBubbleInput",X5=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=w.useRef(null),l=rt(o,i),c=Xy(r),u=By(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});X5.displayName=dNe;function Q5(e){return e?"checked":"unchecked"}var J5=K5,fNe=Y5;const Z5=w.forwardRef(({className:e,...t},r)=>s.jsx(J5,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(fNe,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Z5.displayName=J5.displayName;var l0="Popover",[ez,WOe]=$n(l0,[jd]),Bm=jd(),[hNe,zo]=ez(l0),tz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Bm(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=qn({prop:n,defaultProp:a??!1,onChange:i,caller:l0});return s.jsx(LS,{...l,children:s.jsx(hNe,{scope:t,contentId:Ei(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};tz.displayName=l0;var rz="PopoverAnchor",mNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zo(rz,r),i=Bm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(zy,{...i,...n,ref:t})});mNe.displayName=rz;var nz="PopoverTrigger",az=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zo(nz,r),i=Bm(r),o=rt(t,a.triggerRef),l=s.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cz(a.open),...n,ref:o,onClick:Ee(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(zy,{asChild:!0,...i,children:l})});az.displayName=nz;var gN="PopoverPortal",[pNe,vNe]=ez(gN,{forceMount:void 0}),iz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=zo(gN,t);return s.jsx(pNe,{scope:t,forceMount:r,children:s.jsx(Kn,{present:r||i.open,children:s.jsx(Cm,{asChild:!0,container:a,children:n})})})};iz.displayName=gN;var sd="PopoverContent",sz=w.forwardRef((e,t)=>{const r=vNe(sd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=zo(sd,e.__scopePopover);return s.jsx(Kn,{present:n||i.open,children:i.modal?s.jsx(yNe,{...a,ref:t}):s.jsx(xNe,{...a,ref:t})})});sz.displayName=sd;var gNe=Ol("PopoverContent.RemoveScroll"),yNe=w.forwardRef((e,t)=>{const r=zo(sd,e.__scopePopover),n=w.useRef(null),a=rt(t,n),i=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return oN(o)},[]),s.jsx(t0,{as:gNe,allowPinchZoom:!0,children:s.jsx(oz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),xNe=w.forwardRef((e,t)=>{const r=zo(sd,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(oz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oz=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=zo(sd,r),m=Bm(r);return sN(),s.jsx(Zx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(vd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(FS,{"data-state":cz(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lz="PopoverClose",bNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zo(lz,r);return s.jsx(Fe.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>a.onOpenChange(!1))})});bNe.displayName=lz;var wNe="PopoverArrow",jNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Bm(r);return s.jsx(BS,{...a,...n,ref:t})});jNe.displayName=wNe;function cz(e){return e?"open":"closed"}var _Ne=tz,SNe=az,CNe=iz,uz=sz;const dz=_Ne,fz=SNe,yN=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(CNe,{children:s.jsx(uz,{ref:a,align:t,sideOffset:r,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));yN.displayName=uz.displayName;function NNe(){const{computed:e}=Fi(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return s.jsx(He,{title:"Plan de Trsorerie Mensuel",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return s.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return s.jsx(He,{title:`Trsorerie ${n}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),s.jsx("tbody",{children:a.map(i=>s.jsxs("tr",{className:ie("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(i.totalInflows,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:ee(i.totalOutflows,!0)}),s.jsxs("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",ee(i.netCashFlow,!0)]}),s.jsx("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:ee(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const zb={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},Ub={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},PNe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function kNe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(zb),d=Array.from({length:n+2},(g,x)=>r+x),f=()=>{l(null),u({...zb,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=g=>{l(g.id);const{id:x,...b}=g;u({...zb,...b}),i(!0)},m=()=>{c.name.trim()&&(t(o?e.map(g=>g.id===o?{...g,...c}:g):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=g=>{t(e.filter(x=>x.id!==g))},p=g=>{if(g.inputMode==="fixed")return g.fixedPaymentAmount||0;const x=g.startDate.year*12+g.startDate.month,_=g.endDate.year*12+g.endDate.month-x;if(_<=0)return 0;if(g.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=g.interestRate;return C===0?g.principalAmount/S:g.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(g.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=g.interestRate/4;return C===0?g.principalAmount/S:g.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const j=g.interestRate/12;return j===0?g.principalAmount/_:g.principalAmount*j*Math.pow(1+j,_)/(Math.pow(1+j,_)-1)},v=g=>{const x=p(g),b=g.startDate.year*12+g.startDate.month,j=g.endDate.year*12+g.endDate.month-b;return j<=0?0:g.frequency==="annual"?x*Math.max(1,Math.round(j/12)):g.frequency==="quarterly"?x*Math.max(1,Math.round(j/3)):x*j};return s.jsxs(s.Fragment,{children:[s.jsx(He,{title:"Gestion des Prts",action:s.jsxs(se,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(bW,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun prt configur"}),s.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Mode"}),s.jsx(le,{className:"text-right",children:"Capital"}),s.jsx(le,{className:"text-right",children:"Taux"}),s.jsx(le,{children:"Frquence"}),s.jsx(le,{children:"Priode"}),s.jsx(le,{className:"text-right",children:"chance"}),s.jsx(le,{className:"text-right",children:"Cot Total"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:e.map(g=>{const x=p(g),b=v(g);return s.jsxs(Ne,{children:[s.jsx(Y,{className:"font-medium",children:g.name}),s.jsx(Y,{children:s.jsx(Te,{variant:"outline",className:"text-xs",children:g.inputMode==="fixed"?s.jsxs(s.Fragment,{children:[s.jsx(ZP,{className:"h-3 w-3 mr-1"}),"Fixe"]}):s.jsxs(s.Fragment,{children:[s.jsx(Av,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:g.inputMode==="calculated"?ee(g.principalAmount,!0):"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:g.inputMode==="calculated"?`${(g.interestRate*100).toFixed(1)}%`:"-"}),s.jsx(Y,{children:s.jsx(Te,{variant:"secondary",className:"text-xs",children:Ub[g.frequency]})}),s.jsxs(Y,{className:"text-xs",children:[ll[g.startDate.month].slice(0,3)," ",g.startDate.year,"  ",ll[g.endDate.month].slice(0,3)," ",g.endDate.year]}),s.jsxs(Y,{className:"text-right font-mono-numbers font-medium",children:[ee(x),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:PNe[g.frequency]})]}),s.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b,!0)}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>h(g),children:s.jsx(SS,{className:"h-3 w-3"})}),s.jsx(se,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(g.id),children:s.jsx(Ir,{className:"h-3 w-3"})})]})})]},g.id)})})]})})}),s.jsx(Er,{open:a,onOpenChange:i,children:s.jsxs(br,{className:"max-w-lg",children:[s.jsx(wr,{children:s.jsx(jr,{children:o?"Modifier le Prt":"Nouveau Prt"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Nom du prt"}),s.jsx(je,{value:c.name,onChange:g=>u(x=>({...x,name:g.target.value})),placeholder:"Ex: BPI Innovation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Mode de saisie"}),s.jsx(Ra,{value:c.inputMode,onValueChange:g=>u(x=>({...x,inputMode:g})),children:s.jsxs(ha,{className:"w-full",children:[s.jsxs(bt,{value:"calculated",className:"flex-1",children:[s.jsx(Av,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),s.jsxs(bt,{value:"fixed",className:"flex-1",children:[s.jsx(ZP,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Montant emprunt ()"}),s.jsx(je,{type:"number",value:c.principalAmount,onChange:g=>u(x=>({...x,principalAmount:Number(g.target.value)}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Taux d'intrt annuel (%)"}),s.jsx(je,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:g=>u(x=>({...x,interestRate:Number(g.target.value)/100}))})]})]}),c.inputMode==="fixed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Montant de l'chance ()"}),s.jsx(je,{type:"number",value:c.fixedPaymentAmount||0,onChange:g=>u(x=>({...x,fixedPaymentAmount:Number(g.target.value)})),placeholder:"Montant fixe par priode"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",Ub[c.frequency].toLowerCase(),")."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Frquence des chances"}),s.jsxs(dt,{value:c.frequency,onValueChange:g=>u(x=>({...x,frequency:g})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"monthly",children:"Mensuel"}),s.jsx(Ve,{value:"quarterly",children:"Trimestriel"}),s.jsx(Ve,{value:"annual",children:"Annuel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Date de dbut"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(dt,{value:c.startDate.month.toString(),onValueChange:g=>u(x=>({...x,startDate:{...x.startDate,month:Number(g)}})),children:[s.jsx(lt,{className:"flex-1",children:s.jsx(ft,{})}),s.jsx(ct,{children:ll.map((g,x)=>s.jsx(Ve,{value:x.toString(),children:g.slice(0,3)},x))})]}),s.jsxs(dt,{value:c.startDate.year.toString(),onValueChange:g=>u(x=>({...x,startDate:{...x.startDate,year:Number(g)}})),children:[s.jsx(lt,{className:"w-24",children:s.jsx(ft,{})}),s.jsx(ct,{children:d.map(g=>s.jsx(Ve,{value:g.toString(),children:g},g))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Date de fin"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(dt,{value:c.endDate.month.toString(),onValueChange:g=>u(x=>({...x,endDate:{...x.endDate,month:Number(g)}})),children:[s.jsx(lt,{className:"flex-1",children:s.jsx(ft,{})}),s.jsx(ct,{children:ll.map((g,x)=>s.jsx(Ve,{value:x.toString(),children:g.slice(0,3)},x))})]}),s.jsxs(dt,{value:c.endDate.year.toString(),onValueChange:g=>u(x=>({...x,endDate:{...x.endDate,year:Number(g)}})),children:[s.jsx(lt,{className:"w-24",children:s.jsx(ft,{})}),s.jsx(ct,{children:d.map(g=>s.jsx(Ve,{value:g.toString(),children:g},g))})]})]})]})]}),c.name.trim()&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[s.jsx("div",{className:"font-medium",children:"Aperu"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["chance ",Ub[c.frequency].toLowerCase()," :"]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:ee(p({id:"",...c}))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),s.jsx("span",{className:"font-mono-numbers",children:ee(v({id:"",...c}),!0)})]})]})]}),s.jsxs(s0,{children:[s.jsx(se,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),s.jsx(se,{onClick:m,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function ENe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(f,h)=>n+h),o=w.useMemo(()=>{const f=new Map;return e.forEach(h=>{const m=f.get(h.productId)||[];m.push(h),f.set(h.productId,m)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const m=e.filter(g=>g.productId===f.id).reduce((g,x)=>g+x.percentageOfTotal,0),y=Math.max(0,100-m),p=Math.min(y,25),v={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:p,amount:f.devCost*p/100};t([...e,v])},u=(f,h)=>{t(e.map(m=>{if(m.id!==f)return m;const y={...m,...h},p=r.find(v=>v.id===y.productId);return p&&(y.amount=p.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return s.jsx(He,{title:"Dblocage CAPEX Produits",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Rl,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):s.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=o.get(f.id)||[],m=h.reduce((y,p)=>y+p.percentageOfTotal,0);return h.reduce((y,p)=>y+p.amount,0),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",ee(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:m===100?"default":"secondary",children:[m,"% planifi"]}),s.jsxs(se,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:m>=100,children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Mois"}),s.jsx(le,{children:"Anne"}),s.jsx(le,{className:"text-right",children:"% du total"}),s.jsx(le,{className:"text-right",children:"Montant"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:h.map(y=>s.jsxs(Ne,{children:[s.jsx(Y,{children:s.jsxs(dt,{value:y.month.toString(),onValueChange:p=>u(y.id,{month:Number(p)}),children:[s.jsx(lt,{className:"h-8 w-28",children:s.jsx(ft,{})}),s.jsx(ct,{children:ll.map((p,v)=>s.jsx(Ve,{value:v.toString(),children:p},v))})]})}),s.jsx(Y,{children:s.jsxs(dt,{value:y.year.toString(),onValueChange:p=>u(y.id,{year:Number(p)}),children:[s.jsx(lt,{className:"h-8 w-20",children:s.jsx(ft,{})}),s.jsx(ct,{children:i.map(p=>s.jsx(Ve,{value:p.toString(),children:p},p))})]})}),s.jsx(Y,{className:"text-right",children:s.jsx(je,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:p=>u(y.id,{percentageOfTotal:Number(p.target.value)})})}),s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(y.amount,!0)}),s.jsx(Y,{children:s.jsx(se,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:s.jsx(Ir,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}var c0="Checkbox",[ANe,HOe]=$n(c0),[ONe,xN]=ANe(c0);function TNe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=qn({prop:r,defaultProp:a??!1,onChange:c,caller:c0}),[y,p]=w.useState(null),[v,g]=w.useState(null),x=w.useRef(!1),b=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:y,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:xo(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:g};return s.jsx(ONe,{scope:t,..._,children:RNe(f)?f(_):n})}var hz="CheckboxTrigger",mz=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=xN(hz,e),p=rt(a,d),v=w.useRef(c);return w.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const x=()=>f(v.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[i,f]),s.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":xo(c)?"mixed":c,"aria-required":u,"data-state":xz(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Ee(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ee(r,g=>{f(x=>xo(x)?!0:!x),y&&m&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});mz.displayName=hz;var bN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(TNe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(mz,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(yz,{__scopeCheckbox:r})]})})});bN.displayName=c0;var pz="CheckboxIndicator",vz=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=xN(pz,r);return s.jsx(Kn,{present:n||xo(i.checked)||i.checked===!0,children:s.jsx(Fe.span,{"data-state":xz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});vz.displayName=pz;var gz="CheckboxBubbleInput",yz=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=xN(gz,e),y=rt(r,m),p=Xy(i),v=By(n);w.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(p!==i&&j){const C=new Event("click",{bubbles:S});x.indeterminate=xo(i),j.call(x,xo(i)?!1:i),x.dispatchEvent(C)}},[h,p,i,a]);const g=w.useRef(xo(i)?!1:i);return s.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});yz.displayName=gz;function RNe(e){return typeof e=="function"}function xo(e){return e==="indeterminate"}function xz(e){return xo(e)?"indeterminate":e?"checked":"unchecked"}const oi=w.forwardRef(({className:e,...t},r)=>s.jsx(bN,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(vz,{className:ie("flex items-center justify-center text-current"),children:s.jsx(Tl,{className:"h-4 w-4"})})}));oi.displayName=bN.displayName;const Ip=[{key:"ca",name:"CA",color:"hsl(150, 60%, 40%)",type:"bar",defaultVisible:!1},{key:"cogs",name:"Achats matire",color:"hsl(38, 92%, 50%)",type:"bar",defaultVisible:!0},{key:"payroll",name:"Masse salariale",color:"hsl(210, 70%, 50%)",type:"bar",defaultVisible:!0},{key:"opex",name:"OPEX",color:"hsl(280, 60%, 50%)",type:"bar",defaultVisible:!0},{key:"capex",name:"CAPEX",color:"hsl(0, 0%, 45%)",type:"bar",defaultVisible:!0},{key:"loans",name:"chances prts",color:"hsl(0, 85%, 50%)",type:"bar",defaultVisible:!0},{key:"tresorerie",name:"Trsorerie",color:"hsl(150, 60%, 40%)",type:"line",defaultVisible:!0},{key:"cashFlow",name:"Cash Flow",color:"hsl(210, 90%, 55%)",type:"line",defaultVisible:!1}];function MNe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),[l,c]=w.useState(()=>new Set(Ip.filter(v=>v.defaultVisible).map(v=>v.key))),u=Array.from({length:r},(v,g)=>t+g),d=v=>{c(g=>{const x=new Set(g);return x.has(v)?x.delete(v):x.add(v),x})},f=w.useMemo(()=>{const v=Cd(e.months);return u.map(g=>{const x=v.get(g);if(!x)return{label:g.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const _=e.months.filter(S=>S.year===g).reduce((S,C)=>S+C.capexPayments,0),j=x.loanPayments;return{label:g.toString(),ca:x.revenue/1e3,cogs:x.cogs/1e3,payroll:x.payroll/1e3,opex:x.opex/1e3,capex:_/1e3,loans:j/1e3,tresorerie:x.treasuryEnd/1e3,cashFlow:x.netCashFlow/1e3}})},[e,u]),h=w.useMemo(()=>e.months.filter(v=>v.year===i).map(v=>({label:v.monthName.slice(0,3),ca:v.revenue/1e3,cogs:v.cogs/1e3,payroll:v.payroll/1e3,opex:v.opex/1e3,capex:v.capexPayments/1e3,loans:v.loanPayments/1e3,tresorerie:v.treasuryEnd/1e3,cashFlow:v.netCashFlow/1e3})),[e,i]),m=n==="annual"?h:f,y=Ip.filter(v=>v.type==="bar"&&l.has(v.key)),p=Ip.filter(v=>v.type==="line"&&l.has(v.key));return s.jsx(He,{title:"Suivi de Trsorerie Dtaill",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(dz,{children:[s.jsx(fz,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx(yh,{className:"h-3.5 w-3.5 mr-1"}),"Sries"]})}),s.jsxs(yN,{className:"w-56",align:"end",children:[s.jsx("p",{className:"text-xs font-medium mb-2",children:"Sries affiches"}),s.jsx("div",{className:"space-y-2",children:Ip.map(v=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{id:`series-${v.key}`,checked:l.has(v.key),onCheckedChange:()=>d(v.key)}),s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:v.color}}),s.jsx(Se,{htmlFor:`series-${v.key}`,className:"text-xs cursor-pointer",children:v.name})]},v.key))})]})]}),s.jsxs(dt,{value:n,onValueChange:v=>a(v),children:[s.jsx(lt,{className:"h-8 w-40",children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"full-period",children:"Toute la priode"}),s.jsx(Ve,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&s.jsxs(dt,{value:i.toString(),onValueChange:v=>o(Number(v)),children:[s.jsx(lt,{className:"h-8 w-24",children:s.jsx(ft,{})}),s.jsx(ct,{children:u.map(v=>s.jsx(Ve,{value:v.toString(),children:v},v))})]})]}),children:s.jsx("div",{className:"h-80",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(Lm,{data:m,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"label"}),s.jsx(yr,{tickFormatter:v=>`${v}k`}),s.jsx(Ht,{formatter:v=>`${v.toFixed(0)}k`}),s.jsx(on,{}),y.map(v=>s.jsx(kr,{dataKey:v.key,name:v.name,stackId:"costs",fill:v.color},v.key)),p.map(v=>s.jsx(Un,{type:"monotone",dataKey:v.key,name:v.name,stroke:v.color,strokeWidth:3,dot:{r:4}},v.key))]})})})})}function $Ne({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=w.useMemo(()=>Cd(e.months),[e]),u=w.useMemo(()=>e.months.filter(f=>f.year===i),[e,i]),d=(f,h,m,y)=>s.jsxs(Ne,{className:m,children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((p,v)=>s.jsx(Y,{className:ie("text-right font-mono-numbers",y&&p>0&&"text-destructive"),children:y&&p>0?`(${ee(p,!0)})`:ee(p,!0)},v))]});if(n==="monthly"){const f=u;return s.jsx(He,{title:"Dtail Prvisionnel",action:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(dt,{value:n,onValueChange:h=>a(h),children:[s.jsx(lt,{className:"h-8 w-36",children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"annual",children:"Par anne"}),s.jsx(Ve,{value:"monthly",children:"Par mois"})]})]}),s.jsxs(dt,{value:i.toString(),onValueChange:h=>o(Number(h)),children:[s.jsx(lt,{className:"h-8 w-24",children:s.jsx(ft,{})}),s.jsx(ct,{children:l.map(h=>s.jsx(Ve,{value:h.toString(),children:h},h))})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>s.jsx(le,{className:"text-right min-w-20",children:ll[h.month].slice(0,3)},h.month))]})}),s.jsxs(Xt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),s.jsxs(Ne,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,m)=>s.jsxs(Y,{className:ie("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",ee(h.netCashFlow,!0)]},m))]}),s.jsxs(Ne,{className:"bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,m)=>s.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:ee(h.treasuryEnd,!0)},m))]})]})]})})})}return s.jsx(He,{title:"Dtail Prvisionnel",action:s.jsxs(dt,{value:n,onValueChange:f=>a(f),children:[s.jsx(lt,{className:"h-8 w-36",children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"annual",children:"Par anne"}),s.jsx(Ve,{value:"monthly",children:"Par mois"})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>s.jsx(le,{className:"text-right min-w-24",children:f},f))]})}),s.jsxs(Xt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(m=>m.year===f).reduce((m,y)=>m+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),s.jsxs(Ne,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.netCashFlow)||0;return s.jsxs(Y,{className:ie("text-right font-mono-numbers font-bold",m<0?"text-destructive":"text-green-600"),children:[m>=0?"+":"",ee(m,!0)]},f)})]}),s.jsxs(Ne,{className:"bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.treasuryEnd)||0;return s.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",m<0&&"text-destructive"),children:ee(m,!0)},f)})]})]})]})})})}const y2=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function x2({title:e,description:t,seasonality:r,onChange:n}){const a=(d,f)=>{n({...r,[d]:f})},i=()=>{n({0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0})},o=Object.values(r).map(d=>1+d),l=o.reduce((d,f)=>d+f,0),c=l>0?o.map(d=>d/l*12):Array(12).fill(1),u=Object.values(r).every(d=>d===0);return s.jsxs(He,{title:e,action:s.jsxs("div",{className:"flex items-center gap-2",children:[u&&s.jsx(Te,{variant:"secondary",className:"text-xs",children:"Rpartition uniforme"}),s.jsxs(se,{variant:"ghost",size:"sm",onClick:i,disabled:u,children:[s.jsx(AW,{className:"h-3.5 w-3.5 mr-1"}),"Rinitialiser"]})]}),children:[t&&s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-4",children:Array.from({length:12},(d,f)=>f).map(d=>{const f=r[d]||0,m=(c[d]/12*100).toFixed(1);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Se,{className:"text-xs",children:y2[d]}),s.jsxs("span",{className:ie("text-xs font-mono-numbers",f>0?"text-[hsl(var(--positive))]":f<0?"text-destructive":"text-muted-foreground"),children:[f>0?"+":"",(f*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[f*100],onValueChange:([y])=>a(d,y/100),min:-80,max:200,step:5}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[" ",m,"% annuel"]})]},d)})}),s.jsx("div",{className:"mt-4 flex gap-0.5 h-8 rounded overflow-hidden",children:c.map((d,f)=>s.jsx("div",{className:"flex items-end justify-center transition-all",style:{flex:d,backgroundColor:`hsl(var(--primary) / ${.3+d/Math.max(...c)*.7})`},children:s.jsx("span",{className:"text-[9px] font-mono-numbers text-primary-foreground/80",children:y2[f]})},f))})]})}function INe({terms:e,onChange:t}){const r=e.reduce((l,c)=>l+c.percentage,0),n=Math.abs(r-100)<.1,a=()=>{const l=Math.max(0,100-r),c=e.length>0?Math.max(...e.map(u=>u.delayMonths))+1:0;t([...e,{delayMonths:c,percentage:l}])},i=l=>{t(e.filter((c,u)=>u!==l))},o=(l,c,u)=>{const d=e.map((f,h)=>h===l?{...f,[c]:u}:f);t(d)};return s.jsxs(He,{title:"Conditions de Paiement Fournisseur",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:n?"default":"destructive",className:"text-xs",children:["Total: ",r.toFixed(0),"%"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(xr,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter chance"]})]}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Dfinissez comment les achats matire sont pays. Chaque ligne indique le dcalage en mois et le pourcentage du montant total."}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune condition configure  paiement comptant par dfaut."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-end",children:[s.jsx(Se,{className:"text-xs",children:"Dlai (mois)"}),s.jsx(Se,{className:"text-xs",children:"% du paiement"}),s.jsx("div",{className:"w-8"})]}),e.map((l,c)=>s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"M+"}),s.jsx(je,{type:"number",min:0,max:12,value:l.delayMonths,onChange:u=>o(c,"delayMonths",parseInt(u.target.value)||0),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{type:"number",min:0,max:100,step:5,value:l.percentage,onChange:u=>o(c,"percentage",parseFloat(u.target.value)||0),className:ie("h-8 text-sm",!n&&"border-destructive")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(c),children:s.jsx(Ir,{className:"h-3.5 w-3.5 text-destructive"})})]},c))]}),!n&&e.length>0&&s.jsxs("p",{className:"text-xs text-destructive mt-3",children:[" Le total doit tre gal  100%. Actuellement : ",r.toFixed(0),"%."]}),e.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Se,{className:"text-xs mb-2 block",children:"chancier de paiement"}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:e.sort((l,c)=>l.delayMonths-c.delayMonths).map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-primary/60 rounded-t transition-all",style:{height:`${l.percentage/100*48}px`}}),s.jsxs("span",{className:"text-[10px] text-muted-foreground mt-1",children:["M+",l.delayMonths]}),s.jsxs("span",{className:"text-[10px] font-bold font-mono-numbers",children:[l.percentage,"%"]})]},c))})]})]})}const Vb=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],DNe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],LNe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],FNe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function BNe(){var N;const{state:e,computed:t,saveAll:r,updateMonthlyTreasuryConfig:n}=Fi(),[a,i]=w.useState(()=>{const P=new Set;return Vb.forEach(E=>{E.defaultVisible&&P.add(E.id)}),P}),[o,l]=w.useState("annual"),{startYear:c,durationYears:u}=e.scenarioSettings,d=Array.from({length:u},(P,E)=>c+E),f=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:h}=t,m=w.useMemo(()=>{const P=Cd(h.months);return d.map(E=>{const O=P.get(E);if(!O)return{year:E,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const T=t.treasuryProjection.years.find($=>$.year===E),A=(T==null?void 0:T.capex)||0,k=(T==null?void 0:T.depreciation)||0;return{year:O.year,revenue:O.revenue,cogs:O.cogs,grossMargin:O.grossMargin,payroll:O.payroll,opex:O.opex,capex:A,depreciation:k,ebitda:O.ebitda,operatingResult:O.ebitda-k,cashFlow:O.netCashFlow,treasuryStart:O.treasuryStart,treasuryEnd:O.treasuryEnd,fundingInjection:O.fundingInjection}})},[h,t.treasuryProjection,d]),y=m.map(P=>({year:P.year,tresorerie:P.treasuryEnd/1e3,cashFlow:P.cashFlow/1e3,levee:P.fundingInjection/1e3})),p=m.map(P=>({year:P.year,ca:P.revenue/1e3,margeBrute:P.grossMargin/1e3,ebitda:P.ebitda/1e3,resultat:P.operatingResult/1e3})),v=m[0],g=m[m.length-1],x=m.reduce((P,E)=>P+E.cashFlow,0),b=((N=h.breakEvenMonth)==null?void 0:N.year)||null,_=h.minTreasury,j=P=>{i(E=>{const O=new Set(E);return O.has(P)?O.delete(P):O.add(P),O})},S=Vb.filter(P=>a.has(P.id)),C=(P,E)=>E==="percent"?Wr(P):ee(P,!0);return s.jsx(Ui,{tabKey:"previsionnel",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Ra,{value:o,onValueChange:P=>l(P),children:s.jsxs(ha,{children:[s.jsxs(bt,{value:"annual",className:"flex items-center gap-2",children:[s.jsx(fI,{className:"h-4 w-4"}),"Vue Annuelle"]}),s.jsxs(bt,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(ev,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),s.jsxs(bt,{value:"params",className:"flex items-center gap-2",children:[s.jsx(yh,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),s.jsx(Te,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":"Global Canaux"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:f?"outline":"default",className:"text-xs",children:f?"Leve dsactive":"Leve active"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(configurable dans Scnarios)"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:"outline",className:"text-xs",children:[u," annes  ",S.length," indicateurs actifs"]}),s.jsx(qd,{pageTitle:o==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:o==="monthly"?LNe:DNe,fileName:o==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),s.jsx(Ad,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o==="params"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(kNe,{loans:e.monthlyTreasuryConfig.loans,onChange:P=>n({...e.monthlyTreasuryConfig,loans:P}),startYear:c,durationYears:u}),s.jsx(ENe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:P=>n({...e.monthlyTreasuryConfig,capexPayments:P}),products:e.products,startYear:c,durationYears:u})]}):o==="monthly"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(MNe,{projection:h,startYear:c,durationYears:u}),s.jsx(x2,{title:"Saisonnalit du CA",description:"Ajustez la rpartition mensuelle du chiffre d'affaires. Par dfaut, le CA est rparti uniformment (1/12e par mois).",seasonality:e.monthlyTreasuryConfig.revenueSeasonality,onChange:P=>n({...e.monthlyTreasuryConfig,revenueSeasonality:P})}),s.jsx(x2,{title:"Saisonnalit des Achats Matire",description:"Modulation mensuelle des achats. Les achats peuvent suivre la mme saisonnalit que le CA ou tre dcals (anticipation, stockage).",seasonality:e.monthlyTreasuryConfig.cogsSeasonality,onChange:P=>n({...e.monthlyTreasuryConfig,cogsSeasonality:P})}),s.jsx(INe,{terms:e.monthlyTreasuryConfig.cogsPaymentTerms||[{delayMonths:0,percentage:100}],onChange:P=>n({...e.monthlyTreasuryConfig,cogsPaymentTerms:P})}),s.jsxs(He,{title:"Vrification Cohrence Annuelle",action:s.jsx(Te,{variant:"outline",className:"text-xs",children:"Plan Produit vs Trsorerie"}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Vrifiez que la somme annuelle du CA et des achats matire correspond aux donnes du Plan Produit / moteur financier."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart CA"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart Achats"})]})}),s.jsx("tbody",{children:d.map(P=>{const E=t.revenueByYear.find(B=>B.year===P),O=(E==null?void 0:E.revenue)||0,T=(E==null?void 0:E.cogs)||0,A=h.months.filter(B=>B.year===P),k=A.reduce((B,Q)=>B+Q.revenue,0),$=A.reduce((B,Q)=>B+Q.cogs,0),D=k-O,M=$-T,I=Math.abs(D)<1,L=Math.abs(M)<T*.01+1;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-1.5 px-2 font-medium",children:P}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(O,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(k,!0)}),s.jsx("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers",I?"text-[hsl(var(--positive))]":"text-destructive"),children:I?"":ee(D,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(T,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee($,!0)}),s.jsx("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers",L?"text-[hsl(var(--positive))]":"text-amber-600"),children:L?"":ee(M,!0)})]},P)})})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Note : les carts sur les achats peuvent tre normaux si des conditions de paiement avec dlais sont configures (report entre annes)."})]}),s.jsx($Ne,{projection:h,startYear:c,durationYears:u}),s.jsx(NNe,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[s.jsx(pt,{label:`CA ${(g==null?void 0:g.year)||""}`,value:ee((g==null?void 0:g.revenue)||0,!0),subValue:`vs ${ee((v==null?void 0:v.revenue)||0,!0)} en ${v==null?void 0:v.year}`,trend:"up"}),s.jsx(pt,{label:"Cash Flow Cumul",value:ee(x,!0),subValue:`${v==null?void 0:v.year}-${g==null?void 0:g.year}`,trend:x>=0?"up":"down"}),s.jsx(pt,{label:"Trsorerie Min",value:ee(_,!0),subValue:"Point bas projet",trend:_>=0?"neutral":"down"}),s.jsx(pt,{label:"Break-even",value:b?b.toString():"N/A",subValue:"Cash flow positif"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(He,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:s.jsx("div",{className:"h-72",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(Lm,{data:y,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(la,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(kr,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),s.jsx(He,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:s.jsx("div",{className:"h-72",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:y,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(kr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),s.jsx(He,{title:"Soldes Intermdiaires de Gestion",children:s.jsx("div",{className:"h-72",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(eB,{data:p,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(Un,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Un,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),s.jsx(Un,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),s.jsx(Un,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),s.jsxs(He,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:s.jsxs(dz,{children:[s.jsx(fz,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx(yh,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),s.jsx(yN,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(FNe).map(([P,E])=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:E}),Vb.filter(O=>O.category===P).map(O=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(Se,{htmlFor:O.id,className:"text-sm cursor-pointer",children:O.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:O.description})]}),s.jsx(Z5,{id:O.id,checked:a.has(O.id),onCheckedChange:()=>j(O.id)})]},O.id))]},P))]})})]}),children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),d.map(P=>s.jsx(le,{className:"text-right min-w-24",children:P},P)),s.jsx(le,{className:"text-right min-w-28",children:"volution"})]})}),s.jsx(Xt,{children:S.map(P=>{const E=m.map(k=>P.calculate(k)),O=E[0]||0,T=E[E.length-1]||0,A=O!==0?(T-O)/Math.abs(O):0;return s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:s.jsxs("div",{children:[s.jsx("span",{children:P.name}),s.jsx("span",{className:"block text-xs text-muted-foreground",children:P.description})]})}),E.map((k,$)=>s.jsx(Y,{className:ie("text-right font-mono-numbers",P.format==="currency"&&k<0&&"text-destructive"),children:C(k,P.format)},$)),s.jsx(Y,{className:"text-right",children:s.jsxs("div",{className:ie("flex items-center justify-end gap-1",A>0?"text-green-600":A<0?"text-destructive":"text-muted-foreground"),children:[A>0?s.jsx(Gl,{className:"h-3 w-3"}):A<0?s.jsx(PS,{className:"h-3 w-3"}):null,s.jsxs("span",{className:"font-mono-numbers text-sm",children:[A>0?"+":"",Wr(A)]})]})})]},P.id)})})]})}),S.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun indicateur slectionn"}),s.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),s.jsx(He,{title:"Compte de Rsultat Simplifi",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(P=>s.jsx(le,{className:"text-right min-w-24",children:P},P))]})}),s.jsxs(Xt,{children:[s.jsxs(Ne,{className:"bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),m.map((P,E)=>s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(P.revenue,!0)},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.cogs,!0),")"]},E))]}),s.jsxs(Ne,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),m.map((P,E)=>s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(P.grossMargin,!0)},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.payroll,!0),")"]},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.opex,!0),")"]},E))]}),s.jsxs(Ne,{className:"border-t-2 bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),m.map((P,E)=>s.jsx(Y,{className:ie("text-right font-mono-numbers font-medium",P.ebitda<0&&"text-destructive"),children:ee(P.ebitda,!0)},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.depreciation,!0),")"]},E))]}),s.jsxs(Ne,{className:"border-t-2 bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),m.map((P,E)=>s.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",P.operatingResult<0&&"text-destructive"),children:ee(P.operatingResult,!0)},E))]})]})]})})}),s.jsx(He,{title:"Tableau des Flux de Trsorerie",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Flux"}),d.map(P=>s.jsx(le,{className:"text-right min-w-24",children:P},P))]})}),s.jsxs(Xt,{children:[s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),m.map((P,E)=>s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(P.treasuryStart,!0)},E))]}),s.jsxs(Ne,{className:"bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-green-600",children:["+",ee(P.revenue,!0)]},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),m.map((P,E)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-destructive",children:["-",ee(P.cogs+P.payroll+P.opex,!0)]},E))]}),s.jsxs(Ne,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),m.map((P,E)=>s.jsx(Y,{className:"text-right font-mono-numbers text-destructive",children:P.capex>0?`-${ee(P.capex,!0)}`:"-"},E))]}),s.jsxs(Ne,{className:"border-t",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),m.map((P,E)=>s.jsxs(Y,{className:ie("text-right font-mono-numbers font-medium",P.cashFlow<0?"text-destructive":"text-green-600"),children:[P.cashFlow>=0?"+":"",ee(P.cashFlow,!0)]},E))]}),s.jsxs(Ne,{className:"bg-green-50 dark:bg-green-950/20",children:[s.jsx(Y,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),m.map((P,E)=>s.jsx(Y,{className:"text-right font-mono-numbers text-green-600",children:P.fundingInjection>0?`+${ee(P.fundingInjection,!0)}`:"-"},E))]}),s.jsxs(Ne,{className:"border-t-2 bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),m.map((P,E)=>s.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",P.treasuryEnd<0&&"text-destructive"),children:ee(P.treasuryEnd,!0)},E))]})]})]})})})]})]})})}const b2=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function zNe(){const{state:e}=Fi(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return s.jsx(He,{title:"Allocation des Fonds",children:s.jsx("div",{className:"space-y-3",children:b2.map(n=>{const a=1/b2.length,i=r*a;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:n.label}),s.jsx("span",{className:"font-mono-numbers",children:ee(i,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function UNe(){var O,T,A;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=Fi(),{startYear:a,durationYears:i,initialCash:o}=e.scenarioSettings,l=Array.from({length:i},(k,$)=>a+$),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{monthlyTreasuryProjection:u}=t,d=w.useMemo(()=>{const k=Cd(u.months);return l.map($=>{const D=k.get($);return D?{year:D.year,revenue:D.revenue,totalCosts:D.cogs+D.payroll+D.opex,cashFlow:D.netCashFlow,treasuryStart:D.treasuryStart,treasuryEnd:D.treasuryEnd,fundingInjection:D.fundingInjection,minTreasuryInYear:D.treasuryEnd}:{year:$,revenue:0,totalCosts:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0,minTreasuryInYear:0}})},[u,l]),f=c.amount,h=c.preMoneyValuation,m=h+f,y=f/m,p=u.minTreasury,v=Math.max(0,-p),g=v>0?f/v:1,x=((O=u.breakEvenMonth)==null?void 0:O.year)||null,b=d.map(k=>({year:k.year,revenue:k.revenue/1e3,costs:k.totalCosts/1e3,cashFlow:k.cashFlow/1e3,treasury:k.treasuryEnd/1e3,isNegative:k.treasuryEnd<0})),_=k=>{r([{...c,amount:k}])},j=k=>{r([{...c,preMoneyValuation:k}])},S=k=>{r([{...c,year:parseInt(k)}])},C=k=>{r([{...c,quarter:k}])},N=k=>{n({initialCash:k})},P=p<0,E=((T=u.breakEvenMonth)==null?void 0:T.year)||((A=d.find(k=>k.treasuryEnd<0))==null?void 0:A.year);return s.jsx(Ui,{tabKey:"funding",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),P&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Cu,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",ee(p,!0)," en ",E]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(pt,{label:"Besoin Calcul",value:ee(v,!0),subValue:"max(0, -trso min)",trend:v>0?"down":void 0}),s.jsx(pt,{label:"Montant  Lever",value:ee(f,!0),subValue:"Ajustable ci-dessous"}),s.jsx(pt,{label:"Pre-Money",value:ee(h,!0),subValue:"Valorisation"}),s.jsx(pt,{label:"Post-Money",value:ee(m,!0),subValue:"Aprs leve"}),s.jsx(pt,{label:"Dilution",value:Wr(y),subValue:"Sur le round"})]}),s.jsx(He,{title:"Calibrage de la Leve",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(o,!0)})]}),s.jsx(an,{value:[o/1e3],onValueChange:([k])=>N(k*1e3),min:0,max:500,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"500k"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(f,!0)})]}),s.jsx(an,{value:[f/1e3],onValueChange:([k])=>_(k*1e3),min:0,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5M"})]}),f===0&&s.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(h,!0)})]}),s.jsx(an,{value:[h/1e3],onValueChange:([k])=>j(k*1e3),min:200,max:2e4,step:100}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"200k"}),s.jsx("span",{children:"20M"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(_u,{className:"h-4 w-4"}),"Anne"]}),s.jsxs(dt,{value:c.year.toString(),onValueChange:S,children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:l.map(k=>s.jsx(Ve,{value:k.toString(),children:k},k))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),s.jsxs(dt,{value:c.quarter,onValueChange:C,children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:bK.map(k=>s.jsx(Ve,{value:k,children:k},k))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),s.jsx(Te,{variant:"secondary",children:"Auto"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:ee(v,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),s.jsx("span",{className:"font-mono-numbers",children:Wr(Math.min(g,2))})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:ie("h-2 rounded-full transition-all",g>=1?"bg-accent":g>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(g*100,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),s.jsx("div",{className:"text-lg font-bold",children:x||"N/A"})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),s.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",p<0?"text-destructive":""),children:ee(p,!0)})]})]})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(He,{title:"Projection Cash Flow & Trsorerie",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(Lm,{data:b,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:k=>`${k}k`}),s.jsx(Ht,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(kr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(Un,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),s.jsx(zNe,{})]}),s.jsx(He,{title:"Projection Dtaille",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),s.jsx("tbody",{children:d.map(k=>s.jsxs("tr",{className:ie("border-b",k.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:k.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(k.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(k.totalCosts,!0)}),s.jsxs("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-medium",k.cashFlow>=0?"text-accent":"text-destructive"),children:[k.cashFlow>=0?"+":"",ee(k.cashFlow,!0)]}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:k.fundingInjection>0?`+${ee(k.fundingInjection,!0)}`:"-"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(k.treasuryStart,!0)}),s.jsx("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-bold",k.treasuryEnd<0?"text-destructive":""),children:ee(k.treasuryEnd,!0)})]},k.year))})]})})})]})})}const VNe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function WNe(){var O,T,A;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:o,saveAll:l}=Fi();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:d}=e.scenarioSettings,f=e.fundingRounds[e.fundingRounds.length-1],h=(f==null?void 0:f.amount)||0,m=Array.from({length:u},(k,$)=>c+$),y=(k,$)=>{const D=e.scenarioConfigs[k];if(e.revenueMode==="by-channel-global")return Ph(e.globalRevenueConfig,$)*(1+D.volumeAdjustment)*(1+D.priceAdjustment);let M=0;return e.products.forEach(I=>{const L=I.volumesByChannel;if(L){const B=I.priceHT||I.priceTTC_B2C/(1+(I.vatRate||.2)),Q=I.coef_shop||1.6,X=I.coef_dist||1.3,ne=I.coef_oem||1.4,z=B/Q/X,U=I.unitCost*ne,H=Math.round((L.B2C[$]||0)*(1+D.volumeAdjustment)),q=Math.round((L.B2B[$]||0)*(1+D.volumeAdjustment)),J=Math.round((L.OEM[$]||0)*(1+D.volumeAdjustment));M+=H*B*(1+D.priceAdjustment),M+=q*z*(1+D.priceAdjustment),M+=J*U*(1+D.priceAdjustment)}else if(I.volumesByYear[$]){const B=Math.round(I.volumesByYear[$]*(1+D.volumeAdjustment));M+=B*I.priceHT*(1+D.priceAdjustment)}}),M},p=k=>{const $=m.map(I=>y(k,I)),D=$[$.length-1]||0,M=$[0]||0;return{revenueLastYear:D,totalRevenue:$.reduce((I,L)=>I+L,0),cagr:D>0&&M>0&&u>1?Math.pow(D/M,1/(u-1))-1:0}},v=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],g=m.map(k=>{const $={year:k};return v.forEach(D=>{$[D.id]=y(D.id,k)/1e3}),$}),x=v.map(k=>{const $=p(k.id);return{...k,...$,config:e.scenarioConfigs[k.id]}}),b=k=>{a({startYear:k})},_=k=>{a({durationYears:k})},j=k=>{a({initialCash:k})},S=k=>{if(f){const $=e.fundingRounds.map(D=>D.id===f.id?{...D,amount:k}:D);i($)}},{monthlyTreasuryProjection:C}=t,N=w.useMemo(()=>{const k=Cd(C.months);return m.map($=>{const D=k.get($);return D?{year:D.year,revenue:D.revenue/1e3,cogs:D.cogs/1e3,payroll:D.payroll/1e3,opex:D.opex/1e3,grossMargin:D.grossMargin/1e3,ebitda:D.ebitda/1e3,cashFlow:D.netCashFlow/1e3,treasury:D.treasuryEnd/1e3}:{year:$,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,m]),P=C.minTreasury/1e3,E=((O=C.breakEvenMonth)==null?void 0:O.year)||"N/A";return s.jsx(Ui,{tabKey:"scenarios",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),s.jsxs(Te,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{pageTitle:"Scnarios",sections:VNe,fileName:"Scenarios"}),s.jsx(Ad,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(He,{title:"Paramtres du Scnario",id:"scenario-settings",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_u,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Se,{children:"Anne de dbut"})]}),s.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(k=>s.jsx(se,{size:"sm",variant:c===k?"default":"outline",onClick:()=>b(k),children:k},k))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_S,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Se,{children:"Dure (annes)"})]}),s.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(k=>s.jsxs(se,{size:"sm",variant:u===k?"default":"outline",onClick:()=>_(k),children:[k," ans"]},k))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),s.jsxs(He,{title:"Paramtres Trsorerie",id:"treasury-params",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[s.jsx(oi,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:k=>o(!k)}),s.jsx(Se,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),s.jsx(Te,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(bI,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Se,{children:"Trsorerie initiale (T0)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(d,!0)})]}),s.jsx(an,{value:[d/1e3],onValueChange:([k])=>j(k*1e3),min:0,max:1e3,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Gl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Se,{children:"Montant Lev"}),s.jsx(Te,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:(f==null?void 0:f.name)||"Tour de table"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(h,!0)})]}),s.jsx(an,{value:[h/1e3],onValueChange:([k])=>S(k*1e3),min:100,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"100k"}),s.jsx("span",{children:"5M"})]})]})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[s.jsx(pt,{label:"Cash Total T0",value:ee(d+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),s.jsx(pt,{label:"Point Bas Trso",value:ee(P*1e3,!0),subValue:"Sur la priode",trend:P<0?"down":void 0}),s.jsx(pt,{label:"Break-even",value:E.toString(),subValue:"Cash flow positif"}),s.jsx(pt,{label:"Trso Finale",value:ee((((T=N[N.length-1])==null?void 0:T.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(k=>s.jsxs("div",{className:ie("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===k.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(k.id),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold",children:k.name}),e.activeScenarioId===k.id&&s.jsx(Te,{children:"Actif"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:ee(k.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:Wr(k.cagr)})]})]}),s.jsxs("div",{className:"space-y-3",onClick:$=>$.stopPropagation(),children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:ie("font-mono-numbers",k.config.volumeAdjustment>0?"text-green-600":k.config.volumeAdjustment<0?"text-destructive":""),children:[k.config.volumeAdjustment>0?"+":"",(k.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[(k.config.volumeAdjustment+.5)*100],onValueChange:([$])=>n(k.id,{volumeAdjustment:$/100-.5}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:ie("font-mono-numbers",k.config.priceAdjustment>0?"text-green-600":k.config.priceAdjustment<0?"text-destructive":""),children:[k.config.priceAdjustment>0?"+":"",(k.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[(k.config.priceAdjustment+.2)*250],onValueChange:([$])=>n(k.id,{priceAdjustment:$/250-.2}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:ie("font-mono-numbers",k.config.opexAdjustment<0?"text-green-600":k.config.opexAdjustment>0?"text-destructive":""),children:[k.config.opexAdjustment>0?"+":"",(k.config.opexAdjustment*100).toFixed(0),"%"]})]}),s.jsx(an,{value:[(k.config.opexAdjustment+.3)*166],onValueChange:([$])=>n(k.id,{opexAdjustment:$/166-.3}),min:0,max:100,step:5})]})]})]},k.id))}),s.jsx(He,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:s.jsx("div",{className:"h-80",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(eB,{data:g,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:k=>`${k}k`}),s.jsx(Ht,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(on,{}),v.map(k=>s.jsx(Un,{type:"monotone",dataKey:k.id,name:k.name,stroke:k.color,strokeWidth:e.activeScenarioId===k.id?3:1,dot:{fill:k.color}},k.id))]})})})}),s.jsxs(He,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",s.jsx(Te,{variant:"outline",children:(A=v.find(k=>k.id===e.activeScenarioId))==null?void 0:A.name})," avec trso initiale ",ee(d,!0),!e.excludeFundingFromTreasury&&` + leve ${ee(h,!0)}`," "," ",s.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),s.jsx("div",{className:"h-80",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(Lm,{data:N,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:k=>`${k}k`}),s.jsx(Ht,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(kr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),s.jsx(Un,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(k=>s.jsx(He,{title:k.name,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:ee(k.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:Wr(k.cagr)})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.volumeAdjustment>0?"+":"",(k.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.priceAdjustment>0?"+":"",(k.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.opexAdjustment>0?"+":"",(k.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[k.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",k.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",k.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},k.id))})]})})}const ty=e=>(e.salesB2B||0)+(e.salesB2C||0)+(e.salesOEM||0)||e.revenue,bz=e=>(e.stockVariation||0)+(e.purchasesGoods||0)+(e.transportCosts||0),wz=e=>ty(e)-bz(e),jz=e=>(e.productionExercice||0)-(e.rawMaterials||0)-(e.subcontracting||0),wN=e=>wz(e)+jz(e),_z=e=>wN(e)-(e.otherPurchases||e.externalCosts||0),Sz=e=>_z(e)+(e.operatingSubsidies||0)-(e.taxesAndDuties||0)-e.payroll,Cz=e=>Sz(e)+(e.otherOperatingIncome||0)-(e.otherOperatingExpenses||0)-e.depreciation,Nz=e=>Cz(e)+(e.financialIncome||0)-(e.financialExpenses||0),Pz=e=>(e.exceptionalIncome||0)-(e.exceptionalExpenses||0),HNe=e=>Nz(e)+Pz(e)-(e.employeeParticipation||0)-(e.corporateTax||0),qNe=[{id:"h_ca",label:"CHIFFRE D'AFFAIRE",type:"calculated",calculate:ty,bold:!0,highlight:!0},{id:"salesB2B",label:"Dont Ventes B2B",type:"input",field:"salesB2B",indent:2},{id:"salesB2C",label:"Dont Ventes B2C",type:"input",field:"salesB2C",indent:2},{id:"salesOEM",label:"Dont Ventes OEM",type:"input",field:"salesOEM",indent:2},{id:"sep1",label:"",type:"separator"},{id:"h_cogs",label:"- Cots d'achat des marchandises vendues",type:"calculated",calculate:bz,bold:!0,sign:"negative"},{id:"stockVariation",label:"Variation de stock",type:"input",field:"stockVariation",indent:2},{id:"purchasesGoods",label:"Achat de marchandises",type:"input",field:"purchasesGoods",indent:2},{id:"transportCosts",label:"Transport de marchandises",type:"input",field:"transportCosts",indent:2},{id:"sep2",label:"",type:"separator"},{id:"margeComm",label:"MARGE COMMERCIALE",type:"calculated",calculate:wz,bold:!0,highlight:!0},{id:"sep3",label:"",type:"separator"},{id:"prodExercice",label:"PRODUCTION DE L'EXERCICE",type:"input",field:"productionExercice"},{id:"rawMaterials",label:"- MP, appro. Consomms",type:"input",field:"rawMaterials",indent:1},{id:"subcontracting",label:"- Sous-traitance directe",type:"input",field:"subcontracting",indent:1},{id:"margeProd",label:"MARGE BRUTE DE PRODUCTION",type:"calculated",calculate:jz,bold:!0},{id:"sep4",label:"",type:"separator"},{id:"margeBrute",label:"MARGE (BRUTE GLOBALE) TOTALE",type:"calculated",calculate:wN,bold:!0,highlight:!0},{id:"otherPurchases",label:"- Autres achats & Charges externes",type:"input",field:"otherPurchases",sign:"negative"},{id:"sep5",label:"",type:"separator"},{id:"va",label:"VALEUR AJOUTE",type:"calculated",calculate:_z,bold:!0,highlight:!0},{id:"operatingSubsidies",label:"+ Subventions d'exploitation",type:"input",field:"operatingSubsidies",indent:1},{id:"taxesAndDuties",label:"- Impts, taxes et versements assimils",type:"input",field:"taxesAndDuties",indent:1,sign:"negative"},{id:"payroll",label:"- Charges de personnel",type:"input",field:"payroll",sign:"negative"},{id:"sep6",label:"",type:"separator"},{id:"ebe",label:"EXCDENT BRUT D'EXPLOITATION (EBE)",type:"calculated",calculate:Sz,bold:!0,highlight:!0},{id:"otherOpIncome",label:"+ Autres produits de gestion courante",type:"input",field:"otherOperatingIncome",indent:1},{id:"depreciation",label:"- Dotations aux amortissements et aux provisions",type:"input",field:"depreciation",indent:1,sign:"negative"},{id:"otherOpExpenses",label:"- Autres charges de gestion courante",type:"input",field:"otherOperatingExpenses",indent:1,sign:"negative"},{id:"sep7",label:"",type:"separator"},{id:"rex",label:"RSULTAT D'EXPLOITATION",type:"calculated",calculate:Cz,bold:!0,highlight:!0},{id:"financialIncome",label:"+ QP de rsultat positif & Produits Financiers",type:"input",field:"financialIncome",indent:1},{id:"financialExpenses",label:"- QP de rsultat ngatif & Charges Financires",type:"input",field:"financialExpenses",indent:1,sign:"negative"},{id:"sep8",label:"",type:"separator"},{id:"rcai",label:"RSULTAT COURANT AVANT IMPTS",type:"calculated",calculate:Nz,bold:!0,highlight:!0},{id:"exceptionalIncome",label:"+ Produits exceptionnels",type:"input",field:"exceptionalIncome",indent:1},{id:"exceptionalExpenses",label:"- Charges exceptionnelles",type:"input",field:"exceptionalExpenses",indent:1,sign:"negative"},{id:"sep9",label:"",type:"separator"},{id:"rexcep",label:"RSULTAT EXCEPTIONNEL",type:"calculated",calculate:Pz,bold:!0},{id:"employeeParticipation",label:"Participation des salaris",type:"input",field:"employeeParticipation",indent:1},{id:"corporateTax",label:"Impts sur les bnfices & CIR",type:"input",field:"corporateTax",indent:1},{id:"sep10",label:"",type:"separator"},{id:"rnet",label:"RSULTAT NET",type:"calculated",calculate:HNe,bold:!0,highlight:!0}];function KNe(e){return{year:e,revenue:0,grossMargin:0,payroll:0,externalCosts:0,depreciation:0}}function GNe({data:e,onChange:t}){const[r,n]=w.useState(new Date().getFullYear()),a=(c,u,d)=>{const f=[...e];f[c]={...f[c],[u]:d};const h=f[c],m=ty(h);h.revenue=m;const y=wN(h);h.grossMargin=m>0?y/m:0,h.externalCosts=h.otherPurchases??h.externalCosts,t(f)},i=c=>{t(e.filter(u=>u.year!==c))},o=new Date().getFullYear(),l=Array.from({length:10},(c,u)=>o-9+u).filter(c=>!e.some(u=>u.year===c));return s.jsxs(He,{title:"Compte de Rsultat Historique",id:"valuation-historical",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-muted/30 rounded-lg border",children:[s.jsx("span",{className:"text-sm font-medium",children:"Ajouter une anne :"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:l.map(c=>s.jsx(se,{size:"sm",variant:r===c?"default":"outline",className:"h-7 text-xs",onClick:()=>{if(n(c),!e.some(u=>u.year===c)){const u=[...e,KNe(c)].sort((d,f)=>d.year-f.year);t(u)}},children:c},c))})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Slectionnez une anne ci-dessus pour commencer la saisie."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 min-w-[280px] sticky left-0 bg-background z-10",children:"Poste"}),e.map(c=>s.jsx("th",{className:"text-center py-2 px-2 min-w-[140px]",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"font-bold",children:c.year}),s.jsx(se,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-muted-foreground hover:text-destructive",onClick:()=>i(c.year),children:s.jsx(Ir,{className:"h-3 w-3"})})]})},c.year))]}),s.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[s.jsx("th",{}),e.map(c=>s.jsx("th",{colSpan:2,className:"text-center py-1 px-2",children:s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"flex-1 text-right pr-2",children:"Montant"}),s.jsx("span",{className:"w-14 text-right",children:"% CA"})]})},c.year))]})]}),s.jsx("tbody",{children:qNe.map(c=>c.type==="separator"?s.jsx("tr",{children:s.jsx("td",{colSpan:1+e.length*2,className:"h-1"})},c.id):s.jsxs("tr",{className:ie("border-b border-border/50",c.highlight&&"bg-muted/40"),children:[s.jsx("td",{className:ie("py-1.5 px-3 sticky left-0 bg-background z-10",c.highlight&&"bg-muted/40",c.bold&&"font-bold",c.indent===1&&"pl-6",c.indent===2&&"pl-10","text-xs"),children:c.label}),e.map((u,d)=>{const f=ty(u);if(c.type==="calculated"&&c.calculate){const y=c.calculate(u),p=f>0?y/f:0;return s.jsx("td",{colSpan:2,className:ie("py-1.5 px-2"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:ie("flex-1 text-right font-mono-numbers pr-2",c.bold&&"font-bold",y<0&&"text-destructive",y>0&&c.highlight&&"text-accent"),children:ee(y,!0)}),s.jsx("span",{className:ie("w-14 text-right text-xs font-mono-numbers",p<0?"text-destructive":"text-muted-foreground"),children:f>0?`${(p*100).toFixed(0)}%`:"-"})]})},u.year)}const h=c.field?u[c.field]??0:0,m=f>0?h/f:0;return s.jsx("td",{colSpan:2,className:"py-1 px-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(je,{type:"number",value:h||"",placeholder:"0",onChange:y=>{c.field&&a(d,c.field,Number(y.target.value)||0)},className:ie("h-7 text-right font-mono-numbers text-xs flex-1","border-transparent bg-transparent hover:border-border focus:border-primary focus:bg-background")}),s.jsx("span",{className:ie("w-14 text-right text-xs font-mono-numbers shrink-0",m<0?"text-destructive":"text-muted-foreground"),children:f>0&&h!==0?`${(m*100).toFixed(0)}%`:"-"})]})},u.year)})]},c.id))})]})})]})}const w2=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function YNe(e){return e.projectedRevenue*e.multiple}function XNe(e){return e.projectedEBITDA*e.multiple}function QNe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function JNe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,o])=>{const l=n[i]||0;a+=l*o}),t*a}function ZNe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function ePe(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,o)=>i+o,0)*25e4;return t+a}function pc(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=YNe(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=XNe(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=QNe(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=JNe(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=ZNe(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=ePe(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function tPe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const rPe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function nPe(){const{state:e,computed:t,updateHistoricalData:r,updateValuationConfig:n,saveAll:a}=Fi(),{startYear:i,durationYears:o}=e.scenarioSettings,l=Array.from({length:o},(z,U)=>i+U),c=e.valuationConfig,u=z=>n(z),d=c.selectedMethods,f=c.valuationBasis,h=c.historicalYear,m=c.projectedYear,y=c.mixWeight,p=c.averageYears,v=c.valuationParams,g=c.dilutionConfig,x=c.exitScenarios,b=(()=>{const z=e.historicalData[e.historicalData.length-1];return z?z.revenue*z.grossMargin-z.payroll-z.externalCosts:5e5})(),_=e.fundingRounds[e.fundingRounds.length-1],j=(_==null?void 0:_.amount)||15e5;R.useEffect(()=>{(g.totalRaise!==j||g.referenceEBITDA!==b)&&u({dilutionConfig:{...g,totalRaise:j,referenceEBITDA:b}})},[j,b]);const S=Math.max(2e5,g.referenceEBITDA*g.ebitdaMultiple),C=g.totalRaise*(1-g.ocRatio),N=S+C,P=N>0?C/N:0,E=e.historicalData.map(z=>z.year),O=[...E,...l],A=(()=>{const z=Z=>{const te=e.historicalData.find(_e=>_e.year===Z);if(!te)return{revenue:0,ebitda:0,ebit:0};const K=te.revenue*te.grossMargin-te.payroll-te.externalCosts,he=K-te.depreciation;return{revenue:te.revenue,ebitda:K,ebit:he}},U=Z=>{const te=t.revenueByYear.find(ht=>ht.year===Z),V=t.payrollByYear.find(ht=>ht.year===Z),K=t.opexByYear.find(ht=>ht.year===Z),he=t.capexByYear.find(ht=>ht.year===Z),_e=(te==null?void 0:te.revenue)||0,Ye=_e-((te==null?void 0:te.cogs)||0)-((V==null?void 0:V.payroll)||0)-((K==null?void 0:K.opex)||0),et=Ye-((he==null?void 0:he.depreciation)||0);return{revenue:_e,ebitda:Ye,ebit:et}},H=Z=>E.includes(Z)?z(Z):U(Z);if(f==="average"){if(p.length===0)return{revenue:0,ebitda:0,ebit:0};const Z=p.map(V=>H(V)),te=Z.length;return{revenue:Z.reduce((V,K)=>V+K.revenue,0)/te,ebitda:Z.reduce((V,K)=>V+K.ebitda,0)/te,ebit:Z.reduce((V,K)=>V+K.ebit,0)/te}}if(f==="historical")return z(h);if(f==="projected")return U(m);const q=z(h),J=U(m);return{revenue:q.revenue*(1-y)+J.revenue*y,ebitda:q.ebitda*(1-y)+J.ebitda*y,ebit:q.ebit*(1-y)+J.ebit*y}})(),$=(()=>{const z=[];if(d.includes("revenue_multiple")&&z.push(pc("revenue_multiple",{projectedRevenue:A.revenue,multiple:v.revenue_multiple.multiple})),d.includes("ebitda_multiple")&&z.push(pc("ebitda_multiple",{projectedEBITDA:A.ebitda,multiple:g.ebitdaMultiple})),d.includes("dcf")){const U=l.map(H=>{const q=t.revenueByYear.find(V=>V.year===H),J=t.payrollByYear.find(V=>V.year===H),Z=t.opexByYear.find(V=>V.year===H),te=t.capexByYear.find(V=>V.year===H);return((q==null?void 0:q.revenue)||0)-((q==null?void 0:q.cogs)||0)-((J==null?void 0:J.payroll)||0)-((Z==null?void 0:Z.opex)||0)-((te==null?void 0:te.capex)||0)});z.push(pc("dcf",{cashFlows:U,discountRate:v.dcf.discountRate,terminalGrowthRate:v.dcf.terminalGrowthRate}))}return d.includes("scorecard")&&z.push(pc("scorecard",{baseValuation:v.scorecard.baseValuation,factors:{team:v.scorecard.team,market:v.scorecard.market,product:v.scorecard.product,competition:v.scorecard.competition,marketing:v.scorecard.marketing,fundingNeed:v.scorecard.fundingNeed}})),d.includes("berkus")&&z.push(pc("berkus",v.berkus)),d.includes("risk_factor")&&z.push(pc("risk_factor",{baseValuation:v.risk_factor.baseValuation,factors:{managementRisk:v.risk_factor.managementRisk,businessStage:v.risk_factor.businessStage,legislation:v.risk_factor.legislation,manufacturing:v.risk_factor.manufacturing,salesMarketing:v.risk_factor.salesMarketing,fundingCapital:v.risk_factor.fundingCapital,competition:v.risk_factor.competition,technology:v.risk_factor.technology,litigation:v.risk_factor.litigation,international:v.risk_factor.international,reputation:v.risk_factor.reputation,potentialExit:v.risk_factor.potentialExit}})),z})(),D=tPe($),M=z=>{const U=d.includes(z)?d.filter(H=>H!==z):[...d,z];u({selectedMethods:U})},I=z=>{const U=p.includes(z)?p.filter(H=>H!==z):[...p,z].sort();u({averageYears:U})},L=$.map(z=>{var U;return{name:((U=w2.find(H=>H.id===z.method))==null?void 0:U.name)||z.method,value:z.value/1e6,confidence:z.confidence}}),B=(z,U,H)=>z<=0||U<=0||H<=0?0:Math.pow(U/z,1/H)-1,Q=z=>{const U=t.revenueByYear.find(J=>J.year===z),H=t.payrollByYear.find(J=>J.year===z),q=t.opexByYear.find(J=>J.year===z);return U?U.revenue-U.cogs-((H==null?void 0:H.payroll)||0)-((q==null?void 0:q.opex)||0):0},X=Object.entries(x).map(([z,U])=>{const H=U.year,q=Q(H),J=q*U.exitMultiple,te=J*P,V=H-e.scenarioSettings.startYear,K=B(C,te,V),he=C>0?te/C:0;return{scenario:z,year:H,exitMultiple:U.exitMultiple,probability:U.probability,ebitdaAtExit:q,exitValuation:J,investorReturn:te,irr:K,multiple:he}}),ne=l.map(z=>{const U=t.revenueByYear.find(he=>he.year===z),H=t.payrollByYear.find(he=>he.year===z),q=t.opexByYear.find(he=>he.year===z),J=t.capexByYear.find(he=>he.year===z),Z=(U==null?void 0:U.revenue)||0,te=Z-((U==null?void 0:U.cogs)||0),V=te-((H==null?void 0:H.payroll)||0)-((q==null?void 0:q.opex)||0),K=V-((J==null?void 0:J.depreciation)||0);return{year:z,revenue:Z/1e3,grossMargin:te/1e3,ebitda:V/1e3,ebit:K/1e3}});return s.jsx(Ui,{tabKey:"valuation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:"outline",className:"text-xs",children:[d.length," mthodes slectionnes"]}),s.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",ee(D,!0)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{pageTitle:"Valorisation & Analyse",sections:rPe,fileName:"Valorisation"}),s.jsx(Ad,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),(()=>{const z=Math.max(2e5,A.ebitda*g.ebitdaMultiple),U=g.totalRaise*(1-g.ocRatio),H=z+U,q=H>0?U/H:0,J=X.reduce((te,V)=>te+V.irr*V.probability,0),Z=f==="average"?"moyenne":f==="historical"?"historique":f==="mixed"?"mixte":"projet";return s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[s.jsx(pt,{label:"Pre-Money (EBITDA)",value:ee(z,!0),subValue:`${g.ebitdaMultiple.toFixed(1)}x EBITDA ${Z}`}),s.jsx(pt,{label:"Post-Money",value:ee(H,!0),subValue:`Leve: ${ee(g.totalRaise,!0)}`}),s.jsx(pt,{label:"Dilution Totale",value:Wr(q),subValue:"Part investisseur"}),s.jsx(pt,{label:"TRI moyen",value:Wr(J),subValue:"Pondr par probabilit"})]})})(),s.jsxs(Ra,{defaultValue:"historical",className:"space-y-4",children:[s.jsxs(ha,{className:"flex flex-wrap",children:[s.jsx(bt,{value:"historical",children:"Historique Financier"}),s.jsx(bt,{value:"methods",children:"Mthodes de Valorisation"}),s.jsx(bt,{value:"dilution",children:"Simulation Dilution"}),s.jsx(bt,{value:"exit",children:"Scnarios de Sortie"})]}),s.jsx(Nt,{value:"historical",className:"space-y-6",children:s.jsx(GNe,{data:e.historicalData,onChange:r})}),s.jsxs(Nt,{value:"methods",className:"space-y-6",children:[s.jsxs(He,{title:"Base de Calcul",children:[s.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"},{value:"average",label:"Moyenne",desc:"Moyenne de plusieurs annes"}].map(z=>s.jsxs("button",{onClick:()=>u({valuationBasis:z.value}),className:ie("p-4 rounded-lg text-left transition-colors border-2",f===z.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium",children:z.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:z.desc})]},z.value))}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(f==="historical"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Anne historique de rfrence"}),s.jsx("div",{className:"flex gap-2",children:E.map(z=>s.jsx(se,{size:"sm",variant:h===z?"default":"outline",onClick:()=>u({historicalYear:z}),children:z},z))})]}),(f==="projected"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Anne projete de rfrence"}),s.jsx("div",{className:"flex gap-2",children:l.filter((z,U)=>U>=Math.max(0,l.length-4)).map(z=>s.jsx(se,{size:"sm",variant:m===z?"default":"outline",onClick:()=>u({projectedYear:z}),children:z},z))})]})]}),f==="average"&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(Se,{children:"Slectionnez les annes de rfrence pour le calcul de la moyenne"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:O.map(z=>{const U=p.includes(z),H=E.includes(z);return s.jsxs("label",{className:ie("flex items-center gap-2 px-3 py-2 rounded-lg border-2 cursor-pointer transition-colors",U?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx(oi,{checked:U,onCheckedChange:()=>I(z)}),s.jsx("span",{className:"text-sm font-medium",children:z}),s.jsx(Te,{variant:"outline",className:"text-[10px]",children:H?"Hist.":"Proj."})]},z)})}),p.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," anne",p.length>1?"s":""," slectionne",p.length>1?"s":""," : ",p.join(", ")]})]}),f==="mixed"&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pondration"}),s.jsxs("span",{children:[Math.round((1-y)*100),"% historique / ",Math.round(y*100),"% projet"]})]}),s.jsx(an,{value:[y*100],onValueChange:([z])=>u({mixWeight:z/100}),min:0,max:100,step:5})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(A.revenue,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBITDA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",A.ebitda<0&&"text-destructive"),children:ee(A.ebitda,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBIT de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",A.ebit<0&&"text-destructive"),children:ee(A.ebit,!0)})]})]})]}),s.jsxs(He,{title:"Slection des Mthodes",children:[s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:w2.filter(z=>z.id==="revenue_multiple"||z.id==="ebitda_multiple").map(z=>{const U=d.includes(z.id),H=$.find(q=>q.method===z.id);return s.jsxs("button",{onClick:()=>M(z.id),className:ie("p-4 rounded-lg text-left transition-all border-2",U?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:z.name}),U&&s.jsx(Te,{variant:"default",className:"text-xs",children:"Actif"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.description}),H&&s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(H.value,!0)})]},z.id)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Se,{children:"Multiple CA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[v.revenue_multiple.multiple.toFixed(1),"x"]})]}),s.jsx(an,{value:[v.revenue_multiple.multiple],onValueChange:([z])=>u({valuationParams:{...v,revenue_multiple:{...v.revenue_multiple,multiple:z}}}),min:.5,max:10,step:.5}),d.includes("revenue_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",ee(A.revenue,!0),"  ",v.revenue_multiple.multiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:ee(A.revenue*v.revenue_multiple.multiple,!0)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Se,{children:"Multiple EBITDA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[g.ebitdaMultiple.toFixed(1),"x"]})]}),s.jsx(an,{value:[g.ebitdaMultiple],onValueChange:([z])=>u({dilutionConfig:{...g,ebitdaMultiple:z}}),min:2,max:15,step:.5}),d.includes("ebitda_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",ee(A.ebitda,!0),"  ",g.ebitdaMultiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:ee(A.ebitda*g.ebitdaMultiple,!0)})]})]})]})]}),$.length>0&&s.jsx(He,{title:"Comparaison des Valorisations",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:L,layout:"vertical",children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{type:"number",tickFormatter:z=>`${z}M`}),s.jsx(yr,{type:"category",dataKey:"name",width:120}),s.jsx(Ht,{formatter:z=>`${z.toFixed(1)}M`}),s.jsx(kr,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),s.jsx(Nt,{value:"dilution",className:"space-y-6",children:s.jsx(QK,{config:g,onChange:z=>u({dilutionConfig:z})})}),s.jsxs(Nt,{value:"exit",className:"space-y-6",children:[s.jsx(He,{title:"Paramtres des Scnarios de Sortie",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:z,label:U,color:H})=>s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:ie("font-medium",H),children:U}),s.jsx(Te,{variant:"outline",children:x[z].year})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Multiple EBITDA sortie"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[x[z].exitMultiple,"x"]})]}),s.jsx(an,{value:[x[z].exitMultiple],onValueChange:([q])=>u({exitScenarios:{...x,[z]:{...x[z],exitMultiple:q}}}),min:2,max:15,step:.5})]})]},z))})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:X.map(z=>s.jsx(He,{title:z.scenario==="conservative"?"Prudent":z.scenario==="base"?"Base":"Ambitieux",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),s.jsx("p",{className:"text-xl font-bold",children:z.year})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),s.jsxs("p",{className:"text-xl font-bold",children:[z.exitMultiple,"x"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.ebitdaAtExit,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.exitValuation,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.investorReturn,!0)})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"TRI"}),s.jsx("span",{className:ie("font-bold font-mono-numbers",z.irr>=.25?"text-green-600 dark:text-green-400":z.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:Wr(z.irr)})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm",children:"Multiple"}),s.jsxs("span",{className:"font-bold font-mono-numbers",children:[z.multiple.toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),s.jsx("span",{className:"text-muted-foreground",children:Wr(z.probability)})]})]})]})},z.scenario))}),s.jsx(He,{title:"volution Prvisionnelle P&L",children:s.jsx("div",{className:"h-64",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(tB,{data:ne,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:z=>`${z}k`}),s.jsx(Ht,{formatter:z=>`${z.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(la,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),s.jsx(la,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),s.jsx(la,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function aPe(){return s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[s.jsx($y,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const iPe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"};function sPe(){var A,k,$,D;const{state:e,computed:t}=Fi(),{monthlyTreasuryProjection:r}=t,{startYear:n,durationYears:a,initialCash:i}=e.scenarioSettings,o=n+a-1,l=Array.from({length:a},(M,I)=>n+I),c=w.useMemo(()=>{const M=Cd(r.months);return l.map(I=>{const L=M.get(I);if(!L)return{year:I,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:0,treasuryEnd:0,ebitda:0,capex:0};const Q=r.months.filter(X=>X.year===I).reduce((X,ne)=>X+ne.capexPayments,0);return{...L,capex:Q}})},[r,l]),u=r.totalFundingRaised,d=i+u,f=r.minTreasury,h=((A=r.breakEvenMonth)==null?void 0:A.year)||"N/A",m=f<0,y=(k=c.find(M=>M.treasuryEnd<0))==null?void 0:k.year;w.useMemo(()=>{const M=r.months.filter(I=>I.netCashFlow<0);return M.length===0?0:Math.max(...M.map(I=>Math.abs(I.netCashFlow)))},[r]);const p=w.useMemo(()=>{const M=r.months.filter(I=>I.netCashFlow<0);return M.length===0?0:M.reduce((I,L)=>I+Math.abs(L.netCashFlow),0)/M.length},[r]),v=p>0?Math.round(d/p):99,g=c.reduce((M,I)=>M+I.revenue,0),x=c.reduce((M,I)=>M+I.payroll,0),b=c.reduce((M,I)=>M+I.opex,0),_=r.totalCapexPayments,j=c.reduce((M,I)=>M+I.cogs,0),S=x+b+_+j,C=Math.max(0,-f),N=u-C,P=c.map(M=>({year:M.year,"Cash Flow":M.netCashFlow/1e3,Trsorerie:M.treasuryEnd/1e3})),E=e.fundingRounds[e.fundingRounds.length-1],O=E?E.preMoneyValuation+E.amount:0,T=E?E.amount/O:0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Te,{variant:"default",children:iPe[e.activeScenarioId]}),s.jsxs(Te,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),s.jsxs(Te,{variant:"outline",className:"text-xs",children:[n,"  ",o," (",a," ans)"]}),s.jsxs(Te,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(_u,{className:"h-3 w-3"}),e.products.length," produits"]})]}),s.jsx(aPe,{})]}),m&&s.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Cu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",y,". Point bas: ",ee(f,!0),". Financement additionnel de ",ee(Math.abs(f),!0)," requis."]})]})]}),s.jsxs(He,{title:"Approche Cash",id:"cash-approach",children:[s.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(bI,{className:"h-4 w-4"}),"Cash Initial (T0)"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(i,!0)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(ek,{className:"h-4 w-4"}),"Montant Lev"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(u,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.fundingRounds.length," tour(s)"]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-accent/10 border border-accent/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Rv,{className:"h-4 w-4"}),"Trso Dpart"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(d,!0)})]}),s.jsxs("div",{className:ie("p-4 rounded-lg border",f<0?"bg-destructive/10 border-destructive/30":"bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[f<0?s.jsx(PS,{className:"h-4 w-4"}):s.jsx(Gl,{className:"h-4 w-4"}),"Point Bas"]}),s.jsx("div",{className:ie("text-2xl font-bold font-mono-numbers",f<0&&"text-destructive"),children:ee(f,!0)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(_u,{className:"h-4 w-4"}),"Break-even"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:h}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Runway: ",v>60?"60+":v," mois"]})]})]}),s.jsx("div",{className:"h-72",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(Lm,{data:P,children:[s.jsx(cn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:M=>`${M}k`}),s.jsx(Ht,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(on,{}),s.jsx(kr,{dataKey:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(Un,{type:"monotone",dataKey:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx(He,{title:"Justification des Besoins",id:"needs-justification",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(JP,{className:"h-4 w-4"}),"Rpartition des Cots (",n,"-",o,")"]}),s.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:x,icon:Nu,color:"hsl(var(--primary))"},{label:"COGS (Cot des ventes)",value:j,icon:Rl,color:"hsl(var(--chart-4))"},{label:"OPEX (Charges)",value:b,icon:JP,color:"hsl(var(--accent))"},{label:"CAPEX (R&D)",value:_,icon:Rv,color:"hsl(var(--chart-1))"}].map(M=>{const I=M.icon,L=S>0?M.value/S*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(I,{className:"h-4 w-4",style:{color:M.color}}),s.jsx("span",{children:M.label})]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:ee(M.value,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${L}%`,backgroundColor:M.color}})}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[L.toFixed(0),"%"]})]},M.label)}),s.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Cots"}),s.jsx("span",{className:"font-mono-numbers",children:ee(S,!0)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ek,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),s.jsx(Te,{variant:"secondary",children:"Calcul"})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(C,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),s.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Montant Lev"}),s.jsx(Te,{variant:"default",children:(E==null?void 0:E.name)||"Round"})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(u,!0)})]}),s.jsxs("div",{className:ie("p-4 rounded-lg border-2",N>=0?"bg-chart-4/10 border-chart-4/30":"bg-destructive/10 border-destructive/30"),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:N>=0?"Marge de Scurit":"Dficit"}),s.jsxs("span",{className:ie("text-xl font-bold font-mono-numbers",N>=0?"text-chart-4":"text-destructive"),children:[N>=0?"+":"",ee(N,!0)]})]}),N>=0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",Wr(N/u)," sur le montant lev"]})]})]})]})]})}),s.jsx(He,{title:"Projection Dtaille",id:"detailed-projection",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),s.jsx("tbody",{children:c.map(M=>s.jsxs("tr",{className:ie("border-b hover:bg-muted/20",M.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-3 px-3 font-semibold",children:M.year}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(M.revenue,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.cogs,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(M.grossMargin,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.payroll,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.opex,!0)}),s.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",M.ebitda>=0?"text-chart-4":"text-destructive"),children:ee(M.ebitda,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.capex,!0)}),s.jsxs("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",M.netCashFlow>=0?"text-chart-4":"text-accent"),children:[M.netCashFlow>=0?"+":"",ee(M.netCashFlow,!0)]}),s.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-bold",M.treasuryEnd<0&&"text-destructive"),children:ee(M.treasuryEnd,!0)})]},M.year))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[s.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(g,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(j,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(g-j,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(x,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(b,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(_,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee((($=c[c.length-1])==null?void 0:$.treasuryEnd)||0,!0)})]})})]})})}),s.jsxs(He,{title:"Valorisation & Tours",id:"valuation",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[s.jsx(pt,{label:"Pre-Money",value:ee((E==null?void 0:E.preMoneyValuation)||0,!0),subValue:(E==null?void 0:E.name)||"-"}),s.jsx(pt,{label:"Post-Money",value:ee(O,!0),subValue:"Aprs leve"}),s.jsx(pt,{label:"Dilution",value:Wr(T),subValue:"Part cde",trend:T>.25?"down":void 0}),s.jsx(pt,{label:"Multiple CA",value:g>0?`${(O/(((D=c[c.length-1])==null?void 0:D.revenue)||1)).toFixed(1)}x`:"-",subValue:`sur CA ${o}`})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map(M=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold",children:M.name}),s.jsx(Te,{variant:"outline",className:"text-xs mt-1",children:M.year})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-primary",children:ee(M.amount,!0)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("span",{children:"Pre-money:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:ee(M.preMoneyValuation,!0)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{children:"Dilution:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:Wr(M.amount/(M.preMoneyValuation+M.amount))})]})]})]},M.id))})]})]})}var Pt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Pt||(Pt={}));var j2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(j2||(j2={}));const De=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},we=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof xs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xs.create=e=>new xs(e);const d_=(e,t)=>{let r;switch(e.code){case we.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pt.joinValues(e.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pt.joinValues(e.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Pt.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case we.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case we.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pt.assertNever(e)}return{message:r}};let oPe=d_;function lPe(){return oPe}const cPe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ae(e,t){const r=lPe(),n=cPe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===d_?void 0:d_].filter(a=>!!a)});e.common.issues.push(n)}class ua{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return at;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ua.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return at;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const at=Object.freeze({status:"aborted"}),Ef=e=>({status:"dirty",value:e}),Ma=e=>({status:"valid",value:e}),_2=e=>e.status==="aborted",S2=e=>e.status==="dirty",od=e=>e.status==="valid",ry=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Be||(Be={}));class Po{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const C2=(e,t)=>{if(od(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xs(e.common.issues);return this._error=r,this._error}}};function vt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class _t{get description(){return this._def.description}_getType(t){return Us(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ua,ctx:{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ry(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},a=this._parseSync({data:t,path:n.path,parent:n});return C2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return od(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>od(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(ry(a)?a:Promise.resolve(a));return C2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:we.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new cd({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bo.create(this,this._def)}nullable(){return ud.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ri.create(this)}promise(){return sy.create(this,this._def)}or(t){return ay.create([this,t],this._def)}and(t){return iy.create(this,t,this._def)}transform(t){return new cd({...vt(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new h_({...vt(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new TPe({typeName:it.ZodBranded,type:this,...vt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new m_({...vt(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return jN.create(this,t)}readonly(){return p_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uPe=/^c[^\s-]{8,}$/i,dPe=/^[0-9a-z]+$/,fPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mPe=/^[a-z0-9_-]{21}$/i,pPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wb;const xPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_Pe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CPe=new RegExp(`^${kz}$`);function Ez(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function NPe(e){return new RegExp(`^${Ez(e)}$`)}function PPe(e){let t=`${kz}T${Ez(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function kPe(e,t){return!!((t==="v4"||!t)&&xPe.test(e)||(t==="v6"||!t)&&wPe.test(e))}function EPe(e,t){if(!pPe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function APe(e,t){return!!((t==="v4"||!t)&&bPe.test(e)||(t==="v6"||!t)&&jPe.test(e))}class ao extends _t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:De.string,received:i.parsedType}),at}const n=new ua;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ae(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")gPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"email",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Wb||(Wb=new RegExp(yPe,"u")),Wb.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"emoji",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"uuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")mPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"nanoid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")uPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")dPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid2",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")fPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ulid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ae(a,{validation:"url",code:we.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"regex",code:we.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?PPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?CPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?NPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?vPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"duration",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?kPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ip",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?EPe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"jwt",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?APe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cidr",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?_Pe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?SPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64url",code:we.invalid_string,message:i.message}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:we.invalid_string,...Be.errToObj(n)})}_addCheck(t){return new ao({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Be.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Be.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Be.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Be.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Be.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Be.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Be.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Be.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Be.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Be.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Be.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Be.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Be.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Be.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Be.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Be.errToObj(r)})}nonempty(t){return this.min(1,Be.errToObj(t))}trim(){return new ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ao.create=e=>new ao({checks:[],typeName:it.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});function OPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class pm extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:De.number,received:i.parsedType}),at}let n;const a=new ua;for(const i of this._def.checks)i.kind==="int"?Pt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?OPe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_finite,message:i.message}),a.dirty()):Pt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,a){return new pm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(a)}]})}_addCheck(t){return new pm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pm.create=e=>new pm({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class vm extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const a=new ua;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Pt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:we.invalid_type,expected:De.bigint,received:r.parsedType}),at}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,a){return new vm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(a)}]})}_addCheck(t){return new vm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vm.create=e=>new vm({checks:[],typeName:it.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});class N2 extends _t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.boolean,received:n.parsedType}),at}return Ma(t.data)}}N2.create=e=>new N2({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class ny extends _t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:De.date,received:i.parsedType}),at}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_date}),at}const n=new ua;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ny({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Be.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Be.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ny.create=e=>new ny({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...vt(e)});class P2 extends _t{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.symbol,received:n.parsedType}),at}return Ma(t.data)}}P2.create=e=>new P2({typeName:it.ZodSymbol,...vt(e)});class k2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.undefined,received:n.parsedType}),at}return Ma(t.data)}}k2.create=e=>new k2({typeName:it.ZodUndefined,...vt(e)});class E2 extends _t{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.null,received:n.parsedType}),at}return Ma(t.data)}}E2.create=e=>new E2({typeName:it.ZodNull,...vt(e)});class A2 extends _t{constructor(){super(...arguments),this._any=!0}_parse(t){return Ma(t.data)}}A2.create=e=>new A2({typeName:it.ZodAny,...vt(e)});class O2 extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ma(t.data)}}O2.create=e=>new O2({typeName:it.ZodUnknown,...vt(e)});class ko extends _t{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:we.invalid_type,expected:De.never,received:r.parsedType}),at}}ko.create=e=>new ko({typeName:it.ZodNever,...vt(e)});class T2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.void,received:n.parsedType}),at}return Ma(t.data)}}T2.create=e=>new T2({typeName:it.ZodVoid,...vt(e)});class Ri extends _t{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==De.array)return Ae(r,{code:we.invalid_type,expected:De.array,received:r.parsedType}),at;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ae(r,{code:o?we.too_big:we.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:we.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:we.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Po(r,o,r.path,l)))).then(o=>ua.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Po(r,o,r.path,l)));return ua.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ri({...this._def,minLength:{value:t,message:Be.toString(r)}})}max(t,r){return new Ri({...this._def,maxLength:{value:t,message:Be.toString(r)}})}length(t,r){return new Ri({...this._def,exactLength:{value:t,message:Be.toString(r)}})}nonempty(t){return this.min(1,t)}}Ri.create=(e,t)=>new Ri({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...vt(t)});function _c(e){if(e instanceof mr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=bo.create(_c(n))}return new mr({...e._def,shape:()=>t})}else return e instanceof Ri?new Ri({...e._def,type:_c(e.element)}):e instanceof bo?bo.create(_c(e.unwrap())):e instanceof ud?ud.create(_c(e.unwrap())):e instanceof Wl?Wl.create(e.items.map(t=>_c(t))):e}class mr extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Ae(u,{code:we.invalid_type,expected:De.object,received:u.parsedType}),at}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ko&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Po(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ko){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ae(a,{code:we.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Po(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ua.mergeObjectSync(n,u)):ua.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Be.errToObj,new mr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Be.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new mr({...this._def,unknownKeys:"strip"})}passthrough(){return new mr({...this._def,unknownKeys:"passthrough"})}extend(t){return new mr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new mr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new mr({...this._def,catchall:t})}pick(t){const r={};for(const n of Pt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new mr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Pt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new mr({...this._def,shape:()=>r})}deepPartial(){return _c(this)}partial(t){const r={};for(const n of Pt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new mr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Pt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof bo;)i=i._def.innerType;r[n]=i}return new mr({...this._def,shape:()=>r})}keyof(){return Az(Pt.objectKeys(this.shape))}}mr.create=(e,t)=>new mr({shape:()=>e,unknownKeys:"strip",catchall:ko.create(),typeName:it.ZodObject,...vt(t)});mr.strictCreate=(e,t)=>new mr({shape:()=>e,unknownKeys:"strict",catchall:ko.create(),typeName:it.ZodObject,...vt(t)});mr.lazycreate=(e,t)=>new mr({shape:e,unknownKeys:"strip",catchall:ko.create(),typeName:it.ZodObject,...vt(t)});class ay extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new xs(l.ctx.common.issues));return Ae(r,{code:we.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new xs(c));return Ae(r,{code:we.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}ay.create=(e,t)=>new ay({options:e,typeName:it.ZodUnion,...vt(t)});function f_(e,t){const r=Us(e),n=Us(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const a=Pt.objectKeys(t),i=Pt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=f_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=f_(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class iy extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(_2(i)||_2(o))return at;const l=f_(i.value,o.value);return l.valid?((S2(i)||S2(o))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:we.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}iy.create=(e,t,r)=>new iy({left:e,right:t,typeName:it.ZodIntersection,...vt(r)});class Wl extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Ae(n,{code:we.invalid_type,expected:De.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Ae(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Po(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ua.mergeArray(r,o)):ua.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Wl({...this._def,rest:t})}}Wl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wl({items:e,typeName:it.ZodTuple,rest:null,...vt(t)})};class R2 extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Ae(n,{code:we.invalid_type,expected:De.map,received:n.parsedType}),at;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Po(n,l,n.path,[u,"key"])),value:i._parse(new Po(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}R2.create=(e,t,r)=>new R2({valueType:t,keyType:e,typeName:it.ZodMap,...vt(r)});class gm extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Ae(n,{code:we.invalid_type,expected:De.set,received:n.parsedType}),at;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:we.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:we.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return at;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Po(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new gm({...this._def,minSize:{value:t,message:Be.toString(r)}})}max(t,r){return new gm({...this._def,maxSize:{value:t,message:Be.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}gm.create=(e,t)=>new gm({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...vt(t)});class M2 extends _t{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}M2.create=(e,t)=>new M2({getter:e,typeName:it.ZodLazy,...vt(t)});class $2 extends _t{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}$2.create=(e,t)=>new $2({value:e,typeName:it.ZodLiteral,...vt(t)});function Az(e,t){return new ld({values:e,typeName:it.ZodEnum,...vt(t)})}class ld extends _t{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:Pt.joinValues(n),received:r.parsedType,code:we.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:we.invalid_enum_value,options:n}),at}return Ma(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ld.create(t,{...this._def,...r})}exclude(t,r=this._def){return ld.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ld.create=Az;class I2 extends _t{_parse(t){const r=Pt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const a=Pt.objectValues(r);return Ae(n,{expected:Pt.joinValues(a),received:n.parsedType,code:we.invalid_type}),at}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Pt.objectValues(r);return Ae(n,{received:n.data,code:we.invalid_enum_value,options:a}),at}return Ma(t.data)}get enum(){return this._def.values}}I2.create=(e,t)=>new I2({values:e,typeName:it.ZodNativeEnum,...vt(t)});class sy extends _t{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ae(r,{code:we.invalid_type,expected:De.promise,received:r.parsedType}),at;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Ma(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sy.create=(e,t)=>new sy({type:e,typeName:it.ZodPromise,...vt(t)});class cd extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?at:c.status==="dirty"||r.value==="dirty"?Ef(c.value):c});{if(r.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?at:l.status==="dirty"||r.value==="dirty"?Ef(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!od(o))return at;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>od(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):at);Pt.assertNever(a)}}cd.create=(e,t,r)=>new cd({schema:e,typeName:it.ZodEffects,effect:t,...vt(r)});cd.createWithPreprocess=(e,t,r)=>new cd({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...vt(r)});class bo extends _t{_parse(t){return this._getType(t)===De.undefined?Ma(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bo.create=(e,t)=>new bo({innerType:e,typeName:it.ZodOptional,...vt(t)});class ud extends _t{_parse(t){return this._getType(t)===De.null?Ma(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ud.create=(e,t)=>new ud({innerType:e,typeName:it.ZodNullable,...vt(t)});class h_ extends _t{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}h_.create=(e,t)=>new h_({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vt(t)});class m_ extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ry(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}m_.create=(e,t)=>new m_({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vt(t)});class D2 extends _t{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:De.nan,received:n.parsedType}),at}return{status:"valid",value:t.data}}}D2.create=e=>new D2({typeName:it.ZodNaN,...vt(e)});class TPe extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jN extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),Ef(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new jN({in:t,out:r,typeName:it.ZodPipeline})}}class p_ extends _t{_parse(t){const r=this._def.innerType._parse(t),n=a=>(od(a)&&(a.value=Object.freeze(a.value)),a);return ry(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}p_.create=(e,t)=>new p_({innerType:e,typeName:it.ZodReadonly,...vt(t)});mr.lazycreate;var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const Qf=ao.create;ko.create;Ri.create;const Oz=mr.create;mr.strictCreate;ay.create;iy.create;Wl.create;ld.create;sy.create;bo.create;ud.create;var zm=e=>e.type==="checkbox",pl=e=>e instanceof Date,Nn=e=>e==null;const Tz=e=>typeof e=="object";var Pr=e=>!Nn(e)&&!Array.isArray(e)&&Tz(e)&&!pl(e),Rz=e=>Pr(e)&&e.target?zm(e.target)?e.target.checked:e.target.value:e,RPe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Mz=(e,t)=>e.has(RPe(t)),MPe=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},_N=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Br(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(_N&&(e instanceof Blob||n))&&(r||Pr(e)))if(t=r?[]:{},!r&&!MPe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Br(e[a]));else return e;return t}var u0=e=>/^\w*$/.test(e),Cr=e=>e===void 0,SN=e=>Array.isArray(e)?e.filter(Boolean):[],CN=e=>SN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!Pr(e))return r;const n=(u0(t)?[t]:CN(t)).reduce((a,i)=>Nn(a)?a:a[i],e);return Cr(n)||n===e?Cr(e[t])?r:e[t]:n},ea=e=>typeof e=="boolean",Rt=(e,t,r)=>{let n=-1;const a=u0(t)?[t]:CN(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Pr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const oy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},NN=R.createContext(null);NN.displayName="HookFormContext";const d0=()=>R.useContext(NN),$Pe=e=>{const{children:t,...r}=e;return R.createElement(NN.Provider,{value:r},t)};var $z=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ei.all&&(t._proxyFormState[o]=!n||ei.all),r&&(r[o]=!0),e[o]}});return a};const PN=typeof window<"u"?R.useLayoutEffect:R.useEffect;function IPe(e){const t=d0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=R.useState(r._formState),c=R.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return PN(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),R.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),R.useMemo(()=>$z(o,r,c.current,!1),[o,r])}var Ni=e=>typeof e=="string",Iz=(e,t,r,n,a)=>Ni(e)?(n&&t.watch.add(e),Ce(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ce(r,i))):(n&&(t.watchAll=!0),r),v_=e=>Nn(e)||!Tz(e);function Zi(e,t,r=new WeakSet){if(v_(e)||v_(t))return e===t;if(pl(e)&&pl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(pl(o)&&pl(l)||Pr(o)&&Pr(l)||Array.isArray(o)&&Array.isArray(l)?!Zi(o,l,r):o!==l)return!1}}return!0}function DPe(e){const t=d0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=R.useRef(a),u=R.useRef(l),d=R.useRef(void 0);u.current=l;const f=R.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=R.useState(u.current?u.current(f):f);return PN(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const p=Iz(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Zi(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,i,n,o]),R.useEffect(()=>r._removeUnmounted()),h}function LPe(e){const t=d0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Mz(a._names.array,r),c=R.useMemo(()=>Ce(a._formValues,r,Ce(a._defaultValues,r,o)),[a,r,o]),u=DPe({control:a,name:r,defaultValue:c,exact:!0}),d=IPe({control:a,name:r,exact:!0}),f=R.useRef(e),h=R.useRef(a.register(r,{...e.rules,value:u,...ea(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=R.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(d.errors,r)}}),[d,r]),y=R.useCallback(x=>h.current.onChange({target:{value:Rz(x),name:r},type:oy.CHANGE}),[r]),p=R.useCallback(()=>h.current.onBlur({target:{value:Ce(a._formValues,r),name:r},type:oy.BLUR}),[r,a._formValues]),v=R.useCallback(x=>{const b=Ce(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),g=R.useMemo(()=>({name:r,value:u,...ea(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:p,ref:v}),[r,n,d.disabled,y,p,v,u]);return R.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...ea(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,j)=>{const S=Ce(a._fields,_);S&&S._f&&(S._f.mount=j)};if(b(r,!0),x){const _=Br(Ce(a._options.defaultValues,r));Rt(a._defaultValues,r,_),Cr(Ce(a._formValues,r))&&Rt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),R.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),R.useMemo(()=>({field:g,formState:d,fieldState:m}),[g,d,m])}const FPe=e=>e.render(LPe(e));var Dz=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Jf=e=>Array.isArray(e)?e:[e],L2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Dn=e=>Pr(e)&&!Object.keys(e).length,kN=e=>e.type==="file",ti=e=>typeof e=="function",ly=e=>{if(!_N)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Lz=e=>e.type==="select-multiple",EN=e=>e.type==="radio",BPe=e=>EN(e)||zm(e),Hb=e=>ly(e)&&e.isConnected;function zPe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Cr(e)?n++:e[t[n++]];return e}function UPe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Cr(e[t]))return!1;return!0}function Or(e,t){const r=Array.isArray(t)?t:u0(t)?[t]:CN(t),n=r.length===1?e:zPe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Pr(n)&&Dn(n)||Array.isArray(n)&&UPe(n))&&Or(e,r.slice(0,-1)),e}var Fz=e=>{for(const t in e)if(ti(e[t]))return!0;return!1};function cy(e,t={}){const r=Array.isArray(e);if(Pr(e)||r)for(const n in e)Array.isArray(e[n])||Pr(e[n])&&!Fz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},cy(e[n],t[n])):Nn(e[n])||(t[n]=!0);return t}function Bz(e,t,r){const n=Array.isArray(e);if(Pr(e)||n)for(const a in e)Array.isArray(e[a])||Pr(e[a])&&!Fz(e[a])?Cr(t)||v_(r[a])?r[a]=Array.isArray(e[a])?cy(e[a],[]):{...cy(e[a])}:Bz(e[a],Nn(t)?{}:t[a],r[a]):r[a]=!Zi(e[a],t[a]);return r}var vf=(e,t)=>Bz(e,t,cy(t));const F2={value:!1,isValid:!1},B2={value:!0,isValid:!0};var zz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Cr(e[0].attributes.value)?Cr(e[0].value)||e[0].value===""?B2:{value:e[0].value,isValid:!0}:B2:F2}return F2},Uz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Cr(e)?e:t?e===""?NaN:e&&+e:r&&Ni(e)?new Date(e):n?n(e):e;const z2={isValid:!1,value:null};var Vz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,z2):z2;function U2(e){const t=e.ref;return kN(t)?t.files:EN(t)?Vz(e.refs).value:Lz(t)?[...t.selectedOptions].map(({value:r})=>r):zm(t)?zz(e.refs).value:Uz(Cr(t.value)?e.ref.value:t.value,e)}var VPe=(e,t,r,n)=>{const a={};for(const i of e){const o=Ce(t,i);o&&Rt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},uy=e=>e instanceof RegExp,gf=e=>Cr(e)?e:uy(e)?e.source:Pr(e)?uy(e.value)?e.value.source:e.value:e,V2=e=>({isOnSubmit:!e||e===ei.onSubmit,isOnBlur:e===ei.onBlur,isOnChange:e===ei.onChange,isOnAll:e===ei.all,isOnTouch:e===ei.onTouched});const W2="AsyncFunction";var WPe=e=>!!e&&!!e.validate&&!!(ti(e.validate)&&e.validate.constructor.name===W2||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===W2)),HPe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),H2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Zf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ce(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Zf(l,t))break}else if(Pr(l)&&Zf(l,t))break}}};function q2(e,t,r){const n=Ce(e,r);if(n||u0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ce(t,i),l=Ce(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var qPe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Dn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ei.all))},KPe=(e,t,r)=>!e||!t||e===t||Jf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),GPe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,YPe=(e,t)=>!SN(Ce(e,t)).length&&Or(e,t),XPe=(e,t,r)=>{const n=Jf(Ce(e,r));return Rt(n,"root",t[r]),Rt(e,r,n),e},iv=e=>Ni(e);function K2(e,t,r="validate"){if(iv(e)||Array.isArray(e)&&e.every(iv)||ea(e)&&!e)return{type:r,message:iv(e)?e:"",ref:t}}var vc=e=>Pr(e)&&!uy(e)?e:{value:e,message:""},G2=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:v,mount:g}=e._f,x=Ce(r,p);if(!g||t.has(p))return{};const b=l?l[0]:o,_=T=>{a&&b.reportValidity&&(b.setCustomValidity(ea(T)?"":T||""),b.reportValidity())},j={},S=EN(o),C=zm(o),N=S||C,P=(v||kN(o))&&Cr(o.value)&&Cr(x)||ly(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,E=Dz.bind(null,p,n,j),O=(T,A,k,$=qi.maxLength,D=qi.minLength)=>{const M=T?A:k;j[p]={type:T?$:D,message:M,ref:o,...E(T?$:D,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(P||Nn(x))||ea(x)&&!x||C&&!zz(l).isValid||S&&!Vz(l).isValid)){const{value:T,message:A}=iv(c)?{value:!!c,message:c}:vc(c);if(T&&(j[p]={type:qi.required,message:A,ref:b,...E(qi.required,A)},!n))return _(A),j}if(!P&&(!Nn(f)||!Nn(h))){let T,A;const k=vc(h),$=vc(f);if(!Nn(x)&&!isNaN(x)){const D=o.valueAsNumber||x&&+x;Nn(k.value)||(T=D>k.value),Nn($.value)||(A=D<$.value)}else{const D=o.valueAsDate||new Date(x),M=B=>new Date(new Date().toDateString()+" "+B),I=o.type=="time",L=o.type=="week";Ni(k.value)&&x&&(T=I?M(x)>M(k.value):L?x>k.value:D>new Date(k.value)),Ni($.value)&&x&&(A=I?M(x)<M($.value):L?x<$.value:D<new Date($.value))}if((T||A)&&(O(!!T,k.message,$.message,qi.max,qi.min),!n))return _(j[p].message),j}if((u||d)&&!P&&(Ni(x)||i&&Array.isArray(x))){const T=vc(u),A=vc(d),k=!Nn(T.value)&&x.length>+T.value,$=!Nn(A.value)&&x.length<+A.value;if((k||$)&&(O(k,T.message,A.message),!n))return _(j[p].message),j}if(m&&!P&&Ni(x)){const{value:T,message:A}=vc(m);if(uy(T)&&!x.match(T)&&(j[p]={type:qi.pattern,message:A,ref:o,...E(qi.pattern,A)},!n))return _(A),j}if(y){if(ti(y)){const T=await y(x,r),A=K2(T,b);if(A&&(j[p]={...A,...E(qi.validate,A.message)},!n))return _(A.message),j}else if(Pr(y)){let T={};for(const A in y){if(!Dn(T)&&!n)break;const k=K2(await y[A](x,r),b,A);k&&(T={...k,...E(A,k.message)},_(k.message),n&&(j[p]=T))}if(!Dn(T)&&(j[p]={ref:b,...T},!n))return j}}return _(!0),j};const QPe={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function JPe(e={}){let t={...QPe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ti(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Pr(t.defaultValues)||Pr(t.values)?Br(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Br(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:L2(),state:L2()},m=t.criteriaMode===ei.all,y=F=>G=>{clearTimeout(u),u=setTimeout(F,G)},p=async F=>{if(!t.disabled&&(d.isValid||f.isValid||F)){const G=t.resolver?Dn((await C()).errors):await P(n,!0);G!==r.isValid&&h.state.next({isValid:G})}},v=(F,G)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(l.mount)).forEach(re=>{re&&(G?Rt(r.validatingFields,re,G):Or(r.validatingFields,re))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Dn(r.validatingFields)}))},g=(F,G=[],re,xe,be=!0,oe=!0)=>{if(xe&&re&&!t.disabled){if(o.action=!0,oe&&Array.isArray(Ce(n,F))){const ye=re(Ce(n,F),xe.argA,xe.argB);be&&Rt(n,F,ye)}if(oe&&Array.isArray(Ce(r.errors,F))){const ye=re(Ce(r.errors,F),xe.argA,xe.argB);be&&Rt(r.errors,F,ye),YPe(r.errors,F)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ce(r.touchedFields,F))){const ye=re(Ce(r.touchedFields,F),xe.argA,xe.argB);be&&Rt(r.touchedFields,F,ye)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=vf(a,i)),h.state.next({name:F,isDirty:O(F,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Rt(i,F,G)},x=(F,G)=>{Rt(r.errors,F,G),h.state.next({errors:r.errors})},b=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},_=(F,G,re,xe)=>{const be=Ce(n,F);if(be){const oe=Ce(i,F,Cr(re)?Ce(a,F):re);Cr(oe)||xe&&xe.defaultChecked||G?Rt(i,F,G?oe:U2(be._f)):k(F,oe),o.mount&&p()}},j=(F,G,re,xe,be)=>{let oe=!1,ye=!1;const Ie={name:F};if(!t.disabled){if(!re||xe){(d.isDirty||f.isDirty)&&(ye=r.isDirty,r.isDirty=Ie.isDirty=O(),oe=ye!==Ie.isDirty);const nt=Zi(Ce(a,F),G);ye=!!Ce(r.dirtyFields,F),nt?Or(r.dirtyFields,F):Rt(r.dirtyFields,F,!0),Ie.dirtyFields=r.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&ye!==!nt}if(re){const nt=Ce(r.touchedFields,F);nt||(Rt(r.touchedFields,F,re),Ie.touchedFields=r.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&nt!==re)}oe&&be&&h.state.next(Ie)}return oe?Ie:{}},S=(F,G,re,xe)=>{const be=Ce(r.errors,F),oe=(d.isValid||f.isValid)&&ea(G)&&r.isValid!==G;if(t.delayError&&re?(c=y(()=>x(F,re)),c(t.delayError)):(clearTimeout(u),c=null,re?Rt(r.errors,F,re):Or(r.errors,F)),(re?!Zi(be,re):be)||!Dn(xe)||oe){const ye={...xe,...oe&&ea(G)?{isValid:G}:{},errors:r.errors,name:F};r={...r,...ye},h.state.next(ye)}},C=async F=>{v(F,!0);const G=await t.resolver(i,t.context,VPe(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(F),G},N=async F=>{const{errors:G}=await C(F);if(F)for(const re of F){const xe=Ce(G,re);xe?Rt(r.errors,re,xe):Or(r.errors,re)}else r.errors=G;return G},P=async(F,G,re={valid:!0})=>{for(const xe in F){const be=F[xe];if(be){const{_f:oe,...ye}=be;if(oe){const Ie=l.array.has(oe.name),nt=be._f&&WPe(be._f);nt&&d.validatingFields&&v([xe],!0);const xt=await G2(be,l.disabled,i,m,t.shouldUseNativeValidation&&!G,Ie);if(nt&&d.validatingFields&&v([xe]),xt[oe.name]&&(re.valid=!1,G))break;!G&&(Ce(xt,oe.name)?Ie?XPe(r.errors,xt,oe.name):Rt(r.errors,oe.name,xt[oe.name]):Or(r.errors,oe.name))}!Dn(ye)&&await P(ye,G,re)}}return re.valid},E=()=>{for(const F of l.unMount){const G=Ce(n,F);G&&(G._f.refs?G._f.refs.every(re=>!Hb(re)):!Hb(G._f.ref))&&q(F)}l.unMount=new Set},O=(F,G)=>!t.disabled&&(F&&G&&Rt(i,F,G),!Zi(B(),a)),T=(F,G,re)=>Iz(F,l,{...o.mount?i:Cr(G)?a:Ni(F)?{[F]:G}:G},re,G),A=F=>SN(Ce(o.mount?i:a,F,t.shouldUnregister?Ce(a,F,[]):[])),k=(F,G,re={})=>{const xe=Ce(n,F);let be=G;if(xe){const oe=xe._f;oe&&(!oe.disabled&&Rt(i,F,Uz(G,oe)),be=ly(oe.ref)&&Nn(G)?"":G,Lz(oe.ref)?[...oe.ref.options].forEach(ye=>ye.selected=be.includes(ye.value)):oe.refs?zm(oe.ref)?oe.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(be)?ye.checked=!!be.find(Ie=>Ie===ye.value):ye.checked=be===ye.value||!!be)}):oe.refs.forEach(ye=>ye.checked=ye.value===be):kN(oe.ref)?oe.ref.value="":(oe.ref.value=be,oe.ref.type||h.state.next({name:F,values:Br(i)})))}(re.shouldDirty||re.shouldTouch)&&j(F,be,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&L(F)},$=(F,G,re)=>{for(const xe in G){if(!G.hasOwnProperty(xe))return;const be=G[xe],oe=F+"."+xe,ye=Ce(n,oe);(l.array.has(F)||Pr(be)||ye&&!ye._f)&&!pl(be)?$(oe,be,re):k(oe,be,re)}},D=(F,G,re={})=>{const xe=Ce(n,F),be=l.array.has(F),oe=Br(G);Rt(i,F,oe),be?(h.array.next({name:F,values:Br(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&h.state.next({name:F,dirtyFields:vf(a,i),isDirty:O(F,oe)})):xe&&!xe._f&&!Nn(oe)?$(F,oe,re):k(F,oe,re),H2(F,l)&&h.state.next({...r,name:F}),h.state.next({name:o.mount?F:void 0,values:Br(i)})},M=async F=>{o.mount=!0;const G=F.target;let re=G.name,xe=!0;const be=Ce(n,re),oe=nt=>{xe=Number.isNaN(nt)||pl(nt)&&isNaN(nt.getTime())||Zi(nt,Ce(i,re,nt))},ye=V2(t.mode),Ie=V2(t.reValidateMode);if(be){let nt,xt;const _r=G.type?U2(be._f):Rz(F),Ar=F.type===oy.BLUR||F.type===oy.FOCUS_OUT,de=!HPe(be._f)&&!t.resolver&&!Ce(r.errors,re)&&!be._f.deps||GPe(Ar,Ce(r.touchedFields,re),r.isSubmitted,Ie,ye),We=H2(re,l,Ar);Rt(i,re,_r),Ar?(be._f.onBlur&&be._f.onBlur(F),c&&c(0)):be._f.onChange&&be._f.onChange(F);const W=j(re,_r,Ar),ue=!Dn(W)||We;if(!Ar&&h.state.next({name:re,type:F.type,values:Br(i)}),de)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ar&&p():Ar||p()),ue&&h.state.next({name:re,...We?{}:W});if(!Ar&&We&&h.state.next({...r}),t.resolver){const{errors:ae}=await C([re]);if(oe(_r),xe){const ge=q2(r.errors,n,re),ke=q2(ae,n,ge.name||re);nt=ke.error,re=ke.name,xt=Dn(ae)}}else v([re],!0),nt=(await G2(be,l.disabled,i,m,t.shouldUseNativeValidation))[re],v([re]),oe(_r),xe&&(nt?xt=!1:(d.isValid||f.isValid)&&(xt=await P(n,!0)));xe&&(be._f.deps&&L(be._f.deps),S(re,xt,nt,W))}},I=(F,G)=>{if(Ce(r.errors,G)&&F.focus)return F.focus(),1},L=async(F,G={})=>{let re,xe;const be=Jf(F);if(t.resolver){const oe=await N(Cr(F)?F:be);re=Dn(oe),xe=F?!be.some(ye=>Ce(oe,ye)):re}else F?(xe=(await Promise.all(be.map(async oe=>{const ye=Ce(n,oe);return await P(ye&&ye._f?{[oe]:ye}:ye)}))).every(Boolean),!(!xe&&!r.isValid)&&p()):xe=re=await P(n);return h.state.next({...!Ni(F)||(d.isValid||f.isValid)&&re!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:re}:{},errors:r.errors}),G.shouldFocus&&!xe&&Zf(n,I,F?be:l.mount),xe},B=F=>{const G={...o.mount?i:a};return Cr(F)?G:Ni(F)?Ce(G,F):F.map(re=>Ce(G,re))},Q=(F,G)=>({invalid:!!Ce((G||r).errors,F),isDirty:!!Ce((G||r).dirtyFields,F),error:Ce((G||r).errors,F),isValidating:!!Ce(r.validatingFields,F),isTouched:!!Ce((G||r).touchedFields,F)}),X=F=>{F&&Jf(F).forEach(G=>Or(r.errors,G)),h.state.next({errors:F?r.errors:{}})},ne=(F,G,re)=>{const xe=(Ce(n,F,{_f:{}})._f||{}).ref,be=Ce(r.errors,F)||{},{ref:oe,message:ye,type:Ie,...nt}=be;Rt(r.errors,F,{...nt,...G,ref:xe}),h.state.next({name:F,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&xe&&xe.focus&&xe.focus()},z=(F,G)=>ti(F)?h.state.subscribe({next:re=>"values"in re&&F(T(void 0,G),re)}):T(F,G,!0),U=F=>h.state.subscribe({next:G=>{KPe(F.name,G.name,F.exact)&&qPe(G,F.formState||d,et,F.reRenderRoot)&&F.callback({values:{...i},...r,...G,defaultValues:a})}}).unsubscribe,H=F=>(o.mount=!0,f={...f,...F.formState},U({...F,formState:f})),q=(F,G={})=>{for(const re of F?Jf(F):l.mount)l.mount.delete(re),l.array.delete(re),G.keepValue||(Or(n,re),Or(i,re)),!G.keepError&&Or(r.errors,re),!G.keepDirty&&Or(r.dirtyFields,re),!G.keepTouched&&Or(r.touchedFields,re),!G.keepIsValidating&&Or(r.validatingFields,re),!t.shouldUnregister&&!G.keepDefaultValue&&Or(a,re);h.state.next({values:Br(i)}),h.state.next({...r,...G.keepDirty?{isDirty:O()}:{}}),!G.keepIsValid&&p()},J=({disabled:F,name:G})=>{(ea(F)&&o.mount||F||l.disabled.has(G))&&(F?l.disabled.add(G):l.disabled.delete(G))},Z=(F,G={})=>{let re=Ce(n,F);const xe=ea(G.disabled)||ea(t.disabled);return Rt(n,F,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:F}},name:F,mount:!0,...G}}),l.mount.add(F),re?J({disabled:ea(G.disabled)?G.disabled:t.disabled,name:F}):_(F,!0,G.value),{...xe?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:gf(G.min),max:gf(G.max),minLength:gf(G.minLength),maxLength:gf(G.maxLength),pattern:gf(G.pattern)}:{},name:F,onChange:M,onBlur:M,ref:be=>{if(be){Z(F,G),re=Ce(n,F);const oe=Cr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,ye=BPe(oe),Ie=re._f.refs||[];if(ye?Ie.find(nt=>nt===oe):oe===re._f.ref)return;Rt(n,F,{_f:{...re._f,...ye?{refs:[...Ie.filter(Hb),oe,...Array.isArray(Ce(a,F))?[{}]:[]],ref:{type:oe.type,name:F}}:{ref:oe}}}),_(F,!1,void 0,oe)}else re=Ce(n,F,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(Mz(l.array,F)&&o.action)&&l.unMount.add(F)}}},te=()=>t.shouldFocusError&&Zf(n,I,l.mount),V=F=>{ea(F)&&(h.state.next({disabled:F}),Zf(n,(G,re)=>{const xe=Ce(n,re);xe&&(G.disabled=xe._f.disabled||F,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(be=>{be.disabled=xe._f.disabled||F}))},0,!1))},K=(F,G)=>async re=>{let xe;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let be=Br(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:ye}=await C();r.errors=oe,be=Br(ye)}else await P(n);if(l.disabled.size)for(const oe of l.disabled)Or(be,oe);if(Or(r.errors,"root"),Dn(r.errors)){h.state.next({errors:{}});try{await F(be,re)}catch(oe){xe=oe}}else G&&await G({...r.errors},re),te(),setTimeout(te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},he=(F,G={})=>{Ce(n,F)&&(Cr(G.defaultValue)?D(F,Br(Ce(a,F))):(D(F,G.defaultValue),Rt(a,F,Br(G.defaultValue))),G.keepTouched||Or(r.touchedFields,F),G.keepDirty||(Or(r.dirtyFields,F),r.isDirty=G.defaultValue?O(F,Br(Ce(a,F))):O()),G.keepError||(Or(r.errors,F),d.isValid&&p()),h.state.next({...r}))},_e=(F,G={})=>{const re=F?Br(F):a,xe=Br(re),be=Dn(F),oe=be?a:xe;if(G.keepDefaultValues||(a=re),!G.keepValues){if(G.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(vf(a,i))]);for(const Ie of Array.from(ye))Ce(r.dirtyFields,Ie)?Rt(oe,Ie,Ce(i,Ie)):D(Ie,Ce(oe,Ie))}else{if(_N&&Cr(F))for(const ye of l.mount){const Ie=Ce(n,ye);if(Ie&&Ie._f){const nt=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(ly(nt)){const xt=nt.closest("form");if(xt){xt.reset();break}}}}if(G.keepFieldsRef)for(const ye of l.mount)D(ye,Ce(oe,ye));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Br(a):{}:Br(oe),h.array.next({values:{...oe}}),h.state.next({values:{...oe}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:be?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Zi(F,a)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:G.keepDirtyValues?G.keepDefaultValues&&i?vf(a,i):r.dirtyFields:G.keepDefaultValues&&F?vf(a,F):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ze=(F,G)=>_e(ti(F)?F(i):F,G),Ye=(F,G={})=>{const re=Ce(n,F),xe=re&&re._f;if(xe){const be=xe.refs?xe.refs[0]:xe.ref;be.focus&&(be.focus(),G.shouldSelect&&ti(be.select)&&be.select())}},et=F=>{r={...r,...F}},Tt={control:{register:Z,unregister:q,getFieldState:Q,handleSubmit:K,setError:ne,_subscribe:U,_runSchema:C,_focusError:te,_getWatch:T,_getDirty:O,_setValid:p,_setFieldArray:g,_setDisabledField:J,_setErrors:b,_getFieldArray:A,_reset:_e,_resetDefaultValues:()=>ti(t.defaultValues)&&t.defaultValues().then(F=>{ze(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:V,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return a},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:H,trigger:L,register:Z,handleSubmit:K,watch:z,setValue:D,getValues:B,reset:ze,resetField:he,clearErrors:X,unregister:q,setError:ne,setFocus:Ye,getFieldState:Q};return{...Tt,formControl:Tt}}function Y2(e={}){const t=R.useRef(void 0),r=R.useRef(void 0),[n,a]=R.useState({isDirty:!1,isValidating:!1,isLoading:ti(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ti(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ti(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=JPe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,PN(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),R.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),R.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),R.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),R.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),R.useEffect(()=>{e.values&&!Zi(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),R.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=$z(n,i),t.current}const X2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Wz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?X2(n.ref,r,e):n.refs&&n.refs.forEach(a=>X2(a,r,e))}},ZPe=(e,t)=>{t.shouldUseNativeValidation&&Wz(e,t);const r={};for(const n in e){const a=Ce(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(eke(t.names||Object.keys(e),n)){const o=Object.assign({},Ce(r,n));Rt(o,"root",i),Rt(r,n,o)}else Rt(r,n,i)}return r},eke=(e,t)=>e.some(r=>r.startsWith(t+"."));var tke=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Dz(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Q2=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Wz({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ZPe(tke(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const J2=$Pe,Hz=w.createContext({}),yf=({...e})=>s.jsx(Hz.Provider,{value:{name:e.name},children:s.jsx(FPe,{...e})}),f0=()=>{const e=w.useContext(Hz),t=w.useContext(qz),{getFieldState:r,formState:n}=d0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},qz=w.createContext({}),Sc=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return s.jsx(qz.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ie("space-y-2",e),...t})})});Sc.displayName="FormItem";const Cc=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=f0();return s.jsx(Se,{ref:r,className:ie(n&&"text-destructive",e),htmlFor:a,...t})});Cc.displayName="FormLabel";const Nc=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=f0();return s.jsx(I$,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Nc.displayName="FormControl";const rke=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=f0();return s.jsx("p",{ref:r,id:n,className:ie("text-sm text-muted-foreground",e),...t})});rke.displayName="FormDescription";const Pc=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=f0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ie("text-sm font-medium text-destructive",e),...r,children:o}):null});Pc.displayName="FormMessage";const nke=Oz({email:Qf().trim().email({message:"Email invalide"}),password:Qf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),ake=Oz({email:Qf().trim().email({message:"Email invalide"}),password:Qf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:Qf().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function ike(){const{user:e,loading:t,signIn:r,signUp:n}=Aa(),a=km(),[i,o]=w.useState(!1);w.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=Y2({resolver:Q2(nke),defaultValues:{email:"",password:""}}),c=Y2({resolver:Q2(ake),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{o(!0);const{error:h}=await r(f.email,f.password);o(!1),h?h.message.includes("Invalid login credentials")?nn({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?nn({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):nn({title:"Erreur",description:h.message,variant:"destructive"}):(nn({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},d=async f=>{o(!0);const{error:h}=await n(f.email,f.password,f.displayName);o(!1),h?h.message.includes("already registered")?nn({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):nn({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):nn({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:s.jsxs(Ct,{className:"w-full max-w-md",children:[s.jsxs(Lt,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(JS,{variant:"full",color:"dark"})}),s.jsx(Ft,{className:"whitespace-pre-line",children:"We engage, we move"}),s.jsx(os,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),s.jsx(Et,{children:s.jsxs(Ra,{defaultValue:"login",className:"w-full",children:[s.jsxs(ha,{className:"grid w-full grid-cols-2",children:[s.jsx(bt,{value:"login",children:"Connexion"}),s.jsx(bt,{value:"signup",children:"Inscription"})]}),s.jsx(Nt,{value:"login",className:"mt-4",children:s.jsx(J2,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[s.jsx(yf,{control:l.control,name:"email",render:({field:f})=>s.jsxs(Sc,{children:[s.jsx(Cc,{children:"Email"}),s.jsx(Nc,{children:s.jsx(je,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Pc,{})]})}),s.jsx(yf,{control:l.control,name:"password",render:({field:f})=>s.jsxs(Sc,{children:[s.jsx(Cc,{children:"Mot de passe"}),s.jsx(Nc,{children:s.jsx(je,{type:"password",placeholder:"",...f})}),s.jsx(Pc,{})]})}),s.jsxs(se,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(ai,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),s.jsx(Nt,{value:"signup",className:"mt-4",children:s.jsx(J2,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsx(yf,{control:c.control,name:"displayName",render:({field:f})=>s.jsxs(Sc,{children:[s.jsx(Cc,{children:"Nom complet"}),s.jsx(Nc,{children:s.jsx(je,{placeholder:"Jean Dupont",...f})}),s.jsx(Pc,{})]})}),s.jsx(yf,{control:c.control,name:"email",render:({field:f})=>s.jsxs(Sc,{children:[s.jsx(Cc,{children:"Email"}),s.jsx(Nc,{children:s.jsx(je,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Pc,{})]})}),s.jsx(yf,{control:c.control,name:"password",render:({field:f})=>s.jsxs(Sc,{children:[s.jsx(Cc,{children:"Mot de passe"}),s.jsx(Nc,{children:s.jsx(je,{type:"password",placeholder:"",...f})}),s.jsx(Pc,{})]})}),s.jsxs(se,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(ai,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const ske=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function oke(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var o;try{const{data:l}=await me.auth.getSession(),c=(o=l==null?void 0:l.session)==null?void 0:o.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await me.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const m=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(m)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(o,l)=>{try{await me.from("user_roles").upsert({user_id:o,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===o?{...u,role:l}:u)),nn({title:"Rle mis  jour"})}catch{nn({title:"Erreur",variant:"destructive"})}};return r?s.jsx(ai,{className:"h-6 w-6 animate-spin mx-auto"}):s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsx(Ft,{children:"Gestion des Utilisateurs"})}),s.jsx(Et,{children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Email"}),s.jsx(le,{children:"Rle"})]})}),s.jsxs(Xt,{children:[e.map(o=>s.jsxs(Ne,{children:[s.jsx(Y,{className:"font-medium",children:o.display_name||""}),s.jsx(Y,{className:"text-sm text-muted-foreground",children:o.email}),s.jsx(Y,{children:s.jsxs(dt,{value:o.role,onValueChange:l=>i(o.id,l),children:[s.jsx(lt,{className:"w-32",children:s.jsx(ft,{})}),s.jsx(ct,{children:ske.map(l=>s.jsx(Ve,{value:l,children:l},l))})]})})]},o.id)),e.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const Z2=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],lke=["hidden","read","write"],qb=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],cke={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},Kb={hidden:{label:"Masqu",icon:gI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:gW,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:Tv,color:"bg-green-100 text-green-800"}};function uke(){const{isAdmin:e,loading:t}=Aa(),r=km(),[n,a]=w.useState({}),[i,o]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await me.from("tab_permissions").select("*");if(h)throw h;const m={};Z2.forEach(y=>{m[y]={},qb.forEach(p=>{m[y][p.key]="hidden"})}),f==null||f.forEach(y=>{m[y.role]&&(m[y.role][y.tab_key]=y.permission)}),a(m)}catch{}finally{o(!1)}},d=async(f,h,m)=>{c(`${f}:${h}`);try{await me.from("tab_permissions").upsert({role:f,tab_key:h,permission:m},{onConflict:"role,tab_key"}),a(y=>({...y,[f]:{...y[f],[h]:m}})),nn({title:"Permission mise  jour"})}catch{nn({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xI,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),s.jsxs(Ra,{defaultValue:"users",className:"space-y-6",children:[s.jsxs(ha,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(bt,{value:"users",className:"flex items-center gap-2",children:[s.jsx(Nu,{className:"h-4 w-4"}),"Utilisateurs"]}),s.jsxs(bt,{value:"permissions",className:"flex items-center gap-2",children:[s.jsx(OW,{className:"h-4 w-4"}),"Permissions"]})]}),s.jsx(Nt,{value:"users",children:s.jsx(oke,{})}),s.jsx(Nt,{value:"permissions",className:"space-y-6",children:s.jsxs(Ct,{children:[s.jsxs(Lt,{children:[s.jsx(Ft,{children:"Matrice des Permissions"}),s.jsx(os,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),s.jsx(Et,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"w-32",children:"Rle"}),qb.map(f=>s.jsx(le,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),s.jsx(Xt,{children:Z2.map(f=>s.jsxs(Ne,{children:[s.jsx(Y,{children:s.jsx(Te,{variant:f==="admin"?"default":"secondary",children:cke[f]})}),qb.map(h=>{var p;const m=((p=n[f])==null?void 0:p[h.key])||"hidden",y=`${f}:${h.key}`;return s.jsx(Y,{className:"text-center p-2",children:f==="admin"?s.jsxs(Te,{className:Kb.write.color,children:[s.jsx(Tv,{className:"h-3 w-3 mr-1"}),Kb.write.label]}):s.jsxs(dt,{value:m,onValueChange:v=>d(f,h.key,v),disabled:l===y,children:[s.jsx(lt,{className:"w-28",children:s.jsx(ft,{})}),s.jsx(ct,{children:lke.map(v=>{const{label:g,icon:x}=Kb[v];return s.jsx(Ve,{value:v,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{className:"h-3 w-3"}),g]})},v)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const Gb=[50,100,200,500,1e3,2e3,5e3,1e4];function dke(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function AN(){const{user:e}=Aa(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[m,y]=w.useState(!0),[p,v]=w.useState(!1),g=w.useCallback(async()=>{if(e){p||y(!0);try{const[U,H,q,J,Z,te]=await Promise.all([me.from("costflow_references").select("*").order("code"),me.from("costflow_products").select("*").order("name"),me.from("costflow_bom").select("*"),me.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),me.from("costflow_suppliers").select("*").order("name"),me.from("costflow_product_categories").select("*").order("name")]);U.data&&r(U.data.map(dke)),H.data&&a(H.data.map(V=>({id:V.id,name:V.name,family:V.family||"Standard",main_supplier:V.main_supplier||"",coefficient:Number(V.coefficient)||1.3,price_ttc:Number(V.price_ttc)||0,default_volume:V.default_volume||500,comments:V.comments||"",category_id:V.category_id||null,created_at:V.created_at,updated_at:V.updated_at}))),q.data&&o(q.data.map(V=>({id:V.id,product_id:V.product_id,reference_id:V.reference_id,quantity:Number(V.quantity)||1}))),J.data&&c(J.data.map(V=>({id:V.id,reference_id:V.reference_id,file_name:V.file_name,file_path:V.file_path,file_size:V.file_size||0,version:V.version||1,uploaded_at:V.uploaded_at}))),Z.data&&d(Z.data.map(V=>({id:V.id,name:V.name,contact_name:V.contact_name||"",email:V.email||"",phone:V.phone||"",country:V.country||"France",comments:V.comments||"",created_at:V.created_at,updated_at:V.updated_at}))),te.data&&h(te.data.map(V=>({id:V.id,name:V.name,description:V.description||"",color:V.color||"#6366f1",created_at:V.created_at})))}catch(U){console.error("CostFlow fetch error:",U)}finally{y(!1),v(!0)}}},[e,p]);w.useEffect(()=>{g()},[g]);const x=async U=>{if(!e)return;const H=U.prices||{},{error:q}=await me.from("costflow_references").insert({user_id:e.id,code:U.code,name:U.name,category:U.category||"Mcanique",revision:U.revision||"A",supplier:U.supplier||"",currency:U.currency||"EUR",comments:U.comments||"",price_vol_50:H[50]||0,price_vol_100:H[100]||0,price_vol_200:H[200]||0,price_vol_500:H[500]||0,price_vol_1000:H[1e3]||0,price_vol_2000:H[2e3]||0,price_vol_5000:H[5e3]||0,price_vol_10000:H[1e4]||0});q?(Pe.error("Erreur cration rfrence"),console.error(q)):(Pe.success("Rfrence cre"),g())},b=async(U,H)=>{if(!e)return;const q={};H.code!==void 0&&(q.code=H.code),H.name!==void 0&&(q.name=H.name),H.category!==void 0&&(q.category=H.category),H.revision!==void 0&&(q.revision=H.revision),H.supplier!==void 0&&(q.supplier=H.supplier),H.currency!==void 0&&(q.currency=H.currency),H.comments!==void 0&&(q.comments=H.comments),H.prices&&(q.price_vol_50=H.prices[50]??0,q.price_vol_100=H.prices[100]??0,q.price_vol_200=H.prices[200]??0,q.price_vol_500=H.prices[500]??0,q.price_vol_1000=H.prices[1e3]??0,q.price_vol_2000=H.prices[2e3]??0,q.price_vol_5000=H.prices[5e3]??0,q.price_vol_10000=H.prices[1e4]??0);const{error:J}=await me.from("costflow_references").update(q).eq("id",U);J?(Pe.error("Erreur mise  jour"),console.error(J)):(Pe.success("Rfrence mise  jour"),g())},_=async U=>{const{error:H}=await me.from("costflow_references").delete().eq("id",U);H?(Pe.error("Erreur suppression"),console.error(H)):(Pe.success("Rfrence supprime"),g())},j=async(U,H="skip")=>{if(!e||U.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const q={imported:0,skipped:0,updated:0,errors:[]},J=t.map(V=>V.code),Z=U.filter(V=>!J.includes(V.code||"")),te=U.filter(V=>J.includes(V.code||""));if(Z.length>0){const V=Z.map(he=>{const _e=he.prices||{};return{user_id:e.id,code:he.code,name:he.name||he.code,category:he.category||"Mcanique",revision:he.revision||"A",supplier:he.supplier||"",currency:he.currency||"EUR",comments:he.comments||"",price_vol_50:_e[50]||0,price_vol_100:_e[100]||0,price_vol_200:_e[200]||0,price_vol_500:_e[500]||0,price_vol_1000:_e[1e3]||0,price_vol_2000:_e[2e3]||0,price_vol_5000:_e[5e3]||0,price_vol_10000:_e[1e4]||0}}),{error:K}=await me.from("costflow_references").insert(V);K?q.errors.push(`Erreur insertion : ${K.message}`):q.imported=Z.length}if(te.length>0)if(H==="skip")q.skipped=te.length;else for(const V of te){const K=t.find(ze=>ze.code===V.code);if(!K)continue;const he=V.prices||{},{error:_e}=await me.from("costflow_references").update({name:V.name||V.code,supplier:V.supplier||"",currency:V.currency||"EUR",comments:V.comments||"",price_vol_50:he[50]||0,price_vol_100:he[100]||0,price_vol_200:he[200]||0,price_vol_500:he[500]||0,price_vol_1000:he[1e3]||0,price_vol_2000:he[2e3]||0,price_vol_5000:he[5e3]||0,price_vol_10000:he[1e4]||0}).eq("id",K.id);_e?q.errors.push(`Erreur mise  jour ${V.code}`):q.updated++}return g(),q},S=async U=>{if(!e)return;const{error:H}=await me.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""});H?(Pe.error("Erreur cration produit"),console.error(H)):(Pe.success("Produit cr"),g())},C=async(U,H)=>{if(!e)return;const{error:q}=await me.from("costflow_products").update(H).eq("id",U);q?(Pe.error("Erreur mise  jour"),console.error(q)):(Pe.success("Produit mis  jour"),g())},N=async U=>{const{error:H}=await me.from("costflow_products").delete().eq("id",U);H?(Pe.error("Erreur suppression"),console.error(H)):(Pe.success("Produit supprim"),g())},P=async(U,H,q)=>{if(!e)return;const{error:J}=await me.from("costflow_bom").insert({user_id:e.id,product_id:U,reference_id:H,quantity:q});J?(Pe.error("Erreur ajout nomenclature"),console.error(J)):g()},E=async(U,H)=>{const{error:q}=await me.from("costflow_bom").update({quantity:H}).eq("id",U);q?(Pe.error("Erreur mise  jour"),console.error(q)):g()},O=async U=>{const{error:H}=await me.from("costflow_bom").delete().eq("id",U);H?(Pe.error("Erreur suppression"),console.error(H)):g()},T=async(U,H)=>{if(!e)return;const q=`${e.id}/${U}/${Date.now()}_${H.name}`,{error:J}=await me.storage.from("technical-plans").upload(q,H);if(J){Pe.error("Erreur upload fichier"),console.error(J);return}const Z=l.filter(K=>K.reference_id===U),te=Z.length>0?Math.max(...Z.map(K=>K.version)):0,{error:V}=await me.from("costflow_reference_files").insert({user_id:e.id,reference_id:U,file_name:H.name,file_path:q,file_size:H.size,version:te+1});V?(Pe.error("Erreur enregistrement fichier"),console.error(V)):(Pe.success("Fichier upload"),g())},A=async(U,H)=>{await me.storage.from("technical-plans").remove([H]);const{error:q}=await me.from("costflow_reference_files").delete().eq("id",U);q?(Pe.error("Erreur suppression fichier"),console.error(q)):g()},k=U=>{const{data:H}=me.storage.from("technical-plans").getPublicUrl(U);return H.publicUrl},$=async U=>{const{data:H,error:q}=await me.storage.from("technical-plans").createSignedUrl(U,3600);return q?(Pe.error("Erreur accs fichier"),null):H.signedUrl},D=(U,H)=>{const q=i.filter(V=>V.product_id===U),J=n.find(V=>V.id===U);if(!J)return 0;const Z=Gb.reduce((V,K)=>Math.abs(K-H)<Math.abs(V-H)?K:V);let te=0;for(const V of q){const K=t.find(he=>he.id===V.reference_id);K&&(te+=V.quantity*(K.prices[Z]||0))}return te*J.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:f,loading:m,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:j,createProduct:S,updateProduct:C,deleteProduct:N,createProductWithBom:async(U,H)=>{if(!e)return;const{data:q,error:J}=await me.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""}).select("id").single();if(J||!q){Pe.error("Erreur cration produit"),console.error(J);return}const Z=q.id;if(H.length>0){const te=H.map(K=>({user_id:e.id,product_id:Z,reference_id:K.referenceId,quantity:K.quantity})),{error:V}=await me.from("costflow_bom").insert(te);V&&(Pe.error("Erreur ajout nomenclature"),console.error(V))}Pe.success(`Produit "${U.name}" cr avec ${H.length} rfrence(s)`),g()},addBomEntry:P,updateBomEntry:E,removeBomEntry:O,uploadFile:T,deleteFile:A,getFileUrl:k,getSignedUrl:$,createSupplier:async U=>{if(!e)return;const{error:H}=await me.from("costflow_suppliers").insert({user_id:e.id,name:U.name,contact_name:U.contact_name||"",email:U.email||"",phone:U.phone||"",country:U.country||"France",comments:U.comments||""});H?(Pe.error("Erreur cration fournisseur"),console.error(H)):(Pe.success("Fournisseur cr"),g())},updateSupplier:async(U,H)=>{if(!e)return;const{error:q}=await me.from("costflow_suppliers").update(H).eq("id",U);q?(Pe.error("Erreur mise  jour fournisseur"),console.error(q)):(Pe.success("Fournisseur mis  jour"),g())},deleteSupplier:async U=>{const{error:H}=await me.from("costflow_suppliers").delete().eq("id",U);H?(Pe.error("Erreur suppression fournisseur"),console.error(H)):(Pe.success("Fournisseur supprim"),g())},createProductCategory:async U=>{if(!e)return;const{error:H}=await me.from("costflow_product_categories").insert({user_id:e.id,name:U.name,description:U.description||"",color:U.color||"#6366f1"});H?(Pe.error("Erreur cration catgorie"),console.error(H)):(Pe.success("Catgorie cre"),g())},updateProductCategory:async(U,H)=>{if(!e)return;const{error:q}=await me.from("costflow_product_categories").update(H).eq("id",U);q?(Pe.error("Erreur mise  jour catgorie"),console.error(q)):(Pe.success("Catgorie mise  jour"),g())},deleteProductCategory:async U=>{await me.from("costflow_products").update({category_id:null}).eq("category_id",U);const{error:H}=await me.from("costflow_product_categories").delete().eq("id",U);H?(Pe.error("Erreur suppression catgorie"),console.error(H)):(Pe.success("Catgorie supprime"),g())},calculateProductCost:D,calculateProductCosts:U=>{const H={};for(const q of Gb)H[q]=D(U,q);return H},VOLUME_TIERS:Gb,refresh:g}}const Di=w.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Di.displayName="Textarea";const fke=gd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),io=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ie(fke({variant:t}),e),...r}));io.displayName="Alert";const hke=w.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));hke.displayName="AlertTitle";const so=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));so.displayName="AlertDescription";const Yb=["EUR","USD","GBP","CHF","CNY","JPY"],Dp=[50,100,200,500,1e3,2e3,5e3,1e4];function gc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function xf(e){return e.code.trim().length>0}function mke({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=w.useState([gc()]),[o,l]=w.useState(!1),[c,u]=w.useState("skip"),[d,f]=w.useState(null),h=w.useRef(null),m=w.useRef(null),y=a.filter(N=>xf(N)).length,p=a.filter(N=>N.code&&n.includes(N.code)).length,v=(N,P,E)=>{i(O=>{const T=[...O];return T[N]={...T[N],[P]:E},T[N].valid=xf(T[N]),T[N].isDuplicate=T[N].code?n.includes(T[N].code):!1,T})},g=(N,P,E)=>{i(O=>{const T=[...O];return T[N]={...T[N],prices:{...T[N].prices,[P]:E}},T})},x=N=>{i(P=>P.length===1?[gc()]:P.filter((E,O)=>O!==N))},b=()=>i(N=>[...N,gc()]),_=w.useCallback(N=>{const P=N.clipboardData.getData("text/plain");if(!P.includes("	")&&!P.includes(`
`))return;N.preventDefault();const E=P.split(`
`).map($=>$.trim()).filter($=>$.length>0),O=E[0].toLowerCase(),k=(O.includes("code")||O.includes("nom")||O.includes("name")?E.slice(1):E).map($=>{const D=$.split("	"),M=gc();return M.code=(D[0]||"").trim(),M.name=(D[1]||"").trim(),M.supplier=(D[2]||"").trim(),M.currency=Yb.includes((D[3]||"").trim().toUpperCase())?(D[3]||"EUR").trim().toUpperCase():"EUR",Dp.forEach((I,L)=>{const B=parseFloat((D[4+L]||"").replace(",","."));isNaN(B)||(M.prices[I]=B)}),M.unit=(D[12]||"pice").trim(),M.comments=(D[13]||"").trim(),M.valid=xf(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter($=>$.code||$.name);k.length>0&&i($=>$.length===1&&!$[0].code&&!$[0].name?k:[...$,...k])},[]),j=N=>{var O;const P=(O=N.target.files)==null?void 0:O[0];if(!P)return;const E=new FileReader;E.onload=T=>{var B;const A=(B=T.target)==null?void 0:B.result;if(!A)return;const k=A.includes("	")?"	":A.includes(";")?";":",",$=A.split(`
`).map(Q=>Q.trim()).filter(Q=>Q.length>0),D=$[0].toLowerCase(),L=(D.includes("code")||D.includes("nom")?$.slice(1):$).map(Q=>{const X=Q.split(k),ne=gc();return ne.code=(X[0]||"").trim(),ne.name=(X[1]||"").trim(),ne.supplier=(X[2]||"").trim(),ne.currency=Yb.includes((X[3]||"").trim().toUpperCase())?(X[3]||"EUR").trim().toUpperCase():"EUR",Dp.forEach((z,U)=>{const H=parseFloat((X[4+U]||"").replace(",","."));isNaN(H)||(ne.prices[z]=H)}),ne.unit=(X[12]||"pice").trim(),ne.comments=(X[13]||"").trim(),ne.valid=xf(ne),ne.isDuplicate=ne.code?n.includes(ne.code):!1,ne}).filter(Q=>Q.code||Q.name);L.length>0&&i(L)},E.readAsText(P),m.current&&(m.current.value="")},S=async()=>{const N=a.filter(O=>xf(O));if(N.length===0)return;l(!0);const P=N.map(O=>({code:O.code,name:O.name||O.code,supplier:O.supplier||"",currency:O.currency||"EUR",prices:O.prices||{},comments:O.comments||"",category:"Mcanique",revision:"A"})),E=await r(P,c);f(E),l(!1)},C=()=>{i([gc()]),f(null),t(!1)};return d?s.jsx(Er,{open:e,onOpenChange:C,children:s.jsxs(br,{className:"max-w-md",children:[s.jsx(wr,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(hI,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"default",className:"bg-green-600",children:d.imported}),s.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"secondary",children:d.updated}),s.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"outline",children:d.skipped}),s.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&s.jsx(io,{variant:"destructive",children:s.jsx(so,{children:d.errors.map((N,P)=>s.jsx("div",{className:"text-xs",children:N},P))})})]}),s.jsx(se,{onClick:C,className:"w-full",children:"Fermer"})]})}):s.jsx(Er,{open:e,onOpenChange:C,children:s.jsxs(br,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(wr,{children:[s.jsx(jr,{children:"Importer des rfrences"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ra,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(ha,{className:"w-full",children:[s.jsxs(bt,{value:"paste",className:"flex-1",children:[s.jsx(mI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(bt,{value:"file",className:"flex-1",children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Nt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(io,{children:[s.jsx(gh,{className:"h-4 w-4"}),s.jsxs(so,{children:[s.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",s.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),p>0&&s.jsxs(io,{children:[s.jsx(Cu,{className:"h-4 w-4"}),s.jsxs(so,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:[p," code(s) dj existant(s)"]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(se,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),s.jsx(se,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),s.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),Dp.map(N=>s.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:N},N)),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:a.map((N,P)=>s.jsxs("tr",{className:`border-t ${N.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[s.jsx("td",{className:"px-1 py-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(je,{className:`h-8 text-xs ${N.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:N.code,onChange:E=>v(P,"code",E.target.value)}),N.isDuplicate&&s.jsx(Cu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(je,{className:"h-8 text-xs",placeholder:"Nom...",value:N.name,onChange:E=>v(P,"name",E.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(je,{className:"h-8 text-xs",value:N.supplier,onChange:E=>v(P,"supplier",E.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsxs(dt,{value:N.currency,onValueChange:E=>v(P,"currency",E),children:[s.jsx(lt,{className:"h-8 text-xs",children:s.jsx(ft,{})}),s.jsx(ct,{children:Yb.map(E=>s.jsx(Ve,{value:E,children:E},E))})]})}),Dp.map(E=>s.jsx("td",{className:"px-1 py-1",children:s.jsx(je,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:N.prices[E]??"",onChange:O=>g(P,E,parseFloat(O.target.value)||0),placeholder:"0"})},E)),s.jsx("td",{className:"px-1 py-1",children:s.jsx(je,{className:"h-8 text-xs",value:N.unit,onChange:E=>v(P,"unit",E.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(je,{className:"h-8 text-xs",value:N.comments,onChange:E=>v(P,"comments",E.target.value)})}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>x(P),className:"text-destructive hover:text-destructive/80",children:s.jsx(Mi,{className:"h-4 w-4"})})})]},P))})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),s.jsxs("div",{className:"flex items-center gap-3",children:[p>0&&s.jsxs("span",{className:"text-xs text-yellow-600",children:[p," doublon(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),s.jsxs(Nt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(io,{children:[s.jsx(gh,{className:"h-4 w-4"}),s.jsxs(so,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ss,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:m,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:j}),s.jsx(se,{variant:"outline",onClick:()=>{var N;return(N=m.current)==null?void 0:N.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(se,{variant:"outline",onClick:C,children:[s.jsx(Mi,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(se,{onClick:S,disabled:y===0||o,children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const pke=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],vke=["EUR","USD","GBP","CHF","CNY","JPY"],gke="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),yke=[50,100,200,500,1e3,2e3,5e3,1e4];function xke({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:o}){const[l,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,y]=w.useState(null),[p,v]=w.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),g=e.filter(j=>j.code.toLowerCase().includes(l.toLowerCase())||j.name.toLowerCase().includes(l.toLowerCase())||j.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),v({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=j=>{y(j),v({code:j.code,name:j.name,category:j.category,revision:j.revision,supplier:j.supplier,currency:j.currency,comments:j.comments,prices:{...j.prices}}),h(!0)},_=async()=>{if(!p.code||!p.name)return;const j={...p,supplier:p.supplier==="none"?"":p.supplier};m?await n(m.id,j):await r(j),h(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(CS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:j=>c(j.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(se,{variant:"outline",onClick:()=>d(!0),children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(Er,{open:f,onOpenChange:h,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{onClick:x,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),s.jsxs(br,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx(wr,{children:s.jsx(jr,{children:m?"Modifier la rfrence":"Nouvelle rfrence"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Code *"}),s.jsx(je,{value:p.code,onChange:j=>v({...p,code:j.target.value}),placeholder:"REF-001"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Nom *"}),s.jsx(je,{value:p.name,onChange:j=>v({...p,name:j.target.value}),placeholder:"Nom de la pice"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Catgorie"}),s.jsxs(dt,{value:p.category,onValueChange:j=>v({...p,category:j}),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:pke.map(j=>s.jsx(Ve,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Rvision"}),s.jsxs(dt,{value:p.revision,onValueChange:j=>v({...p,revision:j}),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:gke.map(j=>s.jsx(Ve,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Fournisseur"}),s.jsxs(dt,{value:p.supplier,onValueChange:j=>v({...p,supplier:j}),children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Slectionner..."})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"none",children:"Aucun"}),t.map(j=>s.jsx(Ve,{value:j.name,children:j.name},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Devise"}),s.jsxs(dt,{value:p.currency,onValueChange:j=>v({...p,currency:j}),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:vke.map(j=>s.jsx(Ve,{value:j,children:j},j))})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs(Se,{className:"text-sm font-semibold",children:["Grille de prix par volume (",p.currency,")"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:yke.map(j=>s.jsxs("div",{children:[s.jsxs(Se,{className:"text-xs text-muted-foreground",children:[j," units"]}),s.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:p.prices[j]||"",onChange:S=>v({...p,prices:{...p.prices,[j]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},j))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(Se,{children:"Commentaires"}),s.jsx(Di,{value:p.comments,onChange:j=>v({...p,comments:j.target.value}),rows:2})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:_,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Code"}),s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Catgorie"}),s.jsx(le,{children:"Rv."}),s.jsx(le,{children:"Fournisseur"}),s.jsx(le,{children:"Devise"}),s.jsx(le,{className:"text-right",children:"Prix @500"}),s.jsx(le,{className:"text-right",children:"Prix @1000"}),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[g.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),g.map(j=>{var S,C;return s.jsxs(Ne,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(j),children:[s.jsx(Y,{className:"font-mono-numbers font-medium",children:j.code}),s.jsx(Y,{children:j.name}),s.jsx(Y,{children:s.jsx(Te,{variant:"secondary",children:j.category})}),s.jsx(Y,{children:j.revision}),s.jsx(Y,{children:j.supplier||"-"}),s.jsx(Y,{children:j.currency}),s.jsx(Y,{className:"text-right font-mono-numbers",children:((S=j.prices[500])==null?void 0:S.toFixed(2))||"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:((C=j.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),b(j)},children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),a(j.id)},children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},j.id)})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),s.jsx(mke,{open:u,onOpenChange:d,onImport:i,existingCodes:e.map(j=>j.code)})]})}const bke=[50,100,200,500,1e3,2e3,5e3,1e4];function wke({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const o=w.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];h&&await r(e.id,h),o.current&&(o.current.value="")},u=async f=>{const h=await a(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:i,children:s.jsx(dI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Te,{variant:"secondary",children:e.category}),s.jsxs(Te,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&s.jsx(Te,{variant:"outline",children:e.supplier})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:bke.map(f=>{var h;return s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),s.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Commentaires"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),s.jsxs("div",{children:[s.jsx("input",{ref:o,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[s.jsx(ss,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Fichier"}),s.jsx(le,{children:"Version"}),s.jsx(le,{children:"Taille"}),s.jsx(le,{children:"Date"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:l.map(f=>s.jsxs(Ne,{children:[s.jsxs(Y,{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),s.jsx(Y,{children:s.jsxs(Te,{variant:"outline",children:["v",f.version]})}),s.jsx(Y,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),s.jsx(Y,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>u(f),children:s.jsx($y,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const jke=[50,100,200,500,1e3,2e3,5e3,1e4],_ke=["Standard","Premium","conomique","Custom"];function Lp(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function Ske({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,o]=w.useState(""),[l,c]=w.useState("Standard"),[u,d]=w.useState(""),[f,h]=w.useState([Lp()]),[m,y]=w.useState(!1),[p,v]=w.useState(null),g=w.useRef(null),x=w.useCallback(A=>{if(!A.trim())return{found:!1,referenceId:null,referenceName:""};const k=r.find($=>$.code.toLowerCase()===A.trim().toLowerCase());return k?{found:!0,referenceId:k.id,referenceName:k.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(A,k,$)=>{h(D=>{const M=[...D];if(M[A]={...M[A],[k]:$},k==="refCode"){const I=x($);M[A]={...M[A],...I}}return M})},_=A=>{h(k=>k.length===1?[Lp()]:k.filter(($,D)=>D!==A))},j=()=>h(A=>[...A,Lp()]),S=w.useCallback(A=>{const k=A.clipboardData.getData("text/plain");if(!k.includes("	")&&!k.includes(`
`))return;A.preventDefault();const $=k.split(`
`).map(B=>B.trim()).filter(B=>B.length>0),D=$[0].toLowerCase(),L=(D.includes("code")||D.includes("ref")||D.includes("rfrence")?$.slice(1):$).map(B=>{const Q=B.split("	"),X=(Q[0]||"").trim(),ne=parseFloat((Q[1]||"1").replace(",","."))||1,z=parseInt(Q[2]||"200")||200,U=x(X);return{refCode:X,quantity:ne,volume:z,...U}}).filter(B=>B.refCode.length>0);L.length>0&&h(B=>B.length===1&&!B[0].refCode?L:[...B,...L])},[x]),C=A=>{var D;const k=(D=A.target.files)==null?void 0:D[0];if(!k)return;const $=new FileReader;$.onload=M=>{var U;const I=(U=M.target)==null?void 0:U.result;if(!I)return;const L=I.includes("	")?"	":I.includes(";")?";":",",B=I.split(`
`).map(H=>H.trim()).filter(H=>H.length>0),Q=B[0].toLowerCase(),z=(Q.includes("code")||Q.includes("ref")?B.slice(1):B).map(H=>{const q=H.split(L),J=(q[0]||"").trim(),Z=parseFloat((q[1]||"1").replace(",","."))||1,te=parseInt(q[2]||"200")||200,V=x(J);return{refCode:J,quantity:Z,volume:te,...V}}).filter(H=>H.refCode.length>0);z.length>0&&h(z)},$.readAsText(k),g.current&&(g.current.value="")},N=f.filter(A=>A.refCode.trim()&&A.found&&A.referenceId),P=f.filter(A=>A.refCode.trim()&&!A.found),E=N.length,O=async()=>{if(!(!i.trim()||E===0)){y(!0);try{const A=N.map(k=>({referenceId:k.referenceId,quantity:k.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},A),v({success:!0,productName:i,refCount:E,errors:P.map(k=>k.refCode)})}catch{v({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},T=()=>{o(""),c("Standard"),d(""),h([Lp()]),v(null),t(!1)};return p?s.jsx(Er,{open:e,onOpenChange:T,children:s.jsxs(br,{className:"max-w-md",children:[s.jsx(wr,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[p.success?s.jsx(hI,{className:"h-5 w-5 text-emerald-500"}):s.jsx(Cu,{className:"h-5 w-5 text-destructive"}),p.success?"Produit cr":"Erreur"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[p.success&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm",children:["Le produit ",s.jsx("strong",{children:p.productName})," a t cr avec ",s.jsx("strong",{children:p.refCount})," rfrence(s)."]}),p.errors.length>0&&s.jsxs(io,{children:[s.jsx(Cu,{className:"h-4 w-4"}),s.jsxs(so,{children:[s.jsxs("span",{className:"font-medium",children:[p.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),s.jsx("span",{className:"text-xs ml-1",children:p.errors.join(", ")})]})]})]}),!p.success&&s.jsx("p",{className:"text-sm text-destructive",children:p.errors[0]})]}),s.jsx(se,{onClick:T,className:"w-full",children:"Fermer"})]})}):s.jsx(Er,{open:e,onOpenChange:T,children:s.jsxs(br,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(wr,{children:[s.jsx(jr,{children:"Importer des produits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ra,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(ha,{className:"w-full",children:[s.jsxs(bt,{value:"paste",className:"flex-1",children:[s.jsx(mI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(bt,{value:"file",className:"flex-1",children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Nt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(io,{children:[s.jsx(gh,{className:"h-4 w-4"}),s.jsxs(so,{children:[s.jsx("strong",{children:"Comment utiliser :"}),s.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[s.jsxs("li",{children:["Saisissez le ",s.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),s.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),s.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),s.jsxs("li",{children:["Les rfrences ",s.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Nom du produit *"}),s.jsx(je,{value:i,onChange:A=>o(A.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Famille *"}),s.jsxs(dt,{value:l,onValueChange:c,children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:_ke.map(A=>s.jsx(Ve,{value:A,children:A},A))})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Fournisseur"}),s.jsxs(dt,{value:u,onValueChange:d,children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Slectionner..."})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:" ",children:"Aucun"}),n.map(A=>s.jsx(Ve,{value:A,children:A},A))]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[s.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:f.map((A,k)=>s.jsxs("tr",{className:`border-t ${A.refCode&&!A.found?"bg-destructive/5":""}`,children:[s.jsxs("td",{className:"px-2 py-1",children:[s.jsx(je,{className:`h-8 text-xs ${A.refCode&&!A.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:A.refCode,onChange:$=>b(k,"refCode",$.target.value)}),A.found&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:A.referenceName})]}),s.jsx("td",{className:"px-2 py-1",children:s.jsx(je,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:A.quantity,onChange:$=>b(k,"quantity",parseInt($.target.value)||1)})}),s.jsx("td",{className:"px-2 py-1",children:s.jsxs(dt,{value:String(A.volume),onValueChange:$=>b(k,"volume",parseInt($)),children:[s.jsx(lt,{className:"h-8 text-xs",children:s.jsx(ft,{})}),s.jsx(ct,{children:jke.map($=>s.jsx(Ve,{value:String($),children:$},$))})]})}),s.jsx("td",{className:"px-2 py-1",children:A.refCode&&(A.found?s.jsx(Te,{variant:"secondary",className:"text-xs",children:" Trouve"}):s.jsx(Te,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>_(k),className:"text-destructive hover:text-destructive/80",children:s.jsx(Mi,{className:"h-4 w-4"})})})]},k))})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:j,children:"+ Ajouter une rfrence"}),s.jsxs("div",{className:"flex items-center gap-3",children:[P.length>0&&s.jsxs("span",{className:"text-xs text-destructive",children:[P.length," non trouve(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[E," rfrence(s) valide(s)"]})]})]})]}),s.jsxs(Nt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(io,{children:[s.jsx(gh,{className:"h-4 w-4"}),s.jsxs(so,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ss,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:g,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),s.jsx(se,{variant:"outline",onClick:()=>{var A;return(A=g.current)==null?void 0:A.click()},children:"Choisir un fichier"})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(se,{variant:"outline",onClick:T,children:[s.jsx(Mi,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(se,{onClick:O,disabled:!i.trim()||E===0||m,children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Crer le produit (",E," rf.)"]})]})]})})}function Cke({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:o,onImportProduct:l,calculateProductCosts:c}){const[u,d]=w.useState(""),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[p,v]=w.useState(null),[g,x]=w.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var P;const N=((P=r.find(E=>E.id===C.category_id))==null?void 0:P.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||N.toLowerCase().includes(u.toLowerCase())}),_=()=>{v(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},j=C=>{v(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{g.name&&(p?await a(p.id,g):await n(g),y(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(CS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(se,{variant:"outline",onClick:()=>h(!0),children:[s.jsx(ss,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(Er,{open:m,onOpenChange:y,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{onClick:_,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),s.jsxs(br,{className:"max-w-lg",children:[s.jsx(wr,{children:s.jsx(jr,{children:p?"Modifier le produit":"Nouveau produit"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Se,{children:"Nom *"}),s.jsx(je,{value:g.name,onChange:C=>x({...g,name:C.target.value}),placeholder:"Nom du produit"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Catgorie"}),s.jsxs(dt,{value:g.category_id||"none",onValueChange:C=>x({...g,category_id:C==="none"?null:C}),children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Aucune catgorie"})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"none",children:"Aucune"}),r.map(C=>s.jsx(Ve,{value:C.id,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Fournisseur principal"}),s.jsx(je,{value:g.main_supplier,onChange:C=>x({...g,main_supplier:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Coefficient (MO + assemblage)"}),s.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers",value:g.coefficient,onChange:C=>x({...g,coefficient:parseFloat(C.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Volume d'achat par dfaut"}),s.jsx(je,{type:"number",className:"font-mono-numbers",value:g.default_volume,onChange:C=>x({...g,default_volume:parseInt(C.target.value)||500})})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Prix TTC public ()"}),s.jsx(je,{type:"number",step:"0.01",className:"font-mono-numbers bg-muted",value:g.price_ttc,readOnly:!0,disabled:!0,title:"Gr depuis l'onglet Pricing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gr depuis l'onglet Pricing"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Se,{children:"Commentaires"}),s.jsx(Di,{value:g.comments,onChange:C=>x({...g,comments:C.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:S,children:p?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Produit"}),s.jsx(le,{children:"Catgorie"}),s.jsx(le,{children:"Fournisseur"}),s.jsx(le,{className:"text-right",children:"Coef."}),s.jsx(le,{className:"text-right",children:"Cot @500"}),s.jsx(le,{className:"text-right",children:"Prix TTC"}),s.jsx(le,{className:"text-right",children:"Marge"}),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[b.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const P=c(C.id)[500]||0,E=C.price_ttc>0?(C.price_ttc/1.2-P)/(C.price_ttc/1.2)*100:0;return s.jsxs(Ne,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(C),children:[s.jsx(Y,{className:"font-medium",children:C.name}),s.jsx(Y,{children:(()=>{const O=r.find(T=>T.id===C.category_id);return O?s.jsxs(Te,{variant:"outline",className:"gap-1",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:O.color}}),O.name]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),s.jsx(Y,{children:C.main_supplier||"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),s.jsx(Y,{className:"text-right font-mono-numbers",children:P>0?`${P.toFixed(2)} `:"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),s.jsx(Y,{className:`text-right font-mono-numbers font-medium ${E>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${E.toFixed(1)}%`:"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),j(C)},children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),i(C.id)},children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),s.jsx(Ske,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const bf=[50,100,200,500,1e3,2e3,5e3,1e4];function Nke({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:o,onBack:l}){const[c,u]=w.useState(""),[d,f]=w.useState(1),h=r.filter(b=>b.product_id===e.id),m=o(e.id),y=e.price_ttc/1.2,p=bf.map(b=>({volume:`${b}`,cost:m[b]||0,margin:y>0?Math.max(0,y-(m[b]||0)):0})),v=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},g=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!g.has(b.id));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:l,children:s.jsx(dI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsxs(Te,{variant:"outline",children:["Coef. ",e.coefficient]}),s.jsxs(Te,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Code"}),s.jsx(le,{children:"Rfrence"}),s.jsx(le,{className:"text-right",children:"Qt"}),bf.map(b=>s.jsxs(le,{className:"text-right text-xs",children:["@",b]},b)),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[h.map(b=>{const _=t.find(j=>j.id===b.reference_id);return _?s.jsxs(Ne,{children:[s.jsx(Y,{className:"font-mono-numbers",children:_.code}),s.jsx(Y,{children:_.name}),s.jsx(Y,{className:"text-right",children:s.jsx(je,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:j=>a(b.id,parseFloat(j.target.value)||1)})}),bf.map(j=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:((_.prices[j]||0)*b.quantity).toFixed(2)},j)),s.jsx(Y,{children:s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),s.jsxs(Ne,{className:"font-semibold bg-muted/30",children:[s.jsxs(Y,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),bf.map(b=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(m[b]||0).toFixed(2)},b)),s.jsx(Y,{})]}),y>0&&s.jsxs(Ne,{className:"font-semibold",children:[s.jsx(Y,{colSpan:3,className:"text-right",children:"Marge ()"}),bf.map(b=>{const _=y-(m[b]||0);return s.jsx(Y,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),s.jsx(Y,{})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Se,{className:"text-xs",children:"Rfrence"}),s.jsxs(dt,{value:c,onValueChange:u,children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Choisir une rfrence..."})}),s.jsx(ct,{children:x.map(b=>s.jsxs(Ve,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),s.jsxs("div",{className:"w-20",children:[s.jsx(Se,{className:"text-xs",children:"Qt"}),s.jsx(je,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),s.jsxs(se,{size:"sm",onClick:v,disabled:!c,children:[s.jsx(xr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),s.jsx(ln,{width:"100%",height:300,children:s.jsxs(ec,{data:p,children:[s.jsx(cn,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(gr,{dataKey:"volume",tick:{fontSize:12}}),s.jsx(yr,{tick:{fontSize:12}}),s.jsx(Ht,{formatter:b=>`${b.toFixed(2)} `}),s.jsx(kr,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&s.jsx(kr,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function Pke({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},f=m=>{l(m),u({name:m.name,description:m.description,color:m.color}),i(!0)},h=async()=>{c.name.trim()&&(o?await r(o.id,c):await t(c),i(!1))};return s.jsxs("div",{className:"financial-card p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"section-title flex items-center gap-2",children:[s.jsx(NS,{className:"h-4 w-4"})," Catgories de produits"]}),s.jsxs(Er,{open:a,onOpenChange:i,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{size:"sm",onClick:d,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),s.jsxs(br,{className:"max-w-md",children:[s.jsx(wr,{children:s.jsx(jr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Nom *"}),s.jsx(je,{value:c.name,onChange:m=>u({...c,name:m.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Description"}),s.jsx(Di,{value:c.description,onChange:m=>u({...c,description:m.target.value}),rows:2,placeholder:"Description optionnelle"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Couleur"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(je,{value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:h,children:o?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Couleur"}),s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Description"}),s.jsx(le,{})]})}),s.jsx(Xt,{children:e.map(m=>s.jsxs(Ne,{children:[s.jsx(Y,{children:s.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:m.color}})}),s.jsx(Y,{className:"font-medium",children:m.name}),s.jsx(Y,{className:"text-muted-foreground text-sm",children:m.description||"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>f(m),children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))})]})]})}const mi=[50,100,200,500,1e3,2e3,5e3,1e4];function kke({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(new Set),[d,f]=w.useState(new Set),h=v=>{const g=new Set(c);g.has(v)?g.delete(v):g.add(v),u(g)},m=v=>{const g=new Set(d);g.has(v)?g.delete(v):g.add(v),f(g)},y=()=>{const v=e.filter(b=>c.size===0||c.has(b.id)),g=["Produit","Famille","Coef.",...mi.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=v.map(b=>{const _=n(b.id),j=b.price_ttc/1.2,S=j>0?((j-(_[500]||0))/j*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...mi.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([g,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),Pe.success("Donnes produits copies")},p=()=>{const v=t.filter(b=>d.size===0||d.has(b.id)),g=["Code","Nom","Catgorie","Fournisseur",...mi.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=v.map(b=>[b.code,b.name,b.category,b.supplier,...mi.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([g,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Pe.success("Donnes rfrences copies")};return s.jsxs(Ra,{defaultValue:"products",className:"space-y-4",children:[s.jsxs(ha,{children:[s.jsx(bt,{value:"products",children:"Export Produits"}),s.jsx(bt,{value:"references",children:"Export Rfrences"}),s.jsx(bt,{value:"margins",children:"Analyse Marges"})]}),s.jsxs(Nt,{value:"products",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),s.jsxs(se,{variant:"outline",onClick:y,children:[a?s.jsx(Tl,{className:"h-4 w-4 mr-1"}):s.jsx(Jw,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"w-8"}),s.jsx(le,{children:"Produit"}),s.jsx(le,{children:"Famille"}),mi.map(v=>s.jsxs(le,{className:"text-right text-xs",children:["@",v]},v)),s.jsx(le,{className:"text-right",children:"Prix TTC"})]})}),s.jsx(Xt,{children:e.map(v=>{const g=n(v.id);return s.jsxs(Ne,{className:"cursor-pointer",onClick:()=>h(v.id),children:[s.jsx(Y,{children:s.jsx("input",{type:"checkbox",checked:c.has(v.id),readOnly:!0})}),s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{children:s.jsx(Te,{variant:"secondary",children:v.family})}),mi.map(x=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(g[x]||0).toFixed(2)},x)),s.jsx(Y,{className:"text-right font-mono-numbers",children:v.price_ttc.toFixed(2)})]},v.id)})})]})})]}),s.jsxs(Nt,{value:"references",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),s.jsxs(se,{variant:"outline",onClick:p,children:[o?s.jsx(Tl,{className:"h-4 w-4 mr-1"}):s.jsx(Jw,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"w-8"}),s.jsx(le,{children:"Code"}),s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Fournisseur"}),mi.map(v=>s.jsxs(le,{className:"text-right text-xs",children:["@",v]},v)),s.jsx(le,{children:"Devise"})]})}),s.jsx(Xt,{children:t.map(v=>s.jsxs(Ne,{className:"cursor-pointer",onClick:()=>m(v.id),children:[s.jsx(Y,{children:s.jsx("input",{type:"checkbox",checked:d.has(v.id),readOnly:!0})}),s.jsx(Y,{className:"font-mono-numbers",children:v.code}),s.jsx(Y,{children:v.name}),s.jsx(Y,{children:v.supplier||"-"}),mi.map(g=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(v.prices[g]||0).toFixed(2)},g)),s.jsx(Y,{children:v.currency})]},v.id))})]})})]}),s.jsx(Nt,{value:"margins",className:"space-y-4",children:s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Produit"}),s.jsx(le,{className:"text-right",children:"Prix HT"}),mi.map(v=>s.jsxs(le,{className:"text-right text-xs",children:["Marge @",v]},v))]})}),s.jsx(Xt,{children:e.map(v=>{const g=n(v.id),x=v.price_ttc/1.2;return s.jsxs(Ne,{children:[s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),mi.map(b=>{const _=x>0?(x-(g[b]||0))/x*100:0;return s.jsx(Y,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},v.id)})})]})})})]})}const eR={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function Eke({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(eR),h=e.filter(v=>v.name.toLowerCase().includes(a.toLowerCase())||v.contact_name.toLowerCase().includes(a.toLowerCase())||v.email.toLowerCase().includes(a.toLowerCase())),m=()=>{u(null),f(eR),l(!0)},y=v=>{u(v.id),f({name:v.name,contact_name:v.contact_name,email:v.email,phone:v.phone,country:v.country,comments:v.comments}),l(!0)},p=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(CS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Rechercher un fournisseur...",value:a,onChange:v=>i(v.target.value),className:"pl-9"})]}),s.jsxs(se,{onClick:m,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Nom"}),s.jsx(le,{children:"Contact"}),s.jsx(le,{children:"Email"}),s.jsx(le,{children:"Tlphone"}),s.jsx(le,{children:"Pays"}),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[h.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(v=>s.jsxs(Ne,{children:[s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{children:v.contact_name||"-"}),s.jsx(Y,{children:v.email||"-"}),s.jsx(Y,{children:v.phone||"-"}),s.jsx(Y,{children:v.country}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>y(v),children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>n(v.id),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},v.id))]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),s.jsx(Er,{open:o,onOpenChange:l,children:s.jsxs(br,{className:"max-w-lg",children:[s.jsx(wr,{children:s.jsx(jr,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Se,{children:"Nom *"}),s.jsx(je,{value:d.name,onChange:v=>f({...d,name:v.target.value}),placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Contact"}),s.jsx(je,{value:d.contact_name,onChange:v=>f({...d,contact_name:v.target.value}),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Email"}),s.jsx(je,{type:"email",value:d.email,onChange:v=>f({...d,email:v.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Tlphone"}),s.jsx(je,{value:d.phone,onChange:v=>f({...d,phone:v.target.value}),placeholder:"+33 ..."})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Pays"}),s.jsx(je,{value:d.country,onChange:v=>f({...d,country:v.target.value}),placeholder:"France"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Se,{children:"Commentaires"}),s.jsx(Di,{value:d.comments,onChange:v=>f({...d,comments:v.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:p,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function Ake(){const{user:e}=Aa(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(async()=>{if(e)try{const[p,v]=await Promise.all([me.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),me.from("costflow_meeting_tasks").select("*").order("sort_order")]);p.data&&r(p.data.map(g=>({id:g.id,meeting_date:g.meeting_date,title:g.title||"",content:g.content||"",created_at:g.created_at,updated_at:g.updated_at}))),v.data&&a(v.data.map(g=>({id:g.id,meeting_id:g.meeting_id,description:g.description,is_completed:g.is_completed||!1,sort_order:g.sort_order||0,created_at:g.created_at})))}catch(p){console.error("Meetings fetch error:",p)}finally{o(!1)}},[e]);return w.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async p=>{if(!e)return;const{error:v}=await me.from("costflow_meetings").insert({user_id:e.id,meeting_date:p.meeting_date||new Date().toISOString().split("T")[0],title:p.title||"",content:p.content||""});v?(Pe.error("Erreur cration runion"),console.error(v)):(Pe.success("Runion cre"),l())},updateMeeting:async(p,v)=>{if(!e)return;const{error:g}=await me.from("costflow_meetings").update(v).eq("id",p);g?(Pe.error("Erreur mise  jour runion"),console.error(g)):l()},deleteMeeting:async p=>{const{error:v}=await me.from("costflow_meetings").delete().eq("id",p);v?(Pe.error("Erreur suppression runion"),console.error(v)):(Pe.success("Runion supprime"),l())},createTask:async(p,v)=>{if(!e)return;const g=n.filter(_=>_.meeting_id===p),x=g.length>0?Math.max(...g.map(_=>_.sort_order)):-1,{error:b}=await me.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:p,description:v,sort_order:x+1});b?(Pe.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(p,v)=>{if(!e)return;const{error:g}=await me.from("costflow_meeting_tasks").update(v).eq("id",p);g?(Pe.error("Erreur mise  jour tche"),console.error(g)):l()},deleteTask:async p=>{const{error:v}=await me.from("costflow_meeting_tasks").delete().eq("id",p);v?(Pe.error("Erreur suppression tche"),console.error(v)):l()},getTasksForMeeting:p=>n.filter(v=>v.meeting_id===p),refresh:l}}function jn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Oke(e,t){const r=jn(e);return isNaN(t)?bs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const Kz=6048e5,Tke=864e5,Gz=6e4,Yz=36e5;let Rke={};function h0(){return Rke}function dd(e,t){var l,c,u,d;const r=h0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=jn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function dy(e){return dd(e,{weekStartsOn:1})}function Xz(e){const t=jn(e),r=t.getFullYear(),n=bs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=dy(n),i=bs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=dy(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function fy(e){const t=jn(e);return t.setHours(0,0,0,0),t}function tR(e){const t=jn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mke(e,t){const r=fy(e),n=fy(t),a=+r-tR(r),i=+n-tR(n);return Math.round((a-i)/Tke)}function $ke(e){const t=Xz(e),r=bs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),dy(r)}function Qz(e,t){const r=t*7;return Oke(e,r)}function Ike(e){return bs(e,Date.now())}function g_(e,t){const r=fy(e),n=fy(t);return+r==+n}function Dke(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lke(e){if(!Dke(e)&&typeof e!="number")return!1;const t=jn(e);return!isNaN(Number(t))}function Fke(e,t){const r=jn(e.start),n=jn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(jn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function Bke(e){const t=jn(e),r=bs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function zke(e,t){const r=t==null?void 0:t.weekStartsOn,n=jn(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const Uke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vke=(e,t,r)=>{let n;const a=Uke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function su(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kke={date:su({formats:Wke,defaultWidth:"full"}),time:su({formats:Hke,defaultWidth:"full"}),dateTime:su({formats:qke,defaultWidth:"full"})},Gke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yke=(e,t,r,n)=>Gke[e];function wi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Xke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rEe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nEe={ordinalNumber:rEe,era:wi({values:Xke,defaultWidth:"wide"}),quarter:wi({values:Qke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wi({values:Jke,defaultWidth:"wide"}),day:wi({values:Zke,defaultWidth:"wide"}),dayPeriod:wi({values:eEe,defaultWidth:"wide",formattingValues:tEe,defaultFormattingWidth:"wide"})};function ji(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?iEe(l,f=>f.test(o)):aEe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function aEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Jz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const sEe=/^(\d+)(th|st|nd|rd)?/i,oEe=/\d+/i,lEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cEe={any:[/^b/i,/^(a|c)/i]},uEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dEe={any:[/1/i,/2/i,/3/i,/4/i]},fEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yEe={ordinalNumber:Jz({matchPattern:sEe,parsePattern:oEe,valueCallback:e=>parseInt(e,10)}),era:ji({matchPatterns:lEe,defaultMatchWidth:"wide",parsePatterns:cEe,defaultParseWidth:"any"}),quarter:ji({matchPatterns:uEe,defaultMatchWidth:"wide",parsePatterns:dEe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ji({matchPatterns:fEe,defaultMatchWidth:"wide",parsePatterns:hEe,defaultParseWidth:"any"}),day:ji({matchPatterns:mEe,defaultMatchWidth:"wide",parsePatterns:pEe,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:vEe,defaultMatchWidth:"any",parsePatterns:gEe,defaultParseWidth:"any"})},xEe={code:"en-US",formatDistance:Vke,formatLong:Kke,formatRelative:Yke,localize:nEe,match:yEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bEe(e){const t=jn(e);return Mke(t,Bke(t))+1}function wEe(e){const t=jn(e),r=+dy(t)-+$ke(t);return Math.round(r/Kz)+1}function Zz(e,t){var d,f,h,m;const r=jn(e),n=r.getFullYear(),a=h0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=bs(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=dd(o,t),c=bs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=dd(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function jEe(e,t){var l,c,u,d;const r=h0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Zz(e,t),i=bs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),dd(i,t)}function _Ee(e,t){const r=jn(e),n=+dd(r,t)-+jEe(r,t);return Math.round(n/Kz)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ms={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Mt(a,t.length)}},yc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ms.y(e,t)},Y:function(e,t,r,n){const a=Zz(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=Xz(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ms.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_Ee(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},I:function(e,t,r){const n=wEe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ms.d(e,t)},D:function(e,t,r){const n=bEe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Mt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=yc.noon:n===0?a=yc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=yc.evening:n>=12?a=yc.afternoon:n>=4?a=yc.morning:a=yc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ms.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ms.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ms.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ms.s(e,t)},S:function(e,t){return Ms.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return aR(n);case"XXXX":case"XX":return tl(n);case"XXXXX":case"XXX":default:return tl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return aR(n);case"xxxx":case"xx":return tl(n);case"xxxxx":case"xxx":default:return tl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nR(n,":");case"OOOO":default:return"GMT"+tl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nR(n,":");case"zzzz":default:return"GMT"+tl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function nR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Mt(i,2)}function aR(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):tl(e,t)}function tl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+a+t+i}const iR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SEe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return iR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",iR(n,t)).replace("{{time}}",eU(a,t))},CEe={p:eU,P:SEe},NEe=/^D+$/,PEe=/^Y+$/,kEe=["D","DD","YY","YYYY"];function EEe(e){return NEe.test(e)}function AEe(e){return PEe.test(e)}function OEe(e,t,r){const n=TEe(e,t,r);if(console.warn(n),kEe.includes(e))throw new RangeError(n)}function TEe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const REe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$Ee=/^'([^]*?)'?$/,IEe=/''/g,DEe=/[a-zA-Z]/;function Ha(e,t,r){var d,f,h,m,y,p,v,g;const n=h0(),a=(r==null?void 0:r.locale)??n.locale??xEe,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,l=jn(e);if(!Lke(l))throw new RangeError("Invalid time value");let c=t.match(MEe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=CEe[b];return _(x,a.formatLong)}return x}).join("").match(REe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:LEe(x)};if(rR[b])return{isToken:!0,value:x};if(b.match(DEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&AEe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&EEe(b))&&OEe(b,t,String(e));const _=rR[b[0]];return _(l,b,a.localize,u)}).join("")}function LEe(e){const t=e.match($Ee);return t?t[1].replace(IEe,"'"):e}function FEe(e){return g_(e,Ike(e))}function BEe(e,t){const n=WEe(e);let a;if(n.date){const c=HEe(n.date,2);a=qEe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=KEe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=GEe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Fp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,VEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WEe(e){const t={},r=e.split(Fp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Fp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Fp.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function HEe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function qEe(e,t){if(t===null)return new Date(NaN);const r=e.match(zEe);if(!r)return new Date(NaN);const n=!!r[4],a=wf(r[1]),i=wf(r[2])-1,o=wf(r[3]),l=wf(r[4]),c=wf(r[5])-1;if(n)return ZEe(t,l,c)?YEe(t,l,c):new Date(NaN);{const u=new Date(0);return!QEe(t,i,o)||!JEe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function wf(e){return e?parseInt(e):1}function KEe(e){const t=e.match(UEe);if(!t)return NaN;const r=Xb(t[1]),n=Xb(t[2]),a=Xb(t[3]);return eAe(r,n,a)?r*Yz+n*Gz+a*1e3:NaN}function Xb(e){return e&&parseFloat(e.replace(",","."))||0}function GEe(e){if(e==="Z")return 0;const t=e.match(VEe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return tAe(n,a)?r*(n*Yz+a*Gz):NaN}function YEe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const XEe=[31,null,31,30,31,30,31,31,30,31,30,31];function tU(e){return e%400===0||e%4===0&&e%100!==0}function QEe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(XEe[t]||(tU(e)?29:28))}function JEe(e,t){return t>=1&&t<=(tU(e)?366:365)}function ZEe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function eAe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function tAe(e,t){return t>=0&&t<=59}function rAe(e,t){return Qz(e,-t)}const nAe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},aAe=(e,t,r)=>{let n;const a=nAe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},iAe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},sAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oAe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lAe={date:su({formats:iAe,defaultWidth:"full"}),time:su({formats:sAe,defaultWidth:"full"}),dateTime:su({formats:oAe,defaultWidth:"full"})},cAe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},uAe=(e,t,r,n)=>cAe[e],dAe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},fAe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},hAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},mAe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},pAe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},vAe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},gAe=["MMM","MMMM"],yAe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&gAe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:vAe,era:wi({values:dAe,defaultWidth:"wide"}),quarter:wi({values:fAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wi({values:hAe,defaultWidth:"wide"}),day:wi({values:mAe,defaultWidth:"wide"}),dayPeriod:wi({values:pAe,defaultWidth:"wide"})},xAe=/^(\d+)(ime|re|me|er|e)?/i,bAe=/\d+/i,wAe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},jAe={any:[/^av/i,/^ap/i]},_Ae={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},SAe={any:[/1/i,/2/i,/3/i,/4/i]},CAe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},NAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},PAe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},kAe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},EAe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},AAe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},OAe={ordinalNumber:Jz({matchPattern:xAe,parsePattern:bAe,valueCallback:e=>parseInt(e)}),era:ji({matchPatterns:wAe,defaultMatchWidth:"wide",parsePatterns:jAe,defaultParseWidth:"any"}),quarter:ji({matchPatterns:_Ae,defaultMatchWidth:"wide",parsePatterns:SAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ji({matchPatterns:CAe,defaultMatchWidth:"wide",parsePatterns:NAe,defaultParseWidth:"any"}),day:ji({matchPatterns:PAe,defaultMatchWidth:"wide",parsePatterns:kAe,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:EAe,defaultMatchWidth:"any",parsePatterns:AAe,defaultParseWidth:"any"})},qc={code:"fr",formatDistance:aAe,formatLong:lAe,formatRelative:uAe,localize:yAe,match:OAe,options:{weekStartsOn:1,firstWeekContainsDate:4}};var TAe="Separator",sR="horizontal",RAe=["horizontal","vertical"],rU=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=sR,...a}=e,i=MAe(n)?n:sR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Fe.div,{"data-orientation":i,...l,...a,ref:t})});rU.displayName=TAe;function MAe(e){return RAe.includes(e)}var nU=rU;const hy=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(nU,{ref:a,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));hy.displayName=nU.displayName;function $Ae(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:o,deleteTask:l,getTasksForMeeting:c}=Ake(),[u,d]=w.useState(null),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[p,v]=w.useState(new Date().toISOString().split("T")[0]),[g,x]=w.useState(""),[b,_]=w.useState(""),[j,S]=w.useState(!1),[C,N]=w.useState(""),[P,E]=w.useState(""),O=e.find(L=>L.id===u),T=u?c(u):[],A=async()=>{g.trim()&&(await r({meeting_date:p,title:g}),x(""),v(new Date().toISOString().split("T")[0]),h(!1))},k=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},$=async()=>{!u||!P.trim()||(await i(u,P.trim()),E(""))},D=()=>{O&&(N(O.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},I=({tasks:L,inFullscreen:B=!1})=>s.jsxs("div",{className:"space-y-1.5",children:[L.map(Q=>s.jsxs("div",{className:"flex items-start gap-2 group",children:[s.jsx(oi,{checked:Q.is_completed,onCheckedChange:X=>o(Q.id,{is_completed:!!X}),className:"mt-0.5"}),s.jsx("span",{className:`text-sm flex-1 ${Q.is_completed?"line-through text-muted-foreground":""}`,children:Q.description}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(Q.id),children:s.jsx(Mi,{className:"h-3 w-3"})})]},Q.id)),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(je,{placeholder:"Nouvelle tche",value:B?P:b,onChange:Q=>B?E(Q.target.value):_(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&(B?$():k()),className:"text-sm"}),s.jsx(se,{size:"sm",onClick:B?$:k,disabled:!(B?P:b).trim(),children:s.jsx(xr,{className:"h-4 w-4"})})]})]});return t?s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[s.jsxs(Ct,{className:"w-64 shrink-0 flex flex-col",children:[s.jsx(Lt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ft,{className:"text-sm font-medium",children:"Runions"}),s.jsxs(Er,{open:f,onOpenChange:h,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[s.jsx(xr,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),s.jsxs(br,{children:[s.jsx(wr,{children:s.jsx(jr,{children:"Nouvelle runion BE"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Date"}),s.jsx(je,{type:"date",value:p,onChange:L=>v(L.target.value)})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Titre / Objet"}),s.jsx(je,{placeholder:"Ex: Runion BE hebdomadaire",value:g,onChange:L=>x(L.target.value),onKeyDown:L=>L.key==="Enter"&&A()})]}),s.jsx(se,{onClick:A,disabled:!g.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),s.jsxs(Et,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(L=>{const B=L.id===u,Q=c(L.id).length,X=c(L.id).filter(ne=>ne.is_completed).length;return s.jsxs("button",{onClick:()=>d(L.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${B?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[s.jsx("div",{className:"font-medium truncate",children:Ha(new Date(L.meeting_date),"dd/MM/yyyy")}),s.jsx("div",{className:`text-xs truncate ${B?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.title||"Sans titre"}),Q>0&&s.jsxs("div",{className:`text-xs mt-0.5 ${B?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",X,"/",Q," tches"]})]},L.id)})]})]}),s.jsx(Ct,{className:"flex-1 flex flex-col overflow-hidden",children:O?s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"pb-2 shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ft,{className:"text-lg flex items-center gap-2",children:[s.jsx(ev,{className:"h-5 w-5 text-primary"}),Ha(new Date(O.meeting_date),"EEEE d MMMM yyyy",{locale:qc})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:O.title})]}),s.jsx(se,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(O.id),d(null))},children:s.jsx(Ir,{className:"h-4 w-4"})})]})}),s.jsxs(Et,{className:"flex-1 overflow-auto space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[s.jsx(Su,{className:"h-4 w-4"})," Compte-rendu"]}),s.jsxs("div",{className:"flex gap-1",children:[!j&&s.jsx(se,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:D,children:"Modifier"}),s.jsx(se,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:s.jsx(CW,{className:"h-3.5 w-3.5"})})]})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Di,{value:C,onChange:L=>N(L.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:O.content||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(hy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),s.jsx(I,{tasks:T})]})]}),s.jsx(Er,{open:m,onOpenChange:y,children:s.jsxs(br,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(wr,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(ev,{className:"h-5 w-5 text-primary"}),O&&Ha(new Date(O.meeting_date),"EEEE d MMMM yyyy",{locale:qc}),O&&s.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",O.title]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[s.jsx(Su,{className:"h-4 w-4"})," Compte-rendu"]}),!j&&s.jsx(se,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:D,children:"Modifier"})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Di,{value:C,onChange:L=>N(L.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(se,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(O==null?void 0:O.content)||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(hy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),s.jsx(I,{tasks:T,inFullscreen:!0})]})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(ev,{className:"h-12 w-12 mx-auto opacity-30"}),s.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function aU(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=w.useCallback(async()=>{try{const[b,_,j]=await Promise.all([me.from("costflow_planning_colors").select("*").order("sort_order"),me.from("costflow_planning_rows").select("*").order("sort_order"),me.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(j.error)throw j.error;t(b.data||[]),n(_.data||[]),i(j.data||[])}catch(b){Pe.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);w.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await me.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:o,createColor:async(b,_)=>{const j=await u();if(!j)return;const{data:S,error:C}=await me.from("costflow_planning_colors").insert({user_id:j,name:b,color:_,sort_order:e.length}).select().single();if(C){Pe.error(C.message);return}t(N=>[...N,S])},updateColor:async(b,_)=>{const{error:j}=await me.from("costflow_planning_colors").update(_).eq("id",b);if(j){Pe.error(j.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await me.from("costflow_planning_colors").delete().eq("id",b);if(_){Pe.error(_.message);return}t(j=>j.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:j,error:S}=await me.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){Pe.error(S.message);return}n(C=>[...C,j])},updateRow:async(b,_)=>{const{error:j}=await me.from("costflow_planning_rows").update({label:_}).eq("id",b);if(j){Pe.error(j.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await me.from("costflow_planning_rows").delete().eq("id",b);if(_){Pe.error(_.message);return}n(j=>j.filter(S=>S.id!==b)),i(j=>j.filter(S=>S.row_id!==b))},createBlock:async(b,_,j,S,C)=>{const N=await u();if(!N)return;const{data:P,error:E}=await me.from("costflow_planning_blocks").insert({user_id:N,row_id:b,start_month:_,duration:j,color_id:S,label:C}).select().single();if(E){Pe.error(E.message);return}i(O=>[...O,P])},updateBlock:async(b,_)=>{const{error:j}=await me.from("costflow_planning_blocks").update(_).eq("id",b);if(j){Pe.error(j.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await me.from("costflow_planning_blocks").delete().eq("id",b);if(_){Pe.error(_.message);return}i(j=>j.filter(S=>S.id!==b))}}}function IAe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useCallback(async()=>{try{const{data:c,error:u}=await me.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){Pe.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return w.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var m;const{data:d}=await me.auth.getUser(),f=(m=d.user)==null?void 0:m.id;if(!f)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await me.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){Pe.error(y.message);return}t(p=>p.map(v=>v.id===h.id?{...v,content:u,updated_at:new Date().toISOString()}:v))}else{const{data:y,error:p}=await me.from("costflow_planning_notes").insert({user_id:f,block_id:c,content:u}).select().single();if(p){Pe.error(p.message);return}t(v=>[y,...v])}Pe.success("Note sauvegarde")}}}function DAe({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:o}){const[l,c]=w.useState("");if(w.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=o[r.start_month-1]||`M${r.start_month}`,d=r.start_month+r.duration-1,f=o[d-1]||`M${d}`;return s.jsx(Er,{open:e,onOpenChange:t,children:s.jsxs(br,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(wr,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[n&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),s.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",f,")"]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Di,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs(se,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[s.jsx(Iy,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function LAe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var ON="ScrollArea",[iU,qOe]=$n(ON),[FAe,$a]=iU(ON),sU=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,y]=w.useState(null),[p,v]=w.useState(null),[g,x]=w.useState(0),[b,_]=w.useState(0),[j,S]=w.useState(!1),[C,N]=w.useState(!1),P=rt(t,O=>c(O)),E=Nd(a);return s.jsx(FAe,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Fe.div,{dir:E,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});sU.displayName=ON;var oU="ScrollAreaViewport",lU=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=$a(oU,r),l=w.useRef(null),c=rt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});lU.displayName=oU;var Vi="ScrollAreaScrollbar",TN=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$a(Vi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(BAe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(zAe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(cU,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(RN,{...n,ref:t}):null});TN.displayName=Vi;var BAe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$a(Vi,e.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Kn,{present:r||i,children:s.jsx(cU,{"data-state":i?"visible":"hidden",...n,ref:t})})}),zAe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$a(Vi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=p0(()=>c("SCROLL_END"),100),[l,c]=LAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Kn,{present:r||l!=="hidden",children:s.jsx(RN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),cU=w.forwardRef((e,t)=>{const r=$a(Vi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=w.useState(!1),l=e.orientation==="horizontal",c=p0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return fd(r.viewport,c),fd(r.content,c),s.jsx(Kn,{present:n||i,children:s.jsx(RN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),RN=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=$a(Vi,e.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mU(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return KAe(h,o.current,l,m)}return r==="horizontal"?s.jsx(UAe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=oR(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(VAe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=oR(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),UAe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=$a(Vi,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=rt(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dU,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":m0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),vU(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:py(o.paddingLeft),paddingEnd:py(o.paddingRight)}})}})}),VAe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=$a(Vi,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=rt(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dU,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":m0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),vU(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:py(o.paddingTop),paddingEnd:py(o.paddingBottom)}})}})}),[WAe,uU]=iU(Vi),dU=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=$a(Vi,r),[y,p]=w.useState(null),v=rt(t,P=>p(P)),g=w.useRef(null),x=w.useRef(""),b=m.viewport,_=n.content-n.viewport,j=Ur(d),S=Ur(c),C=p0(f,10);function N(P){if(g.current){const E=P.clientX-g.current.left,O=P.clientY-g.current.top;u({x:E,y:O})}}return w.useEffect(()=>{const P=E=>{const O=E.target;(y==null?void 0:y.contains(O))&&j(E,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,_,j]),w.useEffect(S,[n,S]),fd(y,C),fd(m.content,C),s.jsx(WAe,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ur(i),onThumbPointerUp:Ur(o),onThumbPositionChange:S,onThumbPointerDown:Ur(l),children:s.jsx(Fe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(P))}),onPointerMove:Ee(e.onPointerMove,N),onPointerUp:Ee(e.onPointerUp,P=>{const E=P.target;E.hasPointerCapture(P.pointerId)&&E.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),my="ScrollAreaThumb",fU=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=uU(my,e.__scopeScrollArea);return s.jsx(Kn,{present:r||a.hasThumb,children:s.jsx(HAe,{ref:t,...n})})}),HAe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=$a(my,r),o=uU(my,r),{onThumbPositionChange:l}=o,c=rt(t,f=>o.onThumbChange(f)),u=w.useRef(void 0),d=p0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=GAe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Fe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:y,y:p})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});fU.displayName=my;var MN="ScrollAreaCorner",hU=w.forwardRef((e,t)=>{const r=$a(MN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(qAe,{...e,ref:t}):null});hU.displayName=MN;var qAe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=$a(MN,r),[i,o]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return fd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),fd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Fe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function py(e){return e?parseInt(e,10):0}function mU(e,t){const r=e/t;return isNaN(r)?0:r}function m0(e){const t=mU(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function KAe(e,t,r,n="ltr"){const a=m0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return pU([c,u],f)(e)}function oR(e,t,r="ltr"){const n=m0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Nh(e,c);return pU([0,o],[0,l])(u)}function pU(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function vU(e,t){return e>0&&e<t}var GAe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function p0(e,t){const r=Ur(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function fd(e,t){const r=Ur(t);Qr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var gU=sU,YAe=lU,XAe=hU;const yU=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gU,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[s.jsx(YAe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(xU,{}),s.jsx(XAe,{})]}));yU.displayName=gU.displayName;const xU=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(TN,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(fU,{className:"relative flex-1 rounded-full bg-border"})}));xU.displayName=TN.displayName;function QAe({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:o,onOpenBlockNote:l}){const c=d=>i.find(f=>f.id===d),u=[...n].sort((d,f)=>d.start_month-f.start_month);return s.jsx(Er,{open:e,onOpenChange:t,children:s.jsxs(br,{className:"max-w-3xl max-h-[85vh]",children:[s.jsx(wr,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-5 w-5"}),"Notes  ",r]})}),s.jsx(yU,{className:"max-h-[65vh] pr-2",children:u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):s.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=c(d.color_id),h=a.find(v=>v.block_id===d.id),m=o[d.start_month-1]||`M${d.start_month}`,y=d.start_month+d.duration-1,p=o[y-1]||`M${y}`;return s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(d)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f.color}}),s.jsx("span",{className:"font-medium text-sm",children:d.label||(f==null?void 0:f.name)||"Bloc"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[m,"  ",p]})]}),h?s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},d.id)})})})]})})}const bU=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function JAe(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:bU[(n-1)%12],globalIndex:n});return r}function wU(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:o,createRow:l,updateRow:c,deleteRow:u,createBlock:d,updateBlock:f,deleteBlock:h}=aU(),{notes:m,getNotesForBlock:y,getNotesForBlocks:p,upsertNote:v}=IAe(),[g,x]=w.useState(1),[b,_]=w.useState(12),[j,S]=w.useState(""),[C,N]=w.useState(null),[P,E]=w.useState(""),[O,T]=w.useState(!1),[A,k]=w.useState(""),[$,D]=w.useState("#3b82f6"),[M,I]=w.useState(null),[L,B]=w.useState(!1),[Q,X]=w.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[ne,z]=w.useState(null),[U,H]=w.useState(null),[q,J]=w.useState(!1),[Z,te]=w.useState(null),[V,K]=w.useState(!1),[he,_e]=w.useState(null),ze=w.useRef(null),Ye=JAe(g,b),et=Ye.length;Ye.map(de=>de.label);const ht=de=>e.find(We=>We.id===de),Tt=de=>{const We=[...de].sort((ae,ge)=>ae.start_month-ge.start_month),W=[],ue=[];for(const ae of We){const ge=ae.start_month+ae.duration;let ke=!1;for(let qe=0;qe<ue.length;qe++)if(ae.start_month>=ue[qe]){ue[qe]=ge,W.push({blockId:ae.id,lane:qe}),ke=!0;break}ke||(W.push({blockId:ae.id,lane:ue.length}),ue.push(ge))}return{lanes:W,maxLane:ue.length}},F=()=>{j.trim()&&(l(j.trim()),S(""))},G=de=>{P.trim()&&c(de,P.trim()),N(null)},re=(de,We)=>{var W;X({row_id:de,start_month:We,duration:1,color_id:((W=e[0])==null?void 0:W.id)||"",label:""}),z(null),B(!0)},xe=de=>{X({row_id:de.row_id,start_month:de.start_month,duration:de.duration,color_id:de.color_id||"",label:de.label}),z(de.id),B(!0)},be=()=>{const{row_id:de,start_month:We,duration:W,color_id:ue,label:ae}=Q,ge=ue||null;ne?f(ne,{row_id:de,start_month:We,duration:W,color_id:ge,label:ae}):d(de,We,W,ge,ae),B(!1)},oe=()=>{A.trim()&&(M?i(M,{name:A.trim(),color:$}):a(A.trim(),$),k(""),D("#3b82f6"),I(null),T(!1))},ye=de=>{I(de.id),k(de.name),D(de.color),T(!0)},Ie=de=>{H(de),J(!0)},nt=(de,We)=>{de.preventDefault();const W=ze.current;if(!W)return;const ue=W.getBoundingClientRect(),ae=ue.width/et,ge=Math.floor((de.clientX-ue.left)/ae)+g;_e({blockId:We.id,offsetMonth:ge-We.start_month})},xt=w.useCallback(de=>{if(!he||!ze.current)return;const We=ze.current.getBoundingClientRect(),W=We.width/et;let ae=Math.floor((de.clientX-We.left)/W)+g-he.offsetMonth;const ge=r.find(ke=>ke.id===he.blockId);ge&&(ae=Math.max(1,Math.min(ae,36-ge.duration)),ae!==ge.start_month&&f(he.blockId,{start_month:ae}))},[he,r,f,et,g]),_r=w.useCallback(()=>{_e(null)},[]);if(n)return s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const Ar=Array.from({length:36},(de,We)=>{const W=We+1,ue=Math.floor(We/12)+1,ae=`${bU[We%12]} (A${ue})`;return{value:W,label:ae}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ft,{className:"text-sm font-medium",children:"Lgende des couleurs"}),s.jsxs(se,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{I(null),k(""),D("#3b82f6"),T(!0)},children:[s.jsx(xr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),s.jsx(Et,{children:e.length===0?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):s.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(de=>s.jsxs("div",{className:"flex items-center gap-2 group",children:[s.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:de.color}}),s.jsx("span",{className:"text-sm",children:de.name}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>ye(de),children:s.jsx(Tv,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>o(de.id),children:s.jsx(Mi,{className:"h-3 w-3"})})]},de.id))})})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ft,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(je,{placeholder:"Nouveau produit",value:j,onChange:de=>S(de.target.value),onKeyDown:de=>de.key==="Enter"&&F(),className:"h-7 text-xs w-48"}),s.jsxs(se,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:F,disabled:!j.trim(),children:[s.jsx(xr,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Se,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),s.jsxs(dt,{value:String(g),onValueChange:de=>{const We=Number(de);x(We),We>b&&_(We)},children:[s.jsx(lt,{className:"h-7 text-xs w-32",children:s.jsx(ft,{})}),s.jsx(ct,{children:Ar.map(de=>s.jsx(Ve,{value:String(de.value),children:de.label},de.value))})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Se,{className:"text-xs whitespace-nowrap",children:"Fin :"}),s.jsxs(dt,{value:String(b),onValueChange:de=>{const We=Number(de);_(We),We<g&&x(We)},children:[s.jsx(lt,{className:"h-7 text-xs w-32",children:s.jsx(ft,{})}),s.jsx(ct,{children:Ar.filter(de=>de.value>=g).map(de=>s.jsx(Ve,{value:String(de.value),children:de.label},de.value))})]})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[et," mois affichs"]})]})]})}),s.jsx(Et,{className:"overflow-x-auto p-0",children:s.jsxs("div",{className:"min-w-[900px]",onMouseMove:xt,onMouseUp:_r,onMouseLeave:_r,children:[s.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${et}, 1fr)`},children:[s.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),Ye.map((de,We)=>s.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:de.label},We))]}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(de=>{const We=r.filter(ge=>ge.row_id===de.id),{lanes:W,maxLane:ue}=Tt(We),ae=Math.max(44,ue*32+12);return s.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${et}, 1fr)`,minHeight:ae},children:[s.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:ae},children:C===de.id?s.jsx(je,{value:P,onChange:ge=>E(ge.target.value),onBlur:()=>G(de.id),onKeyDown:ge=>ge.key==="Enter"&&G(de.id),autoFocus:!0,className:"h-6 text-xs"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"truncate flex-1 font-medium",children:de.label}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{te({id:de.id,label:de.label}),K(!0)},title:"Voir toutes les notes",children:s.jsx(Su,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{N(de.id),E(de.label)},children:s.jsx(Tv,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(de.id)},children:s.jsx(Ir,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${et+2}`,minHeight:ae},ref:ze,children:[s.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${et}, 1fr)`},children:Ye.map((ge,ke)=>s.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>re(de.id,ge.globalIndex)},ke))}),We.map(ge=>{const ke=ge.start_month+ge.duration;if(ke<=g||ge.start_month>b)return null;const qe=ht(ge.color_id),wt=(qe==null?void 0:qe.color)||"#94a3b8",sr=Math.max(ge.start_month,g),gt=Math.min(ke,b+1),zt=`${(sr-g)/et*100}%`,nr=`${(gt-sr)/et*100}%`,Re=W.find(In=>In.blockId===ge.id),mt=4+((Re==null?void 0:Re.lane)||0)*32,dn=y(ge.id),fn=dn.length>0&&dn[0].content.trim()!=="";return s.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:zt,width:nr,backgroundColor:wt,top:mt,height:28,cursor:he?"grabbing":"grab",zIndex:(he==null?void 0:he.blockId)===ge.id?10:1},onMouseDown:In=>nt(In,ge),onDoubleClick:()=>xe(ge),onClick:In=>{he||(In.stopPropagation(),Ie(ge))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[s.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:ge.label||(qe==null?void 0:qe.name)||""}),fn&&s.jsx(TW,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},ge.id)})]})]},de.id)})]})})]}),s.jsx(Er,{open:O,onOpenChange:T,children:s.jsxs(br,{className:"max-w-sm",children:[s.jsx(wr,{children:s.jsx(jr,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Nom / Dfinition"}),s.jsx(je,{value:A,onChange:de=>k(de.target.value),placeholder:"Ex: Sortie publique valide"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Couleur"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"color",value:$,onChange:de=>D(de.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(je,{value:$,onChange:de=>D(de.target.value),className:"w-28 text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{onClick:oe,disabled:!A.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&s.jsx(se,{variant:"destructive",onClick:()=>{o(M),T(!1)},children:"Supprimer"})]})]})]})}),s.jsx(Er,{open:L,onOpenChange:B,children:s.jsxs(br,{className:"max-w-sm",children:[s.jsx(wr,{children:s.jsx(jr,{children:ne?"Modifier le bloc":"Nouveau bloc"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Label"}),s.jsx(je,{value:Q.label,onChange:de=>X(We=>({...We,label:de.target.value})),placeholder:"Ex: Prototype"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Mois de dbut"}),s.jsxs(dt,{value:String(Q.start_month),onValueChange:de=>X(We=>({...We,start_month:Number(de)})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:Ar.map(de=>s.jsx(Ve,{value:String(de.value),children:de.label},de.value))})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Dure (mois)"}),s.jsxs(dt,{value:String(Q.duration),onValueChange:de=>X(We=>({...We,duration:Number(de)})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsx(ct,{children:Array.from({length:24},(de,We)=>We+1).map(de=>s.jsxs(Ve,{value:String(de),children:[de," mois"]},de))})]})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Couleur"}),s.jsxs(dt,{value:Q.color_id||"none",onValueChange:de=>X(We=>({...We,color_id:de==="none"?"":de})),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"none",children:"Sans couleur"}),e.map(de=>s.jsx(Ve,{value:de.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:de.color}}),de.name]})},de.id))]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{onClick:be,className:"flex-1",children:ne?"Mettre  jour":"Crer"}),ne&&s.jsx(se,{variant:"destructive",onClick:()=>{h(ne),B(!1)},children:"Supprimer"})]})]})]})}),s.jsx(DAe,{open:q,onOpenChange:J,block:U,color:U?ht(U.color_id):void 0,existingNote:U?y(U.id)[0]:void 0,onSave:v,monthLabels:Ar.map(de=>de.label)}),Z&&s.jsx(QAe,{open:V,onOpenChange:K,rowLabel:Z.label,rowBlocks:r.filter(de=>de.row_id===Z.id),notes:p(r.filter(de=>de.row_id===Z.id).map(de=>de.id)),colors:e,monthLabels:Ar.map(de=>de.label),onOpenBlockNote:Ie})]})}function ZAe(){const e=AN(),[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState("references");return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx(Ui,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),s.jsxs(Ra,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(ha,{children:[s.jsx(bt,{value:"references",children:" Rfrences"}),s.jsx(bt,{value:"products",children:" Produits"}),s.jsx(bt,{value:"suppliers",children:" Fournisseurs"}),s.jsx(bt,{value:"costs",children:" Cots & Export"}),s.jsx(bt,{value:"meetings",children:" Runions BE"}),s.jsx(bt,{value:"planning",children:" Planning Dev"})]}),s.jsx(Nt,{value:"references",children:t?s.jsx(wke,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):s.jsx(xke,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),s.jsx(Nt,{value:"products",children:n?s.jsx(Nke,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cke,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),s.jsx(Pke,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),s.jsx(Nt,{value:"suppliers",children:s.jsx(Eke,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),s.jsx(Nt,{value:"costs",children:s.jsx(kke,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),s.jsx(Nt,{value:"meetings",children:s.jsx($Ae,{})}),s.jsx(Nt,{value:"planning",children:s.jsx(wU,{})})]})]})})}function eOe(){const{user:e,userRole:t}=Aa(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=t==="admin"||t==="finance",u=w.useCallback(async()=>{if(e){l(!0);try{const[v,g]=await Promise.all([me.from("timetracking_categories").select("*").order("name"),me.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);v.data&&n(v.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),g.data&&i(g.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(v){console.error("TimeTracking fetch error:",v)}finally{l(!1)}}},[e]);return w.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:o,canManageCategories:c,createCategory:async(v,g)=>{if(!e)return;const{error:x}=await me.from("timetracking_categories").insert({user_id:e.id,name:v,color:g});x?(Pe.error("Erreur cration catgorie"),console.error(x)):(Pe.success("Catgorie cre"),u())},updateCategory:async(v,g)=>{const{error:x}=await me.from("timetracking_categories").update(g).eq("id",v);x?(Pe.error("Erreur mise  jour catgorie"),console.error(x)):(Pe.success("Catgorie mise  jour"),u())},deleteCategory:async v=>{const{error:g}=await me.from("timetracking_categories").delete().eq("id",v);g?(Pe.error("Erreur suppression catgorie"),console.error(g)):(Pe.success("Catgorie supprime"),u())},createEntry:async v=>{if(!e)return;const{error:g}=await me.from("timetracking_entries").insert({user_id:e.id,date:v.date,category_id:v.category_id||null,task_description:v.task_description,duration_minutes:v.duration_minutes||0,comments:v.comments||""});g?(Pe.error("Erreur cration entre"),console.error(g)):(Pe.success("Temps enregistr"),u())},updateEntry:async(v,g)=>{const{error:x}=await me.from("timetracking_entries").update(g).eq("id",v);x?(Pe.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async v=>{const{error:g}=await me.from("timetracking_entries").delete().eq("id",v);g?(Pe.error("Erreur suppression"),console.error(g)):u()},refresh:u}}function Qb(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function tOe({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,o]=w.useState(()=>dd(new Date,{weekStartsOn:1})),[l,c]=w.useState(new Date),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,y]=w.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),p=zke(i,{weekStartsOn:1}),v=Fke({start:i,end:p}),g=w.useMemo(()=>e.filter(N=>g_(BEe(N.date),l)),[e,l]),x=w.useMemo(()=>{const N={};return v.forEach(P=>{const E=Ha(P,"yyyy-MM-dd");N[E]=e.filter(O=>O.date===E).reduce((O,T)=>O+T.duration_minutes,0)}),N},[e,v]),b=g.reduce((N,P)=>N+P.duration_minutes,0),_=N=>t.find(P=>P.id===N),j=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=N=>{h(N.id),y({task_description:N.task_description,category_id:N.category_id||"",duration_hours:Math.floor(N.duration_minutes/60),duration_minutes:N.duration_minutes%60,comments:N.comments}),d(!0)},C=async()=>{if(!m.task_description.trim())return;const N=m.duration_hours*60+m.duration_minutes,P={date:Ha(l,"yyyy-MM-dd"),task_description:m.task_description,category_id:m.category_id||null,duration_minutes:N,comments:m.comments};f?await n(f,P):await r(P),d(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{variant:"outline",size:"icon",onClick:()=>o(rAe(i,1)),children:s.jsx(pW,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",Ha(i,"d MMMM",{locale:qc})," au ",Ha(p,"d MMMM yyyy",{locale:qc})]}),s.jsx(se,{variant:"outline",size:"icon",onClick:()=>o(Qz(i,1)),children:s.jsx(Qw,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map(N=>{const P=Ha(N,"yyyy-MM-dd"),E=x[P]||0,O=g_(N,l);return s.jsxs("button",{onClick:()=>c(N),className:`p-3 rounded-lg border text-center transition-colors ${O?"bg-primary text-primary-foreground border-primary":FEe(N)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[s.jsx("div",{className:"text-xs font-medium",children:Ha(N,"EEE",{locale:qc})}),s.jsx("div",{className:"text-lg font-bold",children:Ha(N,"d")}),E>0&&s.jsx("div",{className:`text-xs mt-1 ${O?"text-primary-foreground/80":"text-muted-foreground"}`,children:Qb(E)})]},P)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:Ha(l,"EEEE d MMMM yyyy",{locale:qc})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(_S,{className:"h-3.5 w-3.5"}),"Total : ",Qb(b)]})]}),s.jsxs(se,{onClick:j,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{children:"Catgorie"}),s.jsx(le,{children:"Tche"}),s.jsx(le,{className:"text-right",children:"Dure"}),s.jsx(le,{children:"Commentaire"}),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[g.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),g.map(N=>{const P=_(N.category_id);return s.jsxs(Ne,{children:[s.jsx(Y,{children:P?s.jsxs(Te,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),P.name]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Y,{className:"font-medium",children:N.task_description}),s.jsx(Y,{className:"text-right font-mono-numbers",children:Qb(N.duration_minutes)}),s.jsx(Y,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:N.comments||""}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>S(N),children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>a(N.id),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},N.id)})]})]})}),s.jsx(Er,{open:u,onOpenChange:d,children:s.jsxs(br,{className:"max-w-md",children:[s.jsx(wr,{children:s.jsx(jr,{children:f?"Modifier la tche":"Nouvelle tche"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Tche *"}),s.jsx(je,{value:m.task_description,onChange:N=>y({...m,task_description:N.target.value}),placeholder:"Description de la tche..."})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Catgorie"}),s.jsxs(dt,{value:m.category_id||"none",onValueChange:N=>y({...m,category_id:N==="none"?"":N}),children:[s.jsx(lt,{children:s.jsx(ft,{placeholder:"Slectionner..."})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"none",children:"Aucune"}),t.map(N=>s.jsx(Ve,{value:N.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]})},N.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Dure"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{type:"number",min:0,max:23,className:"w-20 text-right",value:m.duration_hours,onChange:N=>y({...m,duration_hours:parseInt(N.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),s.jsx(je,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:m.duration_minutes,onChange:N=>y({...m,duration_minutes:parseInt(N.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Commentaire"}),s.jsx(Di,{value:m.comments,onChange:N=>y({...m,comments:N.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:C,disabled:!m.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const rOe=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function nOe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),i(!0)},m=p=>{l(p.id),u(p.name),f(p.color),i(!0)},y=async()=>{c.trim()&&(o?await r(o,{name:c,color:d}):await t(c,d),i(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),s.jsxs(se,{onClick:h,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"w-12",children:"Couleur"}),s.jsx(le,{children:"Nom"}),s.jsx(le,{})]})}),s.jsxs(Xt,{children:[e.length===0&&s.jsx(Ne,{children:s.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(p=>s.jsxs(Ne,{children:[s.jsx(Y,{children:s.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:p.color}})}),s.jsx(Y,{className:"font-medium",children:p.name}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>m(p),children:s.jsx(yd,{className:"h-3 w-3"})}),s.jsx(se,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:s.jsx(Ir,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))]})]})}),s.jsx(Er,{open:a,onOpenChange:i,children:s.jsxs(br,{className:"max-w-sm",children:[s.jsx(wr,{children:s.jsx(jr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Nom *"}),s.jsx(je,{value:c,onChange:p=>u(p.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Couleur"}),s.jsx("div",{className:"flex gap-2 mt-2",children:rOe.map(p=>s.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===p?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:p},onClick:()=>f(p)},p))})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(se,{onClick:y,disabled:!c.trim(),children:o?"Mettre  jour":"Crer"})})]})})]})}function aOe(){const e=eOe();return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),s.jsxs(Ra,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(ha,{children:[s.jsx(bt,{value:"entries",children:" Mes entres"}),e.canManageCategories&&s.jsx(bt,{value:"categories",children:" Catgories"})]}),s.jsx(Nt,{value:"entries",children:s.jsx(tOe,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&s.jsx(Nt,{value:"categories",children:s.jsx(nOe,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const lR="novaride_financial_state_v5";function iOe(){const{user:e,isAdmin:t,getTabPermission:r}=Aa(),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(()=>!!e,[e,t]),c=w.useCallback(async()=>{if(!e){o(!1);return}try{const{data:p}=await me.from("snapshots").select("*").order("created_at",{ascending:!1});p&&a(p.map(v=>({id:v.id,name:v.name,comment:v.comment,createdAt:v.created_at,stateData:JSON.stringify(v.state_data)})))}catch{}finally{o(!1)}},[e]);w.useEffect(()=>{c()},[c]);const u=w.useCallback(async(p,v)=>{if(!e)return!1;try{const g=localStorage.getItem(lR);if(!g)return!1;const{data:x,error:b}=await me.from("snapshots").insert({user_id:e.id,name:p,comment:v,state_data:JSON.parse(g)}).select().single();if(b||!x)return!1;const _=x;return a(j=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...j]),nn({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=w.useCallback(p=>{const v=n.find(g=>g.id===p);return v?(localStorage.setItem(lR,v.stateData),nn({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=w.useCallback(async p=>!1,[]),h=w.useCallback(async p=>e?(await me.from("snapshots").delete().eq("id",p),a(v=>v.filter(g=>g.id!==p)),!0):!1,[e]),m=w.useCallback(async(p,v)=>!1,[]),y=p=>new Date(p).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:m,formatDate:y}}var jU="AlertDialog",[sOe,KOe]=$n(jU,[N5]),Es=N5(),_U=e=>{const{__scopeAlertDialog:t,...r}=e,n=Es(t);return s.jsx(U5,{...n,...r,modal:!0})};_U.displayName=jU;var oOe="AlertDialogTrigger",SU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Es(r);return s.jsx(V5,{...a,...n,ref:t})});SU.displayName=oOe;var lOe="AlertDialogPortal",CU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Es(t);return s.jsx(W5,{...n,...r})};CU.displayName=lOe;var cOe="AlertDialogOverlay",NU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Es(r);return s.jsx(fN,{...a,...n,ref:t})});NU.displayName=cOe;var ou="AlertDialogContent",[uOe,dOe]=sOe(ou),fOe=L$("AlertDialogContent"),PU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Es(r),o=w.useRef(null),l=rt(t,o),c=w.useRef(null);return s.jsx(UCe,{contentName:ou,titleName:kU,docsSlug:"alert-dialog",children:s.jsx(uOe,{scope:r,cancelRef:c,children:s.jsxs(hN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ee(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(fOe,{children:n}),s.jsx(mOe,{contentRef:o})]})})})});PU.displayName=ou;var kU="AlertDialogTitle",EU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Es(r);return s.jsx(mN,{...a,...n,ref:t})});EU.displayName=kU;var AU="AlertDialogDescription",OU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Es(r);return s.jsx(pN,{...a,...n,ref:t})});OU.displayName=AU;var hOe="AlertDialogAction",TU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Es(r);return s.jsx(vN,{...a,...n,ref:t})});TU.displayName=hOe;var RU="AlertDialogCancel",MU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=dOe(RU,r),i=Es(r),o=rt(t,a);return s.jsx(vN,{...i,...n,ref:o})});MU.displayName=RU;var mOe=({contentRef:e})=>{const t=`\`${ou}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ou}\` by passing a \`${AU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ou}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pOe=_U,vOe=SU,gOe=CU,$U=NU,IU=PU,DU=TU,LU=MU,FU=EU,BU=OU;const cR=pOe,uR=vOe,yOe=gOe,zU=w.forwardRef(({className:e,...t},r)=>s.jsx($U,{className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zU.displayName=$U.displayName;const y_=w.forwardRef(({className:e,...t},r)=>s.jsxs(yOe,{children:[s.jsx(zU,{}),s.jsx(IU,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));y_.displayName=IU.displayName;const x_=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});x_.displayName="AlertDialogHeader";const b_=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});b_.displayName="AlertDialogFooter";const w_=w.forwardRef(({className:e,...t},r)=>s.jsx(FU,{ref:r,className:ie("text-lg font-semibold",e),...t}));w_.displayName=FU.displayName;const j_=w.forwardRef(({className:e,...t},r)=>s.jsx(BU,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));j_.displayName=BU.displayName;const __=w.forwardRef(({className:e,...t},r)=>s.jsx(DU,{ref:r,className:ie(GS(),e),...t}));__.displayName=DU.displayName;const S_=w.forwardRef(({className:e,...t},r)=>s.jsx(LU,{ref:r,className:ie(GS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));S_.displayName=LU.displayName;function xOe(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=iOe(),{getTabPermission:o,isAdmin:l}=Aa(),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(!1),p=o("snapshots")==="write",v=async()=>{if(!c.trim()){nn({title:"Nom requis",variant:"destructive"});return}m(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),m(!1)};return t?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(ai,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx(Ui,{tabKey:"snapshots",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ss,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),p&&s.jsxs(Ct,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),s.jsx(os,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),s.jsx(Et,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Nom"}),s.jsx(je,{value:c,onChange:g=>u(g.target.value),placeholder:"Ex: Budget V2 valid"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Se,{children:"Commentaire (optionnel)"}),s.jsx(Di,{value:d,onChange:g=>f(g.target.value),placeholder:"Notes...",rows:1})]}),s.jsxs(se,{onClick:v,disabled:h,children:[h?s.jsx(ai,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Iy,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),s.jsxs(Ct,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center gap-2",children:[s.jsx(vI,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),s.jsxs(os,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),s.jsx(Et,{children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):s.jsx("div",{className:"space-y-3",children:e.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:g.name}),s.jsx(Te,{variant:"outline",className:"text-xs",children:i(g.createdAt)})]}),g.comment&&s.jsx("p",{className:"text-sm text-muted-foreground",children:g.comment})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[p&&s.jsxs(cR,{children:[s.jsx(uR,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx($y,{className:"h-4 w-4 mr-1"}),"Charger"]})}),s.jsxs(y_,{children:[s.jsxs(x_,{children:[s.jsx(w_,{children:"Restaurer cette sauvegarde ?"}),s.jsxs(j_,{children:["Les donnes actuelles seront remplaces par  ",g.name," . Cette action rechargera la page."]})]}),s.jsxs(b_,{children:[s.jsx(S_,{children:"Annuler"}),s.jsx(__,{onClick:()=>n(g.id),children:"Restaurer"})]})]})]}),l&&s.jsxs(cR,{children:[s.jsx(uR,{asChild:!0,children:s.jsx(se,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(Ir,{className:"h-4 w-4"})})}),s.jsxs(y_,{children:[s.jsxs(x_,{children:[s.jsxs(w_,{children:["Supprimer  ",g.name,"  ?"]}),s.jsx(j_,{children:"Cette action est irrversible."})]}),s.jsxs(b_,{children:[s.jsx(S_,{children:"Annuler"}),s.jsx(__,{onClick:()=>a(g.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},g.id))})})]})]})})}const Jb="hsl(var(--muted-foreground))";function UU({products:e,productCategories:t,salesRules:r,calculateProductCost:n,computeChainFromPublicTTC:a,getEffectivePrice:i,editedOurPrices:o,pricingMode:l}){var b;const[c,u]=w.useState(l),[d,f]=w.useState(new Set([(b=r[0])==null?void 0:b.id].filter(Boolean))),[h,m]=w.useState(new Set(t.map(_=>_.id))),y=_=>{f(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},p=_=>{m(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},v=w.useMemo(()=>e.filter(_=>_.category_id?h.has(_.category_id):h.has("__uncategorized")),[e,h]),g=w.useMemo(()=>v.map(_=>{const j=n(_.id,_.default_volume||500),S=t.find(P=>P.id===_.category_id),C=(S==null?void 0:S.color)||Jb,N={name:_.name.length>15?_.name.slice(0,14)+"":_.name,fullName:_.name,costPrice:j,catColor:C,categoryName:(S==null?void 0:S.name)||"Sans catgorie"};for(const P of r){if(!d.has(P.id))continue;const E=i(_),O=a(E,P);let T=0;c==="from_public"?T=(O==null?void 0:O.ourB2BPrice)||0:T=o[_.id]!==void 0?o[_.id]:(O==null?void 0:O.ourB2BPrice)||0;const A=j>0?(T-j)/j*100:0;N[`margin_${P.id}`]=parseFloat(A.toFixed(1))}return N}),[v,d,r,n,i,a,o,c]),x=r.filter(_=>d.has(_.id));return s.jsxs(Ct,{children:[s.jsxs(Lt,{children:[s.jsx(Ft,{className:"text-lg",children:"Analyse des marges par produit"}),s.jsx(os,{children:"Comparez les marges selon les rgles de vente et catgories"})]}),s.jsxs(Et,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Mode tarification"}),s.jsxs(Jx,{type:"single",value:c,onValueChange:_=>{_&&u(_)},className:"justify-start",children:[s.jsxs(Bl,{value:"from_public",className:"h-8 text-xs gap-1 data-[state=on]:bg-primary/10",children:[s.jsx(Yw,{className:"h-3 w-3"}),"Option 1"]}),s.jsxs(Bl,{value:"from_our_price",className:"h-8 text-xs gap-1 data-[state=on]:bg-primary/10",children:[s.jsx(xc,{className:"h-3 w-3"}),"Option 2"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rgles de vente"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(oi,{checked:d.has(_.id),onCheckedChange:()=>y(_.id)}),s.jsx("span",{className:"text-sm",children:_.name}),s.jsx(Te,{variant:"outline",className:"text-[10px] px-1 py-0",children:_.type.toUpperCase()})]},_.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Catgories"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(oi,{checked:h.has(_.id),onCheckedChange:()=>p(_.id)}),_.color&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:_.color}}),s.jsx("span",{className:"text-sm",children:_.name})]},_.id)),e.some(_=>!_.category_id)&&s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(oi,{checked:h.has("__uncategorized"),onCheckedChange:()=>p("__uncategorized")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sans catgorie"})]})]})]})]}),g.length>0&&x.length>0?s.jsx("div",{className:"h-80",children:s.jsx(ln,{width:"100%",height:"100%",children:s.jsxs(ec,{data:g,margin:{top:10,right:10,left:0,bottom:40},children:[s.jsx(cn,{strokeDasharray:"3 3",opacity:.3}),s.jsx(gr,{dataKey:"name",tick:{fontSize:11},angle:-30,textAnchor:"end",height:60}),s.jsx(yr,{tickFormatter:_=>`${_}%`,tick:{fontSize:11}}),s.jsx(Ht,{formatter:(_,j)=>{const S=r.find(C=>`margin_${C.id}`===j);return[`${_.toFixed(1)}%`,(S==null?void 0:S.name)||j]},labelFormatter:(_,j)=>{var C;const S=(C=j==null?void 0:j[0])==null?void 0:C.payload;return(S==null?void 0:S.fullName)||_}}),s.jsx(Ux,{y:0,stroke:"hsl(var(--destructive))",strokeDasharray:"3 3",strokeWidth:1.5}),x.map(_=>s.jsx(kr,{dataKey:`margin_${_.id}`,name:`margin_${_.id}`,fill:Jb,radius:[3,3,0,0],maxBarSize:40,children:g.map((j,S)=>{const C=j[`margin_${_.id}`]??0;return s.jsx(Bd,{fill:C<0?"hsl(var(--destructive))":j.catColor,fillOpacity:C<0?.8:1},S)})},_.id))]})})}):s.jsx("div",{className:"h-40 flex items-center justify-center text-muted-foreground text-sm",children:"Slectionnez au moins une rgle et une catgorie pour afficher le graphique."}),x.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-xs",children:[t.filter(_=>h.has(_.id)).map(_=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm",style:{backgroundColor:_.color||Jb}}),s.jsx("span",{children:_.name})]},_.id)),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm bg-destructive opacity-80"}),s.jsx("span",{children:"Marge ngative"})]})]})]})]})}const dR=20;function bOe(){const{products:e,productCategories:t,references:r,bom:n,calculateProductCost:a,updateProduct:i}=AN(),[o,l]=w.useState("from_public"),[c,u]=w.useState(1.3),[d,f]=w.useState(1.8),[h,m]=w.useState([{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}]),[y,p]=w.useState("default-b2b"),[v,g]=w.useState(new Set),[x,b]=w.useState(!1),[_,j]=w.useState(""),[S,C]=w.useState("b2b"),[N,P]=w.useState({}),[E,O]=w.useState({}),[T,A]=w.useState({}),[k,$]=w.useState({}),[D,M]=w.useState("none"),[I,L]=w.useState(new Set),[B,Q]=w.useState(""),[X,ne]=w.useState(!1),[z,U]=w.useState(!1),[H,q]=w.useState(!1),J=h.find(W=>W.id===y)||h[0],Z=()=>{const W={pricingMode:o,distributorCoef:c,shopCoef:d,salesRules:h,activeRuleId:y};return o==="from_public"?{...W,editedPrices:N}:{...W,editedOurPrices:E,editedFinalPrices:T,editedProductCoefs:k}};w.useEffect(()=>{(async()=>{var ge;const{data:{user:ue}}=await me.auth.getUser();if(!ue)return;const{data:ae}=await me.from("pricing_config").select("config_data").eq("user_id",ue.id).maybeSingle();if(ae!=null&&ae.config_data){const ke=ae.config_data;ke.pricingMode&&l(ke.pricingMode),ke.distributorCoef!==void 0&&u(ke.distributorCoef),ke.shopCoef!==void 0&&f(ke.shopCoef),(ge=ke.salesRules)!=null&&ge.length&&m(ke.salesRules),ke.activeRuleId&&p(ke.activeRuleId),ke.editedPrices&&P(ke.editedPrices),ke.editedOurPrices&&O(ke.editedOurPrices),ke.editedFinalPrices&&A(ke.editedFinalPrices),ke.editedProductCoefs&&$(ke.editedProductCoefs)}q(!0)})()},[]);const te=async()=>{U(!0);try{const{data:{user:W}}=await me.auth.getUser();if(!W){Pe.error("Vous devez tre connect pour sauvegarder");return}const ue=Z(),{error:ae}=await me.from("pricing_config").upsert({user_id:W.id,config_data:ue},{onConflict:"user_id"});if(ae)throw ae;Pe.success("Configuration pricing sauvegarde")}catch(W){Pe.error(`Erreur: ${W.message}`)}finally{U(!1)}},V=()=>{m(W=>W.map(ue=>{if(ue.id!==y)return ue;const ae=[...ue.intermediaries];return ae.length>=1&&(ae[0]={...ae[0],coefficient:c}),ae.length>=2&&(ae[1]={...ae[1],coefficient:d}),{...ue,intermediaries:ae}}))},K=w.useMemo(()=>{const W={},ue=[];for(const ae of e)ae.category_id?(W[ae.category_id]||(W[ae.category_id]=[]),W[ae.category_id].push(ae)):ue.push(ae);return{grouped:W,uncategorized:ue}},[e]),he=W=>{g(ue=>{const ae=new Set(ue);return ae.has(W)?ae.delete(W):ae.add(W),ae})},_e=W=>N[W.id]!==void 0?N[W.id]:W.price_ttc,ze=(W,ue)=>{const ae=ue||J;if(!ae||W<=0)return null;const ge=(ae==null?void 0:ae.tvaRate)??dR,ke=W/(1+ge/100);let qe=ke;const wt=[...ae.intermediaries].reverse();for(const nr of wt)qe=qe/nr.coefficient;const sr=qe,gt=[];let zt=sr;for(const nr of ae.intermediaries){const Re=zt*nr.coefficient,Ze=Re-zt,mt=zt>0?Ze/zt*100:0;gt.push({label:nr.label,buyPrice:zt,coef:nr.coefficient,sellPrice:Re,margin:Ze,marginPct:mt}),zt=Re}return{chain:gt,ourB2BPrice:sr,prixPublicHT:ke,prixPublicTTC:W}},Ye=(W,ue,ae)=>{if(!J||W<=0||ue<=0)return null;const ge=(J==null?void 0:J.tvaRate)??dR,ke=ue/(1+ge/100),qe=ke/W,wt=J.intermediaries.length;if(qe<=0)return null;if(wt===0)return{chain:[],ourB2BPrice:W,prixPublicHT:ke,prixPublicTTC:ue,totalCoef:qe,coefs:[]};let sr;if(ae&&ae.length===wt)sr=ae;else{const nr=Math.pow(qe,1/wt);sr=Array(wt).fill(nr)}const gt=[];let zt=W;for(let nr=0;nr<wt;nr++){const Re=zt*sr[nr],Ze=Re-zt,mt=zt>0?Ze/zt*100:0;gt.push({label:J.intermediaries[nr].label,buyPrice:zt,coef:sr[nr],sellPrice:Re,margin:Ze,marginPct:mt}),zt=Re}return{chain:gt,ourB2BPrice:W,prixPublicHT:ke,prixPublicTTC:ue,totalCoef:qe,coefs:sr}},et=(W,ue,ae,ge)=>{if(((J==null?void 0:J.intermediaries.length)||1)<=1){$(gt=>({...gt,[W]:[ge]}));return}const qe=Math.max(1.01,Math.min(ae,ge/1.01)),wt=ge/qe,sr=ue===0?[qe,wt]:[wt,qe];$(gt=>({...gt,[W]:sr}))},ht=w.useCallback(async(W,ue)=>{await i(W,{price_ttc:ue}),P(ae=>{const ge={...ae};return delete ge[W],ge}),O(ae=>{const ge={...ae};return delete ge[W],ge})},[i]),Tt=async()=>{const W=parseFloat(B);if(!(isNaN(W)||W<0)){if(o==="from_public"){const ue=Array.from(I).map(ae=>i(ae,{price_ttc:W}));await Promise.all(ue),Pe.success(`Prix ${W.toFixed(2)}  TTC appliqu  ${I.size} produit(s)`)}else{const ue=Array.from(I).map(ae=>i(ae,{price_ttc:W}));await Promise.all(ue),Pe.success(`Prix ${W.toFixed(2)}  appliqu  ${I.size} produit(s)`)}L(new Set),Q(""),ne(!1),P({}),O({}),A({}),$({})}},F=W=>{L(ue=>{const ae=new Set(ue);return ae.has(W)?ae.delete(W):ae.add(W),ae})},G=W=>{const ue=W==="__uncategorized"?K.uncategorized:K.grouped[W]||[],ae=ue.every(ge=>I.has(ge.id));L(ge=>{const ke=new Set(ge);return ue.forEach(qe=>{ae?ke.delete(qe.id):ke.add(qe.id)}),ke})},re=()=>{if(!_.trim())return;const W=S==="b2c"?[]:S==="oem"?[{label:"Partenaire OEM",coefficient:1.4}]:[{label:"Distributeur",coefficient:c},{label:"Shop",coefficient:d}],ue={id:`rule-${Date.now()}`,name:_.trim(),type:S,tvaRate:20,intermediaries:W};m(ae=>[...ae,ue]),p(ue.id),b(!1),j("")},xe=W=>{var ue;m(ae=>ae.filter(ge=>ge.id!==W)),y===W&&p(((ue=h[0])==null?void 0:ue.id)||"")},be=(W,ue,ae,ge)=>{m(ke=>ke.map(qe=>{if(qe.id!==W)return qe;const wt=[...qe.intermediaries];return ae==="coefficient"?wt[ue]={...wt[ue],coefficient:Number(ge)||1}:wt[ue]={...wt[ue],label:String(ge)},{...qe,intermediaries:wt}}))},oe=W=>{m(ue=>ue.map(ae=>{if(ae.id!==W)return ae;const ge=ae.type==="b2c"?0:ae.type==="oem"?1:2;return ae.intermediaries.length>=ge?ae:{...ae,intermediaries:[...ae.intermediaries,{label:"Intermdiaire",coefficient:1.3}]}}))},ye=(W,ue)=>{m(ae=>ae.map(ge=>ge.id!==W||ge.intermediaries.length<=0?ge:{...ge,intermediaries:ge.intermediaries.filter((ke,qe)=>qe!==ue)}))},Ie=W=>W.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),nt=W=>{const ue=a(W.id,W.default_volume||500);if(ue<=0)return null;if(o==="from_public"){const ae=_e(W),ge=ze(ae);return ge?(ge.ourB2BPrice-ue)/ue*100:null}else{const ae=_e(W),ge=ze(ae),ke=E[W.id]!==void 0?E[W.id]:(ge==null?void 0:ge.ourB2BPrice)||0;return ke<=0?null:(ke-ue)/ue*100}},xt=W=>W<0?"text-red-500 font-semibold":"text-muted-foreground",_r=W=>{const ue=a(W.id,W.default_volume||500),ae=I.has(W.id);if(o==="from_public"){const ge=_e(W),ke=ze(ge),qe=N[W.id]!==void 0;return s.jsxs(Ne,{className:ae?"bg-primary/5":"",children:[s.jsx(Y,{className:"w-10",children:s.jsx(oi,{checked:ae,onCheckedChange:()=>F(W.id)})}),s.jsx(Y,{className:"font-medium",children:W.name}),s.jsx(Y,{className:"text-right font-mono text-sm",children:ue>0?`${Ie(ue)} `:""}),s.jsx(Y,{className:"text-right font-mono text-sm font-semibold text-primary",children:ke?`${Ie(ke.ourB2BPrice)} `:""}),J==null?void 0:J.intermediaries.map((wt,sr)=>{const gt=ke==null?void 0:ke.chain[sr];return s.jsx(Y,{className:"text-right font-mono text-sm",children:gt?s.jsxs("span",{className:"text-muted-foreground",children:[Ie(gt.buyPrice),"  ",s.jsxs("span",{className:"text-foreground",children:[Ie(gt.sellPrice)," "]}),s.jsxs("span",{className:"text-xs ml-1 opacity-60",children:["(",gt.coef,")"]})]}):""},sr)}),s.jsx(Y,{className:"text-right font-mono text-sm",children:ke?`${Ie(ke.prixPublicHT)} `:""}),s.jsx(Y,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(je,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:ge||"",onChange:wt=>{const sr=parseFloat(wt.target.value);P(gt=>({...gt,[W.id]:isNaN(sr)?0:sr}))},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(Y,{className:`text-right font-mono text-sm ${(()=>{if(!ke||ue<=0)return"text-muted-foreground";const wt=(ke.ourB2BPrice-ue)/ue*100;return xt(wt)})()}`,children:ke&&ue>0?`${Ie((ke.ourB2BPrice-ue)/ue*100)}%`:""}),s.jsx(Y,{className:"w-10",children:qe&&s.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>ht(W.id,N[W.id]),title:"Enregistrer",children:s.jsx(Tl,{className:"h-3.5 w-3.5"})})})]},W.id)}else{const ge=_e(W),ke=T[W.id]!==void 0?T[W.id]:ge||0,qe=ze(ge),wt=E[W.id]!==void 0?E[W.id]:(qe==null?void 0:qe.ourB2BPrice)||0,sr=k[W.id],gt=Ye(wt,ke,sr),zt=E[W.id]!==void 0||T[W.id]!==void 0||k[W.id]!==void 0;return s.jsxs(Ne,{className:ae?"bg-primary/5":"",children:[s.jsx(Y,{className:"w-10",children:s.jsx(oi,{checked:ae,onCheckedChange:()=>F(W.id)})}),s.jsx(Y,{className:"font-medium",children:W.name}),s.jsx(Y,{className:"text-right font-mono text-sm",children:ue>0?`${Ie(ue)} `:""}),s.jsx(Y,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(je,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:wt||"",onChange:nr=>{const Re=parseFloat(nr.target.value);O(Ze=>({...Ze,[W.id]:isNaN(Re)?0:Re})),$(Ze=>{const mt={...Ze};return delete mt[W.id],mt})},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),J==null?void 0:J.intermediaries.map((nr,Re)=>{const Ze=gt==null?void 0:gt.chain[Re],mt=(gt==null?void 0:gt.coefs[Re])||1;return s.jsx(Y,{className:"font-mono text-sm",children:Ze?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx(je,{type:"number",step:"0.01",min:"1.01",className:"h-7 text-xs font-mono w-16 text-right",value:Number(mt.toFixed(4)),onChange:dn=>{const fn=parseFloat(dn.target.value);!isNaN(fn)&&gt&&et(W.id,Re,fn,gt.totalCoef)}})]}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[Ie(Ze.buyPrice),"  ",Ie(Ze.sellPrice)," "]})]}):""},Re)}),s.jsx(Y,{className:"text-right font-mono text-sm",children:gt?`${Ie(gt.prixPublicHT)} `:""}),s.jsx(Y,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(je,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:ke||"",onChange:nr=>{const Re=parseFloat(nr.target.value);A(Ze=>({...Ze,[W.id]:isNaN(Re)?0:Re})),$(Ze=>{const mt={...Ze};return delete mt[W.id],mt})},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(Y,{className:"text-right font-mono text-sm text-muted-foreground",children:gt?`${gt.totalCoef.toFixed(2)}`:""}),s.jsx(Y,{className:`text-right font-mono text-sm ${(()=>{if(!gt||ue<=0)return"text-muted-foreground";const nr=(wt-ue)/ue*100;return xt(nr)})()}`,children:gt&&ue>0?`${Ie((wt-ue)/ue*100)}%`:""}),s.jsx(Y,{className:"w-10",children:zt&&ke>0&&s.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>ht(W.id,ke),title:"Enregistrer",children:s.jsx(Tl,{className:"h-3.5 w-3.5"})})})]},W.id)}},Ar=()=>{M(W=>W==="none"?"asc":W==="asc"?"desc":"none")},de=W=>D==="none"?W:[...W].sort((ue,ae)=>{const ge=nt(ue)??-1/0,ke=nt(ae)??-1/0;return D==="asc"?ge-ke:ke-ge}),We=(W,ue)=>{const ae=W.length>0&&W.every(qe=>I.has(qe.id)),ge=W.some(qe=>I.has(qe.id)),ke=de(W);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Gt,{children:[s.jsx(Yt,{children:s.jsxs(Ne,{children:[s.jsx(le,{className:"w-10",children:s.jsx(oi,{checked:ae,onCheckedChange:()=>G(ue),className:ge&&!ae?"opacity-50":""})}),s.jsx(le,{children:"Produit"}),s.jsx(le,{className:"text-right",children:"Cot revient"}),o==="from_public"?s.jsxs(s.Fragment,{children:[s.jsxs(le,{className:"text-right",children:["Notre prix HT ",s.jsx("span",{className:"text-xs opacity-60",children:"(calcul)"})]}),J==null?void 0:J.intermediaries.map((qe,wt)=>s.jsx(le,{className:"text-right",children:qe.label},wt)),s.jsx(le,{className:"text-right",children:"Prix Public HT"}),s.jsx(le,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(xc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(le,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(xc,{className:"h-3 w-3 text-primary"}),"Notre prix HT"]})}),J==null?void 0:J.intermediaries.map((qe,wt)=>s.jsxs(le,{className:"text-right",children:[qe.label," ",s.jsx("span",{className:"text-xs opacity-60",children:"(coef)"})]},wt)),s.jsx(le,{className:"text-right",children:"Prix Public HT"}),s.jsx(le,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(xc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})}),s.jsx(le,{className:"text-right",children:"Coef total"})]}),s.jsx(le,{className:"text-right",children:s.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors cursor-pointer",onClick:Ar,children:["Notre marge",D==="none"&&s.jsx(dW,{className:"h-3 w-3 opacity-40"}),D==="asc"&&s.jsx(Yw,{className:"h-3 w-3 text-primary"}),D==="desc"&&s.jsx(xc,{className:"h-3 w-3 text-primary"})]})}),s.jsx(le,{className:"w-10"})]})}),s.jsx(Xt,{children:ke.map(_r)})]})})};return o==="from_public"?Object.keys(N).length>0:Object.keys(E).length>0||Object.keys(T).length>0||Object.keys(k).length>0,s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Stratgie tarifaire, chane de distribution et marges par produit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{onClick:te,disabled:z,variant:"default",size:"sm",children:[z?s.jsx(ai,{className:"h-4 w-4 mr-1 animate-spin"}):s.jsx(Iy,{className:"h-4 w-4 mr-1"}),"Sauvegarder Config"]}),I.size>0&&s.jsxs(Er,{open:X,onOpenChange:ne,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx(Jw,{className:"h-4 w-4 mr-1"}),"Appliquer un prix (",I.size,")"]})}),s.jsxs(br,{children:[s.jsx(wr,{children:s.jsxs(jr,{children:["Appliquer un prix  ",I.size," produit(s)"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Produits slectionns :",s.jsx("ul",{className:"mt-1 list-disc pl-4",children:Array.from(I).map(W=>{const ue=e.find(ae=>ae.id===W);return ue?s.jsx("li",{children:ue.name},W):null})})]}),s.jsxs("div",{children:[s.jsx(Se,{children:o==="from_public"?"Prix Public TTC ()":"Notre Prix de Vente HT ()"}),s.jsx(je,{type:"number",step:"0.01",value:B,onChange:W=>Q(W.target.value),placeholder:"Ex: 299.00",className:"font-mono"})]}),s.jsxs(se,{onClick:Tt,className:"w-full",children:["Appliquer  ",I.size," produit(s)"]})]})]})]})]})]}),s.jsxs(Ct,{children:[s.jsxs(Lt,{className:"pb-3",children:[s.jsx(Ft,{className:"text-lg",children:"Mode de tarification"}),s.jsx(os,{children:"Choisissez votre point de dpart pour fixer les prix"})]}),s.jsx(Et,{children:s.jsxs(Jx,{type:"single",value:o,onValueChange:W=>{W&&l(W)},className:"justify-start",children:[s.jsxs(Bl,{value:"from_public",className:"flex items-center gap-2 px-4 py-3 h-auto data-[state=on]:bg-primary/10 data-[state=on]:border-primary",children:[s.jsx(Yw,{className:"h-4 w-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Option 1  Depuis le prix public"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Fixer le prix TTC client final  notre prix de vente est calcul en remontant la chane"})]})]}),s.jsxs(Bl,{value:"from_our_price",className:"flex items-center gap-2 px-4 py-3 h-auto data-[state=on]:bg-primary/10 data-[state=on]:border-primary",children:[s.jsx(xc,{className:"h-4 w-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Option 2  Prix fixs aux deux extrmits"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Fixer notre prix HT + le prix client TTC  les coefficients intermdiaires sont calculs et lis"})]})]})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs(Ft,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(yh,{className:"h-4 w-4"}),"Coef. Distributeur"]})}),s.jsx(Et,{children:s.jsx(je,{type:"number",step:"0.01",value:c,onChange:W=>u(Number(W.target.value)||1),onBlur:V,className:"font-mono"})})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs(Ft,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(yh,{className:"h-4 w-4"}),"Coef. Shop"]})}),s.jsx(Et,{children:s.jsx(je,{type:"number",step:"0.01",value:d,onChange:W=>f(Number(W.target.value)||1),onBlur:V,className:"font-mono"})})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs(Ft,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(NS,{className:"h-4 w-4"}),"TVA"]})}),s.jsxs(Et,{children:[s.jsxs("div",{className:"text-lg font-mono font-semibold",children:[(J==null?void 0:J.tvaRate)??20," %"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dfini dans la rgle active"})]})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsx(Ft,{className:"text-sm font-medium",children:"Chane active"})}),s.jsx(Et,{children:s.jsx("div",{className:"text-xs text-muted-foreground",children:o==="from_public"?`Client final  ${[...(J==null?void 0:J.intermediaries)||[]].reverse().map(W=>W.label).join("  ")}  Nous`:`Nous  ${J==null?void 0:J.intermediaries.map(W=>W.label).join("  ")}  Client final`})})]})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ft,{className:"text-lg",children:"Rgles de vente"}),s.jsx(os,{children:"Configurez les canaux de distribution et leurs intermdiaires"})]}),s.jsxs(Er,{open:x,onOpenChange:b,children:[s.jsx(id,{asChild:!0,children:s.jsxs(se,{size:"sm",variant:"outline",children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Nouvelle rgle"]})}),s.jsxs(br,{children:[s.jsx(wr,{children:s.jsx(jr,{children:"Nouvelle rgle de vente"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Se,{children:"Nom"}),s.jsx(je,{value:_,onChange:W=>j(W.target.value),placeholder:"Ex: B2B Europe"})]}),s.jsxs("div",{children:[s.jsx(Se,{children:"Type"}),s.jsxs(dt,{value:S,onValueChange:W=>C(W),children:[s.jsx(lt,{children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"b2b",children:"B2B (max 2 intermdiaires)"}),s.jsx(Ve,{value:"oem",children:"OEM (max 1 intermdiaire)"}),s.jsx(Ve,{value:"b2c",children:"B2C (vente directe)"})]})]})]}),s.jsx(se,{onClick:re,className:"w-full",children:"Crer"})]})]})]})]})}),s.jsxs(Et,{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(W=>s.jsxs(Te,{variant:W.id===y?"default":"outline",className:"cursor-pointer text-sm py-1.5 px-3",onClick:()=>p(W.id),children:[W.name,s.jsxs("span",{className:"ml-1 text-xs opacity-60",children:["(",W.type.toUpperCase(),")"]})]},W.id))}),J&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(je,{value:J.name,onChange:W=>m(ue=>ue.map(ae=>ae.id===J.id?{...ae,name:W.target.value}:ae)),className:"h-8 text-sm font-semibold w-48"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"secondary",children:J.type==="oem"?"Max 1 intermdiaire":"Max 2 intermdiaires"}),h.length>1&&s.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>xe(J.id),children:s.jsx(Ir,{className:"h-3.5 w-3.5"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Te,{variant:"outline",className:"bg-primary/5",children:"Nous"}),J.intermediaries.map((W,ue)=>s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs(Te,{variant:"outline",children:[W.label," (",W.coefficient,")"]})]},ue)),s.jsx("span",{children:""}),s.jsx(Te,{variant:"outline",className:"bg-primary/5",children:"Client final"})]}),s.jsx(hy,{}),s.jsx("div",{className:"flex items-end gap-3 mb-2",children:s.jsxs("div",{className:"w-40",children:[s.jsx(Se,{className:"text-xs",children:"Taux de TVA"}),s.jsxs(dt,{value:String(J.tvaRate),onValueChange:W=>m(ue=>ue.map(ae=>ae.id===J.id?{...ae,tvaRate:Number(W)}:ae)),children:[s.jsx(lt,{className:"h-8 text-sm font-mono",children:s.jsx(ft,{})}),s.jsxs(ct,{children:[s.jsx(Ve,{value:"20",children:"20 %"}),s.jsx(Ve,{value:"0",children:"0 % (exonr)"})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[J.intermediaries.map((W,ue)=>s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Se,{className:"text-xs",children:["Nom intermdiaire ",ue+1]}),s.jsx(je,{value:W.label,onChange:ae=>be(J.id,ue,"label",ae.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"w-28",children:[s.jsx(Se,{className:"text-xs",children:"Coefficient"}),s.jsx(je,{type:"number",step:"0.01",value:W.coefficient,onChange:ae=>be(J.id,ue,"coefficient",ae.target.value),className:"h-8 text-sm font-mono"})]}),J.intermediaries.length>1&&s.jsx(se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>ye(J.id,ue),children:s.jsx(Ir,{className:"h-3.5 w-3.5"})})]},ue)),J.intermediaries.length<(J.type==="oem"?1:2)&&s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>oe(J.id),children:[s.jsx(xr,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter intermdiaire"]})]})]})]})]}),s.jsx(UU,{products:e,productCategories:t,salesRules:h,calculateProductCost:a,computeChainFromPublicTTC:ze,getEffectivePrice:_e,editedOurPrices:E,pricingMode:o}),s.jsxs(Ct,{children:[s.jsx(Lt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ft,{className:"text-lg flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5"}),"Dtail des prix par catgorie"]}),s.jsx(os,{children:o==="from_public"?`Fixez le prix public TTC  notre prix de vente est calcul via la chane "${J==null?void 0:J.name}"`:`Fixez notre prix HT et le prix client TTC  les coefficients intermdiaires sont rpartis quitablement via "${J==null?void 0:J.name}"`})]}),I.size>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[I.size," produit(s) slectionn(s)"]})]})}),s.jsx(Et,{children:s.jsxs("div",{className:"space-y-4",children:[t.map(W=>{const ue=K.grouped[W.id]||[];if(ue.length===0)return null;const ae=v.has(W.id);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>he(W.id),children:[ae?s.jsx(Ov,{className:"h-4 w-4"}):s.jsx(Qw,{className:"h-4 w-4"}),s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:W.color}}),s.jsx("span",{className:"font-semibold",children:W.name}),s.jsxs(Te,{variant:"secondary",className:"ml-auto",children:[ue.length," produit",ue.length>1?"s":""]})]}),ae&&We(ue,W.id)]},W.id)}),K.uncategorized.length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>he("__uncategorized"),children:[v.has("__uncategorized")?s.jsx(Ov,{className:"h-4 w-4"}):s.jsx(Qw,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-muted-foreground",children:"Sans catgorie"}),s.jsx(Te,{variant:"secondary",className:"ml-auto",children:K.uncategorized.length})]}),v.has("__uncategorized")&&We(K.uncategorized,"__uncategorized")]}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Rl,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucun produit configur. Ajoutez des produits dans le module Production et BE."})]})]})})]})]})}function wOe(){return s.jsx(Ui,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Planning Dveloppement"}),s.jsx("p",{className:"text-muted-foreground",children:"Planification du dveloppement produit et suivi des phases"})]}),s.jsx(wU,{})]})})}const jOe=[{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}];function _Oe(){const[e,t]=w.useState(jOe),[r,n]=w.useState("from_public"),[a,i]=w.useState({}),[o,l]=w.useState({}),[c,u]=w.useState(!1);w.useEffect(()=>{(async()=>{var p;const{data:{user:m}}=await me.auth.getUser();if(!m){u(!0);return}const{data:y}=await me.from("pricing_config").select("config_data").eq("user_id",m.id).maybeSingle();if(y!=null&&y.config_data){const v=y.config_data;(p=v.salesRules)!=null&&p.length&&t(v.salesRules),v.pricingMode&&n(v.pricingMode),v.editedPrices&&i(v.editedPrices),v.editedOurPrices&&l(v.editedOurPrices)}u(!0)})()},[]);const d=w.useCallback(h=>a[h.id]!==void 0?a[h.id]:h.price_ttc,[a]),f=w.useCallback((h,m)=>{if(!m||h<=0)return null;const y=m.tvaRate??20;let v=h/(1+y/100);const g=[...m.intermediaries].reverse();for(const x of g)v=v/x.coefficient;return{ourB2BPrice:v}},[]);return{salesRules:e,pricingMode:r,editedPrices:a,editedOurPrices:o,loaded:c,getEffectivePrice:d,computeChainFromPublicTTC:f}}const SOe="/assets/banner-nrc-udh-CghFnth9.jpg",COe="/assets/savoir-faire-DO6sqzLN.jpg",NOe="/assets/ccd-gold-Cg4R7WZE.jpg",POe="/assets/pulley-wheels-O2SueKz_.jpg",kOe="/assets/composants-hero-CnGsZ9u8.jpg",EOe="/assets/novaride-action-BP9cu6ww.jpg",AOe=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function OOe(){const{products:e,references:t,productCategories:r,suppliers:n,bom:a,calculateProductCost:i}=AN(),{rows:o,blocks:l,colors:c}=aU(),{customers:u,orders:d}=q5(),{salesRules:f,pricingMode:h,editedOurPrices:m,getEffectivePrice:y,computeChainFromPublicTTC:p,loaded:v}=_Oe(),g=e.length,x=t.length,b=n.length,_=r.length,j=u.length,S=d.filter(T=>["draft","confirmed","in_progress"].includes(T.status)).length;a.length;const C=new Date().getMonth(),N=C+1,P=l.filter(T=>T.start_month<=N&&T.start_month+T.duration-1>=N),E=w.useMemo(()=>{const T=[];for(let A=0;A<6;A++){const k=(C+A)%12;T.push({label:AOe[k],index:N+A})}return T},[C,N]),O=w.useMemo(()=>{const T={};return a.forEach(A=>{T[A.product_id]=(T[A.product_id]||0)+1}),Object.entries(T).sort(([,A],[,k])=>k-A).slice(0,5).map(([A,k])=>({product:e.find($=>$.id===A),refCount:k})).filter(A=>A.product)},[a,e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden h-48 md:h-56",children:[s.jsx("img",{src:SOe,alt:"Novaride Engineering",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center px-8",children:s.jsxs("div",{children:[s.jsx(JS,{variant:"full",color:"light",className:"mb-2"}),s.jsx("p",{className:"text-white/80 text-lg font-light tracking-wide",children:"Tableau de bord oprationnel"}),s.jsx("p",{className:"text-white/50 text-sm mt-1",children:"We engage, we move"})]})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7",children:[s.jsx(Go,{icon:Rl,label:"Produits",value:g,color:"text-primary"}),s.jsx(Go,{icon:yI,label:"Rfrences",value:x,color:"text-blue-500"}),s.jsx(Go,{icon:yW,label:"Fournisseurs",value:b,color:"text-amber-500"}),s.jsx(Go,{icon:pI,label:"Catgories",value:_,color:"text-violet-500"}),s.jsx(Go,{icon:Nu,label:"Clients",value:j,color:"text-emerald-500"}),s.jsx(Go,{icon:Gl,label:"Commandes actives",value:S,color:"text-rose-500"}),s.jsx(Go,{icon:Xw,label:"Tches en cours",value:P.length,color:"text-cyan-500"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(Ct,{className:"lg:col-span-2",children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs(Ft,{className:"text-lg flex items-center gap-2",children:[s.jsx(Xw,{className:"h-5 w-5"}),"Planning dveloppement  6 prochains mois"]})}),s.jsx(Et,{children:o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune ligne de planning configure"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 pr-4 font-medium text-muted-foreground w-40",children:"Produit"}),E.map(T=>s.jsx("th",{className:"text-center py-2 px-1 font-medium text-muted-foreground min-w-[60px]",children:T.label},T.index))]})}),s.jsx("tbody",{children:o.slice(0,8).map(T=>{const A=l.filter(k=>k.row_id===T.id);return s.jsxs("tr",{className:"border-t border-border/50",children:[s.jsx("td",{className:"py-2 pr-4 font-medium truncate max-w-[160px]",children:T.label}),E.map(k=>{const $=A.find(D=>D.start_month<=k.index&&D.start_month+D.duration-1>=k.index);if($){const D=c.find(I=>I.id===$.color_id),M=$.start_month===k.index;return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm flex items-center justify-center text-[10px] font-medium text-white truncate px-1",style:{backgroundColor:(D==null?void 0:D.color)||"#6366f1"},title:$.label,children:M?$.label:""})},k.index)}return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm bg-muted/30"})},k.index)})]},T.id)})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ct,{className:"overflow-hidden",children:s.jsxs("div",{className:"relative h-36",children:[s.jsx("img",{src:NOe,alt:"CCD EVO",className:"w-full h-full object-cover object-center"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-3 left-4",children:[s.jsx("p",{className:"text-white text-sm font-semibold",children:"Engineering Excellence"}),s.jsx("p",{className:"text-white/60 text-xs",children:"Conception franaise premium"})]})]})}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsx(Ft,{className:"text-sm font-medium",children:"Top produits (nomenclature)"})}),s.jsx(Et,{className:"space-y-2",children:O.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune nomenclature"}):O.map(({product:T,refCount:A})=>{const k=r.find($=>$.id===T.category_id);return s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-border/30 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:k.color}}),s.jsx("span",{className:"text-sm truncate",children:T.name})]}),s.jsxs(Te,{variant:"secondary",className:"text-xs ml-2 flex-shrink-0",children:[A," rf."]})]},T.id)})})]}),s.jsxs(Ct,{children:[s.jsx(Lt,{className:"pb-3",children:s.jsx(Ft,{className:"text-sm font-medium",children:"Catgories produit"})}),s.jsx(Et,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(T=>{const A=e.filter(k=>k.category_id===T.id).length;return s.jsxs(Te,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:T.color}}),T.name,s.jsxs("span",{className:"text-muted-foreground",children:["(",A,")"]})]},T.id)})})})]})]})]}),v&&f.length>0&&e.length>0&&s.jsx(UU,{products:e,productCategories:r,salesRules:f,calculateProductCost:i,computeChainFromPublicTTC:p,getEffectivePrice:y,editedOurPrices:m,pricingMode:h}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 h-32 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:COe,alt:"Vision",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Vision"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:POe,alt:"Transmission",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Transmission"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:kOe,alt:"Composants",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Composants"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:EOe,alt:"Performance",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Performance"})]})]})]})}function Go({icon:e,label:t,value:r,color:n}){return s.jsx(Ct,{children:s.jsxs(Et,{className:"p-4 flex flex-col items-center text-center gap-1.5",children:[s.jsx(e,{className:`h-5 w-5 ${n}`}),s.jsx("span",{className:"text-2xl font-bold font-mono",children:r}),s.jsx("span",{className:"text-[11px] text-muted-foreground leading-tight",children:t})]})})}const TOe=()=>{const e=Yl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},ROe=new n7,MOe=()=>s.jsx(i7,{client:ROe,children:s.jsx(T9,{children:s.jsx(kX,{children:s.jsxs(OX,{children:[s.jsx(mH,{}),s.jsx(qH,{}),s.jsx(tK,{children:s.jsxs(K7,{children:[s.jsx(Sr,{path:"/auth",element:s.jsx(ike,{})}),s.jsx(Sr,{path:"/",element:s.jsx(gn,{tabKey:"costflow",children:s.jsx(vn,{children:s.jsx(OOe,{})})})}),s.jsx(Sr,{path:"/product",element:s.jsx(gn,{tabKey:"product-plan",children:s.jsx(vn,{children:s.jsx(oSe,{})})})}),s.jsx(Sr,{path:"/organisation",element:s.jsx(gn,{tabKey:"organisation",children:s.jsx(vn,{children:s.jsx(QCe,{})})})}),s.jsx(Sr,{path:"/charges",element:s.jsx(gn,{tabKey:"charges",children:s.jsx(vn,{children:s.jsx(tNe,{})})})}),s.jsx(Sr,{path:"/crm",element:s.jsx(gn,{tabKey:"crm",children:s.jsx(vn,{children:s.jsx(oNe,{})})})}),s.jsx(Sr,{path:"/previsionnel",element:s.jsx(gn,{tabKey:"previsionnel",children:s.jsx(vn,{children:s.jsx(BNe,{})})})}),s.jsx(Sr,{path:"/funding",element:s.jsx(gn,{tabKey:"funding",children:s.jsx(vn,{children:s.jsx(UNe,{})})})}),s.jsx(Sr,{path:"/scenarios",element:s.jsx(gn,{tabKey:"scenarios",children:s.jsx(vn,{children:s.jsx(WNe,{})})})}),s.jsx(Sr,{path:"/valuation",element:s.jsx(gn,{tabKey:"valuation",children:s.jsx(vn,{children:s.jsx(nPe,{})})})}),s.jsx(Sr,{path:"/investment-summary",element:s.jsx(gn,{tabKey:"investment-summary",children:s.jsx(vn,{children:s.jsx(sPe,{})})})}),s.jsx(Sr,{path:"/pricing",element:s.jsx(gn,{tabKey:"pricing",children:s.jsx(vn,{children:s.jsx(bOe,{})})})}),s.jsx(Sr,{path:"/home",element:s.jsx(Uv,{to:"/",replace:!0})}),s.jsx(Sr,{path:"/tableau-de-bord",element:s.jsx(Uv,{to:"/",replace:!0})}),s.jsx(Sr,{path:"/costflow",element:s.jsx(gn,{tabKey:"costflow",children:s.jsx(vn,{children:s.jsx(ZAe,{})})})}),s.jsx(Sr,{path:"/planning-dev",element:s.jsx(gn,{tabKey:"costflow",children:s.jsx(vn,{children:s.jsx(wOe,{})})})}),s.jsx(Sr,{path:"/timetracking",element:s.jsx(gn,{tabKey:"timetracking",children:s.jsx(vn,{children:s.jsx(aOe,{})})})}),s.jsx(Sr,{path:"/snapshots",element:s.jsx(gn,{tabKey:"snapshots",children:s.jsx(vn,{children:s.jsx(xOe,{})})})}),s.jsx(Sr,{path:"/permissions",element:s.jsx(gn,{children:s.jsx(vn,{children:s.jsx(uke,{})})})}),s.jsx(Sr,{path:"*",element:s.jsx(TOe,{})})]})})]})})})});R$(document.getElementById("root")).render(s.jsx(MOe,{}));
