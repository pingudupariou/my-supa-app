var mP=e=>{throw TypeError(e)};var X0=(e,t,r)=>t.has(e)||mP("Cannot "+r);var ye=(e,t,r)=>(X0(e,t,"read from private field"),r?r.call(e):t.get(e)),Tt=(e,t,r)=>t.has(e)?mP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gt=(e,t,r,n)=>(X0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Sn=(e,t,r)=>(X0(e,t,"access private method"),r);var yp=(e,t,r,n)=>({set _(a){gt(e,t,a,r)},get _(){return ye(e,t,n)}});function k8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tM={exports:{}},Yy={},rM={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.element"),E8=Symbol.for("react.portal"),A8=Symbol.for("react.fragment"),O8=Symbol.for("react.strict_mode"),T8=Symbol.for("react.profiler"),R8=Symbol.for("react.provider"),M8=Symbol.for("react.context"),$8=Symbol.for("react.forward_ref"),I8=Symbol.for("react.suspense"),D8=Symbol.for("react.memo"),L8=Symbol.for("react.lazy"),pP=Symbol.iterator;function B8(e){return e===null||typeof e!="object"?null:(e=pP&&e[pP]||e["@@iterator"],typeof e=="function"?e:null)}var nM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aM=Object.assign,iM={};function Td(e,t,r){this.props=e,this.context=t,this.refs=iM,this.updater=r||nM}Td.prototype.isReactComponent={};Td.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Td.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sM(){}sM.prototype=Td.prototype;function rS(e,t,r){this.props=e,this.context=t,this.refs=iM,this.updater=r||nM}var nS=rS.prototype=new sM;nS.constructor=rS;aM(nS,Td.prototype);nS.isPureReactComponent=!0;var gP=Array.isArray,oM=Object.prototype.hasOwnProperty,aS={current:null},lM={key:!0,ref:!0,__self:!0,__source:!0};function cM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)oM.call(t,n)&&!lM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Xm,type:e,key:i,ref:o,props:a,_owner:aS.current}}function F8(e,t){return{$$typeof:Xm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xm}function z8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vP=/\/+/g;function Z0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z8(""+e.key):t.toString(36)}function vg(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xm:case E8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Z0(o,0):n,gP(a)?(r="",e!=null&&(r=e.replace(vP,"$&/")+"/"),vg(a,t,r,"",function(u){return u})):a!=null&&(iS(a)&&(a=F8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(vP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",gP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Z0(i,l);o+=vg(i,t,r,c,a)}else if(c=B8(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Z0(i,l++),o+=vg(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bp(e,t,r){if(e==null)return e;var n=[],a=0;return vg(e,n,"","",function(i){return t.call(r,i,a++)}),n}function U8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kn={current:null},yg={transition:null},V8={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:yg,ReactCurrentOwner:aS};function uM(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:bp,forEach:function(e,t,r){bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bp(e,function(){t++}),t},toArray:function(e){return bp(e,function(t){return t})||[]},only:function(e){if(!iS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Td;jt.Fragment=A8;jt.Profiler=T8;jt.PureComponent=rS;jt.StrictMode=O8;jt.Suspense=I8;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V8;jt.act=uM;jt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=aS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)oM.call(t,c)&&!lM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Xm,type:e.type,key:a,ref:i,props:n,_owner:o}};jt.createContext=function(e){return e={$$typeof:M8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R8,_context:e},e.Consumer=e};jt.createElement=cM;jt.createFactory=function(e){var t=cM.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:$8,render:e}};jt.isValidElement=iS;jt.lazy=function(e){return{$$typeof:L8,_payload:{_status:-1,_result:e},_init:U8}};jt.memo=function(e,t){return{$$typeof:D8,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=yg.transition;yg.transition={};try{e()}finally{yg.transition=t}};jt.unstable_act=uM;jt.useCallback=function(e,t){return Kn.current.useCallback(e,t)};jt.useContext=function(e){return Kn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Kn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Kn.current.useEffect(e,t)};jt.useId=function(){return Kn.current.useId()};jt.useImperativeHandle=function(e,t,r){return Kn.current.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return Kn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Kn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Kn.current.useMemo(e,t)};jt.useReducer=function(e,t,r){return Kn.current.useReducer(e,t,r)};jt.useRef=function(e){return Kn.current.useRef(e)};jt.useState=function(e){return Kn.current.useState(e)};jt.useSyncExternalStore=function(e,t,r){return Kn.current.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return Kn.current.useTransition()};jt.version="18.3.1";rM.exports=jt;var w=rM.exports;const I=Bt(w),sS=k8({__proto__:null,default:I},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8=w,H8=Symbol.for("react.element"),q8=Symbol.for("react.fragment"),K8=Object.prototype.hasOwnProperty,G8=W8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y8={key:!0,ref:!0,__self:!0,__source:!0};function dM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)K8.call(t,n)&&!Y8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:H8,type:e,key:i,ref:o,props:a,_owner:G8.current}}Yy.Fragment=q8;Yy.jsx=dM;Yy.jsxs=dM;tM.exports=Yy;var s=tM.exports,fM={exports:{}},_a={},hM={exports:{}},mM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var z=L.length;L.push(B);e:for(;0<z;){var Q=z-1>>>1,ee=L[Q];if(0<a(ee,B))L[Q]=B,L[z]=ee,z=Q;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],z=L.pop();if(z!==B){L[0]=z;e:for(var Q=0,ee=L.length,se=ee>>>1;Q<se;){var U=2*(Q+1)-1,q=L[U],G=U+1,H=L[G];if(0>a(q,z))G<ee&&0>a(H,q)?(L[Q]=H,L[G]=z,Q=G):(L[Q]=q,L[U]=z,Q=U);else if(G<ee&&0>a(H,z))L[Q]=H,L[G]=z,Q=G;else break e}}return B}function a(L,B){var z=L.sortIndex-B.sortIndex;return z!==0?z:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function _(L){if(g=!1,b(L),!y)if(r(c)!==null)y=!0,$(j);else{var B=r(u);B!==null&&M(_,B.startTime-L)}}function j(L,B){y=!1,g&&(g=!1,v(P),P=-1),m=!0;var z=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||L&&!T());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ee=Q(f.expirationTime<=B);B=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var U=r(u);U!==null&&M(_,U.startTime-B),se=!1}return se}finally{f=null,h=z,m=!1}}var S=!1,C=null,P=-1,N=5,O=-1;function T(){return!(e.unstable_now()-O<N)}function E(){if(C!==null){var L=e.unstable_now();O=L;var B=!0;try{B=C(!0,L)}finally{B?R():(S=!1,C=null)}}else S=!1}var R;if(typeof x=="function")R=function(){x(E)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,A=k.port2;k.port1.onmessage=E,R=function(){A.postMessage(null)}}else R=function(){p(E,0)};function $(L){C=L,S||(S=!0,R())}function M(L,B){P=p(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,$(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return B()}finally{h=z}},e.unstable_scheduleCallback=function(L,B,z){var Q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,L={id:d++,callback:B,priorityLevel:L,startTime:z,expirationTime:ee,sortIndex:-1},z>Q?(L.sortIndex=z,t(u,L),r(c)===null&&L===r(u)&&(g?(v(P),P=-1):g=!0,M(_,z-Q))):(L.sortIndex=ee,t(c,L),y||m||(y=!0,$(j))),L},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(L){var B=h;return function(){var z=h;h=B;try{return L.apply(this,arguments)}finally{h=z}}}})(mM);hM.exports=mM;var X8=hM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z8=w,wa=X8;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pM=new Set,jh={};function fc(e,t){Iu(e,t),Iu(e+"Capture",t)}function Iu(e,t){for(jh[e]=t,e=0;e<t.length;e++)pM.add(t[e])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bw=Object.prototype.hasOwnProperty,Q8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yP={},xP={};function J8(e){return Bw.call(xP,e)?!0:Bw.call(yP,e)?!1:Q8.test(e)?xP[e]=!0:(yP[e]=!0,!1)}function e6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t6(e,t,r,n){if(t===null||typeof t>"u"||e6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var oS=/[\-:]([a-z])/g;function lS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oS,lS);wn[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oS,lS);wn[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oS,lS);wn[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cS(e,t,r,n){var a=wn.hasOwnProperty(t)?wn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t6(t,r,a,n)&&(r=null),n||a===null?J8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ds=Z8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Yc=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),gM=Symbol.for("react.provider"),vM=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),Uw=Symbol.for("react.suspense_list"),fS=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),yM=Symbol.for("react.offscreen"),bP=Symbol.iterator;function mf(e){return e===null||typeof e!="object"?null:(e=bP&&e[bP]||e["@@iterator"],typeof e=="function"?e:null)}var Er=Object.assign,Q0;function Vf(e){if(Q0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Q0=t&&t[1]||""}return`
`+Q0+e}var J0=!1;function eb(e,t){if(!e||J0)return"";J0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{J0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vf(e):""}function r6(e){switch(e.tag){case 5:return Vf(e.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return e=eb(e.type,!1),e;case 11:return e=eb(e.type.render,!1),e;case 1:return e=eb(e.type,!0),e;default:return""}}function Vw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yc:return"Fragment";case Gc:return"Portal";case Fw:return"Profiler";case uS:return"StrictMode";case zw:return"Suspense";case Uw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vM:return(e.displayName||"Context")+".Consumer";case gM:return(e._context.displayName||"Context")+".Provider";case dS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fS:return t=e.displayName||null,t!==null?t:Vw(e.type)||"Memo";case Js:t=e._payload,e=e._init;try{return Vw(e(t))}catch{}}return null}function n6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vw(t);case 8:return t===uS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a6(e){var t=xM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jp(e){e._valueTracker||(e._valueTracker=a6(e))}function bM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ww(e,t){var r=t.checked;return Er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Do(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wM(e,t){t=t.checked,t!=null&&cS(e,"checked",t,!1)}function Hw(e,t){wM(e,t);var r=Do(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qw(e,t.type,r):t.hasOwnProperty("defaultValue")&&qw(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qw(e,t,r){(t!=="number"||Lg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wf=Array.isArray;function hu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Do(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Kw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return Er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _P(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(Wf(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Do(r)}}function jM(e,t){var r=Do(t.value),n=Do(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function SP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _M(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_M(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _p,SM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _h(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i6=["Webkit","ms","Moz","O"];Object.keys(Zf).forEach(function(e){i6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zf[t]=Zf[e]})});function CM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zf.hasOwnProperty(e)&&Zf[e]?(""+t).trim():t+"px"}function NM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=CM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var s6=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(e,t){if(t){if(s6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function Xw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zw=null;function hS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qw=null,mu=null,pu=null;function CP(e){if(e=Jm(e)){if(typeof Qw!="function")throw Error(je(280));var t=e.stateNode;t&&(t=ex(t),Qw(e.stateNode,e.type,t))}}function PM(e){mu?pu?pu.push(e):pu=[e]:mu=e}function kM(){if(mu){var e=mu,t=pu;if(pu=mu=null,CP(e),t)for(e=0;e<t.length;e++)CP(t[e])}}function EM(e,t){return e(t)}function AM(){}var tb=!1;function OM(e,t,r){if(tb)return e(t,r);tb=!0;try{return EM(e,t,r)}finally{tb=!1,(mu!==null||pu!==null)&&(AM(),kM())}}function Sh(e,t){var r=e.stateNode;if(r===null)return null;var n=ex(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var Jw=!1;if(Ns)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){Jw=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{Jw=!1}function o6(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qf=!1,Bg=null,Fg=!1,ej=null,l6={onError:function(e){Qf=!0,Bg=e}};function c6(e,t,r,n,a,i,o,l,c){Qf=!1,Bg=null,o6.apply(l6,arguments)}function u6(e,t,r,n,a,i,o,l,c){if(c6.apply(this,arguments),Qf){if(Qf){var u=Bg;Qf=!1,Bg=null}else throw Error(je(198));Fg||(Fg=!0,ej=u)}}function hc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function TM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NP(e){if(hc(e)!==e)throw Error(je(188))}function d6(e){var t=e.alternate;if(!t){if(t=hc(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return NP(a),e;if(i===n)return NP(a),t;i=i.sibling}throw Error(je(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function RM(e){return e=d6(e),e!==null?MM(e):null}function MM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MM(e);if(t!==null)return t;e=e.sibling}return null}var $M=wa.unstable_scheduleCallback,PP=wa.unstable_cancelCallback,f6=wa.unstable_shouldYield,h6=wa.unstable_requestPaint,Fr=wa.unstable_now,m6=wa.unstable_getCurrentPriorityLevel,mS=wa.unstable_ImmediatePriority,IM=wa.unstable_UserBlockingPriority,zg=wa.unstable_NormalPriority,p6=wa.unstable_LowPriority,DM=wa.unstable_IdlePriority,Xy=null,Wi=null;function g6(e){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Xy,e,void 0,(e.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:x6,v6=Math.log,y6=Math.LN2;function x6(e){return e>>>=0,e===0?32:31-(v6(e)/y6|0)|0}var Sp=64,Cp=4194304;function Hf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Hf(l):(i&=o,i!==0&&(n=Hf(i)))}else o=r&~a,o!==0?n=Hf(o):i!==0&&(n=Hf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gi(t),a=1<<r,n|=e[r],t&=~a;return n}function b6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=b6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function tj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LM(){var e=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),e}function rb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gi(t),e[t]=r}function j6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function pS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ht=0;function BM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FM,gS,zM,UM,VM,rj=!1,Np=[],_o=null,So=null,Co=null,Ch=new Map,Nh=new Map,ao=[],_6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kP(e,t){switch(e){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Ch.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(t.pointerId)}}function gf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Jm(t),t!==null&&gS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function S6(e,t,r,n,a){switch(t){case"focusin":return _o=gf(_o,e,t,r,n,a),!0;case"dragenter":return So=gf(So,e,t,r,n,a),!0;case"mouseover":return Co=gf(Co,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ch.set(i,gf(Ch.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Nh.set(i,gf(Nh.get(i)||null,e,t,r,n,a)),!0}return!1}function WM(e){var t=Nl(e.target);if(t!==null){var r=hc(t);if(r!==null){if(t=r.tag,t===13){if(t=TM(r),t!==null){e.blockedOn=t,VM(e.priority,function(){zM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zw=n,r.target.dispatchEvent(n),Zw=null}else return t=Jm(r),t!==null&&gS(t),e.blockedOn=r,!1;t.shift()}return!0}function EP(e,t,r){xg(e)&&r.delete(t)}function C6(){rj=!1,_o!==null&&xg(_o)&&(_o=null),So!==null&&xg(So)&&(So=null),Co!==null&&xg(Co)&&(Co=null),Ch.forEach(EP),Nh.forEach(EP)}function vf(e,t){e.blockedOn===t&&(e.blockedOn=null,rj||(rj=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,C6)))}function Ph(e){function t(a){return vf(a,e)}if(0<Np.length){vf(Np[0],e);for(var r=1;r<Np.length;r++){var n=Np[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_o!==null&&vf(_o,e),So!==null&&vf(So,e),Co!==null&&vf(Co,e),Ch.forEach(t),Nh.forEach(t),r=0;r<ao.length;r++)n=ao[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ao.length&&(r=ao[0],r.blockedOn===null);)WM(r),r.blockedOn===null&&ao.shift()}var gu=Ds.ReactCurrentBatchConfig,Vg=!0;function N6(e,t,r,n){var a=Ht,i=gu.transition;gu.transition=null;try{Ht=1,vS(e,t,r,n)}finally{Ht=a,gu.transition=i}}function P6(e,t,r,n){var a=Ht,i=gu.transition;gu.transition=null;try{Ht=4,vS(e,t,r,n)}finally{Ht=a,gu.transition=i}}function vS(e,t,r,n){if(Vg){var a=nj(e,t,r,n);if(a===null)fb(e,t,n,Wg,r),kP(e,n);else if(S6(a,e,t,r,n))n.stopPropagation();else if(kP(e,n),t&4&&-1<_6.indexOf(e)){for(;a!==null;){var i=Jm(a);if(i!==null&&FM(i),i=nj(e,t,r,n),i===null&&fb(e,t,n,Wg,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else fb(e,t,n,null,r)}}var Wg=null;function nj(e,t,r,n){if(Wg=null,e=hS(n),e=Nl(e),e!==null)if(t=hc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=TM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wg=e,null}function HM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m6()){case mS:return 1;case IM:return 4;case zg:case p6:return 16;case DM:return 536870912;default:return 16}default:return 16}}var mo=null,yS=null,bg=null;function qM(){if(bg)return bg;var e,t=yS,r=t.length,n,a="value"in mo?mo.value:mo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return bg=a.slice(e,1<n?1-n:void 0)}function wg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pp(){return!0}function AP(){return!1}function Sa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pp:AP,this.isPropagationStopped=AP,this}return Er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),t}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xS=Sa(Rd),Qm=Er({},Rd,{view:0,detail:0}),k6=Sa(Qm),nb,ab,yf,Zy=Er({},Qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yf&&(yf&&e.type==="mousemove"?(nb=e.screenX-yf.screenX,ab=e.screenY-yf.screenY):ab=nb=0,yf=e),nb)},movementY:function(e){return"movementY"in e?e.movementY:ab}}),OP=Sa(Zy),E6=Er({},Zy,{dataTransfer:0}),A6=Sa(E6),O6=Er({},Qm,{relatedTarget:0}),ib=Sa(O6),T6=Er({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),R6=Sa(T6),M6=Er({},Rd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$6=Sa(M6),I6=Er({},Rd,{data:0}),TP=Sa(I6),D6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B6[e])?!!t[e]:!1}function bS(){return F6}var z6=Er({},Qm,{key:function(e){if(e.key){var t=D6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bS,charCode:function(e){return e.type==="keypress"?wg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U6=Sa(z6),V6=Er({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RP=Sa(V6),W6=Er({},Qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bS}),H6=Sa(W6),q6=Er({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),K6=Sa(q6),G6=Er({},Zy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y6=Sa(G6),X6=[9,13,27,32],wS=Ns&&"CompositionEvent"in window,Jf=null;Ns&&"documentMode"in document&&(Jf=document.documentMode);var Z6=Ns&&"TextEvent"in window&&!Jf,KM=Ns&&(!wS||Jf&&8<Jf&&11>=Jf),MP=" ",$P=!1;function GM(e,t){switch(e){case"keyup":return X6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xc=!1;function Q6(e,t){switch(e){case"compositionend":return YM(t);case"keypress":return t.which!==32?null:($P=!0,MP);case"textInput":return e=t.data,e===MP&&$P?null:e;default:return null}}function J6(e,t){if(Xc)return e==="compositionend"||!wS&&GM(e,t)?(e=qM(),bg=yS=mo=null,Xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return KM&&t.locale!=="ko"?null:t.data;default:return null}}var eV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eV[e.type]:t==="textarea"}function XM(e,t,r,n){PM(n),t=Hg(t,"onChange"),0<t.length&&(r=new xS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var eh=null,kh=null;function tV(e){o$(e,0)}function Qy(e){var t=Jc(e);if(bM(t))return e}function rV(e,t){if(e==="change")return t}var ZM=!1;if(Ns){var sb;if(Ns){var ob="oninput"in document;if(!ob){var DP=document.createElement("div");DP.setAttribute("oninput","return;"),ob=typeof DP.oninput=="function"}sb=ob}else sb=!1;ZM=sb&&(!document.documentMode||9<document.documentMode)}function LP(){eh&&(eh.detachEvent("onpropertychange",QM),kh=eh=null)}function QM(e){if(e.propertyName==="value"&&Qy(kh)){var t=[];XM(t,kh,e,hS(e)),OM(tV,t)}}function nV(e,t,r){e==="focusin"?(LP(),eh=t,kh=r,eh.attachEvent("onpropertychange",QM)):e==="focusout"&&LP()}function aV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qy(kh)}function iV(e,t){if(e==="click")return Qy(t)}function sV(e,t){if(e==="input"||e==="change")return Qy(t)}function oV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ji=typeof Object.is=="function"?Object.is:oV;function Eh(e,t){if(ji(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Bw.call(t,a)||!ji(e[a],t[a]))return!1}return!0}function BP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FP(e,t){var r=BP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BP(r)}}function JM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e$(){for(var e=window,t=Lg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lg(e.document)}return t}function jS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lV(e){var t=e$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&JM(r.ownerDocument.documentElement,r)){if(n!==null&&jS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=FP(r,i);var o=FP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cV=Ns&&"documentMode"in document&&11>=document.documentMode,Zc=null,aj=null,th=null,ij=!1;function zP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ij||Zc==null||Zc!==Lg(n)||(n=Zc,"selectionStart"in n&&jS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),th&&Eh(th,n)||(th=n,n=Hg(aj,"onSelect"),0<n.length&&(t=new xS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zc)))}function kp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qc={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},lb={},t$={};Ns&&(t$=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Jy(e){if(lb[e])return lb[e];if(!Qc[e])return e;var t=Qc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in t$)return lb[e]=t[r];return e}var r$=Jy("animationend"),n$=Jy("animationiteration"),a$=Jy("animationstart"),i$=Jy("transitionend"),s$=new Map,UP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(e,t){s$.set(e,t),fc(t,[e])}for(var cb=0;cb<UP.length;cb++){var ub=UP[cb],uV=ub.toLowerCase(),dV=ub[0].toUpperCase()+ub.slice(1);Go(uV,"on"+dV)}Go(r$,"onAnimationEnd");Go(n$,"onAnimationIteration");Go(a$,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(i$,"onTransitionEnd");Iu("onMouseEnter",["mouseout","mouseover"]);Iu("onMouseLeave",["mouseout","mouseover"]);Iu("onPointerEnter",["pointerout","pointerover"]);Iu("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fV=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function VP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,u6(n,t,void 0,e),e.currentTarget=null}function o$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,u),i=c}}}if(Fg)throw e=ej,Fg=!1,ej=null,e}function gr(e,t){var r=t[uj];r===void 0&&(r=t[uj]=new Set);var n=e+"__bubble";r.has(n)||(l$(t,e,2,!1),r.add(n))}function db(e,t,r){var n=0;t&&(n|=4),l$(r,e,n,t)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Ah(e){if(!e[Ep]){e[Ep]=!0,pM.forEach(function(r){r!=="selectionchange"&&(fV.has(r)||db(r,!1,e),db(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ep]||(t[Ep]=!0,db("selectionchange",!1,t))}}function l$(e,t,r,n){switch(HM(t)){case 1:var a=N6;break;case 4:a=P6;break;default:a=vS}r=a.bind(null,t,r,e),a=void 0,!Jw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fb(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Nl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}OM(function(){var u=i,d=hS(r),f=[];e:{var h=s$.get(e);if(h!==void 0){var m=xS,y=e;switch(e){case"keypress":if(wg(r)===0)break e;case"keydown":case"keyup":m=U6;break;case"focusin":y="focus",m=ib;break;case"focusout":y="blur",m=ib;break;case"beforeblur":case"afterblur":m=ib;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=A6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=H6;break;case r$:case n$:case a$:m=R6;break;case i$:m=K6;break;case"scroll":m=k6;break;case"wheel":m=Y6;break;case"copy":case"cut":case"paste":m=$6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=RP}var g=(t&4)!==0,p=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Sh(x,v),_!=null&&g.push(Oh(x,_,b)))),p)break;x=x.return}0<g.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Zw&&(y=r.relatedTarget||r.fromElement)&&(Nl(y)||y[Ps]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Nl(y):null,y!==null&&(p=hc(y),y!==p||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=OP,_="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=RP,_="onPointerLeave",v="onPointerEnter",x="pointer"),p=m==null?h:Jc(m),b=y==null?h:Jc(y),h=new g(_,x+"leave",m,r,d),h.target=p,h.relatedTarget=b,_=null,Nl(d)===u&&(g=new g(v,x+"enter",y,r,d),g.target=b,g.relatedTarget=p,_=g),p=_,m&&y)t:{for(g=m,v=y,x=0,b=g;b;b=bc(b))x++;for(b=0,_=v;_;_=bc(_))b++;for(;0<x-b;)g=bc(g),x--;for(;0<b-x;)v=bc(v),b--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=bc(g),v=bc(v)}g=null}else g=null;m!==null&&WP(f,h,m,g,!1),y!==null&&p!==null&&WP(f,p,y,g,!0)}}e:{if(h=u?Jc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=rV;else if(IP(h))if(ZM)j=sV;else{j=aV;var S=nV}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=iV);if(j&&(j=j(e,u))){XM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&qw(h,"number",h.value)}switch(S=u?Jc(u):window,e){case"focusin":(IP(S)||S.contentEditable==="true")&&(Zc=S,aj=u,th=null);break;case"focusout":th=aj=Zc=null;break;case"mousedown":ij=!0;break;case"contextmenu":case"mouseup":case"dragend":ij=!1,zP(f,r,d);break;case"selectionchange":if(cV)break;case"keydown":case"keyup":zP(f,r,d)}var C;if(wS)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xc?GM(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(KM&&r.locale!=="ko"&&(Xc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xc&&(C=qM()):(mo=d,yS="value"in mo?mo.value:mo.textContent,Xc=!0)),S=Hg(u,P),0<S.length&&(P=new TP(P,e,null,r,d),f.push({event:P,listeners:S}),C?P.data=C:(C=YM(r),C!==null&&(P.data=C)))),(C=Z6?Q6(e,r):J6(e,r))&&(u=Hg(u,"onBeforeInput"),0<u.length&&(d=new TP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}o$(f,t)})}function Oh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Sh(e,r),i!=null&&n.unshift(Oh(e,i,a)),i=Sh(e,t),i!=null&&n.push(Oh(e,i,a))),e=e.return}return n}function bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Sh(r,i),c!=null&&o.unshift(Oh(r,c,l))):a||(c=Sh(r,i),c!=null&&o.push(Oh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hV=/\r\n?/g,mV=/\u0000|\uFFFD/g;function HP(e){return(typeof e=="string"?e:""+e).replace(hV,`
`).replace(mV,"")}function Ap(e,t,r){if(t=HP(t),HP(e)!==t&&r)throw Error(je(425))}function qg(){}var sj=null,oj=null;function lj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cj=typeof setTimeout=="function"?setTimeout:void 0,pV=typeof clearTimeout=="function"?clearTimeout:void 0,qP=typeof Promise=="function"?Promise:void 0,gV=typeof queueMicrotask=="function"?queueMicrotask:typeof qP<"u"?function(e){return qP.resolve(null).then(e).catch(vV)}:cj;function vV(e){setTimeout(function(){throw e})}function hb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ph(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ph(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function KP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Md,Th="__reactProps$"+Md,Ps="__reactContainer$"+Md,uj="__reactEvents$"+Md,yV="__reactListeners$"+Md,xV="__reactHandles$"+Md;function Nl(e){var t=e[Ii];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[Ii]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=KP(e);e!==null;){if(r=e[Ii])return r;e=KP(e)}return t}e=r,r=e.parentNode}return null}function Jm(e){return e=e[Ii]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function ex(e){return e[Th]||null}var dj=[],eu=-1;function Yo(e){return{current:e}}function br(e){0>eu||(e.current=dj[eu],dj[eu]=null,eu--)}function fr(e,t){eu++,dj[eu]=e.current,e.current=t}var Lo={},In=Yo(Lo),ra=Yo(!1),Yl=Lo;function Du(e,t){var r=e.type.contextTypes;if(!r)return Lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function na(e){return e=e.childContextTypes,e!=null}function Kg(){br(ra),br(In)}function GP(e,t,r){if(In.current!==Lo)throw Error(je(168));fr(In,t),fr(ra,r)}function c$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(je(108,n6(e)||"Unknown",a));return Er({},r,n)}function Gg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Yl=In.current,fr(In,e),fr(ra,ra.current),!0}function YP(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=c$(e,t,Yl),n.__reactInternalMemoizedMergedChildContext=e,br(ra),br(In),fr(In,e)):br(ra),fr(ra,r)}var ms=null,tx=!1,mb=!1;function u$(e){ms===null?ms=[e]:ms.push(e)}function bV(e){tx=!0,u$(e)}function Xo(){if(!mb&&ms!==null){mb=!0;var e=0,t=Ht;try{var r=ms;for(Ht=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ms=null,tx=!1}catch(a){throw ms!==null&&(ms=ms.slice(e+1)),$M(mS,Xo),a}finally{Ht=t,mb=!1}}return null}var tu=[],ru=0,Yg=null,Xg=0,Ra=[],Ma=0,Xl=null,vs=1,ys="";function pl(e,t){tu[ru++]=Xg,tu[ru++]=Yg,Yg=e,Xg=t}function d$(e,t,r){Ra[Ma++]=vs,Ra[Ma++]=ys,Ra[Ma++]=Xl,Xl=e;var n=vs;e=ys;var a=32-gi(n)-1;n&=~(1<<a),r+=1;var i=32-gi(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vs=1<<32-gi(t)+a|r<<a|n,ys=i+e}else vs=1<<i|r<<a|n,ys=e}function _S(e){e.return!==null&&(pl(e,1),d$(e,1,0))}function SS(e){for(;e===Yg;)Yg=tu[--ru],tu[ru]=null,Xg=tu[--ru],tu[ru]=null;for(;e===Xl;)Xl=Ra[--Ma],Ra[Ma]=null,ys=Ra[--Ma],Ra[Ma]=null,vs=Ra[--Ma],Ra[Ma]=null}var ya=null,va=null,jr=!1,fi=null;function f$(e,t){var r=Ia(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function XP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xl!==null?{id:vs,overflow:ys}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ia(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ya=e,va=null,!0):!1;default:return!1}}function fj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hj(e){if(jr){var t=va;if(t){var r=t;if(!XP(e,t)){if(fj(e))throw Error(je(418));t=No(r.nextSibling);var n=ya;t&&XP(e,t)?f$(n,r):(e.flags=e.flags&-4097|2,jr=!1,ya=e)}}else{if(fj(e))throw Error(je(418));e.flags=e.flags&-4097|2,jr=!1,ya=e}}}function ZP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function Op(e){if(e!==ya)return!1;if(!jr)return ZP(e),jr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lj(e.type,e.memoizedProps)),t&&(t=va)){if(fj(e))throw h$(),Error(je(418));for(;t;)f$(e,t),t=No(t.nextSibling)}if(ZP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=No(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?No(e.stateNode.nextSibling):null;return!0}function h$(){for(var e=va;e;)e=No(e.nextSibling)}function Lu(){va=ya=null,jr=!1}function CS(e){fi===null?fi=[e]:fi.push(e)}var wV=Ds.ReactCurrentBatchConfig;function xf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function Tp(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QP(e){var t=e._init;return t(e._payload)}function m$(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=Ao(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,_){return x===null||x.tag!==6?(x=wb(b,v.mode,_),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,_){var j=b.type;return j===Yc?d(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Js&&QP(j)===x.type)?(_=a(x,b.props),_.ref=xf(v,x,b),_.return=v,_):(_=kg(b.type,b.key,b.props,null,v.mode,_),_.ref=xf(v,x,b),_.return=v,_)}function u(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=jb(b,v.mode,_),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function d(v,x,b,_,j){return x===null||x.tag!==7?(x=Wl(b,v.mode,_,j),x.return=v,x):(x=a(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wb(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wp:return b=kg(x.type,x.key,x.props,null,v.mode,b),b.ref=xf(v,null,x),b.return=v,b;case Gc:return x=jb(x,v.mode,b),x.return=v,x;case Js:var _=x._init;return f(v,_(x._payload),b)}if(Wf(x)||mf(x))return x=Wl(x,v.mode,b,null),x.return=v,x;Tp(v,x)}return null}function h(v,x,b,_){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wp:return b.key===j?c(v,x,b,_):null;case Gc:return b.key===j?u(v,x,b,_):null;case Js:return j=b._init,h(v,x,j(b._payload),_)}if(Wf(b)||mf(b))return j!==null?null:d(v,x,b,_,null);Tp(v,b)}return null}function m(v,x,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(x,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wp:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,j);case Gc:return v=v.get(_.key===null?b:_.key)||null,u(x,v,_,j);case Js:var S=_._init;return m(v,x,b,S(_._payload),j)}if(Wf(_)||mf(_))return v=v.get(b)||null,d(x,v,_,j,null);Tp(x,_)}return null}function y(v,x,b,_){for(var j=null,S=null,C=x,P=x=0,N=null;C!==null&&P<b.length;P++){C.index>P?(N=C,C=null):N=C.sibling;var O=h(v,C,b[P],_);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(v,C),x=i(O,x,P),S===null?j=O:S.sibling=O,S=O,C=N}if(P===b.length)return r(v,C),jr&&pl(v,P),j;if(C===null){for(;P<b.length;P++)C=f(v,b[P],_),C!==null&&(x=i(C,x,P),S===null?j=C:S.sibling=C,S=C);return jr&&pl(v,P),j}for(C=n(v,C);P<b.length;P++)N=m(C,v,P,b[P],_),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),x=i(N,x,P),S===null?j=N:S.sibling=N,S=N);return e&&C.forEach(function(T){return t(v,T)}),jr&&pl(v,P),j}function g(v,x,b,_){var j=mf(b);if(typeof j!="function")throw Error(je(150));if(b=j.call(b),b==null)throw Error(je(151));for(var S=j=null,C=x,P=x=0,N=null,O=b.next();C!==null&&!O.done;P++,O=b.next()){C.index>P?(N=C,C=null):N=C.sibling;var T=h(v,C,O.value,_);if(T===null){C===null&&(C=N);break}e&&C&&T.alternate===null&&t(v,C),x=i(T,x,P),S===null?j=T:S.sibling=T,S=T,C=N}if(O.done)return r(v,C),jr&&pl(v,P),j;if(C===null){for(;!O.done;P++,O=b.next())O=f(v,O.value,_),O!==null&&(x=i(O,x,P),S===null?j=O:S.sibling=O,S=O);return jr&&pl(v,P),j}for(C=n(v,C);!O.done;P++,O=b.next())O=m(C,v,P,O.value,_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),x=i(O,x,P),S===null?j=O:S.sibling=O,S=O);return e&&C.forEach(function(E){return t(v,E)}),jr&&pl(v,P),j}function p(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===Yc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wp:e:{for(var j=b.key,S=x;S!==null;){if(S.key===j){if(j=b.type,j===Yc){if(S.tag===7){r(v,S.sibling),x=a(S,b.props.children),x.return=v,v=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Js&&QP(j)===S.type){r(v,S.sibling),x=a(S,b.props),x.ref=xf(v,S,b),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===Yc?(x=Wl(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=kg(b.type,b.key,b.props,null,v.mode,_),_.ref=xf(v,x,b),_.return=v,v=_)}return o(v);case Gc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=jb(b,v.mode,_),x.return=v,v=x}return o(v);case Js:return S=b._init,p(v,x,S(b._payload),_)}if(Wf(b))return y(v,x,b,_);if(mf(b))return g(v,x,b,_);Tp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=a(x,b),x.return=v,v=x):(r(v,x),x=wb(b,v.mode,_),x.return=v,v=x),o(v)):r(v,x)}return p}var Bu=m$(!0),p$=m$(!1),Zg=Yo(null),Qg=null,nu=null,NS=null;function PS(){NS=nu=Qg=null}function kS(e){var t=Zg.current;br(Zg),e._currentValue=t}function mj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vu(e,t){Qg=e,NS=nu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(NS!==e)if(e={context:e,memoizedValue:t,next:null},nu===null){if(Qg===null)throw Error(je(308));nu=e,Qg.dependencies={lanes:0,firstContext:e}}else nu=nu.next=e;return t}var Pl=null;function ES(e){Pl===null?Pl=[e]:Pl.push(e)}function g$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ES(t)):(r.next=a.next,a.next=r),t.interleaved=r,ks(e,n)}function ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var eo=!1;function AS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ks(e,r)}return a=n.interleaved,a===null?(t.next=t,ES(n)):(t.next=a.next,a.next=t),n.interleaved=t,ks(e,r)}function jg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pS(e,r)}}function JP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jg(e,t,r,n){var a=e.updateQueue;eo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(h=t,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Er({},f,h);break e;case 2:eo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=f}}function ek(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(je(191,a));a.call(n)}}}var ep={},Hi=Yo(ep),Rh=Yo(ep),Mh=Yo(ep);function kl(e){if(e===ep)throw Error(je(174));return e}function OS(e,t){switch(fr(Mh,t),fr(Rh,e),fr(Hi,ep),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gw(t,e)}br(Hi),fr(Hi,t)}function Fu(){br(Hi),br(Rh),br(Mh)}function y$(e){kl(Mh.current);var t=kl(Hi.current),r=Gw(t,e.type);t!==r&&(fr(Rh,e),fr(Hi,r))}function TS(e){Rh.current===e&&(br(Hi),br(Rh))}var Sr=Yo(0);function ev(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pb=[];function RS(){for(var e=0;e<pb.length;e++)pb[e]._workInProgressVersionPrimary=null;pb.length=0}var _g=Ds.ReactCurrentDispatcher,gb=Ds.ReactCurrentBatchConfig,Zl=0,Pr=null,Jr=null,cn=null,tv=!1,rh=!1,$h=0,jV=0;function Cn(){throw Error(je(321))}function MS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ji(e[r],t[r]))return!1;return!0}function $S(e,t,r,n,a,i){if(Zl=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_g.current=e===null||e.memoizedState===null?NV:PV,e=r(n,a),rh){i=0;do{if(rh=!1,$h=0,25<=i)throw Error(je(301));i+=1,cn=Jr=null,t.updateQueue=null,_g.current=kV,e=r(n,a)}while(rh)}if(_g.current=rv,t=Jr!==null&&Jr.next!==null,Zl=0,cn=Jr=Pr=null,tv=!1,t)throw Error(je(300));return e}function IS(){var e=$h!==0;return $h=0,e}function Ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Pr.memoizedState=cn=e:cn=cn.next=e,cn}function Ua(){if(Jr===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=cn===null?Pr.memoizedState:cn.next;if(t!==null)cn=t,Jr=e;else{if(e===null)throw Error(je(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},cn===null?Pr.memoizedState=cn=e:cn=cn.next=e}return cn}function Ih(e,t){return typeof t=="function"?t(e):t}function vb(e){var t=Ua(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=Jr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pr.lanes|=d,Ql|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ji(n,t.memoizedState)||(ea=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pr.lanes|=i,Ql|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yb(e){var t=Ua(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ji(i,t.memoizedState)||(ea=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function x$(){}function b$(e,t){var r=Pr,n=Ua(),a=t(),i=!ji(n.memoizedState,a);if(i&&(n.memoizedState=a,ea=!0),n=n.queue,DS(_$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||cn!==null&&cn.memoizedState.tag&1){if(r.flags|=2048,Dh(9,j$.bind(null,r,n,a,t),void 0,null),dn===null)throw Error(je(349));Zl&30||w$(r,t,a)}return a}function w$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j$(e,t,r,n){t.value=r,t.getSnapshot=n,S$(t)&&C$(e)}function _$(e,t,r){return r(function(){S$(t)&&C$(e)})}function S$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ji(e,r)}catch{return!0}}function C$(e){var t=ks(e,1);t!==null&&vi(t,e,1,-1)}function tk(e){var t=Ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:e},t.queue=e,e=e.dispatch=CV.bind(null,Pr,e),[t.memoizedState,e]}function Dh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function N$(){return Ua().memoizedState}function Sg(e,t,r,n){var a=Ti();Pr.flags|=e,a.memoizedState=Dh(1|t,r,void 0,n===void 0?null:n)}function rx(e,t,r,n){var a=Ua();n=n===void 0?null:n;var i=void 0;if(Jr!==null){var o=Jr.memoizedState;if(i=o.destroy,n!==null&&MS(n,o.deps)){a.memoizedState=Dh(t,r,i,n);return}}Pr.flags|=e,a.memoizedState=Dh(1|t,r,i,n)}function rk(e,t){return Sg(8390656,8,e,t)}function DS(e,t){return rx(2048,8,e,t)}function P$(e,t){return rx(4,2,e,t)}function k$(e,t){return rx(4,4,e,t)}function E$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A$(e,t,r){return r=r!=null?r.concat([e]):null,rx(4,4,E$.bind(null,t,e),r)}function LS(){}function O$(e,t){var r=Ua();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function T$(e,t){var r=Ua();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function R$(e,t,r){return Zl&21?(ji(r,t)||(r=LM(),Pr.lanes|=r,Ql|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=r)}function _V(e,t){var r=Ht;Ht=r!==0&&4>r?r:4,e(!0);var n=gb.transition;gb.transition={};try{e(!1),t()}finally{Ht=r,gb.transition=n}}function M$(){return Ua().memoizedState}function SV(e,t,r){var n=Eo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$$(e))I$(t,r);else if(r=g$(e,t,r,n),r!==null){var a=Hn();vi(r,e,n,a),D$(r,t,n)}}function CV(e,t,r){var n=Eo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($$(e))I$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ji(l,o)){var c=t.interleaved;c===null?(a.next=a,ES(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=g$(e,t,a,n),r!==null&&(a=Hn(),vi(r,e,n,a),D$(r,t,n))}}function $$(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function I$(e,t){rh=tv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pS(e,r)}}var rv={readContext:za,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},NV={readContext:za,useCallback:function(e,t){return Ti().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:rk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sg(4194308,4,E$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sg(4,2,e,t)},useMemo:function(e,t){var r=Ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SV.bind(null,Pr,e),[n.memoizedState,e]},useRef:function(e){var t=Ti();return e={current:e},t.memoizedState=e},useState:tk,useDebugValue:LS,useDeferredValue:function(e){return Ti().memoizedState=e},useTransition:function(){var e=tk(!1),t=e[0];return e=_V.bind(null,e[1]),Ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pr,a=Ti();if(jr){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),dn===null)throw Error(je(349));Zl&30||w$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,rk(_$.bind(null,n,i,e),[e]),n.flags|=2048,Dh(9,j$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ti(),t=dn.identifierPrefix;if(jr){var r=ys,n=vs;r=(n&~(1<<32-gi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$h++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PV={readContext:za,useCallback:O$,useContext:za,useEffect:DS,useImperativeHandle:A$,useInsertionEffect:P$,useLayoutEffect:k$,useMemo:T$,useReducer:vb,useRef:N$,useState:function(){return vb(Ih)},useDebugValue:LS,useDeferredValue:function(e){var t=Ua();return R$(t,Jr.memoizedState,e)},useTransition:function(){var e=vb(Ih)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:x$,useSyncExternalStore:b$,useId:M$,unstable_isNewReconciler:!1},kV={readContext:za,useCallback:O$,useContext:za,useEffect:DS,useImperativeHandle:A$,useInsertionEffect:P$,useLayoutEffect:k$,useMemo:T$,useReducer:yb,useRef:N$,useState:function(){return yb(Ih)},useDebugValue:LS,useDeferredValue:function(e){var t=Ua();return Jr===null?t.memoizedState=e:R$(t,Jr.memoizedState,e)},useTransition:function(){var e=yb(Ih)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:x$,useSyncExternalStore:b$,useId:M$,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){t=Er({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Er({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nx={isMounted:function(e){return(e=e._reactInternals)?hc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=Eo(e),i=js(n,a);i.payload=t,r!=null&&(i.callback=r),t=Po(e,i,a),t!==null&&(vi(t,e,a,n),jg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=Eo(e),i=js(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Po(e,i,a),t!==null&&(vi(t,e,a,n),jg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hn(),n=Eo(e),a=js(r,n);a.tag=2,t!=null&&(a.callback=t),t=Po(e,a,n),t!==null&&(vi(t,e,n,r),jg(t,e,n))}};function nk(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Eh(r,n)||!Eh(a,i):!0}function L$(e,t,r){var n=!1,a=Lo,i=t.contextType;return typeof i=="object"&&i!==null?i=za(i):(a=na(t)?Yl:In.current,n=t.contextTypes,i=(n=n!=null)?Du(e,a):Lo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ak(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nx.enqueueReplaceState(t,t.state,null)}function gj(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},AS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=za(i):(i=na(t)?Yl:In.current,a.context=Du(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pj(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nx.enqueueReplaceState(a,a.state,null),Jg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function zu(e,t){try{var r="",n=t;do r+=r6(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function xb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var EV=typeof WeakMap=="function"?WeakMap:Map;function B$(e,t,r){r=js(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){av||(av=!0,Pj=n),vj(e,t)},r}function F$(e,t,r){r=js(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vj(e,t),typeof n!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ik(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new EV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VV.bind(null,e,t,r),t.then(e,e))}function sk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ok(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=js(-1,1),t.tag=2,Po(r,t,1))),r.lanes|=1),e)}var AV=Ds.ReactCurrentOwner,ea=!1;function Bn(e,t,r,n){t.child=e===null?p$(t,null,r,n):Bu(t,e.child,r,n)}function lk(e,t,r,n,a){r=r.render;var i=t.ref;return vu(t,a),n=$S(e,t,r,n,i,a),r=IS(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(jr&&r&&_S(t),t.flags|=1,Bn(e,t,n,a),t.child)}function ck(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!qS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,z$(e,t,i,n,a)):(e=kg(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Eh,r(o,n)&&e.ref===t.ref)return Es(e,t,a)}return t.flags|=1,e=Ao(i,n),e.ref=t.ref,e.return=t,t.child=e}function z$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Eh(i,n)&&e.ref===t.ref)if(ea=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,Es(e,t,a)}return yj(e,t,r,n,a)}function U$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(iu,da),da|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fr(iu,da),da|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fr(iu,da),da|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fr(iu,da),da|=n;return Bn(e,t,a,r),t.child}function V$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yj(e,t,r,n,a){var i=na(r)?Yl:In.current;return i=Du(t,i),vu(t,a),r=$S(e,t,r,n,i,a),n=IS(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(jr&&n&&_S(t),t.flags|=1,Bn(e,t,r,a),t.child)}function uk(e,t,r,n,a){if(na(r)){var i=!0;Gg(t)}else i=!1;if(vu(t,a),t.stateNode===null)Cg(e,t),L$(t,r,n),gj(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=za(u):(u=na(r)?Yl:In.current,u=Du(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ak(t,o,n,u),eo=!1;var h=t.memoizedState;o.state=h,Jg(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ra.current||eo?(typeof d=="function"&&(pj(t,r,d,n),c=t.memoizedState),(l=eo||nk(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,v$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ri(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=za(c):(c=na(r)?Yl:In.current,c=Du(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ak(t,o,n,c),eo=!1,h=t.memoizedState,o.state=h,Jg(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||ra.current||eo?(typeof m=="function"&&(pj(t,r,m,n),y=t.memoizedState),(u=eo||nk(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return xj(e,t,r,n,i,a)}function xj(e,t,r,n,a,i){V$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&YP(t,r,!1),Es(e,t,i);n=t.stateNode,AV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Bu(t,e.child,null,i),t.child=Bu(t,null,l,i)):Bn(e,t,l,i),t.memoizedState=n.state,a&&YP(t,r,!0),t.child}function W$(e){var t=e.stateNode;t.pendingContext?GP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&GP(e,t.context,!1),OS(e,t.containerInfo)}function dk(e,t,r,n,a){return Lu(),CS(a),t.flags|=256,Bn(e,t,r,n),t.child}var bj={dehydrated:null,treeContext:null,retryLane:0};function wj(e){return{baseLanes:e,cachePool:null,transitions:null}}function H$(e,t,r){var n=t.pendingProps,a=Sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fr(Sr,a&1),e===null)return hj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sx(o,n,0,null),e=Wl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wj(r),t.memoizedState=bj,e):BS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return OV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ao(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ao(l,i):(i=Wl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?wj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=bj,n}return i=e.child,e=i.sibling,n=Ao(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function BS(e,t){return t=sx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rp(e,t,r,n){return n!==null&&CS(n),Bu(t,e.child,null,r),e=BS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=xb(Error(je(422))),Rp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=sx({mode:"visible",children:n.children},a,0,null),i=Wl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Bu(t,e.child,null,o),t.child.memoizedState=wj(o),t.memoizedState=bj,i);if(!(t.mode&1))return Rp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(je(419)),n=xb(i,n,void 0),Rp(e,t,o,n)}if(l=(o&e.childLanes)!==0,ea||l){if(n=dn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ks(e,a),vi(n,e,a,-1))}return HS(),n=xb(Error(je(421))),Rp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,va=No(a.nextSibling),ya=t,jr=!0,fi=null,e!==null&&(Ra[Ma++]=vs,Ra[Ma++]=ys,Ra[Ma++]=Xl,vs=e.id,ys=e.overflow,Xl=t),t=BS(t,n.children),t.flags|=4096,t)}function fk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mj(e.return,t,r)}function bb(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function q$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Bn(e,t,n.children,r),n=Sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fk(e,r,t);else if(e.tag===19)fk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fr(Sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ev(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),bb(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ev(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}bb(t,!0,r,null,i);break;case"together":bb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=Ao(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ao(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TV(e,t,r){switch(t.tag){case 3:W$(t),Lu();break;case 5:y$(t);break;case 1:na(t.type)&&Gg(t);break;case 4:OS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fr(Zg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fr(Sr,Sr.current&1),t.flags|=128,null):r&t.child.childLanes?H$(e,t,r):(fr(Sr,Sr.current&1),e=Es(e,t,r),e!==null?e.sibling:null);fr(Sr,Sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return q$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fr(Sr,Sr.current),n)break;return null;case 22:case 23:return t.lanes=0,U$(e,t,r)}return Es(e,t,r)}var K$,jj,G$,Y$;K$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jj=function(){};G$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kl(Hi.current);var i=null;switch(r){case"input":a=Ww(e,a),n=Ww(e,n),i=[];break;case"select":a=Er({},a,{value:void 0}),n=Er({},n,{value:void 0}),i=[];break;case"textarea":a=Kw(e,a),n=Kw(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qg)}Yw(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&gr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Y$=function(e,t,r,n){r!==n&&(t.flags|=4)};function bf(e,t){if(!jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function RV(e,t,r){var n=t.pendingProps;switch(SS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return na(t.type)&&Kg(),Nn(t),null;case 3:return n=t.stateNode,Fu(),br(ra),br(In),RS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Op(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fi!==null&&(Aj(fi),fi=null))),jj(e,t),Nn(t),null;case 5:TS(t);var a=kl(Mh.current);if(r=t.type,e!==null&&t.stateNode!=null)G$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return Nn(t),null}if(e=kl(Hi.current),Op(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ii]=t,n[Th]=i,e=(t.mode&1)!==0,r){case"dialog":gr("cancel",n),gr("close",n);break;case"iframe":case"object":case"embed":gr("load",n);break;case"video":case"audio":for(a=0;a<qf.length;a++)gr(qf[a],n);break;case"source":gr("error",n);break;case"img":case"image":case"link":gr("error",n),gr("load",n);break;case"details":gr("toggle",n);break;case"input":wP(n,i),gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gr("invalid",n);break;case"textarea":_P(n,i),gr("invalid",n)}Yw(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ap(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ap(n.textContent,l,e),a=["children",""+l]):jh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gr("scroll",n)}switch(r){case"input":jp(n),jP(n,i,!0);break;case"textarea":jp(n),SP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_M(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ii]=t,e[Th]=n,K$(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xw(r,n),r){case"dialog":gr("cancel",e),gr("close",e),a=n;break;case"iframe":case"object":case"embed":gr("load",e),a=n;break;case"video":case"audio":for(a=0;a<qf.length;a++)gr(qf[a],e);a=n;break;case"source":gr("error",e),a=n;break;case"img":case"image":case"link":gr("error",e),gr("load",e),a=n;break;case"details":gr("toggle",e),a=n;break;case"input":wP(e,n),a=Ww(e,n),gr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Er({},n,{value:void 0}),gr("invalid",e);break;case"textarea":_P(e,n),a=Kw(e,n),gr("invalid",e);break;default:a=n}Yw(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?NM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&SM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_h(e,c):typeof c=="number"&&_h(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gr("scroll",e):c!=null&&cS(e,i,c,o))}switch(r){case"input":jp(e),jP(e,n,!1);break;case"textarea":jp(e),SP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Do(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hu(e,!!n.multiple,i,!1):n.defaultValue!=null&&hu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)Y$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=kl(Mh.current),kl(Hi.current),Op(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ii]=t,(i=n.nodeValue!==r)&&(e=ya,e!==null))switch(e.tag){case 3:Ap(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ap(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ii]=t,t.stateNode=n}return Nn(t),null;case 13:if(br(Sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jr&&va!==null&&t.mode&1&&!(t.flags&128))h$(),Lu(),t.flags|=98560,i=!1;else if(i=Op(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[Ii]=t}else Lu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),i=!1}else fi!==null&&(Aj(fi),fi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?tn===0&&(tn=3):HS())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return Fu(),jj(e,t),e===null&&Ah(t.stateNode.containerInfo),Nn(t),null;case 10:return kS(t.type._context),Nn(t),null;case 17:return na(t.type)&&Kg(),Nn(t),null;case 19:if(br(Sr),i=t.memoizedState,i===null)return Nn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)bf(i,!1);else{if(tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ev(e),o!==null){for(t.flags|=128,bf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fr(Sr,Sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fr()>Uu&&(t.flags|=128,n=!0,bf(i,!1),t.lanes=4194304)}else{if(!n)if(e=ev(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jr)return Nn(t),null}else 2*Fr()-i.renderingStartTime>Uu&&r!==1073741824&&(t.flags|=128,n=!0,bf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fr(),t.sibling=null,r=Sr.current,fr(Sr,n?r&1|2:r&1),t):(Nn(t),null);case 22:case 23:return WS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?da&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function MV(e,t){switch(SS(t),t.tag){case 1:return na(t.type)&&Kg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fu(),br(ra),br(In),RS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return TS(t),null;case 13:if(br(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));Lu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return br(Sr),null;case 4:return Fu(),null;case 10:return kS(t.type._context),null;case 22:case 23:return WS(),null;case 24:return null;default:return null}}var Mp=!1,On=!1,$V=typeof WeakSet=="function"?WeakSet:Set,Le=null;function au(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$r(e,t,n)}else r.current=null}function _j(e,t,r){try{r()}catch(n){$r(e,t,n)}}var hk=!1;function IV(e,t){if(sj=Vg,e=e$(),jS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(oj={focusedElem:e,selectionRange:r},Vg=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,p=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),p);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(_){$r(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return y=hk,hk=!1,y}function nh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_j(t,r,i)}a=a.next}while(a!==n)}}function ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Sj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function X$(e){var t=e.alternate;t!==null&&(e.alternate=null,X$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ii],delete t[Th],delete t[uj],delete t[yV],delete t[xV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z$(e){return e.tag===5||e.tag===3||e.tag===4}function mk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qg));else if(n!==4&&(e=e.child,e!==null))for(Cj(e,t,r),e=e.sibling;e!==null;)Cj(e,t,r),e=e.sibling}function Nj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nj(e,t,r),e=e.sibling;e!==null;)Nj(e,t,r),e=e.sibling}var yn=null,li=!1;function qs(e,t,r){for(r=r.child;r!==null;)Q$(e,t,r),r=r.sibling}function Q$(e,t,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Xy,r)}catch{}switch(r.tag){case 5:On||au(r,t);case 6:var n=yn,a=li;yn=null,qs(e,t,r),yn=n,li=a,yn!==null&&(li?(e=yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yn.removeChild(r.stateNode));break;case 18:yn!==null&&(li?(e=yn,r=r.stateNode,e.nodeType===8?hb(e.parentNode,r):e.nodeType===1&&hb(e,r),Ph(e)):hb(yn,r.stateNode));break;case 4:n=yn,a=li,yn=r.stateNode.containerInfo,li=!0,qs(e,t,r),yn=n,li=a;break;case 0:case 11:case 14:case 15:if(!On&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_j(r,t,o),a=a.next}while(a!==n)}qs(e,t,r);break;case 1:if(!On&&(au(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$r(r,t,l)}qs(e,t,r);break;case 21:qs(e,t,r);break;case 22:r.mode&1?(On=(n=On)||r.memoizedState!==null,qs(e,t,r),On=n):qs(e,t,r);break;default:qs(e,t,r)}}function pk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $V),t.forEach(function(n){var a=HV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,li=!1;break e;case 3:yn=l.stateNode.containerInfo,li=!0;break e;case 4:yn=l.stateNode.containerInfo,li=!0;break e}l=l.return}if(yn===null)throw Error(je(160));Q$(i,o,a),yn=null,li=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){$r(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J$(t,e),t=t.sibling}function J$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Za(t,e),Ai(e),n&4){try{nh(3,e,e.return),ax(3,e)}catch(g){$r(e,e.return,g)}try{nh(5,e,e.return)}catch(g){$r(e,e.return,g)}}break;case 1:Za(t,e),Ai(e),n&512&&r!==null&&au(r,r.return);break;case 5:if(Za(t,e),Ai(e),n&512&&r!==null&&au(r,r.return),e.flags&32){var a=e.stateNode;try{_h(a,"")}catch(g){$r(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wM(a,i),Xw(l,o);var u=Xw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?NM(a,f):d==="dangerouslySetInnerHTML"?SM(a,f):d==="children"?_h(a,f):cS(a,d,f,u)}switch(l){case"input":Hw(a,i);break;case"textarea":jM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hu(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?hu(a,!!i.multiple,i.defaultValue,!0):hu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Th]=i}catch(g){$r(e,e.return,g)}}break;case 6:if(Za(t,e),Ai(e),n&4){if(e.stateNode===null)throw Error(je(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){$r(e,e.return,g)}}break;case 3:if(Za(t,e),Ai(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(g){$r(e,e.return,g)}break;case 4:Za(t,e),Ai(e);break;case 13:Za(t,e),Ai(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(US=Fr())),n&4&&pk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(On=(u=On)||d,Za(t,e),On=u):Za(t,e),Ai(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(f=Le=d;Le!==null;){switch(h=Le,m=h.child,h.tag){case 0:case 11:case 14:case 15:nh(4,h,h.return);break;case 1:au(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){$r(n,r,g)}}break;case 5:au(h,h.return);break;case 22:if(h.memoizedState!==null){vk(f);continue}}m!==null?(m.return=h,Le=m):vk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CM("display",o))}catch(g){$r(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){$r(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Za(t,e),Ai(e),n&4&&pk(e);break;case 21:break;default:Za(t,e),Ai(e)}}function Ai(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z$(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_h(a,""),n.flags&=-33);var i=mk(e);Nj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=mk(e);Cj(e,l,o);break;default:throw Error(je(161))}}catch(c){$r(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DV(e,t,r){Le=e,eI(e)}function eI(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Mp;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||On;l=Mp;var u=On;if(Mp=o,(On=c)&&!u)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?yk(a):c!==null?(c.return=o,Le=c):yk(a);for(;i!==null;)Le=i,eI(i),i=i.sibling;Le=a,Mp=l,On=u}gk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):gk(e)}}function gk(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||ax(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!On)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ek(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ek(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ph(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}On||t.flags&512&&Sj(t)}catch(h){$r(t,t.return,h)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function vk(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function yk(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ax(4,t)}catch(c){$r(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$r(t,a,c)}}var i=t.return;try{Sj(t)}catch(c){$r(t,i,c)}break;case 5:var o=t.return;try{Sj(t)}catch(c){$r(t,o,c)}}}catch(c){$r(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var LV=Math.ceil,nv=Ds.ReactCurrentDispatcher,FS=Ds.ReactCurrentOwner,La=Ds.ReactCurrentBatchConfig,Et=0,dn=null,qr=null,bn=0,da=0,iu=Yo(0),tn=0,Lh=null,Ql=0,ix=0,zS=0,ah=null,Jn=null,US=0,Uu=1/0,ds=null,av=!1,Pj=null,ko=null,$p=!1,po=null,iv=0,ih=0,kj=null,Ng=-1,Pg=0;function Hn(){return Et&6?Fr():Ng!==-1?Ng:Ng=Fr()}function Eo(e){return e.mode&1?Et&2&&bn!==0?bn&-bn:wV.transition!==null?(Pg===0&&(Pg=LM()),Pg):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:HM(e.type)),e):1}function vi(e,t,r,n){if(50<ih)throw ih=0,kj=null,Error(je(185));Zm(e,r,n),(!(Et&2)||e!==dn)&&(e===dn&&(!(Et&2)&&(ix|=r),tn===4&&io(e,bn)),aa(e,n),r===1&&Et===0&&!(t.mode&1)&&(Uu=Fr()+500,tx&&Xo()))}function aa(e,t){var r=e.callbackNode;w6(e,t);var n=Ug(e,e===dn?bn:0);if(n===0)r!==null&&PP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&PP(r),t===1)e.tag===0?bV(xk.bind(null,e)):u$(xk.bind(null,e)),gV(function(){!(Et&6)&&Xo()}),r=null;else{switch(BM(n)){case 1:r=mS;break;case 4:r=IM;break;case 16:r=zg;break;case 536870912:r=DM;break;default:r=zg}r=lI(r,tI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tI(e,t){if(Ng=-1,Pg=0,Et&6)throw Error(je(327));var r=e.callbackNode;if(yu()&&e.callbackNode!==r)return null;var n=Ug(e,e===dn?bn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sv(e,n);else{t=n;var a=Et;Et|=2;var i=nI();(dn!==e||bn!==t)&&(ds=null,Uu=Fr()+500,Vl(e,t));do try{zV();break}catch(l){rI(e,l)}while(!0);PS(),nv.current=i,Et=a,qr!==null?t=0:(dn=null,bn=0,t=tn)}if(t!==0){if(t===2&&(a=tj(e),a!==0&&(n=a,t=Ej(e,a))),t===1)throw r=Lh,Vl(e,0),io(e,n),aa(e,Fr()),r;if(t===6)io(e,n);else{if(a=e.current.alternate,!(n&30)&&!BV(a)&&(t=sv(e,n),t===2&&(i=tj(e),i!==0&&(n=i,t=Ej(e,i))),t===1))throw r=Lh,Vl(e,0),io(e,n),aa(e,Fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:gl(e,Jn,ds);break;case 3:if(io(e,n),(n&130023424)===n&&(t=US+500-Fr(),10<t)){if(Ug(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Hn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cj(gl.bind(null,e,Jn,ds),t);break}gl(e,Jn,ds);break;case 4:if(io(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gi(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LV(n/1960))-n,10<n){e.timeoutHandle=cj(gl.bind(null,e,Jn,ds),n);break}gl(e,Jn,ds);break;case 5:gl(e,Jn,ds);break;default:throw Error(je(329))}}}return aa(e,Fr()),e.callbackNode===r?tI.bind(null,e):null}function Ej(e,t){var r=ah;return e.current.memoizedState.isDehydrated&&(Vl(e,t).flags|=256),e=sv(e,t),e!==2&&(t=Jn,Jn=r,t!==null&&Aj(t)),e}function Aj(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function BV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ji(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function io(e,t){for(t&=~zS,t&=~ix,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gi(t),n=1<<r;e[r]=-1,t&=~n}}function xk(e){if(Et&6)throw Error(je(327));yu();var t=Ug(e,0);if(!(t&1))return aa(e,Fr()),null;var r=sv(e,t);if(e.tag!==0&&r===2){var n=tj(e);n!==0&&(t=n,r=Ej(e,n))}if(r===1)throw r=Lh,Vl(e,0),io(e,t),aa(e,Fr()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gl(e,Jn,ds),aa(e,Fr()),null}function VS(e,t){var r=Et;Et|=1;try{return e(t)}finally{Et=r,Et===0&&(Uu=Fr()+500,tx&&Xo())}}function Jl(e){po!==null&&po.tag===0&&!(Et&6)&&yu();var t=Et;Et|=1;var r=La.transition,n=Ht;try{if(La.transition=null,Ht=1,e)return e()}finally{Ht=n,La.transition=r,Et=t,!(Et&6)&&Xo()}}function WS(){da=iu.current,br(iu)}function Vl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pV(r)),qr!==null)for(r=qr.return;r!==null;){var n=r;switch(SS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kg();break;case 3:Fu(),br(ra),br(In),RS();break;case 5:TS(n);break;case 4:Fu();break;case 13:br(Sr);break;case 19:br(Sr);break;case 10:kS(n.type._context);break;case 22:case 23:WS()}r=r.return}if(dn=e,qr=e=Ao(e.current,null),bn=da=t,tn=0,Lh=null,zS=ix=Ql=0,Jn=ah=null,Pl!==null){for(t=0;t<Pl.length;t++)if(r=Pl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Pl=null}return e}function rI(e,t){do{var r=qr;try{if(PS(),_g.current=rv,tv){for(var n=Pr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}tv=!1}if(Zl=0,cn=Jr=Pr=null,rh=!1,$h=0,FS.current=null,r===null||r.return===null){tn=1,Lh=t,qr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=bn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sk(o);if(m!==null){m.flags&=-257,ok(m,o,l,i,t),m.mode&1&&ik(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){ik(i,u,t),HS();break e}c=Error(je(426))}}else if(jr&&l.mode&1){var p=sk(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),ok(p,o,l,i,t),CS(zu(c,l));break e}}i=c=zu(c,l),tn!==4&&(tn=2),ah===null?ah=[i]:ah.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=B$(i,c,t);JP(i,v);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ko===null||!ko.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=F$(i,l,t);JP(i,_);break e}}i=i.return}while(i!==null)}iI(r)}catch(j){t=j,qr===r&&r!==null&&(qr=r=r.return);continue}break}while(!0)}function nI(){var e=nv.current;return nv.current=rv,e===null?rv:e}function HS(){(tn===0||tn===3||tn===2)&&(tn=4),dn===null||!(Ql&268435455)&&!(ix&268435455)||io(dn,bn)}function sv(e,t){var r=Et;Et|=2;var n=nI();(dn!==e||bn!==t)&&(ds=null,Vl(e,t));do try{FV();break}catch(a){rI(e,a)}while(!0);if(PS(),Et=r,nv.current=n,qr!==null)throw Error(je(261));return dn=null,bn=0,tn}function FV(){for(;qr!==null;)aI(qr)}function zV(){for(;qr!==null&&!f6();)aI(qr)}function aI(e){var t=oI(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?iI(e):qr=t,FS.current=null}function iI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MV(r,t),r!==null){r.flags&=32767,qr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tn=6,qr=null;return}}else if(r=RV(r,t,da),r!==null){qr=r;return}if(t=t.sibling,t!==null){qr=t;return}qr=t=e}while(t!==null);tn===0&&(tn=5)}function gl(e,t,r){var n=Ht,a=La.transition;try{La.transition=null,Ht=1,UV(e,t,r,n)}finally{La.transition=a,Ht=n}return null}function UV(e,t,r,n){do yu();while(po!==null);if(Et&6)throw Error(je(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(j6(e,i),e===dn&&(qr=dn=null,bn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$p||($p=!0,lI(zg,function(){return yu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=La.transition,La.transition=null;var o=Ht;Ht=1;var l=Et;Et|=4,FS.current=null,IV(e,r),J$(r,e),lV(oj),Vg=!!sj,oj=sj=null,e.current=r,DV(r),h6(),Et=l,Ht=o,La.transition=i}else e.current=r;if($p&&($p=!1,po=e,iv=a),i=e.pendingLanes,i===0&&(ko=null),g6(r.stateNode),aa(e,Fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(av)throw av=!1,e=Pj,Pj=null,e;return iv&1&&e.tag!==0&&yu(),i=e.pendingLanes,i&1?e===kj?ih++:(ih=0,kj=e):ih=0,Xo(),null}function yu(){if(po!==null){var e=BM(iv),t=La.transition,r=Ht;try{if(La.transition=null,Ht=16>e?16:e,po===null)var n=!1;else{if(e=po,po=null,iv=0,Et&6)throw Error(je(331));var a=Et;for(Et|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Le=u;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:nh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Le=f;else for(;Le!==null;){d=Le;var h=d.sibling,m=d.return;if(X$(d),d===u){Le=null;break}if(h!==null){h.return=m,Le=h;break}Le=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Le=v;break e}Le=i.return}}var x=e.current;for(Le=x;Le!==null;){o=Le;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Le=b;else e:for(o=x;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ax(9,l)}}catch(j){$r(l,l.return,j)}if(l===o){Le=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Le=_;break e}Le=l.return}}if(Et=a,Xo(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Xy,e)}catch{}n=!0}return n}finally{Ht=r,La.transition=t}}return!1}function bk(e,t,r){t=zu(r,t),t=B$(e,t,1),e=Po(e,t,1),t=Hn(),e!==null&&(Zm(e,1,t),aa(e,t))}function $r(e,t,r){if(e.tag===3)bk(e,e,r);else for(;t!==null;){if(t.tag===3){bk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ko===null||!ko.has(n))){e=zu(r,e),e=F$(t,e,1),t=Po(t,e,1),e=Hn(),t!==null&&(Zm(t,1,e),aa(t,e));break}}t=t.return}}function VV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&r,dn===e&&(bn&r)===r&&(tn===4||tn===3&&(bn&130023424)===bn&&500>Fr()-US?Vl(e,0):zS|=r),aa(e,t)}function sI(e,t){t===0&&(e.mode&1?(t=Cp,Cp<<=1,!(Cp&130023424)&&(Cp=4194304)):t=1);var r=Hn();e=ks(e,t),e!==null&&(Zm(e,t,r),aa(e,r))}function WV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sI(e,r)}function HV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),sI(e,r)}var oI;oI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ra.current)ea=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ea=!1,TV(e,t,r);ea=!!(e.flags&131072)}else ea=!1,jr&&t.flags&1048576&&d$(t,Xg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cg(e,t),e=t.pendingProps;var a=Du(t,In.current);vu(t,r),a=$S(null,t,n,e,a,r);var i=IS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(n)?(i=!0,Gg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,AS(t),a.updater=nx,t.stateNode=a,a._reactInternals=t,gj(t,n,e,r),t=xj(null,t,n,!0,i,r)):(t.tag=0,jr&&i&&_S(t),Bn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KV(n),e=ri(n,e),a){case 0:t=yj(null,t,n,e,r);break e;case 1:t=uk(null,t,n,e,r);break e;case 11:t=lk(null,t,n,e,r);break e;case 14:t=ck(null,t,n,ri(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),yj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),uk(e,t,n,a,r);case 3:e:{if(W$(t),e===null)throw Error(je(387));n=t.pendingProps,i=t.memoizedState,a=i.element,v$(e,t),Jg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=zu(Error(je(423)),t),t=dk(e,t,n,r,a);break e}else if(n!==a){a=zu(Error(je(424)),t),t=dk(e,t,n,r,a);break e}else for(va=No(t.stateNode.containerInfo.firstChild),ya=t,jr=!0,fi=null,r=p$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lu(),n===a){t=Es(e,t,r);break e}Bn(e,t,n,r)}t=t.child}return t;case 5:return y$(t),e===null&&hj(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,lj(n,a)?o=null:i!==null&&lj(n,i)&&(t.flags|=32),V$(e,t),Bn(e,t,o,r),t.child;case 6:return e===null&&hj(t),null;case 13:return H$(e,t,r);case 4:return OS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bu(t,null,n,r):Bn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),lk(e,t,n,a,r);case 7:return Bn(e,t,t.pendingProps,r),t.child;case 8:return Bn(e,t,t.pendingProps.children,r),t.child;case 12:return Bn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,fr(Zg,n._currentValue),n._currentValue=o,i!==null)if(ji(i.value,o)){if(i.children===a.children&&!ra.current){t=Es(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=js(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vu(t,r),a=za(a),n=n(a),t.flags|=1,Bn(e,t,n,r),t.child;case 14:return n=t.type,a=ri(n,t.pendingProps),a=ri(n.type,a),ck(e,t,n,a,r);case 15:return z$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Cg(e,t),t.tag=1,na(n)?(e=!0,Gg(t)):e=!1,vu(t,r),L$(t,n,a),gj(t,n,a,r),xj(null,t,n,!0,e,r);case 19:return q$(e,t,r);case 22:return U$(e,t,r)}throw Error(je(156,t.tag))};function lI(e,t){return $M(e,t)}function qV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,r,n){return new qV(e,t,r,n)}function qS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KV(e){if(typeof e=="function")return qS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dS)return 11;if(e===fS)return 14}return 2}function Ao(e,t){var r=e.alternate;return r===null?(r=Ia(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kg(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")qS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yc:return Wl(r.children,a,i,t);case uS:o=8,a|=8;break;case Fw:return e=Ia(12,r,t,a|2),e.elementType=Fw,e.lanes=i,e;case zw:return e=Ia(13,r,t,a),e.elementType=zw,e.lanes=i,e;case Uw:return e=Ia(19,r,t,a),e.elementType=Uw,e.lanes=i,e;case yM:return sx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gM:o=10;break e;case vM:o=9;break e;case dS:o=11;break e;case fS:o=14;break e;case Js:o=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=Ia(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Wl(e,t,r,n){return e=Ia(7,e,n,t),e.lanes=r,e}function sx(e,t,r,n){return e=Ia(22,e,n,t),e.elementType=yM,e.lanes=r,e.stateNode={isHidden:!1},e}function wb(e,t,r){return e=Ia(6,e,null,t),e.lanes=r,e}function jb(e,t,r){return t=Ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rb(0),this.expirationTimes=rb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function KS(e,t,r,n,a,i,o,l,c){return e=new GV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ia(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},AS(i),e}function YV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function cI(e){if(!e)return Lo;e=e._reactInternals;e:{if(hc(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if(na(r))return c$(e,r,t)}return t}function uI(e,t,r,n,a,i,o,l,c){return e=KS(r,n,!0,e,a,i,o,l,c),e.context=cI(null),r=e.current,n=Hn(),a=Eo(r),i=js(n,a),i.callback=t??null,Po(r,i,a),e.current.lanes=a,Zm(e,a,n),aa(e,n),e}function ox(e,t,r,n){var a=t.current,i=Hn(),o=Eo(a);return r=cI(r),t.context===null?t.context=r:t.pendingContext=r,t=js(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Po(a,t,o),e!==null&&(vi(e,a,o,i),jg(e,a,o)),o}function ov(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function GS(e,t){wk(e,t),(e=e.alternate)&&wk(e,t)}function XV(){return null}var dI=typeof reportError=="function"?reportError:function(e){console.error(e)};function YS(e){this._internalRoot=e}lx.prototype.render=YS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));ox(e,t,null,null)};lx.prototype.unmount=YS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jl(function(){ox(null,e,null,null)}),t[Ps]=null}};function lx(e){this._internalRoot=e}lx.prototype.unstable_scheduleHydration=function(e){if(e){var t=UM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ao.length&&t!==0&&t<ao[r].priority;r++);ao.splice(r,0,e),r===0&&WM(e)}};function XS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jk(){}function ZV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ov(o);i.call(u)}}var o=uI(t,n,e,0,null,!1,!1,"",jk);return e._reactRootContainer=o,e[Ps]=o.current,Ah(e.nodeType===8?e.parentNode:e),Jl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ov(c);l.call(u)}}var c=KS(e,0,!1,null,null,!1,!1,"",jk);return e._reactRootContainer=c,e[Ps]=c.current,Ah(e.nodeType===8?e.parentNode:e),Jl(function(){ox(t,c,r,n)}),c}function ux(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ov(o);l.call(c)}}ox(t,o,e,a)}else o=ZV(r,t,e,a,n);return ov(o)}FM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hf(t.pendingLanes);r!==0&&(pS(t,r|1),aa(t,Fr()),!(Et&6)&&(Uu=Fr()+500,Xo()))}break;case 13:Jl(function(){var n=ks(e,1);if(n!==null){var a=Hn();vi(n,e,1,a)}}),GS(e,1)}};gS=function(e){if(e.tag===13){var t=ks(e,134217728);if(t!==null){var r=Hn();vi(t,e,134217728,r)}GS(e,134217728)}};zM=function(e){if(e.tag===13){var t=Eo(e),r=ks(e,t);if(r!==null){var n=Hn();vi(r,e,t,n)}GS(e,t)}};UM=function(){return Ht};VM=function(e,t){var r=Ht;try{return Ht=e,t()}finally{Ht=r}};Qw=function(e,t,r){switch(t){case"input":if(Hw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ex(n);if(!a)throw Error(je(90));bM(n),Hw(n,a)}}}break;case"textarea":jM(e,r);break;case"select":t=r.value,t!=null&&hu(e,!!r.multiple,t,!1)}};EM=VS;AM=Jl;var QV={usingClientEntryPoint:!1,Events:[Jm,Jc,ex,PM,kM,VS]},wf={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JV={bundleType:wf.bundleType,version:wf.version,rendererPackageName:wf.rendererPackageName,rendererConfig:wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RM(e),e===null?null:e.stateNode},findFiberByHostInstance:wf.findFiberByHostInstance||XV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Xy=Ip.inject(JV),Wi=Ip}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QV;_a.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XS(t))throw Error(je(200));return YV(e,t,null,r)};_a.createRoot=function(e,t){if(!XS(e))throw Error(je(299));var r=!1,n="",a=dI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=KS(e,1,!1,null,null,r,!1,n,a),e[Ps]=t.current,Ah(e.nodeType===8?e.parentNode:e),new YS(t)};_a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=RM(t),e=e===null?null:e.stateNode,e};_a.flushSync=function(e){return Jl(e)};_a.hydrate=function(e,t,r){if(!cx(t))throw Error(je(200));return ux(null,e,t,!0,r)};_a.hydrateRoot=function(e,t,r){if(!XS(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=dI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=uI(t,null,e,1,r??null,a,!1,i,o),e[Ps]=t.current,Ah(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lx(t)};_a.render=function(e,t,r){if(!cx(t))throw Error(je(200));return ux(null,e,t,!1,r)};_a.unmountComponentAtNode=function(e){if(!cx(e))throw Error(je(40));return e._reactRootContainer?(Jl(function(){ux(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};_a.unstable_batchedUpdates=VS;_a.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cx(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return ux(e,t,r,!1,n)};_a.version="18.3.1-next-f1338f8080-20240426";function fI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fI)}catch(e){console.error(e)}}fI(),fM.exports=_a;var mc=fM.exports;const hI=Bt(mc);var mI,_k=mc;mI=_k.createRoot,_k.hydrateRoot;const eW=1,tW=1e6;let _b=0;function rW(){return _b=(_b+1)%Number.MAX_SAFE_INTEGER,_b.toString()}const Sb=new Map,Sk=e=>{if(Sb.has(e))return;const t=setTimeout(()=>{Sb.delete(e),sh({type:"REMOVE_TOAST",toastId:e})},tW);Sb.set(e,t)},nW=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eW)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Sk(r):e.toasts.forEach(n=>{Sk(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Eg=[];let Ag={toasts:[]};function sh(e){Ag=nW(Ag,e),Eg.forEach(t=>{t(Ag)})}function xn({...e}){const t=rW(),r=a=>sh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>sh({type:"DISMISS_TOAST",toastId:t});return sh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function ZS(){const[e,t]=w.useState(Ag);return w.useEffect(()=>(Eg.push(t),()=>{const r=Eg.indexOf(t);r>-1&&Eg.splice(r,1)}),[e]),{...e,toast:xn,dismiss:r=>sh({type:"DISMISS_TOAST",toastId:r})}}function Oe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ck(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pI(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Ck(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Ck(e[a],null)}}}}function dt(...e){return w.useCallback(pI(...e),e)}function aW(e,t){const r=w.createContext(t),n=i=>{const{children:o,...l}=i,c=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Yn(e,t=[]){let r=[];function n(i,o){const l=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:m,...y}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,p=w.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:p,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,y=w.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,iW(a,...t)]}function iW(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ec(e){const t=sW(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),c=l.find(oW);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var gI=ec("Slot");function sW(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=cW(a),l=lW(i,a.props);return a.type!==w.Fragment&&(l.ref=n?pI(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vI=Symbol("radix.slottable");function yI(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=vI,t}function oW(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vI}function lW(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cW(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function dx(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:p,children:v}=g,x=I.useRef(null),b=I.useRef(new Map).current;return s.jsx(a,{scope:p,itemMap:b,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=ec(l),u=I.forwardRef((g,p)=>{const{scope:v,children:x}=g,b=i(l,v),_=dt(p,b.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ec(d),m=I.forwardRef((g,p)=>{const{scope:v,children:x,...b}=g,_=I.useRef(null),j=dt(p,_),S=i(d,v);return I.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function y(g){const p=i(e+"CollectionConsumer",g);return I.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var uW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=uW.reduce((e,t)=>{const r=ec(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xI(e,t){e&&mc.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fW="DismissableLayer",Oj="dismissableLayer.update",hW="dismissableLayer.pointerDownOutside",mW="dismissableLayer.focusOutside",Nk,bI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$d=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(bI),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),y=dt(t,C=>f(C)),g=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(p),x=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,j=gW(C=>{const P=C.target,N=[...u.branches].some(O=>O.contains(P));!_||N||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),S=vW(C=>{const P=C.target;[...u.branches].some(O=>O.contains(P))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return dW(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Pk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Nk)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Pk())},[d,u]),w.useEffect(()=>{const C=()=>m({});return document.addEventListener(Oj,C),()=>document.removeEventListener(Oj,C)},[]),s.jsx(Ve.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,j.onPointerDownCapture)})});$d.displayName=fW;var pW="DismissableLayerBranch",wI=w.forwardRef((e,t)=>{const r=w.useContext(bI),n=w.useRef(null),a=dt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ve.div,{...e,ref:a})});wI.displayName=pW;function gW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){jI(hW,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function vW(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&jI(mW,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pk(){const e=new CustomEvent(Oj);document.dispatchEvent(e)}function jI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?xI(a,i):a.dispatchEvent(i)}var yW=$d,xW=wI,fn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},bW="Portal",tp=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=w.useState(!1);fn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?hI.createPortal(s.jsx(Ve.div,{...n,ref:t}),o):null});tp.displayName=bW;function wW(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var sa=e=>{const{present:t,children:r}=e,n=jW(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=dt(n.ref,_W(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};sa.displayName="Presence";function jW(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Dp(n.current);i.current=l==="mounted"?u:"none"},[l]),fn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=Dp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Dp(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(i.current=Dp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dp(e){return(e==null?void 0:e.animationName)||"none"}function _W(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SW=sS[" useInsertionEffect ".trim().toString()]||fn;function ia({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=CW({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=NW(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function CW({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return SW(()=>{i.current=t},[t]),w.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function NW(e){return typeof e=="function"}var _I=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PW="VisuallyHidden",fx=w.forwardRef((e,t)=>s.jsx(Ve.span,{...e,ref:t,style:{..._I,...e.style}}));fx.displayName=PW;var kW=fx,QS="ToastProvider",[JS,EW,AW]=dx("Toast"),[SI,O2e]=Yn("Toast",[AW]),[OW,hx]=SI(QS),CI=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${QS}\`. Expected non-empty \`string\`.`),s.jsx(JS.Provider,{scope:t,children:s.jsx(OW,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};CI.displayName=QS;var NI="ToastViewport",TW=["F8"],Tj="toast.viewportPause",Rj="toast.viewportResume",PI=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=TW,label:a="Notifications ({hotkey})",...i}=e,o=hx(NI,r),l=EW(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=dt(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const p=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),w.useEffect(()=>{const p=c.current,v=f.current;if(y&&p&&v){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tj);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Rj);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!p.contains(S.relatedTarget)&&b()},j=()=>{p.contains(document.activeElement)||b()};return p.addEventListener("focusin",x),p.addEventListener("focusout",_),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",_),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:p})=>{const x=l().map(b=>{const _=b.ref.current,j=[_,...HW(_)];return p==="forwards"?j:j.reverse()});return(p==="forwards"?x.reverse():x).flat()},[l]);return w.useEffect(()=>{const p=f.current;if(p){const v=x=>{var j,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const P=document.activeElement,N=x.shiftKey;if(x.target===p&&N){(j=u.current)==null||j.focus();return}const E=g({tabbingDirection:N?"backwards":"forwards"}),R=E.findIndex(k=>k===P);Cb(E.slice(R+1))?x.preventDefault():N?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return p.addEventListener("keydown",v),()=>p.removeEventListener("keydown",v)}},[l,g]),s.jsxs(xW,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(Mj,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});Cb(p)}}),s.jsx(JS.Slot,{scope:r,children:s.jsx(Ve.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(Mj,{ref:d,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});Cb(p)}})]})});PI.displayName=NI;var kI="ToastFocusProxy",Mj=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=hx(kI,r);return s.jsx(fx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Mj.displayName=kI;var rp="Toast",RW="toast.swipeStart",MW="toast.swipeMove",$W="toast.swipeCancel",IW="toast.swipeEnd",EI=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ia({prop:n,defaultProp:a??!0,onChange:i,caller:rp});return s.jsx(sa,{present:r||l,children:s.jsx(BW,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:en(e.onPause),onResume:en(e.onResume),onSwipeStart:Oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});EI.displayName=rp;var[DW,LW]=SI(rp,{onClose(){}}),BW=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=hx(rp,r),[p,v]=w.useState(null),x=dt(t,k=>v(k)),b=w.useRef(null),_=w.useRef(null),j=a||g.duration,S=w.useRef(0),C=w.useRef(j),P=w.useRef(0),{onToastAdd:N,onToastRemove:O}=g,T=en(()=>{var A;(p==null?void 0:p.contains(document.activeElement))&&((A=g.viewport)==null||A.focus()),o()}),E=w.useCallback(k=>{!k||k===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(T,k))},[T]);w.useEffect(()=>{const k=g.viewport;if(k){const A=()=>{E(C.current),u==null||u()},$=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(P.current),c==null||c()};return k.addEventListener(Tj,$),k.addEventListener(Rj,A),()=>{k.removeEventListener(Tj,$),k.removeEventListener(Rj,A)}}},[g.viewport,j,c,u,E]),w.useEffect(()=>{i&&!g.isClosePausedRef.current&&E(j)},[i,j,g.isClosePausedRef,E]),w.useEffect(()=>(N(),()=>O()),[N,O]);const R=w.useMemo(()=>p?II(p):null,[p]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(FW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(DW,{scope:r,onClose:T,children:mc.createPortal(s.jsx(JS.ItemSlot,{scope:r,children:s.jsx(yW,{asChild:!0,onEscapeKeyDown:Oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Oe(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Oe(e.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Oe(e.onPointerMove,k=>{if(!b.current)return;const A=k.clientX-b.current.x,$=k.clientY-b.current.y,M=!!_.current,L=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=L?B(0,A):0,Q=L?0:B(0,$),ee=k.pointerType==="touch"?10:2,se={x:z,y:Q},U={originalEvent:k,delta:se};M?(_.current=se,Lp(MW,f,U,{discrete:!1})):kk(se,g.swipeDirection,ee)?(_.current=se,Lp(RW,d,U,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(A)>ee||Math.abs($)>ee)&&(b.current=null)}),onPointerUp:Oe(e.onPointerUp,k=>{const A=_.current,$=k.target;if($.hasPointerCapture(k.pointerId)&&$.releasePointerCapture(k.pointerId),_.current=null,b.current=null,A){const M=k.currentTarget,L={originalEvent:k,delta:A};kk(A,g.swipeDirection,g.swipeThreshold)?Lp(IW,m,L,{discrete:!0}):Lp($W,h,L,{discrete:!0}),M.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FW=e=>{const{__scopeToast:t,children:r,...n}=e,a=hx(rp,t),[i,o]=w.useState(!1),[l,c]=w.useState(!1);return VW(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(tp,{asChild:!0,children:s.jsx(fx,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},zW="ToastTitle",AI=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});AI.displayName=zW;var UW="ToastDescription",OI=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});OI.displayName=UW;var TI="ToastAction",RI=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx($I,{altText:r,asChild:!0,children:s.jsx(eC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${TI}\`. Expected non-empty \`string\`.`),null)});RI.displayName=TI;var MI="ToastClose",eC=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=LW(MI,r);return s.jsx($I,{asChild:!0,children:s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Oe(e.onClick,a.onClose)})})});eC.displayName=MI;var $I=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function II(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WW(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...II(n))}}),t}function Lp(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?xI(a,i):a.dispatchEvent(i)}var kk=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function VW(e=()=>{}){const t=en(e);fn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WW(e){return e.nodeType===e.ELEMENT_NODE}function HW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var qW=CI,DI=PI,LI=EI,BI=AI,FI=OI,zI=RI,UI=eC;function VI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VI(e))&&(n&&(n+=" "),n+=t);return n}const Ek=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ak=ut,Id=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ak(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Ek(d)||Ek(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,p]=y;return Array.isArray(p)?p.includes({...i,...l}[g]):{...i,...l}[g]===p})?[...u,f,h]:u},[]);return Ak(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...GW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WI("lucide",a),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(YW,{ref:i,iconNode:t,className:WI(`lucide-${KW(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Ee("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ee("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Ee("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ee("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ee("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Ee("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Ee("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Ee("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Ee("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Ee("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Ee("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ee("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),aC="-",_H=e=>{const t=CH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(aC);return l[0]===""&&l.length!==1&&l.shift(),iD(l,t)||SH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},iD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?iD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(aC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Rk=/^\[(.+)\]$/,SH=e=>{if(Rk.test(e)){const t=Rk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return PH(Object.entries(e.classGroups),r).forEach(([i,o])=>{Dj(o,n,i,t)}),n},Dj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Mk(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(NH(a)){Dj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Dj(o,Mk(t,i),r,n)})})},Mk=(e,t)=>{let r=e;return t.split(aC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NH=e=>e.isThemeGetter,PH=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,kH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},sD="!",EH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let p=0;p<l.length;p++){let v=l[p];if(u===0){if(v===a&&(n||l.slice(p,p+i)===t)){c.push(l.slice(d,p)),d=p+i;continue}if(v==="/"){f=p;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(sD),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},AH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},OH=e=>({cache:kH(e.cacheSize),parseClassName:EH(e),..._H(e)}),TH=/\s+/,RH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(TH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const p=AH(d).join(":"),v=f?p+sD:p,x=v+g;if(i.includes(x))continue;i.push(x);const b=a(g,y);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function MH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=oD(t))&&(n&&(n+=" "),n+=r);return n}const oD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=oD(e[n]))&&(r&&(r+=" "),r+=t);return r};function $H(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=OH(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=RH(c,r);return a(c,d),d}return function(){return i(MH.apply(null,arguments))}}const pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lD=/^\[(?:([a-z-]+):)?(.+)\]$/i,IH=/^\d+\/\d+$/,DH=new Set(["px","full","screen"]),LH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=e=>xu(e)||DH.has(e)||IH.test(e),Ks=e=>Ld(e,"length",XH),xu=e=>!!e&&!Number.isNaN(Number(e)),kb=e=>Ld(e,"number",xu),jf=e=>!!e&&Number.isInteger(Number(e)),VH=e=>e.endsWith("%")&&xu(e.slice(0,-1)),bt=e=>lD.test(e),Gs=e=>LH.test(e),WH=new Set(["length","size","percentage"]),HH=e=>Ld(e,WH,cD),qH=e=>Ld(e,"position",cD),KH=new Set(["image","url"]),GH=e=>Ld(e,KH,QH),YH=e=>Ld(e,"",ZH),_f=()=>!0,Ld=(e,t,r)=>{const n=lD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},XH=e=>BH.test(e)&&!FH.test(e),cD=()=>!1,ZH=e=>zH.test(e),QH=e=>UH.test(e),JH=()=>{const e=pr("colors"),t=pr("spacing"),r=pr("blur"),n=pr("brightness"),a=pr("borderColor"),i=pr("borderRadius"),o=pr("borderSpacing"),l=pr("borderWidth"),c=pr("contrast"),u=pr("grayscale"),d=pr("hueRotate"),f=pr("invert"),h=pr("gap"),m=pr("gradientColorStops"),y=pr("gradientColorStopPositions"),g=pr("inset"),p=pr("margin"),v=pr("opacity"),x=pr("padding"),b=pr("saturate"),_=pr("scale"),j=pr("sepia"),S=pr("skew"),C=pr("space"),P=pr("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",bt,t],E=()=>[bt,t],R=()=>["",os,Ks],k=()=>["auto",xu,bt],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",bt],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[xu,bt];return{cacheSize:500,separator:":",theme:{colors:[_f],spacing:[os,Ks],blur:["none","",Gs,bt],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Gs,bt],borderSpacing:E(),borderWidth:R(),contrast:Q(),grayscale:B(),hueRotate:Q(),invert:B(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[VH,Ks],inset:T(),margin:T(),opacity:Q(),padding:E(),saturate:Q(),scale:Q(),sepia:B(),skew:Q(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[Gs]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),bt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jf,bt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",jf,bt]}],"grid-cols":[{"grid-cols":[_f]}],"col-start-end":[{col:["auto",{span:["full",jf,bt]},bt]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[_f]}],"row-start-end":[{row:["auto",{span:[jf,bt]},bt]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,t]}],"min-w":[{"min-w":[bt,t,"min","max","fit"]}],"max-w":[{"max-w":[bt,t,"none","full","min","max","fit","prose",{screen:[Gs]},Gs]}],h:[{h:[bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gs,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kb]}],"font-family":[{font:[_f]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",xu,kb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",os,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",os,Ks]}],"underline-offset":[{"underline-offset":["auto",os,bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),qH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GH]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[os,bt]}],"outline-w":[{outline:[os,Ks]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[os,Ks]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gs,YH]}],"shadow-color":[{shadow:[_f]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gs,bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[jf,bt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[os,Ks,kb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eq=$H(JH);function ue(...e){return eq(ut(e))}const tq=qW,uD=w.forwardRef(({className:e,...t},r)=>s.jsx(DI,{ref:r,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uD.displayName=DI.displayName;const rq=Id("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dD=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(LI,{ref:n,className:ue(rq({variant:t}),e),...r}));dD.displayName=LI.displayName;const nq=w.forwardRef(({className:e,...t},r)=>s.jsx(zI,{ref:r,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));nq.displayName=zI.displayName;const fD=w.forwardRef(({className:e,...t},r)=>s.jsx(UI,{ref:r,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(_i,{className:"h-4 w-4"})}));fD.displayName=UI.displayName;const hD=w.forwardRef(({className:e,...t},r)=>s.jsx(BI,{ref:r,className:ue("text-sm font-semibold",e),...t}));hD.displayName=BI.displayName;const mD=w.forwardRef(({className:e,...t},r)=>s.jsx(FI,{ref:r,className:ue("text-sm opacity-90",e),...t}));mD.displayName=FI.displayName;function aq(){const{toasts:e}=ZS();return s.jsxs(tq,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(dD,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(hD,{children:r}),n&&s.jsx(mD,{children:n})]}),a,s.jsx(fD,{})]},t)}),s.jsx(uD,{})]})}var $k=["light","dark"],iq="(prefers-color-scheme: dark)",sq=w.createContext(void 0),oq={setTheme:e=>{},themes:[]},lq=()=>{var e;return(e=w.useContext(sq))!=null?e:oq};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?$k.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,p=!0)=>{let v=o?o[y]:y,x=g?y+"|| ''":`'${v}'`,b="";return a&&p&&!g&&$k.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${iq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var cq=e=>{switch(e){case"success":return fq;case"info":return mq;case"warning":return hq;case"error":return pq;default:return null}},uq=Array(12).fill(0),dq=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},uq.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gq=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vq=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Lj=1,yq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lj++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],I.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(bq(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Lj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qn=new yq,xq=(e,t)=>{let r=(t==null?void 0:t.id)||Lj++;return Qn.addToast({title:e,...t,id:r}),r},bq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wq=xq,jq=()=>Qn.toasts,_q=()=>Qn.getActiveToasts(),ke=Object.assign(wq,{success:Qn.success,info:Qn.info,warning:Qn.warning,error:Qn.error,custom:Qn.custom,message:Qn.message,promise:Qn.promise,dismiss:Qn.dismiss,loading:Qn.loading},{getHistory:jq,getToasts:_q});function Sq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Sq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bp(e){return e.label!==void 0}var Cq=3,Nq="32px",Pq="16px",Ik=4e3,kq=356,Eq=14,Aq=20,Oq=200;function Qa(...e){return e.filter(Boolean).join(" ")}function Tq(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Rq=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:y,interacting:g,setHeights:p,visibleToasts:v,heights:x,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:C,closeButton:P,style:N,cancelButtonStyle:O,actionButtonStyle:T,className:E="",descriptionClassName:R="",duration:k,position:A,gap:$,loadingIcon:M,expandByDefault:L,classNames:B,icons:z,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:ee}=e,[se,U]=I.useState(null),[q,G]=I.useState(null),[H,fe]=I.useState(!1),[D,Y]=I.useState(!1),[V,Z]=I.useState(!1),[te,be]=I.useState(!1),[Re,We]=I.useState(!1),[ge,Ne]=I.useState(0),[Xe,F]=I.useState(0),J=I.useRef(m.duration||k||Ik),oe=I.useRef(null),K=I.useRef(null),ie=b===0,ve=b+1<=v,de=m.type,Me=m.dismissible!==!1,Ze=m.className||"",ft=m.descriptionClassName||"",Ge=I.useMemo(()=>x.findIndex(rt=>rt.toastId===m.id)||0,[x,m.id]),yt=I.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:P},[m.closeButton,P]),he=I.useMemo(()=>m.duration||k||Ik,[m.duration,k]),ze=I.useRef(0),it=I.useRef(0),It=I.useRef(0),xt=I.useRef(null),[ht,sn]=A.split("-"),Gr=I.useMemo(()=>x.reduce((rt,Ot,Zt)=>Zt>=Ge?rt:rt+Ot.height,0),[x,Ge]),jn=vq(),ll=m.invert||h,Hs=de==="loading";it.current=I.useMemo(()=>Ge*$+Gr,[Ge,Gr]),I.useEffect(()=>{J.current=he},[he]),I.useEffect(()=>{fe(!0)},[]),I.useEffect(()=>{let rt=K.current;if(rt){let Ot=rt.getBoundingClientRect().height;return F(Ot),p(Zt=>[{toastId:m.id,height:Ot,position:m.position},...Zt]),()=>p(Zt=>Zt.filter(_n=>_n.toastId!==m.id))}},[p,m.id]),I.useLayoutEffect(()=>{if(!H)return;let rt=K.current,Ot=rt.style.height;rt.style.height="auto";let Zt=rt.getBoundingClientRect().height;rt.style.height=Ot,F(Zt),p(_n=>_n.find(Dn=>Dn.toastId===m.id)?_n.map(Dn=>Dn.toastId===m.id?{...Dn,height:Zt}:Dn):[{toastId:m.id,height:Zt,position:m.position},..._n])},[H,m.title,m.description,p,m.id]);let Pa=I.useCallback(()=>{Y(!0),Ne(it.current),p(rt=>rt.filter(Ot=>Ot.toastId!==m.id)),setTimeout(()=>{S(m)},Oq)},[m,S,p,it]);I.useEffect(()=>{if(m.promise&&de==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return j||g||ee&&jn?(()=>{if(It.current<ze.current){let Ot=new Date().getTime()-ze.current;J.current=J.current-Ot}It.current=new Date().getTime()})():J.current!==1/0&&(ze.current=new Date().getTime(),rt=setTimeout(()=>{var Ot;(Ot=m.onAutoClose)==null||Ot.call(m,m),Pa()},J.current)),()=>clearTimeout(rt)},[j,g,m,de,ee,jn,Pa]),I.useEffect(()=>{m.delete&&Pa()},[Pa,m.delete]);function hf(){var rt,Ot,Zt;return z!=null&&z.loading?I.createElement("div",{className:Qa(B==null?void 0:B.loader,(rt=m==null?void 0:m.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":de==="loading"},z.loading):M?I.createElement("div",{className:Qa(B==null?void 0:B.loader,(Ot=m==null?void 0:m.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":de==="loading"},M):I.createElement(dq,{className:Qa(B==null?void 0:B.loader,(Zt=m==null?void 0:m.classNames)==null?void 0:Zt.loader),visible:de==="loading"})}return I.createElement("li",{tabIndex:0,ref:K,className:Qa(E,Ze,B==null?void 0:B.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[de],(r=m==null?void 0:m.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":Re,"data-removed":D,"data-visible":ve,"data-y-position":ht,"data-x-position":sn,"data-index":b,"data-front":ie,"data-swiping":V,"data-dismissible":Me,"data-type":de,"data-invert":ll,"data-swipe-out":te,"data-swipe-direction":q,"data-expanded":!!(j||L&&H),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${D?ge:it.current}px`,"--initial-height":L?"auto":`${Xe}px`,...N,...m.style},onDragEnd:()=>{Z(!1),U(null),xt.current=null},onPointerDown:rt=>{Hs||!Me||(oe.current=new Date,Ne(it.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(Z(!0),xt.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,Ot,Zt,_n;if(te||!Me)return;xt.current=null;let Dn=Number(((rt=K.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mn=Number(((Ot=K.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),X=new Date().getTime()-((Zt=oe.current)==null?void 0:Zt.getTime()),le=se==="x"?Dn:mn,ae=Math.abs(le)/X;if(Math.abs(le)>=Aq||ae>.11){Ne(it.current),(_n=m.onDismiss)==null||_n.call(m,m),G(se==="x"?Dn>0?"right":"left":mn>0?"down":"up"),Pa(),be(!0),We(!1);return}Z(!1),U(null)},onPointerMove:rt=>{var Ot,Zt,_n,Dn;if(!xt.current||!Me||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;let mn=rt.clientY-xt.current.y,X=rt.clientX-xt.current.x,le=(Zt=e.swipeDirections)!=null?Zt:Tq(A);!se&&(Math.abs(X)>1||Math.abs(mn)>1)&&U(Math.abs(X)>Math.abs(mn)?"x":"y");let ae={x:0,y:0};se==="y"?(le.includes("top")||le.includes("bottom"))&&(le.includes("top")&&mn<0||le.includes("bottom")&&mn>0)&&(ae.y=mn):se==="x"&&(le.includes("left")||le.includes("right"))&&(le.includes("left")&&X<0||le.includes("right")&&X>0)&&(ae.x=X),(Math.abs(ae.x)>0||Math.abs(ae.y)>0)&&We(!0),(_n=K.current)==null||_n.style.setProperty("--swipe-amount-x",`${ae.x}px`),(Dn=K.current)==null||Dn.style.setProperty("--swipe-amount-y",`${ae.y}px`)}},yt&&!m.jsx?I.createElement("button",{"aria-label":Q,"data-disabled":Hs,"data-close-button":!0,onClick:Hs||!Me?()=>{}:()=>{var rt;Pa(),(rt=m.onDismiss)==null||rt.call(m,m)},className:Qa(B==null?void 0:B.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=z==null?void 0:z.close)!=null?i:gq):null,m.jsx||w.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:I.createElement(I.Fragment,null,de||m.icon||m.promise?I.createElement("div",{"data-icon":"",className:Qa(B==null?void 0:B.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||hf():null,m.type!=="loading"?m.icon||(z==null?void 0:z[de])||cq(de):null):null,I.createElement("div",{"data-content":"",className:Qa(B==null?void 0:B.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:Qa(B==null?void 0:B.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?I.createElement("div",{"data-description":"",className:Qa(R,ft,B==null?void 0:B.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),w.isValidElement(m.cancel)?m.cancel:m.cancel&&Bp(m.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:rt=>{var Ot,Zt;Bp(m.cancel)&&Me&&((Zt=(Ot=m.cancel).onClick)==null||Zt.call(Ot,rt),Pa())},className:Qa(B==null?void 0:B.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,w.isValidElement(m.action)?m.action:m.action&&Bp(m.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:rt=>{var Ot,Zt;Bp(m.action)&&((Zt=(Ot=m.action).onClick)==null||Zt.call(Ot,rt),!rt.defaultPrevented&&Pa())},className:Qa(B==null?void 0:B.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Dk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mq(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Pq:Nq;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var $q=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:y=Cq,toastOptions:g,dir:p=Dk(),gap:v=Eq,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=I.useState([]),P=I.useMemo(()=>Array.from(new Set([n].concat(S.filter(ee=>ee.position).map(ee=>ee.position)))),[S,n]),[N,O]=I.useState([]),[T,E]=I.useState(!1),[R,k]=I.useState(!1),[A,$]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=I.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=I.useRef(null),z=I.useRef(!1),Q=I.useCallback(ee=>{C(se=>{var U;return(U=se.find(q=>q.id===ee.id))!=null&&U.delete||Qn.dismiss(ee.id),se.filter(({id:q})=>q!==ee.id)})},[]);return I.useEffect(()=>Qn.subscribe(ee=>{if(ee.dismiss){C(se=>se.map(U=>U.id===ee.id?{...U,delete:!0}:U));return}setTimeout(()=>{hI.flushSync(()=>{C(se=>{let U=se.findIndex(q=>q.id===ee.id);return U!==-1?[...se.slice(0,U),{...se[U],...ee},...se.slice(U+1)]:[ee,...se]})})})}),[]),I.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:se})=>{$(se?"dark":"light")})}catch{ee.addListener(({matches:U})=>{try{$(U?"dark":"light")}catch(q){console.error(q)}})}},[d]),I.useEffect(()=>{S.length<=1&&E(!1)},[S]),I.useEffect(()=>{let ee=se=>{var U,q;a.every(G=>se[G]||se.code===G)&&(E(!0),(U=M.current)==null||U.focus()),se.code==="Escape"&&(document.activeElement===M.current||(q=M.current)!=null&&q.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),I.useEffect(()=>{if(M.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,z.current=!1)}},[M.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ee,se)=>{var U;let[q,G]=ee.split("-");return S.length?I.createElement("ol",{key:ee,dir:p==="auto"?Dk():p,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":q,"data-lifted":T&&S.length>1&&!i,"data-x-position":G,style:{"--front-toast-height":`${((U=N[0])==null?void 0:U.height)||0}px`,"--width":`${kq}px`,"--gap":`${v}px`,...m,...Mq(c,u)},onBlur:H=>{z.current&&!H.currentTarget.contains(H.relatedTarget)&&(z.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||z.current||(z.current=!0,B.current=H.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{R||E(!1)},onDragEnd:()=>E(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},S.filter(H=>!H.position&&se===0||H.position===ee).map((H,fe)=>{var D,Y;return I.createElement(Rq,{key:H.id,icons:b,index:fe,toast:H,defaultRichColors:f,duration:(D=g==null?void 0:g.duration)!=null?D:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Y=g==null?void 0:g.closeButton)!=null?Y:o,interacting:R,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Q,toasts:S.filter(V=>V.position==H.position),heights:N.filter(V=>V.position==H.position),setHeights:O,expandByDefault:i,gap:v,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const Iq=({...e})=>{const{theme:t="system"}=lq();return s.jsx($q,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Dq=sS[" useId ".trim().toString()]||(()=>{}),Lq=0;function Ki(e){const[t,r]=w.useState(Dq());return fn(()=>{r(n=>n??String(Lq++))},[e]),t?`radix-${t}`:""}const Bq=["top","right","bottom","left"],zo=Math.min,ma=Math.max,dv=Math.round,Fp=Math.floor,Gi=e=>({x:e,y:e}),Fq={left:"right",right:"left",bottom:"top",top:"bottom"},zq={start:"end",end:"start"};function Bj(e,t,r){return ma(e,zo(t,r))}function As(e,t){return typeof e=="function"?e(t):e}function Os(e){return e.split("-")[0]}function Bd(e){return e.split("-")[1]}function iC(e){return e==="x"?"y":"x"}function sC(e){return e==="y"?"height":"width"}const Uq=new Set(["top","bottom"]);function Fi(e){return Uq.has(Os(e))?"y":"x"}function oC(e){return iC(Fi(e))}function Vq(e,t,r){r===void 0&&(r=!1);const n=Bd(e),a=oC(e),i=sC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=fv(o)),[o,fv(o)]}function Wq(e){const t=fv(e);return[Fj(e),t,Fj(t)]}function Fj(e){return e.replace(/start|end/g,t=>zq[t])}const Lk=["left","right"],Bk=["right","left"],Hq=["top","bottom"],qq=["bottom","top"];function Kq(e,t,r){switch(e){case"top":case"bottom":return r?t?Bk:Lk:t?Lk:Bk;case"left":case"right":return t?Hq:qq;default:return[]}}function Gq(e,t,r,n){const a=Bd(e);let i=Kq(Os(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Fj)))),i}function fv(e){return e.replace(/left|right|bottom|top/g,t=>Fq[t])}function Yq(e){return{top:0,right:0,bottom:0,left:0,...e}}function pD(e){return typeof e!="number"?Yq(e):{top:e,right:e,bottom:e,left:e}}function hv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Fk(e,t,r){let{reference:n,floating:a}=e;const i=Fi(t),o=oC(t),l=sC(o),c=Os(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Bd(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Xq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Fk(u,n,c),h=n,m={},y=0;for(let g=0;g<l.length;g++){const{name:p,fn:v}=l[g],{x,y:b,data:_,reset:j}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,m={...m,[p]:{...m[p],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=Fk(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Uh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=As(t,e),y=pD(m),p=l[h?f==="floating"?"reference":"floating":f],v=hv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=hv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-j.top+y.top)/_.y,bottom:(j.bottom-v.bottom+y.bottom)/_.y,left:(v.left-j.left+y.left)/_.x,right:(j.right-v.right+y.right)/_.x}}const Zq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=As(e,t)||{};if(u==null)return{};const f=pD(d),h={x:r,y:n},m=oC(a),y=sC(m),g=await o.getDimensions(u),p=m==="y",v=p?"top":"left",x=p?"bottom":"right",b=p?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const P=_/2-j/2,N=C/2-g[y]/2-1,O=zo(f[v],N),T=zo(f[x],N),E=O,R=C-g[y]-T,k=C/2-g[y]/2+P,A=Bj(E,k,R),$=!c.arrow&&Bd(a)!=null&&k!==A&&i.reference[y]/2-(k<E?O:T)-g[y]/2<0,M=$?k<E?k-E:k-R:0;return{[m]:h[m]+M,data:{[m]:A,centerOffset:k-A-M,...$&&{alignmentOffset:M}},reset:$}}}),Qq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...p}=As(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Os(a),x=Fi(l),b=Os(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!g?[fv(l)]:Wq(l)),S=y!=="none";!h&&S&&j.push(...Gq(l,g,y,_));const C=[l,...j],P=await Uh(t,p),N=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&N.push(P[v]),f){const k=Vq(a,o,_);N.push(P[k[0]],P[k[1]])}if(O=[...O,{placement:a,overflows:N}],!N.every(k=>k<=0)){var T,E;const k=(((T=i.flip)==null?void 0:T.index)||0)+1,A=C[k];if(A&&(!(f==="alignment"?x!==Fi(A):!1)||O.every(L=>L.overflows[0]>0&&Fi(L.placement)===x)))return{data:{index:k,overflows:O},reset:{placement:A}};let $=(E=O.filter(M=>M.overflows[0]<=0).sort((M,L)=>M.overflows[1]-L.overflows[1])[0])==null?void 0:E.placement;if(!$)switch(m){case"bestFit":{var R;const M=(R=O.filter(L=>{if(S){const B=Fi(L.placement);return B===x||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,z)=>B+z,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:R[0];M&&($=M);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function zk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Uk(e){return Bq.some(t=>e[t]>=0)}const Jq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=As(e,t);switch(n){case"referenceHidden":{const i=await Uh(t,{...a,elementContext:"reference"}),o=zk(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Uk(o)}}}case"escaped":{const i=await Uh(t,{...a,altBoundary:!0}),o=zk(i,r.floating);return{data:{escapedOffsets:o,escaped:Uk(o)}}}default:return{}}}}},gD=new Set(["left","top"]);async function e9(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Os(r),l=Bd(r),c=Fi(r)==="y",u=gD.has(o)?-1:1,d=i&&c?-1:1,f=As(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const t9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await e9(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},r9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:v,y:x}=p;return{x:v,y:x}}},...c}=As(e,t),u={x:r,y:n},d=await Uh(t,c),f=Fi(Os(a)),h=iC(f);let m=u[h],y=u[f];if(i){const p=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=m+d[p],b=m-d[v];m=Bj(x,m,b)}if(o){const p=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+d[p],b=y-d[v];y=Bj(x,y,b)}const g=l.fn({...t,[h]:m,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},n9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=As(e,t),d={x:r,y:n},f=Fi(a),h=iC(f);let m=d[h],y=d[f];const g=As(l,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+p.mainAxis,j=i.reference[h]+i.reference[b]-p.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var v,x;const b=h==="y"?"width":"height",_=gD.has(Os(a)),j=i.reference[f]-i.floating[b]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:p.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?p.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[f]:y}}}},a9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=As(e,t),d=await Uh(t,u),f=Os(a),h=Bd(a),m=Fi(a)==="y",{width:y,height:g}=i.floating;let p,v;f==="top"||f==="bottom"?(p=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,p=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=y-d.left-d.right,_=zo(g-d[p],x),j=zo(y-d[v],b),S=!t.middlewareData.shift;let C=_,P=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const O=ma(d.left,0),T=ma(d.right,0),E=ma(d.top,0),R=ma(d.bottom,0);m?P=y-2*(O!==0||T!==0?O+T:ma(d.left,d.right)):C=g-2*(E!==0||R!==0?E+R:ma(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const N=await o.getDimensions(l.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function gx(){return typeof window<"u"}function Fd(e){return vD(e)?(e.nodeName||"").toLowerCase():"#document"}function xa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ts(e){var t;return(t=(vD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vD(e){return gx()?e instanceof Node||e instanceof xa(e).Node:!1}function Si(e){return gx()?e instanceof Element||e instanceof xa(e).Element:!1}function Qi(e){return gx()?e instanceof HTMLElement||e instanceof xa(e).HTMLElement:!1}function Vk(e){return!gx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xa(e).ShadowRoot}const i9=new Set(["inline","contents"]);function ap(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!i9.has(a)}const s9=new Set(["table","td","th"]);function o9(e){return s9.has(Fd(e))}const l9=[":popover-open",":modal"];function vx(e){return l9.some(t=>{try{return e.matches(t)}catch{return!1}})}const c9=["transform","translate","scale","rotate","perspective"],u9=["transform","translate","scale","rotate","perspective","filter"],d9=["paint","layout","strict","content"];function lC(e){const t=cC(),r=Si(e)?Ci(e):e;return c9.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||u9.some(n=>(r.willChange||"").includes(n))||d9.some(n=>(r.contain||"").includes(n))}function f9(e){let t=Uo(e);for(;Qi(t)&&!Hu(t);){if(lC(t))return t;if(vx(t))return null;t=Uo(t)}return null}function cC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const h9=new Set(["html","body","#document"]);function Hu(e){return h9.has(Fd(e))}function Ci(e){return xa(e).getComputedStyle(e)}function yx(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uo(e){if(Fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vk(e)&&e.host||ts(e);return Vk(t)?t.host:t}function yD(e){const t=Uo(e);return Hu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qi(t)&&ap(t)?t:yD(t)}function Vh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=yD(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=xa(a);if(i){const l=zj(o);return t.concat(o,o.visualViewport||[],ap(a)?a:[],l&&r?Vh(l):[])}return t.concat(a,Vh(a,[],r))}function zj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xD(e){const t=Ci(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Qi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=dv(r)!==i||dv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function uC(e){return Si(e)?e:e.contextElement}function bu(e){const t=uC(e);if(!Qi(t))return Gi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=xD(t);let o=(i?dv(r.width):r.width)/n,l=(i?dv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const m9=Gi(0);function bD(e){const t=xa(e);return!cC()||!t.visualViewport?m9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function p9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xa(e)?!1:t}function rc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=uC(e);let o=Gi(1);t&&(n?Si(n)&&(o=bu(n)):o=bu(e));const l=p9(i,r,n)?bD(i):Gi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=xa(i),m=n&&Si(n)?xa(n):n;let y=h,g=zj(y);for(;g&&n&&m!==y;){const p=bu(g),v=g.getBoundingClientRect(),x=Ci(g),b=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,_=v.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;c*=p.x,u*=p.y,d*=p.x,f*=p.y,c+=b,u+=_,y=xa(g),g=zj(y)}}return hv({width:d,height:f,x:c,y:u})}function dC(e,t){const r=yx(e).scrollLeft;return t?t.left+r:rc(ts(e)).left+r}function wD(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:dC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function g9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ts(n),l=t?vx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Gi(1);const d=Gi(0),f=Qi(n);if((f||!f&&!i)&&((Fd(n)!=="body"||ap(o))&&(c=yx(n)),Qi(n))){const m=rc(n);u=bu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?wD(o,c,!0):Gi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function v9(e){return Array.from(e.getClientRects())}function y9(e){const t=ts(e),r=yx(e),n=e.ownerDocument.body,a=ma(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ma(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dC(e);const l=-r.scrollTop;return Ci(n).direction==="rtl"&&(o+=ma(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function x9(e,t){const r=xa(e),n=ts(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=cC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const b9=new Set(["absolute","fixed"]);function w9(e,t){const r=rc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Qi(e)?bu(e):Gi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Wk(e,t,r){let n;if(t==="viewport")n=x9(e,r);else if(t==="document")n=y9(ts(e));else if(Si(t))n=w9(t,r);else{const a=bD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return hv(n)}function jD(e,t){const r=Uo(e);return r===t||!Si(r)||Hu(r)?!1:Ci(r).position==="fixed"||jD(r,t)}function j9(e,t){const r=t.get(e);if(r)return r;let n=Vh(e,[],!1).filter(l=>Si(l)&&Fd(l)!=="body"),a=null;const i=Ci(e).position==="fixed";let o=i?Uo(e):e;for(;Si(o)&&!Hu(o);){const l=Ci(o),c=lC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&b9.has(a.position)||ap(o)&&!c&&jD(e,o))?n=n.filter(d=>d!==o):a=l,o=Uo(o)}return t.set(e,n),n}function _9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?vx(t)?[]:j9(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Wk(t,d,a);return u.top=ma(f.top,u.top),u.right=zo(f.right,u.right),u.bottom=zo(f.bottom,u.bottom),u.left=ma(f.left,u.left),u},Wk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function S9(e){const{width:t,height:r}=xD(e);return{width:t,height:r}}function C9(e,t,r){const n=Qi(t),a=ts(t),i=r==="fixed",o=rc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Gi(0);function u(){c.x=dC(a)}if(n||!n&&!i)if((Fd(t)!=="body"||ap(a))&&(l=yx(t)),n){const m=rc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?wD(a,l):Gi(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Eb(e){return Ci(e).position==="static"}function Hk(e,t){if(!Qi(e)||Ci(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ts(e)===r&&(r=r.ownerDocument.body),r}function _D(e,t){const r=xa(e);if(vx(e))return r;if(!Qi(e)){let a=Uo(e);for(;a&&!Hu(a);){if(Si(a)&&!Eb(a))return a;a=Uo(a)}return r}let n=Hk(e,t);for(;n&&o9(n)&&Eb(n);)n=Hk(n,t);return n&&Hu(n)&&Eb(n)&&!lC(n)?r:n||f9(e)||r}const N9=async function(e){const t=this.getOffsetParent||_D,r=this.getDimensions,n=await r(e.floating);return{reference:C9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function P9(e){return Ci(e).direction==="rtl"}const k9={convertOffsetParentRelativeRectToViewportRelativeRect:g9,getDocumentElement:ts,getClippingRect:_9,getOffsetParent:_D,getElementRects:N9,getClientRects:v9,getDimensions:S9,getScale:bu,isElement:Si,isRTL:P9};function SD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function E9(e,t){let r=null,n;const a=ts(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=Fp(f),g=Fp(a.clientWidth-(d+h)),p=Fp(a.clientHeight-(f+m)),v=Fp(d),b={rootMargin:-y+"px "+-g+"px "+-p+"px "+-v+"px",threshold:ma(0,zo(1,c))||1};let _=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!SD(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function A9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=uC(e),d=a||i?[...u?Vh(u):[],...Vh(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?E9(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?rc(e):null;c&&p();function p(){const v=rc(e);g&&!SD(g,v)&&r(),g=v,y=requestAnimationFrame(p)}return r(),()=>{var v;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const O9=t9,T9=r9,R9=Qq,M9=a9,$9=Jq,qk=Zq,I9=n9,D9=(e,t,r)=>{const n=new Map,a={platform:k9,...r},i={...a.platform,_c:n};return Xq(e,t,{...a,platform:i})};var L9=typeof document<"u",B9=function(){},Rg=L9?w.useLayoutEffect:B9;function mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!mv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kk(e,t){const r=CD(e);return Math.round(t*r)/r}function Ab(e){const t=w.useRef(e);return Rg(()=>{t.current=e}),t}function F9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);mv(h,n)||m(n);const[y,g]=w.useState(null),[p,v]=w.useState(null),x=w.useCallback(L=>{L!==S.current&&(S.current=L,g(L))},[]),b=w.useCallback(L=>{L!==C.current&&(C.current=L,v(L))},[]),_=i||y,j=o||p,S=w.useRef(null),C=w.useRef(null),P=w.useRef(d),N=c!=null,O=Ab(c),T=Ab(a),E=Ab(u),R=w.useCallback(()=>{if(!S.current||!C.current)return;const L={placement:t,strategy:r,middleware:h};T.current&&(L.platform=T.current),D9(S.current,C.current,L).then(B=>{const z={...B,isPositioned:E.current!==!1};k.current&&!mv(P.current,z)&&(P.current=z,mc.flushSync(()=>{f(z)}))})},[h,t,r,T,E]);Rg(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const k=w.useRef(!1);Rg(()=>(k.current=!0,()=>{k.current=!1}),[]),Rg(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(O.current)return O.current(_,j,R);R()}},[_,j,R,O,N]);const A=w.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),$=w.useMemo(()=>({reference:_,floating:j}),[_,j]),M=w.useMemo(()=>{const L={position:r,left:0,top:0};if(!$.floating)return L;const B=Kk($.floating,d.x),z=Kk($.floating,d.y);return l?{...L,transform:"translate("+B+"px, "+z+"px)",...CD($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:z}},[r,l,$.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:R,refs:A,elements:$,floatingStyles:M}),[d,R,A,$,M])}const z9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qk({element:n.current,padding:a}).fn(r):{}:n?qk({element:n,padding:a}).fn(r):{}}}},U9=(e,t)=>({...O9(e),options:[e,t]}),V9=(e,t)=>({...T9(e),options:[e,t]}),W9=(e,t)=>({...I9(e),options:[e,t]}),H9=(e,t)=>({...R9(e),options:[e,t]}),q9=(e,t)=>({...M9(e),options:[e,t]}),K9=(e,t)=>({...$9(e),options:[e,t]}),G9=(e,t)=>({...z9(e),options:[e,t]});var Y9="Arrow",ND=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ve.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});ND.displayName=Y9;var X9=ND;function xx(e){const[t,r]=w.useState(void 0);return fn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fC="Popper",[PD,zd]=Yn(fC),[Z9,kD]=PD(fC),ED=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return s.jsx(Z9,{scope:t,anchor:n,onAnchorChange:a,children:r})};ED.displayName=fC;var AD="PopperAnchor",OD=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=kD(AD,r),o=w.useRef(null),l=dt(t,o);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ve.div,{...a,ref:l})});OD.displayName=AD;var hC="PopperContent",[Q9,J9]=PD(hC),TD=w.forwardRef((e,t)=>{var H,fe,D,Y,V,Z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,p=kD(hC,r),[v,x]=w.useState(null),b=dt(t,te=>x(te)),[_,j]=w.useState(null),S=xx(_),C=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,N=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],E=T.length>0,R={padding:O,boundary:T.filter(t7),altBoundary:E},{refs:k,floatingStyles:A,placement:$,isPositioned:M,middlewareData:L}=F9({strategy:"fixed",placement:N,whileElementsMounted:(...te)=>A9(...te,{animationFrame:m==="always"}),elements:{reference:p.anchor},middleware:[U9({mainAxis:a+P,alignmentAxis:o}),c&&V9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?W9():void 0,...R}),c&&H9({...R}),q9({...R,apply:({elements:te,rects:be,availableWidth:Re,availableHeight:We})=>{const{width:ge,height:Ne}=be.reference,Xe=te.floating.style;Xe.setProperty("--radix-popper-available-width",`${Re}px`),Xe.setProperty("--radix-popper-available-height",`${We}px`),Xe.setProperty("--radix-popper-anchor-width",`${ge}px`),Xe.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),_&&G9({element:_,padding:l}),r7({arrowWidth:C,arrowHeight:P}),h&&K9({strategy:"referenceHidden",...R})]}),[B,z]=$D($),Q=en(y);fn(()=>{M&&(Q==null||Q())},[M,Q]);const ee=(H=L.arrow)==null?void 0:H.x,se=(fe=L.arrow)==null?void 0:fe.y,U=((D=L.arrow)==null?void 0:D.centerOffset)!==0,[q,G]=w.useState();return fn(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:M?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Y=L.transformOrigin)==null?void 0:Y.x,(V=L.transformOrigin)==null?void 0:V.y].join(" "),...((Z=L.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Q9,{scope:r,placedSide:B,onArrowChange:j,arrowX:ee,arrowY:se,shouldHideArrow:U,children:s.jsx(Ve.div,{"data-side":B,"data-align":z,...g,ref:b,style:{...g.style,animation:M?void 0:"none"}})})})});TD.displayName=hC;var RD="PopperArrow",e7={top:"bottom",right:"left",bottom:"top",left:"right"},MD=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=J9(RD,n),o=e7[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(X9,{...a,ref:r,style:{...a.style,display:"block"}})})});MD.displayName=RD;function t7(e){return e!==null}var r7=e=>({name:"transformOrigin",options:e,fn(t){var p,v,x;const{placement:r,rects:n,middlewareData:a}=t,o=((p=a.arrow)==null?void 0:p.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$D(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function $D(e){const[t,r="center"]=e.split("-");return[t,r]}var mC=ED,bx=OD,pC=TD,gC=MD,[wx,T2e]=Yn("Tooltip",[zd]),jx=zd(),ID="TooltipProvider",n7=700,Uj="tooltip.open",[a7,vC]=wx(ID),DD=e=>{const{__scopeTooltip:t,delayDuration:r=n7,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(a7,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};DD.displayName=ID;var Wh="Tooltip",[i7,_x]=wx(Wh),LD=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=vC(Wh,e.__scopeTooltip),u=jx(t),[d,f]=w.useState(null),h=Ki(),m=w.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,p=w.useRef(!1),[v,x]=ia({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Uj))):c.onClose(),i==null||i(C)},caller:Wh}),b=w.useMemo(()=>v?p.current?"delayed-open":"instant-open":"closed",[v]),_=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,p.current=!1,x(!0)},[x]),j=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{p.current=!0,x(!0),m.current=0},g)},[g,x]);return w.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(mC,{...u,children:s.jsx(i7,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:w.useCallback(()=>{y?j():(window.clearTimeout(m.current),m.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};LD.displayName=Wh;var Vj="TooltipTrigger",BD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_x(Vj,r),i=vC(Vj,r),o=jx(r),l=w.useRef(null),c=dt(t,l,a.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(bx,{asChild:!0,...o,children:s.jsx(Ve.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Oe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Oe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Oe(e.onBlur,a.onClose),onClick:Oe(e.onClick,a.onClose)})})});BD.displayName=Vj;var s7="TooltipPortal",[R2e,o7]=wx(s7,{forceMount:void 0}),qu="TooltipContent",FD=w.forwardRef((e,t)=>{const r=o7(qu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=_x(qu,e.__scopeTooltip);return s.jsx(sa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(zD,{side:a,...i,ref:t}):s.jsx(l7,{side:a,...i,ref:t})})}),l7=w.forwardRef((e,t)=>{const r=_x(qu,e.__scopeTooltip),n=vC(qu,e.__scopeTooltip),a=w.useRef(null),i=dt(t,a),[o,l]=w.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{l(null),f(!1)},[f]),m=w.useCallback((y,g)=>{const p=y.currentTarget,v={x:y.clientX,y:y.clientY},x=h7(v,p.getBoundingClientRect()),b=m7(v,x),_=p7(g.getBoundingClientRect()),j=v7([...b,..._]);l(j),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const y=p=>m(p,d),g=p=>m(p,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),w.useEffect(()=>{if(o){const y=g=>{const p=g.target,v={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(p))||(d==null?void 0:d.contains(p)),b=!g7(v,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(zD,{...e,ref:i})}),[c7,u7]=wx(Wh,{isInside:!1}),d7=yI("TooltipContent"),zD=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=_x(qu,r),u=jx(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(Uj,d),()=>document.removeEventListener(Uj,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx($d,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(pC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(d7,{children:n}),s.jsx(c7,{scope:r,isInside:!0,children:s.jsx(kW,{id:c.contentId,role:"tooltip",children:a||n})})]})})});FD.displayName=qu;var UD="TooltipArrow",f7=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=jx(r);return u7(UD,r).isInside?null:s.jsx(gC,{...a,...n,ref:t})});f7.displayName=UD;function h7(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function m7(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function p7(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function g7(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function v7(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),y7(t)}function y7(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var x7=DD,b7=LD,w7=BD,VD=FD;const j7=x7,_7=b7,S7=w7,WD=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(VD,{ref:n,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));WD.displayName=VD.displayName;var Sx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cx=typeof window>"u"||"Deno"in globalThis;function ni(){}function C7(e,t){return typeof e=="function"?e(t):e}function N7(e){return typeof e=="number"&&e>=0&&e!==1/0}function P7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wj(e,t){return typeof e=="function"?e(t):e}function k7(e,t){return typeof e=="function"?e(t):e}function Gk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yC(o,t.options))return!1}else if(!qh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Yk(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Hh(t.options.mutationKey)!==Hh(i))return!1}else if(!qh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hh)(e)}function Hh(e){return JSON.stringify(e,(t,r)=>Hj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function qh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>qh(e[r],t[r])):!1}function HD(e,t){if(e===t)return e;const r=Xk(e)&&Xk(t);if(r||Hj(e)&&Hj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=HD(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Xk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hj(e){if(!Zk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Zk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zk(e){return Object.prototype.toString.call(e)==="[object Object]"}function E7(e){return new Promise(t=>{setTimeout(t,e)})}function A7(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?HD(e,t):t}function O7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function T7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var xC=Symbol();function qD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Dl,lo,ku,KR,R7=(KR=class extends Sx{constructor(){super();Tt(this,Dl);Tt(this,lo);Tt(this,ku);gt(this,ku,t=>{if(!Cx&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,lo)||this.setEventListener(ye(this,ku))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,lo))==null||t.call(this),gt(this,lo,void 0))}setEventListener(t){var r;gt(this,ku,t),(r=ye(this,lo))==null||r.call(this),gt(this,lo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,Dl)!==t&&(gt(this,Dl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ye(this,Dl)=="boolean"?ye(this,Dl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Dl=new WeakMap,lo=new WeakMap,ku=new WeakMap,KR),KD=new R7,Eu,co,Au,GR,M7=(GR=class extends Sx{constructor(){super();Tt(this,Eu,!0);Tt(this,co);Tt(this,Au);gt(this,Au,t=>{if(!Cx&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,co)||this.setEventListener(ye(this,Au))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,co))==null||t.call(this),gt(this,co,void 0))}setEventListener(t){var r;gt(this,Au,t),(r=ye(this,co))==null||r.call(this),gt(this,co,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Eu)!==t&&(gt(this,Eu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Eu)}},Eu=new WeakMap,co=new WeakMap,Au=new WeakMap,GR),pv=new M7;function $7(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function I7(e){return Math.min(1e3*2**e,3e4)}function GD(e){return(e??"online")==="online"?pv.isOnline():!0}var YD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ob(e){return e instanceof YD}function XD(e){let t=!1,r=0,n=!1,a;const i=$7(),o=g=>{var p;n||(h(new YD(g)),(p=e.abort)==null||p.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>KD.isFocused()&&(e.networkMode==="always"||pv.isOnline())&&e.canRun(),d=()=>GD(e.networkMode)&&e.canRun(),f=g=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,g),a==null||a(),i.resolve(g))},h=g=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,g),a==null||a(),i.reject(g))},m=()=>new Promise(g=>{var p;a=v=>{(n||u())&&g(v)},(p=e.onPause)==null||p.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const p=r===0?e.initialPromise:void 0;try{g=p??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var S;if(n)return;const x=e.retry??(Cx?0:3),b=e.retryDelay??I7,_=typeof b=="function"?b(r,v):b,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!j){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),E7(_).then(()=>u()?void 0:m()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var D7=e=>setTimeout(e,0);function L7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=D7;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var zn=L7(),Ll,YR,ZD=(YR=class{constructor(){Tt(this,Ll)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N7(this.gcTime)&&gt(this,Ll,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cx?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Ll)&&(clearTimeout(ye(this,Ll)),gt(this,Ll,void 0))}},Ll=new WeakMap,YR),Ou,Bl,Ta,Fl,En,Gm,zl,si,us,XR,B7=(XR=class extends ZD{constructor(t){super();Tt(this,si);Tt(this,Ou);Tt(this,Bl);Tt(this,Ta);Tt(this,Fl);Tt(this,En);Tt(this,Gm);Tt(this,zl);gt(this,zl,!1),gt(this,Gm,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,Fl,t.client),gt(this,Ta,ye(this,Fl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,Ou,z7(this.options)),this.state=t.state??ye(this,Ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,En))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,Gm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,Ta).remove(this)}setData(t,r){const n=A7(this.state.data,t,this.options);return Sn(this,si,us).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Sn(this,si,us).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ye(this,En))==null?void 0:n.promise;return(a=ye(this,En))==null||a.cancel(t),r?r.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,Ou))}isActive(){return this.observers.some(t=>k7(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wj(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!P7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,En))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,En))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,Ta).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,En)&&(ye(this,zl)?ye(this,En).cancel({revert:!0}):ye(this,En).cancelRetry()),this.scheduleGc()),ye(this,Ta).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,si,us).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,En))return ye(this,En).continueRetry(),ye(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(gt(this,zl,!0),n.signal)})},i=()=>{const h=qD(this.options,r),y=(()=>{const g={client:ye(this,Fl),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return gt(this,zl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,Fl),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),gt(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Sn(this,si,us).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,y,g,p;Ob(h)&&h.silent||Sn(this,si,us).call(this,{type:"error",error:h}),Ob(h)||((y=(m=ye(this,Ta).config).onError)==null||y.call(m,h,this),(p=(g=ye(this,Ta).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return gt(this,En,XD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,y,g,p;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(m=ye(this,Ta).config).onSuccess)==null||y.call(m,h,this),(p=(g=ye(this,Ta).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Sn(this,si,us).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Sn(this,si,us).call(this,{type:"pause"})},onContinue:()=>{Sn(this,si,us).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ye(this,En).start()}},Ou=new WeakMap,Bl=new WeakMap,Ta=new WeakMap,Fl=new WeakMap,En=new WeakMap,Gm=new WeakMap,zl=new WeakMap,si=new WeakSet,us=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...F7(n.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,Bl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Ob(a)&&a.revert&&ye(this,Bl)?{...ye(this,Bl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,Ta).notify({query:this,type:"updated",action:t})})},XR);function F7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function z7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ri,ZR,U7=(ZR=class extends Sx{constructor(t={}){super();Tt(this,Ri);this.config=t,gt(this,Ri,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??yC(a,r);let o=this.get(i);return o||(o=new B7({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ye(this,Ri).has(t.queryHash)||(ye(this,Ri).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Ri).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Ri).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Ri).get(t)}getAll(){return[...ye(this,Ri).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Gk(t,n)):r}notify(t){zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ri=new WeakMap,ZR),Mi,Ln,Ul,$i,Xs,QR,V7=(QR=class extends ZD{constructor(t){super();Tt(this,$i);Tt(this,Mi);Tt(this,Ln);Tt(this,Ul);this.mutationId=t.mutationId,gt(this,Ln,t.mutationCache),gt(this,Mi,[]),this.state=t.state||W7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,Mi).includes(t)||(ye(this,Mi).push(t),this.clearGcTimeout(),ye(this,Ln).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,Mi,ye(this,Mi).filter(r=>r!==t)),this.scheduleGc(),ye(this,Ln).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,Mi).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Ln).remove(this))}continue(){var t;return((t=ye(this,Ul))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,y,g,p,v,x,b,_,j,S,C,P;const r=()=>{Sn(this,$i,Xs).call(this,{type:"continue"})};gt(this,Ul,XD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Sn(this,$i,Xs).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Sn(this,$i,Xs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Ln).canRun(this)}));const n=this.state.status==="pending",a=!ye(this,Ul).canStart();try{if(n)r();else{Sn(this,$i,Xs).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=ye(this,Ln).config).onMutate)==null?void 0:o.call(i,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&Sn(this,$i,Xs).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const N=await ye(this,Ul).start();return await((d=(u=ye(this,Ln).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((y=(m=ye(this,Ln).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,N,null,t,this.state.context)),Sn(this,$i,Xs).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(v=ye(this,Ln).config).onError)==null?void 0:x.call(v,N,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,t,this.state.context)),await((S=(j=ye(this,Ln).config).onSettled)==null?void 0:S.call(j,void 0,N,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,N,t,this.state.context)),N}finally{Sn(this,$i,Xs).call(this,{type:"error",error:N})}}finally{ye(this,Ln).runNext(this)}}},Mi=new WeakMap,Ln=new WeakMap,Ul=new WeakMap,$i=new WeakSet,Xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zn.batch(()=>{ye(this,Mi).forEach(n=>{n.onMutationUpdate(t)}),ye(this,Ln).notify({mutation:this,type:"updated",action:t})})},QR);function W7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,oi,Ym,JR,H7=(JR=class extends Sx{constructor(t={}){super();Tt(this,ps);Tt(this,oi);Tt(this,Ym);this.config=t,gt(this,ps,new Set),gt(this,oi,new Map),gt(this,Ym,0)}build(t,r,n){const a=new V7({mutationCache:this,mutationId:++yp(this,Ym)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ye(this,ps).add(t);const r=zp(t);if(typeof r=="string"){const n=ye(this,oi).get(r);n?n.push(t):ye(this,oi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,ps).delete(t)){const r=zp(t);if(typeof r=="string"){const n=ye(this,oi).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ye(this,oi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zp(t);if(typeof r=="string"){const n=ye(this,oi).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=zp(t);if(typeof r=="string"){const a=(n=ye(this,oi).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{ye(this,ps).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,ps).clear(),ye(this,oi).clear()})}getAll(){return Array.from(ye(this,ps))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Yk(r,n))}findAll(t={}){return this.getAll().filter(r=>Yk(t,r))}notify(t){zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ni))))}},ps=new WeakMap,oi=new WeakMap,Ym=new WeakMap,JR);function zp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Qk(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=qD(t.options,t.fetchOptions),x=async(b,_,j)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return p(T),T})(),P=await v(C),{maxPages:N}=t.options,O=j?T7:O7;return{pages:O(b.pages,P,N),pageParams:O(b.pageParams,_,N)}};if(a&&i.length){const b=a==="backward",_=b?q7:Jk,j={pages:i,pageParams:o},S=_(n,j);l=await x(j,S,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Jk(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,p;return(p=(g=t.options).persister)==null?void 0:p.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Jk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function q7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Tr,uo,fo,Tu,Ru,ho,Mu,$u,eM,K7=(eM=class{constructor(e={}){Tt(this,Tr);Tt(this,uo);Tt(this,fo);Tt(this,Tu);Tt(this,Ru);Tt(this,ho);Tt(this,Mu);Tt(this,$u);gt(this,Tr,e.queryCache||new U7),gt(this,uo,e.mutationCache||new H7),gt(this,fo,e.defaultOptions||{}),gt(this,Tu,new Map),gt(this,Ru,new Map),gt(this,ho,0)}mount(){yp(this,ho)._++,ye(this,ho)===1&&(gt(this,Mu,KD.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Tr).onFocus())})),gt(this,$u,pv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Tr).onOnline())})))}unmount(){var e,t;yp(this,ho)._--,ye(this,ho)===0&&((e=ye(this,Mu))==null||e.call(this),gt(this,Mu,void 0),(t=ye(this,$u))==null||t.call(this),gt(this,$u,void 0))}isFetching(e){return ye(this,Tr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,uo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Tr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ye(this,Tr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wj(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ye(this,Tr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ye(this,Tr).get(n.queryHash),i=a==null?void 0:a.state.data,o=C7(t,i);if(o!==void 0)return ye(this,Tr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zn.batch(()=>ye(this,Tr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Tr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ye(this,Tr);zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,Tr);return zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zn.batch(()=>ye(this,Tr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ni).catch(ni)}invalidateQueries(e,t={}){return zn.batch(()=>(ye(this,Tr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zn.batch(()=>ye(this,Tr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ni)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,Tr).build(this,t);return r.isStaleByTime(Wj(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=Qk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=Qk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pv.isOnline()?ye(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Tr)}getMutationCache(){return ye(this,uo)}getDefaultOptions(){return ye(this,fo)}setDefaultOptions(e){gt(this,fo,e)}setQueryDefaults(e,t){ye(this,Tu).set(Hh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Tu).values()],r={};return t.forEach(n=>{qh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ye(this,Ru).set(Hh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,Ru).values()],r={};return t.forEach(n=>{qh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,fo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,fo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,Tr).clear(),ye(this,uo).clear()}},Tr=new WeakMap,uo=new WeakMap,fo=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,ho=new WeakMap,Mu=new WeakMap,$u=new WeakMap,eM),G7=w.createContext(void 0),Y7=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(G7.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(this,arguments)}var go;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(go||(go={}));const eE="popstate";function X7(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return qj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gv(a)}return Q7(t,r,null,e)}function kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z7(){return Math.random().toString(36).substr(2,8)}function tE(e,t){return{usr:e.state,key:e.key,idx:t}}function qj(e,t,r,n){return r===void 0&&(r=null),Kh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ud(t):t,{state:r,key:t&&t.key||n||Z7()})}function gv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Q7(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=go.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Kh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=go.Pop;let p=d(),v=p==null?null:p-u;u=p,c&&c({action:l,location:g.location,delta:v})}function h(p,v){l=go.Push;let x=qj(g.location,p,v);u=d()+1;let b=tE(x,u),_=g.createHref(x);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(p,v){l=go.Replace;let x=qj(g.location,p,v);u=d();let b=tE(x,u),_=g.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function y(p){let v=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof p=="string"?p:gv(p);return x=x.replace(/ $/,"%20"),kr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return l},get location(){return e(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(eE,f),c=p,()=>{a.removeEventListener(eE,f),c=null}},createHref(p){return t(a,p)},createURL:y,encodeLocation(p){let v=y(p);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(p){return o.go(p)}};return g}var rE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rE||(rE={}));function J7(e,t,r){return r===void 0&&(r="/"),eK(e,t,r,!1)}function eK(e,t,r,n){let a=typeof t=="string"?Ud(t):t,i=Ku(a.pathname||"/",r);if(i==null)return null;let o=JD(e);tK(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fK(i);l=uK(o[c],u,n)}return l}function JD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(kr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=To([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:lK(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of e3(i.path))a(i,o,c)}),t}function e3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=e3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tK(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cK(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rK=/^:[\w-]+$/,nK=3,aK=2,iK=1,sK=10,oK=-2,nE=e=>e==="*";function lK(e,t){let r=e.split("/"),n=r.length;return r.some(nE)&&(n+=oK),t&&(n+=aK),r.filter(a=>!nE(a)).reduce((a,i)=>a+(rK.test(i)?nK:i===""?iK:sK),n)}function cK(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function uK(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=vv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:To([i,f.pathname]),pathnameBase:gK(To([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=To([i,f.pathnameBase]))}return o}function vv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dK(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function dK(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),QD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function fK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return QD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ku(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hK(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ud(e):e;return{pathname:r?r.startsWith("/")?r:mK(r,t):t,search:vK(n),hash:yK(a)}}function mK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Tb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bC(e,t){let r=pK(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ud(e):(a=Kh({},e),kr(!a.pathname||!a.pathname.includes("?"),Tb("?","pathname","search",a)),kr(!a.pathname||!a.pathname.includes("#"),Tb("#","pathname","hash",a)),kr(!a.search||!a.search.includes("#"),Tb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=hK(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),gK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t3=["post","put","patch","delete"];new Set(t3);const bK=["get",...t3];new Set(bK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}const Nx=w.createContext(null),r3=w.createContext(null),Ls=w.createContext(null),Px=w.createContext(null),Zo=w.createContext({outlet:null,matches:[],isDataRoute:!1}),n3=w.createContext(null);function wK(e,t){let{relative:r}=t===void 0?{}:t;Vd()||kr(!1);let{basename:n,navigator:a}=w.useContext(Ls),{hash:i,pathname:o,search:l}=kx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:To([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Vd(){return w.useContext(Px)!=null}function pc(){return Vd()||kr(!1),w.useContext(Px).location}function a3(e){w.useContext(Ls).static||w.useLayoutEffect(e)}function ip(){let{isDataRoute:e}=w.useContext(Zo);return e?MK():jK()}function jK(){Vd()||kr(!1);let e=w.useContext(Nx),{basename:t,future:r,navigator:n}=w.useContext(Ls),{matches:a}=w.useContext(Zo),{pathname:i}=pc(),o=JSON.stringify(bC(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return a3(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=wC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:To([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function kx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(Ls),{matches:a}=w.useContext(Zo),{pathname:i}=pc(),o=JSON.stringify(bC(a,n.v7_relativeSplatPath));return w.useMemo(()=>wC(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function _K(e,t){return SK(e,t)}function SK(e,t,r,n){Vd()||kr(!1);let{navigator:a}=w.useContext(Ls),{matches:i}=w.useContext(Zo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=pc(),d;if(t){var f;let p=typeof t=="string"?Ud(t):t;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||kr(!1),d=p}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let y=J7(e,{pathname:m}),g=EK(y&&y.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:To([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:To([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return t&&g?w.createElement(Px.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:go.Pop}},g):g}function CK(){let e=RK(),t=xK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const NK=w.createElement(CK,null);class PK extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Zo.Provider,{value:this.props.routeContext},w.createElement(n3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kK(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(Nx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Zo.Provider,{value:t},n)}function EK(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||kr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,g=null,p=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||NK,c&&(u<0&&h===0?(y=!0,p=null):u===h&&(y=!0,p=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=g:y?b=p:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(kK,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(PK,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var i3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(i3||{}),yv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yv||{});function AK(e){let t=w.useContext(Nx);return t||kr(!1),t}function OK(e){let t=w.useContext(r3);return t||kr(!1),t}function TK(e){let t=w.useContext(Zo);return t||kr(!1),t}function s3(e){let t=TK(),r=t.matches[t.matches.length-1];return r.route.id||kr(!1),r.route.id}function RK(){var e;let t=w.useContext(n3),r=OK(yv.UseRouteError),n=s3(yv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function MK(){let{router:e}=AK(i3.UseNavigateStable),t=s3(yv.UseNavigateStable),r=w.useRef(!1);return a3(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gh({fromRouteId:t},i)))},[e,t])}function $K(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xv(e){let{to:t,replace:r,state:n,relative:a}=e;Vd()||kr(!1);let{future:i,static:o}=w.useContext(Ls),{matches:l}=w.useContext(Zo),{pathname:c}=pc(),u=ip(),d=wC(t,bC(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Lr(e){kr(!1)}function IK(e){let{basename:t="/",children:r=null,location:n,navigationType:a=go.Pop,navigator:i,static:o=!1,future:l}=e;Vd()&&kr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Gh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ud(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,g=w.useMemo(()=>{let p=Ku(d,c);return p==null?null:{location:{pathname:p,search:f,hash:h,state:m,key:y},navigationType:a}},[c,d,f,h,m,y,a]);return g==null?null:w.createElement(Ls.Provider,{value:u},w.createElement(Px.Provider,{children:r,value:g}))}function DK(e){let{children:t,location:r}=e;return _K(Kj(t),r)}new Promise(()=>{});function Kj(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Kj(n.props.children,i));return}n.type!==Lr&&kr(!1),!n.props.index||!n.props.children||kr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function o3(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function LK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BK(e,t){return e.button===0&&(!t||t==="_self")&&!LK(e)}const FK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zK=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],UK="6";try{window.__reactRouterVersion=UK}catch{}const VK=w.createContext({isTransitioning:!1}),WK="startTransition",aE=sS[WK];function HK(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=X7({window:a,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&aE?aE(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>$K(n),[n]),w.createElement(IK,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const qK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GK=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=o3(t,FK),{basename:m}=w.useContext(Ls),y,g=!1;if(typeof u=="string"&&KK.test(u)&&(y=u,qK))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Ku(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let p=wK(u,{relative:a}),v=XK(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||v(b)}return w.createElement("a",bv({},h,{href:y||p,onClick:g||i?n:x,ref:r,target:c}))}),iE=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=o3(t,zK),h=kx(c,{relative:f.relative}),m=pc(),y=w.useContext(r3),{navigator:g,basename:p}=w.useContext(Ls),v=y!=null&&ZK(h)&&u===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&p&&(_=Ku(_,p)||_);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!o&&b.startsWith(x)&&b.charAt(j)==="/",C=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),P={isActive:S,isPending:C,isTransitioning:v},N=S?n:void 0,O;typeof i=="function"?O=i(P):O=[i,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(P):l;return w.createElement(GK,bv({},f,{"aria-current":N,className:O,ref:r,style:T,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Gj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gj||(Gj={}));var sE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function YK(e){let t=w.useContext(Nx);return t||kr(!1),t}function XK(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ip(),u=pc(),d=kx(e,{relative:o});return w.useCallback(f=>{if(BK(f,r)){f.preventDefault();let h=n!==void 0?n:gv(u)===gv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function ZK(e,t){t===void 0&&(t={});let r=w.useContext(VK);r==null&&kr(!1);let{basename:n}=YK(Gj.useViewTransitionState),a=kx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ku(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ku(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vv(a.pathname,o)!=null||vv(a.pathname,i)!=null}const QK=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,priceHT_B2B:690,priceHT_OEM:520,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,priceHT_B2B:1200,priceHT_OEM:900,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,priceHT_B2B:420,priceHT_OEM:320,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,priceHT_B2B:750,priceHT_OEM:580,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],JK=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],eG=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],jC=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function tG(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,o=i+a;return t>=i&&t<o?r+n.devCost/a:r},0)}function rG(e,t,r){let n=0,a=0;return e.forEach(i=>{const o=i.volumesByChannel;if(o){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,d=i.coef_oem||1.4,f=l/c/u,h=i.unitCost*d,m=Math.round((o.B2C[t]||0)*(1+r.volumeAdjustment));n+=m*l*(1+r.priceAdjustment),a+=m*i.unitCost;const y=Math.round((o.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),a+=y*i.unitCost;const g=Math.round((o.OEM[t]||0)*(1+r.volumeAdjustment));n+=g*h*(1+r.priceAdjustment),a+=g*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function nG(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function aG(e,t,r,n,a,i,o="detailed",l){if(o==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=a*(u.volumeRatio||0);break;case"step":const m=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();m&&(d=m.newAnnualCost);break}d=d*(1+i.opexAdjustment),c+=d}),c}function iG(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function sG(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,o=a.launchYear,l=o+i;if(t>=o&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function oG(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),o=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+o+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function lG(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function cG(e,t,r,n,a,i,o,l,c="detailed",u){const d=[];let f=a,h=a,m=a,y=0,g=null,p=0,v=0,x=0;const b=lG(e);for(let C=0;C<o;C++){const P=i+C,N=f,{revenue:O,cogs:T}=rG(e,P,l),{payroll:E,headcount:R}=nG(t,P),k=oG(e,P,l),A=aG(r,P,i,O,k,l,c,u),$=iG(e,P),{total:M,byProduct:L}=sG(e,P);v+=$,x+=M;const B=O-T,z=O>0?B/O:0,Q=B-E-A,ee=O>0?Q/O:0,se=Q-M,U=T+E+A+$,q=O-U,G=n.filter(Re=>Re.year===P),H=G.reduce((Re,We)=>Re+We.amount,0);p+=H;const fe=q/4,D={Q1:0,Q2:0,Q3:0,Q4:0};let Y=N,V=N;["Q1","Q2","Q3","Q4"].forEach(Re=>{const ge=G.filter(Ne=>Ne.quarter===Re).reduce((Ne,Xe)=>Ne+Xe.amount,0);V+=fe+ge,D[Re]=V,V<Y&&(Y=V)});const te=N+q+H;f=te,Y<h&&(h=Y);const be=a+d.reduce((Re,We)=>Re+We.cashFlow,0)+q;be<m&&(m=be),q<0&&Math.abs(q)>y&&(y=Math.abs(q)),g===null&&q>0&&(g=P),d.push({year:P,revenue:O,fundingInjection:H,cogs:T,payroll:E,opex:A,capex:$,grossMargin:B,grossMarginRate:z,ebitda:Q,ebitdaMargin:ee,depreciation:M,depreciationByProduct:L,operatingResult:se,totalCosts:U,cashFlow:q,treasuryStart:N,treasuryEnd:te,quarterlyTreasury:D,minTreasuryInYear:Y,headcount:R})}const _=Math.max(0,-m),j=y/12,S=j>0?Math.floor(a/j):999;return{years:d,initialCash:a,totalFundingRaised:p,fundingNeed:_,minTreasury:h,breakEvenYear:g,maxBurn:y,runway:S,productAmortizations:b,totalCapex:v,totalDepreciation:x}}const uG=["Q1","Q2","Q3","Q4"],El=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function dG(){return[{delayMonths:0,percentage:100}]}function oE(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function l3(){return{revenueSeasonality:oE(),cogsSeasonality:oE(),cogsPaymentTerms:dG(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function lE(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function fG(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=pG(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<a&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,o=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((o-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(o<=i)return n;if(e.frequency==="monthly"){const l=o-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const g=d*c,p=u-g;d-=p,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,p),interest:g,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((o-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f*3,m=Math.floor(h/12),y=h%12;if(m<t||m>=a)continue;const g=d*c,p=u-g;d-=p,n.push({loanId:e.id,loanName:e.name,year:m,month:y,principal:Math.max(0,p),interest:g,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((o-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,m=e.startDate.month;if(h<t||h>=a)continue;const y=d*c,g=u-y;d-=g,n.push({loanId:e.id,loanName:e.name,year:h,month:m,principal:Math.max(0,g),interest:y,total:u,isManuallyModified:!1})}}return n}function hG(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function mG(e,t,r,n,a,i,o=!1){var O,T;const l=[];let c=n,u=n,d=null,f=null,h=0,m=0,y=0,g=0;const p=lE(e.revenueSeasonality),v=lE(e.cogsSeasonality),x=e.cogsPaymentTerms&&e.cogsPaymentTerms.length>0?e.cogsPaymentTerms:[{delayMonths:0,percentage:100}],b=x.reduce((E,R)=>E+R.percentage,0),_=b>0?x.map(E=>({...E,percentage:E.percentage/b})):[{delayMonths:0,percentage:1}],j=[];e.loans.forEach(E=>{j.push(...fG(E,a,i))});const S=e.capexPayments||[],C=i*12,P=[];for(let E=0;E<i;E++){const R=a+E,A=(t.annualCogs[R]||0)/12;for(let $=0;$<12;$++)P.push(A*v[$])}const N=new Array(C+24).fill(0);P.forEach((E,R)=>{_.forEach(k=>{const A=R+k.delayMonths;A<N.length&&(N[A]+=E*k.percentage)})});for(let E=0;E<i;E++){const R=a+E,k=t.annualRevenue[R]||0,A=t.annualPayroll[R]||0,$=t.annualOpex[R]||0,M=k/12,L=A/12,B=$/12;for(let z=0;z<12;z++){const Q=z,ee=c,se=M*p[z];let U=0;if(!o){const F=hG(Q);z%3===0&&r.forEach(oe=>{oe.year===R&&oe.quarter===F&&(U+=oe.amount,h+=oe.amount)})}const q=`${R}-${Q.toString().padStart(2,"0")}`,G=((O=e.otherInflows[q])==null?void 0:O.amount)||0,H=se+U+G,fe=E*12+z,D=N[fe]||0;let Y=0;const V=[];e.variableCharges.forEach(F=>{const J=se*F.rateOfRevenue;Y+=J,V.push({name:F.name,amount:J})}),m+=Y;const Z=j.filter(F=>F.year===R&&F.month===Q),te=Z.reduce((F,J)=>F+J.total,0);y+=te;const be=S.filter(F=>F.year===R&&F.month===Q),Re=be.reduce((F,J)=>F+J.amount,0);g+=Re;const We=((T=e.otherOutflows[q])==null?void 0:T.amount)||0,ge=D+L+B+Y+te+Re+We,Ne=H-ge,Xe=ee+Ne;Xe<u&&(u=Xe,d={year:R,month:Q}),f===null&&Ne>0&&l.length>0&&l.slice(-3).some(J=>J.netCashFlow<0)&&(f={year:R,month:Q}),l.push({year:R,month:Q,monthName:El[z],revenue:se,fundingInjection:U,otherInflows:G,totalInflows:H,cogs:D,payroll:L,opex:B,variableCharges:Y,loanPayments:te,capexPayments:Re,otherOutflows:We,totalOutflows:ge,treasuryStart:ee,netCashFlow:Ne,treasuryEnd:Xe,loanPaymentDetails:Z,variableChargeDetails:V,capexPaymentDetails:be}),c=Xe}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:m,totalLoanPayments:y,totalCapexPayments:g}}function pG(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function Wd(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const kt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));kt.displayName="Card";const er=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));er.displayName="CardHeader";const tr=w.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));tr.displayName="CardTitle";const _s=w.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));_s.displayName="CardDescription";const Dt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("p-6 pt-0",e),...t}));Dt.displayName="CardContent";const gG=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",e),...t}));gG.displayName="CardFooter";function Nt({label:e,value:t,subValue:r,trend:n,className:a}){return s.jsx(kt,{className:ue("",a),children:s.jsxs(Dt,{className:"pt-4 pb-3",children:[s.jsx("div",{className:"kpi-label mb-1",children:e}),s.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&s.jsx(Fo,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&s.jsx(oh,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function Ke({title:e,children:t,id:r,className:n,action:a}){return s.jsxs(kt,{className:ue("",n),id:r,children:[s.jsxs(er,{className:"pb-3 flex flex-row items-center justify-between",children:[s.jsx(tr,{className:"text-lg",children:e}),a]}),s.jsx(Dt,{children:t})]})}const xe=w.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xe.displayName="Input";function Yh(e,[t,r]){return Math.min(r,Math.max(t,e))}var vG=w.createContext(void 0);function Hd(e){const t=w.useContext(vG);return e||t||"ltr"}function Ex(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var c3=["PageUp","PageDown"],u3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],d3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qd="Slider",[Yj,yG,xG]=dx(qd),[f3,M2e]=Yn(qd,[xG]),[bG,Ax]=f3(qd),h3=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=e,p=w.useRef(new Set),v=w.useRef(0),b=o==="horizontal"?wG:jG,[_=[],j]=ia({prop:d,defaultProp:u,onChange:T=>{var R;(R=[...p.current][v.current])==null||R.focus(),f(T)}}),S=w.useRef(_);function C(T){const E=PG(_,T);O(T,E)}function P(T){O(T,v.current)}function N(){const T=S.current[v.current];_[v.current]!==T&&h(_)}function O(T,E,{commit:R}={commit:!1}){const k=OG(i),A=TG(Math.round((T-n)/i)*i+n,k),$=Yh(A,[n,a]);j((M=[])=>{const L=CG(M,$,E);if(AG(L,c*i)){v.current=L.indexOf($);const B=String(L)!==String(M);return B&&R&&h(L),B?L:M}else return M})}return s.jsx(bG,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:p.current,values:_,orientation:o,form:y,children:s.jsx(Yj.Provider,{scope:e.__scopeSlider,children:s.jsx(Yj.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Oe(g.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(a,_.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:E})=>{if(!l){const A=c3.includes(T.key)||T.shiftKey&&u3.includes(T.key)?10:1,$=v.current,M=_[$],L=i*A*E;O(M+L,$,{commit:!0})}}})})})})});h3.displayName=qd;var[m3,p3]=f3(qd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wG=w.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=w.useState(null),m=dt(t,b=>h(b)),y=w.useRef(void 0),g=Hd(a),p=g==="ltr",v=p&&!i||!p&&i;function x(b){const _=y.current||f.getBoundingClientRect(),j=[0,_.width],C=_C(j,v?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return s.jsx(m3,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(g3,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=d3[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),jG=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=w.useRef(null),f=dt(t,d),h=w.useRef(void 0),m=!a;function y(g){const p=h.current||d.current.getBoundingClientRect(),v=[0,p.height],b=_C(v,m?[n,r]:[r,n]);return h.current=p,b(g-p.top)}return s.jsx(m3,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(g3,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=y(g.clientY);i==null||i(p)},onSlideMove:g=>{const p=y(g.clientY);o==null||o(p)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=d3[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),g3=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Ax(qd,r);return s.jsx(Ve.span,{...u,ref:t,onKeyDown:Oe(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):c3.concat(u3).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Oe(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Oe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Oe(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),v3="SliderTrack",y3=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Ax(v3,r);return s.jsx(Ve.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});y3.displayName=v3;var Xj="SliderRange",x3=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Ax(Xj,r),i=p3(Xj,r),o=w.useRef(null),l=dt(t,o),c=a.values.length,u=a.values.map(h=>j3(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Ve.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});x3.displayName=Xj;var Zj="SliderThumb",b3=w.forwardRef((e,t)=>{const r=yG(e.__scopeSlider),[n,a]=w.useState(null),i=dt(t,l=>a(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(_G,{...e,ref:i,index:o})}),_G=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=Ax(Zj,r),l=p3(Zj,r),[c,u]=w.useState(null),d=dt(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=xx(c),m=o.values[n],y=m===void 0?0:j3(m,o.min,o.max),g=NG(n,o.values.length),p=h==null?void 0:h[l.size],v=p?kG(p,y,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[s.jsx(Yj.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ve.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Oe(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(w3,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});b3.displayName=Zj;var SG="RadioBubbleInput",w3=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=w.useRef(null),i=dt(a,n),o=Ex(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Ve.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});w3.displayName=SG;function CG(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function j3(e,t,r){const i=100/(r-t)*(e-t);return Yh(i,[0,100])}function NG(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function PG(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function kG(e,t,r){const n=e/2,i=_C([0,50],[0,n]);return(n-i(t)*r)*r}function EG(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function AG(e,t){if(t>0){const r=EG(e);return Math.min(...r)>=t}return!0}function _C(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function OG(e){return(String(e).split(".")[1]||"").length}function TG(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var _3=h3,RG=y3,MG=x3,$G=b3;const zr=w.forwardRef(({className:e,...t},r)=>s.jsxs(_3,{ref:r,className:ue("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(RG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(MG,{className:"absolute h-full bg-primary"})}),s.jsx($G,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zr.displayName=_3.displayName;const SC=Id("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?gI:"button";return s.jsx(o,{className:ue(SC({variant:t,size:r,className:e})),ref:i,...a})});ne.displayName="Button";function re(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function rn(e){return`${(e*100).toFixed(1)}%`}const wv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function Xh(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function Qj(e,t){const r=e.marginRates||wv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function IG(e,t){return Xh(e,t)-Qj(e,t)}const Rb=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function DG({config:e,onChange:t,years:r}){const n=e.marginRates||wv.marginRates,a=e.growthRates||wv.growthRates,i=(m,y,g)=>{t({...e,[m]:{...e[m],[y]:g}})},o=(m,y)=>{t({...e,marginRates:{...n,[m]:y}})},l=(m,y)=>{t({...e,growthRates:{...a,[m]:y}})},c=m=>{const y=r[0],g=e[m][y]||0;if(g<=0)return;const p=a[m],v={...e[m]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(g*Math.pow(1+p,b)))}),t({...e,[m]:v})},u=()=>{let m={...e};Rb.forEach(({key:y})=>{const g=e[y][r[0]]||0;if(g<=0)return;const p=a[y],v={...e[y]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(g*Math.pow(1+p,b)))}),m={...m,[y]:v}}),t(m)},d=r.reduce((m,y)=>m+Xh(e,y),0),f=r.reduce((m,y)=>m+Qj(e,y),0),h=d>0?f/d:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ke,{title:"Paramtres par Canal",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Rb.map(m=>s.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[s.jsx("div",{className:"font-medium text-sm",children:m.label}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de croissance"}),s.jsxs("span",{className:"font-mono",children:[(a[m.key]*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[a[m.key]*100],onValueChange:([y])=>l(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de marge"}),s.jsxs("span",{className:"font-mono",children:[(n[m.key]*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[n[m.key]*100],onValueChange:([y])=>o(m.key,y/100),min:0,max:100,step:1})]}),s.jsxs(ne,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(m.key),children:[s.jsx(Tk,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},m.key))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(ne,{variant:"default",size:"sm",onClick:u,children:[s.jsx(Tk,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),s.jsx(Ke,{title:"CA Global par Canal",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(m=>s.jsx("th",{className:"text-center py-2 px-3",children:m},m)),s.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),s.jsxs("tbody",{children:[Rb.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:[m.label,s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[m.key]*100).toFixed(0),"%)"]})]}),r.map(y=>s.jsx("td",{className:"py-2 px-3 text-center",children:s.jsx(xe,{type:"number",value:e[m.key][y]||0,onChange:g=>i(m.key,y,Number(g.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:re(r.reduce((y,g)=>y+(e[m.key][g]||0),0),!0)})]},m.key)),s.jsxs("tr",{className:"font-semibold border-t",children:[s.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:re(Xh(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(d,!0)})]}),s.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",s.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(m=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:re(Qj(e,m),!0)},m)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:re(f,!0)})]})]})]})})})]})}var LG="Label",S3=w.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S3.displayName=LG;var C3=S3;const BG=Id("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=w.forwardRef(({className:e,...t},r)=>s.jsx(C3,{ref:r,className:ue(BG(),e),...t}));Ce.displayName=C3.displayName;const FG={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function zG({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*e.ocRatio,a=e.totalRaise*(1-e.ocRatio),i=r+a,o=i>0?a/i:0;return s.jsx(Ke,{title:"Simulation de Dilution",id:"valuation-dilution",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ce,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%  Equity: ",((1-e.ocRatio)*100).toFixed(0),"%"]}),s.jsx(zr,{value:[e.ocRatio*100],onValueChange:([l])=>t({...e,ocRatio:l/100}),min:0,max:99,step:1})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:re(r,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part OC"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:re(n,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(e.ocRatio*100).toFixed(0),"% de la leve"]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part Equity"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:re(a,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[((1-e.ocRatio)*100).toFixed(0),"% de la leve"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:re(i,!0)})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution (equity uniquement)"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:rn(o)})]})]})]})})}var Di=function(){return Di=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Di.apply(this,arguments)};function Kd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function UG(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function VG(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const WG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class CC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class HG extends CC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cE extends CC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uE extends CC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jj||(Jj={}));class qG{constructor(t,{headers:r={},customFetch:n,region:a=Jj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=WG(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return UG(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let p=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(p=o.signal,d.addEventListener("abort",()=>o.abort())):p=o.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:p}).catch(j=>{throw new HG(j)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new cE(v);if(!v.ok)throw new uE(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof uE||l instanceof cE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var KG=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},GG=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),p=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&p&&p.length>1&&(c=parseInt(p[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new KG(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},YG=class extends GG{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const dE=new RegExp("[,()]");var Fc=class extends YG{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&dE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&dE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},XG=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Fc({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Fc({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Fc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Fc({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Fc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ZG=class N3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new XG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new N3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Fc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class QG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JG="2.93.3",eY=`realtime-js/${JG}`,tY="1.0.0",P3="2.0.0",fE=P3,e1=1e4,rY=1e3,nY=100;var to;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(to||(to={}));var Zr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zr||(Zr={}));var ci;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ci||(ci={}));var t1;(function(e){e.websocket="websocket"})(t1||(t1={}));var _l;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_l||(_l={}));class aY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,l.length),y.setUint8(g++,o.length),y.setUint8(g++,u.length),y.setUint8(g++,f.length),y.setUint8(g++,r),Array.from(c,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(g++,v.charCodeAt(0)));var p=new Uint8Array(m.byteLength+n.byteLength);return p.set(new Uint8Array(m),0),p.set(new Uint8Array(n),m.byteLength),p.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class k3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cr||(cr={}));const hE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=iY(o,e,t,a),i),{}):{}},iY=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?E3(i,o):r1(o)},E3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cY(t,r)}switch(e){case cr.bool:return sY(t);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return oY(t);case cr.json:case cr.jsonb:return lY(t);case cr.timestamp:return uY(t);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return r1(t);default:return r1(t)}},r1=e=>e,sY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cY=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>E3(t,l))}return e},uY=e=>typeof e=="string"?e.replace(" ","T"):e,A3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mb{constructor(t,r,n={},a=e1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mE||(mE={}));class lh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=lh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(p=>p.presence_ref),m=f.map(p=>p.presence_ref),y=d.filter(p=>m.indexOf(p.presence_ref)<0),g=f.filter(p=>h.indexOf(p.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pE||(pE={}));var ch;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ch||(ch={}));var fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class su{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mb(this,ci.join,this.params,this.timeout),this.rejoinTimer=new k3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ci.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new lh(this),this.broadcastEndpointURL=A3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[ch.PRESENCE]&&this.bindings[ch.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(fs.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(fs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(fs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<p;x++){const b=g[x],{filter:{event:_,schema:j,table:S,filter:C}}=b,P=m&&m[x];if(P&&P.event===_&&su.isFilterValueEqual(P.schema,j)&&su.isFilterValueEqual(P.table,S)&&su.isFilterValueEqual(P.filter,C))v.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=Zr.errored,t==null||t(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fs.SUBSCRIBED);return}}).receive("error",m=>{this.state=Zr.errored,t==null||t(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Zr.joined&&t===ch.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ci.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Mb(this,ci.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mb(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nY){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ci;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,g,p;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((p=(g=m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,p,v,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const _=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:p,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&su.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ci.close,{},t)}_onError(t){this._on(ci.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hE(t.columns,t.old_record)),r}}const $b=()=>{},Up={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dY=[1e3,2e3,5e3,1e4],fY=1e4,hY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mY{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e1,this.transport=null,this.heartbeatIntervalMs=Up.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$b,this.ref=0,this.reconnectTimer=null,this.vsn=fE,this.logger=$b,this.conn=null,this.sendBuffer=[],this.serializer=new aY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${t1.websocket}`,this.httpEndpoint=A3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case to.connecting:return _l.Connecting;case to.open:return _l.Open;case to.closing:return _l.Closing;default:return _l.Closed}}isConnected(){return this.connectionState()===_l.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new su(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rY,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Up.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===to.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===to.open||this.conn.readyState===to.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ci.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hY],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:eY};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ci.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new k3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Up.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:e1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Up.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:$b,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:fE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>dY[y-1]||fY,this.vsn){case tY:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,g)=>g(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case P3:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Zh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pY(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function gY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=pY(e.baseUrl,n,a),c=await gY(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new Zh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Vp(e){return e.join("")}var yY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Vp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vp(e.namespace)}`}),!0}catch(t){if(t instanceof Zh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Zh&&r.status===409)return;throw r}}};function wc(e){return e.join("")}var xY=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Zh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Zh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},bY=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vY({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new yY(this.client,t),this.tableOps=new xY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ox=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Tx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Wp=class extends Ox{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},O3=class extends Ox{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const wY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n1=e=>{if(Array.isArray(e))return e.map(r=>n1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=n1(n)}),t},_Y=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function SY(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CY(e){var t=SY(e,"string");return Qh(t)=="symbol"?t:t+""}function NY(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const vE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PY=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Wp(vE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Wp(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Wp(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Wp(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new O3(vE(e),e,n))},kY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?at(at({},a),r):(jY(n)?(a.headers=at({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),at(at({},a),r))};async function Sf(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,kY(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>PY(u,c,n,o))})}function T3(e="storage"){return{get:async(t,r,n,a)=>Sf(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>Sf(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>Sf(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>Sf(t,"HEAD",r,at(at({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>Sf(t,"DELETE",r,a,i,n,e)}}const EY=T3("storage"),{get:Jh,post:ai,put:a1,head:AY,remove:NC}=EY,pa=T3("vectors");var Gd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=wY(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tx(r))return{data:null,error:r};throw r}}},OY=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tx(t))return{data:null,error:t};throw t}}};let R3;R3=Symbol.toStringTag;var TY=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[R3]="BlobDownloadBuilder",this.promise=null}asStream(){return new OY(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tx(t))return{data:null,error:t};throw t}}};const RY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var MY=class extends Gd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=at(at({},yE),n);let l=at(at({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=at(at({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?a1:ai)(a.fetch,`${a.url}/object/${d}`,i,at({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=at({upsert:yE.upsert},n),d=at(at({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await a1(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=at({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ai(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ox("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ai(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ai(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await ai(n.fetch,`${n.url}/object/sign/${a}`,at({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await ai(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>at(at({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Jh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new TY(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>n1(await Jh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await AY(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tx(n)&&n instanceof O3){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await NC(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=at(at(at({},RY),t),{},{prefix:e||""});return await ai(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=at({},e);return await ai(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $Y="2.93.3",sp={"X-Client-Info":`storage-js/${$Y}`};var IY=class extends Gd{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=at(at({},sp),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Jh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Jh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ai(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await a1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ai(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await NC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DY=class extends Gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},sp),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ai(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Jh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await NC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!_Y(e))throw new Ox("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new bY({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},LY=class extends Gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},sp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await pa.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await pa.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},BY=class extends Gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},sp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},FY=class extends Gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=at(at({},sp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await pa.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},zY=class extends FY{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UY(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},UY=class extends LY{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new VY(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},VY=class extends BY{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},WY=class extends IY{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new MY(this.url,this.headers,e,this.fetch)}get vectors(){return new zY(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DY(this.url+"/iceberg",this.headers,this.fetch)}};const M3="2.93.3",zc=30*1e3,i1=3,Ib=i1*zc,HY="http://localhost:9999",qY="supabase.auth.token",KY={"X-Client-Info":`gotrue-js/${M3}`},s1="X-Supabase-Api-Version",$3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YY=10*60*1e3;class em extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XY extends em{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZY(e){return qe(e)&&e.name==="AuthApiError"}class Sl extends em{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bs extends em{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Db(e){return qe(e)&&e.name==="AuthSessionMissingError"}class jc extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hp extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qp extends Bs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QY(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class xE extends Bs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JY extends Bs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class o1 extends Bs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lb(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class bE extends Bs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class l1 extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wE=` 	
\r=`.split(""),eX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wE.length;t+=1)e[wE[t].charCodeAt(0)]=-2;for(let t=0;t<jv.length;t+=1)e[jv[t].charCodeAt(0)]=t;return e})();function jE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}}function I3(e,t,r){const n=eX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _E(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{nX(o,n,r)};for(let o=0;o<e.length;o+=1)I3(e.charCodeAt(o),a,i);return t.join("")}function tX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}tX(n,t)}}function nX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)I3(e.charCodeAt(a),r,n);return new Uint8Array(t)}function aX(e){const t=[];return rX(e,r=>t.push(r)),new Uint8Array(t)}function Al(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>jE(a,r,n)),jE(null,r,n),t.join("")}function iX(e){return Math.round(Date.now()/1e3)+e}function sX(){return Symbol("auth-callback")}const gn=()=>typeof window<"u"&&typeof document<"u",cl={tested:!1,writable:!1},D3=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cl.tested)return cl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cl.tested=!0,cl.writable=!0}catch{cl.tested=!0,cl.writable=!1}return cl.writable};function oX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const L3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ul=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pn=async(e,t)=>{await e.removeItem(t)};class Rx{constructor(){this.promise=new Rx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rx.promiseConstructor=Promise;function Kp(e){const t=e.split(".");if(t.length!==3)throw new l1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!GY.test(t[n]))throw new l1("JWT not in base64url format");return{header:JSON.parse(_E(t[0])),payload:JSON.parse(_E(t[1])),signature:wu(t[2]),raw:{header:t[0],payload:t[1]}}}async function cX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uX(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function dX(e){return("0"+e.toString(16)).substr(-2)}function fX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,dX).join("")}async function hX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function mX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _c(e,t,r=!1){const n=fX();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Uc(e,`${t}-code-verifier`,a);const i=await mX(n);return[i,n===i?"plain":"s256"]}const pX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gX(e){const t=e.headers.get(s1);if(!t||!t.match(pX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sc(e){if(!xX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bX(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function SE(e){return JSON.parse(JSON.stringify(e))}const vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wX=[502,503,504];async function CE(e){var t;if(!lX(e))throw new o1(vl(e),0);if(wX.includes(e.status))throw new o1(vl(e),e.status);let r;try{r=await e.json()}catch(i){throw new Sl(vl(i),i)}let n;const a=gX(e);if(a&&a.getTime()>=$3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bE(vl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bE(vl(r),e.status,r.weak_password.reasons);throw new XY(vl(r),e.status||500,n)}const jX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function tt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[s1]||(i[s1]=$3["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await _X(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _X(e,t,r,n,a,i){const o=jX(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new o1(vl(c),0)}if(l.ok||await CE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await CE(c)}}function ei(e){var t;let r=null;NX(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function NE(e){const t=ei(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function so(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SX(e){return{data:e,error:null}}function CX(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Kd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function PE(e){return e}function NX(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fb=["global","local","others"];class PX{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=L3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Fb[0]){if(Fb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fb.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:so})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Kd(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:CX,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:so})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(y.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sc(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:so})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Sc(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:so})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Sc(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:so})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Sc(t.userId);try{const{data:r,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Sc(t.userId),Sc(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(y.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function kE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Cc={debug:!!(globalThis&&D3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class kX extends B3{}async function EX(e,t,r){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function AX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function F3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OX(e){return parseInt(e,16)}function TX(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function RX(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=F3(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",p=`${y} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${p}
${v}`}class Hr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class _v extends Hr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function MX({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(z3(o)){if(i.rp.id!==o)return new Hr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $X({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(z3(n)){if(r.rpId!==n)return new Hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class IX{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const DX=new IX;function LX(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Kd(e,["challenge","user","excludeCredentials"]),i=wu(t).buffer,o=Object.assign(Object.assign({},r),{id:wu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function BX(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Kd(e,["challenge","allowCredentials"]),a=wu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:wu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function FX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Al(new Uint8Array(e.response.attestationObject)),clientDataJSON:Al(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Al(new Uint8Array(a.authenticatorData)),clientDataJSON:Al(new Uint8Array(a.clientDataJSON)),signature:Al(new Uint8Array(a.signature)),userHandle:a.userHandle?Al(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function EE(){var e,t;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UX(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:MX({error:t,options:e})}}}async function VX(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:$X({error:t,options:e})}}}const WX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Sv(l,o):n[i]=Sv(o)}else n[i]=o}return n}function qX(e,t){return Sv(WX,e,t||{})}function KX(e,t){return Sv(HX,e,t||{})}class GX{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??DX.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=qX(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await UX({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=KX(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await VX(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return qe(l)?{data:null,error:l}:{data:null,error:new Sl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new em("rpId is required for WebAuthn authentication")};try{if(!EE())return{data:null,error:new Sl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Sl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new em("rpId is required for WebAuthn registration")};try{if(!EE())return{data:null,error:new Sl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Sl("Unexpected error in register",o)}}}}AX();const YX={url:HY,storageKey:qY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function AE(e,t,r){return await r()}const Nc={};class tm{get jwks(){var t,r;return(r=(t=Nc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Nc[this.storageKey]=Object.assign(Object.assign({},Nc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Nc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Nc[this.storageKey]=Object.assign(Object.assign({},Nc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},YX),t);if(this.storageKey=i.storageKey,this.instanceID=(r=tm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&gn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=L3(i.fetch),this.lock=i.lock||AE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EX:this.lock=AE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kE(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(gn()&&(r=oX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QY(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?this._returnResult({error:r}):this._returnResult({error:new Sl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ei}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await _c(this.storage,this.storageKey)),i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:ei})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ei})}else throw new Hp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await pn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:NE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:NE})}else throw new Hp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new jc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:g,wallet:p,statement:v,options:x}=t;let b;if(gn())if(typeof p=="object")b=p;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=F3(j[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const N=await b.request({method:"eth_chainId"});C=OX(N)}const P={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=RX(P),y=await b.request({method:"personal_sign",params:[TX(m),S]})}try{const{data:g,error:p}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ei});if(p)throw p;if(!g||!g.session||!g.user){const v=new jc;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:p})}catch(g){if(qe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:x,options:b}=t;let _;if(gn())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:p,error:v}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Al(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ei});if(v)throw v;if(!p||!p.session||!p.user){const x=new jc;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(qe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async _exchangeCodeForSession(t){const r=await ul(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new JY;const{data:i,error:o}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ei});if(await pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ei}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new jc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _c(this.storage,this.storageKey));const{error:f}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Hp("You must provide either an email or phone number.")}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ei});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _c(this.storage,this.storageKey));const u=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:SX});return!((i=u.data)===null||i===void 0)&&i.url&&gn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Hp("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ul(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ib:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ul(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Bb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=bX(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:so}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:so})})}catch(r){if(qe(r))return Db(r)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _c(this.storage,this.storageKey));const{data:u,error:d}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:so});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Kp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!gn())throw new qp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new qp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=zc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:p}=await this._getUser(i);if(p)throw p;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ul(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!Db(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ZY(l)&&(l.status===404||l.status===401||l.status===403)||Db(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=sX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await _c(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return gn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ei}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uX(async a=>(a>0&&await cX(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ei})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Lb(i)&&Date.now()+o-n<zc})}catch(n){if(this._debug(r,"error",n),qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ul(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ul(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Uc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Bb()}else if(a&&!a.user&&!a.user){const o=await ul(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await pn(this.storage,this.storageKey+"-user"),await Uc(this.storage,this.storageKey,a)):a.user=Bb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ib;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ib}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Lb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Rx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),qe(i)){const o={data:null,error:i};return Lb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Uc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=SE(a);await Uc(this.storage,this.storageKey,i)}else{const a=SE(r);await Uc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/zc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${zc}ms, refresh threshold is ${i1} ticks`),a<=i1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof B3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _c(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FX(t.webauthn.credential_response):zX(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LX(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:BX(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=Kp(t);let y=null;m.aal&&(y=m.aal);let g=y;const{data:{user:p},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(r=p==null?void 0:p.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const b=m.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:b},error:null}}catch(m){if(qe(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Kp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new la})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new la});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new la});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new la})})}catch(t){if(qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new la})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+YY>a)return n;const{data:i,error:o}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Kp(n);r!=null&&r.allowExpired||vX(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=yX(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,aX(`${l}.${c}`)))throw new l1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}}tm.nextInstanceID={};const XX=tm,ZX="2.93.3";let Kf="";typeof Deno<"u"?Kf="deno":typeof document<"u"?Kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kf="react-native":Kf="node";const QX={"X-Client-Info":`supabase-js-${Kf}/${ZX}`},JX={headers:QX},eZ={schema:"public"},tZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rZ={};function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function nZ(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aZ(e){var t=nZ(e,"string");return rm(t)=="symbol"?t:t+""}function iZ(e,t,r){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const sZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oZ=()=>Headers,lZ=(e,t,r)=>{const n=sZ(r),a=oZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Rr(Rr({},o),{},{headers:u}))}};function cZ(e){return e.endsWith("/")?e:e+"/"}function uZ(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Rr(Rr({},c),a),auth:Rr(Rr({},u),i),realtime:Rr(Rr({},d),o),storage:{},global:Rr(Rr(Rr({},f),l),{},{headers:Rr(Rr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function dZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fZ=class extends XX{constructor(e){super(e)}},hZ=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=dZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:eZ,realtime:rZ,auth:Rr(Rr({},tZ),{},{storageKey:o}),global:JX},c=uZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=lZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Rr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ZG(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new WY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new qG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fZ({url:this.authUrl.href,headers:Rr(Rr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mY(this.realtimeUrl.href,Rr(Rr({},e),{},{params:Rr(Rr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const mZ=(e,t,r)=>new hZ(e,t,r);function pZ(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}pZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gZ="https://twkcoxagbajvopzzinor.supabase.co",vZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",pe=mZ(gZ,vZ,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),U3=w.createContext(void 0);function yZ({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,o]=w.useState("lecteur"),[l,c]=w.useState({});w.useEffect(()=>{const{data:{subscription:p}}=pe.auth.onAuthStateChange((v,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return pe.auth.getSession().then(({data:{session:v}})=>{r((v==null?void 0:v.user)??null),a(!1),v!=null&&v.user&&(u(v.user.id),d())}),()=>p.unsubscribe()},[]);const u=async p=>{try{const{data:v}=await pe.from("user_roles").select("role").eq("user_id",p).single();v&&o(v.role)}catch{o("lecteur")}},d=async()=>{try{const{data:p}=await pe.from("tab_permissions").select("*");if(p){const v={};p.forEach(x=>{v[x.role]||(v[x.role]={}),v[x.role][x.tab_key]=x.permission}),c(v)}}catch{}},f=async(p,v)=>{const{error:x}=await pe.auth.signInWithPassword({email:p,password:v});return{error:x}},h=async(p,v,x)=>{const{error:b}=await pe.auth.signUp({email:p,password:v,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},m=async()=>{await pe.auth.signOut(),r(null)},y=i==="admin",g=p=>{if(y)return"write";const v=l[i];return v&&v[p]||"write"};return s.jsx(U3.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:f,signUp:h,signOut:m,getTabPermission:g},children:e})}function Ca(){const e=w.useContext(U3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const PC={selectedMethods:["revenue_multiple","ebitda_multiple"],valuationBasis:"projected",historicalYear:2024,projectedYear:2028,mixWeight:.5,averageYears:[],valuationParams:{revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}},dilutionConfig:{...FG},exitScenarios:{conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}},c1="novaride_financial_state_v5";function xZ(){try{const e=localStorage.getItem(c1);if(e){const t=JSON.parse(e);return t.valuationConfig||(t.valuationConfig={...PC}),t.monthlyTreasuryConfig&&!t.monthlyTreasuryConfig.cogsPaymentTerms&&(t.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),t.excludeFundingFromTreasury===void 0&&(t.excludeFundingFromTreasury=!1),t.fundingRounds?t.fundingRounds=t.fundingRounds.map(r=>({...r,quarter:r.quarter||"Q1"})):t.fundingRounds=jC,t.clientRevenueConfig||(t.clientRevenueConfig={entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}}),t.simpleOpexConfig&&!t.simpleOpexConfig.strategicOpex&&(t.simpleOpexConfig.strategicOpex=[]),t}}catch{}return bZ()}function bZ(){return{products:QK,roles:JK,expenses:eG,fundingRounds:jC,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:wv,clientRevenueConfig:{entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}},opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05,strategicOpex:[]},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:l3(),valuationConfig:{...PC}}}const V3=w.createContext(void 0);function wZ({children:e}){const{user:t}=Ca(),[r,n]=w.useState(xZ),[a,i]=w.useState(!1);w.useRef(null),w.useEffect(()=>{!t||a||(async()=>{try{const{data:k}=await pe.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(k!=null&&k.state_data){const A=k.state_data;A.valuationConfig||(A.valuationConfig={...PC}),A.excludeFundingFromTreasury===void 0&&(A.excludeFundingFromTreasury=!1),A.fundingRounds?A.fundingRounds=A.fundingRounds.map($=>({...$,quarter:$.quarter||"Q1"})):A.fundingRounds=jC,A.monthlyTreasuryConfig||(A.monthlyTreasuryConfig=l3()),A.monthlyTreasuryConfig&&!A.monthlyTreasuryConfig.cogsPaymentTerms&&(A.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),A.clientRevenueConfig||(A.clientRevenueConfig={entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}}),A.simpleOpexConfig&&!A.simpleOpexConfig.strategicOpex&&(A.simpleOpexConfig.strategicOpex=[]),n({...A,hasUnsavedChanges:!1}),localStorage.setItem(c1,JSON.stringify(A))}}catch(k){console.warn("Failed to load from cloud:",k)}finally{i(!0)}})()},[t,a]),w.useCallback(()=>{n(k=>({...k,hasUnsavedChanges:!0}))},[]);const o=w.useCallback(k=>{n(A=>({...A,products:k,hasUnsavedChanges:!0}))},[]),l=w.useCallback(k=>{n(A=>({...A,products:[...A.products,k],hasUnsavedChanges:!0}))},[]),c=w.useCallback(k=>{n(A=>({...A,products:A.products.filter($=>$.id!==k),hasUnsavedChanges:!0}))},[]),u=w.useCallback(k=>{n(A=>({...A,roles:k,hasUnsavedChanges:!0}))},[]),d=w.useCallback(k=>{n(A=>({...A,roles:[...A.roles,k],hasUnsavedChanges:!0}))},[]),f=w.useCallback(k=>{n(A=>({...A,roles:A.roles.filter($=>$.id!==k),hasUnsavedChanges:!0}))},[]),h=w.useCallback(k=>{n(A=>({...A,expenses:k,hasUnsavedChanges:!0}))},[]),m=w.useCallback(k=>{n(A=>({...A,expenses:[...A.expenses,k],hasUnsavedChanges:!0}))},[]),y=w.useCallback(k=>{n(A=>({...A,expenses:A.expenses.filter($=>$.id!==k),hasUnsavedChanges:!0}))},[]),g=w.useCallback(k=>{n(A=>({...A,fundingRounds:k,hasUnsavedChanges:!0}))},[]),p=w.useCallback(k=>{n(A=>({...A,scenarioSettings:{...A.scenarioSettings,...k},hasUnsavedChanges:!0}))},[]),v=w.useCallback(k=>{n(A=>({...A,activeScenarioId:k}))},[]),x=w.useCallback((k,A)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[k]:{...$.scenarioConfigs[k],...A}},hasUnsavedChanges:!0}))},[]),b=w.useCallback(k=>{n(A=>({...A,revenueMode:k,hasUnsavedChanges:!0}))},[]),_=w.useCallback(k=>{n(A=>({...A,globalRevenueConfig:k,hasUnsavedChanges:!0}))},[]),j=w.useCallback(k=>{n(A=>({...A,clientRevenueConfig:k,hasUnsavedChanges:!0}))},[]),S=w.useCallback(k=>{n(A=>({...A,opexMode:k,hasUnsavedChanges:!0}))},[]),C=w.useCallback(k=>{n(A=>({...A,simpleOpexConfig:{...A.simpleOpexConfig,...k},hasUnsavedChanges:!0}))},[]),P=w.useCallback(k=>{n(A=>({...A,excludeFundingFromTreasury:k,hasUnsavedChanges:!0}))},[]),N=w.useCallback(k=>{n(A=>({...A,historicalData:k,hasUnsavedChanges:!0}))},[]),O=w.useCallback(k=>{n(A=>({...A,monthlyTreasuryConfig:k,hasUnsavedChanges:!0}))},[]),T=w.useCallback(k=>{n(A=>({...A,valuationConfig:{...A.valuationConfig,...k},hasUnsavedChanges:!0}))},[]),E=w.useCallback(async()=>{try{const k={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(c1,JSON.stringify(k)),n(k),t){const{hasUnsavedChanges:A,...$}=k;await pe.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}xn({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{xn({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),R=w.useMemo(()=>{const{products:k,roles:A,expenses:$,fundingRounds:M,scenarioSettings:L,scenarioConfigs:B,activeScenarioId:z,opexMode:Q,simpleOpexConfig:ee,excludeFundingFromTreasury:se,monthlyTreasuryConfig:U}=r,{startYear:q,durationYears:G,initialCash:H}=L,fe=B[z],D=Array.from({length:G},(de,Me)=>q+Me),Y=k.reduce((de,Me)=>de+Me.devCost,0),V=D.map((de,Me)=>{if(r.revenueMode==="by-channel-global"){const Ge=Xh(r.globalRevenueConfig,de),yt=IG(r.globalRevenueConfig,de);return{year:de,revenue:Ge,cogs:yt}}if(r.revenueMode==="by-client"){const Ge=r.clientRevenueConfig||{entries:[],growthRate:.15,marginRate:.5,marginB2C:.6,marginByCategory:{}},yt=q;let he=0,ze=0;return Ge.entries.forEach(it=>{var ht;let It;if(it.revenueByYear&&it.revenueByYear[de]!==void 0&&it.revenueByYear[de]!==null)It=it.revenueByYear[de];else{const sn=it.individualGrowthRate!==null&&it.individualGrowthRate!==void 0?it.individualGrowthRate:Ge.growthRate,Gr=de-yt+1;It=it.baseRevenue*Math.pow(1+sn,Gr)}let xt=Ge.marginRate;it.channel==="B2C"?xt=Ge.marginB2C??Ge.marginRate:it.categoryId&&((ht=Ge.marginByCategory)==null?void 0:ht[it.categoryId])!==void 0&&(xt=Ge.marginByCategory[it.categoryId]),he+=It,ze+=It*(1-xt)}),{year:de,revenue:he,cogs:ze}}let Ze=0,ft=0;return k.forEach(Ge=>{if(Ge.volumesByChannel){const yt=Math.round((Ge.volumesByChannel.B2C[de]||0)*(1+fe.volumeAdjustment)),he=Math.round((Ge.volumesByChannel.B2B[de]||0)*(1+fe.volumeAdjustment)),ze=Math.round((Ge.volumesByChannel.OEM[de]||0)*(1+fe.volumeAdjustment));Ze+=yt*Ge.priceHT*(1+fe.priceAdjustment)+he*(Ge.priceHT_B2B||Ge.priceHT)*(1+fe.priceAdjustment)+ze*(Ge.priceHT_OEM||Ge.priceHT)*(1+fe.priceAdjustment),ft+=(yt+he+ze)*Ge.unitCost}else{const yt=Math.round((Ge.volumesByYear[de]||0)*(1+fe.volumeAdjustment));Ze+=yt*Ge.priceHT*(1+fe.priceAdjustment),ft+=yt*Ge.unitCost}}),{year:de,revenue:Ze,cogs:ft}}),Z=D.map(de=>{const Me=A.filter(Ze=>Ze.startYear<=de);return{year:de,payroll:Me.reduce((Ze,ft)=>Ze+ft.annualCostLoaded,0),headcount:Me.length}}),te=D.map((de,Me)=>{let Ze=0;const ft={};if(Q==="simple"){const Ge=(ee.strategicOpex||[]).reduce((yt,he)=>yt+he.amount,0);Ze=(ee.baseAmount+Ge)*Math.pow(1+ee.growthRate,Me)}else $.forEach(Ge=>{var ze,it;if(Ge.startYear>de)return;let yt=Ge.baseAnnualCost;const he=de-Ge.startYear;if(Ge.evolutionType==="growth_rate")yt*=Math.pow(1+(Ge.growthRate||0),he);else if(Ge.evolutionType==="linked_to_revenue")yt=(((ze=V[Me])==null?void 0:ze.revenue)||0)*(Ge.revenueRatio||0);else if(Ge.evolutionType==="step"){const It=(it=Ge.steps)==null?void 0:it.filter(xt=>xt.year<=de).pop();It&&(yt=It.newAnnualCost)}yt*=1+fe.opexAdjustment,Ze+=yt,ft[Ge.category]=(ft[Ge.category]||0)+yt});return{year:de,opex:Ze,byCategory:ft}}),be=D.map(de=>({year:de,capex:k.filter(Me=>Me.launchYear===de).reduce((Me,Ze)=>Me+Ze.devCost,0),depreciation:tG(k,de)})),Re=q,We=A.filter(de=>de.startYear<=Re).length,ge=A.filter(de=>de.startYear<=Re).reduce((de,Me)=>de+Me.annualCostLoaded,0),Ne=M.map(de=>({...de,quarter:de.quarter||"Q1"})),F=cG(k,A,$,se?[]:Ne,H,q,G,fe,Q,ee),J={},oe={},K={},ie={};V.forEach(de=>{J[de.year]=de.revenue,oe[de.year]=de.cogs}),Z.forEach(de=>{K[de.year]=de.payroll}),te.forEach(de=>{ie[de.year]=de.opex});const ve=mG(U,{annualRevenue:J,annualCogs:oe,annualPayroll:K,annualOpex:ie},M,H,q,G,se);return{totalDevCost:Y,revenueByYear:V,payrollByYear:Z,opexByYear:te,capexByYear:be,totalHeadcount:We,currentPayroll:ge,treasuryProjection:F,monthlyTreasuryProjection:ve}},[r]);return s.jsx(V3.Provider,{value:{state:r,computed:R,updateProducts:o,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:m,removeExpense:y,updateFundingRounds:g,updateScenarioSettings:p,setActiveScenario:v,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,updateClientRevenueConfig:j,setOpexMode:S,updateSimpleOpexConfig:C,setExcludeFundingFromTreasury:P,updateHistoricalData:N,updateMonthlyTreasuryConfig:O,updateValuationConfig:T,saveAll:E},children:e})}function rs(){const e=w.useContext(V3);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function kC({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return s.jsx("div",{className:ue("flex items-center gap-2",r),children:s.jsxs("span",{className:ue("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",s.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const jZ=[{items:[{to:"/",label:"Tableau de bord",icon:cH,tabKey:"costflow"}]},{label:"Prvisionnel",items:[{to:"/product",label:"Plan Produit",icon:tc,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:xi,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:vH,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:cv,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:GI,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:XW,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:Fo,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:Bo,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:pH,tabKey:"crm"},{to:"/pricing",label:"Pricing",icon:nC,tabKey:"pricing"},{to:"/costflow",label:"Production et BE",icon:ZI,tabKey:"costflow"},{to:"/planning-dev",label:"Planning Dev",icon:$j,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:tC,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:QI,tabKey:"snapshots"}]}];function Pn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Ca(),a=ip(),[i,o]=w.useState(!1),l=async()=>{await t(),a("/auth")},c=jZ.map(u=>({...u,items:u.items.filter(d=>n(d.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>o(!i),children:i?s.jsx(_i,{className:"h-5 w-5"}):s.jsx(mH,{className:"h-5 w-5"})}),s.jsxs("aside",{className:ue("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[s.jsx(kC,{variant:"compact",color:"light"}),s.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,d)=>s.jsxs("div",{className:ue(d>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&s.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(f=>{const h=f.icon;return s.jsxs(iE,{to:f.to,end:!0,onClick:()=>o(!1),className:({isActive:m})=>ue("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",m?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(h,{className:"h-4 w-4"}),f.label]},f.to)})]},d)),r&&s.jsxs(iE,{to:"/permissions",onClick:()=>o(!1),className:({isActive:u})=>ue("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(aD,{className:"h-4 w-4"}),"Administration"]})]}),s.jsx("div",{className:"p-4 border-t border-sidebar-border",children:s.jsxs(ne,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[s.jsx(fH,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>o(!1)}),s.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function kn({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=Ca();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?s.jsx(xv,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(xv,{to:"/auth",replace:!0})}function Fs({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return s.jsx("div",{className:ue("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:s.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[s.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&s.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function Yd({onSave:e,hasUnsavedChanges:t}){return s.jsxs(ne,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[s.jsx(mx,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Kt=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ue("w-full caption-bottom text-sm",e),...t})}));Kt.displayName="Table";const Gt=w.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ue("[&_tr]:border-b",e),...t}));Gt.displayName="TableHeader";const Yt=w.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ue("[&_tr:last-child]:border-0",e),...t}));Yt.displayName="TableBody";const _Z=w.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_Z.displayName="TableFooter";const _e=w.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ue("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));_e.displayName="TableRow";const ce=w.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ce.displayName="TableHead";const W=w.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));W.displayName="TableCell";const SZ=w.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));SZ.displayName="TableCaption";function CZ({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,priceHT_B2B:300,priceHT_OEM:220,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return s.jsxs(Ke,{title:"Pricing Produits",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Produit"}),s.jsx(ce,{className:"text-center",children:"Lancement"}),s.jsx(ce,{className:"text-right",children:"Prix TTC B2C"}),s.jsx(ce,{className:"text-right",children:"Prix HT B2C"}),s.jsx(ce,{className:"text-right",children:"Prix HT B2B"}),s.jsx(ce,{className:"text-right",children:"Prix HT OEM"}),s.jsx(ce,{className:"text-right",children:"Cot Unitaire"}),s.jsx(ce,{className:"text-right",children:"Marque B2C"}),s.jsx(ce,{className:"text-right",children:"Marque B2B"}),s.jsx(ce,{className:"text-right",children:"Marque OEM"}),s.jsx(ce,{className:"text-right",children:"CAPEX R&D"}),s.jsx(ce,{className:"text-center",children:"Amort. (ans)"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:e.map(i=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsx(xe,{value:i.name,onChange:o=>t({...i,name:o.target.value}),className:"h-8 w-40"})}),s.jsx(W,{className:"text-center",children:s.jsx(xe,{type:"number",value:i.launchYear,onChange:o=>t({...i,launchYear:Number(o.target.value)}),className:"h-8 w-20 text-center mx-auto"})}),s.jsx(W,{className:"text-right font-mono-numbers",children:s.jsx(xe,{type:"number",value:i.priceTTC_B2C,onChange:o=>{const l=Number(o.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),s.jsx(W,{className:"text-right font-mono-numbers",children:re(i.priceHT)}),s.jsx(W,{className:"text-right font-mono-numbers",children:s.jsx(xe,{type:"number",value:i.priceHT_B2B,onChange:o=>t({...i,priceHT_B2B:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsx(W,{className:"text-right font-mono-numbers",children:s.jsx(xe,{type:"number",value:i.priceHT_OEM,onChange:o=>t({...i,priceHT_OEM:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsx(W,{className:"text-right font-mono-numbers",children:s.jsx(xe,{type:"number",value:i.unitCost,onChange:o=>t({...i,unitCost:Number(o.target.value)}),className:"h-8 w-24 text-right"})}),s.jsxs(W,{className:"text-right font-mono-numbers",children:[i.priceHT>0?((1-i.unitCost/i.priceHT)*100).toFixed(1):0,"%"]}),s.jsxs(W,{className:"text-right font-mono-numbers",children:[i.priceHT_B2B>0?((1-i.unitCost/i.priceHT_B2B)*100).toFixed(1):0,"%"]}),s.jsxs(W,{className:"text-right font-mono-numbers",children:[i.priceHT_OEM>0?((1-i.unitCost/i.priceHT_OEM)*100).toFixed(1):0,"%"]}),s.jsx(W,{className:"text-right font-mono-numbers",children:s.jsx(xe,{type:"number",value:i.devCost,onChange:o=>t({...i,devCost:Number(o.target.value)}),className:"h-8 w-28 text-right"})}),s.jsx(W,{className:"text-center",children:s.jsx(xe,{type:"number",value:i.devAmortizationYears||5,min:1,onChange:o=>t({...i,devAmortizationYears:Number(o.target.value)}),className:"h-8 w-16 text-center mx-auto"})}),s.jsx(W,{children:s.jsx(ne,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:s.jsx(nr,{className:"h-4 w-4"})})})]},i.id))})]})}),s.jsxs(ne,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var NZ=Array.isArray,oa=NZ,PZ=typeof xp=="object"&&xp&&xp.Object===Object&&xp,W3=PZ,kZ=W3,EZ=typeof self=="object"&&self&&self.Object===Object&&self,AZ=kZ||EZ||Function("return this")(),ns=AZ,OZ=ns,TZ=OZ.Symbol,op=TZ,TE=op,H3=Object.prototype,RZ=H3.hasOwnProperty,MZ=H3.toString,Cf=TE?TE.toStringTag:void 0;function $Z(e){var t=RZ.call(e,Cf),r=e[Cf];try{e[Cf]=void 0;var n=!0}catch{}var a=MZ.call(e);return n&&(t?e[Cf]=r:delete e[Cf]),a}var IZ=$Z,DZ=Object.prototype,LZ=DZ.toString;function BZ(e){return LZ.call(e)}var FZ=BZ,RE=op,zZ=IZ,UZ=FZ,VZ="[object Null]",WZ="[object Undefined]",ME=RE?RE.toStringTag:void 0;function HZ(e){return e==null?e===void 0?WZ:VZ:ME&&ME in Object(e)?zZ(e):UZ(e)}var zs=HZ;function qZ(e){return e!=null&&typeof e=="object"}var Us=qZ,KZ=zs,GZ=Us,YZ="[object Symbol]";function XZ(e){return typeof e=="symbol"||GZ(e)&&KZ(e)==YZ}var Xd=XZ,ZZ=oa,QZ=Xd,JZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eQ=/^\w*$/;function tQ(e,t){if(ZZ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||QZ(e)?!0:eQ.test(e)||!JZ.test(e)||t!=null&&e in Object(t)}var EC=tQ;function rQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qo=rQ;const Zd=Bt(Qo);var nQ=zs,aQ=Qo,iQ="[object AsyncFunction]",sQ="[object Function]",oQ="[object GeneratorFunction]",lQ="[object Proxy]";function cQ(e){if(!aQ(e))return!1;var t=nQ(e);return t==sQ||t==oQ||t==iQ||t==lQ}var AC=cQ;const Je=Bt(AC);var uQ=ns,dQ=uQ["__core-js_shared__"],fQ=dQ,zb=fQ,$E=function(){var e=/[^.]+$/.exec(zb&&zb.keys&&zb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hQ(e){return!!$E&&$E in e}var mQ=hQ,pQ=Function.prototype,gQ=pQ.toString;function vQ(e){if(e!=null){try{return gQ.call(e)}catch{}try{return e+""}catch{}}return""}var q3=vQ,yQ=AC,xQ=mQ,bQ=Qo,wQ=q3,jQ=/[\\^$.*+?()[\]{}|]/g,_Q=/^\[object .+?Constructor\]$/,SQ=Function.prototype,CQ=Object.prototype,NQ=SQ.toString,PQ=CQ.hasOwnProperty,kQ=RegExp("^"+NQ.call(PQ).replace(jQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EQ(e){if(!bQ(e)||xQ(e))return!1;var t=yQ(e)?kQ:_Q;return t.test(wQ(e))}var AQ=EQ;function OQ(e,t){return e==null?void 0:e[t]}var TQ=OQ,RQ=AQ,MQ=TQ;function $Q(e,t){var r=MQ(e,t);return RQ(r)?r:void 0}var gc=$Q,IQ=gc,DQ=IQ(Object,"create"),Mx=DQ,IE=Mx;function LQ(){this.__data__=IE?IE(null):{},this.size=0}var BQ=LQ;function FQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zQ=FQ,UQ=Mx,VQ="__lodash_hash_undefined__",WQ=Object.prototype,HQ=WQ.hasOwnProperty;function qQ(e){var t=this.__data__;if(UQ){var r=t[e];return r===VQ?void 0:r}return HQ.call(t,e)?t[e]:void 0}var KQ=qQ,GQ=Mx,YQ=Object.prototype,XQ=YQ.hasOwnProperty;function ZQ(e){var t=this.__data__;return GQ?t[e]!==void 0:XQ.call(t,e)}var QQ=ZQ,JQ=Mx,eJ="__lodash_hash_undefined__";function tJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=JQ&&t===void 0?eJ:t,this}var rJ=tJ,nJ=BQ,aJ=zQ,iJ=KQ,sJ=QQ,oJ=rJ;function Qd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qd.prototype.clear=nJ;Qd.prototype.delete=aJ;Qd.prototype.get=iJ;Qd.prototype.has=sJ;Qd.prototype.set=oJ;var lJ=Qd;function cJ(){this.__data__=[],this.size=0}var uJ=cJ;function dJ(e,t){return e===t||e!==e&&t!==t}var OC=dJ,fJ=OC;function hJ(e,t){for(var r=e.length;r--;)if(fJ(e[r][0],t))return r;return-1}var $x=hJ,mJ=$x,pJ=Array.prototype,gJ=pJ.splice;function vJ(e){var t=this.__data__,r=mJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gJ.call(t,r,1),--this.size,!0}var yJ=vJ,xJ=$x;function bJ(e){var t=this.__data__,r=xJ(t,e);return r<0?void 0:t[r][1]}var wJ=bJ,jJ=$x;function _J(e){return jJ(this.__data__,e)>-1}var SJ=_J,CJ=$x;function NJ(e,t){var r=this.__data__,n=CJ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var PJ=NJ,kJ=uJ,EJ=yJ,AJ=wJ,OJ=SJ,TJ=PJ;function Jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jd.prototype.clear=kJ;Jd.prototype.delete=EJ;Jd.prototype.get=AJ;Jd.prototype.has=OJ;Jd.prototype.set=TJ;var Ix=Jd,RJ=gc,MJ=ns,$J=RJ(MJ,"Map"),TC=$J,DE=lJ,IJ=Ix,DJ=TC;function LJ(){this.size=0,this.__data__={hash:new DE,map:new(DJ||IJ),string:new DE}}var BJ=LJ;function FJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zJ=FJ,UJ=zJ;function VJ(e,t){var r=e.__data__;return UJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Dx=VJ,WJ=Dx;function HJ(e){var t=WJ(this,e).delete(e);return this.size-=t?1:0,t}var qJ=HJ,KJ=Dx;function GJ(e){return KJ(this,e).get(e)}var YJ=GJ,XJ=Dx;function ZJ(e){return XJ(this,e).has(e)}var QJ=ZJ,JJ=Dx;function eee(e,t){var r=JJ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var tee=eee,ree=BJ,nee=qJ,aee=YJ,iee=QJ,see=tee;function ef(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ef.prototype.clear=ree;ef.prototype.delete=nee;ef.prototype.get=aee;ef.prototype.has=iee;ef.prototype.set=see;var RC=ef,K3=RC,oee="Expected a function";function MC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oee);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(MC.Cache||K3),r}MC.Cache=K3;var G3=MC;const lee=Bt(G3);var cee=G3,uee=500;function dee(e){var t=cee(e,function(n){return r.size===uee&&r.clear(),n}),r=t.cache;return t}var fee=dee,hee=fee,mee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pee=/\\(\\)?/g,gee=hee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mee,function(r,n,a,i){t.push(a?i.replace(pee,"$1"):n||r)}),t}),vee=gee;function yee(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var $C=yee,LE=op,xee=$C,bee=oa,wee=Xd,jee=1/0,BE=LE?LE.prototype:void 0,FE=BE?BE.toString:void 0;function Y3(e){if(typeof e=="string")return e;if(bee(e))return xee(e,Y3)+"";if(wee(e))return FE?FE.call(e):"";var t=e+"";return t=="0"&&1/e==-jee?"-0":t}var _ee=Y3,See=_ee;function Cee(e){return e==null?"":See(e)}var X3=Cee,Nee=oa,Pee=EC,kee=vee,Eee=X3;function Aee(e,t){return Nee(e)?e:Pee(e,t)?[e]:kee(Eee(e))}var Z3=Aee,Oee=Xd,Tee=1/0;function Ree(e){if(typeof e=="string"||Oee(e))return e;var t=e+"";return t=="0"&&1/e==-Tee?"-0":t}var Lx=Ree,Mee=Z3,$ee=Lx;function Iee(e,t){t=Mee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$ee(t[r++])];return r&&r==n?e:void 0}var IC=Iee,Dee=IC;function Lee(e,t,r){var n=e==null?void 0:Dee(e,t);return n===void 0?r:n}var Q3=Lee;const ba=Bt(Q3);function Bee(e){return e==null}var Fee=Bee;const Qe=Bt(Fee);var zee=zs,Uee=oa,Vee=Us,Wee="[object String]";function Hee(e){return typeof e=="string"||!Uee(e)&&Vee(e)&&zee(e)==Wee}var qee=Hee;const nc=Bt(qee);var J3={exports:{}},Xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=Symbol.for("react.element"),LC=Symbol.for("react.portal"),Bx=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),zx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),Kee=Symbol.for("react.server_context"),Wx=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),qx=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),Gee=Symbol.for("react.offscreen"),eL;eL=Symbol.for("react.module.reference");function qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DC:switch(e=e.type,e){case Bx:case zx:case Fx:case Hx:case qx:return e;default:switch(e=e&&e.$$typeof,e){case Kee:case Vx:case Wx:case Gx:case Kx:case Ux:return e;default:return t}}case LC:return t}}}Xt.ContextConsumer=Vx;Xt.ContextProvider=Ux;Xt.Element=DC;Xt.ForwardRef=Wx;Xt.Fragment=Bx;Xt.Lazy=Gx;Xt.Memo=Kx;Xt.Portal=LC;Xt.Profiler=zx;Xt.StrictMode=Fx;Xt.Suspense=Hx;Xt.SuspenseList=qx;Xt.isAsyncMode=function(){return!1};Xt.isConcurrentMode=function(){return!1};Xt.isContextConsumer=function(e){return qa(e)===Vx};Xt.isContextProvider=function(e){return qa(e)===Ux};Xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DC};Xt.isForwardRef=function(e){return qa(e)===Wx};Xt.isFragment=function(e){return qa(e)===Bx};Xt.isLazy=function(e){return qa(e)===Gx};Xt.isMemo=function(e){return qa(e)===Kx};Xt.isPortal=function(e){return qa(e)===LC};Xt.isProfiler=function(e){return qa(e)===zx};Xt.isStrictMode=function(e){return qa(e)===Fx};Xt.isSuspense=function(e){return qa(e)===Hx};Xt.isSuspenseList=function(e){return qa(e)===qx};Xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bx||e===zx||e===Fx||e===Hx||e===qx||e===Gee||typeof e=="object"&&e!==null&&(e.$$typeof===Gx||e.$$typeof===Kx||e.$$typeof===Ux||e.$$typeof===Vx||e.$$typeof===Wx||e.$$typeof===eL||e.getModuleId!==void 0)};Xt.typeOf=qa;J3.exports=Xt;var Yee=J3.exports,Xee=zs,Zee=Us,Qee="[object Number]";function Jee(e){return typeof e=="number"||Zee(e)&&Xee(e)==Qee}var tL=Jee;const ete=Bt(tL);var tte=tL;function rte(e){return tte(e)&&e!=+e}var nte=rte;const tf=Bt(nte);var Un=function(t){return t===0?0:t>0?1:-1},Ol=function(t){return nc(t)&&t.indexOf("%")===t.length-1},we=function(t){return ete(t)&&!tf(t)},ate=function(t){return Qe(t)},nn=function(t){return we(t)||nc(t)},ite=0,Jo=function(t){var r=++ite;return"".concat(t||"").concat(r)},Vn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!nc(t))return n;var i;if(Ol(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return tf(i)&&(i=n),a&&i>r&&(i=r),i},oo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ste=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Cr=function(t,r){return we(t)&&we(r)?function(n){return t+n*(r-t)}:function(){return r}};function Cv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ba(n,t))===r})}var ote=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},lte=function(t,r){return we(t)&&we(r)?t-r:nc(t)&&nc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ju(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}var cte=["viewBox","children"],ute=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zE=["points","pathLength"],Ub={svg:cte,polygon:zE,polyline:zE},BC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Zd(n))return null;var a={};return Object.keys(n).forEach(function(i){BC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},dte=function(t,r,n){return function(a){return t(r,n,a),null}},Vo=function(t,r,n){if(!Zd(t)||u1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];BC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=dte(o,r,n))}),a},fte=["children"],hte=["children"];function UE(e,t){if(e==null)return{};var r=mte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}var VE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ss=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},WE=null,Vb=null,FC=function e(t){if(t===WE&&Array.isArray(Vb))return Vb;var r=[];return w.Children.forEach(t,function(n){Qe(n)||(Yee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vb=r,WE=t,r};function qn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ss(a)}):n=[Ss(t)],FC(e).forEach(function(a){var i=ba(a,"type.displayName")||ba(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function fa(e,t){var r=qn(e,t);return r&&r[0]}var HE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!we(n)||n<=0||!we(a)||a<=0)},pte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gte=function(t){return t&&t.type&&nc(t.type)&&pte.indexOf(t.type)>=0},rL=function(t){return t&&d1(t)==="object"&&"clipDot"in t},vte=function(t,r,n,a){var i,o=(i=Ub==null?void 0:Ub[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Je(t)&&(a&&o.includes(r)||ute.includes(r))||n&&BC.includes(r)},Ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Zd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;vte((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},f1=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return qE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!qE(i,o))return!1}return!0},qE=function(t,r){if(Qe(t)&&Qe(r))return!0;if(!Qe(t)&&!Qe(r)){var n=t.props||{},a=n.children,i=UE(n,fte),o=r.props||{},l=o.children,c=UE(o,hte);return a&&l?ju(i,c)&&f1(a,l):!a&&!l?ju(i,c):!1}return!1},KE=function(t,r){var n=[],a={};return FC(t).forEach(function(i,o){if(gte(i))n.push(i);else if(i){var l=Ss(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},yte=function(t){var r=t&&t.type;return r&&VE[r]?VE[r]:null},xte=function(t,r){return FC(r).indexOf(t)},bte=["children","width","height","viewBox","className","style","title","desc"];function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}function wte(e,t){if(e==null)return{};var r=jte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=wte(e,bte),d=a||{width:r,height:n,x:0,y:0},f=ut("recharts-surface",i);return I.createElement("svg",h1({},Ue(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var _te=["children","className"];function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p1.apply(this,arguments)}function Ste(e,t){if(e==null)return{};var r=Cte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vt=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=Ste(e,_te),i=ut("recharts-layer",n);return I.createElement("g",p1({className:i},Ue(a,!0),{ref:t}),r)}),bi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Nte(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Pte=Nte,kte=Pte;function Ete(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:kte(e,t,r)}var Ate=Ete,Ote="\\ud800-\\udfff",Tte="\\u0300-\\u036f",Rte="\\ufe20-\\ufe2f",Mte="\\u20d0-\\u20ff",$te=Tte+Rte+Mte,Ite="\\ufe0e\\ufe0f",Dte="\\u200d",Lte=RegExp("["+Dte+Ote+$te+Ite+"]");function Bte(e){return Lte.test(e)}var nL=Bte;function Fte(e){return e.split("")}var zte=Fte,aL="\\ud800-\\udfff",Ute="\\u0300-\\u036f",Vte="\\ufe20-\\ufe2f",Wte="\\u20d0-\\u20ff",Hte=Ute+Vte+Wte,qte="\\ufe0e\\ufe0f",Kte="["+aL+"]",g1="["+Hte+"]",v1="\\ud83c[\\udffb-\\udfff]",Gte="(?:"+g1+"|"+v1+")",iL="[^"+aL+"]",sL="(?:\\ud83c[\\udde6-\\uddff]){2}",oL="[\\ud800-\\udbff][\\udc00-\\udfff]",Yte="\\u200d",lL=Gte+"?",cL="["+qte+"]?",Xte="(?:"+Yte+"(?:"+[iL,sL,oL].join("|")+")"+cL+lL+")*",Zte=cL+lL+Xte,Qte="(?:"+[iL+g1+"?",g1,sL,oL,Kte].join("|")+")",Jte=RegExp(v1+"(?="+v1+")|"+Qte+Zte,"g");function ere(e){return e.match(Jte)||[]}var tre=ere,rre=zte,nre=nL,are=tre;function ire(e){return nre(e)?are(e):rre(e)}var sre=ire,ore=Ate,lre=nL,cre=sre,ure=X3;function dre(e){return function(t){t=ure(t);var r=lre(t)?cre(t):void 0,n=r?r[0]:t.charAt(0),a=r?ore(r,1).join(""):t.slice(1);return n[e]()+a}}var fre=dre,hre=fre,mre=hre("toUpperCase"),pre=mre;const Yx=Bt(pre);function dr(e){return function(){return e}}const uL=Math.cos,Pv=Math.sin,Ni=Math.sqrt,kv=Math.PI,Xx=2*kv,y1=Math.PI,x1=2*y1,yl=1e-6,gre=x1-yl;function dL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class yre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dL:vre(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yl)if(!(Math.abs(f*c-u*d)>yl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=a-l,g=c*c+u*u,p=m*m+y*y,v=Math.sqrt(g),x=Math.sqrt(h),b=i*Math.tan((y1-Math.acos((g+h-p)/(2*v*x)))/2),_=b/x,j=b/v;Math.abs(_-1)>yl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yl||Math.abs(this._y1-d)>yl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%x1+x1),h>gre?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>yl&&this._append`A${n},${n},0,${+(h>=y1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yre(t)}function UC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fL(e){this._context=e}fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zx(e){return new fL(e)}function hL(e){return e[0]}function mL(e){return e[1]}function pL(e,t){var r=dr(!0),n=null,a=Zx,i=null,o=zC(l);e=typeof e=="function"?e:e===void 0?hL:dr(e),t=typeof t=="function"?t:t===void 0?mL:dr(t);function l(c){var u,d=(c=UC(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Gp(e,t,r){var n=null,a=dr(!0),i=null,o=Zx,l=null,c=zC(u);e=typeof e=="function"?e:e===void 0?hL:dr(+e),t=typeof t=="function"?t:dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mL:dr(+r);function u(f){var h,m,y,g=(f=UC(f)).length,p,v=!1,x,b=new Array(g),_=new Array(g);for(i==null&&(l=o(x=c())),h=0;h<=g;++h){if(!(h<g&&a(p=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(p,h,f),_[h]=+t(p,h,f),l.point(n?+n(p,h,f):b[h],r?+r(p,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return pL().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:dr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class gL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xre(e){return new gL(e,!0)}function bre(e){return new gL(e,!1)}const VC={draw(e,t){const r=Ni(t/kv);e.moveTo(r,0),e.arc(0,0,r,0,Xx)}},wre={draw(e,t){const r=Ni(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vL=Ni(1/3),jre=vL*2,_re={draw(e,t){const r=Ni(t/jre),n=r*vL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Sre={draw(e,t){const r=Ni(t),n=-r/2;e.rect(n,n,r,r)}},Cre=.8908130915292852,yL=Pv(kv/10)/Pv(7*kv/10),Nre=Pv(Xx/10)*yL,Pre=-uL(Xx/10)*yL,kre={draw(e,t){const r=Ni(t*Cre),n=Nre*r,a=Pre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xx*i/5,l=uL(o),c=Pv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Wb=Ni(3),Ere={draw(e,t){const r=-Ni(t/(Wb*3));e.moveTo(0,r*2),e.lineTo(-Wb*r,-r),e.lineTo(Wb*r,-r),e.closePath()}},ka=-.5,Ea=Ni(3)/2,b1=1/Ni(12),Are=(b1/2+1)*3,Ore={draw(e,t){const r=Ni(t/Are),n=r/2,a=r*b1,i=n,o=r*b1+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ka*n-Ea*a,Ea*n+ka*a),e.lineTo(ka*i-Ea*o,Ea*i+ka*o),e.lineTo(ka*l-Ea*c,Ea*l+ka*c),e.lineTo(ka*n+Ea*a,ka*a-Ea*n),e.lineTo(ka*i+Ea*o,ka*o-Ea*i),e.lineTo(ka*l+Ea*c,ka*c-Ea*l),e.closePath()}};function Tre(e,t){let r=null,n=zC(a);e=typeof e=="function"?e:dr(e||VC),t=typeof t=="function"?t:dr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ev(){}function Av(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xL(e){this._context=e}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rre(e){return new xL(e)}function bL(e){this._context=e}bL.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mre(e){return new bL(e)}function wL(e){this._context=e}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $re(e){return new wL(e)}function jL(e){this._context=e}jL.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ire(e){return new jL(e)}function GE(e){return e<0?-1:1}function YE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(GE(i)+GE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function XE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Ov(e){this._context=e}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,XE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,XE(this,r=YE(this,e,t)),r);break;default:Hb(this,this._t0,r=YE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _L(e){this._context=new SL(e)}(_L.prototype=Object.create(Ov.prototype)).point=function(e,t){Ov.prototype.point.call(this,t,e)};function SL(e){this._context=e}SL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Dre(e){return new Ov(e)}function Lre(e){return new _L(e)}function CL(e){this._context=e}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ZE(e),a=ZE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Bre(e){return new CL(e)}function Qx(e,t){this._context=e,this._t=t}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fre(e){return new Qx(e,.5)}function zre(e){return new Qx(e,0)}function Ure(e){return new Qx(e,1)}function Gu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function w1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vre(e,t){return e[t]}function Wre(e){const t=[];return t.key=e,t}function Hre(){var e=dr([]),t=w1,r=Gu,n=Vre;function a(i){var o=Array.from(e.apply(this,arguments),Wre),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=UC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?w1:typeof i=="function"?i:dr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Gu,a):r},a}function qre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Gu(e,t)}}function Kre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gu(e,t)}}function Gre(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var g=e[t[y]],p=g[n][1]||0,v=g[n-1][1]||0;m+=p-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Gu(e,t)}}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}var Yre=["type","size","sizeType"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){Xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xre(e,t,r){return t=Zre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=Qre(e,"string");return nm(t)=="symbol"?t:t+""}function Qre(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e,t){if(e==null)return{};var r=ene(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ene(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NL={symbolCircle:VC,symbolCross:wre,symbolDiamond:_re,symbolSquare:Sre,symbolStar:kre,symbolTriangle:Ere,symbolWye:Ore},tne=Math.PI/180,rne=function(t){var r="symbol".concat(Yx(t));return NL[r]||VC},nne=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*tne;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ane=function(t,r){NL["symbol".concat(Yx(t))]=r},Jx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Jre(t,Yre),u=JE(JE({},c),{},{type:n,size:i,sizeType:l}),d=function(){var p=rne(n),v=Tre().type(p).size(nne(i,l,n));return v()},f=u.className,h=u.cx,m=u.cy,y=Ue(u,!0);return h===+h&&m===+m&&i===+i?I.createElement("path",j1({},y,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Jx.registerSymbol=ane;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ine(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function one(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kL(n.key),n)}}function lne(e,t,r){return t&&one(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cne(e,t,r){return t=Tv(t),une(e,PL()?Reflect.construct(t,r||[],Tv(e).constructor):t.apply(e,r))}function une(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dne(e)}function dne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(e)}function fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S1(e,t)}function am(e,t,r){return t=kL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=hne(e,"string");return Yu(t)=="symbol"?t:t+""}function hne(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aa=32,WC=function(e){function t(){return sne(this,t),cne(this,t,arguments)}return fne(t,e),lne(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Aa/2,o=Aa/6,l=Aa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Aa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Aa,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Aa/8,"h").concat(Aa,"v").concat(Aa*3/4,"h").concat(-Aa,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=ine({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(Jx,{fill:c,cx:i,cy:i,size:Aa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Aa,height:Aa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var g=m.formatter||c,p=ut(am(am({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Je(m.value)?null:m.value;bi(!Je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return I.createElement("li",_1({className:p,style:f,key:"legend-item-".concat(y)},Vo(n.props,m,y)),I.createElement(m1,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(v,m,y):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);am(WC,"displayName","Legend");am(WC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mne=Ix;function pne(){this.__data__=new mne,this.size=0}var gne=pne;function vne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var yne=vne;function xne(e){return this.__data__.get(e)}var bne=xne;function wne(e){return this.__data__.has(e)}var jne=wne,_ne=Ix,Sne=TC,Cne=RC,Nne=200;function Pne(e,t){var r=this.__data__;if(r instanceof _ne){var n=r.__data__;if(!Sne||n.length<Nne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cne(n)}return r.set(e,t),this.size=r.size,this}var kne=Pne,Ene=Ix,Ane=gne,One=yne,Tne=bne,Rne=jne,Mne=kne;function rf(e){var t=this.__data__=new Ene(e);this.size=t.size}rf.prototype.clear=Ane;rf.prototype.delete=One;rf.prototype.get=Tne;rf.prototype.has=Rne;rf.prototype.set=Mne;var EL=rf,$ne="__lodash_hash_undefined__";function Ine(e){return this.__data__.set(e,$ne),this}var Dne=Ine;function Lne(e){return this.__data__.has(e)}var Bne=Lne,Fne=RC,zne=Dne,Une=Bne;function Rv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fne;++t<r;)this.add(e[t])}Rv.prototype.add=Rv.prototype.push=zne;Rv.prototype.has=Une;var AL=Rv;function Vne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var OL=Vne;function Wne(e,t){return e.has(t)}var TL=Wne,Hne=AL,qne=OL,Kne=TL,Gne=1,Yne=2;function Xne(e,t,r,n,a,i){var o=r&Gne,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Yne?new Hne:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],g=t[f];if(n)var p=o?n(g,y,f,t,e,i):n(y,g,f,e,t,i);if(p!==void 0){if(p)continue;h=!1;break}if(m){if(!qne(t,function(v,x){if(!Kne(m,x)&&(y===v||a(y,v,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(y===g||a(y,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var RL=Xne,Zne=ns,Qne=Zne.Uint8Array,Jne=Qne;function eae(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var tae=eae;function rae(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var HC=rae,tA=op,rA=Jne,nae=OC,aae=RL,iae=tae,sae=HC,oae=1,lae=2,cae="[object Boolean]",uae="[object Date]",dae="[object Error]",fae="[object Map]",hae="[object Number]",mae="[object RegExp]",pae="[object Set]",gae="[object String]",vae="[object Symbol]",yae="[object ArrayBuffer]",xae="[object DataView]",nA=tA?tA.prototype:void 0,qb=nA?nA.valueOf:void 0;function bae(e,t,r,n,a,i,o){switch(r){case xae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yae:return!(e.byteLength!=t.byteLength||!i(new rA(e),new rA(t)));case cae:case uae:case hae:return nae(+e,+t);case dae:return e.name==t.name&&e.message==t.message;case mae:case gae:return e==t+"";case fae:var l=iae;case pae:var c=n&oae;if(l||(l=sae),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=lae,o.set(e,t);var d=aae(l(e),l(t),n,a,i,o);return o.delete(e),d;case vae:if(qb)return qb.call(e)==qb.call(t)}return!1}var wae=bae;function jae(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ML=jae,_ae=ML,Sae=oa;function Cae(e,t,r){var n=t(e);return Sae(e)?n:_ae(n,r(e))}var Nae=Cae;function Pae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var kae=Pae;function Eae(){return[]}var Aae=Eae,Oae=kae,Tae=Aae,Rae=Object.prototype,Mae=Rae.propertyIsEnumerable,aA=Object.getOwnPropertySymbols,$ae=aA?function(e){return e==null?[]:(e=Object(e),Oae(aA(e),function(t){return Mae.call(e,t)}))}:Tae,Iae=$ae;function Dae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Lae=Dae,Bae=zs,Fae=Us,zae="[object Arguments]";function Uae(e){return Fae(e)&&Bae(e)==zae}var Vae=Uae,iA=Vae,Wae=Us,$L=Object.prototype,Hae=$L.hasOwnProperty,qae=$L.propertyIsEnumerable,Kae=iA(function(){return arguments}())?iA:function(e){return Wae(e)&&Hae.call(e,"callee")&&!qae.call(e,"callee")},qC=Kae,Mv={exports:{}};function Gae(){return!1}var Yae=Gae;Mv.exports;(function(e,t){var r=ns,n=Yae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Mv,Mv.exports);var IL=Mv.exports,Xae=9007199254740991,Zae=/^(?:0|[1-9]\d*)$/;function Qae(e,t){var r=typeof e;return t=t??Xae,!!t&&(r=="number"||r!="symbol"&&Zae.test(e))&&e>-1&&e%1==0&&e<t}var KC=Qae,Jae=9007199254740991;function eie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jae}var GC=eie,tie=zs,rie=GC,nie=Us,aie="[object Arguments]",iie="[object Array]",sie="[object Boolean]",oie="[object Date]",lie="[object Error]",cie="[object Function]",uie="[object Map]",die="[object Number]",fie="[object Object]",hie="[object RegExp]",mie="[object Set]",pie="[object String]",gie="[object WeakMap]",vie="[object ArrayBuffer]",yie="[object DataView]",xie="[object Float32Array]",bie="[object Float64Array]",wie="[object Int8Array]",jie="[object Int16Array]",_ie="[object Int32Array]",Sie="[object Uint8Array]",Cie="[object Uint8ClampedArray]",Nie="[object Uint16Array]",Pie="[object Uint32Array]",vr={};vr[xie]=vr[bie]=vr[wie]=vr[jie]=vr[_ie]=vr[Sie]=vr[Cie]=vr[Nie]=vr[Pie]=!0;vr[aie]=vr[iie]=vr[vie]=vr[sie]=vr[yie]=vr[oie]=vr[lie]=vr[cie]=vr[uie]=vr[die]=vr[fie]=vr[hie]=vr[mie]=vr[pie]=vr[gie]=!1;function kie(e){return nie(e)&&rie(e.length)&&!!vr[tie(e)]}var Eie=kie;function Aie(e){return function(t){return e(t)}}var DL=Aie,$v={exports:{}};$v.exports;(function(e,t){var r=W3,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})($v,$v.exports);var Oie=$v.exports,Tie=Eie,Rie=DL,sA=Oie,oA=sA&&sA.isTypedArray,Mie=oA?Rie(oA):Tie,LL=Mie,$ie=Lae,Iie=qC,Die=oa,Lie=IL,Bie=KC,Fie=LL,zie=Object.prototype,Uie=zie.hasOwnProperty;function Vie(e,t){var r=Die(e),n=!r&&Iie(e),a=!r&&!n&&Lie(e),i=!r&&!n&&!a&&Fie(e),o=r||n||a||i,l=o?$ie(e.length,String):[],c=l.length;for(var u in e)(t||Uie.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bie(u,c)))&&l.push(u);return l}var Wie=Vie,Hie=Object.prototype;function qie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Hie;return e===r}var Kie=qie;function Gie(e,t){return function(r){return e(t(r))}}var BL=Gie,Yie=BL,Xie=Yie(Object.keys,Object),Zie=Xie,Qie=Kie,Jie=Zie,ese=Object.prototype,tse=ese.hasOwnProperty;function rse(e){if(!Qie(e))return Jie(e);var t=[];for(var r in Object(e))tse.call(e,r)&&r!="constructor"&&t.push(r);return t}var nse=rse,ase=AC,ise=GC;function sse(e){return e!=null&&ise(e.length)&&!ase(e)}var lp=sse,ose=Wie,lse=nse,cse=lp;function use(e){return cse(e)?ose(e):lse(e)}var e0=use,dse=Nae,fse=Iae,hse=e0;function mse(e){return dse(e,hse,fse)}var pse=mse,lA=pse,gse=1,vse=Object.prototype,yse=vse.hasOwnProperty;function xse(e,t,r,n,a,i){var o=r&gse,l=lA(e),c=l.length,u=lA(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:yse.call(t,h)))return!1}var m=i.get(e),y=i.get(t);if(m&&y)return m==t&&y==e;var g=!0;i.set(e,t),i.set(t,e);for(var p=o;++f<c;){h=l[f];var v=e[h],x=t[h];if(n)var b=o?n(x,v,h,t,e,i):n(v,x,h,e,t,i);if(!(b===void 0?v===x||a(v,x,r,n,i):b)){g=!1;break}p||(p=h=="constructor")}if(g&&!p){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(t),g}var bse=xse,wse=gc,jse=ns,_se=wse(jse,"DataView"),Sse=_se,Cse=gc,Nse=ns,Pse=Cse(Nse,"Promise"),kse=Pse,Ese=gc,Ase=ns,Ose=Ese(Ase,"Set"),FL=Ose,Tse=gc,Rse=ns,Mse=Tse(Rse,"WeakMap"),$se=Mse,C1=Sse,N1=TC,P1=kse,k1=FL,E1=$se,zL=zs,nf=q3,cA="[object Map]",Ise="[object Object]",uA="[object Promise]",dA="[object Set]",fA="[object WeakMap]",hA="[object DataView]",Dse=nf(C1),Lse=nf(N1),Bse=nf(P1),Fse=nf(k1),zse=nf(E1),xl=zL;(C1&&xl(new C1(new ArrayBuffer(1)))!=hA||N1&&xl(new N1)!=cA||P1&&xl(P1.resolve())!=uA||k1&&xl(new k1)!=dA||E1&&xl(new E1)!=fA)&&(xl=function(e){var t=zL(e),r=t==Ise?e.constructor:void 0,n=r?nf(r):"";if(n)switch(n){case Dse:return hA;case Lse:return cA;case Bse:return uA;case Fse:return dA;case zse:return fA}return t});var Use=xl,Kb=EL,Vse=RL,Wse=wae,Hse=bse,mA=Use,pA=oa,gA=IL,qse=LL,Kse=1,vA="[object Arguments]",yA="[object Array]",Yp="[object Object]",Gse=Object.prototype,xA=Gse.hasOwnProperty;function Yse(e,t,r,n,a,i){var o=pA(e),l=pA(t),c=o?yA:mA(e),u=l?yA:mA(t);c=c==vA?Yp:c,u=u==vA?Yp:u;var d=c==Yp,f=u==Yp,h=c==u;if(h&&gA(e)){if(!gA(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Kb),o||qse(e)?Vse(e,t,r,n,a,i):Wse(e,t,c,r,n,a,i);if(!(r&Kse)){var m=d&&xA.call(e,"__wrapped__"),y=f&&xA.call(t,"__wrapped__");if(m||y){var g=m?e.value():e,p=y?t.value():t;return i||(i=new Kb),a(g,p,r,n,i)}}return h?(i||(i=new Kb),Hse(e,t,r,n,a,i)):!1}var Xse=Yse,Zse=Xse,bA=Us;function UL(e,t,r,n,a){return e===t?!0:e==null||t==null||!bA(e)&&!bA(t)?e!==e&&t!==t:Zse(e,t,r,n,UL,a)}var YC=UL,Qse=EL,Jse=YC,eoe=1,toe=2;function roe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Qse;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Jse(d,u,eoe|toe,n,f):h))return!1}}return!0}var noe=roe,aoe=Qo;function ioe(e){return e===e&&!aoe(e)}var VL=ioe,soe=VL,ooe=e0;function loe(e){for(var t=ooe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,soe(a)]}return t}var coe=loe;function uoe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var WL=uoe,doe=noe,foe=coe,hoe=WL;function moe(e){var t=foe(e);return t.length==1&&t[0][2]?hoe(t[0][0],t[0][1]):function(r){return r===e||doe(r,e,t)}}var poe=moe;function goe(e,t){return e!=null&&t in Object(e)}var voe=goe,yoe=Z3,xoe=qC,boe=oa,woe=KC,joe=GC,_oe=Lx;function Soe(e,t,r){t=yoe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=_oe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&joe(a)&&woe(o,a)&&(boe(e)||xoe(e)))}var Coe=Soe,Noe=voe,Poe=Coe;function koe(e,t){return e!=null&&Poe(e,t,Noe)}var Eoe=koe,Aoe=YC,Ooe=Q3,Toe=Eoe,Roe=EC,Moe=VL,$oe=WL,Ioe=Lx,Doe=1,Loe=2;function Boe(e,t){return Roe(e)&&Moe(t)?$oe(Ioe(e),t):function(r){var n=Ooe(r,e);return n===void 0&&n===t?Toe(r,e):Aoe(t,n,Doe|Loe)}}var Foe=Boe;function zoe(e){return e}var af=zoe;function Uoe(e){return function(t){return t==null?void 0:t[e]}}var Voe=Uoe,Woe=IC;function Hoe(e){return function(t){return Woe(t,e)}}var qoe=Hoe,Koe=Voe,Goe=qoe,Yoe=EC,Xoe=Lx;function Zoe(e){return Yoe(e)?Koe(Xoe(e)):Goe(e)}var Qoe=Zoe,Joe=poe,ele=Foe,tle=af,rle=oa,nle=Qoe;function ale(e){return typeof e=="function"?e:e==null?tle:typeof e=="object"?rle(e)?ele(e[0],e[1]):Joe(e):nle(e)}var as=ale;function ile(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var HL=ile;function sle(e){return e!==e}var ole=sle;function lle(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var cle=lle,ule=HL,dle=ole,fle=cle;function hle(e,t,r){return t===t?fle(e,t,r):ule(e,dle,r)}var mle=hle,ple=mle;function gle(e,t){var r=e==null?0:e.length;return!!r&&ple(e,t,0)>-1}var vle=gle;function yle(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var xle=yle;function ble(){}var wle=ble,Gb=FL,jle=wle,_le=HC,Sle=1/0,Cle=Gb&&1/_le(new Gb([,-0]))[1]==Sle?function(e){return new Gb(e)}:jle,Nle=Cle,Ple=AL,kle=vle,Ele=xle,Ale=TL,Ole=Nle,Tle=HC,Rle=200;function Mle(e,t,r){var n=-1,a=kle,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Ele;else if(i>=Rle){var u=t?null:Ole(e);if(u)return Tle(u);o=!1,a=Ale,c=new Ple}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var $le=Mle,Ile=as,Dle=$le;function Lle(e,t){return e&&e.length?Dle(e,Ile(t)):[]}var Ble=Lle;const wA=Bt(Ble);function qL(e,t,r){return t===!0?wA(e,r):Je(t)?wA(e,t):e}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var Fle=["ref"];function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){t0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GL(n.key),n)}}function Ule(e,t,r){return t&&_A(e.prototype,t),r&&_A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vle(e,t,r){return t=Iv(t),Wle(e,KL()?Reflect.construct(t,r||[],Iv(e).constructor):t.apply(e,r))}function Wle(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(e)}function Hle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!e})()}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(e)}function qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A1(e,t)}function A1(e,t){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A1(e,t)}function t0(e,t,r){return t=GL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e){var t=Kle(e,"string");return Xu(t)=="symbol"?t:t+""}function Kle(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gle(e,t){if(e==null)return{};var r=Yle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xle(e){return e.value}function Zle(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=Gle(t,Fle);return I.createElement(WC,r)}var SA=1,Dr=function(e){function t(){var r;zle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Vle(this,t,[].concat(a)),t0(r,"lastBoundingBox",{width:-1,height:-1}),r}return qle(t,e),Ule(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>SA||Math.abs(a.height-this.lastBoundingBox.height)>SA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ls({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ls(ls({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ls(ls({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Zle(i,ls(ls({},this.props),{},{payload:qL(d,u,Xle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ls(ls({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&we(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);t0(Dr,"displayName","Legend");t0(Dr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CA=op,Qle=qC,Jle=oa,NA=CA?CA.isConcatSpreadable:void 0;function ece(e){return Jle(e)||Qle(e)||!!(NA&&e&&e[NA])}var tce=ece,rce=ML,nce=tce;function YL(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=nce),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?YL(l,t-1,r,n,a):rce(a,l):n||(a[a.length]=l)}return a}var XL=YL;function ace(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ice=ace,sce=ice,oce=sce(),lce=oce,cce=lce,uce=e0;function dce(e,t){return e&&cce(e,t,uce)}var ZL=dce,fce=lp;function hce(e,t){return function(r,n){if(r==null)return r;if(!fce(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var mce=hce,pce=ZL,gce=mce,vce=gce(pce),XC=vce,yce=XC,xce=lp;function bce(e,t){var r=-1,n=xce(e)?Array(e.length):[];return yce(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var QL=bce;function wce(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var jce=wce,PA=Xd;function _ce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=PA(e),o=t!==void 0,l=t===null,c=t===t,u=PA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Sce=_ce,Cce=Sce;function Nce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Cce(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Pce=Nce,Yb=$C,kce=IC,Ece=as,Ace=QL,Oce=jce,Tce=DL,Rce=Pce,Mce=af,$ce=oa;function Ice(e,t,r){t.length?t=Yb(t,function(i){return $ce(i)?function(o){return kce(o,i.length===1?i[0]:i)}:i}):t=[Mce];var n=-1;t=Yb(t,Tce(Ece));var a=Ace(e,function(i,o,l){var c=Yb(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Oce(a,function(i,o){return Rce(i,o,r)})}var Dce=Ice;function Lce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Bce=Lce,Fce=Bce,kA=Math.max;function zce(e,t,r){return t=kA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=kA(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Fce(e,this,l)}}var Uce=zce;function Vce(e){return function(){return e}}var Wce=Vce,Hce=gc,qce=function(){try{var e=Hce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),JL=qce,Kce=Wce,EA=JL,Gce=af,Yce=EA?function(e,t){return EA(e,"toString",{configurable:!0,enumerable:!1,value:Kce(t),writable:!0})}:Gce,Xce=Yce,Zce=800,Qce=16,Jce=Date.now;function eue(e){var t=0,r=0;return function(){var n=Jce(),a=Qce-(n-r);if(r=n,a>0){if(++t>=Zce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tue=eue,rue=Xce,nue=tue,aue=nue(rue),iue=aue,sue=af,oue=Uce,lue=iue;function cue(e,t){return lue(oue(e,t,sue),e+"")}var uue=cue,due=OC,fue=lp,hue=KC,mue=Qo;function pue(e,t,r){if(!mue(r))return!1;var n=typeof t;return(n=="number"?fue(r)&&hue(t,r.length):n=="string"&&t in r)?due(r[t],e):!1}var r0=pue,gue=XL,vue=Dce,yue=uue,AA=r0,xue=yue(function(e,t){if(e==null)return[];var r=t.length;return r>1&&AA(e,t[0],t[1])?t=[]:r>2&&AA(t[0],t[1],t[2])&&(t=[t[0]]),vue(e,gue(t,1),[])}),bue=xue;const ZC=Bt(bue);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}function wue(e,t){return Cue(e)||Sue(e,t)||_ue(e,t)||jue()}function jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(e,t){if(e){if(typeof e=="string")return OA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(e,t)}}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cue(e){if(Array.isArray(e))return e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){Nue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nue(e,t,r){return t=Pue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=kue(e,"string");return im(t)=="symbol"?t:t+""}function kue(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eue(e){return Array.isArray(e)&&nn(e[0])&&nn(e[1])?e.join(" ~ "):e}var Aue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,g=t.label,p=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(d&&d.length){var E={padding:0,margin:0},R=(h?ZC(d,h):d).map(function(k,A){if(k.type==="none")return null;var $=Xb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},l),M=k.formatter||f||Eue,L=k.value,B=k.name,z=L,Q=B;if(M&&z!=null&&Q!=null){var ee=M(L,B,k,A,d);if(Array.isArray(ee)){var se=wue(ee,2);z=se[0],Q=se[1]}else z=ee}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:$},nn(Q)?I.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,nn(Q)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},_=Xb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Xb({margin:0},u),S=!Qe(g),C=S?g:"",P=ut("recharts-default-tooltip",m),N=ut("recharts-tooltip-label",y);S&&p&&d!==void 0&&d!==null&&(C=p(g,d));var O=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",O1({className:P,style:_},O),I.createElement("p",{className:N,style:j},I.isValidElement(C)?C:"".concat(C)),b())};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function Xp(e,t,r){return t=Oue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Tue(e,"string");return sm(t)=="symbol"?t:t+""}function Tue(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nf="recharts-tooltip-wrapper",Rue={visibility:"hidden"};function Mue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(Nf,Xp(Xp(Xp(Xp({},"".concat(Nf,"-right"),we(r)&&t&&we(t.x)&&r>=t.x),"".concat(Nf,"-left"),we(r)&&t&&we(t.x)&&r<t.x),"".concat(Nf,"-bottom"),we(n)&&t&&we(t.y)&&n>=t.y),"".concat(Nf,"-top"),we(n)&&t&&we(t.y)&&n<t.y))}function RA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&we(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function $ue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Iue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=RA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=RA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$ue({translateX:d,translateY:f,useTranslate3d:l})):u=Rue,{cssProperties:u,cssClasses:Mue({translateX:d,translateY:f,coordinate:r})}}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){R1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t4(n.key),n)}}function Bue(e,t,r){return t&&Lue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fue(e,t,r){return t=Dv(t),zue(e,e4()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function zue(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(e)}function Uue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function Vue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T1(e,t)}function R1(e,t,r){return t=t4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4(e){var t=Wue(e,"string");return Zu(t)=="symbol"?t:t+""}function Wue(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IA=1,Hue=function(e){function t(){var r;Due(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fue(this,t,[].concat(a)),R1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Vue(t,e),Bue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IA||Math.abs(n.height-this.state.lastBoundingBox.height)>IA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,y=a.position,g=a.reverseDirection,p=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,b=Iue({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:v}),_=b.cssClasses,j=b.cssProperties,S=$A($A({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(P){n.wrapperNode=P}},u)}}])}(w.PureComponent),que=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ba={isSsr:que(),get:function(t){return Ba[t]},set:function(t,r){if(typeof t=="string")Ba[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ba[a]=t[a]})}}};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){QC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n4(n.key),n)}}function Yue(e,t,r){return t&&Gue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xue(e,t,r){return t=Lv(t),Zue(e,r4()?Reflect.construct(t,r||[],Lv(e).constructor):t.apply(e,r))}function Zue(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Que(e)}function Que(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(e)}function Jue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(e,t)}function QC(e,t,r){return t=n4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e){var t=ede(e,"string");return Qu(t)=="symbol"?t:t+""}function ede(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tde(e){return e.dataKey}function rde(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(Aue,t)}var Ct=function(e){function t(){return Kue(this,t),Xue(this,t,arguments)}return Jue(t,e),Yue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,y=a.payload,g=a.payloadUniqBy,p=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=y??[];f&&j.length&&(j=qL(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),g,tde));var S=j.length>0;return I.createElement(Hue,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:p,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},rde(u,LA(LA({},this.props),{},{payload:j})))}}])}(w.PureComponent);QC(Ct,"displayName","Tooltip");QC(Ct,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nde=ns,ade=function(){return nde.Date.now()},ide=ade,sde=/\s/;function ode(e){for(var t=e.length;t--&&sde.test(e.charAt(t)););return t}var lde=ode,cde=lde,ude=/^\s+/;function dde(e){return e&&e.slice(0,cde(e)+1).replace(ude,"")}var fde=dde,hde=fde,BA=Qo,mde=Xd,FA=NaN,pde=/^[-+]0x[0-9a-f]+$/i,gde=/^0b[01]+$/i,vde=/^0o[0-7]+$/i,yde=parseInt;function xde(e){if(typeof e=="number")return e;if(mde(e))return FA;if(BA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=BA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hde(e);var r=gde.test(e);return r||vde.test(e)?yde(e.slice(2),r?2:8):pde.test(e)?FA:+e}var a4=xde,bde=Qo,Zb=ide,zA=a4,wde="Expected a function",jde=Math.max,_de=Math.min;function Sde(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(wde);t=zA(t)||0,bde(r)&&(d=!!r.leading,f="maxWait"in r,i=f?jde(zA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var C=n,P=a;return n=a=void 0,u=S,o=e.apply(P,C),o}function y(S){return u=S,l=setTimeout(v,t),d?m(S):o}function g(S){var C=S-c,P=S-u,N=t-C;return f?_de(N,i-P):N}function p(S){var C=S-c,P=S-u;return c===void 0||C>=t||C<0||f&&P>=i}function v(){var S=Zb();if(p(S))return x(S);l=setTimeout(v,g(S))}function x(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(Zb())}function j(){var S=Zb(),C=p(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return j.cancel=b,j.flush=_,j}var Cde=Sde,Nde=Cde,Pde=Qo,kde="Expected a function";function Ede(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(kde);return Pde(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Nde(e,t,{leading:n,maxWait:t,trailing:a})}var Ade=Ede;const i4=Bt(Ade);function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){Ode(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ode(e,t,r){return t=Tde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=Rde(e,"string");return om(t)=="symbol"?t:t+""}function Rde(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mde(e,t){return Lde(e)||Dde(e,t)||Ide(e,t)||$de()}function $de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(e,t){if(e){if(typeof e=="string")return VA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(e,t)}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lde(e){if(Array.isArray(e))return e}var wr=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,g=y===void 0?0:y,p=e.id,v=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,j=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),P=Mde(C,2),N=P[0],O=P[1],T=w.useCallback(function(R,k){O(function(A){var $=Math.round(R),M=Math.round(k);return A.containerWidth===$&&A.containerHeight===M?A:{containerWidth:$,containerHeight:M}})},[]);w.useEffect(function(){var R=function(B){var z,Q=B[0].contentRect,ee=Q.width,se=Q.height;T(ee,se),(z=S.current)===null||z===void 0||z.call(S,ee,se)};g>0&&(R=i4(R,g,{trailing:!0,leading:!1}));var k=new ResizeObserver(R),A=j.current.getBoundingClientRect(),$=A.width,M=A.height;return T($,M),k.observe(j.current),function(){k.disconnect()}},[T,g]);var E=w.useMemo(function(){var R=N.containerWidth,k=N.containerHeight;if(R<0||k<0)return null;bi(Ol(o)||Ol(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=Ol(o)?R:o,$=Ol(c)?k:c;r&&r>0&&(A?$=A/r:$&&(A=$*r),h&&$>h&&($=h)),bi(A>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,$,o,c,d,f,r);var M=!Array.isArray(m)&&Ss(m.type).endsWith("Chart");return I.Children.map(m,function(L){return I.isValidElement(L)?w.cloneElement(L,Zp({width:A,height:$},M?{style:Zp({height:"100%",width:"100%",maxHeight:$,maxWidth:A},L.props.style)}:{})):L})},[r,m,c,h,f,d,N,o]);return I.createElement("div",{id:p?"".concat(p):void 0,className:ut("recharts-responsive-container",v),style:Zp(Zp({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),el=function(t){return null};el.displayName="Cell";function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){Bde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bde(e,t,r){return t=Fde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fde(e){var t=zde(e,"string");return lm(t)=="symbol"?t:t+""}function zde(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pc={widthCache:{},cacheCount:0},Ude=2e3,Vde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HA="recharts_measurement_span";function Wde(e){var t=$1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var uh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ba.isSsr)return{width:0,height:0};var n=Wde(r),a=JSON.stringify({text:t,copyStyle:n});if(Pc.widthCache[a])return Pc.widthCache[a];try{var i=document.getElementById(HA);i||(i=document.createElement("span"),i.setAttribute("id",HA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=$1($1({},Vde),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Pc.widthCache[a]=c,++Pc.cacheCount>Ude&&(Pc.cacheCount=0,Pc.widthCache={}),c}catch{return{width:0,height:0}}},Hde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function Bv(e,t){return Yde(e)||Gde(e,t)||Kde(e,t)||qde()}function qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yde(e){if(Array.isArray(e))return e}function Xde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qde(n.key),n)}}function Zde(e,t,r){return t&&KA(e.prototype,t),r&&KA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qde(e){var t=Jde(e,"string");return cm(t)=="symbol"?t:t+""}function Jde(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,efe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,s4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rfe=Object.keys(s4),ou="NaN";function nfe(e,t){return e*s4[t]}var Qp=function(){function e(t,r){Xde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!efe.test(r)&&(this.num=NaN,this.unit=""),rfe.includes(r)&&(this.num=nfe(t,r),this.unit="px")}return Zde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=tfe.exec(r))!==null&&n!==void 0?n:[],i=Bv(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function o4(e){if(e.includes(ou))return ou;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GA.exec(t))!==null&&r!==void 0?r:[],a=Bv(n,4),i=a[1],o=a[2],l=a[3],c=Qp.parse(i??""),u=Qp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ou;t=t.replace(GA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=YA.exec(t))!==null&&f!==void 0?f:[],m=Bv(h,4),y=m[1],g=m[2],p=m[3],v=Qp.parse(y??""),x=Qp.parse(p??""),b=g==="+"?v.add(x):v.subtract(x);if(b.isNaN())return ou;t=t.replace(YA,b.toString())}return t}var XA=/\(([^()]*)\)/;function afe(e){for(var t=e;t.includes("(");){var r=XA.exec(t),n=Bv(r,2),a=n[1];t=t.replace(XA,o4(a))}return t}function ife(e){var t=e.replace(/\s+/g,"");return t=afe(t),t=o4(t),t}function sfe(e){try{return ife(e)}catch{return ou}}function Qb(e){var t=sfe(e.slice(5,-1));return t===ou?"":t}var ofe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lfe=["dx","dy","angle","className","breakAll"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(this,arguments)}function ZA(e,t){if(e==null)return{};var r=cfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QA(e,t){return hfe(e)||ffe(e,t)||dfe(e,t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(e,t){if(e){if(typeof e=="string")return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(e,t)}}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ffe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hfe(e){if(Array.isArray(e))return e}var l4=/[ \f\n\r\t\v\u2028\u2029]+/,c4=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Qe(r)||(n?i=r.toString().split(""):i=r.toString().split(l4));var o=i.map(function(c){return{word:c,width:uh(c,a).width}}),l=n?0:uh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},mfe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=we(o),f=l,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function($,M){var L=M.word,B=M.width,z=$[$.length-1];if(z&&(a==null||i||z.width+B+n<Number(a)))z.words.push(L),z.width+=B+n;else{var Q={words:[L],width:B};$.push(Q)}return $},[])},m=h(r),y=function(A){return A.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return m;for(var g="",p=function(A){var $=f.slice(0,A),M=c4({breakAll:u,style:c,children:$+g}).wordsWithComputedWidth,L=h(M),B=L.length>o||y(L).width>Number(a);return[B,L]},v=0,x=f.length-1,b=0,_;v<=x&&b<=f.length-1;){var j=Math.floor((v+x)/2),S=j-1,C=p(S),P=QA(C,2),N=P[0],O=P[1],T=p(j),E=QA(T,1),R=E[0];if(!N&&!R&&(v=j+1),N&&R&&(x=j-1),!N&&R){_=O;break}b++}return _||m},eO=function(t){var r=Qe(t)?[]:t.toString().split(l4);return[{words:r}]},pfe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ba.isSsr){var c,u,d=c4({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return eO(a);return mfe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return eO(a)},tO="#808080",ac=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,g=y===void 0?"end":y,p=t.fill,v=p===void 0?tO:p,x=ZA(t,ofe),b=w.useMemo(function(){return pfe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,j=x.dy,S=x.angle,C=x.className,P=x.breakAll,N=ZA(x,lfe);if(!nn(n)||!nn(i))return null;var O=n+(we(_)?_:0),T=i+(we(j)?j:0),E;switch(g){case"start":E=Qb("calc(".concat(u,")"));break;case"middle":E=Qb("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Qb("calc(".concat(b.length-1," * -").concat(l,")"));break}var R=[];if(f){var k=b[0].width,A=x.width;R.push("scale(".concat((we(A)?A/k:1)/k,")"))}return S&&R.push("rotate(".concat(S,", ").concat(O,", ").concat(T,")")),R.length&&(N.transform=R.join(" ")),I.createElement("text",I1({},Ue(N,!0),{x:O,y:T,className:ut("recharts-text",C),textAnchor:m,fill:v.includes("url")?tO:v}),b.map(function($,M){var L=$.words.join(P?"":" ");return I.createElement("tspan",{x:O,dy:M===0?E:l,key:"".concat(L,"-").concat(M)},L)}))};function Ro(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JC(e){let t,r,n;e.length!==2?(t=Ro,r=(l,c)=>Ro(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ro||e===gfe?e:vfe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function vfe(){return 0}function u4(e){return e===null?NaN:+e}function*yfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xfe=JC(Ro),cp=xfe.right;JC(u4).center;class rO extends Map{constructor(t,r=jfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nO(this,t))}has(t){return super.has(nO(this,t))}set(t,r){return super.set(bfe(this,t),r)}delete(t){return super.delete(wfe(this,t))}}function nO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function jfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _fe(e=Ro){if(e===Ro)return d4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function d4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sfe=Math.sqrt(50),Cfe=Math.sqrt(10),Nfe=Math.sqrt(2);function Fv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Sfe?10:i>=Cfe?5:i>=Nfe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Fv(e,t,r*2):[l,c,u]}function D1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Fv(t,e,r):Fv(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function L1(e,t,r){return t=+t,e=+e,r=+r,Fv(e,t,r)[2]}function B1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?L1(t,e,r):L1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function aO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function f4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?d4:_fe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));f4(e,t,m,y,a)}const i=e[t];let o=r,l=n;for(Pf(e,r,t),a(e[n],i)>0&&Pf(e,r,n);o<l;){for(Pf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Pf(e,r,l):(++l,Pf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Pf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Pfe(e,t,r){if(e=Float64Array.from(yfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iO(e);if(t>=1)return aO(e);var n,a=(n-1)*t,i=Math.floor(a),o=aO(f4(e,i).subarray(0,i+1)),l=iO(e.subarray(i+1));return o+(l-o)*(a-i)}}function kfe(e,t,r=u4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Efe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F1=Symbol("implicit");function eN(){var e=new rO,t=[],r=[],n=F1;function a(i){let o=e.get(i);if(o===void 0){if(n!==F1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return eN(t,r).unknown(n)},Ka.apply(a,arguments),a}function um(){var e=eN().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,y=m?a:n,g=m?n:a;i=(g-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var p=Efe(h).map(function(v){return y+i*v});return r(m?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return um(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ka.apply(f(),arguments)}function h4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h4(t())},e}function dh(){return h4(um.apply(null,arguments).paddingInner(1))}function tN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function m4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function up(){}var dm=.7,zv=1/dm,_u="\\s*([+-]?\\d+)\\s*",fm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Afe=/^#([0-9a-f]{3,8})$/,Ofe=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),Tfe=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Rfe=new RegExp(`^rgba\\(${_u},${_u},${_u},${fm}\\)$`),Mfe=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${fm}\\)$`),$fe=new RegExp(`^hsl\\(${fm},${Yi},${Yi}\\)$`),Ife=new RegExp(`^hsla\\(${fm},${Yi},${Yi},${fm}\\)$`),sO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tN(up,hm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oO,formatHex:oO,formatHex8:Dfe,formatHsl:Lfe,formatRgb:lO,toString:lO});function oO(){return this.rgb().formatHex()}function Dfe(){return this.rgb().formatHex8()}function Lfe(){return p4(this).formatHsl()}function lO(){return this.rgb().formatRgb()}function hm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Afe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cO(t):r===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ofe.exec(e))?new ta(t[1],t[2],t[3],1):(t=Tfe.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rfe.exec(e))?Jp(t[1],t[2],t[3],t[4]):(t=Mfe.exec(e))?Jp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$fe.exec(e))?fO(t[1],t[2]/100,t[3]/100,1):(t=Ife.exec(e))?fO(t[1],t[2]/100,t[3]/100,t[4]):sO.hasOwnProperty(e)?cO(sO[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function cO(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function Jp(e,t,r,n){return n<=0&&(e=t=r=NaN),new ta(e,t,r,n)}function Bfe(e){return e instanceof up||(e=hm(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function z1(e,t,r,n){return arguments.length===1?Bfe(e):new ta(e,t,r,n??1)}function ta(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tN(ta,z1,m4(up,{brighter(e){return e=e==null?zv:Math.pow(zv,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(ql(this.r),ql(this.g),ql(this.b),Uv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uO,formatHex:uO,formatHex8:Ffe,formatRgb:dO,toString:dO}));function uO(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function Ffe(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function dO(){const e=Uv(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function Uv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tl(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function fO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,r,n)}function p4(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof up||(e=hm(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new hi(o,l,c,e.opacity)}function zfe(e,t,r,n){return arguments.length===1?p4(e):new hi(e,t,r,n??1)}function hi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tN(hi,zfe,m4(up,{brighter(e){return e=e==null?zv:Math.pow(zv,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ta(Jb(e>=240?e-240:e+120,a,n),Jb(e,a,n),Jb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hi(hO(this.h),eg(this.s),eg(this.l),Uv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uv(this.opacity);return`${e===1?"hsl(":"hsla("}${hO(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hO(e){return e=(e||0)%360,e<0?e+360:e}function eg(e){return Math.max(0,Math.min(1,e||0))}function Jb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rN=e=>()=>e;function Ufe(e,t){return function(r){return e+r*t}}function Vfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wfe(e){return(e=+e)==1?g4:function(t,r){return r-t?Vfe(t,r,e):rN(isNaN(t)?r:t)}}function g4(e,t){var r=t-e;return r?Ufe(e,r):rN(isNaN(e)?t:e)}const mO=function e(t){var r=Wfe(t);function n(a,i){var o=r((a=z1(a)).r,(i=z1(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=g4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Hfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function qfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=sf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Gfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yfe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var U1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ew=new RegExp(U1.source,"g");function Xfe(e){return function(){return e}}function Zfe(e){return function(t){return e(t)+""}}function Qfe(e,t){var r=U1.lastIndex=ew.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=U1.exec(e))&&(a=ew.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Vv(n,a)})),r=ew.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Zfe(c[0].x):Xfe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sf(e,t){var r=typeof t,n;return t==null||r==="boolean"?rN(t):(r==="number"?Vv:r==="string"?(n=hm(t))?(t=n,mO):Qfe:t instanceof hm?mO:t instanceof Date?Gfe:qfe(t)?Hfe:Array.isArray(t)?Kfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yfe:Vv)(e,t)}function nN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jfe(e,t){t===void 0&&(t=e,e=sf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ehe(e){return function(){return e}}function Wv(e){return+e}var pO=[0,1];function Wn(e){return e}function V1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ehe(isNaN(t)?NaN:.5)}function the(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rhe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=V1(a,n),i=r(o,i)):(n=V1(n,a),i=r(i,o)),function(l){return i(n(l))}}function nhe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=V1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=cp(e,l,1,n)-1;return i[c](a[c](l))}}function dp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function n0(){var e=pO,t=pO,r=sf,n,a,i,o=Wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Wn&&(o=the(e[0],e[h-1])),l=h>2?nhe:rhe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Vv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Wv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=nN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Wn,d()):o!==Wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function aN(){return n0()(Wn,Wn)}function ahe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ju(e){return e=Hv(Math.abs(e)),e?e[1]:NaN}function ihe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function she(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ohe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mm(e){if(!(t=ohe.exec(e)))throw new Error("invalid format: "+e);var t;return new iN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mm.prototype=iN.prototype;function iN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lhe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var v4;function che(e,t){var r=Hv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(v4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Hv(e,Math.max(0,t+i-1))[0]}function gO(e,t){var r=Hv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const vO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ahe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gO(e*100,t),r:gO,s:che,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yO(e){return e}var xO=Array.prototype.map,bO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uhe(e){var t=e.grouping===void 0||e.thousands===void 0?yO:ihe(xO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?yO:she(xO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mm(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,p=f.zero,v=f.width,x=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):vO[j]||(b===void 0&&(b=12),_=!0,j="g"),(p||h==="0"&&m==="=")&&(p=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=g==="$"?n:/[%p]/.test(j)?o:"",P=vO[j],N=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(T){var E=S,R=C,k,A,$;if(j==="c")R=P(T)+R,T="";else{T=+T;var M=T<0||1/T<0;if(T=isNaN(T)?c:P(Math.abs(T),b),_&&(T=lhe(T)),M&&+T==0&&y!=="+"&&(M=!1),E=(M?y==="("?y:l:y==="-"||y==="("?"":y)+E,R=(j==="s"?bO[8+v4/3]:"")+R+(M&&y==="("?")":""),N){for(k=-1,A=T.length;++k<A;)if($=T.charCodeAt(k),48>$||$>57){R=($===46?a+T.slice(k+1):T.slice(k))+R,T=T.slice(0,k);break}}}x&&!p&&(T=t(T,1/0));var L=E.length+T.length+R.length,B=L<v?new Array(v-L+1).join(h):"";switch(x&&p&&(T=t(B+T,B.length?v-R.length:1/0),B=""),m){case"<":T=E+T+R+B;break;case"=":T=E+B+T+R;break;case"^":T=B.slice(0,L=B.length>>1)+E+T+R+B.slice(L);break;default:T=B+E+T+R;break}return i(T)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=mm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ju(h)/3)))*3,g=Math.pow(10,-y),p=bO[8+y/3];return function(v){return m(g*v)+p}}return{format:u,formatPrefix:d}}var tg,sN,y4;dhe({thousands:",",grouping:[3],currency:["$",""]});function dhe(e){return tg=uhe(e),sN=tg.format,y4=tg.formatPrefix,tg}function fhe(e){return Math.max(0,-Ju(Math.abs(e)))}function hhe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ju(t)/3)))*3-Ju(Math.abs(e)))}function mhe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ju(t)-Ju(e))+1}function x4(e,t,r,n){var a=B1(e,t,r),i;switch(n=mm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hhe(a,o))&&(n.precision=i),y4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=mhe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fhe(a))&&(n.precision=i-(n.type==="%")*2);break}}return sN(n)}function tl(e){var t=e.domain;return e.ticks=function(r){var n=t();return D1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return x4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=L1(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function qv(){var e=aN();return e.copy=function(){return dp(e,qv())},Ka.apply(e,arguments),tl(e)}function b4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return b4(e).unknown(t)},e=arguments.length?Array.from(e,Wv):[0,1],tl(r)}function w4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function wO(e){return Math.log(e)}function jO(e){return Math.exp(e)}function phe(e){return-Math.log(-e)}function ghe(e){return-Math.exp(-e)}function vhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yhe(e){return e===10?vhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _O(e){return(t,r)=>-e(-t,r)}function oN(e){const t=e(wO,jO),r=t.domain;let n=10,a,i;function o(){return a=xhe(n),i=yhe(n),r()[0]<0?(a=_O(a),i=_O(i),e(phe,ghe)):e(wO,jO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),y,g;const p=l==null?10:+l;let v=[];if(!(n%1)&&m-h<p){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(g=h<0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(g=h>0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<p&&(v=D1(u,d,p))}else v=D1(h,m,Math.min(m-h,p)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mm(c)).precision==null&&(c.trim=!0),c=sN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(w4(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function j4(){const e=oN(n0()).domain([1,10]);return e.copy=()=>dp(e,j4()).base(e.base()),Ka.apply(e,arguments),e}function SO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lN(e){var t=1,r=e(SO(t),CO(t));return r.constant=function(n){return arguments.length?e(SO(t=+n),CO(t)):t},tl(r)}function _4(){var e=lN(n0());return e.copy=function(){return dp(e,_4()).constant(e.constant())},Ka.apply(e,arguments)}function NO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function whe(e){return e<0?-e*e:e*e}function cN(e){var t=e(Wn,Wn),r=1;function n(){return r===1?e(Wn,Wn):r===.5?e(bhe,whe):e(NO(r),NO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},tl(t)}function uN(){var e=cN(n0());return e.copy=function(){return dp(e,uN()).exponent(e.exponent())},Ka.apply(e,arguments),e}function jhe(){return uN.apply(null,arguments).exponent(.5)}function PO(e){return Math.sign(e)*e*e}function _he(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S4(){var e=aN(),t=[0,1],r=!1,n;function a(i){var o=_he(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(PO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Wv)).map(PO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return S4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ka.apply(a,arguments),tl(a)}function C4(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=kfe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[cp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ro),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return C4().domain(e).range(t).unknown(n)},Ka.apply(i,arguments)}function N4(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[cp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return N4().domain([e,t]).range(a).unknown(i)},Ka.apply(tl(o),arguments)}function P4(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[cp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return P4().domain(e).range(t).unknown(r)},Ka.apply(a,arguments)}const tw=new Date,rw=new Date;function an(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>an(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(tw.setTime(+i),rw.setTime(+o),e(tw),e(rw),Math.floor(r(tw,rw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Kv=an(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?an(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kv);Kv.range;const xs=1e3,Da=xs*60,bs=Da*60,Ts=bs*24,dN=Ts*7,kO=Ts*30,nw=Ts*365,Rl=an(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getUTCSeconds());Rl.range;const fN=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xs)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getMinutes());fN.range;const hN=an(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCMinutes());hN.range;const mN=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xs-e.getMinutes()*Da)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getHours());mN.range;const pN=an(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCHours());pN.range;const fp=an(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Da)/Ts,e=>e.getDate()-1);fp.range;const a0=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ts,e=>e.getUTCDate()-1);a0.range;const k4=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ts,e=>Math.floor(e/Ts));k4.range;function vc(e){return an(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Da)/dN)}const i0=vc(0),Gv=vc(1),She=vc(2),Che=vc(3),ed=vc(4),Nhe=vc(5),Phe=vc(6);i0.range;Gv.range;She.range;Che.range;ed.range;Nhe.range;Phe.range;function yc(e){return an(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dN)}const s0=yc(0),Yv=yc(1),khe=yc(2),Ehe=yc(3),td=yc(4),Ahe=yc(5),Ohe=yc(6);s0.range;Yv.range;khe.range;Ehe.range;td.range;Ahe.range;Ohe.range;const gN=an(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gN.range;const vN=an(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vN.range;const Rs=an(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Rs.range;const Ms=an(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ms.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ms.range;function E4(e,t,r,n,a,i){const o=[[Rl,1,xs],[Rl,5,5*xs],[Rl,15,15*xs],[Rl,30,30*xs],[i,1,Da],[i,5,5*Da],[i,15,15*Da],[i,30,30*Da],[a,1,bs],[a,3,3*bs],[a,6,6*bs],[a,12,12*bs],[n,1,Ts],[n,2,2*Ts],[r,1,dN],[t,1,kO],[t,3,3*kO],[e,1,nw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=JC(([,,p])=>p).right(o,h);if(m===o.length)return e.every(B1(u/nw,d/nw,f));if(m===0)return Kv.every(Math.max(B1(u,d,f),1));const[y,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(g)}return[l,c]}const[The,Rhe]=E4(Ms,vN,s0,k4,pN,hN),[Mhe,$he]=E4(Rs,gN,i0,fp,mN,fN);function aw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ihe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ef(a),d=Af(a),f=Ef(i),h=Af(i),m=Ef(o),y=Af(o),g=Ef(l),p=Af(l),v=Ef(c),x=Af(c),b={a:M,A:L,b:B,B:z,c:null,d:MO,e:MO,f:ime,g:pme,G:vme,H:rme,I:nme,j:ame,L:A4,m:sme,M:ome,p:Q,q:ee,Q:DO,s:LO,S:lme,u:cme,U:ume,V:dme,w:fme,W:hme,x:null,X:null,y:mme,Y:gme,Z:yme,"%":IO},_={a:se,A:U,b:q,B:G,c:null,d:$O,e:$O,f:jme,g:Tme,G:Mme,H:xme,I:bme,j:wme,L:T4,m:_me,M:Sme,p:H,q:fe,Q:DO,s:LO,S:Cme,u:Nme,U:Pme,V:kme,w:Eme,W:Ame,x:null,X:null,y:Ome,Y:Rme,Z:$me,"%":IO},j={a:O,A:T,b:E,B:R,c:k,d:TO,e:TO,f:Qhe,g:OO,G:AO,H:RO,I:RO,j:Ghe,L:Zhe,m:Khe,M:Yhe,p:N,q:qhe,Q:eme,s:tme,S:Xhe,u:zhe,U:Uhe,V:Vhe,w:Fhe,W:Whe,x:A,X:$,y:OO,Y:AO,Z:Hhe,"%":Jhe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(D,Y){return function(V){var Z=[],te=-1,be=0,Re=D.length,We,ge,Ne;for(V instanceof Date||(V=new Date(+V));++te<Re;)D.charCodeAt(te)===37&&(Z.push(D.slice(be,te)),(ge=EO[We=D.charAt(++te)])!=null?We=D.charAt(++te):ge=We==="e"?" ":"0",(Ne=Y[We])&&(We=Ne(V,ge)),Z.push(We),be=te+1);return Z.push(D.slice(be,te)),Z.join("")}}function C(D,Y){return function(V){var Z=kf(1900,void 0,1),te=P(Z,D,V+="",0),be,Re;if(te!=V.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Y&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(be=iw(kf(Z.y,0,1)),Re=be.getUTCDay(),be=Re>4||Re===0?Yv.ceil(be):Yv(be),be=a0.offset(be,(Z.V-1)*7),Z.y=be.getUTCFullYear(),Z.m=be.getUTCMonth(),Z.d=be.getUTCDate()+(Z.w+6)%7):(be=aw(kf(Z.y,0,1)),Re=be.getDay(),be=Re>4||Re===0?Gv.ceil(be):Gv(be),be=fp.offset(be,(Z.V-1)*7),Z.y=be.getFullYear(),Z.m=be.getMonth(),Z.d=be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Re="Z"in Z?iw(kf(Z.y,0,1)).getUTCDay():aw(kf(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Re+5)%7:Z.w+Z.U*7-(Re+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,iw(Z)):aw(Z)}}function P(D,Y,V,Z){for(var te=0,be=Y.length,Re=V.length,We,ge;te<be;){if(Z>=Re)return-1;if(We=Y.charCodeAt(te++),We===37){if(We=Y.charAt(te++),ge=j[We in EO?Y.charAt(te++):We],!ge||(Z=ge(D,V,Z))<0)return-1}else if(We!=V.charCodeAt(Z++))return-1}return Z}function N(D,Y,V){var Z=u.exec(Y.slice(V));return Z?(D.p=d.get(Z[0].toLowerCase()),V+Z[0].length):-1}function O(D,Y,V){var Z=m.exec(Y.slice(V));return Z?(D.w=y.get(Z[0].toLowerCase()),V+Z[0].length):-1}function T(D,Y,V){var Z=f.exec(Y.slice(V));return Z?(D.w=h.get(Z[0].toLowerCase()),V+Z[0].length):-1}function E(D,Y,V){var Z=v.exec(Y.slice(V));return Z?(D.m=x.get(Z[0].toLowerCase()),V+Z[0].length):-1}function R(D,Y,V){var Z=g.exec(Y.slice(V));return Z?(D.m=p.get(Z[0].toLowerCase()),V+Z[0].length):-1}function k(D,Y,V){return P(D,t,Y,V)}function A(D,Y,V){return P(D,r,Y,V)}function $(D,Y,V){return P(D,n,Y,V)}function M(D){return o[D.getDay()]}function L(D){return i[D.getDay()]}function B(D){return c[D.getMonth()]}function z(D){return l[D.getMonth()]}function Q(D){return a[+(D.getHours()>=12)]}function ee(D){return 1+~~(D.getMonth()/3)}function se(D){return o[D.getUTCDay()]}function U(D){return i[D.getUTCDay()]}function q(D){return c[D.getUTCMonth()]}function G(D){return l[D.getUTCMonth()]}function H(D){return a[+(D.getUTCHours()>=12)]}function fe(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var Y=S(D+="",b);return Y.toString=function(){return D},Y},parse:function(D){var Y=C(D+="",!1);return Y.toString=function(){return D},Y},utcFormat:function(D){var Y=S(D+="",_);return Y.toString=function(){return D},Y},utcParse:function(D){var Y=C(D+="",!0);return Y.toString=function(){return D},Y}}}var EO={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,Dhe=/^%/,Lhe=/[\\^$*+?|[\]().{}]/g;function $t(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Bhe(e){return e.replace(Lhe,"\\$&")}function Ef(e){return new RegExp("^(?:"+e.map(Bhe).join("|")+")","i")}function Af(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fhe(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zhe(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Uhe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Vhe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Whe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AO(e,t,r){var n=hn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function OO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Hhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qhe(e,t,r){var n=hn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Khe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ghe(e,t,r){var n=hn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function RO(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Yhe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Xhe(e,t,r){var n=hn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zhe(e,t,r){var n=hn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qhe(e,t,r){var n=hn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jhe(e,t,r){var n=Dhe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eme(e,t,r){var n=hn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tme(e,t,r){var n=hn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function MO(e,t){return $t(e.getDate(),t,2)}function rme(e,t){return $t(e.getHours(),t,2)}function nme(e,t){return $t(e.getHours()%12||12,t,2)}function ame(e,t){return $t(1+fp.count(Rs(e),e),t,3)}function A4(e,t){return $t(e.getMilliseconds(),t,3)}function ime(e,t){return A4(e,t)+"000"}function sme(e,t){return $t(e.getMonth()+1,t,2)}function ome(e,t){return $t(e.getMinutes(),t,2)}function lme(e,t){return $t(e.getSeconds(),t,2)}function cme(e){var t=e.getDay();return t===0?7:t}function ume(e,t){return $t(i0.count(Rs(e)-1,e),t,2)}function O4(e){var t=e.getDay();return t>=4||t===0?ed(e):ed.ceil(e)}function dme(e,t){return e=O4(e),$t(ed.count(Rs(e),e)+(Rs(e).getDay()===4),t,2)}function fme(e){return e.getDay()}function hme(e,t){return $t(Gv.count(Rs(e)-1,e),t,2)}function mme(e,t){return $t(e.getFullYear()%100,t,2)}function pme(e,t){return e=O4(e),$t(e.getFullYear()%100,t,2)}function gme(e,t){return $t(e.getFullYear()%1e4,t,4)}function vme(e,t){var r=e.getDay();return e=r>=4||r===0?ed(e):ed.ceil(e),$t(e.getFullYear()%1e4,t,4)}function yme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function $O(e,t){return $t(e.getUTCDate(),t,2)}function xme(e,t){return $t(e.getUTCHours(),t,2)}function bme(e,t){return $t(e.getUTCHours()%12||12,t,2)}function wme(e,t){return $t(1+a0.count(Ms(e),e),t,3)}function T4(e,t){return $t(e.getUTCMilliseconds(),t,3)}function jme(e,t){return T4(e,t)+"000"}function _me(e,t){return $t(e.getUTCMonth()+1,t,2)}function Sme(e,t){return $t(e.getUTCMinutes(),t,2)}function Cme(e,t){return $t(e.getUTCSeconds(),t,2)}function Nme(e){var t=e.getUTCDay();return t===0?7:t}function Pme(e,t){return $t(s0.count(Ms(e)-1,e),t,2)}function R4(e){var t=e.getUTCDay();return t>=4||t===0?td(e):td.ceil(e)}function kme(e,t){return e=R4(e),$t(td.count(Ms(e),e)+(Ms(e).getUTCDay()===4),t,2)}function Eme(e){return e.getUTCDay()}function Ame(e,t){return $t(Yv.count(Ms(e)-1,e),t,2)}function Ome(e,t){return $t(e.getUTCFullYear()%100,t,2)}function Tme(e,t){return e=R4(e),$t(e.getUTCFullYear()%100,t,2)}function Rme(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function Mme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?td(e):td.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function $me(){return"+0000"}function IO(){return"%"}function DO(e){return+e}function LO(e){return Math.floor(+e/1e3)}var kc,M4,$4;Ime({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ime(e){return kc=Ihe(e),M4=kc.format,kc.parse,$4=kc.utcFormat,kc.utcParse,kc}function Dme(e){return new Date(e)}function Lme(e){return e instanceof Date?+e:+new Date(+e)}function yN(e,t,r,n,a,i,o,l,c,u){var d=aN(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:o(S)<S?g:i(S)<S?p:n(S)<S?a(S)<S?v:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Lme)):h().map(Dme)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(w4(C,S)):d},d.copy=function(){return dp(d,yN(e,t,r,n,a,i,o,l,c,u))},d}function Bme(){return Ka.apply(yN(Mhe,$he,Rs,gN,i0,fp,mN,fN,Rl,M4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fme(){return Ka.apply(yN(The,Rhe,Ms,vN,s0,a0,pN,hN,Rl,$4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o0(){var e=0,t=1,r,n,a,i,o=Wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(sf),u.rangeRound=d(nN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function rl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I4(){var e=tl(o0()(Wn));return e.copy=function(){return rl(e,I4())},Vs.apply(e,arguments)}function D4(){var e=oN(o0()).domain([1,10]);return e.copy=function(){return rl(e,D4()).base(e.base())},Vs.apply(e,arguments)}function L4(){var e=lN(o0());return e.copy=function(){return rl(e,L4()).constant(e.constant())},Vs.apply(e,arguments)}function xN(){var e=cN(o0());return e.copy=function(){return rl(e,xN()).exponent(e.exponent())},Vs.apply(e,arguments)}function zme(){return xN.apply(null,arguments).exponent(.5)}function B4(){var e=[],t=Wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((cp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ro),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Pfe(e,i/n))},r.copy=function(){return B4(t).domain(e)},Vs.apply(r,arguments)}function l0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Wn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(p){var v,x,b;return arguments.length?([v,x,b]=p,u=Jfe(g,[v,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(sf),m.rangeRound=y(nN),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function F4(){var e=tl(l0()(Wn));return e.copy=function(){return rl(e,F4())},Vs.apply(e,arguments)}function z4(){var e=oN(l0()).domain([.1,1,10]);return e.copy=function(){return rl(e,z4()).base(e.base())},Vs.apply(e,arguments)}function U4(){var e=lN(l0());return e.copy=function(){return rl(e,U4()).constant(e.constant())},Vs.apply(e,arguments)}function bN(){var e=cN(l0());return e.copy=function(){return rl(e,bN()).exponent(e.exponent())},Vs.apply(e,arguments)}function Ume(){return bN.apply(null,arguments).exponent(.5)}const BO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:um,scaleDiverging:F4,scaleDivergingLog:z4,scaleDivergingPow:bN,scaleDivergingSqrt:Ume,scaleDivergingSymlog:U4,scaleIdentity:b4,scaleImplicit:F1,scaleLinear:qv,scaleLog:j4,scaleOrdinal:eN,scalePoint:dh,scalePow:uN,scaleQuantile:C4,scaleQuantize:N4,scaleRadial:S4,scaleSequential:I4,scaleSequentialLog:D4,scaleSequentialPow:xN,scaleSequentialQuantile:B4,scaleSequentialSqrt:zme,scaleSequentialSymlog:L4,scaleSqrt:jhe,scaleSymlog:_4,scaleThreshold:P4,scaleTime:Bme,scaleUtc:Fme,tickFormat:x4},Symbol.toStringTag,{value:"Module"}));var Vme=Xd;function Wme(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Vme(o):r(o,l)))var l=o,c=i}return c}var c0=Wme;function Hme(e,t){return e>t}var V4=Hme,qme=c0,Kme=V4,Gme=af;function Yme(e){return e&&e.length?qme(e,Gme,Kme):void 0}var Xme=Yme;const vo=Bt(Xme);function Zme(e,t){return e<t}var W4=Zme,Qme=c0,Jme=W4,epe=af;function tpe(e){return e&&e.length?Qme(e,epe,Jme):void 0}var rpe=tpe;const u0=Bt(rpe);var npe=$C,ape=as,ipe=QL,spe=oa;function ope(e,t){var r=spe(e)?npe:ipe;return r(e,ape(t))}var lpe=ope,cpe=XL,upe=lpe;function dpe(e,t){return cpe(upe(e,t),1)}var fpe=dpe;const hpe=Bt(fpe);var mpe=YC;function ppe(e,t){return mpe(e,t)}var gpe=ppe;const Wo=Bt(gpe);var of=1e9,vpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jN,_r=!0,Va="[DecimalError] ",Kl=Va+"Invalid argument: ",wN=Va+"Exponent out of range: ",lf=Math.floor,bl=Math.pow,ype=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ln=1e7,yr=7,H4=9007199254740991,Xv=lf(H4/yr),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*yr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return Cs(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return rr(Cs(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return Kr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Va+"NaN");if(r.s<1)throw Error(Va+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(_r=!1,t=Cs(pm(r,i),pm(e,i),i),_r=!0,rr(t,a))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G4(t,e):q4(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Va+"NaN");return r.s?(_r=!1,t=Cs(r,e,0,1).times(e),_r=!0,r.minus(t)):rr(new n(r),a)};Be.naturalExponential=Be.exp=function(){return K4(this)};Be.naturalLogarithm=Be.ln=function(){return pm(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q4(t,e):G4(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kl+e);if(t=Kr(a)+1,n=a.d.length-1,r=n*yr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Va+"NaN")}for(e=Kr(l),_r=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Cs(l,i,o+2)).times(.5),zi(i.d).slice(0,o)===(t=zi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(rr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return _r=!0,rr(n,r)};Be.times=Be.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ln|0,t=l/ln|0;i[a]=(i[a]+t)%ln|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,_r?rr(e,f.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ji(e,0,of),t===void 0?t=n.rounding:Ji(t,0,8),rr(r,e+Kr(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ic(n,!0):(Ji(e,0,of),t===void 0?t=a.rounding:Ji(t,0,8),n=rr(new a(n),e+1,t),r=ic(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ic(a):(Ji(e,0,of),t===void 0?t=i.rounding:Ji(t,0,8),n=rr(new i(a),e+Kr(a)+1,t),r=ic(n.abs(),!1,e+Kr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return rr(new t(e),Kr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ga);if(l=new c(l),!l.s){if(e.s<1)throw Error(Va+"Infinity");return l}if(l.eq(ga))return l;if(n=c.precision,e.eq(ga))return rr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=H4){for(a=new c(ga),t=Math.ceil(n/yr+4),_r=!1;r%2&&(a=a.times(l),zO(a.d,t)),r=lf(r/2),r!==0;)l=l.times(l),zO(l.d,t);return _r=!0,e.s<0?new c(ga).div(a):rr(a,n)}}else if(i<0)throw Error(Va+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_r=!1,a=e.times(pm(l,n+u)),_r=!0,a=K4(a),a.s=i,a};Be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Kr(a),n=ic(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ji(e,1,of),t===void 0?t=i.rounding:Ji(t,0,8),a=rr(new i(a),e,t),r=Kr(a),n=ic(a,e<=r||r<=i.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ji(e,1,of),t===void 0?t=n.rounding:Ji(t,0,8)),rr(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kr(e),r=e.constructor;return ic(e,t<=r.toExpNeg||t>=r.toExpPos)};function q4(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),_r?rr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/yr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ln|0,c[i]%=ln;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,_r?rr(t,f):t}function Ji(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kl+e)}function zi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=yr-n.length,r&&(i+=ro(r)),i+=n;o=e[t],n=o+"",r=yr-n.length,r&&(i+=ro(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Cs=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ln|0,o=i/ln|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ln+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,y,g,p,v,x,b,_,j,S,C,P,N=n.constructor,O=n.s==a.s?1:-1,T=n.d,E=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Va+"Division by zero");for(c=n.e-a.e,C=E.length,j=T.length,m=new N(O),y=m.d=[],u=0;E[u]==(T[u]||0);)++u;if(E[u]>(T[u]||0)&&--c,i==null?x=i=N.precision:o?x=i+(Kr(n)-Kr(a))+1:x=i,x<0)return new N(0);if(x=x/yr+2|0,u=0,C==1)for(d=0,E=E[0],x++;(u<j||d)&&x--;u++)b=d*ln+(T[u]||0),y[u]=b/E|0,d=b%E|0;else{for(d=ln/(E[0]+1)|0,d>1&&(E=e(E,d),T=e(T,d),C=E.length,j=T.length),_=C,g=T.slice(0,C),p=g.length;p<C;)g[p++]=0;P=E.slice(),P.unshift(0),S=E[0],E[1]>=ln/2&&++S;do d=0,l=t(E,g,C,p),l<0?(v=g[0],C!=p&&(v=v*ln+(g[1]||0)),d=v/S|0,d>1?(d>=ln&&(d=ln-1),f=e(E,d),h=f.length,p=g.length,l=t(f,g,h,p),l==1&&(d--,r(f,C<h?P:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<p&&f.unshift(0),r(g,f,p),l==-1&&(p=g.length,l=t(E,g,C,p),l<1&&(d++,r(g,C<p?P:E,p))),p=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[p++]=T[_]||0:(g=[T[_]],p=1);while((_++<j||g[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=c,rr(m,o?i+Kr(m)+1:i)}}();function K4(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Kr(e)>16)throw Error(wN+Kr(e));if(!e.s)return new d(ga);for(t==null?(_r=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(bl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ga),d.precision=l;;){if(a=rr(a.times(e),l),r=r.times(++c),o=i.plus(Cs(a,r,l)),zi(o.d).slice(0,l)===zi(i.d).slice(0,l)){for(;u--;)i=rr(i.times(i),l);return d.precision=f,t==null?(_r=!0,rr(i,f)):i}i=o}}function Kr(e){for(var t=e.e*yr,r=e.d[0];r>=10;r/=10)t++;return t}function sw(e,t,r){if(t>e.LN10.sd())throw _r=!0,r&&(e.precision=r),Error(Va+"LN10 precision limit exceeded");return rr(new e(e.LN10),t)}function ro(e){for(var t="";e--;)t+="0";return t}function pm(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,y=m.d,g=m.constructor,p=g.precision;if(m.s<1)throw Error(Va+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new g(0);if(t==null?(_r=!1,u=p):u=t,m.eq(10))return t==null&&(_r=!0),sw(g,u);if(u+=h,g.precision=u,r=zi(y),n=r.charAt(0),i=Kr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=zi(m.d),n=r.charAt(0),f++;i=Kr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=sw(g,u+2,p).times(i+""),m=pm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=p,t==null?(_r=!0,rr(m,p)):m;for(l=o=m=Cs(m.minus(ga),m.plus(ga),u),d=rr(m.times(m),u),a=3;;){if(o=rr(o.times(d),u),c=l.plus(Cs(o,new g(a),u)),zi(c.d).slice(0,u)===zi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(sw(g,u+2,p).times(i+""))),l=Cs(l,new g(f),u),g.precision=p,t==null?(_r=!0,rr(l,p)):l;l=c,a+=2}}function FO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=lf(r/yr),e.d=[],n=(r+1)%yr,r<0&&(n+=yr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=yr;n<a;)e.d.push(+t.slice(n,n+=yr));t=t.slice(n),n=yr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),_r&&(e.e>Xv||e.e<-Xv))throw Error(wN+r)}else e.s=0,e.e=0,e.d=[0];return e}function rr(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=yr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/yr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=yr,a=n-yr+o}if(r!==void 0&&(i=bl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/bl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Kr(e),f.length=1,t=t-i-1,f[0]=bl(10,(yr-t%yr)%yr),e.e=lf(-t/yr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=bl(10,yr-n),f[d]=a>0?(u/bl(10,o-a)%bl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ln&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ln)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(_r&&(e.e>Xv||e.e<-Xv))throw Error(wN+Kr(e));return e}function G4(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),_r?rr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/yr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ln-1;--c[i],c[a]+=ln}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,_r?rr(t,m):t):new h(0)}function ic(e,t,r){var n,a=Kr(e),i=zi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ro(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ro(-a-1)+i,r&&(n=r-o)>0&&(i+=ro(n))):a>=o?(i+=ro(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ro(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ro(n))),e.s<0?"-"+i:i}function zO(e,t){if(e.length>t)return e.length=t,!0}function Y4(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return FO(o,i.toString())}else if(typeof i!="string")throw Error(Kl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ype.test(i))FO(o,i);else throw Error(Kl+i)}if(a.prototype=Be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Y4,a.config=a.set=xpe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xpe(e){if(!e||typeof e!="object")throw Error(Va+"Object expected");var t,r,n,a=["precision",1,of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(lf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Kl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kl+r+": "+n);return this}var jN=Y4(vpe);ga=new jN(1);const Qt=jN;function bpe(e){return Spe(e)||_pe(e)||jpe(e)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function _pe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Spe(e){if(Array.isArray(e))return W1(e)}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cpe=function(t){return t},X4={"@@functional/placeholder":!0},Z4=function(t){return t===X4},UO=function(t){return function r(){return arguments.length===0||arguments.length===1&&Z4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Npe=function e(t,r){return t===1?r:UO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==X4}).length;return o>=t?r.apply(void 0,a):e(t-o,UO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Z4(f)?c.shift():f});return r.apply(void 0,bpe(d).concat(c))}))})},d0=function(t){return Npe(t.length,t)},H1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Ppe=d0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),kpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Cpe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},q1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Q4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Epe(e){var t;return e===0?t=1:t=Math.floor(new Qt(e).abs().log(10).toNumber())+1,t}function Ape(e,t,r){for(var n=new Qt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ope=d0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Tpe=d0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Rpe=d0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const f0={rangeStep:Ape,getDigitCount:Epe,interpolateNumber:Ope,uninterpolateNumber:Tpe,uninterpolateTruncation:Rpe};function K1(e){return Ipe(e)||$pe(e)||J4(e)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ipe(e){if(Array.isArray(e))return G1(e)}function gm(e,t){return Bpe(e)||Lpe(e,t)||J4(e,t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Bpe(e){if(Array.isArray(e))return e}function eB(e){var t=gm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function tB(e,t,r){if(e.lte(0))return new Qt(0);var n=f0.getDigitCount(e.toNumber()),a=new Qt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Qt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Qt(Math.ceil(c))}function Fpe(e,t,r){var n=1,a=new Qt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Qt(10).pow(f0.getDigitCount(e)-1),a=new Qt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Qt(Math.floor(e)))}else e===0?a=new Qt(Math.floor((t-1)/2)):r||(a=new Qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=kpe(Ppe(function(c){return a.add(new Qt(c-o).mul(n)).toNumber()}),H1);return l(0,t)}function rB(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Qt(0),tickMin:new Qt(0),tickMax:new Qt(0)};var i=tB(new Qt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Qt(0):(o=new Qt(e).add(t).div(2),o=o.sub(new Qt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Qt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?rB(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Qt(l).mul(i)),tickMax:o.add(new Qt(c).mul(i))})}function zpe(e){var t=gm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=eB([r,n]),c=gm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(K1(H1(0,a-1).map(function(){return 1/0}))):[].concat(K1(H1(0,a-1).map(function(){return-1/0})),[d]);return r>n?q1(f):f}if(u===d)return Fpe(u,a,i);var h=rB(u,d,o,i),m=h.step,y=h.tickMin,g=h.tickMax,p=f0.rangeStep(y,g.add(new Qt(.1).mul(m)),m);return r>n?q1(p):p}function Upe(e,t){var r=gm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eB([n,a]),l=gm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=tB(new Qt(u).sub(c).div(d-1),i,0),h=[].concat(K1(f0.rangeStep(new Qt(c),new Qt(u).sub(new Qt(.99).mul(f)),f)),[u]);return n>a?q1(h):h}var Vpe=Q4(zpe),Wpe=Q4(Upe),Hpe="Invariant failed";function sc(e,t){throw new Error(Hpe)}var qpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(this,arguments)}function Kpe(e,t){return Zpe(e)||Xpe(e,t)||Ype(e,t)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ype(e,t){if(e){if(typeof e=="string")return VO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(e,t)}}function VO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zpe(e){if(Array.isArray(e))return e}function Qpe(e,t){if(e==null)return{};var r=Jpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ege(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iB(n.key),n)}}function rge(e,t,r){return t&&tge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nge(e,t,r){return t=Qv(t),age(e,nB()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function age(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ige(e)}function ige(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function sge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(e,t)}function aB(e,t,r){return t=iB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=oge(e,"string");return rd(t)=="symbol"?t:t+""}function oge(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf=function(e){function t(){return ege(this,t),nge(this,t,arguments)}return sge(t,e),rge(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Qpe(n,qpe),m=Ue(h,!1);this.props.direction==="x"&&d.type!=="number"&&sc();var y=c.map(function(g){var p=u(g,l),v=p.x,x=p.y,b=p.value,_=p.errorVal;if(!_)return null;var j=[],S,C;if(Array.isArray(_)){var P=Kpe(_,2);S=P[0],C=P[1]}else S=C=_;if(i==="vertical"){var N=d.scale,O=x+a,T=O+o,E=O-o,R=N(b-S),k=N(b+C);j.push({x1:k,y1:T,x2:k,y2:E}),j.push({x1:R,y1:O,x2:k,y2:O}),j.push({x1:R,y1:T,x2:R,y2:E})}else if(i==="horizontal"){var A=f.scale,$=v+a,M=$-o,L=$+o,B=A(b-S),z=A(b+C);j.push({x1:M,y1:z,x2:L,y2:z}),j.push({x1:$,y1:B,x2:$,y2:z}),j.push({x1:M,y1:B,x2:L,y2:B})}return I.createElement(vt,Zv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),j.map(function(Q){return I.createElement("line",Zv({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return I.createElement(vt,{className:"recharts-errorBars"},y)}}])}(I.Component);aB(cf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aB(cf,"displayName","ErrorBar");function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){lge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lge(e,t,r){return t=cge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cge(e){var t=uge(e,"string");return vm(t)=="symbol"?t:t+""}function uge(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sB=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=fa(r,Dr);if(!o)return null;var l=Dr.defaultProps,c=l!==void 0?dl(dl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?dl(dl({},h),f.props):{},y=m.dataKey,g=m.name,p=m.legendType,v=m.hide;return{inactive:v,dataKey:y,type:c.iconType||p||"square",color:_N(f),value:g||y,payload:m}}),dl(dl(dl({},c),Dr.getWithHeight(o,a)),{},{payload:u,item:o})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function HO(e){return mge(e)||hge(e)||fge(e)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(e,t){if(e){if(typeof e=="string")return X1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(e,t)}}function hge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mge(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Su(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=gge(e,"string");return ym(t)=="symbol"?t:t+""}function gge(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e,t,r){return Qe(e)||Qe(t)?r:nn(t)?ba(e,t,r):Je(t)?t(e):r}function fh(e,t,r,n){var a=hpe(e,function(l){return xr(l,t)});if(r==="number"){var i=a.filter(function(l){return we(l)||parseFloat(l)});return i.length?[u0(i),vo(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Qe(l)}):a;return o.map(function(l){return nn(l)||l instanceof Date?l:""})}var vge=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Un(f-d)!==Un(h-f)){var y=[];if(Un(h-f)===Un(c[1]-c[0])){m=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var p=h+c[1]-c[0];y[0]=Math.min(f,(p+f)/2),y[1]=Math.max(f,(p+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},_N=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},yge=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,p=y.cateAxisId,v=g.filter(function(C){return Ss(C.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Ir(Ir({},x),v[0].props):v[0].props,_=b.barSize,j=b[p];o[j]||(o[j]=[]);var S=Qe(_)?r:_;o[j].push({item:v[0],stackList:v.slice(1),barSize:Qe(S)?void 0:Vn(S,n,0)})}}return o},xge=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Vn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,y=o.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&m>0&&(h=!0,m*=.9,y=c*m);var g=(a-y)/2>>0,p={offset:g-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:p.offset+p.size+u,size:h?m:j.barSize}},C=[].concat(HO(_),[S]);return p=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:p})}),C},f)}else{var v=Vn(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var x=(a-2*v-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(_,j,S){var C=[].concat(HO(_),[{item:j.item,position:{offset:v+(x+u)*S+(x-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return d},bge=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=sB({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&we(t[m]))return Ir(Ir({},t),{},Su({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&we(t[y]))return Ir(Ir({},t),{},Su({},y,t[y]+(h||0)))}return t},wge=function(t,r,n){return Qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oB=function(t,r,n,a,i){var o=r.props.children,l=qn(o,cf).filter(function(u){return wge(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xr(d,n);if(Qe(f))return u;var h=Array.isArray(f)?[u0(f),vo(f)]:[f,f],m=c.reduce(function(y,g){var p=xr(d,g,0),v=h[0]-Math.abs(Array.isArray(p)?p[0]:p),x=h[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},jge=function(t,r,n,a,i){var o=r.map(function(l){return oB(t,l,n,i,a)}).filter(function(l){return!Qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},lB=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&oB(t,c,u,a)||fh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},cB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},uB=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ws=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Un(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!tf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},ow=new WeakMap,rg=function(t,r){if(typeof r!="function")return t;ow.has(t)||ow.set(t,new WeakMap);var n=ow.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},dB=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:um(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:qv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:dh(),realScaleType:"point"}:i==="category"?{scale:um(),realScaleType:"band"}:{scale:qv(),realScaleType:"linear"};if(nc(a)){var c="scale".concat(Yx(a));return{scale:(BO[c]||dh)(),realScaleType:BO[c]?c:"point"}}return Je(a)?{scale:a}:{scale:dh(),realScaleType:"point"}},KO=1e-4,fB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-KO,o=Math.max(a[0],a[1])+KO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},_ge=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Sge=function(t,r){if(!r||r.length!==2||!we(r[0])||!we(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!we(t[0])||t[0]<n)&&(i[0]=n),(!we(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Cge=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=tf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Nge=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=tf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Pge={sign:Cge,expand:qre,none:Gu,silhouette:Kre,wiggle:Gre,positive:Nge},kge=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Pge[n],o=Hre().keys(a).value(function(l,c){return+xr(l,c,0)}).order(w1).offset(i);return o(t)},Ege=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,g=y.stackId,p=y.hide;if(p)return f;var v=y[n],x=f[v]||{hasStack:!1,stackGroups:{}};if(nn(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[Jo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ir(Ir({},f),{},Su({},v,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,p){var v=m.stackGroups[p];return Ir(Ir({},g),{},Su({},p,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:kge(t,v.items,i)}))},y)}return Ir(Ir({},f),{},Su({},h,m))},d)},hB=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Vpe(u,i,l);return t.domain([u0(d),vo(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Wpe(f,i,l);return{niceTicks:h}}return null};function nd(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qe(a[t.dataKey])){var l=Cv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=xr(a,Qe(o)?t.dataKey:o);return Qe(c)?null:t.scale(c)}var GO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=xr(o,r.dataKey,r.domain[l]);return Qe(c)?null:r.scale(c)-i/2+a},Age=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Oge=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(nn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Tge=function(t){return t.reduce(function(r,n){return[u0(n.concat([r[0]]).filter(we)),vo(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},mB=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Tge(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},YO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z1=function(t,r,n){if(Je(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(we(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(YO.test(t[0])){var i=+YO.exec(t[0])[1];a[0]=r[0]-i}else Je(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(we(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(XO.test(t[1])){var o=+XO.exec(t[1])[1];a[1]=r[1]+o}else Je(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Jv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=ZC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ZO=function(t,r,n){return!t||!t.length||Wo(t,ba(n,"type.defaultProps.domain"))?r:t},pB=function(t,r){var n=t.type.defaultProps?Ir(Ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},Ue(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:_N(t),value:xr(r,a),type:c,payload:r,chartType:u,hide:d})};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){gB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gB(e,t,r){return t=Rge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rge(e){var t=Mge(e,"string");return xm(t)=="symbol"?t:t+""}function Mge(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ge(e,t){return Bge(e)||Lge(e,t)||Dge(e,t)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dge(e,t){if(e){if(typeof e=="string")return JO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JO(e,t)}}function JO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Bge(e){if(Array.isArray(e))return e}var ey=Math.PI/180,Fge=function(t){return t*180/Math.PI},hr=function(t,r,n,a){return{x:t+Math.cos(-ey*a)*n,y:r+Math.sin(-ey*a)*n}},vB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zge=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Vn(t.cx,o,o/2),f=Vn(t.cy,l,l/2),h=vB(o,l,n),m=Vn(t.innerRadius,h,0),y=Vn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(p,v){var x=r[v],b=x.domain,_=x.reversed,j;if(Qe(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,y]),_&&(j=[j[1],j[0]]);else{j=x.range;var S=j,C=$ge(S,2);c=C[0],u=C[1]}var P=dB(x,i),N=P.realScaleType,O=P.scale;O.domain(b).range(j),fB(O);var T=hB(O,hs(hs({},x),{},{realScaleType:N})),E=hs(hs(hs({},x),T),{},{range:j,radius:y,realScaleType:N,scale:O,cx:d,cy:f,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return hs(hs({},p),{},gB({},v,E))},{})},Uge=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Vge=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Uge({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Fge(u),angleInRadian:u}},Wge=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Hge=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},e2=function(t,r){var n=t.x,a=t.y,i=Vge({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Wge(r),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?hs(hs({},r),{},{radius:o,angle:Hge(m,r)}):null},yB=function(t){return!w.isValidElement(t)&&!Je(t)&&typeof t!="boolean"?t.className:""};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var qge=["offset"];function Kge(e){return Zge(e)||Xge(e)||Yge(e)||Gge()}function Gge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(e,t)}}function Xge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zge(e){if(Array.isArray(e))return Q1(e)}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qge(e,t){if(e==null)return{};var r=Jge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){eve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eve(e,t,r){return t=tve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e){var t=rve(e,"string");return bm(t)=="symbol"?t:t+""}function rve(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}var nve=function(t){var r=t.value,n=t.formatter,a=Qe(t.children)?r:t.children;return Je(n)?n(a):a},ave=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ive=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,p=(f+h)/2,v=ave(m,y),x=v>=0?1:-1,b,_;a==="insideStart"?(b=m+x*o,_=g):a==="insideEnd"?(b=y-x*o,_=!g):a==="end"&&(b=y+x*o,_=g),_=v<=0?_:!_;var j=hr(u,d,p,b),S=hr(u,d,p,b+(_?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),P=Qe(t.id)?Jo("recharts-radial-line-"):t.id;return I.createElement("text",wm({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:P,d:C})),I.createElement("textPath",{xlinkHref:"#".concat(P)},r))},sve=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=hr(o,l,u+n,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,v=hr(o,l,p,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},ove=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,p=g*a,v=g>0?"end":"start",x=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Xr(Xr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Xr(Xr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Xr(Xr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Xr(Xr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?Xr({x:l+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?Xr({x:l+u-p,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?Xr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?Xr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?Xr({x:l+p,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?Xr({x:l+u-p,y:c+h,textAnchor:v,verticalAnchor:y},C):i==="insideBottomLeft"?Xr({x:l+p,y:c+d-h,textAnchor:x,verticalAnchor:m},C):i==="insideBottomRight"?Xr({x:l+u-p,y:c+d-h,textAnchor:v,verticalAnchor:m},C):Zd(i)&&(we(i.x)||Ol(i.x))&&(we(i.y)||Ol(i.y))?Xr({x:l+Vn(i.x,u),y:c+Vn(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):Xr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},lve=function(t){return"cx"in t&&we(t.cx)};function un(e){var t=e.offset,r=t===void 0?5:t,n=Qge(e,qge),a=Xr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Qe(l)&&Qe(c)&&!w.isValidElement(u)&&!Je(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var m;if(Je(u)){if(m=w.createElement(u,a),w.isValidElement(m))return m}else m=nve(a);var y=lve(i),g=Ue(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ive(a,m,g);var p=y?sve(a):ove(a);return I.createElement(ac,wm({className:ut("recharts-label",f)},g,p,{breakAll:h}),m)}un.displayName="Label";var xB=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,g=t.width,p=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(we(g)&&we(p)){if(we(f)&&we(h))return{x:f,y:h,width:g,height:p};if(we(m)&&we(y))return{x:m,y,width:g,height:p}}return we(f)&&we(h)?{x:f,y:h,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},cve=function(t,r){return t?t===!0?I.createElement(un,{key:"label-implicit",viewBox:r}):nn(t)?I.createElement(un,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===un?w.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(un,{key:"label-implicit",content:t,viewBox:r}):Je(t)?I.createElement(un,{key:"label-implicit",content:t,viewBox:r}):Zd(t)?I.createElement(un,wm({viewBox:r},t,{key:"label-implicit"})):null:null},uve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=xB(t),o=qn(a,un).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=cve(t.label,r||i);return[l].concat(Kge(o))};un.parseViewBox=xB;un.renderCallByParent=uve;function dve(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fve=dve;const hve=Bt(fve);function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}var mve=["valueAccessor"],pve=["data","dataKey","clockWise","id","textBreakAll"];function gve(e){return bve(e)||xve(e)||yve(e)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(e,t){if(e){if(typeof e=="string")return J1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J1(e,t)}}function xve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bve(e){if(Array.isArray(e))return J1(e)}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(this,arguments)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wve(e,t,r){return t=jve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jve(e){var t=_ve(e,"string");return jm(t)=="symbol"?t:t+""}function _ve(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2(e,t){if(e==null)return{};var r=Sve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cve=function(t){return Array.isArray(t.value)?hve(t.value):t.value};function wi(e){var t=e.valueAccessor,r=t===void 0?Cve:t,n=a2(e,mve),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=a2(n,pve);return!a||!a.length?null:I.createElement(vt,{className:"recharts-label-list"},a.map(function(d,f){var h=Qe(i)?r(d,f):xr(d&&d.payload,i),m=Qe(l)?{}:{id:"".concat(l,"-").concat(f)};return I.createElement(un,ty({},Ue(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:un.parseViewBox(Qe(o)?d:n2(n2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wi.displayName="LabelList";function Nve(e,t){return e?e===!0?I.createElement(wi,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Je(e)?I.createElement(wi,{key:"labelList-implicit",data:t,content:e}):Zd(e)?I.createElement(wi,ty({data:t},e,{key:"labelList-implicit"})):null:null}function Pve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=qn(n,wi).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Nve(e.label,t);return[i].concat(gve(a))}wi.renderCallByParent=Pve;function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(this,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){kve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kve(e,t,r){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=Ave(e,"string");return _m(t)=="symbol"?t:t+""}function Ave(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ove=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ng=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ey,h=u?i:i+o*f,m=hr(r,n,d,h),y=hr(r,n,a,h),g=u?i-o*f:i,p=hr(r,n,d*Math.cos(f*ey),g);return{center:m,circleTangency:y,lineTangency:p,theta:f}},bB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Ove(o,l),u=o+c,d=hr(r,n,i,o),f=hr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=hr(r,n,a,o),y=hr(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Tve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Un(d-u),h=ng({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,g=h.theta,p=ng({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,x=p.lineTangency,b=p.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bB({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=ng({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,P=S.lineTangency,N=S.theta,O=ng({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=O.circleTangency,E=O.lineTangency,R=O.theta,k=c?Math.abs(u-d):Math.abs(u-d)-N-R;if(k<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Rve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wB=function(t){var r=s2(s2({},Rve),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=ut("recharts-sector",h),y=o-i,g=Vn(l,y,0,!0),p;return g>0&&Math.abs(d-f)<360?p=Tve({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=bB({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",e_({},Ue(r,!0),{className:m,d:p,role:"img"}))};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mve(e,t,r){return t=$ve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ve(e){var t=Ive(e,"string");return Sm(t)=="symbol"?t:t+""}function Ive(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c2={curveBasisClosed:Mre,curveBasisOpen:$re,curveBasis:Rre,curveBumpX:xre,curveBumpY:bre,curveLinearClosed:Ire,curveLinear:Zx,curveMonotoneX:Dre,curveMonotoneY:Lre,curveNatural:Bre,curveStep:Fre,curveStepAfter:Ure,curveStepBefore:zre},ag=function(t){return t.x===+t.x&&t.y===+t.y},Of=function(t){return t.x},Tf=function(t){return t.y},Dve=function(t,r){if(Je(t))return t;var n="curve".concat(Yx(t));return(n==="curveMonotone"||n==="curveBump")&&r?c2["".concat(n).concat(r==="vertical"?"Y":"X")]:c2[n]||Zx},Lve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Dve(n,l),f=u?i.filter(function(g){return ag(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return ag(g)}):o,y=f.map(function(g,p){return l2(l2({},g),{},{base:m[p]})});return l==="vertical"?h=Gp().y(Tf).x1(Of).x0(function(g){return g.base.x}):h=Gp().x(Of).y1(Tf).y0(function(g){return g.base.y}),h.defined(ag).curve(d),h(y)}return l==="vertical"&&we(o)?h=Gp().y(Tf).x1(Of).x0(o):we(o)?h=Gp().x(Of).y1(Tf).y0(o):h=pL().x(Of).y(Tf),h.defined(ag).curve(d),h(f)},Mo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Lve(t):a;return w.createElement("path",t_({},Ue(t,!1),Nv(t),{className:ut("recharts-curve",r),d:o,ref:i}))},jB={exports:{}},Bve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fve=Bve,zve=Fve;function _B(){}function SB(){}SB.resetWarningCache=_B;var Uve=function(){function e(n,a,i,o,l,c){if(c!==zve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SB,resetWarningCache:_B};return r.PropTypes=r,r};jB.exports=Uve();var Vve=jB.exports;const Lt=Bt(Vve);var Wve=Object.getOwnPropertyNames,Hve=Object.getOwnPropertySymbols,qve=Object.prototype.hasOwnProperty;function u2(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ig(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function d2(e){return Wve(e).concat(Hve(e))}var Kve=Object.hasOwn||function(e,t){return qve.call(e,t)};function xc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Gve="__v",Yve="__o",Xve="_owner",f2=Object.getOwnPropertyDescriptor,h2=Object.keys;function Zve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Qve(e,t){return xc(e.getTime(),t.getTime())}function Jve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eye(e,t){return e===t}function m2(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var tye=xc;function rye(e,t,r){var n=h2(e),a=n.length;if(h2(t).length!==a)return!1;for(;a-- >0;)if(!CB(e,t,r,n[a]))return!1;return!0}function Rf(e,t,r){var n=d2(e),a=n.length;if(d2(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!CB(e,t,r,i)||(o=f2(e,i),l=f2(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function nye(e,t){return xc(e.valueOf(),t.valueOf())}function aye(e,t){return e.source===t.source&&e.flags===t.flags}function p2(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function iye(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sye(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function CB(e,t,r,n){return(n===Xve||n===Yve||n===Gve)&&(e.$$typeof||t.$$typeof)?!0:Kve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var oye="[object Arguments]",lye="[object Boolean]",cye="[object Date]",uye="[object Error]",dye="[object Map]",fye="[object Number]",hye="[object Object]",mye="[object RegExp]",pye="[object Set]",gye="[object String]",vye="[object URL]",yye=Array.isArray,g2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,v2=Object.assign,xye=Object.prototype.toString.call.bind(Object.prototype.toString);function bye(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,g,p){if(y===g)return!0;if(y==null||g==null)return!1;var v=typeof y;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(y,g,p):v==="function"?a(y,g,p):!1;var x=y.constructor;if(x!==g.constructor)return!1;if(x===Object)return l(y,g,p);if(yye(y))return t(y,g,p);if(g2!=null&&g2(y))return f(y,g,p);if(x===Date)return r(y,g,p);if(x===RegExp)return u(y,g,p);if(x===Map)return i(y,g,p);if(x===Set)return d(y,g,p);var b=xye(y);return b===cye?r(y,g,p):b===mye?u(y,g,p):b===dye?i(y,g,p):b===pye?d(y,g,p):b===hye?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,p):b===vye?h(y,g,p):b===uye?n(y,g,p):b===oye?l(y,g,p):b===lye||b===fye||b===gye?c(y,g,p):!1}}function wye(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Rf:Zve,areDatesEqual:Qve,areErrorsEqual:Jve,areFunctionsEqual:eye,areMapsEqual:n?u2(m2,Rf):m2,areNumbersEqual:tye,areObjectsEqual:n?Rf:rye,arePrimitiveWrappersEqual:nye,areRegExpsEqual:aye,areSetsEqual:n?u2(p2,Rf):p2,areTypedArraysEqual:n?Rf:iye,areUrlsEqual:sye};if(r&&(a=v2({},a,r(a))),t){var i=ig(a.areArraysEqual),o=ig(a.areMapsEqual),l=ig(a.areObjectsEqual),c=ig(a.areSetsEqual);a=v2({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function jye(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function _ye(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Sye=nl();nl({strict:!0});nl({circular:!0});nl({circular:!0,strict:!0});nl({createInternalComparator:function(){return xc}});nl({strict:!0,createInternalComparator:function(){return xc}});nl({circular:!0,createInternalComparator:function(){return xc}});nl({circular:!0,createInternalComparator:function(){return xc},strict:!0});function nl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=wye(e),c=bye(l),u=n?n(c):jye(c);return _ye({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Cye(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function y2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Cye(a)};requestAnimationFrame(n)}function r_(e){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r_(e)}function Nye(e){return Aye(e)||Eye(e)||kye(e)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(e,t){if(e){if(typeof e=="string")return x2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x2(e,t)}}function x2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aye(e){if(Array.isArray(e))return e}function Oye(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nye(o),c=l[0],u=l.slice(1);if(typeof c=="number"){y2(a.bind(null,u),c);return}a(c),y2(a.bind(null,u));return}r_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return t=Tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Rye(e,"string");return Cm(t)==="symbol"?t:String(t)}function Rye(e,t){if(Cm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mye=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},$ye=function(t){return t},Iye=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hh=function(t,r){return Object.keys(r).reduce(function(n,a){return w2(w2({},n),{},NB({},a,t(a,r[a])))},{})},j2=function(t,r,n){return t.map(function(a){return"".concat(Iye(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Dye(e,t){return Fye(e)||Bye(e,t)||PB(e,t)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fye(e){if(Array.isArray(e))return e}function zye(e){return Wye(e)||Vye(e)||PB(e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function Vye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wye(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ry=1e-4,kB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},EB=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},_2=function(t,r){return function(n){var a=kB(t,r);return EB(a,n)}},Hye=function(t,r){return function(n){var a=kB(t,r),i=[].concat(zye(a.map(function(o,l){return o*l}).slice(1)),[0]);return EB(i,n)}},S2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=Dye(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=_2(a,o),h=_2(i,l),m=Hye(a,o),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var j=f(b)-x,S=m(b);if(Math.abs(j-x)<ry||S<ry)return h(b);b=y(b-j/S)}return h(b)};return g.isStepper=!1,g},qye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,y=h*i,g=h+(m-y)*l/1e3,p=h*l/1e3+d;return Math.abs(p-f)<ry&&Math.abs(g)<ry?[f,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},Kye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S2(a);case"spring":return qye();default:if(a.split("(")[0]==="cubic-bezier")return S2(a)}return typeof a=="function"?a:null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function C2(e){return Xye(e)||Yye(e)||AB(e)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xye(e){if(Array.isArray(e))return i_(e)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e,t,r){return t=Zye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zye(e){var t=Qye(e,"string");return Nm(t)==="symbol"?t:String(t)}function Qye(e,t){if(Nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jye(e,t){return rxe(e)||txe(e,t)||AB(e,t)||exe()}function exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function txe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rxe(e){if(Array.isArray(e))return e}var ny=function(t,r,n){return t+(r-t)*n},s_=function(t){var r=t.from,n=t.to;return r!==n},nxe=function e(t,r,n){var a=hh(function(i,o){if(s_(o)){var l=t(o.from,o.to,o.velocity),c=Jye(l,2),u=c[0],d=c[1];return vn(vn({},o),{},{from:u,velocity:d})}return o},r);return n<1?hh(function(i,o){return s_(o)?vn(vn({},o),{},{velocity:ny(o.velocity,a[i].velocity,n),from:ny(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const axe=function(e,t,r,n,a){var i=Mye(e,t),o=i.reduce(function(p,v){return vn(vn({},p),{},a_({},v,[e[v],t[v]]))},{}),l=i.reduce(function(p,v){return vn(vn({},p),{},a_({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return hh(function(v,x){return x.from},l)},m=function(){return!Object.values(l).filter(s_).length},y=function(v){u||(u=v);var x=v-u,b=x/r.dt;l=nxe(r,l,b),a(vn(vn(vn({},e),t),h())),u=v,m()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var x=(v-d)/n,b=hh(function(j,S){return ny.apply(void 0,C2(S).concat([r(x)]))},o);if(a(vn(vn(vn({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=hh(function(j,S){return ny.apply(void 0,C2(S).concat([r(1)]))},o);a(vn(vn(vn({},e),t),_))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}var ixe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sxe(e,t){if(e==null)return{};var r=oxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oxe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function lw(e){return dxe(e)||uxe(e)||cxe(e)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dxe(e){if(Array.isArray(e))return o_(e)}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){Gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gf(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function mxe(e,t,r){return t&&hxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OB(e){var t=pxe(e,"string");return ad(t)==="symbol"?t:String(t)}function pxe(e,t){if(ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(e,t)}function vxe(e){var t=yxe();return function(){var n=ay(e),a;if(t){var i=ay(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return c_(this,a)}}function c_(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u_(e)}function u_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}var Wa=function(e){gxe(r,e);var t=vxe(r);function r(n,a){var i;fxe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(u_(i)),i.changeStyle=i.changeStyle.bind(u_(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),c_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},c_(i);i.state={style:c?Gf({},c,u):u}}else i.state={style:{}};return i}return mxe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Gf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Sye(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&h){var p={style:c?Gf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(p)}this.runAnimation(Ja(Ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=axe(o,l,Kye(u),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,p,v){if(v===0)return g;var x=p.duration,b=p.easing,_=b===void 0?"ease":b,j=p.style,S=p.properties,C=p.onAnimationEnd,P=v>0?o[v-1]:p,N=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(lw(g),[i.runJSAnimation.bind(i,{from:P.style,to:j,duration:x,easing:_}),x]);var O=j2(N,x,_),T=Ja(Ja(Ja({},P.style),j),{},{transition:O});return[].concat(lw(g),[T,x,C]).filter($ye)};return this.manager.start([c].concat(lw(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Oye());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Gf({},l,c):c,p=j2(Object.keys(g),o,u);y.start([d,i,Ja(Ja({},g),{},{transition:p}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=sxe(a,ixe),u=w.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var y=m.props,g=y.style,p=g===void 0?{}:g,v=y.className,x=w.cloneElement(m,Ja(Ja({},c),{},{style:Ja(Ja({},p),d),className:v}));return x};return u===1?f(w.Children.only(i)):I.createElement("div",null,w.Children.map(i,function(h){return f(h)}))}}]),r}(w.PureComponent);Wa.displayName="Animate";Wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wa.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function xxe(e,t){return _xe(e)||jxe(e,t)||wxe(e,t)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(e,t){if(e){if(typeof e=="string")return k2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(e,t)}}function k2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _xe(e){if(Array.isArray(e))return e}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){Sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sxe(e,t,r){return t=Cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Nxe(e,"string");return Pm(t)=="symbol"?t:t+""}function Nxe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O2=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Pxe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},kxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SN=function(t){var r=A2(A2({},kxe),t),n=w.useRef(),a=w.useState(-1),i=xxe(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ut("recharts-rectangle",m);return x?I.createElement(Wa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:x},function(_){var j=_.width,S=_.height,C=_.x,P=_.y;return I.createElement(Wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:v,easing:y},I.createElement("path",iy({},Ue(r,!0),{className:b,d:O2(C,P,j,S,h),ref:n})))}):I.createElement("path",iy({},Ue(r,!0),{className:b,d:O2(c,u,d,f,h)}))},Exe=["points","className","baseLinePoints","connectNulls"];function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}function Axe(e,t){if(e==null)return{};var r=Oxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T2(e){return $xe(e)||Mxe(e)||Rxe(e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function Mxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $xe(e){if(Array.isArray(e))return d_(e)}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R2=function(t){return t&&t.x===+t.x&&t.y===+t.y},Ixe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){R2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),R2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mh=function(t,r){var n=Ixe(t);r&&(n=[n.reduce(function(i,o){return[].concat(T2(i),T2(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Dxe=function(t,r,n){var a=mh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(mh(r.reverse(),n).slice(1))},Lxe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Axe(t,Exe);if(!r||!r.length)return null;var l=ut("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Dxe(r,a,i);return I.createElement("g",{className:l},I.createElement("path",lu({},Ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?I.createElement("path",lu({},Ue(o,!0),{fill:"none",d:mh(r,i)})):null,c?I.createElement("path",lu({},Ue(o,!0),{fill:"none",d:mh(a,i)})):null)}var d=mh(r,i);return I.createElement("path",lu({},Ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}var hp=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=ut("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",f_({},Ue(t,!1),Nv(t),{className:o,cx:r,cy:n,r:a})):null};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var Bxe=["x","y","top","left","width","height","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t,r){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=Vxe(e,"string");return km(t)=="symbol"?t:t+""}function Vxe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wxe(e,t){if(e==null)return{};var r=Hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qxe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Kxe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,g=Wxe(t,Bxe),p=Fxe({x:n,y:i,top:l,left:u,width:f,height:m},g);return!we(n)||!we(i)||!we(f)||!we(m)||!we(l)||!we(u)?null:I.createElement("path",h_({},Ue(p,!0),{className:ut("recharts-cross",y),d:qxe(n,i,f,m,l,u)}))},Gxe=c0,Yxe=V4,Xxe=as;function Zxe(e,t){return e&&e.length?Gxe(e,Xxe(t),Yxe):void 0}var Qxe=Zxe;const Jxe=Bt(Qxe);var e0e=c0,t0e=as,r0e=W4;function n0e(e,t){return e&&e.length?e0e(e,t0e(t),r0e):void 0}var a0e=n0e;const i0e=Bt(a0e);var s0e=["cx","cy","angle","ticks","axisLine"],o0e=["ticks","tick","angle","tickFormatter","stroke"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){h0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I2(e,t){if(e==null)return{};var r=l0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function u0e(e,t,r){return t&&D2(e.prototype,t),r&&D2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d0e(e,t,r){return t=sy(t),f0e(e,TB()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function f0e(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h0e(e)}function h0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function m0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function h0(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=p0e(e,"string");return id(t)=="symbol"?t:t+""}function p0e(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m0=function(e){function t(){return c0e(this,t),d0e(this,t,arguments)}return m0e(t,e),u0e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return hr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Jxe(l,function(d){return d.coordinate||0}),u=i0e(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=I2(n,s0e),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=hr(a,i,d[0],o),h=hr(a,i,d[1],o),m=fl(fl(fl({},Ue(u,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",ph({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=I2(a,o0e),f=this.getTickTextAnchor(),h=Ue(d,!1),m=Ue(o,!1),y=i.map(function(g,p){var v=n.getTickValueCoord(g),x=fl(fl(fl(fl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:p},v),{},{payload:g});return I.createElement(vt,ph({className:ut("recharts-polar-radius-axis-tick",yB(o)),key:"tick-".concat(g.coordinate)},Vo(n.props,g,p)),t.renderTickItem(o,x,c?c(g.value,p):g.value))});return I.createElement(vt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:I.createElement(vt,{className:ut("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Je(n)?o=n(a):o=I.createElement(ac,ph({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(w.PureComponent);h0(m0,"displayName","PolarRadiusAxis");h0(m0,"axisType","radiusAxis");h0(m0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$B(n.key),n)}}function v0e(e,t,r){return t&&B2(e.prototype,t),r&&B2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y0e(e,t,r){return t=oy(t),x0e(e,MB()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function x0e(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b0e(e)}function b0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MB=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function w0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p_(e,t)}function p0(e,t,r){return t=$B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=j0e(e,"string");return sd(t)=="symbol"?t:t+""}function j0e(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0e=Math.PI/180,F2=1e-5,g0=function(e){function t(){return g0e(this,t),y0e(this,t,arguments)}return w0e(t,e),v0e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=hr(i,o,l,n.coordinate),h=hr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*_0e),o;return i>F2?o=a==="outer"?"start":"end":i<-F2?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=hl(hl({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return I.createElement(hp,Cl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return hr(a,i,o,h.coordinate)});return I.createElement(Lxe,Cl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ue(this.props,!1),f=Ue(o,!1),h=hl(hl({},d),{},{fill:"none"},Ue(l,!1)),m=i.map(function(y,g){var p=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=hl(hl(hl({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:p.x2,y:p.y2});return I.createElement(vt,Cl({className:ut("recharts-polar-angle-axis-tick",yB(o)),key:"tick-".concat(y.coordinate)},Vo(n.props,y,g)),l&&I.createElement("line",Cl({className:"recharts-polar-angle-axis-tick-line"},h,p)),o&&t.renderTickItem(o,x,c?c(y.value,g):y.value))});return I.createElement(vt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:I.createElement(vt,{className:ut("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Je(n)?o=n(a):o=I.createElement(ac,Cl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(w.PureComponent);p0(g0,"displayName","PolarAngleAxis");p0(g0,"axisType","angleAxis");p0(g0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var S0e=BL,C0e=S0e(Object.getPrototypeOf,Object),N0e=C0e,P0e=zs,k0e=N0e,E0e=Us,A0e="[object Object]",O0e=Function.prototype,T0e=Object.prototype,IB=O0e.toString,R0e=T0e.hasOwnProperty,M0e=IB.call(Object);function $0e(e){if(!E0e(e)||P0e(e)!=A0e)return!1;var t=k0e(e);if(t===null)return!0;var r=R0e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IB.call(r)==M0e}var I0e=$0e;const D0e=Bt(I0e);var L0e=zs,B0e=Us,F0e="[object Boolean]";function z0e(e){return e===!0||e===!1||B0e(e)&&L0e(e)==F0e}var U0e=z0e;const V0e=Bt(U0e);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function W0e(e,t){return G0e(e)||K0e(e,t)||q0e(e,t)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(e,t){if(e){if(typeof e=="string")return z2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z2(e,t)}}function z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G0e(e){if(Array.isArray(e))return e}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){Y0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y0e(e,t,r){return t=X0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X0e(e){var t=Z0e(e,"string");return Em(t)=="symbol"?t:t+""}function Z0e(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W2=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Q0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J0e=function(t){var r=V2(V2({},Q0e),t),n=w.useRef(),a=w.useState(-1),i=W0e(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,p=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=ut("recharts-trapezoid",m);return v?I.createElement(Wa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:v},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,C=b.x,P=b.y;return I.createElement(Wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:y},I.createElement("path",ly({},Ue(r,!0),{className:x,d:W2(C,P,_,j,S),ref:n})))}):I.createElement("g",null,I.createElement("path",ly({},Ue(r,!0),{className:x,d:W2(c,u,d,f,h)})))},ebe=["option","shapeType","propTransformer","activeClassName","isActive"];function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function tbe(e,t){if(e==null)return{};var r=rbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return t=abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=ibe(e,"string");return Am(t)=="symbol"?t:t+""}function ibe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sbe(e,t){return cy(cy({},t),e)}function obe(e,t){return e==="symbols"}function q2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(SN,r);case"trapezoid":return I.createElement(J0e,r);case"sector":return I.createElement(wB,r);case"symbols":if(obe(t))return I.createElement(Jx,r);break;default:return null}}function lbe(e){return w.isValidElement(e)?e.props:e}function uy(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?sbe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=tbe(e,ebe),u;if(w.isValidElement(t))u=w.cloneElement(t,cy(cy({},c),lbe(t)));else if(Je(t))u=t(c);else if(D0e(t)&&!V0e(t)){var d=a(t,c);u=I.createElement(q2,{shapeType:r,elementProps:d})}else{var f=c;u=I.createElement(q2,{shapeType:r,elementProps:f})}return l?I.createElement(vt,{className:o},u):u}function v0(e,t){return t!=null&&"trapezoids"in e.props}function y0(e,t){return t!=null&&"sectors"in e.props}function Om(e,t){return t!=null&&"points"in e.props}function cbe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ube(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dbe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function fbe(e,t){var r;return v0(e,t)?r=cbe:y0(e,t)?r=ube:Om(e,t)&&(r=dbe),r}function hbe(e,t){var r;return v0(e,t)?r="trapezoids":y0(e,t)?r="sectors":Om(e,t)&&(r="points"),r}function mbe(e,t){if(v0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(y0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Om(e,t)?t.payload:{}}function pbe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=hbe(r,t),i=mbe(r,t),o=n.filter(function(c,u){var d=Wo(i,c),f=r.props[a].filter(function(y){var g=fbe(r,t);return g(y,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Mg;function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){$a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function vbe(e,t,r){return t&&G2(e.prototype,t),r&&G2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ybe(e,t,r){return t=dy(t),xbe(e,DB()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function xbe(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bbe(e)}function bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g_(e,t)}function $a(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=jbe(e,"string");return od(t)=="symbol"?t:t+""}function jbe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi=function(e){function t(r){var n;return gbe(this,t),n=ybe(this,t,[r]),$a(n,"pieRef",null),$a(n,"sectorRefs",[]),$a(n,"id",Jo("recharts-pie-")),$a(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Je(a)&&a()}),$a(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Je(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return wbe(t,e),vbe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ue(this.props,!1),f=Ue(o,!1),h=Ue(l,!1),m=o&&o.offsetRadius||20,y=n.map(function(g,p){var v=(g.startAngle+g.endAngle)/2,x=hr(g.cx,g.cy,g.outerRadius+m,v),b=ur(ur(ur(ur({},d),g),{},{stroke:"none"},f),{},{index:p,textAnchor:t.getTextAnchor(x.x,g.cx)},x),_=ur(ur(ur(ur({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:p,points:[hr(g.cx,g.cy,g.outerRadius,v),x]}),j=c;return Qe(c)&&Qe(u)?j="value":Qe(c)&&(j=u),I.createElement(vt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,xr(g,j)))});return I.createElement(vt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,y=ur(ur({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return I.createElement(vt,cu({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},Vo(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),I.createElement(uy,cu({option:m,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return I.createElement(Wa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,p=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(b,_){var j=h&&h[_],S=_>0?ba(b,"paddingAngle",0):0;if(j){var C=Cr(j.endAngle-j.startAngle,b.endAngle-b.startAngle),P=ur(ur({},b),{},{startAngle:x+S,endAngle:x+C(g)+S});p.push(P),x=P.endAngle}else{var N=b.endAngle,O=b.startAngle,T=Cr(0,N-O),E=T(g),R=ur(ur({},b),{},{startAngle:x+S,endAngle:x+E+S});p.push(R),x=R.endAngle}}),I.createElement(vt,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Wo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!we(u)||!we(d)||!we(f)||!we(h))return null;var g=ut("recharts-pie",l);return I.createElement(vt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),un.renderCallByParent(this.props,null,!1),(!m||y)&&wi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);if(Je(n))return n(a);var o=ut("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(Mo,cu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(I.isValidElement(n))return I.cloneElement(n,a);var o=i;if(Je(n)&&(o=n(a),I.isValidElement(o)))return o;var l=ut("recharts-pie-label-text",typeof n!="boolean"&&!Je(n)?n.className:"");return I.createElement(ac,cu({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Mg=Pi;$a(Pi,"displayName","Pie");$a(Pi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$a(Pi,"parseDeltaAngle",function(e,t){var r=Un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$a(Pi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ue(e,!1),a=qn(r,el);return t&&t.length?t.map(function(i,o){return ur(ur(ur({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ur(ur({},n),i.props)}):[]});$a(Pi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=vB(a,i),l=n+Vn(e.cx,a,a/2),c=r+Vn(e.cy,i,i/2),u=Vn(e.innerRadius,o,0),d=Vn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});$a(Pi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ur(ur({},t.type.defaultProps),t.props):t.props,a=Mg.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),y=Mg.parseCoordinateOfPie(n,r),g=Mg.parseDeltaAngle(o,l),p=Math.abs(g),v=u;Qe(u)&&Qe(f)?(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Qe(u)&&(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var x=a.filter(function(P){return xr(P,v,0)!==0}).length,b=(p>=360?x:x-1)*c,_=p-x*m-b,j=a.reduce(function(P,N){var O=xr(N,v,0);return P+(we(O)?O:0)},0),S;if(j>0){var C;S=a.map(function(P,N){var O=xr(P,v,0),T=xr(P,d,N),E=(we(O)?O:0)/j,R;N?R=C.endAngle+Un(g)*c*(O!==0?1:0):R=o;var k=R+Un(g)*((O!==0?m:0)+E*_),A=(R+k)/2,$=(y.innerRadius+y.outerRadius)/2,M=[{name:T,value:O,payload:P,dataKey:v,type:h}],L=hr(y.cx,y.cy,$,A);return C=ur(ur(ur({percent:E,cornerRadius:i,name:T,tooltipPayload:M,midAngle:A,middleRadius:$,tooltipPosition:L},P),y),{},{value:xr(P,v),startAngle:R,endAngle:k,payload:P,paddingAngle:Un(g)*c}),C})}return ur(ur({},y),{},{sectors:S,data:a})});var _be=Math.ceil,Sbe=Math.max;function Cbe(e,t,r,n){for(var a=-1,i=Sbe(_be((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Nbe=Cbe,Pbe=a4,Y2=1/0,kbe=17976931348623157e292;function Ebe(e){if(!e)return e===0?e:0;if(e=Pbe(e),e===Y2||e===-Y2){var t=e<0?-1:1;return t*kbe}return e===e?e:0}var BB=Ebe,Abe=Nbe,Obe=r0,cw=BB;function Tbe(e){return function(t,r,n){return n&&typeof n!="number"&&Obe(t,r,n)&&(r=n=void 0),t=cw(t),r===void 0?(r=t,t=0):r=cw(r),n=n===void 0?t<r?1:-1:cw(n),Abe(t,r,n,e)}}var Rbe=Tbe,Mbe=Rbe,$be=Mbe(),Ibe=$be;const fy=Bt(Ibe);function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){FB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FB(e,t,r){return t=Dbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dbe(e){var t=Lbe(e,"string");return Tm(t)=="symbol"?t:t+""}function Lbe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bbe=["Webkit","Moz","O","ms"],Fbe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Bbe.reduce(function(i,o){return Z2(Z2({},i),{},FB({},o+n,r))},{});return a[t]=r,a};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UB(n.key),n)}}function Ube(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbe(e,t,r){return t=my(t),Wbe(e,zB()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function Wbe(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(e)}function Hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function qbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v_(e,t)}function ua(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=Kbe(e,"string");return ld(t)=="symbol"?t:t+""}function Kbe(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gbe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=dh().domain(fy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},eT=function(t){return t.changedTouches&&!!t.changedTouches.length},cd=function(e){function t(r){var n;return zbe(this,t),n=Vbe(this,t,[r]),ua(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ua(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ua(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ua(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ua(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ua(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ua(n,"handleSlideDragStart",function(a){var i=eT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qbe(t,e),Ube(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=xr(i[n],l,n);return Je(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var p=this.getIndex({startX:o+g,endX:l+g});(p.startIndex!==h||p.endIndex!==m)&&y&&y(p),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=eT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,p=d.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),v[o]=u+x;var b=this.getIndex(v),_=b.startIndex,j=b.endIndex,S=function(){var P=p.length-1;return o==="startX"&&(l>c?_%g===0:j%g===0)||l<c&&j===P||o==="endX"&&(l>c?j%g===0:_%g===0)||l>c&&j===P};this.setState(ua(ua({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ua({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?I.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,g=c.startIndex,p=c.endIndex,v=Math.max(n,this.props.x),x=uw(uw({},Ue(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=m||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[p])===null||o===void 0?void 0:o.name);return I.createElement(vt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return I.createElement(vt,{className:"recharts-brush-texts"},I.createElement(ac,hy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},y),this.getTextOfTick(a)),I.createElement(ac,hy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,p=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!we(l)||!we(c)||!we(u)||!we(d)||u<=0||d<=0)return null;var b=ut("recharts-brush",i),_=I.Children.count(o)===1,j=Fbe("userSelect","none");return I.createElement(vt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||p||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return I.isValidElement(n)?i=I.cloneElement(n,a):Je(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return uw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Gbe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(w.PureComponent);ua(cd,"displayName","Brush");ua(cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ybe=XC;function Xbe(e,t){var r;return Ybe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Zbe=Xbe,Qbe=OL,Jbe=as,ewe=Zbe,twe=oa,rwe=r0;function nwe(e,t,r){var n=twe(e)?Qbe:ewe;return r&&rwe(e,t,r)&&(t=void 0),n(e,Jbe(t))}var awe=nwe;const iwe=Bt(awe);var Xi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},tT=JL;function swe(e,t,r){t=="__proto__"&&tT?tT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var owe=swe,lwe=owe,cwe=ZL,uwe=as;function dwe(e,t){var r={};return t=uwe(t),cwe(e,function(n,a,i){lwe(r,a,t(n,a,i))}),r}var fwe=dwe;const hwe=Bt(fwe);function mwe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var pwe=mwe,gwe=XC;function vwe(e,t){var r=!0;return gwe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var ywe=vwe,xwe=pwe,bwe=ywe,wwe=as,jwe=oa,_we=r0;function Swe(e,t,r){var n=jwe(e)?xwe:bwe;return r&&_we(e,t,r)&&(t=void 0),n(e,wwe(t))}var Cwe=Swe;const VB=Bt(Cwe);var Nwe=["x","y"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Pwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pwe(e,t,r){return t=kwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kwe(e){var t=Ewe(e,"string");return Rm(t)=="symbol"?t:t+""}function Ewe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Awe(e,t){if(e==null)return{};var r=Owe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Twe(e,t){var r=e.x,n=e.y,a=Awe(e,Nwe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Mf(Mf(Mf(Mf(Mf({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nT(e){return I.createElement(uy,y_({shapeType:"rectangle",propTransformer:Twe,activeClassName:"recharts-active-bar"},e))}var Rwe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=we(n)||ate(n);return i?t(n,a):(i||sc(),r)}},Mwe=["value","background"],WB;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function $we(e,t){if(e==null)return{};var r=Iwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qB(n.key),n)}}function Lwe(e,t,r){return t&&iT(e.prototype,t),r&&iT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bwe(e,t,r){return t=gy(t),Fwe(e,HB()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function Fwe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(e)}function zwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function Uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x_(e,t)}function yo(e,t,r){return t=qB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=Vwe(e,"string");return ud(t)=="symbol"?t:t+""}function Vwe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wt=function(e){function t(){var r;Dwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Bwe(this,t,[].concat(a)),yo(r,"state",{isAnimationFinished:!1}),yo(r,"id",Jo("recharts-bar-")),yo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),yo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Uwe(t,e),Lwe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ue(this.props,!1);return n&&n.map(function(f,h){var m=h===c,y=m?u:o,g=Wr(Wr(Wr({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(vt,py({className:"recharts-bar-rectangle"},Vo(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(nT,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Wa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=i.map(function(p,v){var x=h&&h[v];if(x){var b=Cr(x.x,p.x),_=Cr(x.y,p.y),j=Cr(x.width,p.width),S=Cr(x.height,p.height);return Wr(Wr({},p),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(o==="horizontal"){var C=Cr(0,p.height),P=C(y);return Wr(Wr({},p),{},{y:p.y+p.height-P,height:P})}var N=Cr(0,p.width),O=N(y);return Wr(Wr({},p),{},{width:O})});return I.createElement(vt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Wo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ue(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=$we(u,Mwe);if(!f)return null;var m=Wr(Wr(Wr(Wr(Wr({},h),{},{fill:"#eee"},f),c),Vo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(nT,py({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=qn(d,cf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(p,v){var x=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:x,errorVal:xr(p,v)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(vt,y,f.map(function(g){return I.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,v=ut("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,j=Qe(g)?this.id:g;return I.createElement(vt,{className:v},x||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,I.createElement(vt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||p)&&wi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);WB=Wt;yo(Wt,"displayName","Bar");yo(Wt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yo(Wt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=_ge(n,r);if(!m)return null;var y=t.layout,g=r.type.defaultProps,p=g!==void 0?Wr(Wr({},g),r.props):r.props,v=p.dataKey,x=p.children,b=p.minPointSize,_=y==="horizontal"?o:i,j=u?_.scale.domain():null,S=Age({numericAxis:_}),C=qn(x,el),P=f.map(function(N,O){var T,E,R,k,A,$;u?T=Sge(u[d+O],j):(T=xr(N,v),Array.isArray(T)||(T=[S,T]));var M=Rwe(b,WB.defaultProps.minPointSize)(T[1],O);if(y==="horizontal"){var L,B=[o.scale(T[0]),o.scale(T[1])],z=B[0],Q=B[1];E=GO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:N,index:O}),R=(L=Q??z)!==null&&L!==void 0?L:void 0,k=m.size;var ee=z-Q;if(A=Number.isNaN(ee)?0:ee,$={x:E,y:o.y,width:k,height:o.height},Math.abs(M)>0&&Math.abs(A)<Math.abs(M)){var se=Un(A||M)*(Math.abs(M)-Math.abs(A));R-=se,A+=se}}else{var U=[i.scale(T[0]),i.scale(T[1])],q=U[0],G=U[1];if(E=q,R=GO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:N,index:O}),k=G-q,A=m.size,$={x:i.x,y:R,width:i.width,height:A},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var H=Un(k||M)*(Math.abs(M)-Math.abs(k));k+=H}}return Wr(Wr(Wr({},N),{},{x:E,y:R,width:k,height:A,value:u?T:T[1],payload:N,background:$},C&&C[O]&&C[O].props),{},{tooltipPayload:[pB(r,N)],tooltipPosition:{x:E+k/2,y:R+A/2}})});return Wr({data:P,layout:y},h)});function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Wwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KB(n.key),n)}}function Hwe(e,t,r){return t&&sT(e.prototype,t),r&&sT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x0(e,t,r){return t=KB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KB(e){var t=qwe(e,"string");return Mm(t)=="symbol"?t:t+""}function qwe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b0=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!fa(u,Wt);return d.reduce(function(m,y){var g=r[y],p=g.orientation,v=g.domain,x=g.padding,b=x===void 0?{}:x,_=g.mirror,j=g.reversed,S="".concat(p).concat(_?"Mirror":""),C,P,N,O,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=v[1]-v[0],R=1/0,k=g.categoricalDomain.sort(lte);if(k.forEach(function(U,q){q>0&&(R=Math.min((U||0)-(k[q-1]||0),R))}),Number.isFinite(R)){var A=R/E,$=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(C=A*$/2),g.padding==="no-gap"){var M=Vn(t.barCategoryGap,A*$),L=A*$/2;C=L-M-(L-M)/$*M}}}a==="xAxis"?P=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:P=g.range,j&&(P=[P[1],P[0]]);var B=dB(g,i,h),z=B.scale,Q=B.realScaleType;z.domain(v).range(P),fB(z);var ee=hB(z,ui(ui({},g),{},{realScaleType:Q}));a==="xAxis"?(T=p==="top"&&!_||p==="bottom"&&_,N=n.left,O=f[S]-T*g.height):a==="yAxis"&&(T=p==="left"&&!_||p==="right"&&_,N=f[S]-T*g.width,O=n.top);var se=ui(ui(ui({},g),ee),{},{realScaleType:Q,x:N,y:O,scale:z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return se.bandSize=Jv(se,ee),!g.hide&&a==="xAxis"?f[S]+=(T?-1:1)*se.height:g.hide||(f[S]+=(T?-1:1)*se.width),ui(ui({},m),{},x0({},y,se))},{})},GB=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Kwe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return GB({x:r,y:n},{x:a,y:i})},YB=function(){function e(t){Wwe(this,e),this.scale=t}return Hwe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();x0(YB,"EPS",1e-4);var CN=function(t){var r=Object.keys(t).reduce(function(n,a){return ui(ui({},n),{},x0({},a,YB.create(t[a])))},{});return ui(ui({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return hwe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return VB(a,function(i,o){return r[o].isInRange(i)})}})};function Gwe(e){return(e%180+180)%180}var Ywe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Gwe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Xwe=as,Zwe=lp,Qwe=e0;function Jwe(e){return function(t,r,n){var a=Object(t);if(!Zwe(t)){var i=Xwe(r);t=Qwe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var eje=Jwe,tje=BB;function rje(e){var t=tje(e),r=t%1;return t===t?r?t-r:t:0}var nje=rje,aje=HL,ije=as,sje=nje,oje=Math.max;function lje(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:sje(r);return a<0&&(a=oje(n+a,0)),aje(e,ije(t),a)}var cje=lje,uje=eje,dje=cje,fje=uje(dje),hje=fje;const mje=Bt(hje);var pje=lee(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NN=w.createContext(void 0),PN=w.createContext(void 0),XB=w.createContext(void 0),ZB=w.createContext({}),QB=w.createContext(void 0),JB=w.createContext(0),eF=w.createContext(0),lT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=pje(i);return I.createElement(NN.Provider,{value:n},I.createElement(PN.Provider,{value:a},I.createElement(ZB.Provider,{value:i},I.createElement(XB.Provider,{value:d},I.createElement(QB.Provider,{value:o},I.createElement(JB.Provider,{value:u},I.createElement(eF.Provider,{value:c},l)))))))},gje=function(){return w.useContext(QB)},tF=function(t){var r=w.useContext(NN);r==null&&sc();var n=r[t];return n==null&&sc(),n},vje=function(){var t=w.useContext(NN);return oo(t)},yje=function(){var t=w.useContext(PN),r=mje(t,function(n){return VB(n.domain,Number.isFinite)});return r||oo(t)},rF=function(t){var r=w.useContext(PN);r==null&&sc();var n=r[t];return n==null&&sc(),n},xje=function(){var t=w.useContext(XB);return t},bje=function(){return w.useContext(ZB)},kN=function(){return w.useContext(eF)},EN=function(){return w.useContext(JB)};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function wje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function _je(e,t,r){return t&&jje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sje(e,t,r){return t=vy(t),Cje(e,nF()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function Cje(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nje(e)}function Nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function Pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b_(e,t)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){AN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AN(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(e){var t=kje(e,"string");return dd(t)=="symbol"?t:t+""}function kje(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eje(e,t){return Rje(e)||Tje(e,t)||Oje(e,t)||Aje()}function Aje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oje(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rje(e){if(Array.isArray(e))return e}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}var Mje=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Je(t)?n=t(r):n=I.createElement("line",w_({},r,{className:"recharts-reference-line-line"})),n},$je=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(Xi(u,"discard")&&!t.y.isInRange(g))return null;var p=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?p.reverse():p}if(r){var v=u.x,x=t.x.apply(v,{position:o});if(Xi(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Xi(u,"discard")&&iwe(j,function(S){return!t.isInRange(S)})?null:j}return null};function Ije(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=gje(),d=tF(a),f=rF(i),h=xje();if(!u||!h)return null;bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=CN({x:d.scale,y:f.scale}),y=nn(t),g=nn(r),p=n&&n.length===2,v=$je(m,y,g,p,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var x=Eje(v,2),b=x[0],_=b.x,j=b.y,S=x[1],C=S.x,P=S.y,N=Xi(e,"hidden")?"url(#".concat(u,")"):void 0,O=uT(uT({clipPath:N},Ue(e,!0)),{},{x1:_,y1:j,x2:C,y2:P});return I.createElement(vt,{className:ut("recharts-reference-line",l)},Mje(o,O),un.renderCallByParent(e,Kwe({x1:_,y1:j,x2:C,y2:P})))}var w0=function(e){function t(){return wje(this,t),Sje(this,t,arguments)}return Pje(t,e),_je(t,[{key:"render",value:function(){return I.createElement(Ije,this.props)}}])}(I.Component);AN(w0,"displayName","ReferenceLine");AN(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sF(n.key),n)}}function Bje(e,t,r){return t&&Lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fje(e,t,r){return t=yy(t),zje(e,iF()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function zje(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uje(e)}function Uje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function Vje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},__(e,t)}function j0(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=Wje(e,"string");return fd(t)=="symbol"?t:t+""}function Wje(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hje=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=CN({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Xi(t,"discard")&&!o.isInRange(l)?null:l},_0=function(e){function t(){return Dje(this,t),Fje(this,t,arguments)}return Vje(t,e),Bje(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=nn(a),d=nn(i);if(bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Hje(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,p=y.className,v=Xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=hT(hT({clipPath:v},Ue(this.props,!0)),{},{cx:h,cy:m});return I.createElement(vt,{className:ut("recharts-reference-dot",p)},t.renderDot(g,x),un.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(I.Component);j0(_0,"displayName","ReferenceDot");j0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});j0(_0,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Je(e)?r=e(t):r=I.createElement(hp,j_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(this,arguments)}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function Gje(e,t,r){return t&&Kje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yje(e,t,r){return t=xy(t),Xje(e,oF()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function Xje(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zje(e)}function Zje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function Qje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C_(e,t)}function S0(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Jje(e,"string");return hd(t)=="symbol"?t:t+""}function Jje(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e1e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=CN({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:GB(m,y)},C0=function(e){function t(){return qje(this,t),Yje(this,t,arguments)}return Qje(t,e),Gje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nn(a),h=nn(i),m=nn(o),y=nn(l),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var p=e1e(f,h,m,y,this.props);if(!p&&!g)return null;var v=Xi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(vt,{className:ut("recharts-reference-area",c)},t.renderRect(g,pT(pT({clipPath:v},Ue(this.props,!0)),p)),un.renderCallByParent(this.props,p))}}])}(I.Component);S0(C0,"displayName","ReferenceArea");S0(C0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});S0(C0,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Je(e)?r=e(t):r=I.createElement(SN,S_({},t,{className:"recharts-reference-area-rect"})),r});function cF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function t1e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Ywe(n,r)}function r1e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function by(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function n1e(e,t){return cF(e,t+1)}function a1e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:cF(n,u)};var g=c,p,v=function(){return p===void 0&&(p=r(y,g)),p},x=y.coordinate,b=c===0||by(e,x,v,d,l);b||(c=0,d=o,u+=1),b&&(d=x+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){i1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i1e(e,t,r){return t=s1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s1e(e){var t=o1e(e,"string");return $m(t)=="symbol"?t:t+""}function o1e(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l1e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],y,g=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var p=e*(m.coordinate+e*g()/2-c);i[h]=m=An(An({},m),{},{tickCoord:p>0?m.coordinate-p*e:m.coordinate})}else i[h]=m=An(An({},m),{},{tickCoord:m.coordinate});var v=by(e,m.tickCoord,g,l,c);v&&(c=m.tickCoord-e*(g()/2+a),i[h]=An(An({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function c1e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=An(An({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=by(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=An(An({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(x){var b=o[x],_,j=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*j()/2-c);o[x]=b=An(An({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[x]=b=An(An({},b),{},{tickCoord:b.coordinate});var C=by(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),o[x]=An(An({},b),{},{isShow:!0}))},p=0;p<y;p++)g(p);return o}function ON(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(we(c)||Ba.isSsr)return n1e(a,typeof c=="number"&&we(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?uh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,_){var j=Je(u)?u(b.value,_):b.value;return m==="width"?t1e(uh(j,{fontSize:t,letterSpacing:r}),y,f):uh(j,{fontSize:t,letterSpacing:r})[m]},p=a.length>=2?Un(a[1].coordinate-a[0].coordinate):1,v=r1e(i,p,m);return c==="equidistantPreserveStart"?a1e(p,v,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=c1e(p,v,g,a,o,c==="preserveStartEnd"):h=l1e(p,v,g,a,o),h.filter(function(x){return x.isShow}))}var u1e=["viewBox"],d1e=["viewBox"],f1e=["ticks"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){TN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dw(e,t){if(e==null)return{};var r=h1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function p1e(e,t,r){return t&&yT(e.prototype,t),r&&yT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g1e(e,t,r){return t=wy(t),v1e(e,uF()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function v1e(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(e)}function y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function x1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N_(e,t)}function TN(e,t,r){return t=dF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=b1e(e,"string");return md(t)=="symbol"?t:t+""}function b1e(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=function(e){function t(r){var n;return m1e(this,t),n=g1e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return x1e(t,e),p1e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=dw(n,u1e),l=this.props,c=l.viewBox,u=dw(l,d1e);return!ju(i,c)||!ju(o,u)||!ju(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,y,g,p,v,x,b=f?-1:1,_=n.tickSize||d,j=we(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,p=o+ +!f*c,g=p-b*_,x=g-b*h,v=j;break;case"left":g=p=n.coordinate,y=i+ +!f*l,m=y-b*_,v=m-b*h,x=j;break;case"right":g=p=n.coordinate,y=i+ +f*l,m=y+b*_,v=m+b*h,x=j;break;default:m=y=n.coordinate,p=o+ +f*c,g=p+b*_,x=g+b*h,v=j;break}return{line:{x1:m,y1:g,x2:y,y2:p},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Yr(Yr(Yr({},Ue(this.props,!1)),Ue(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Yr(Yr({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Yr(Yr({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return I.createElement("line",uu({},f,{className:ut("recharts-cartesian-axis-line",ba(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=ON(Yr(Yr({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=Ue(this.props,!1),v=Ue(d,!1),x=Yr(Yr({},p),{},{fill:"none"},Ue(c,!1)),b=m.map(function(_,j){var S=o.getTickLineCoord(_),C=S.line,P=S.tick,N=Yr(Yr(Yr(Yr({textAnchor:y,verticalAnchor:g},p),{},{stroke:"none",fill:u},v),P),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return I.createElement(vt,uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Vo(o.props,_,j)),c&&I.createElement("line",uu({},x,C,{className:ut("recharts-cartesian-axis-tick-line",ba(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Je(f)?f(_.value,j):_.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=dw(f,f1e),y=h;return Je(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:I.createElement(vt,{className:ut("recharts-cartesian-axis",u),ref:function(p){n.layerReference=p}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=ut(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Yr(Yr({},a),{},{className:l})):Je(n)?o=n(Yr(Yr({},a),{},{className:l})):o=I.createElement(ac,uu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(w.Component);TN(uf,"displayName","CartesianAxis");TN(uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var w1e=["x1","y1","x2","y2","key"],j1e=["offset"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){_1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _1e(e,t,r){return t=S1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=C1e(e,"string");return oc(t)=="symbol"?t:t+""}function C1e(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function bT(e,t){if(e==null)return{};var r=N1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var P1e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fF(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=bT(t,w1e),u=Ue(c,!1);u.offset;var d=bT(u,j1e);r=I.createElement("line",Ml({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function k1e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Tn(Tn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return fF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function E1e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Tn(Tn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return fF(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function A1e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?a+o-h:d[m+1]-h;if(g<=0)return null;var p=m%t.length;return I.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function O1e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?i+l-h:d[m+1]-h;if(g<=0)return null;var p=m%n.length;return I.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var T1e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return uB(ON(Tn(Tn(Tn({},uf.defaultProps),n),{},{ticks:ws(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},R1e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return uB(ON(Tn(Tn(Tn({},uf.defaultProps),n),{},{ticks:ws(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ec={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nr(e){var t,r,n,a,i,o,l=kN(),c=EN(),u=bje(),d=Tn(Tn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ec.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ec.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ec.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ec.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ec.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ec.verticalFill,x:we(e.x)?e.x:u.left,y:we(e.y)?e.y:u.top,width:we(e.width)?e.width:u.width,height:we(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,g=d.syncWithTicks,p=d.horizontalValues,v=d.verticalValues,x=vje(),b=yje();if(!we(m)||m<=0||!we(y)||y<=0||!we(f)||f!==+f||!we(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||T1e,j=d.horizontalCoordinatesGenerator||R1e,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Je(j)){var P=p&&p.length,N=j({yAxis:b?Tn(Tn({},b),{},{ticks:P?p:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);bi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oc(N),"]")),Array.isArray(N)&&(S=N)}if((!C||!C.length)&&Je(_)){var O=v&&v.length,T=_({xAxis:x?Tn(Tn({},x),{},{ticks:O?v:x.ticks}):void 0,width:l,height:c,offset:u},O?!0:g);bi(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oc(T),"]")),Array.isArray(T)&&(C=T)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(P1e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(k1e,Ml({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),I.createElement(E1e,Ml({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),I.createElement(A1e,Ml({},d,{horizontalPoints:S})),I.createElement(O1e,Ml({},d,{verticalPoints:C})))}Nr.displayName="CartesianGrid";var M1e=["type","layout","connectNulls","ref"],$1e=["key"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function wT(e,t){if(e==null)return{};var r=I1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ac(e){return F1e(e)||B1e(e)||L1e(e)||D1e()}function D1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L1e(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function B1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F1e(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mF(n.key),n)}}function U1e(e,t,r){return t&&_T(e.prototype,t),r&&_T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V1e(e,t,r){return t=jy(t),W1e(e,hF()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function W1e(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H1e(e)}function H1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k_(e,t)}function di(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=K1e(e,"string");return pd(t)=="symbol"?t:t+""}function K1e(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=function(e){function t(){var r;z1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V1e(this,t,[].concat(a)),di(r,"state",{isAnimationFinished:!0,totalLength:0}),di(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),di(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){m=[].concat(Ac(c.slice(0,y)),[f-g]);break}var p=m.length%2===0?[0,h]:[h];return[].concat(Ac(t.repeat(c,d)),Ac(m),p).map(function(v){return"".concat(v,"px")}).join(", ")}),di(r,"id",Jo("recharts-line-")),di(r,"pathRef",function(o){r.mainCurve=o}),di(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),di(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q1e(t,e),U1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=qn(d,cf);if(!f)return null;var h=function(g,p){return{x:g.x,y:g.y,value:g.value,errorVal:xr(g.payload,p)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(vt,m,f.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ue(this.props,!1),h=Ue(c,!0),m=u.map(function(g,p){var v=ca(ca(ca({key:"dot-".concat(p),r:3},f),h),{},{index:p,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,v)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return I.createElement(vt,gh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=wT(l,M1e),h=ca(ca(ca({},Ue(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return I.createElement(Mo,gh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,p=o.height,v=this.state,x=v.prevPoints,b=v.totalLength;return I.createElement(Wa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var S=x.length/l.length,C=l.map(function(E,R){var k=Math.floor(R*S);if(x[k]){var A=x[k],$=Cr(A.x,E.x),M=Cr(A.y,E.y);return ca(ca({},E),{},{x:$(j),y:M(j)})}if(y){var L=Cr(g*2,E.x),B=Cr(p/2,E.y);return ca(ca({},E),{},{x:L(j),y:B(j)})}return ca(ca({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(C,n,a)}var P=Cr(0,b),N=P(j),O;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});O=i.getStrokeDasharray(N,b,T)}else O=i.generateSimpleStrokeDasharray(b,N);return i.renderCurveStatically(l,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Wo(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,y=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=ut("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=_||j,C=Qe(p)?this.id:p,P=(n=Ue(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=P.r,O=N===void 0?3:N,T=P.strokeWidth,E=T===void 0?2:T,R=rL(o)?o:{},k=R.clipDot,A=k===void 0?!0:k,$=O*2+E;return I.createElement(vt,{className:b},_||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(C)},I.createElement("rect",{x:_?h:h-m/2,y:j?f:f-y/2,width:_?m:m*2,height:j?y:y*2})),!A&&I.createElement("clipPath",{id:"clipPath-dots-".concat(C)},I.createElement("rect",{x:h-$/2,y:f-$/2,width:m+$,height:y+$}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||o)&&this.renderDots(S,A,C),(!g||v)&&wi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ac(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Ac(o),Ac(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(I.isValidElement(n))i=I.cloneElement(n,a);else if(Je(n))i=n(a);else{var o=a.key,l=wT(a,$1e),c=ut("recharts-line-dot",typeof n!="boolean"?n.className:"");i=I.createElement(hp,gh({key:o},l,{className:c}))}return i}}])}(w.PureComponent);di(Rn,"displayName","Line");di(Rn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ba.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});di(Rn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=xr(h,o);return d==="horizontal"?{x:nd({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Qe(y)?null:n.scale(y),value:y,payload:h}:{x:Qe(y)?null:r.scale(y),y:nd({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:y,payload:h}});return ca({points:f,layout:d},u)});var G1e=["layout","type","stroke","connectNulls","isRange","ref"],Y1e=["key"],pF;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function gF(e,t){if(e==null)return{};var r=X1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){Ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function Q1e(e,t,r){return t&&CT(e.prototype,t),r&&CT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J1e(e,t,r){return t=_y(t),e_e(e,vF()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function e_e(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(e)}function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function r_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E_(e,t)}function Ui(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=n_e(e,"string");return gd(t)=="symbol"?t:t+""}function n_e(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn=function(e){function t(){var r;Z1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=J1e(this,t,[].concat(a)),Ui(r,"state",{isAnimationFinished:!0}),Ui(r,"id",Jo("recharts-area-")),Ui(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Je(o)&&o()}),Ui(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Je(o)&&o()}),r}return r_e(t,e),Q1e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ue(this.props,!1),m=Ue(u,!0),y=d.map(function(p,v){var x=Zs(Zs(Zs({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:p.x,cy:p.y,dataKey:f,value:p.value,payload:p.payload,points:d});return t.renderDotItem(u,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return I.createElement(vt,$l({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=vo(o.map(function(h){return h.y||0}));return we(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vo(i.map(function(h){return h.y||0})),f)),we(f)?I.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=vo(o.map(function(h){return h.x||0}));return we(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vo(i.map(function(h){return h.x||0})),f)),we(f)?I.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=gF(l,G1e);return I.createElement(vt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},I.createElement(Mo,$l({},Ue(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Mo,$l({},Ue(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Mo,$l({},Ue(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=this.state,g=y.prevPoints,p=y.prevBaseLine;return I.createElement(Wa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(g){var b=g.length/l.length,_=l.map(function(P,N){var O=Math.floor(N*b);if(g[O]){var T=g[O],E=Cr(T.x,P.x),R=Cr(T.y,P.y);return Zs(Zs({},P),{},{x:E(x),y:R(x)})}return P}),j;if(we(c)&&typeof c=="number"){var S=Cr(p,c);j=S(x)}else if(Qe(c)||tf(c)){var C=Cr(p,0);j=C(x)}else j=c.map(function(P,N){var O=Math.floor(N*b);if(p[O]){var T=p[O],E=Cr(T.x,P.x),R=Cr(T.y,P.y);return Zs(Zs({},P),{},{x:E(x),y:R(x)})}return P});return i.renderAreaStatically(_,j,n,a)}return I.createElement(vt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),I.createElement(vt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Wo(d,o)||!Wo(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,y=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=ut("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,C=Qe(p)?this.id:p,P=(n=Ue(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=P.r,O=N===void 0?3:N,T=P.strokeWidth,E=T===void 0?2:T,R=rL(o)?o:{},k=R.clipDot,A=k===void 0?!0:k,$=O*2+E;return I.createElement(vt,{className:b},_||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(C)},I.createElement("rect",{x:_?d:d-m/2,y:j?u:u-y/2,width:_?m:m*2,height:j?y:y*2})),!A&&I.createElement("clipPath",{id:"clipPath-dots-".concat(C)},I.createElement("rect",{x:d-$/2,y:u-$/2,width:m+$,height:y+$}))):null,x?null:this.renderArea(S,C),(o||x)&&this.renderDots(S,A,C),(!g||v)&&wi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);pF=Mn;Ui(Mn,"displayName","Area");Ui(Mn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ba.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ui(Mn,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(we(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ui(Mn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,y=u&&u.length,g=pF.getBaseValue(t,r,n,a),p=m==="horizontal",v=!1,x=f.map(function(_,j){var S;y?S=u[d+j]:(S=xr(_,c),Array.isArray(S)?v=!0:S=[g,S]);var C=S[1]==null||y&&xr(_,c)==null;return p?{x:nd({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:nd({axis:a,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),b;return y||v?b=x.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return p?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=p?a.scale(g):n.scale(g),Zs({points:x,baseLine:b,layout:m,isRange:v},h)});Ui(Mn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=gF(t,Y1e);r=I.createElement(hp,$l({},i,{key:a,className:n}))}return r});function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function a_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wF(n.key),n)}}function s_e(e,t,r){return t&&i_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o_e(e,t,r){return t=Sy(t),l_e(e,xF()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function l_e(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(e)}function c_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function u_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A_(e,t)}function bF(e,t,r){return t=wF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=d_e(e,"string");return vd(t)=="symbol"?t:t+""}function d_e(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=function(e){function t(){return a_e(this,t),o_e(this,t,arguments)}return u_e(t,e),s_e(t,[{key:"render",value:function(){return null}}])}(w.Component);bF(N0,"displayName","ZAxis");bF(N0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var f_e=["option","isActive"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}function h_e(e,t){if(e==null)return{};var r=m_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p_e(e){var t=e.option,r=e.isActive,n=h_e(e,f_e);return typeof t=="string"?w.createElement(uy,vh({option:w.createElement(Jx,vh({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(uy,vh({option:t,isActive:r,shapeType:"symbols"},n))}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_F(n.key),n)}}function v_e(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y_e(e,t,r){return t=Cy(t),x_e(e,jF()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function x_e(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(e)}function b_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function w_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O_(e,t)}function xo(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=j_e(e,"string");return yd(t)=="symbol"?t:t+""}function j_e(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P0=function(e){function t(){var r;g_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=y_e(this,t,[].concat(a)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),xo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),xo(r,"id",Jo("recharts-scatter-")),r}return w_e(t,e),v_e(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=Ue(this.props,!1);return n.map(function(d,f){var h=c===f,m=h?l:o,y=Oa(Oa({},u),d);return I.createElement(vt,yh({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Vo(a.props,d,f),{role:"img"}),I.createElement(p_e,yh({option:m,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return I.createElement(Wa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,y=i.map(function(g,p){var v=f&&f[p];if(v){var x=Cr(v.cx,g.cx),b=Cr(v.cy,g.cy),_=Cr(v.size,g.size);return Oa(Oa({},g),{},{cx:x(m),cy:b(m),size:_(m)})}var j=Cr(0,g.size);return Oa(Oa({},g),{},{size:j(m)})});return I.createElement(vt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!Wo(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=qn(c,cf);return u?u.map(function(d,f){var h=d.props,m=h.direction,y=h.dataKey;return I.cloneElement(d,{key:"".concat(m,"-").concat(y,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(p,v){return{x:p.cx,y:p.cy,value:m==="x"?+p.node.x:+p.node.y,errorVal:xr(p,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=Ue(this.props,!1),u=Ue(i,!1),d,f;if(o==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=ote(a),m=h.xmin,y=h.xmax,g=h.a,p=h.b,v=function(_){return g*_+p};d=[{x:m,y:v(m)},{x:y,y:v(y)}]}var x=Oa(Oa(Oa({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return I.isValidElement(i)?f=I.cloneElement(i,x):Je(i)?f=i(x):f=I.createElement(Mo,yh({},x,{type:l})),I.createElement(vt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,m=n.height,y=n.id,g=n.isAnimationActive;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,v=ut("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,j=Qe(y)?this.id:y;return I.createElement(vt,{className:v,clipPath:_?"url(#clipPath-".concat(j,")"):null},x||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:x?d:d-h/2,y:b?f:f-m/2,width:x?h:h*2,height:b?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(vt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||p)&&wi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(w.PureComponent);xo(P0,"displayName","Scatter");xo(P0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});xo(P0,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=qn(a.props.children,el),f=Qe(t.dataKey)?a.props.dataKey:t.dataKey,h=Qe(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,y=n?n.range:N0.defaultProps.range,g=y&&y[0],p=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var j=xr(b,f),S=xr(b,h),C=!Qe(m)&&xr(b,m)||"-",P=[{name:Qe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:f,type:u},{name:Qe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:m,type:u});var N=nd({axis:t,ticks:o,bandSize:p,entry:b,index:_,dataKey:f}),O=nd({axis:r,ticks:l,bandSize:v,entry:b,index:_,dataKey:h}),T=C!=="-"?n.scale(C):g,E=Math.sqrt(Math.max(T,0)/Math.PI);return Oa(Oa({},b),{},{cx:N,cy:O,x:N-E,y:O-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:T,node:{x:j,y:S,z:C},tooltipPayload:P,tooltipPosition:{x:N,y:O},payload:b},d&&d[_]&&d[_].props)});return Oa({points:x},c)});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function __e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function C_e(e,t,r){return t&&S_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N_e(e,t,r){return t=Ny(t),P_e(e,SF()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function P_e(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(e)}function k_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function E_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T_(e,t)}function CF(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=A_e(e,"string");return xd(t)=="symbol"?t:t+""}function A_e(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function O_e(e){var t=e.xAxisId,r=kN(),n=EN(),a=tF(t);return a==null?null:w.createElement(uf,R_({},a,{className:ut("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ws(o,!0)}}))}var Jt=function(e){function t(){return __e(this,t),N_e(this,t,arguments)}return E_e(t,e),C_e(t,[{key:"render",value:function(){return w.createElement(O_e,this.props)}}])}(w.Component);CF(Jt,"displayName","XAxis");CF(Jt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function T_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EF(n.key),n)}}function M_e(e,t,r){return t&&R_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $_e(e,t,r){return t=Py(t),I_e(e,PF()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function I_e(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(e)}function D_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function L_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M_(e,t)}function kF(e,t,r){return t=EF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=B_e(e,"string");return bd(t)=="symbol"?t:t+""}function B_e(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}var F_e=function(t){var r=t.yAxisId,n=kN(),a=EN(),i=rF(r);return i==null?null:w.createElement(uf,$_({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ws(l,!0)}}))},Vt=function(e){function t(){return T_e(this,t),$_e(this,t,arguments)}return L_e(t,e),M_e(t,[{key:"render",value:function(){return w.createElement(F_e,this.props)}}])}(w.Component);kF(Vt,"displayName","YAxis");kF(Vt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kT(e){return W_e(e)||V_e(e)||U_e(e)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function V_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W_e(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D_=function(t,r,n,a,i){var o=qn(t,w0),l=qn(t,_0),c=[].concat(kT(o),kT(l)),u=qn(t,C0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,p){if(p.props[d]===n&&Xi(p.props,"extendDomain")&&we(p.props[f])){var v=p.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,p){if(p.props[d]===n&&Xi(p.props,"extendDomain")&&we(p.props[m])&&we(p.props[y])){var v=p.props[m],x=p.props[y];return[Math.min(g[0],v,x),Math.max(g[1],v,x)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,p){return we(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},h)),h},AF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],v=arguments.length,x,b;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,h),!0;case 5:return p.fn.call(p.context,d,f,h,m),!0;case 6:return p.fn.call(p.context,d,f,h,m,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];p.fn.apply(p.context,x)}else{var _=p.length,j;for(b=0;b<_;b++)switch(p[b].once&&this.removeListener(u,p[b].fn,void 0,!0),v){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,d);break;case 3:p[b].fn.call(p[b].context,d,f);break;case 4:p[b].fn.call(p[b].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(v-1);j<v;j++)x[j-1]=arguments[j];p[b].fn.apply(p[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,p=[],v=y.length;g<v;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&p.push(y[g]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(AF);var H_e=AF.exports;const q_e=Bt(H_e);var fw=new q_e,hw="recharts.syncMouseEvents";function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function K_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function Y_e(e,t,r){return t&&G_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mw(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=X_e(e,"string");return Im(t)=="symbol"?t:t+""}function X_e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z_e=function(){function e(){K_e(this,e),mw(this,"activeIndex",0),mw(this,"coordinateList",[]),mw(this,"layout","horizontal")}return Y_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Q_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&we(n)&&we(a))return!0}return!1}function J_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function TF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=hr(t,r,n,a),l=hr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function eSe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=hr(l,c,u,f),m=hr(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return TF(t);return[{x:n,y:a},{x:i,y:o}]}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){tSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tSe(e,t,r){return t=rSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rSe(e){var t=nSe(e,"string");return Dm(t)=="symbol"?t:t+""}function nSe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aSe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,g=Mo;if(h==="ScatterChart")y=o,g=Kxe;else if(h==="BarChart")y=J_e(f,o,c,d),g=SN;else if(f==="radial"){var p=TF(o),v=p.cx,x=p.cy,b=p.radius,_=p.startAngle,j=p.endAngle;y={cx:v,cy:x,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},g=wB}else y={points:eSe(f,o,c)},g=Mo;var S=sg(sg(sg(sg({stroke:"#ccc",pointerEvents:"none"},c),y),Ue(m,!1)),{},{payload:l,payloadIndex:u,className:ut("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(g,S)}var iSe=["item"],sSe=["children","className","width","height","style","compact","title","desc"];function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}function AT(e,t){return cSe(e)||lSe(e,t)||MF(e,t)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cSe(e){if(Array.isArray(e))return e}function OT(e,t){if(e==null)return{};var r=uSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function hSe(e,t,r){return t&&fSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mSe(e,t,r){return t=ky(t),pSe(e,RF()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function pSe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gSe(e)}function gSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function vSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L_(e,t)}function jd(e){return bSe(e)||xSe(e)||MF(e)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(e,t){if(e){if(typeof e=="string")return B_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B_(e,t)}}function xSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bSe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=wSe(e,"string");return wd(t)=="symbol"?t:t+""}function wSe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jSe={xAxis:["bottom","top"],yAxis:["left","right"]},_Se={width:"100%",height:"100%"},IF={x:0,y:0};function og(e){return e}var SSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},CSe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return me(me(me({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return me(me(me({},a),hr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return IF},k0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(jd(l),jd(u)):l},[]);return o.length>0?o:t&&t.length&&we(a)&&we(i)?t.slice(a,i+1):[]};function DF(e){return e==="number"?[0,"auto"]:void 0}var F_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=k0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Cv(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(jd(c),[pB(u,h)]):c},[])},RT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=SSe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=vge(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=F_(t,r,d,f),m=CSe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},NSe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=cB(d,i);return n.reduce(function(y,g){var p,v=g.type.defaultProps!==void 0?me(me({},g.type.defaultProps),g.props):g.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,j=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,P=v.includeHidden,N=v[o];if(y[N])return y;var O=k0(t.data,{graphicalItems:a.filter(function(ee){var se,U=o in ee.props?ee.props[o]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[o];return U===N}),dataStartIndex:c,dataEndIndex:u}),T=O.length,E,R,k;Q_e(v.domain,_,x)&&(E=Z1(v.domain,null,_),m&&(x==="number"||S!=="auto")&&(k=fh(O,b,"category")));var A=DF(x);if(!E||E.length===0){var $,M=($=v.domain)!==null&&$!==void 0?$:A;if(b){if(E=fh(O,b,x),x==="category"&&m){var L=ste(E);j&&L?(R=E,E=fy(0,T)):j||(E=ZO(M,E,g).reduce(function(ee,se){return ee.indexOf(se)>=0?ee:[].concat(jd(ee),[se])},[]))}else if(x==="category")j?E=E.filter(function(ee){return ee!==""&&!Qe(ee)}):E=ZO(M,E,g).reduce(function(ee,se){return ee.indexOf(se)>=0||se===""||Qe(se)?ee:[].concat(jd(ee),[se])},[]);else if(x==="number"){var B=jge(O,a.filter(function(ee){var se,U,q=o in ee.props?ee.props[o]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[o],G="hide"in ee.props?ee.props.hide:(U=ee.type.defaultProps)===null||U===void 0?void 0:U.hide;return q===N&&(P||!G)}),b,i,d);B&&(E=B)}m&&(x==="number"||S!=="auto")&&(k=fh(O,b,"category"))}else m?E=fy(0,T):l&&l[N]&&l[N].hasStack&&x==="number"?E=h==="expand"?[0,1]:mB(l[N].stackGroups,c,u):E=lB(O,a.filter(function(ee){var se=o in ee.props?ee.props[o]:ee.type.defaultProps[o],U="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return se===N&&(P||!U)}),x,d,!0);if(x==="number")E=D_(f,E,N,i,C),M&&(E=Z1(M,E,_));else if(x==="category"&&M){var z=M,Q=E.every(function(ee){return z.indexOf(ee)>=0});Q&&(E=z)}}return me(me({},y),{},et({},N,me(me({},v),{},{axisType:i,domain:E,categoricalDomain:k,duplicateDomain:R,originalDomain:(p=v.domain)!==null&&p!==void 0?p:A,isCategorical:m,layout:d})))},{})},PSe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=k0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=cB(d,i),g=-1;return n.reduce(function(p,v){var x=v.type.defaultProps!==void 0?me(me({},v.type.defaultProps),v.props):v.props,b=x[o],_=DF("number");if(!p[b]){g++;var j;return y?j=fy(0,m):l&&l[b]&&l[b].hasStack?(j=mB(l[b].stackGroups,c,u),j=D_(f,j,b,i)):(j=Z1(_,lB(h,n.filter(function(S){var C,P,N=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],O="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===b&&!O}),"number",d),a.defaultProps.allowDataOverflow),j=D_(f,j,b,i)),me(me({},p),{},et({},b,me(me({axisType:i},a.defaultProps),{},{hide:!0,orientation:ba(jSe,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:_,isCategorical:y,layout:d})))}return p},{})},kSe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=qn(d,i),m={};return h&&h.length?m=NSe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=PSe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},ESe=function(t){var r=oo(t),n=ws(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ZC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jv(r,n)}},MT=function(t){var r=t.children,n=t.defaultShowTooltip,a=fa(r,cd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ASe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ss(r&&r.type);return n&&n.indexOf("Bar")>=0})},$T=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},OSe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=fa(f,cd),y=fa(f,Dr),g=Object.keys(c).reduce(function(j,S){var C=c[S],P=C.orientation;return!C.mirror&&!C.hide?me(me({},j),{},et({},P,j[P]+C.width)):j},{left:h.left||0,right:h.right||0}),p=Object.keys(o).reduce(function(j,S){var C=o[S],P=C.orientation;return!C.mirror&&!C.hide?me(me({},j),{},et({},P,ba(j,"".concat(P))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),v=me(me({},p),g),x=v.bottom;m&&(v.bottom+=m.props.height||cd.defaultProps.height),y&&r&&(v=bge(v,a,n,r));var b=u-v.left-v.right,_=d-v.top-v.bottom;return me(me({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},TSe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},mp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,j=x.offset,S=x.updateId,C=x.dataStartIndex,P=x.dataEndIndex,N=v.barSize,O=v.layout,T=v.barGap,E=v.barCategoryGap,R=v.maxBarSize,k=$T(O),A=k.numericAxisName,$=k.cateAxisName,M=ASe(b),L=[];return b.forEach(function(B,z){var Q=k0(v.data,{graphicalItems:[B],dataStartIndex:C,dataEndIndex:P}),ee=B.type.defaultProps!==void 0?me(me({},B.type.defaultProps),B.props):B.props,se=ee.dataKey,U=ee.maxBarSize,q=ee["".concat(A,"Id")],G=ee["".concat($,"Id")],H={},fe=c.reduce(function(J,oe){var K=x["".concat(oe.axisType,"Map")],ie=ee["".concat(oe.axisType,"Id")];K&&K[ie]||oe.axisType==="zAxis"||sc();var ve=K[ie];return me(me({},J),{},et(et({},oe.axisType,ve),"".concat(oe.axisType,"Ticks"),ws(ve)))},H),D=fe[$],Y=fe["".concat($,"Ticks")],V=_&&_[q]&&_[q].hasStack&&Oge(B,_[q].stackGroups),Z=Ss(B.type).indexOf("Bar")>=0,te=Jv(D,Y),be=[],Re=M&&yge({barSize:N,stackGroups:_,totalSize:TSe(fe,$)});if(Z){var We,ge,Ne=Qe(U)?R:U,Xe=(We=(ge=Jv(D,Y,!0))!==null&&ge!==void 0?ge:Ne)!==null&&We!==void 0?We:0;be=xge({barGap:T,barCategoryGap:E,bandSize:Xe!==te?Xe:te,sizeList:Re[G],maxBarSize:Ne}),Xe!==te&&(be=be.map(function(J){return me(me({},J),{},{position:me(me({},J.position),{},{offset:J.position.offset-Xe/2})})}))}var F=B&&B.type&&B.type.getComposedData;F&&L.push({props:me(me({},F(me(me({},fe),{},{displayedData:Q,props:v,dataKey:se,item:B,bandSize:te,barPosition:be,offset:j,stackedData:V,layout:O,dataStartIndex:C,dataEndIndex:P}))),{},et(et(et({key:B.key||"item-".concat(z)},A,fe[A]),$,fe[$]),"animationId",S)),childIndex:xte(B,v.children),item:B})}),L},m=function(v,x){var b=v.props,_=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!HE({props:b}))return null;var C=b.children,P=b.layout,N=b.stackOffset,O=b.data,T=b.reverseStackOrder,E=$T(P),R=E.numericAxisName,k=E.cateAxisName,A=qn(C,n),$=Ege(O,A,"".concat(R,"Id"),"".concat(k,"Id"),N,T),M=c.reduce(function(ee,se){var U="".concat(se.axisType,"Map");return me(me({},ee),{},et({},U,kSe(b,me(me({},se),{},{graphicalItems:A,stackGroups:se.axisType===R&&$,dataStartIndex:_,dataEndIndex:j}))))},{}),L=OSe(me(me({},M),{},{props:b,graphicalItems:A}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(ee){M[ee]=d(b,M[ee],L,ee.replace("Map",""),r)});var B=M["".concat(k,"Map")],z=ESe(B),Q=h(b,me(me({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:A,stackGroups:$,offset:L}));return me(me({formattedGraphicalItems:Q,graphicalItems:A,offset:L,stackGroups:$},z),M)},y=function(p){function v(x){var b,_,j;return dSe(this,v),j=mSe(this,v,[x]),et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(j,"accessibilityManager",new Z_e),et(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,P=C.dataStartIndex,N=C.dataEndIndex,O=C.updateId;j.setState(me({legendBBox:S},m({props:j.props,dataStartIndex:P,dataEndIndex:N,updateId:O},me(me({},j.state),{},{legendBBox:S}))))}}),et(j,"handleReceiveSyncEvent",function(S,C,P){if(j.props.syncId===S){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),et(j,"handleBrushChange",function(S){var C=S.startIndex,P=S.endIndex;if(C!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var N=j.state.updateId;j.setState(function(){return me({dataStartIndex:C,dataEndIndex:P},m({props:j.props,dataStartIndex:C,dataEndIndex:P,updateId:N},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),et(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var P=me(me({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var N=j.props.onMouseEnter;Je(N)&&N(P,S)}}),et(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),P=C?me(me({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var N=j.props.onMouseMove;Je(N)&&N(P,S)}),et(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),et(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),et(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var P=j.props.onMouseLeave;Je(P)&&P(C,S)}),et(j,"handleOuterEvent",function(S){var C=yte(S),P=ba(j.props,"".concat(C));if(C&&Je(P)){var N,O;/.*touch.*/i.test(C)?O=j.getMouseInfo(S.changedTouches[0]):O=j.getMouseInfo(S),P((N=O)!==null&&N!==void 0?N:{},S)}}),et(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var P=me(me({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var N=j.props.onClick;Je(N)&&N(P,S)}}),et(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(Je(C)){var P=j.getMouseInfo(S);C(P,S)}}),et(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(Je(C)){var P=j.getMouseInfo(S);C(P,S)}}),et(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),et(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),et(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),et(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(Je(C)){var P=j.getMouseInfo(S);C(P,S)}}),et(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(Je(C)){var P=j.getMouseInfo(S);C(P,S)}}),et(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&fw.emit(hw,j.props.syncId,S,j.eventEmitterSymbol)}),et(j,"applySyncEvent",function(S){var C=j.props,P=C.layout,N=C.syncMethod,O=j.state.updateId,T=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(me({dataStartIndex:T,dataEndIndex:E},m({props:j.props,dataStartIndex:T,dataEndIndex:E,updateId:O},j.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,k=S.chartY,A=S.activeTooltipIndex,$=j.state,M=$.offset,L=$.tooltipTicks;if(!M)return;if(typeof N=="function")A=N(L,S);else if(N==="value"){A=-1;for(var B=0;B<L.length;B++)if(L[B].value===S.activeLabel){A=B;break}}var z=me(me({},M),{},{x:M.left,y:M.top}),Q=Math.min(R,z.x+z.width),ee=Math.min(k,z.y+z.height),se=L[A]&&L[A].value,U=F_(j.state,j.props.data,A),q=L[A]?{x:P==="horizontal"?L[A].coordinate:Q,y:P==="horizontal"?ee:L[A].coordinate}:IF;j.setState(me(me({},S),{},{activeLabel:se,activeCoordinate:q,activePayload:U,activeTooltipIndex:A}))}else j.setState(S)}),et(j,"renderCursor",function(S){var C,P=j.state,N=P.isTooltipActive,O=P.activeCoordinate,T=P.activePayload,E=P.offset,R=P.activeTooltipIndex,k=P.tooltipAxisBandSize,A=j.getTooltipEventType(),$=(C=S.props.active)!==null&&C!==void 0?C:N,M=j.props.layout,L=S.key||"_recharts-cursor";return I.createElement(aSe,{key:L,activeCoordinate:O,activePayload:T,activeTooltipIndex:R,chartName:r,element:S,isActive:$,layout:M,offset:E,tooltipAxisBandSize:k,tooltipEventType:A})}),et(j,"renderPolarAxis",function(S,C,P){var N=ba(S,"type.axisType"),O=ba(j.state,"".concat(N,"Map")),T=S.type.defaultProps,E=T!==void 0?me(me({},T),S.props):S.props,R=O&&O[E["".concat(N,"Id")]];return w.cloneElement(S,me(me({},R),{},{className:ut(N,R.className),key:S.key||"".concat(C,"-").concat(P),ticks:ws(R,!0)}))}),et(j,"renderPolarGrid",function(S){var C=S.props,P=C.radialLines,N=C.polarAngles,O=C.polarRadius,T=j.state,E=T.radiusAxisMap,R=T.angleAxisMap,k=oo(E),A=oo(R),$=A.cx,M=A.cy,L=A.innerRadius,B=A.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(N)?N:ws(A,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(O)?O:ws(k,!0).map(function(z){return z.coordinate}),cx:$,cy:M,innerRadius:L,outerRadius:B,key:S.key||"polar-grid",radialLines:P})}),et(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,P=C.children,N=C.width,O=C.height,T=j.props.margin||{},E=N-(T.left||0)-(T.right||0),R=sB({children:P,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!R)return null;var k=R.item,A=OT(R,iSe);return w.cloneElement(k,me(me({},A),{},{chartWidth:N,chartHeight:O,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),et(j,"renderTooltip",function(){var S,C=j.props,P=C.children,N=C.accessibilityLayer,O=fa(P,Ct);if(!O)return null;var T=j.state,E=T.isTooltipActive,R=T.activeCoordinate,k=T.activePayload,A=T.activeLabel,$=T.offset,M=(S=O.props.active)!==null&&S!==void 0?S:E;return w.cloneElement(O,{viewBox:me(me({},$),{},{x:$.left,y:$.top}),active:M,label:A,payload:M?k:[],coordinate:R,accessibilityLayer:N})}),et(j,"renderBrush",function(S){var C=j.props,P=C.margin,N=C.data,O=j.state,T=O.offset,E=O.dataStartIndex,R=O.dataEndIndex,k=O.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:rg(j.handleBrushChange,S.props.onChange),data:N,x:we(S.props.x)?S.props.x:T.left,y:we(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(P.bottom||0),width:we(S.props.width)?S.props.width:T.width,startIndex:E,endIndex:R,updateId:"brush-".concat(k)})}),et(j,"renderReferenceElement",function(S,C,P){if(!S)return null;var N=j,O=N.clipPathId,T=j.state,E=T.xAxisMap,R=T.yAxisMap,k=T.offset,A=S.type.defaultProps||{},$=S.props,M=$.xAxisId,L=M===void 0?A.xAxisId:M,B=$.yAxisId,z=B===void 0?A.yAxisId:B;return w.cloneElement(S,{key:S.key||"".concat(C,"-").concat(P),xAxis:E[L],yAxis:R[z],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:O})}),et(j,"renderActivePoints",function(S){var C=S.item,P=S.activePoint,N=S.basePoint,O=S.childIndex,T=S.isRange,E=[],R=C.props.key,k=C.item.type.defaultProps!==void 0?me(me({},C.item.type.defaultProps),C.item.props):C.item.props,A=k.activeDot,$=k.dataKey,M=me(me({index:O,dataKey:$,cx:P.x,cy:P.y,r:4,fill:_N(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ue(A,!1)),Nv(A));return E.push(v.renderActiveDot(A,M,"".concat(R,"-activePoint-").concat(O))),N?E.push(v.renderActiveDot(A,me(me({},M),{},{cx:N.x,cy:N.y}),"".concat(R,"-basePoint-").concat(O))):T&&E.push(null),E}),et(j,"renderGraphicChild",function(S,C,P){var N=j.filterFormatItem(S,C,P);if(!N)return null;var O=j.getTooltipEventType(),T=j.state,E=T.isTooltipActive,R=T.tooltipAxis,k=T.activeTooltipIndex,A=T.activeLabel,$=j.props.children,M=fa($,Ct),L=N.props,B=L.points,z=L.isRange,Q=L.baseLine,ee=N.item.type.defaultProps!==void 0?me(me({},N.item.type.defaultProps),N.item.props):N.item.props,se=ee.activeDot,U=ee.hide,q=ee.activeBar,G=ee.activeShape,H=!!(!U&&E&&M&&(se||q||G)),fe={};O!=="axis"&&M&&M.props.trigger==="click"?fe={onClick:rg(j.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(fe={onMouseLeave:rg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:rg(j.handleItemMouseEnter,S.props.onMouseEnter)});var D=w.cloneElement(S,me(me({},N.props),fe));function Y(oe){return typeof R.dataKey=="function"?R.dataKey(oe.payload):null}if(H)if(k>=0){var V,Z;if(R.dataKey&&!R.allowDuplicatedCategory){var te=typeof R.dataKey=="function"?Y:"payload.".concat(R.dataKey.toString());V=Cv(B,te,A),Z=z&&Q&&Cv(Q,te,A)}else V=B==null?void 0:B[k],Z=z&&Q&&Q[k];if(G||q){var be=S.props.activeIndex!==void 0?S.props.activeIndex:k;return[w.cloneElement(S,me(me(me({},N.props),fe),{},{activeIndex:be})),null,null]}if(!Qe(V))return[D].concat(jd(j.renderActivePoints({item:N,activePoint:V,basePoint:Z,childIndex:k,isRange:z})))}else{var Re,We=(Re=j.getItemByXY(j.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:D},ge=We.graphicalItem,Ne=ge.item,Xe=Ne===void 0?S:Ne,F=ge.childIndex,J=me(me(me({},N.props),fe),{},{activeIndex:F});return[w.cloneElement(Xe,J),null,null]}return z?[D,null,null]:[D,null]}),et(j,"renderCustomized",function(S,C,P){return w.cloneElement(S,me(me({key:"recharts-customized-".concat(P)},j.props),j.state))}),et(j,"renderMap",{CartesianGrid:{handler:og,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:og},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:og},YAxis:{handler:og},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Jo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=i4(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return vSe(v,p),hSe(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,C=b.layout,P=fa(_,Ct);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,T=F_(this.state,j,N,O),E=this.state.tooltipTicks[N].coordinate,R=(this.state.offset.top+S)/2,k=C==="horizontal",A=k?{x:E,y:R}:{y:E,x:R},$=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});$&&(A=me(me({},A),$.props.points[N].tooltipPosition),T=$.props.points[N].tooltipPayload);var M={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:O,activePayload:T,activeCoordinate:A};this.setState(M),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){f1([fa(b.children,Ct)],[fa(this.props.children,Ct)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=fa(this.props.children,Ct);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Hde(j),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},P=j.width/_.offsetWidth||1,N=this.inRange(C.chartX,C.chartY,P);if(!N)return null;var O=this.state,T=O.xAxisMap,E=O.yAxisMap,R=this.getTooltipEventType(),k=RT(this.state,this.props.data,this.props.layout,N);if(R!=="axis"&&T&&E){var A=oo(T).scale,$=oo(E).scale,M=A&&A.invert?A.invert(C.chartX):null,L=$&&$.invert?$.invert(C.chartY):null;return me(me({},C),{},{xValue:M,yValue:L},k)}return k?me(me({},C),k):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/j,P=_/j;if(S==="horizontal"||S==="vertical"){var N=this.state.offset,O=C>=N.left&&C<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return O?{x:C,y:P}:null}var T=this.state,E=T.angleAxisMap,R=T.radiusAxisMap;if(E&&R){var k=oo(E);return e2({x:C,y:P},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=fa(b,Ct),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Nv(this.props,this.handleOuterEvent);return me(me({},C),S)}},{key:"addListener",value:function(){fw.on(hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fw.removeListener(hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,C=0,P=S.length;C<P;C++){var N=S[C];if(N.item===b||N.props.key===b.key||_===Ss(N.item.type)&&j===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,C=_.height,P=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:j,y:S,height:C,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=AT(j,2),C=S[0],P=S[1];return me(me({},_),{},et({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=AT(j,2),C=S[0],P=S[1];return me(me({},_),{},et({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var C=0,P=j.length;C<P;C++){var N=j[C],O=N.props,T=N.item,E=T.type.defaultProps!==void 0?me(me({},T.type.defaultProps),T.props):T.props,R=Ss(T.type);if(R==="Bar"){var k=(O.data||[]).find(function(L){return Pxe(b,L)});if(k)return{graphicalItem:N,payload:k}}else if(R==="RadialBar"){var A=(O.data||[]).find(function(L){return e2(b,L)});if(A)return{graphicalItem:N,payload:A}}else if(v0(N,S)||y0(N,S)||Om(N,S)){var $=pbe({graphicalItem:N,activeTooltipItem:S,itemData:E.data}),M=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:me(me({},N),{},{childIndex:M}),payload:Om(N,S)?E.data[$]:N.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!HE(this))return null;var _=this.props,j=_.children,S=_.className,C=_.width,P=_.height,N=_.style,O=_.compact,T=_.title,E=_.desc,R=OT(_,sSe),k=Ue(R,!1);if(O)return I.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(m1,du({},k,{width:C,height:P,title:T,desc:E}),this.renderClipPath(),KE(j,this.renderMap)));if(this.props.accessibilityLayer){var A,$;k.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,k.role=($=this.props.role)!==null&&$!==void 0?$:"application",k.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},k.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return I.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",du({className:ut("recharts-wrapper",S),style:me({position:"relative",cursor:"default",width:C,height:P},N)},M,{ref:function(B){b.container=B}}),I.createElement(m1,du({},k,{width:C,height:P,title:T,desc:E,style:_Se}),this.renderClipPath(),KE(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);et(y,"displayName",r),et(y,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(y,"getDerivedStateFromProps",function(p,v){var x=p.dataKey,b=p.data,_=p.children,j=p.width,S=p.height,C=p.layout,P=p.stackOffset,N=p.margin,O=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var E=MT(p);return me(me(me({},E),{},{updateId:0},m(me(me({props:p},E),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:N,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||P!==v.prevStackOffset||!ju(N,v.prevMargin)){var R=MT(p),k={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},A=me(me({},RT(v,b,C)),{},{updateId:v.updateId+1}),$=me(me(me({},R),k),A);return me(me(me({},$),m(me({props:p},$),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:N,prevChildren:_})}if(!f1(_,v.prevChildren)){var M,L,B,z,Q=fa(_,cd),ee=Q&&(M=(L=Q.props)===null||L===void 0?void 0:L.startIndex)!==null&&M!==void 0?M:O,se=Q&&(B=(z=Q.props)===null||z===void 0?void 0:z.endIndex)!==null&&B!==void 0?B:T,U=ee!==O||se!==T,q=!Qe(b),G=q&&!U?v.updateId:v.updateId+1;return me(me({updateId:G},m(me(me({props:p},v),{},{updateId:G,dataStartIndex:ee,dataEndIndex:se}),v)),{},{prevChildren:_,dataStartIndex:ee,dataEndIndex:se})}return null}),et(y,"renderActiveDot",function(p,v,x){var b;return w.isValidElement(p)?b=w.cloneElement(p,v):Je(p)?b=p(v):b=I.createElement(hp,v),I.createElement(vt,{className:"recharts-active-dot",key:x},b)});var g=w.forwardRef(function(v,x){return I.createElement(y,du({},v,{ref:x}))});return g.displayName=y.displayName,g},LF=mp({chartName:"LineChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:Jt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:b0}),es=mp({chartName:"BarChart",GraphicalChild:Wt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:b0}),RN=mp({chartName:"PieChart",GraphicalChild:Pi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:g0},{axisType:"radiusAxis",AxisComp:m0}],formatAxisMap:zge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ey=mp({chartName:"AreaChart",GraphicalChild:Mn,axisComponents:[{axisType:"xAxis",AxisComp:Jt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:b0}),_d=mp({chartName:"ComposedChart",GraphicalChild:[Rn,Mn,Wt,P0],axisComponents:[{axisType:"xAxis",AxisComp:Jt},{axisType:"yAxis",AxisComp:Vt},{axisType:"zAxis",AxisComp:N0}],formatAxisMap:b0});const lg={B2C:"hsl(var(--primary))",B2B:"hsl(38, 92%, 50%)",OEM:"hsl(150, 60%, 40%)"},IT=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)","hsl(280, 60%, 50%)"];function RSe({products:e,years:t}){const[r,n]=w.useState("by-product"),a=t.map(c=>{const u={year:c};return e.forEach(d=>{if(d.volumesByChannel){const f=d.volumesByChannel.B2C[c]||0,h=d.volumesByChannel.B2B[c]||0,m=d.volumesByChannel.OEM[c]||0;u[d.name]=(f*d.priceHT+h*(d.priceHT_B2B||d.priceHT)+m*(d.priceHT_OEM||d.priceHT))/1e3}else u[d.name]=(d.volumesByYear[c]||0)*d.priceHT/1e3}),u}),i=t.map(c=>{let u=0,d=0,f=0;return e.forEach(h=>{const m=h.volumesByChannel||{B2C:{},B2B:{},OEM:{}};u+=(m.B2C[c]||0)*h.priceHT,d+=(m.B2B[c]||0)*(h.priceHT_B2B||h.priceHT),f+=(m.OEM[c]||0)*(h.priceHT_OEM||h.priceHT)}),{year:c,B2C:u/1e3,B2B:d/1e3,OEM:f/1e3}}),o={B2C:0,B2B:0,OEM:0};e.forEach(c=>{const u=c.volumesByChannel||{B2C:{},B2B:{},OEM:{}};t.forEach(d=>{o.B2C+=(u.B2C[d]||0)*c.priceHT,o.B2B+=(u.B2B[d]||0)*(c.priceHT_B2B||c.priceHT),o.OEM+=(u.OEM[d]||0)*(c.priceHT_OEM||c.priceHT)})});const l=["B2C","B2B","OEM"].map(c=>({name:c,value:Math.round(o[c])})).filter(c=>c.value>0);return s.jsxs(Ke,{title:"CA par Produit & Canal",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(ne,{variant:r==="by-product"?"default":"outline",size:"sm",onClick:()=>n("by-product"),children:"Par Produit"}),s.jsx(ne,{variant:r==="by-channel"?"default":"outline",size:"sm",onClick:()=>n("by-channel"),children:"Par Canal"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2 h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:r==="by-product"?s.jsxs(es,{data:a,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:c=>`${c}k`}),s.jsx(Ct,{formatter:c=>`${c.toFixed(0)}k`}),s.jsx(Dr,{}),e.map((c,u)=>s.jsx(Wt,{dataKey:c.name,stackId:"a",fill:IT[u%IT.length]},c.id))]}):s.jsxs(es,{data:i,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:c=>`${c}k`}),s.jsx(Ct,{formatter:c=>`${c.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"B2C",stackId:"a",fill:lg.B2C}),s.jsx(Wt,{dataKey:"B2B",stackId:"a",fill:lg.B2B}),s.jsx(Wt,{dataKey:"OEM",stackId:"a",fill:lg.OEM})]})})}),s.jsxs("div",{className:"h-64",children:[s.jsx("p",{className:"text-xs text-muted-foreground text-center mb-1",children:"Rpartition CA par canal"}),s.jsx(wr,{width:"100%",height:"90%",children:s.jsxs(RN,{children:[s.jsx(Pi,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,children:l.map(c=>s.jsx(el,{fill:lg[c.name]},c.name))}),s.jsx(Ct,{formatter:c=>re(c,!0)})]})})]})]})]})}const $f=["B2C","B2B","OEM"];function MSe({products:e,years:t,onChannelVolumeChange:r}){const[n,a]=w.useState({B2C:0,B2B:0,OEM:0}),i=(c,u)=>{const d=e.find(m=>m.id===c);if(!d)return;const f=d.volumesByChannel||{B2C:{},B2B:{},OEM:{}},h=n[u]/100;t.forEach((m,y)=>{if(m<d.launchYear||y===0||t[y-1]<d.launchYear)return;const g=f[u][t[y-1]]||0,p=Math.round(g*(1+h));p!==(f[u][m]||0)&&(r(c,m,u,p),f[u][m]=p)})},o=t.map(c=>{let u=0,d=0,f=0,h=0,m=0,y=0;return e.forEach(g=>{const p=g.volumesByChannel||{B2C:{},B2B:{},OEM:{}},v=p.B2C[c]||0,x=p.B2B[c]||0,b=p.OEM[c]||0;u+=v,d+=x,f+=b,h+=v*g.priceHT,m+=x*(g.priceHT_B2B||g.priceHT),y+=b*(g.priceHT_OEM||g.priceHT)}),{year:c,b2c:u,b2b:d,oem:f,caB2C:h,caB2B:m,caOEM:y,caTotal:h+m+y}}),l=o.reduce((c,u)=>c+u.caTotal,0);return s.jsxs(Ke,{title:"Volumes par Anne & Canal",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 p-3 bg-muted/30 rounded-lg border",children:[s.jsx(Fo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Croissance annuelle :"}),$f.map(c=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium",children:c}),s.jsx(xe,{type:"number",value:n[c],onChange:u=>a(d=>({...d,[c]:Number(u.target.value)})),className:"h-7 w-16 text-center text-xs",step:5}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]},c)),s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"Cliquez sur le nom d'un produit pour appliquer la croissance."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsxs(Gt,{children:[s.jsxs(_e,{children:[s.jsx(ce,{rowSpan:2,className:"min-w-[120px]",children:"Produit"}),t.map(c=>s.jsx(ce,{colSpan:3,className:"text-center border-l",children:c},c)),s.jsx(ce,{rowSpan:2,className:"text-right border-l",children:"CA Total"})]}),s.jsx(_e,{children:t.map(c=>$f.map(u=>s.jsx(ce,{className:`text-center text-xs ${u==="B2C"?"border-l":""}`,children:u},`${c}-${u}`)))})]}),s.jsxs(Yt,{children:[e.map(c=>{const u=c.volumesByChannel||{B2C:{},B2B:{},OEM:{}},d=t.reduce((f,h)=>{const m=u.B2C[h]||0,y=u.B2B[h]||0,g=u.OEM[h]||0;return f+m*c.priceHT+y*(c.priceHT_B2B||c.priceHT)+g*(c.priceHT_OEM||c.priceHT)},0);return s.jsxs(_e,{children:[s.jsx(W,{children:s.jsxs("button",{className:"text-left hover:underline cursor-pointer",onClick:()=>$f.forEach(f=>i(c.id,f)),title:"Appliquer la croissance sur ce produit",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cot: ",re(c.unitCost)]})]})}),t.map(f=>$f.map(h=>s.jsx(W,{className:`text-center ${h==="B2C"?"border-l":""}`,children:f>=c.launchYear?s.jsx(xe,{type:"number",value:u[h][f]||0,onChange:m=>r(c.id,f,h,Number(m.target.value)),className:"h-7 w-16 mx-auto text-center text-xs"}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})},`${c.id}-${f}-${h}`))),s.jsx(W,{className:"text-right font-mono-numbers font-medium border-l",children:re(d,!0)})]},c.id)}),s.jsxs(_e,{className:"bg-muted/40 font-semibold border-t-2",children:[s.jsx(W,{children:"Total Volumes"}),o.map(c=>$f.map(u=>s.jsx(W,{className:`text-center text-xs ${u==="B2C"?"border-l":""}`,children:u==="B2C"?c.b2c:u==="B2B"?c.b2b:c.oem},`total-vol-${c.year}-${u}`))),s.jsx(W,{className:"text-right border-l",children:"-"})]}),s.jsxs(_e,{className:"bg-primary/10 font-bold",children:[s.jsx(W,{children:"CA par Anne"}),o.map(c=>s.jsxs(W,{colSpan:3,className:"text-center border-l text-xs",children:[re(c.caTotal,!0),s.jsxs("div",{className:"text-[10px] font-normal text-muted-foreground",children:["B2C: ",re(c.caB2C,!0)," | B2B: ",re(c.caB2B,!0)," | OEM: ",re(c.caOEM,!0)]})]},`total-ca-${c.year}`)),s.jsx(W,{className:"text-right font-mono-numbers border-l",children:re(l,!0)})]})]})]})})]})}const $Se=Id("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...r}){return s.jsx("div",{className:ue($Se({variant:t}),e),...r})}var pw=0;function MN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DT()),document.body.insertAdjacentElement("beforeend",e[1]??DT()),pw++,()=>{pw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pw--}},[])}function DT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gw="focusScope.autoFocusOnMount",vw="focusScope.autoFocusOnUnmount",LT={bubbles:!1,cancelable:!0},ISe="FocusScope",E0=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=w.useState(null),u=en(a),d=en(i),f=w.useRef(null),h=dt(t,g=>c(g)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let g=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Qs(f.current,{select:!0})},p=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Qs(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Qs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[n,l,m.paused]),w.useEffect(()=>{if(l){FT.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(gw,LT);l.addEventListener(gw,u),l.dispatchEvent(v),v.defaultPrevented||(DSe(USe(BF(l)),{select:!0}),document.activeElement===g&&Qs(l))}return()=>{l.removeEventListener(gw,u),setTimeout(()=>{const v=new CustomEvent(vw,LT);l.addEventListener(vw,d),l.dispatchEvent(v),v.defaultPrevented||Qs(g??document.body,{select:!0}),l.removeEventListener(vw,d),FT.remove(m)},0)}}},[l,u,d,m]);const y=w.useCallback(g=>{if(!r&&!n||m.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(p&&v){const x=g.currentTarget,[b,_]=LSe(x);b&&_?!g.shiftKey&&v===_?(g.preventDefault(),r&&Qs(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),r&&Qs(_,{select:!0})):v===x&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(Ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});E0.displayName=ISe;function DSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qs(n,{select:t}),document.activeElement!==r)return}function LSe(e){const t=BF(e),r=BT(t,e),n=BT(t.reverse(),e);return[r,n]}function BF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function BT(e,t){for(const r of e)if(!BSe(r,{upTo:t}))return r}function BSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FSe(e){return e instanceof HTMLInputElement&&"select"in e}function Qs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FSe(e)&&t&&e.select()}}var FT=zSe();function zSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zT(e,t),e.unshift(t)},remove(t){var r;e=zT(e,t),(r=e[0])==null||r.resume()}}}function zT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function USe(e){return e.filter(t=>t.tagName!=="A")}var VSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oc=new WeakMap,cg=new WeakMap,ug={},yw=0,FF=function(e){return e&&(e.host||FF(e.parentNode))},WSe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=FF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HSe=function(e,t,r,n){var a=WSe(t,Array.isArray(e)?e:[e]);ug[r]||(ug[r]=new WeakMap);var i=ug[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(Oc.get(h)||0)+1,p=(i.get(h)||0)+1;Oc.set(h,g),i.set(h,p),o.push(h),g===1&&y&&cg.set(h,!0),p===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),yw++,function(){o.forEach(function(f){var h=Oc.get(f)-1,m=i.get(f)-1;Oc.set(f,h),i.set(f,m),h||(cg.has(f)||f.removeAttribute(n),cg.delete(f)),m||f.removeAttribute(r)}),yw--,yw||(Oc=new WeakMap,Oc=new WeakMap,cg=new WeakMap,ug={})}},$N=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=VSe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),HSe(n,a,r,"aria-hidden")):function(){return null}},$g="right-scroll-bar-position",Ig="width-before-scroll-bar",qSe="with-scroll-bars-hidden",KSe="--removed-body-scroll-bar-size";function xw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GSe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var YSe=typeof window<"u"?w.useLayoutEffect:w.useEffect,UT=new WeakMap;function XSe(e,t){var r=GSe(null,function(n){return e.forEach(function(a){return xw(a,n)})});return YSe(function(){var n=UT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||xw(l,null)}),i.forEach(function(l){a.has(l)||xw(l,o)})}UT.set(r,e)},[e]),r}function ZSe(e){return e}function QSe(e,t){t===void 0&&(t=ZSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function JSe(e){e===void 0&&(e={});var t=QSe(null);return t.options=Di({async:!0,ssr:!1},e),t}var zF=function(e){var t=e.sideCar,r=Kd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Di({},r))};zF.isSideCarExport=!0;function eCe(e,t){return e.useMedium(t),zF}var UF=JSe(),bw=function(){},A0=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:bw,onWheelCapture:bw,onTouchMoveCapture:bw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,_=Kd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=XSe([r,t]),C=Di(Di({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:UF,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:b}),o?w.cloneElement(w.Children.only(l),Di(Di({},C),{ref:S})):w.createElement(x,Di({},C,{className:c,ref:S}),l))});A0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A0.classNames={fullWidth:Ig,zeroRight:$g};var tCe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rCe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tCe();return t&&e.setAttribute("nonce",t),e}function nCe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aCe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iCe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rCe())&&(nCe(t,r),aCe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sCe=function(){var e=iCe();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},VF=function(){var e=sCe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},oCe={left:0,top:0,right:0,gap:0},ww=function(e){return parseInt(e||"",10)||0},lCe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ww(r),ww(n),ww(a)]},cCe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oCe;var t=lCe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},uCe=VF(),Cu="data-scroll-locked",dCe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($g,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ig,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($g," .").concat($g,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ig," .").concat(Ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cu,`] {
    `).concat(KSe,": ").concat(l,`px;
  }
`)},VT=function(){var e=parseInt(document.body.getAttribute(Cu)||"0",10);return isFinite(e)?e:0},fCe=function(){w.useEffect(function(){return document.body.setAttribute(Cu,(VT()+1).toString()),function(){var e=VT()-1;e<=0?document.body.removeAttribute(Cu):document.body.setAttribute(Cu,e.toString())}},[])},hCe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;fCe();var i=w.useMemo(function(){return cCe(a)},[a]);return w.createElement(uCe,{styles:dCe(i,!t,a,r?"":"!important")})},z_=!1;if(typeof window<"u")try{var dg=Object.defineProperty({},"passive",{get:function(){return z_=!0,!0}});window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{z_=!1}var Tc=z_?{passive:!1}:!1,mCe=function(e){return e.tagName==="TEXTAREA"},WF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mCe(e)&&r[t]==="visible")},pCe=function(e){return WF(e,"overflowY")},gCe=function(e){return WF(e,"overflowX")},WT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=HF(e,n);if(a){var i=qF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vCe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},HF=function(e,t){return e==="v"?pCe(t):gCe(t)},qF=function(e,t){return e==="v"?vCe(t):yCe(t)},xCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},bCe=function(e,t,r,n,a){var i=xCe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=qF(e,l),y=m[0],g=m[1],p=m[2],v=g-p-i*y;(y||v)&&HF(e,l)&&(f+=v,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},fg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HT=function(e){return[e.deltaX,e.deltaY]},qT=function(e){return e&&"current"in e?e.current:e},wCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_Ce=0,Rc=[];function SCe(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(_Ce++)[0],i=w.useState(VF)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=VG([e.lockRef.current],(e.shards||[]).map(qT),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=fg(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-v[0],_="deltaY"in g?g.deltaY:x[1]-v[1],j,S=g.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var P=WT(C,S);if(!P)return!0;if(P?j=C:(j=C==="v"?"h":"v",P=WT(C,S)),!P)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=j),!j)return!0;var N=n.current||j;return bCe(N,p,g,N==="h"?b:_,!0)},[]),c=w.useCallback(function(g){var p=g;if(!(!Rc.length||Rc[Rc.length-1]!==i)){var v="deltaY"in p?HT(p):fg(p),x=t.current.filter(function(j){return j.name===p.type&&(j.target===p.target||p.target===j.shadowParent)&&wCe(j.delta,v)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(qT).filter(Boolean).filter(function(j){return j.contains(p.target)}),_=b.length>0?l(p,b[0]):!o.current.noIsolation;_&&p.cancelable&&p.preventDefault()}}},[]),u=w.useCallback(function(g,p,v,x){var b={name:g,delta:p,target:v,should:x,shadowParent:CCe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(g){r.current=fg(g),n.current=void 0},[]),f=w.useCallback(function(g){u(g.type,HT(g),g.target,l(g,e.lockRef.current))},[]),h=w.useCallback(function(g){u(g.type,fg(g),g.target,l(g,e.lockRef.current))},[]);w.useEffect(function(){return Rc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Tc),document.addEventListener("touchmove",c,Tc),document.addEventListener("touchstart",d,Tc),function(){Rc=Rc.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Tc),document.removeEventListener("touchmove",c,Tc),document.removeEventListener("touchstart",d,Tc)}},[]);var m=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(i,{styles:jCe(a)}):null,m?w.createElement(hCe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NCe=eCe(UF,SCe);var O0=w.forwardRef(function(e,t){return w.createElement(A0,Di({},e,{ref:t,sideCar:NCe}))});O0.classNames=A0.classNames;var PCe=[" ","Enter","ArrowUp","ArrowDown"],kCe=[" ","Enter"],lc="Select",[T0,R0,ECe]=dx(lc),[df,$2e]=Yn(lc,[ECe,zd]),M0=zd(),[ACe,al]=df(lc),[OCe,TCe]=df(lc),KF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,g=M0(t),[p,v]=w.useState(null),[x,b]=w.useState(null),[_,j]=w.useState(!1),S=Hd(u),[C,P]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:lc}),[N,O]=ia({prop:o,defaultProp:l,onChange:c,caller:lc}),T=w.useRef(null),E=p?y||!!p.closest("form"):!0,[R,k]=w.useState(new Set),A=Array.from(R).map($=>$.props.value).join(";");return s.jsx(mC,{...g,children:s.jsxs(ACe,{required:m,scope:t,trigger:p,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ki(),value:N,onValueChange:O,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[s.jsx(T0.Provider,{scope:t,children:s.jsx(OCe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{k(M=>new Set(M).add($))},[]),onNativeOptionRemove:w.useCallback($=>{k(M=>{const L=new Set(M);return L.delete($),L})},[]),children:r})}),E?s.jsxs(v5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:$=>O($.target.value),disabled:h,form:y,children:[N===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},A):null]})})};KF.displayName=lc;var GF="SelectTrigger",YF=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=M0(r),o=al(GF,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=R0(r),d=w.useRef("touch"),[f,h,m]=x5(g=>{const p=u().filter(b=>!b.disabled),v=p.find(b=>b.value===o.value),x=b5(p,g,v);x!==void 0&&o.onValueChange(x.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(bx,{asChild:!0,...i,children:s.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":y5(o.value)?"":void 0,...a,ref:c,onClick:Oe(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Oe(a.onPointerDown,g=>{d.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Oe(a.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&PCe.includes(g.key)&&(y(),g.preventDefault())})})})});YF.displayName=GF;var XF="SelectValue",ZF=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=al(XF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return fn(()=>{u(d)},[u,d]),s.jsx(Ve.span,{...l,ref:f,style:{pointerEvents:"none"},children:y5(c.value)?s.jsx(s.Fragment,{children:o}):i})});ZF.displayName=XF;var RCe="SelectIcon",QF=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ve.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});QF.displayName=RCe;var MCe="SelectPortal",JF=e=>s.jsx(tp,{asChild:!0,...e});JF.displayName=MCe;var cc="SelectContent",e5=w.forwardRef((e,t)=>{const r=al(cc,e.__scopeSelect),[n,a]=w.useState();if(fn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?mc.createPortal(s.jsx(t5,{scope:e.__scopeSelect,children:s.jsx(T0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(r5,{...e,ref:t})});e5.displayName=cc;var ti=10,[t5,il]=df(cc),$Ce="SelectContentImpl",ICe=ec("SelectContent.RemoveScroll"),r5=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:p,...v}=e,x=al(cc,r),[b,_]=w.useState(null),[j,S]=w.useState(null),C=dt(t,H=>_(H)),[P,N]=w.useState(null),[O,T]=w.useState(null),E=R0(r),[R,k]=w.useState(!1),A=w.useRef(!1);w.useEffect(()=>{if(b)return $N(b)},[b]),MN();const $=w.useCallback(H=>{const[fe,...D]=E().map(Z=>Z.ref.current),[Y]=D.slice(-1),V=document.activeElement;for(const Z of H)if(Z===V||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===fe&&j&&(j.scrollTop=0),Z===Y&&j&&(j.scrollTop=j.scrollHeight),Z==null||Z.focus(),document.activeElement!==V))return},[E,j]),M=w.useCallback(()=>$([P,b]),[$,P,b]);w.useEffect(()=>{R&&M()},[R,M]);const{onOpenChange:L,triggerPointerDownPosRef:B}=x;w.useEffect(()=>{if(b){let H={x:0,y:0};const fe=Y=>{var V,Z;H={x:Math.abs(Math.round(Y.pageX)-(((V=B.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((Z=B.current)==null?void 0:Z.y)??0))}},D=Y=>{H.x<=10&&H.y<=10?Y.preventDefault():b.contains(Y.target)||L(!1),document.removeEventListener("pointermove",fe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",D,{capture:!0})}}},[b,L,B]),w.useEffect(()=>{const H=()=>L(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[L]);const[z,Q]=x5(H=>{const fe=E().filter(V=>!V.disabled),D=fe.find(V=>V.ref.current===document.activeElement),Y=b5(fe,H,D);Y&&setTimeout(()=>Y.ref.current.focus())}),ee=w.useCallback((H,fe,D)=>{const Y=!A.current&&!D;(x.value!==void 0&&x.value===fe||Y)&&(N(H),Y&&(A.current=!0))},[x.value]),se=w.useCallback(()=>b==null?void 0:b.focus(),[b]),U=w.useCallback((H,fe,D)=>{const Y=!A.current&&!D;(x.value!==void 0&&x.value===fe||Y)&&T(H)},[x.value]),q=n==="popper"?U_:n5,G=q===U_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:p}:{};return s.jsx(t5,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:ee,selectedItem:P,onItemLeave:se,itemTextRefCallback:U,focusSelectedItem:M,selectedItemText:O,position:n,isPositioned:R,searchRef:z,children:s.jsx(O0,{as:ICe,allowPinchZoom:!0,children:s.jsx(E0,{asChild:!0,trapped:x.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Oe(a,H=>{var fe;(fe=x.trigger)==null||fe.focus({preventScroll:!0}),H.preventDefault()}),children:s.jsx($d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:H=>H.preventDefault(),...v,...G,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Oe(v.onKeyDown,H=>{const fe=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!fe&&H.key.length===1&&Q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Y=E().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const V=H.target,Z=Y.indexOf(V);Y=Y.slice(Z+1)}setTimeout(()=>$(Y)),H.preventDefault()}})})})})})})});r5.displayName=$Ce;var DCe="SelectItemAlignedPosition",n5=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=al(cc,r),o=il(cc,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=dt(t,C=>d(C)),h=R0(r),m=w.useRef(!1),y=w.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:v,focusSelectedItem:x}=o,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&p&&v){const C=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const V=O.left-P.left,Z=N.left-V,te=C.left-Z,be=C.width+te,Re=Math.max(be,P.width),We=window.innerWidth-ti,ge=Yh(Z,[ti,Math.max(ti,We-Re)]);l.style.minWidth=be+"px",l.style.left=ge+"px"}else{const V=P.right-O.right,Z=window.innerWidth-N.right-V,te=window.innerWidth-C.right-Z,be=C.width+te,Re=Math.max(be,P.width),We=window.innerWidth-ti,ge=Yh(Z,[ti,Math.max(ti,We-Re)]);l.style.minWidth=be+"px",l.style.right=ge+"px"}const T=h(),E=window.innerHeight-ti*2,R=g.scrollHeight,k=window.getComputedStyle(u),A=parseInt(k.borderTopWidth,10),$=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),L=parseInt(k.paddingBottom,10),B=A+$+R+L+M,z=Math.min(p.offsetHeight*5,B),Q=window.getComputedStyle(g),ee=parseInt(Q.paddingTop,10),se=parseInt(Q.paddingBottom,10),U=C.top+C.height/2-ti,q=E-U,G=p.offsetHeight/2,H=p.offsetTop+G,fe=A+$+H,D=B-fe;if(fe<=U){const V=T.length>0&&p===T[T.length-1].ref.current;l.style.bottom="0px";const Z=u.clientHeight-g.offsetTop-g.offsetHeight,te=Math.max(q,G+(V?se:0)+Z+M),be=fe+te;l.style.height=be+"px"}else{const V=T.length>0&&p===T[0].ref.current;l.style.top="0px";const te=Math.max(U,A+g.offsetTop+(V?ee:0)+G)+D;l.style.height=te+"px",g.scrollTop=fe-U+g.offsetTop}l.style.margin=`${ti}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,p,v,i.dir,n]);fn(()=>b(),[b]);const[_,j]=w.useState();fn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(BCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Ve.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});n5.displayName=DCe;var LCe="SelectPopperPosition",U_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ti,...i}=e,o=M0(r);return s.jsx(pC,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U_.displayName=LCe;var[BCe,IN]=df(cc,{}),V_="SelectViewport",a5=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=il(V_,r),o=IN(V_,r),l=dt(t,i.onViewportChange),c=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(T0.Slot,{scope:r,children:s.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Oe(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-ti*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),v=Math.max(g,p);if(v<y){const x=v+m,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});a5.displayName=V_;var i5="SelectGroup",[FCe,zCe]=df(i5),UCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ki();return s.jsx(FCe,{scope:r,id:a,children:s.jsx(Ve.div,{role:"group","aria-labelledby":a,...n,ref:t})})});UCe.displayName=i5;var s5="SelectLabel",o5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=zCe(s5,r);return s.jsx(Ve.div,{id:a.id,...n,ref:t})});o5.displayName=s5;var Ay="SelectItem",[VCe,l5]=df(Ay),c5=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=al(Ay,r),c=il(Ay,r),u=l.value===n,[d,f]=w.useState(i??""),[h,m]=w.useState(!1),y=dt(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),g=Ki(),p=w.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(VCe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:w.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(T0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ve.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Oe(o.onFocus,()=>m(!0)),onBlur:Oe(o.onBlur,()=>m(!1)),onClick:Oe(o.onClick,()=>{p.current!=="mouse"&&v()}),onPointerUp:Oe(o.onPointerUp,()=>{p.current==="mouse"&&v()}),onPointerDown:Oe(o.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:Oe(o.onPointerMove,x=>{var b;p.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Oe(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(kCe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});c5.displayName=Ay;var Yf="SelectItemText",u5=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=al(Yf,r),l=il(Yf,r),c=l5(Yf,r),u=TCe(Yf,r),[d,f]=w.useState(null),h=dt(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=w.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=u;return fn(()=>(g(y),()=>p(y)),[g,p,y]),s.jsxs(s.Fragment,{children:[s.jsx(Ve.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mc.createPortal(i.children,o.valueNode):null]})});u5.displayName=Yf;var d5="SelectItemIndicator",f5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l5(d5,r).isSelected?s.jsx(Ve.span,{"aria-hidden":!0,...n,ref:t}):null});f5.displayName=d5;var W_="SelectScrollUpButton",h5=w.forwardRef((e,t)=>{const r=il(W_,e.__scopeSelect),n=IN(W_,e.__scopeSelect),[a,i]=w.useState(!1),o=dt(t,n.onScrollButtonChange);return fn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(p5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});h5.displayName=W_;var H_="SelectScrollDownButton",m5=w.forwardRef((e,t)=>{const r=il(H_,e.__scopeSelect),n=IN(H_,e.__scopeSelect),[a,i]=w.useState(!1),o=dt(t,n.onScrollButtonChange);return fn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(p5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});m5.displayName=H_;var p5=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=il("SelectScrollButton",r),o=w.useRef(null),l=R0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),fn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ve.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Oe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Oe(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Oe(a.onPointerLeave,()=>{c()})})}),WCe="SelectSeparator",g5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ve.div,{"aria-hidden":!0,...n,ref:t})});g5.displayName=WCe;var q_="SelectArrow",HCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=M0(r),i=al(q_,r),o=il(q_,r);return i.open&&o.position==="popper"?s.jsx(gC,{...a,...n,ref:t}):null});HCe.displayName=q_;var qCe="SelectBubbleInput",v5=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=dt(n,a),o=Ex(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Ve.select,{...r,style:{..._I,...r.style},ref:i,defaultValue:t})});v5.displayName=qCe;function y5(e){return e===""||e===void 0}function x5(e){const t=en(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function b5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=KCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function KCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GCe=KF,w5=YF,YCe=ZF,XCe=QF,ZCe=JF,j5=e5,QCe=a5,_5=o5,S5=c5,JCe=u5,eNe=f5,C5=h5,N5=m5,P5=g5;const lt=GCe,ct=YCe,st=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(w5,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(XCe,{asChild:!0,children:s.jsx(Bh,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=w5.displayName;const k5=w.forwardRef(({className:e,...t},r)=>s.jsx(C5,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(eH,{className:"h-4 w-4"})}));k5.displayName=C5.displayName;const E5=w.forwardRef(({className:e,...t},r)=>s.jsx(N5,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Bh,{className:"h-4 w-4"})}));E5.displayName=N5.displayName;const ot=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(ZCe,{children:s.jsxs(j5,{ref:a,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(k5,{}),s.jsx(QCe,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(E5,{})]})}));ot.displayName=j5.displayName;const tNe=w.forwardRef(({className:e,...t},r)=>s.jsx(_5,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tNe.displayName=_5.displayName;const De=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(S5,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eNe,{children:s.jsx(Oo,{className:"h-4 w-4"})})}),s.jsx(JCe,{children:t})]}));De.displayName=S5.displayName;const rNe=w.forwardRef(({className:e,...t},r)=>s.jsx(P5,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));rNe.displayName=P5.displayName;function A5(){const{toast:e}=ZS(),{user:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]),[y,g]=w.useState(!0),p=w.useCallback(async()=>{if(t)try{g(!0);const[A,$,M,L,B,z]=await Promise.all([pe.from("b2b_clients").select("*").order("company_name"),pe.from("b2b_client_projections").select("*"),pe.from("b2b_delivery_fee_tiers").select("*").order("min_pieces"),pe.from("b2b_payment_terms_options").select("*").order("label"),pe.from("b2b_delivery_methods").select("*").order("label"),pe.from("b2b_client_categories").select("*").order("sort_order")]);if(A.error)throw A.error;if($.error)throw $.error;if(M.error)throw M.error;if(L.error)throw L.error;if(B.error)throw B.error;if(z.error)throw z.error;n(A.data),i($.data),l(M.data),u(L.data),f(B.data),m(z.data)}catch(A){console.error("B2B fetch error:",A),e({title:"Erreur",description:"Impossible de charger les donnes B2B",variant:"destructive"})}finally{g(!1)}},[t,e]);w.useEffect(()=>{p()},[p]);const v=w.useCallback(async A=>{if(!t)return null;const $={...A,user_id:t.id};if(A.id){const{data:M,error:L}=await pe.from("b2b_clients").update($).eq("id",A.id).select().single();return L?(e({title:"Erreur",description:L.message,variant:"destructive"}),null):(await p(),M)}else{const{data:M,error:L}=await pe.from("b2b_clients").insert($).select().single();return L?(e({title:"Erreur",description:L.message,variant:"destructive"}),null):(await p(),M)}},[t,e,p]),x=w.useCallback(async A=>{const{error:$}=await pe.from("b2b_clients").delete().eq("id",A);if($){e({title:"Erreur",description:$.message,variant:"destructive"});return}await p()},[e,p]),b=w.useCallback(async(A,$,M,L)=>{if(!t)return;const B=a.find(z=>z.client_id===A&&z.year===$);B?await pe.from("b2b_client_projections").update({projected_revenue:M,notes:L||null}).eq("id",B.id):await pe.from("b2b_client_projections").insert({client_id:A,year:$,projected_revenue:M,notes:L||null,user_id:t.id}),await p()},[t,a,p]),_=w.useCallback(async(A,$)=>{t&&(await pe.from("b2b_client_categories").insert({name:A,color:$||"#6366f1",user_id:t.id,sort_order:h.length}),await p())},[t,h.length,p]),j=w.useCallback(async A=>{await pe.from("b2b_client_categories").delete().eq("id",A),await p()},[p]),S=w.useCallback(async(A,$)=>{await pe.from("b2b_client_categories").update($).eq("id",A),await p()},[p]),C=w.useCallback(async(A,$,M,L)=>{t&&(await pe.from("b2b_delivery_fee_tiers").insert({label:A,fee_amount:$,min_pieces:M,max_pieces:L,user_id:t.id}),await p())},[t,p]),P=w.useCallback(async A=>{await pe.from("b2b_delivery_fee_tiers").delete().eq("id",A),await p()},[p]),N=w.useCallback(async(A,$)=>{t&&(await pe.from("b2b_payment_terms_options").insert({label:A,description:$||null,user_id:t.id}),await p())},[t,p]),O=w.useCallback(async A=>{await pe.from("b2b_payment_terms_options").delete().eq("id",A),await p()},[p]),T=w.useCallback(async(A,$)=>{t&&(await pe.from("b2b_delivery_methods").insert({label:A,description:$||null,user_id:t.id}),await p())},[t,p]),E=w.useCallback(async A=>{await pe.from("b2b_delivery_methods").delete().eq("id",A),await p()},[p]),R=w.useCallback(async A=>{if(!t)return 0;const $=A.map(B=>({...B,user_id:t.id,company_name:B.company_name||"Sans nom"})),{data:M,error:L}=await pe.from("b2b_clients").insert($).select();return L?(e({title:"Erreur import",description:L.message,variant:"destructive"}),0):(await p(),(M==null?void 0:M.length)||0)},[t,e,p]),k=w.useCallback(A=>a.filter($=>$.client_id===A),[a]);return{clients:r,projections:a,deliveryFeeTiers:o,paymentTermsOptions:c,deliveryMethods:d,categories:h,isLoading:y,refreshData:p,upsertClient:v,deleteClient:x,bulkImportClients:R,upsertProjection:b,getClientProjections:k,addDeliveryFeeTier:C,deleteDeliveryFeeTier:P,addPaymentTerm:N,deletePaymentTerm:O,addDeliveryMethod:T,deleteDeliveryMethod:E,addCategory:_,deleteCategory:j,updateCategory:S}}function KT(e){return e&&e.toLowerCase().includes("oem")?"OEM":"B2B"}function nNe({config:e,onChange:t,years:r}){const{clients:n,categories:a,projections:i}=A5(),o=r[0],[l,c]=w.useState("none"),u={entries:((e==null?void 0:e.entries)??[]).map(E=>({...E,channel:E.channel??"B2B",individualGrowthRate:E.individualGrowthRate??null,revenueByYear:E.revenueByYear??{}})),growthRate:(e==null?void 0:e.growthRate)??.1,marginRate:(e==null?void 0:e.marginRate)??.5,marginB2C:(e==null?void 0:e.marginB2C)??.6,marginByCategory:(e==null?void 0:e.marginByCategory)??{}},d=E=>t({...u,...E}),f=(E,R)=>{d({entries:u.entries.map(k=>k.clientId===E?{...k,...R}:k)})},h=E=>{const R=n.find(M=>M.id===E);if(!R||u.entries.some(M=>M.clientId===E))return;const k=a.find(M=>M.id===R.category_id),A=KT(k==null?void 0:k.name),$=i==null?void 0:i.find(M=>M.client_id===E&&M.year===o-1);d({entries:[...u.entries,{clientId:R.id,clientName:R.company_name,categoryId:R.category_id,categoryName:(k==null?void 0:k.name)||null,channel:A,baseRevenue:($==null?void 0:$.projected_revenue)??0,individualGrowthRate:null,revenueByYear:{}}]})},m=()=>{const E=`b2c_${Date.now()}`;d({entries:[...u.entries,{clientId:E,clientName:"Ventes B2C",categoryId:null,categoryName:null,channel:"B2C",baseRevenue:0,individualGrowthRate:null,revenueByYear:{}}]})},y=E=>{const R=u.entries.find($=>$.clientId===E);if(!R||!R.baseRevenue)return;const k=R.individualGrowthRate??u.growthRate,A={};r.forEach(($,M)=>{A[$]=Math.round(R.baseRevenue*Math.pow(1+k,M+1))}),f(E,{revenueByYear:A})},g=(E,R)=>{var $;if((($=E.revenueByYear)==null?void 0:$[R])!==void 0)return E.revenueByYear[R];const k=R-o+1,A=E.individualGrowthRate??u.growthRate;return E.baseRevenue*Math.pow(1+A,k)},p=E=>E.channel==="B2C"?u.marginB2C:E.categoryId&&u.marginByCategory[E.categoryId]!==void 0?u.marginByCategory[E.categoryId]:u.marginRate,v=r.map(E=>u.entries.reduce((R,k)=>R+g(k,E),0)),x=v.reduce((E,R)=>E+R,0),_=r.map(E=>u.entries.reduce((R,k)=>R+g(k,E)*p(k),0)).reduce((E,R)=>E+R,0),j=["B2B","OEM","B2C"],S=E=>l==="none"?E:[...E].sort((R,k)=>{const A=r.reduce((M,L)=>M+g(R,L),0),$=r.reduce((M,L)=>M+g(k,L),0);return l==="desc"?$-A:A-$}),C=j.map(E=>({channel:E,entries:S(u.entries.filter(R=>R.channel===E))})).filter(E=>E.entries.length>0),P=n.filter(E=>E.is_active&&!u.entries.some(R=>R.clientId===E.id)),N=u.entries.some(E=>E.channel==="B2C"),T=[...new Set(u.entries.map(E=>E.categoryId).filter(Boolean))].map(E=>a.find(R=>R.id===E)).filter(Boolean);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ke,{title:"Paramtres globaux",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Croissance globale"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.growthRate*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.growthRate*100],onValueChange:([E])=>d({growthRate:E/100}),min:-20,max:100,step:1}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Par dfaut si pas de taux individuel"})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Marge B2B/OEM"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.marginRate*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.marginRate*100],onValueChange:([E])=>d({marginRate:E/100}),min:0,max:100,step:1}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Marge par dfaut"})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-muted/20",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Marge B2C"}),s.jsxs("span",{className:"font-mono text-primary",children:[(u.marginB2C*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[u.marginB2C*100],onValueChange:([E])=>d({marginB2C:E/100}),min:0,max:100,step:1})]})]}),T.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Marge par catgorie"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:T.map(E=>{const R=u.marginByCategory[E.id]??u.marginRate;return s.jsxs("div",{className:"space-y-1 p-2 rounded border bg-muted/10",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:E.name}),s.jsxs("span",{className:"font-mono text-primary",children:[(R*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[R*100],onValueChange:([k])=>d({marginByCategory:{...u.marginByCategory,[E.id]:k/100}}),min:0,max:100,step:1})]},E.id)})})]})]}),s.jsxs(Ke,{title:"CA par Client",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[s.jsxs(lt,{onValueChange:h,children:[s.jsx(st,{className:"w-60",children:s.jsx(ct,{placeholder:"Ajouter client CRM..."})}),s.jsx(ot,{children:P.map(E=>{const R=a.find(k=>k.id===E.category_id);return s.jsxs(De,{value:E.id,children:[E.company_name," ",s.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",KT(R==null?void 0:R.name),")"]})]},E.id)})})]}),!N&&s.jsxs(ne,{size:"sm",variant:"outline",onClick:m,children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Canal B2C"]}),s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:[u.entries.length," entre(s)"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>c(E=>E==="none"?"desc":E==="desc"?"asc":"none"),className:"ml-auto",children:[l==="desc"?s.jsx(Bc,{className:"h-3 w-3 mr-1"}):l==="asc"?s.jsx(KI,{className:"h-3 w-3 mr-1"}):s.jsx(qI,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"text-xs",children:"Trier CA"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"text-xs min-w-[120px]",children:"Client"}),s.jsx(ce,{className:"text-xs w-12",children:"Canal"}),s.jsx(ce,{className:"text-xs text-right w-14",children:"Marge"}),s.jsx(ce,{className:"text-xs text-right w-16",children:"% Croiss."}),s.jsx(ce,{className:"text-xs text-center w-10"}),s.jsx(ce,{className:"text-xs text-right w-20",children:"CA N-1"}),r.map(E=>s.jsx(ce,{className:"text-xs text-right min-w-[85px]",children:E},E)),s.jsx(ce,{className:"text-xs text-right min-w-[85px]",children:"Total"}),s.jsx(ce,{className:"text-xs text-right min-w-[70px]",children:"Marge "}),s.jsx(ce,{className:"text-xs w-10"})]})}),s.jsxs(Yt,{children:[u.entries.length===0&&s.jsx(_e,{children:s.jsxs(W,{colSpan:r.length+9,className:"text-center text-muted-foreground py-6",children:[s.jsx(xi,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des clients CRM ou un canal B2C"})]})}),C.map(E=>s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"bg-muted/30",children:s.jsxs(W,{colSpan:r.length+9,className:"py-1",children:[s.jsx(Pe,{variant:E.channel==="B2C"?"default":"outline",className:"text-[10px]",children:E.channel}),s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:re(r.reduce((R,k)=>R+E.entries.reduce((A,$)=>A+g($,k),0),0),!0)})]})},`h-${E.channel}`),E.entries.map(R=>{const k=r.reduce((L,B)=>L+g(R,B),0),A=p(R),$=k*A,M=R.individualGrowthRate!==null&&R.individualGrowthRate!==void 0;return s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium text-xs",children:R.clientName}),s.jsx(W,{children:s.jsx(Pe,{variant:"outline",className:"text-[10px]",children:R.channel})}),s.jsxs(W,{className:"text-right font-mono text-[10px] text-muted-foreground",children:[(A*100).toFixed(0),"%"]}),s.jsx(W,{className:"text-right",children:s.jsx(xe,{type:"number",value:M?(R.individualGrowthRate*100).toFixed(0):"",onChange:L=>f(R.clientId,{individualGrowthRate:L.target.value===""?null:Number(L.target.value)/100}),className:"h-7 w-14 text-right text-[10px] ml-auto",placeholder:`${(u.growthRate*100).toFixed(0)}`})}),s.jsx(W,{className:"text-center",children:s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>y(R.clientId),title:"Appliquer la croissance",className:"h-6 w-6 p-0",children:s.jsx(Fh,{className:"h-3 w-3"})})}),s.jsx(W,{className:"text-right",children:s.jsx(xe,{type:"number",value:R.baseRevenue||"",onChange:L=>f(R.clientId,{baseRevenue:Number(L.target.value)||0}),className:"h-7 w-20 text-right text-[10px] ml-auto",placeholder:"0"})}),r.map(L=>{var Q;const B=((Q=R.revenueByYear)==null?void 0:Q[L])!==void 0,z=g(R,L);return s.jsx(W,{className:"text-right p-1",children:s.jsx(xe,{type:"number",value:B?R.revenueByYear[L]:"",onChange:ee=>{const se=ee.target.value,U={...R.revenueByYear};se===""?delete U[L]:U[L]=Number(se),f(R.clientId,{revenueByYear:U})},className:`h-7 w-20 text-right text-[10px] ml-auto ${B?"border-primary/50":""}`,placeholder:re(z,!0)})},L)}),s.jsx(W,{className:"text-right font-mono text-xs font-medium",children:re(k,!0)}),s.jsx(W,{className:"text-right font-mono text-xs text-muted-foreground",children:re($,!0)}),s.jsx(W,{children:s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>d({entries:u.entries.filter(L=>L.clientId!==R.clientId)}),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})})]},R.clientId)})]})),u.entries.length>0&&s.jsx(s.Fragment,{children:s.jsxs(_e,{className:"font-semibold border-t-2",children:[s.jsx(W,{colSpan:6,children:"Total CA"}),r.map((E,R)=>s.jsx(W,{className:"text-right font-mono text-xs",children:re(v[R],!0)},E)),s.jsx(W,{className:"text-right font-mono text-xs",children:re(x,!0)}),s.jsx(W,{className:"text-right font-mono text-xs",children:re(_,!0)}),s.jsx(W,{})]})})]})]})})]})]})}function ff({pageTitle:e,fileName:t}){const r=()=>{window.print()};return s.jsxs(ne,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(np,{className:"h-4 w-4 mr-1"}),"PDF"]})}const aNe=w.createContext(!1);function is({children:e,tabKey:t}){const{getTabPermission:r}=Ca(),a=r(t)==="read";return s.jsx(aNe.Provider,{value:a,children:s.jsxs("div",{className:a?"read-only-mode":"",children:[a&&s.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}var jw="rovingFocusGroup.onEntryFocus",iNe={bubbles:!1,cancelable:!0},pp="RovingFocusGroup",[K_,O5,sNe]=dx(pp),[oNe,$0]=Yn(pp,[sNe]),[lNe,cNe]=oNe(pp),T5=w.forwardRef((e,t)=>s.jsx(K_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(K_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(uNe,{...e,ref:t})})}));T5.displayName=pp;var uNe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=dt(t,h),y=Hd(i),[g,p]=ia({prop:o,defaultProp:l??null,onChange:c,caller:pp}),[v,x]=w.useState(!1),b=en(u),_=O5(r),j=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(jw,b),()=>P.removeEventListener(jw,b)},[b]),s.jsx(lNe,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:w.useCallback(P=>p(P),[p]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>C(P=>P-1),[]),children:s.jsx(Ve.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{j.current=!0}),onFocus:Oe(e.onFocus,P=>{const N=!j.current;if(P.target===P.currentTarget&&N&&!v){const O=new CustomEvent(jw,iNe);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const T=_().filter($=>$.focusable),E=T.find($=>$.active),R=T.find($=>$.id===g),A=[E,R,...T].filter(Boolean).map($=>$.ref.current);$5(A,d)}}j.current=!1}),onBlur:Oe(e.onBlur,()=>x(!1))})})}),R5="RovingFocusGroupItem",M5=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ki(),u=i||c,d=cNe(R5,r),f=d.currentTabStopId===u,h=O5(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return w.useEffect(()=>{if(n)return m(),()=>y()},[n,m,y]),s.jsx(K_.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ve.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Oe(e.onMouseDown,p=>{n?d.onItemFocus(u):p.preventDefault()}),onFocus:Oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Oe(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=hNe(p,d.orientation,d.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(p.currentTarget);b=d.loop?mNe(b,_+1):b.slice(_+1)}setTimeout(()=>$5(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});M5.displayName=R5;var dNe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fNe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hNe(e,t,r){const n=fNe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dNe[n]}function $5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function mNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var I5=T5,D5=M5,I0="Tabs",[pNe,I2e]=Yn(I0,[$0]),L5=$0(),[gNe,DN]=pNe(I0),B5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Hd(l),[f,h]=ia({prop:n,onChange:a,defaultProp:i??"",caller:I0});return s.jsx(gNe,{scope:r,baseId:Ki(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ve.div,{dir:d,"data-orientation":o,...u,ref:t})})});B5.displayName=I0;var F5="TabsList",z5=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=DN(F5,r),o=L5(r);return s.jsx(I5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});z5.displayName=F5;var U5="TabsTrigger",V5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=DN(U5,r),l=L5(r),c=q5(o.baseId,n),u=K5(o.baseId,n),d=n===o.value;return s.jsx(D5,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Oe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Oe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});V5.displayName=U5;var W5="TabsContent",H5=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=DN(W5,r),c=q5(l.baseId,n),u=K5(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(sa,{present:a||d,children:({present:h})=>s.jsx(Ve.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});H5.displayName=W5;function q5(e,t){return`${e}-trigger-${t}`}function K5(e,t){return`${e}-content-${t}`}var vNe=B5,G5=z5,Y5=V5,X5=H5;const Ga=vNe,Na=w.forwardRef(({className:e,...t},r)=>s.jsx(G5,{ref:r,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Na.displayName=G5.displayName;const St=w.forwardRef(({className:e,...t},r)=>s.jsx(Y5,{ref:r,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));St.displayName=Y5.displayName;const Rt=w.forwardRef(({className:e,...t},r)=>s.jsx(X5,{ref:r,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rt.displayName=X5.displayName;const yNe=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function xNe(){var b;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:o,updateGlobalRevenueConfig:l,updateClientRevenueConfig:c}=rs(),u=e.scenarioSettings,d=Array.from({length:u.durationYears},(_,j)=>u.startYear+j),f=_=>{n(_)},h=_=>{const j=e.products.map(S=>S.id===_.id?_:S);r(j)},m=(_,j,S,C)=>{const P=e.products.map(N=>{if(N.id!==_)return N;const O=N.volumesByChannel||{B2C:{},B2B:{},OEM:{}},T={...O,[S]:{...O[S],[j]:C}},E=(T.B2C[j]||0)+(T.B2B[j]||0)+(T.OEM[j]||0);return{...N,volumesByChannel:T,volumesByYear:{...N.volumesByYear,[j]:E}}});r(P)},y=t.totalDevCost,g=d[d.length-1],p=((b=t.revenueByYear.find(_=>_.year===g))==null?void 0:b.revenue)||0,v=t.revenueByYear.length>0?t.revenueByYear.reduce((_,j)=>_+(j.revenue>0?(j.revenue-j.cogs)/j.revenue:0),0)/t.revenueByYear.length:0,x=d.map(_=>{const j=t.revenueByYear.find(S=>S.year===_);return{year:_,revenue:((j==null?void 0:j.revenue)||0)/1e3,cogs:((j==null?void 0:j.cogs)||0)/1e3,margin:(((j==null?void 0:j.revenue)||0)-((j==null?void 0:j.cogs)||0))/1e3}});return s.jsx(is,{tabKey:"product-plan",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>o("by-product"),children:[s.jsx(tD,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),s.jsxs(ne,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>o("by-channel-global"),children:[s.jsx(jl,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]}),s.jsxs(ne,{variant:e.revenueMode==="by-client"?"default":"outline",size:"sm",onClick:()=>o("by-client"),children:[s.jsx(xi,{className:"h-4 w-4 mr-1"}),"Par Client"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:e.revenueMode==="by-product"?"default":e.revenueMode==="by-channel-global"?"secondary":"outline",children:e.revenueMode==="by-product"?"Dtail produits":e.revenueMode==="by-channel-global"?"Global canaux":"Par client"}),s.jsx(ff,{pageTitle:"Plan Produit",sections:yNe,fileName:"Plan_Produit"}),s.jsx(Yd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Nt,{label:"Investissement R&D",value:re(y,!0),subValue:`${e.products.filter(_=>_.devCost>0).length} produits`}),s.jsx(Nt,{label:`CA ${g}`,value:re(p,!0),subValue:"Projection",trend:"up"}),s.jsx(Nt,{label:"Marge Brute Moy.",value:rn(v),subValue:"Sur la priode"}),s.jsx(Nt,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),s.jsx("div",{id:"product-revenue-chart",children:s.jsx(Ke,{title:"Projection du Chiffre d'Affaires",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:x,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:_=>`${_}k`}),s.jsx(Ct,{formatter:_=>`${_.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),s.jsx(Wt,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),s.jsxs(Ga,{defaultValue:"visualization",className:"space-y-4",children:[s.jsxs(Na,{children:[s.jsxs(St,{value:"visualization",children:[s.jsx(QW,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),s.jsxs(St,{value:"pricing",children:[s.jsx(lv,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),s.jsxs(St,{value:"volumes",children:[s.jsx(tc,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&s.jsx(Rt,{value:"visualization",children:s.jsx(DG,{config:e.globalRevenueConfig,onChange:l,years:d})}),e.revenueMode==="by-client"&&s.jsx(Rt,{value:"visualization",children:s.jsx(nNe,{config:e.clientRevenueConfig,onChange:c,years:d})}),e.revenueMode==="by-product"&&s.jsx(Rt,{value:"visualization",children:s.jsx("div",{id:"product-revenue-viz",children:s.jsx(RSe,{products:e.products,years:d})})}),s.jsx(Rt,{value:"pricing",children:e.revenueMode==="by-product"?s.jsx("div",{id:"product-pricing",children:s.jsx(CZ,{products:e.products,onUpdateProduct:h,onAddProduct:f,onRemoveProduct:a})}):s.jsx(Ke,{title:"Pricing Produits",children:s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(jl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),s.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,s.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),s.jsx(Rt,{value:"volumes",children:s.jsx("div",{id:"product-volumes",children:s.jsx(MSe,{products:e.products,years:d,onChannelVolumeChange:m})})})]})]})})}const bNe=["R&D","Production","Sales","Support","Admin"];function wNe({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:bNe.map(a=>{const i=e.filter(o=>o.department===a);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Pe,{variant:"outline",children:a}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>n(a),children:s.jsx(qt,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"space-y-2",children:i.map(o=>s.jsx(kt,{className:"bg-muted/30",children:s.jsxs(Dt,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium",children:o.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.startYear,"  ",(o.annualCostLoaded/1e3).toFixed(0),"k"]}),s.jsxs("div",{className:"flex gap-1 mt-2",children:[s.jsx(ne,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(o),children:s.jsx(rC,{className:"h-3 w-3"})}),s.jsx(ne,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(o.id),children:s.jsx(nr,{className:"h-3 w-3"})})]})]})},o.id))})]},a)})})}var Z5="Toggle",LN=w.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=ia({prop:r,onChange:a,defaultProp:n??!1,caller:Z5});return s.jsx(Ve.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Oe(e.onClick,()=>{e.disabled||l(!o)})})});LN.displayName=Z5;var Q5=LN,sl="ToggleGroup",[J5,D2e]=Yn(sl,[$0]),ez=$0(),BN=I.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(jNe,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(_Ne,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${sl}\``)});BN.displayName=sl;var[tz,rz]=J5(sl),jNe=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ia({prop:r,defaultProp:n??"",onChange:a,caller:sl});return s.jsx(tz,{scope:e.__scopeToggleGroup,type:"single",value:I.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:I.useCallback(()=>l(""),[l]),children:s.jsx(nz,{...i,ref:t})})}),_Ne=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ia({prop:r,defaultProp:n??[],onChange:a,caller:sl}),c=I.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=I.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(tz,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(nz,{...i,ref:t})})});BN.displayName=sl;var[SNe,CNe]=J5(sl),nz=I.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=ez(r),d=Hd(o),f={role:"group",dir:d,...c};return s.jsx(SNe,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(I5,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:s.jsx(Ve.div,{...f,ref:t})}):s.jsx(Ve.div,{...f,ref:t})})}),Oy="ToggleGroupItem",az=I.forwardRef((e,t)=>{const r=rz(Oy,e.__scopeToggleGroup),n=CNe(Oy,e.__scopeToggleGroup),a=ez(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=I.useRef(null);return n.rovingFocus?s.jsx(D5,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(GT,{...l,ref:t})}):s.jsx(GT,{...l,ref:t})});az.displayName=Oy;var GT=I.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=rz(Oy,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(LN,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),iz=BN,sz=az;const oz=Id("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),NNe=w.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(Q5,{ref:a,className:ue(oz({variant:t,size:r,className:e})),...n}));NNe.displayName=Q5.displayName;const lz=w.createContext({size:"default",variant:"default"}),cz=w.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(iz,{ref:i,className:ue("flex items-center justify-center gap-1",e),...a,children:s.jsx(lz.Provider,{value:{variant:t,size:r},children:n})}));cz.displayName=iz.displayName;const G_=w.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=w.useContext(lz);return s.jsx(sz,{ref:i,className:ue(oz({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});G_.displayName=sz.displayName;var D0="Dialog",[uz,dz]=Yn(D0),[PNe,ki]=uz(D0),fz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:D0});return s.jsx(PNe,{scope:t,triggerRef:l,contentRef:c,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};fz.displayName=D0;var hz="DialogTrigger",mz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ki(hz,r),i=dt(t,a.triggerRef);return s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":UN(a.open),...n,ref:i,onClick:Oe(e.onClick,a.onOpenToggle)})});mz.displayName=hz;var FN="DialogPortal",[kNe,pz]=uz(FN,{forceMount:void 0}),gz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ki(FN,t);return s.jsx(kNe,{scope:t,forceMount:r,children:w.Children.map(n,o=>s.jsx(sa,{present:r||i.open,children:s.jsx(tp,{asChild:!0,container:a,children:o})}))})};gz.displayName=FN;var Ty="DialogOverlay",vz=w.forwardRef((e,t)=>{const r=pz(Ty,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ki(Ty,e.__scopeDialog);return i.modal?s.jsx(sa,{present:n||i.open,children:s.jsx(ANe,{...a,ref:t})}):null});vz.displayName=Ty;var ENe=ec("DialogOverlay.RemoveScroll"),ANe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ki(Ty,r);return s.jsx(O0,{as:ENe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ve.div,{"data-state":UN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),uc="DialogContent",yz=w.forwardRef((e,t)=>{const r=pz(uc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ki(uc,e.__scopeDialog);return s.jsx(sa,{present:n||i.open,children:i.modal?s.jsx(ONe,{...a,ref:t}):s.jsx(TNe,{...a,ref:t})})});yz.displayName=uc;var ONe=w.forwardRef((e,t)=>{const r=ki(uc,e.__scopeDialog),n=w.useRef(null),a=dt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return $N(i)},[]),s.jsx(xz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Oe(e.onFocusOutside,i=>i.preventDefault())})}),TNe=w.forwardRef((e,t)=>{const r=ki(uc,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(xz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xz=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ki(uc,r),c=w.useRef(null),u=dt(t,c);return MN(),s.jsxs(s.Fragment,{children:[s.jsx(E0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($d,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":UN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(MNe,{titleId:l.titleId}),s.jsx(INe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zN="DialogTitle",bz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ki(zN,r);return s.jsx(Ve.h2,{id:a.titleId,...n,ref:t})});bz.displayName=zN;var wz="DialogDescription",jz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ki(wz,r);return s.jsx(Ve.p,{id:a.descriptionId,...n,ref:t})});jz.displayName=wz;var _z="DialogClose",Sz=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ki(_z,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Oe(e.onClick,()=>a.onOpenChange(!1))})});Sz.displayName=_z;function UN(e){return e?"open":"closed"}var Cz="DialogTitleWarning",[RNe,Nz]=aW(Cz,{contentName:uc,titleName:zN,docsSlug:"dialog"}),MNe=({titleId:e})=>{const t=Nz(Cz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$Ne="DialogDescriptionWarning",INe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nz($Ne).contentName}}.`;return w.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Pz=fz,kz=mz,Ez=gz,VN=vz,WN=yz,HN=bz,qN=jz,KN=Sz;const mr=Pz,Sd=kz,DNe=Ez,Az=w.forwardRef(({className:e,...t},r)=>s.jsx(VN,{ref:r,className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Az.displayName=VN.displayName;const ar=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(DNe,{children:[s.jsx(Az,{}),s.jsxs(WN,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(KN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(_i,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ar.displayName=WN.displayName;const ir=({className:e,...t})=>s.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ir.displayName="DialogHeader";const Ho=({className:e,...t})=>s.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ho.displayName="DialogFooter";const sr=w.forwardRef(({className:e,...t},r)=>s.jsx(HN,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));sr.displayName=HN.displayName;const LNe=w.forwardRef(({className:e,...t},r)=>s.jsx(qN,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));LNe.displayName=qN.displayName;const BNe=["R&D","Production","Sales","Support","Admin"],FNe=[2025,2026,2027,2028,2029,2030],zNe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function UNe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=rs(),[o,l]=w.useState("orgchart"),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,m]=w.useState({}),y=j=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:j||"R&D",startYear:2026,annualCostLoaded:5e4};m(S),u(null),f(!0)},g=j=>{u(j),m(j),f(!0)},p=()=>{if(h.title&&h.department){if(c){const j=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(j)}else n(h);f(!1),m({}),u(null)}},v=t.payrollByYear.map(j=>({year:j.year,payroll:j.payroll/1e3,headcount:j.headcount})),x=e.roles.filter(j=>j.startYear>2025),b=FNe.slice(1).map(j=>({year:j,count:e.roles.filter(S=>S.startYear===j).length,cost:e.roles.filter(S=>S.startYear===j).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(j=>j.count>0);return s.jsx(is,{tabKey:"organisation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),s.jsxs(cz,{type:"single",value:o,onValueChange:j=>j&&l(j),children:[s.jsx(G_,{value:"orgchart","aria-label":"Vue organigramme",children:s.jsx(iH,{className:"h-4 w-4"})}),s.jsx(G_,{value:"table","aria-label":"Vue tableau",children:s.jsx(dH,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ff,{pageTitle:"Organisation & RH",sections:zNe,fileName:"Organisation_RH"}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>y(),children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),s.jsx(Yd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Nt,{label:"Masse Salariale 2025",value:re(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),s.jsx(Nt,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),s.jsx(Nt,{label:"Cot Moyen / ETP",value:re(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),s.jsx(Nt,{label:"Masse Salariale 2030",value:re(((_=t.payrollByYear.find(j=>j.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),s.jsx("div",{id:"org-payroll-chart",children:s.jsx(Ke,{title:"volution de la Masse Salariale",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(Ey,{data:v,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:j=>`${j}k`}),s.jsx(Ct,{formatter:(j,S)=>S==="payroll"?`${j.toFixed(0)}k`:j}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),s.jsx("div",{id:"org-hiring-plan",children:b.length>0&&s.jsx(Ke,{title:"Plan de Recrutement",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:j,count:S,cost:C})=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:j}),s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:re(C,!0)})]},j))})})}),s.jsx("div",{id:"org-team",children:o==="orgchart"?s.jsx(Ke,{title:"Organigramme",children:s.jsx(wNe,{roles:e.roles,onEdit:g,onRemove:a,onAddToTeam:y})}):s.jsx(Ke,{title:"quipe & Recrutements",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Poste"}),s.jsx(ce,{children:"Dpartement"}),s.jsx(ce,{children:"Dbut"}),s.jsx(ce,{className:"text-right",children:"Cot Annuel"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:e.roles.map(j=>s.jsxs(_e,{className:j.startYear>2025?"bg-muted/20":"",children:[s.jsxs(W,{className:"font-medium",children:[j.title,j.startYear>2025&&s.jsx(Pe,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),s.jsx(W,{children:s.jsx(Pe,{variant:"outline",children:j.department})}),s.jsx(W,{children:j.startYear}),s.jsx(W,{className:"text-right font-mono-numbers",children:re(j.annualCostLoaded)}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>g(j),children:"Modifier"}),s.jsx(ne,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(j.id),children:"Suppr."})]})})]},j.id))})]})})})}),s.jsx(mr,{open:d,onOpenChange:f,children:s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsx(sr,{children:c?"Modifier le poste":"Nouveau poste"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),s.jsx(xe,{value:h.title||"",onChange:j=>m({...h,title:j.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),s.jsxs(lt,{value:h.department,onValueChange:j=>m({...h,department:j}),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Slectionner un dpartement"})}),s.jsx(ot,{children:BNe.map(j=>s.jsx(De,{value:j,children:j},j))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),s.jsx(xe,{type:"number",value:h.startYear||2026,onChange:j=>m({...h,startYear:Number(j.target.value)}),min:2025,max:2030})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),s.jsx(xe,{type:"number",value:h.annualCostLoaded||5e4,onChange:j=>m({...h,annualCostLoaded:Number(j.target.value)}),step:1e3})]})]})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),s.jsx(ne,{onClick:p,children:"Sauvegarder"})]})]})})]})})}const YT=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],XT=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],VNe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],WNe=[0,.02,.03,.05,.07,.1,.15,.2],HNe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function qNe(){var k,A,$;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:o,saveAll:l}=rs(),[c,u]=w.useState(null),[d,f]=w.useState({}),{startYear:h,durationYears:m}=e.scenarioSettings,y=Array.from({length:m},(M,L)=>h+L),[g,p]=w.useState(h),v=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(L=>L.id===c?{...L,...d}:L);r(M),u(null),f({})}},_=()=>{u(null),f({})},j=y[0],S=y[y.length-1],C=((k=t.opexByYear.find(M=>M.year===j))==null?void 0:k.opex)||0,P=((A=t.opexByYear.find(M=>M.year===S))==null?void 0:A.opex)||0,N=(($=t.revenueByYear.find(M=>M.year===j))==null?void 0:$.revenue)||1,O=C/N,T=t.opexByYear.find(M=>M.year===g),E=T?YT.map((M,L)=>({name:M,value:T.byCategory[M]||0,color:VNe[L]})).filter(M=>M.value>0):[],R=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return s.jsx(is,{tabKey:"charges",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ff,{pageTitle:"Structure des Charges",sections:HNe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&s.jsxs(ne,{variant:"outline",size:"sm",onClick:v,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),s.jsx(Yd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Ke,{title:"Mode de Calcul",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>i("detailed"),className:ue("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(uH,{className:ue("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ue("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),s.jsxs("button",{onClick:()=>i("simple"),className:ue("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(lv,{className:ue("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ue("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&s.jsxs(Ke,{title:"Configuration Simplifie",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{children:["Montant OPEX annuel de base (",j,")"]}),s.jsx(xe,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>o({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"volution annuelle (%)"}),s.jsxs(lt,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>o({growthRate:Number(M)/100}),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:WNe.map(M=>s.jsxs(De,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),s.jsxs("div",{className:"mt-6 border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium",children:"OPEX Stratgiques"}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const M=[...e.simpleOpexConfig.strategicOpex||[]];M.push({id:`strat-${Date.now()}`,name:"Budget stratgique",amount:0}),o({strategicOpex:M})},children:[s.jsx(qt,{className:"h-3.5 w-3.5 mr-1"})," Ajouter"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lignes de budget additionnel qui s'ajoutent au montant de base et sont indexes par l'volution annuelle."}),(e.simpleOpexConfig.strategicOpex||[]).length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-3",children:"Aucun OPEX stratgique ajout."}):s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Libell"}),s.jsx(ce,{className:"text-right",children:"Montant annuel ()"}),s.jsx(ce,{className:"w-10"})]})}),s.jsxs(Yt,{children:[(e.simpleOpexConfig.strategicOpex||[]).map(M=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsx(xe,{value:M.name,onChange:L=>{const B=(e.simpleOpexConfig.strategicOpex||[]).map(z=>z.id===M.id?{...z,name:L.target.value}:z);o({strategicOpex:B})},className:"h-8 text-sm"})}),s.jsx(W,{children:s.jsx(xe,{type:"number",value:M.amount,onChange:L=>{const B=(e.simpleOpexConfig.strategicOpex||[]).map(z=>z.id===M.id?{...z,amount:Number(L.target.value)||0}:z);o({strategicOpex:B})},className:"h-8 text-sm font-mono-numbers text-right"})}),s.jsx(W,{children:s.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>{const L=(e.simpleOpexConfig.strategicOpex||[]).filter(B=>B.id!==M.id);o({strategicOpex:L})},children:s.jsx(nr,{className:"h-3.5 w-3.5"})})})]},M.id)),s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium",children:"Total stratgique"}),s.jsx(W,{className:"text-right font-mono-numbers font-medium",children:re((e.simpleOpexConfig.strategicOpex||[]).reduce((M,L)=>M+L.amount,0))}),s.jsx(W,{})]})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,L)=>{const B=(e.simpleOpexConfig.strategicOpex||[]).reduce((Q,ee)=>Q+ee.amount,0),z=(e.simpleOpexConfig.baseAmount+B)*Math.pow(1+e.simpleOpexConfig.growthRate,L);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:M}),s.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:re(z,!0)})]},M)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[s.jsx(Nt,{label:`OPEX ${j}`,value:re(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),s.jsx(Nt,{label:"Ratio OPEX / CA",value:rn(O),subValue:j.toString()}),s.jsx(Nt,{label:`OPEX ${S}`,value:re(P,!0),subValue:"Projection",trend:"up"}),s.jsx(Nt,{label:"Croissance OPEX",value:C>0?rn(P/C-1):"N/A",subValue:`${j}-${S}`})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ke,{title:"volution des Charges",id:"charges-chart",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:R,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:M=>`${M}k`}),s.jsx(Ct,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(Wt,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&E.length>0&&s.jsxs(Ke,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(lt,{value:g.toString(),onValueChange:M=>p(parseInt(M)),children:[s.jsx(st,{className:"w-24 h-8",children:s.jsx(ct,{})}),s.jsx(ot,{children:y.map(M=>s.jsx(De,{value:M.toString(),children:M},M))})]})}),s.jsx("div",{className:"h-56",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(RN,{children:[s.jsx(Pi,{data:E,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:E.map((M,L)=>s.jsx(el,{fill:M.color},`cell-${L}`))}),s.jsx(Ct,{formatter:M=>re(M)})]})})}),s.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",g,": ",s.jsx("span",{className:"font-mono-numbers font-medium",children:re((T==null?void 0:T.opex)||0,!0)})]})]}),e.opexMode==="simple"&&s.jsx(Ke,{title:"Rcapitulatif",id:"charges-breakdown",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),s.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:re(e.simpleOpexConfig.baseAmount,!0)})]}),(e.simpleOpexConfig.strategicOpex||[]).length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"+ OPEX Stratgiques"}),s.jsx("div",{className:"text-xl font-mono-numbers font-medium text-primary",children:re((e.simpleOpexConfig.strategicOpex||[]).reduce((M,L)=>M+L.amount,0),!0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),s.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&s.jsx(Ke,{title:"Dtail des Charges",id:"charges-table",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Charge"}),s.jsx(ce,{children:"Catgorie"}),s.jsx(ce,{children:"Type d'volution"}),s.jsx(ce,{className:"text-right",children:"Cot Base"}),s.jsx(ce,{children:"Paramtre"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:e.expenses.map(M=>{var L,B;return s.jsx(_e,{children:c===M.id?s.jsxs(s.Fragment,{children:[s.jsx(W,{children:s.jsx(xe,{value:d.name||"",onChange:z=>f({...d,name:z.target.value}),className:"h-8"})}),s.jsx(W,{children:s.jsxs(lt,{value:d.category,onValueChange:z=>f({...d,category:z}),children:[s.jsx(st,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsx(ot,{children:YT.map(z=>s.jsx(De,{value:z,children:z},z))})]})}),s.jsx(W,{children:s.jsxs(lt,{value:d.evolutionType,onValueChange:z=>f({...d,evolutionType:z}),children:[s.jsx(st,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsx(ot,{children:XT.map(z=>s.jsx(De,{value:z.value,children:z.label},z.value))})]})}),s.jsx(W,{children:s.jsx(xe,{type:"number",value:d.baseAnnualCost||0,onChange:z=>f({...d,baseAnnualCost:Number(z.target.value)}),className:"h-8 w-28 text-right"})}),s.jsxs(W,{children:[d.evolutionType==="growth_rate"&&s.jsx(xe,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:z=>f({...d,growthRate:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&s.jsx(xe,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:z=>f({...d,revenueRatio:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{size:"icon",variant:"ghost",onClick:b,children:s.jsx(Oo,{className:"h-4 w-4 text-accent"})}),s.jsx(ne,{size:"icon",variant:"ghost",onClick:_,children:s.jsx(_i,{className:"h-4 w-4 text-destructive"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&s.jsxs(_7,{children:[s.jsx(S7,{children:s.jsx(zh,{className:"h-3 w-3 text-muted-foreground"})}),s.jsx(WD,{children:s.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),s.jsx(W,{children:s.jsx(Pe,{variant:"outline",children:M.category})}),s.jsx(W,{children:s.jsx(Pe,{variant:"secondary",children:(L=XT.find(z=>z.value===M.evolutionType))==null?void 0:L.label})}),s.jsx(W,{className:"text-right font-mono-numbers",children:re(M.baseAnnualCost)}),s.jsxs(W,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${rn(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${rn(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((B=M.steps)==null?void 0:B.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>x(M),children:s.jsx(rC,{className:"h-4 w-4"})}),s.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:s.jsx(nr,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function KNe({clients:e,selectedId:t,onSelect:r,onRefresh:n}){const[a,i]=w.useState(""),o=e.filter(l=>l.company_name.toLowerCase().includes(a.toLowerCase())||(l.contact_email||"").toLowerCase().includes(a.toLowerCase())||(l.country||"").toLowerCase().includes(a.toLowerCase()));return s.jsxs(kt,{children:[s.jsxs(er,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(tr,{className:"text-lg",children:"Clients B2B"}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:n,children:s.jsx(yH,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(px,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(xe,{placeholder:"Rechercher...",value:a,onChange:l=>i(l.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsxs(Dt,{className:"space-y-1 max-h-[500px] overflow-y-auto",children:[o.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),o.map(l=>s.jsxs("button",{onClick:()=>r(l.id),className:ue("w-full text-left p-3 rounded-lg transition-colors",t===l.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium text-sm",children:l.company_name}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.country&&s.jsx("span",{children:l.country}),s.jsx(Pe,{variant:l.is_active?"default":"secondary",className:"text-[10px]",children:l.is_active?"Actif":"Inactif"})]})]},l.id))]})]})}var GNe="Separator",ZT="horizontal",YNe=["horizontal","vertical"],Oz=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=ZT,...a}=e,i=XNe(n)?n:ZT,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ve.div,{"data-orientation":i,...l,...a,ref:t})});Oz.displayName=GNe;function XNe(e){return YNe.includes(e)}var Tz=Oz;const Gl=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Tz,{ref:a,decorative:r,orientation:t,className:ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Gl.displayName=Tz.displayName;const Ha=w.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ha.displayName="Textarea";const QT={call:{label:"Appel",icon:gH,color:"bg-blue-500/10 text-blue-700"},email:{label:"Email",icon:rD,color:"bg-green-500/10 text-green-700"},meeting:{label:"RDV",icon:Hl,color:"bg-purple-500/10 text-purple-700"},note:{label:"Note",icon:Bo,color:"bg-amber-500/10 text-amber-700"}};function ZNe({interactions:e,customerId:t,onCreate:r}){const[n,a]=w.useState(!1),[i,o]=w.useState({interaction_type:"note",subject:"",content:"",interaction_date:new Date().toISOString().slice(0,16)}),l=async()=>{i.subject.trim()&&(await r({customer_id:t,interaction_type:i.interaction_type,subject:i.subject,content:i.content||void 0,interaction_date:i.interaction_date||void 0}),a(!1),o({interaction_type:"note",subject:"",content:"",interaction_date:new Date().toISOString().slice(0,16)}))};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Historique des interactions"}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>a(!0),children:[s.jsx(qt,{className:"h-3.5 w-3.5 mr-1"})," Ajouter"]})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune interaction enregistre."}):s.jsxs("div",{className:"relative space-y-0",children:[s.jsx("div",{className:"absolute left-[15px] top-2 bottom-2 w-px bg-border"}),e.map(c=>{const u=QT[c.interaction_type]||QT.note,d=u.icon;return s.jsxs("div",{className:"relative flex gap-3 py-2",children:[s.jsx("div",{className:`z-10 flex items-center justify-center h-8 w-8 rounded-full ${u.color} shrink-0`,children:s.jsx(d,{className:"h-3.5 w-3.5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm truncate",children:c.subject}),s.jsx(Pe,{variant:"outline",className:"text-[10px] shrink-0",children:u.label})]}),c.content&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:c.content}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(c.interaction_date).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},c.id)})]}),s.jsx(mr,{open:n,onOpenChange:a,children:s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Nouvelle interaction"})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsxs(lt,{value:i.interaction_type,onValueChange:c=>o(u=>({...u,interaction_type:c})),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"call",children:"Appel"}),s.jsx(De,{value:"email",children:"Email"}),s.jsx(De,{value:"meeting",children:"RDV"}),s.jsx(De,{value:"note",children:"Note"})]})]}),s.jsx(xe,{placeholder:"Sujet *",value:i.subject,onChange:c=>o(u=>({...u,subject:c.target.value}))}),s.jsx(Ha,{placeholder:"Commentaire",value:i.content,onChange:c=>o(u=>({...u,content:c.target.value})),rows:3}),s.jsx(xe,{type:"datetime-local",value:i.interaction_date,onChange:c=>o(u=>({...u,interaction_date:c.target.value}))})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>a(!1),children:"Annuler"}),s.jsx(ne,{onClick:l,disabled:!i.subject.trim(),children:"Ajouter"})]})]})})]})}const Ry=[{key:"prospect",label:"Prospect",color:"bg-muted"},{key:"contacted",label:"Contact",color:"bg-blue-500/10"},{key:"discussion",label:"En discussion",color:"bg-amber-500/10"},{key:"offer_sent",label:"Offre envoye",color:"bg-purple-500/10"},{key:"negotiation",label:"Ngociation",color:"bg-orange-500/10"},{key:"won",label:"Gagn",color:"bg-green-500/10"},{key:"lost",label:"Perdu",color:"bg-destructive/10"}];function Rz(){const{toast:e}=ZS(),{user:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]),[y,g]=w.useState(!0),p=w.useCallback(async()=>{if(!t){g(!1);return}try{g(!0);const[N,O,T,E]=await Promise.all([pe.from("customers").select("*").order("company_name"),pe.from("customer_orders").select("*").order("order_date",{ascending:!1}),pe.from("customer_opportunities").select("*").order("sort_order"),pe.from("customer_interactions").select("*").order("interaction_date",{ascending:!1})]);N.data&&n(N.data),O.data&&u(O.data),T.data&&l(T.data),E.data&&i(E.data)}catch{}finally{g(!1)}},[t]);w.useEffect(()=>{p()},[p]);const v=w.useCallback(async N=>{if(!t)return null;try{const{data:O,error:T}=await pe.from("customers").insert({...N,user_id:t.id}).select().single();if(T)throw T;const E=O;return n(R=>[...R,E].sort((k,A)=>k.company_name.localeCompare(A.company_name))),e({title:"Client cr",description:`${E.company_name} ajout.`}),E}catch{return e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),x=w.useCallback(async(N,O)=>{if(!t)return!1;try{const{error:T}=await pe.from("customers").update(O).eq("id",N);if(T)throw T;return n(E=>E.map(R=>R.id===N?{...R,...O,updated_at:new Date().toISOString()}:R)),!0}catch{return e({title:"Erreur",description:"Impossible de mettre  jour.",variant:"destructive"}),!1}},[t,e]),b=w.useCallback(async N=>{if(!t)return!1;try{const{error:O}=await pe.from("customers").delete().eq("id",N);if(O)throw O;return n(T=>T.filter(E=>E.id!==N)),e({title:"Client supprim"}),!0}catch{return e({title:"Erreur",variant:"destructive"}),!1}},[t,e]),_=w.useCallback(async N=>{if(!t)return null;try{const{data:O,error:T}=await pe.from("customer_opportunities").insert({...N,user_id:t.id}).select().single();if(T)throw T;const E=O;return l(R=>[...R,E]),e({title:"Opportunit cre"}),E}catch{return e({title:"Erreur",variant:"destructive"}),null}},[t,e]),j=w.useCallback(async(N,O)=>{if(!t)return!1;try{const{error:T}=await pe.from("customer_opportunities").update(O).eq("id",N);if(T)throw T;return l(E=>E.map(R=>R.id===N?{...R,...O}:R)),!0}catch{return e({title:"Erreur",variant:"destructive"}),!1}},[t,e]),S=w.useCallback(async N=>{if(!t)return!1;try{const{error:O}=await pe.from("customer_opportunities").delete().eq("id",N);if(O)throw O;return l(T=>T.filter(E=>E.id!==N)),!0}catch{return!1}},[t]),C=w.useCallback(async N=>{if(!t)return null;try{const{data:O,error:T}=await pe.from("customer_interactions").insert({...N,user_id:t.id}).select().single();if(T)throw T;const E=O;return i(R=>[E,...R]),await pe.from("customers").update({last_interaction_date:E.interaction_date}).eq("id",N.customer_id),n(R=>R.map(k=>k.id===N.customer_id?{...k,last_interaction_date:E.interaction_date}:k)),e({title:"Interaction ajoute"}),E}catch{return e({title:"Erreur",variant:"destructive"}),null}},[t,e]),P=w.useCallback(async N=>{if(!t)return null;try{const{data:O,error:T}=await pe.from("customer_orders").insert({...N,user_id:t.id}).select().single();if(T)throw T;const E=O;return u(R=>[E,...R]),e({title:"Commande cre"}),E}catch{return e({title:"Erreur",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:d,orders:c,opportunities:o,pricingTiers:h,isLoading:y,refreshData:p,createCustomer:v,updateCustomer:x,deleteCustomer:b,createOrder:P,createOpportunity:_,updateOpportunity:j,deleteOpportunity:S,createInteraction:C,getCustomerInteractions:N=>a.filter(O=>O.customer_id===N),getCustomerAppointments:N=>d.filter(O=>O.customer_id===N),getCustomerOrders:N=>c.filter(O=>O.customer_id===N),getCustomerOpportunities:N=>o.filter(O=>O.customer_id===N)}}function QNe({client:e,interactions:t,opportunities:r,onCreateInteraction:n}){const a=r.length>0?Ry.find(i=>i.key===r[0].stage):null;return s.jsxs(kt,{children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center justify-between",children:[s.jsx("span",{children:e.company_name}),s.jsxs("div",{className:"flex items-center gap-2",children:[a&&s.jsx(Pe,{variant:"outline",children:a.label}),s.jsx(Pe,{variant:e.is_active?"default":"secondary",children:e.is_active?"Actif":"Inactif"})]})]})}),s.jsxs(Dt,{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(rD,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"ml-1",children:e.contact_email||"-"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(aH,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Pays:"}),s.jsx("span",{className:"ml-1",children:e.country||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Zone:"}),s.jsx("span",{className:"ml-2",children:e.geographic_zone||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"ml-2",children:e.client_type||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tarification:"}),s.jsx("span",{className:"ml-2",children:e.pricing_rule||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Paiement:"}),s.jsx("span",{className:"ml-2",children:e.payment_terms||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Livraison:"}),s.jsx("span",{className:"ml-2",children:e.delivery_method||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"MOQ:"}),s.jsx("span",{className:"ml-2",children:e.moq||"-"})]}),e.contract_sign_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Contrat sign:"}),s.jsx("span",{className:"ml-2",children:new Date(e.contract_sign_date).toLocaleDateString("fr-FR")})]}),e.contract_exclusivity&&s.jsx("div",{children:s.jsx(Pe,{variant:"outline",className:"text-[10px]",children:"Exclusivit"})})]}),e.notes&&s.jsxs(s.Fragment,{children:[s.jsx(Gl,{}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[s.jsx(Bo,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Notes"})]}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.notes})]})]}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Gl,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Opportunits (",r.length,")"]}),s.jsx("div",{className:"space-y-1",children:r.map(i=>{const o=Ry.find(l=>l.key===i.stage);return s.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/30 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"outline",className:"text-[10px]",children:(o==null?void 0:o.label)||i.stage}),i.contact_name&&s.jsx("span",{className:"text-muted-foreground",children:i.contact_name})]}),s.jsxs("span",{className:"font-mono text-xs",children:[(i.estimated_amount||0).toLocaleString("fr-FR"),"   ",i.probability,"%"]})]},i.id)})})]})]}),s.jsx(Gl,{}),s.jsx(ZNe,{interactions:t,customerId:e.id,onCreate:n})]})]})}function JNe({opportunities:e,customers:t,onCreateOpportunity:r,onUpdateOpportunity:n,onDeleteOpportunity:a}){var _;const[i,o]=w.useState(!1),[l,c]=w.useState("prospect"),[u,d]=w.useState({customer_id:"",contact_name:"",estimated_amount:"",probability:"50",expected_close_date:"",responsible:""}),f=w.useRef(null),[h,m]=w.useState(null),y=j=>{f.current=j},g=(j,S)=>{j.preventDefault(),m(S)},p=()=>{m(null)},v=async j=>{m(null),f.current&&(await n(f.current,{stage:j}),f.current=null)},x=async()=>{u.customer_id&&(await r({customer_id:u.customer_id,stage:l,contact_name:u.contact_name||null,estimated_amount:Number(u.estimated_amount)||0,probability:Number(u.probability)||0,expected_close_date:u.expected_close_date||null,responsible:u.responsible||null}),o(!1),d({customer_id:"",contact_name:"",estimated_amount:"",probability:"50",expected_close_date:"",responsible:""}))},b=j=>{c(j),o(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4",style:{minHeight:400},children:Ry.map(j=>{const S=e.filter(P=>P.stage===j.key),C=S.reduce((P,N)=>P+(N.estimated_amount||0),0);return s.jsxs("div",{className:ue("flex-shrink-0 w-[220px] rounded-xl border p-3 transition-colors",j.color,h===j.key&&"ring-2 ring-primary"),onDragOver:P=>g(P,j.key),onDragLeave:p,onDrop:()=>v(j.key),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:j.label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[S.length,"  ",re(C,!0)]})]}),s.jsx(ne,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(j.key),children:s.jsx(qt,{className:"h-3.5 w-3.5"})})]}),s.jsx("div",{className:"space-y-2",children:S.map(P=>{const N=t.find(O=>O.id===P.customer_id);return s.jsx(kt,{draggable:!0,onDragStart:()=>y(P.id),className:"cursor-grab active:cursor-grabbing shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(Dt,{className:"p-3 space-y-1.5",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(sH,{className:"h-3 w-3 text-muted-foreground/50"}),s.jsx("span",{className:"font-medium text-xs",children:(N==null?void 0:N.company_name)||"?"})]}),s.jsx(ne,{size:"icon",variant:"ghost",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>a(P.id),children:s.jsx(nr,{className:"h-3 w-3"})})]}),P.contact_name&&s.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-muted-foreground",children:[s.jsx(jH,{className:"h-3 w-3"})," ",P.contact_name]}),s.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[s.jsx("span",{className:"font-mono-numbers font-medium",children:re(P.estimated_amount,!0)}),s.jsxs(Pe,{variant:"outline",className:"text-[10px]",children:[P.probability,"%"]})]}),P.expected_close_date&&s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[s.jsx(Hl,{className:"h-3 w-3"})," ",new Date(P.expected_close_date).toLocaleDateString("fr-FR")]}),P.responsible&&s.jsx("div",{className:"text-[10px] text-muted-foreground",children:P.responsible})]})},P.id)})})]},j.key)})}),s.jsx(mr,{open:i,onOpenChange:o,children:s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsxs(sr,{children:["Nouvelle Opportunit  ",(_=Ry.find(j=>j.key===l))==null?void 0:_.label]})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsxs(lt,{value:u.customer_id,onValueChange:j=>d(S=>({...S,customer_id:j})),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Client *"})}),s.jsx(ot,{children:t.map(j=>s.jsx(De,{value:j.id,children:j.company_name},j.id))})]}),s.jsx(xe,{placeholder:"Contact",value:u.contact_name,onChange:j=>d(S=>({...S,contact_name:j.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(xe,{type:"number",placeholder:"Montant estim ()",value:u.estimated_amount,onChange:j=>d(S=>({...S,estimated_amount:j.target.value}))}),s.jsx(xe,{type:"number",placeholder:"Probabilit (%)",value:u.probability,onChange:j=>d(S=>({...S,probability:j.target.value}))})]}),s.jsx(xe,{type:"date",placeholder:"Date conclusion",value:u.expected_close_date,onChange:j=>d(S=>({...S,expected_close_date:j.target.value}))}),s.jsx(xe,{placeholder:"Responsable",value:u.responsible,onChange:j=>d(S=>({...S,responsible:j.target.value}))})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsx(ne,{onClick:x,disabled:!u.customer_id,children:"Crer"})]})]})})]})}var L0="Switch",[ePe,L2e]=Yn(L0),[tPe,rPe]=ePe(L0),Mz=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),y=dt(t,b=>m(b)),g=w.useRef(!1),p=h?d||!!h.closest("form"):!0,[v,x]=ia({prop:a,defaultProp:i??!1,onChange:u,caller:L0});return s.jsxs(tPe,{scope:r,checked:v,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Lz(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Oe(e.onClick,b=>{x(_=>!_),p&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),p&&s.jsx(Dz,{control:h,bubbles:!g.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Mz.displayName=L0;var $z="SwitchThumb",Iz=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=rPe($z,r);return s.jsx(Ve.span,{"data-state":Lz(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Iz.displayName=$z;var nPe="SwitchBubbleInput",Dz=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=w.useRef(null),l=dt(o,i),c=Ex(r),u=xx(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dz.displayName=nPe;function Lz(e){return e?"checked":"unchecked"}var Bz=Mz,aPe=Iz;const B0=w.forwardRef(({className:e,...t},r)=>s.jsx(Bz,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(aPe,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));B0.displayName=Bz.displayName;var Fz="AlertDialog",[iPe,B2e]=Yn(Fz,[dz]),Ws=dz(),zz=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ws(t);return s.jsx(Pz,{...n,...r,modal:!0})};zz.displayName=Fz;var sPe="AlertDialogTrigger",Uz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ws(r);return s.jsx(kz,{...a,...n,ref:t})});Uz.displayName=sPe;var oPe="AlertDialogPortal",Vz=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ws(t);return s.jsx(Ez,{...n,...r})};Vz.displayName=oPe;var lPe="AlertDialogOverlay",Wz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ws(r);return s.jsx(VN,{...a,...n,ref:t})});Wz.displayName=lPe;var Nu="AlertDialogContent",[cPe,uPe]=iPe(Nu),dPe=yI("AlertDialogContent"),Hz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ws(r),o=w.useRef(null),l=dt(t,o),c=w.useRef(null);return s.jsx(RNe,{contentName:Nu,titleName:qz,docsSlug:"alert-dialog",children:s.jsx(cPe,{scope:r,cancelRef:c,children:s.jsxs(WN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Oe(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(dPe,{children:n}),s.jsx(hPe,{contentRef:o})]})})})});Hz.displayName=Nu;var qz="AlertDialogTitle",Kz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ws(r);return s.jsx(HN,{...a,...n,ref:t})});Kz.displayName=qz;var Gz="AlertDialogDescription",Yz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ws(r);return s.jsx(qN,{...a,...n,ref:t})});Yz.displayName=Gz;var fPe="AlertDialogAction",Xz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ws(r);return s.jsx(KN,{...a,...n,ref:t})});Xz.displayName=fPe;var Zz="AlertDialogCancel",Qz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=uPe(Zz,r),i=Ws(r),o=dt(t,a);return s.jsx(KN,{...i,...n,ref:o})});Qz.displayName=Zz;var hPe=({contentRef:e})=>{const t=`\`${Nu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nu}\` by passing a \`${Gz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mPe=zz,pPe=Uz,gPe=Vz,Jz=Wz,eU=Hz,tU=Xz,rU=Qz,nU=Kz,aU=Yz;const My=mPe,JT=pPe,vPe=gPe,iU=w.forwardRef(({className:e,...t},r)=>s.jsx(Jz,{className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iU.displayName=Jz.displayName;const Lm=w.forwardRef(({className:e,...t},r)=>s.jsxs(vPe,{children:[s.jsx(iU,{}),s.jsx(eU,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Lm.displayName=eU.displayName;const Bm=({className:e,...t})=>s.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});Bm.displayName="AlertDialogHeader";const Fm=({className:e,...t})=>s.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fm.displayName="AlertDialogFooter";const zm=w.forwardRef(({className:e,...t},r)=>s.jsx(nU,{ref:r,className:ue("text-lg font-semibold",e),...t}));zm.displayName=nU.displayName;const Um=w.forwardRef(({className:e,...t},r)=>s.jsx(aU,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));Um.displayName=aU.displayName;const Vm=w.forwardRef(({className:e,...t},r)=>s.jsx(tU,{ref:r,className:ue(SC(),e),...t}));Vm.displayName=tU.displayName;const Wm=w.forwardRef(({className:e,...t},r)=>s.jsx(rU,{ref:r,className:ue(SC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Wm.displayName=rU.displayName;var F0="Popover",[sU,F2e]=Yn(F0,[zd]),gp=zd(),[yPe,ol]=sU(F0),oU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=gp(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=ia({prop:n,defaultProp:a??!1,onChange:i,caller:F0});return s.jsx(mC,{...l,children:s.jsx(yPe,{scope:t,contentId:Ki(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};oU.displayName=F0;var lU="PopoverAnchor",xPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(lU,r),i=gp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(bx,{...i,...n,ref:t})});xPe.displayName=lU;var cU="PopoverTrigger",uU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(cU,r),i=gp(r),o=dt(t,a.triggerRef),l=s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pU(a.open),...n,ref:o,onClick:Oe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(bx,{asChild:!0,...i,children:l})});uU.displayName=cU;var GN="PopoverPortal",[bPe,wPe]=sU(GN,{forceMount:void 0}),dU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ol(GN,t);return s.jsx(bPe,{scope:t,forceMount:r,children:s.jsx(sa,{present:r||i.open,children:s.jsx(tp,{asChild:!0,container:a,children:n})})})};dU.displayName=GN;var Cd="PopoverContent",fU=w.forwardRef((e,t)=>{const r=wPe(Cd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ol(Cd,e.__scopePopover);return s.jsx(sa,{present:n||i.open,children:i.modal?s.jsx(_Pe,{...a,ref:t}):s.jsx(SPe,{...a,ref:t})})});fU.displayName=Cd;var jPe=ec("PopoverContent.RemoveScroll"),_Pe=w.forwardRef((e,t)=>{const r=ol(Cd,e.__scopePopover),n=w.useRef(null),a=dt(t,n),i=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return $N(o)},[]),s.jsx(O0,{as:jPe,allowPinchZoom:!0,children:s.jsx(hU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),SPe=w.forwardRef((e,t)=>{const r=ol(Cd,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(hU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),hU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ol(Cd,r),m=gp(r);return MN(),s.jsx(E0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($d,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(pC,{"data-state":pU(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mU="PopoverClose",CPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(mU,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Oe(e.onClick,()=>a.onOpenChange(!1))})});CPe.displayName=mU;var NPe="PopoverArrow",PPe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=gp(r);return s.jsx(gC,{...a,...n,ref:t})});PPe.displayName=NPe;function pU(e){return e?"open":"closed"}var kPe=oU,EPe=uU,APe=dU,gU=fU;const YN=kPe,XN=EPe,z0=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(APe,{children:s.jsx(gU,{ref:a,align:t,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));z0.displayName=gU.displayName;var U0="Checkbox",[OPe,z2e]=Yn(U0),[TPe,ZN]=OPe(U0);function RPe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=ia({prop:r,defaultProp:a??!1,onChange:c,caller:U0}),[y,g]=w.useState(null),[p,v]=w.useState(null),x=w.useRef(!1),b=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:$o(a)?!1:a,isFormControl:b,bubbleInput:p,setBubbleInput:v};return s.jsx(TPe,{scope:t,..._,children:MPe(f)?f(_):n})}var vU="CheckboxTrigger",yU=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=ZN(vU,e),g=dt(a,d),p=w.useRef(c);return w.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>f(p.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,f]),s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":$o(c)?"mixed":c,"aria-required":u,"data-state":_U(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Oe(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Oe(r,v=>{f(x=>$o(x)?!0:!x),y&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});yU.displayName=vU;var QN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(RPe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(yU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(jU,{__scopeCheckbox:r})]})})});QN.displayName=U0;var xU="CheckboxIndicator",bU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=ZN(xU,r);return s.jsx(sa,{present:n||$o(i.checked)||i.checked===!0,children:s.jsx(Ve.span,{"data-state":_U(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bU.displayName=xU;var wU="CheckboxBubbleInput",jU=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=ZN(wU,e),y=dt(r,m),g=Ex(i),p=xx(n);w.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(g!==i&&j){const C=new Event("click",{bubbles:S});x.indeterminate=$o(i),j.call(x,$o(i)?!1:i),x.dispatchEvent(C)}},[h,g,i,a]);const v=w.useRef($o(i)?!1:i);return s.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jU.displayName=wU;function MPe(e){return typeof e=="function"}function $o(e){return e==="indeterminate"}function _U(e){return $o(e)?"indeterminate":e?"checked":"unchecked"}const Fa=w.forwardRef(({className:e,...t},r)=>s.jsx(QN,{ref:r,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(bU,{className:ue("flex items-center justify-center text-current"),children:s.jsx(Oo,{className:"h-4 w-4"})})}));Fa.displayName=QN.displayName;function _w(e){const t=e.toUpperCase();if(t.length!==2)return"";const r=127397;return String.fromCodePoint(t.charCodeAt(0)+r,t.charCodeAt(1)+r)}const Sw={france:"FR",allemagne:"DE",espagne:"ES",italie:"IT","royaume-uni":"GB",angleterre:"GB","tats-unis":"US","etats-unis":"US",belgique:"BE",suisse:"CH","pays-bas":"NL",hollande:"NL",portugal:"PT",autriche:"AT",japon:"JP",chine:"CN",australie:"AU",brsil:"BR",bresil:"BR",mexique:"MX",inde:"IN","core du sud":"KR","coree du sud":"KR",core:"KR",coree:"KR",danemark:"DK",sude:"SE",suede:"SE",norvge:"NO",norvege:"NO",finlande:"FI",pologne:"PL",irlande:"IE",grce:"GR",grece:"GR",luxembourg:"LU",monaco:"MC",taiwan:"TW",tawan:"TW",singapour:"SG","mirats arabes unis":"AE","emirats arabes unis":"AE",isral:"IL",israel:"IL",turquie:"TR",maroc:"MA",tunisie:"TN","afrique du sud":"ZA",roumanie:"RO",hongrie:"HU",tchquie:"CZ",tchequie:"CZ","rpublique tchque":"CZ","republique tcheque":"CZ","nouvelle-zlande":"NZ","nouvelle-zelande":"NZ",canada:"CA",qatar:"QA","arabie saoudite":"SA",kowet:"KW",koweit:"KW",bahren:"BH",bahrein:"BH",oman:"OM",liban:"LB",jordanie:"JO",gypte:"EG",egypte:"EG",algrie:"DZ",algerie:"DZ",sngal:"SN",senegal:"SN","cte d'ivoire":"CI","cote d'ivoire":"CI",cameroun:"CM",nigeria:"NG",kenya:"KE",ghana:"GH",colombie:"CO",argentine:"AR",chili:"CL",prou:"PE",perou:"PE",venezuela:"VE",uruguay:"UY",paraguay:"PY",equateur:"EC",quateur:"EC",bolivie:"BO","costa rica":"CR",panama:"PA",cuba:"CU",thalande:"TH",thailande:"TH",vietnam:"VN","vit nam":"VN",malaisie:"MY",indonsie:"ID",indonesie:"ID",philippines:"PH",pakistan:"PK",bangladesh:"BD","sri lanka":"LK",npal:"NP",nepal:"NP",russie:"RU",ukraine:"UA",bilorussie:"BY",bielorussie:"BY",gorgie:"GE",georgie:"GE",armnie:"AM",armenie:"AM",azerbadjan:"AZ",azerbaidjan:"AZ",kazakhstan:"KZ",croatie:"HR",serbie:"RS",slovnie:"SI",slovenie:"SI",slovaquie:"SK",bulgarie:"BG",lituanie:"LT",lettonie:"LV",estonie:"EE",malte:"MT",chypre:"CY",islande:"IS",albanie:"AL","macdoine du nord":"MK","macedoine du nord":"MK",montngro:"ME",montenegro:"ME",bosnie:"BA","bosnie-herzgovine":"BA",moldavie:"MD",andorre:"AD",liechtenstein:"LI","saint-marin":"SM",germany:"DE",spain:"ES",italy:"IT","united kingdom":"GB","united states":"US",belgium:"BE",switzerland:"CH",netherlands:"NL",austria:"AT",japan:"JP",china:"CN",australia:"AU",brazil:"BR",mexico:"MX",india:"IN","south korea":"KR",denmark:"DK",sweden:"SE",norway:"NO",finland:"FI",poland:"PL",ireland:"IE",greece:"GR",singapore:"SG",turkey:"TR",morocco:"MA",tunisia:"TN","south africa":"ZA",romania:"RO",hungary:"HU","czech republic":"CZ",czechia:"CZ","new zealand":"NZ","saudi arabia":"SA",kuwait:"KW",bahrain:"BH",jordan:"JO",egypt:"EG",algeria:"DZ","ivory coast":"CI",cameroon:"CM",colombia:"CO",argentina:"AR",chile:"CL",peru:"PE",thailand:"TH",malaysia:"MY",indonesia:"ID",russia:"RU",croatia:"HR",serbia:"RS",slovenia:"SI",slovakia:"SK",bulgaria:"BG",lithuania:"LT",latvia:"LV",estonia:"EE",malta:"MT",cyprus:"CY",iceland:"IS",bosnia:"BA",moldova:"MD",andorra:"AD"};function eR(e){if(!e)return"";const t=e.trim(),r=t.toLowerCase();if(Sw[r])return _w(Sw[r]);if(/^[a-zA-Z]{2}$/.test(t))return _w(t);for(const[n,a]of Object.entries(Sw))if(r.includes(n)||n.includes(r))return _w(a);return""}const $Pe=["Actif","Clients B2B","Pays","Zone Gographique","Mail du contact","Date d'EER","Date dernier achat","Type de Client","Pricing rules","Delais de paiement","Modalits de livraison","Rgles transport","Frais de livraison","Contrat/Exclusivit","MOQ","Avantages Spcifiques"];function IPe({open:e,onOpenChange:t,onImport:r}){const[n,a]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!1),u=f=>{var y,g,p,v,x,b,_,j,S,C,P,N;const h=f.trim().split(`
`).filter(O=>O.trim()),m=[];for(const O of h){const T=O.split("	");T.length<2||m.push({is_active:(T[0]||"").toLowerCase().includes("oui"),company_name:((y=T[1])==null?void 0:y.trim())||"Sans nom",country:((g=T[2])==null?void 0:g.trim())||null,geographic_zone:((p=T[3])==null?void 0:p.trim())||null,contact_email:((v=T[4])==null?void 0:v.trim())||null,eer_date:parseInt(T[5])||null,last_purchase_date:parseInt(T[6])||null,client_type:((x=T[7])==null?void 0:x.trim())||null,pricing_rule:((b=T[8])==null?void 0:b.trim())||null,payment_terms:((_=T[9])==null?void 0:_.trim())||null,delivery_method:((j=T[10])==null?void 0:j.trim())||null,transport_rules:((S=T[11])==null?void 0:S.trim())||null,delivery_fee_rule:((C=T[12])==null?void 0:C.trim())||null,contract_exclusivity:(T[13]||"").toLowerCase().includes("oui"),moq:((P=T[14])==null?void 0:P.trim())||null,specific_advantages:((N=T[15])==null?void 0:N.trim())||null})}o(m)},d=async()=>{c(!0);const f=await r(i);c(!1),f>0&&(a(""),o([]),t(!1))};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(ar,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsx(ir,{children:s.jsx(sr,{children:"Import Clients B2B (copier-coller)"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Collez les lignes depuis Excel/Google Sheets (spares par tabulations). Colonnes attendues :"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:$Pe.map((f,h)=>s.jsx(Pe,{variant:"outline",className:"text-[10px]",children:f},h))}),s.jsx(Ha,{placeholder:"Collez vos lignes ici...",rows:6,value:n,onChange:f=>{a(f.target.value),u(f.target.value)}}),i.length>0&&s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:[i.length," client(s) dtect(s) :"]}),s.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:i.map((f,h)=>s.jsxs("div",{className:"text-xs flex gap-2 items-center",children:[s.jsx(Pe,{variant:f.is_active?"default":"secondary",className:"text-[9px]",children:f.is_active?"Actif":"Inactif"}),s.jsx("span",{className:"font-medium",children:f.company_name}),s.jsx("span",{className:"text-muted-foreground",children:f.country}),s.jsx("span",{className:"text-muted-foreground",children:f.client_type})]},h))})]})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(ne,{onClick:d,disabled:i.length===0||l,children:l?"Import...":`Importer ${i.length} client(s)`})]})]})})}function DPe({deliveryFeeTiers:e,paymentTermsOptions:t,deliveryMethods:r,onAddDeliveryFee:n,onDeleteDeliveryFee:a,onAddPaymentTerm:i,onDeletePaymentTerm:o,onAddDeliveryMethod:l,onDeleteDeliveryMethod:c}){const[u,d]=w.useState(""),[f,h]=w.useState(""),[m,y]=w.useState(""),[g,p]=w.useState(""),[v,x]=w.useState(""),[b,_]=w.useState("");return s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(kt,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm",children:"Frais de livraison (tranches)"})}),s.jsxs(Dt,{className:"space-y-2",children:[e.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsxs("span",{children:[j.label,"  ",j.fee_amount," (",j.min_pieces,j.max_pieces?`-${j.max_pieces}`:"+"," pcs)"]}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>a(j.id),children:s.jsx(nr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[s.jsx(xe,{placeholder:"Label",value:u,onChange:j=>d(j.target.value),className:"text-xs h-8"}),s.jsx(xe,{placeholder:"",type:"number",value:f,onChange:j=>h(j.target.value),className:"text-xs h-8"}),s.jsx(xe,{placeholder:"Min",type:"number",value:m,onChange:j=>y(j.target.value),className:"text-xs h-8"}),s.jsx(xe,{placeholder:"Max",type:"number",value:g,onChange:j=>p(j.target.value),className:"text-xs h-8"})]}),s.jsxs(ne,{size:"sm",className:"w-full",variant:"outline",disabled:!u,onClick:async()=>{await n(u,parseFloat(f)||0,parseInt(m)||0,g?parseInt(g):null),d(""),h(""),y(""),p("")},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm",children:"Dlais de paiement"})}),s.jsxs(Dt,{className:"space-y-2",children:[t.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:j.label}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>o(j.id),children:s.jsx(nr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(xe,{placeholder:"Ex: 30 jours fin de mois",value:v,onChange:j=>x(j.target.value),className:"text-xs h-8"}),s.jsx(ne,{size:"sm",variant:"outline",disabled:!v,onClick:async()=>{await i(v),x("")},children:s.jsx(qt,{className:"h-3 w-3"})})]})]})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm",children:"Modalits de livraison"})}),s.jsxs(Dt,{className:"space-y-2",children:[r.map(j=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:j.label}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>c(j.id),children:s.jsx(nr,{className:"h-3 w-3"})})]},j.id)),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(xe,{placeholder:"Ex: DHL, TNT...",value:b,onChange:j=>_(j.target.value),className:"text-xs h-8"}),s.jsx(ne,{size:"sm",variant:"outline",disabled:!b,onClick:async()=>{await l(b),_("")},children:s.jsx(qt,{className:"h-3 w-3"})})]})]})]})]})}const LPe=[{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}];function SU(){const[e,t]=w.useState(LPe),[r,n]=w.useState("from_public"),[a,i]=w.useState("default-b2b"),[o,l]=w.useState({}),[c,u]=w.useState({}),[d,f]=w.useState(!1);w.useEffect(()=>{(async()=>{var v,x,b,_,j;const{data:{user:g}}=await pe.auth.getUser();if(!g){f(!0);return}const{data:p}=await pe.from("pricing_config").select("config_data").eq("user_id",g.id).maybeSingle();if(p!=null&&p.config_data){const S=p.config_data;if((v=S.salesRules)!=null&&v.length&&t(S.salesRules),S.pricingMode&&n(S.pricingMode),S.activeRuleId&&i(S.activeRuleId),S.editedPrices){const C=Object.keys(S.editedPrices)[0];if(C&&typeof S.editedPrices[C]=="object"&&!Array.isArray(S.editedPrices[C]))l(S.editedPrices);else if(C&&typeof S.editedPrices[C]=="number"){const P=S.activeRuleId||((b=(x=S.salesRules)==null?void 0:x[0])==null?void 0:b.id)||"default-b2b";l({[P]:S.editedPrices})}}if(S.editedOurPrices){const C=Object.keys(S.editedOurPrices)[0];if(C&&typeof S.editedOurPrices[C]=="object"&&!Array.isArray(S.editedOurPrices[C]))u(S.editedOurPrices);else if(C&&typeof S.editedOurPrices[C]=="number"){const P=S.activeRuleId||((j=(_=S.salesRules)==null?void 0:_[0])==null?void 0:j.id)||"default-b2b";u({[P]:S.editedOurPrices})}}}f(!0)})()},[]);const h=w.useCallback((y,g)=>{const v=o[g||a]||{};return v[y.id]!==void 0?v[y.id]:y.price_ttc},[o,a]),m=w.useCallback((y,g)=>{if(!g||y<=0)return null;const p=g.tvaRate??20;let x=y/(1+p/100);const b=[...g.intermediaries].reverse();for(const _ of b)x=x/_.coefficient;return{ourB2BPrice:x}},[]);return{salesRules:e,pricingMode:r,activeRuleId:a,editedPrices:o,editedOurPrices:c,loaded:d,getEffectivePrice:h,computeChainFromPublicTTC:m}}const Cw=[2022,2023,2024,2025],Nw=[{key:"is_active",label:"Actif",minWidth:"50px",canHide:!0},{key:"company_name",label:"Client",minWidth:"130px",canHide:!1},{key:"country",label:"Pays",minWidth:"80px",canHide:!0},{key:"geographic_zone",label:"Zone Go",minWidth:"80px",canHide:!0},{key:"contact_email",label:"Mail contact",minWidth:"140px",canHide:!0},{key:"pricing_rule",label:"Pricing",minWidth:"100px",canHide:!0},{key:"payment_terms",label:"Dlai paie.",minWidth:"90px",canHide:!0},{key:"delivery_method",label:"Livraison",minWidth:"80px",canHide:!0},{key:"delivery_fee_rule",label:"Frais liv.",minWidth:"80px",canHide:!0},{key:"moq",label:"MOQ",minWidth:"60px",canHide:!0},{key:"ca_2022",label:"CA 2022",minWidth:"80px",canHide:!0},{key:"ca_2023",label:"CA 2023",minWidth:"80px",canHide:!0},{key:"ca_2024",label:"CA 2024",minWidth:"80px",canHide:!0},{key:"ca_2025",label:"CA 2025",minWidth:"80px",canHide:!0},{key:"category",label:"Catgorie",minWidth:"90px",canHide:!0},{key:"actions",label:"Actions",minWidth:"70px",canHide:!1}];function Mc({value:e,onSave:t,type:r="text",className:n=""}){const[a,i]=w.useState(!1),[o,l]=w.useState(e),c=w.useRef(null);if(w.useEffect(()=>{var d;a&&((d=c.current)==null||d.focus())},[a]),w.useEffect(()=>{l(e)},[e]),!a)return s.jsx("span",{className:`cursor-pointer hover:bg-accent/40 px-1 py-0.5 rounded transition-colors inline-block min-w-[2rem] ${n}`,onClick:()=>i(!0),title:"Cliquer pour modifier",children:e||""});const u=()=>{i(!1),o!==e&&t(o)};return s.jsx(xe,{ref:c,className:"h-7 text-xs w-full",type:r,value:o,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&u(),d.key==="Escape"&&(l(e),i(!1))}})}function If({value:e,options:t,onSave:r,placeholder:n=""}){return s.jsxs(lt,{value:e||"none",onValueChange:a=>r(a==="none"?"":a),children:[s.jsx(st,{className:"h-7 text-xs w-full border-dashed",children:s.jsx(ct,{placeholder:n})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:n}),t.map(a=>s.jsx(De,{value:a,children:a},a))]})]})}function BPe({clients:e,projections:t,deliveryFeeTiers:r,paymentTermsOptions:n,deliveryMethods:a,categories:i,onUpsertClient:o,onDeleteClient:l,onBulkImport:c,onUpsertProjection:u,getClientProjections:d,onAddDeliveryFee:f,onDeleteDeliveryFee:h,onAddPaymentTerm:m,onDeletePaymentTerm:y,onAddDeliveryMethod:g,onDeleteDeliveryMethod:p,onAddCategory:v,onDeleteCategory:x,onUpdateCategory:b}){var oe;const[_,j]=w.useState(!1),[S,C]=w.useState(!1),[P,N]=w.useState(!1),[O,T]=w.useState(new Set),[E,R]=w.useState(""),[k,A]=w.useState(!1),[$,M]=w.useState(null),[L,B]=w.useState(new Set),{salesRules:z}=SU(),[Q,ee]=w.useState({company_name:"",country:"",geographic_zone:"",contact_email:"",eer_date:"",client_type:"",pricing_rule:"",payment_terms:"",delivery_method:"",delivery_fee_rule:"",moq:"",category_id:""}),se=Nw.filter(K=>!L.has(K.key)),U=Nw.filter(K=>L.has(K.key)&&K.canHide),q=se.length,G=K=>{B(ie=>{const ve=new Set(ie);return ve.has(K)?ve.delete(K):ve.add(K),ve})},H=K=>!L.has(K),fe=async(K,ie,ve)=>{await o({...K,[ie]:ve||null})},D=async()=>{Q.company_name.trim()&&(await o({company_name:Q.company_name,country:Q.country||null,geographic_zone:Q.geographic_zone||null,contact_email:Q.contact_email||null,eer_date:parseInt(Q.eer_date)||null,client_type:Q.client_type||null,pricing_rule:Q.pricing_rule||null,payment_terms:Q.payment_terms||null,delivery_method:Q.delivery_method||null,delivery_fee_rule:Q.delivery_fee_rule||null,moq:Q.moq||null,category_id:Q.category_id||null,is_active:!0}),N(!1),ee({company_name:"",country:"",geographic_zone:"",contact_email:"",eer_date:"",client_type:"",pricing_rule:"",payment_terms:"",delivery_method:"",delivery_fee_rule:"",moq:"",category_id:""}))},Y=K=>{T(ie=>{const ve=new Set(ie);return ve.has(K)?ve.delete(K):ve.add(K),ve})},V=(K,ie)=>{const ve=t.find(de=>de.client_id===K&&de.year===ie);return ve?Number(ve.projected_revenue):0},Z=async(K,ie,ve)=>{const de=parseFloat(ve);isNaN(de)||await u(K,ie,de)},te=r.map(K=>K.label),be=n.map(K=>K.label),Re=a.map(K=>K.label),We=()=>{const K=["Actif","Client","Pays","Zone Go","Email","Pricing","Dlai paiement","Livraison","Frais livraison","MOQ",...Cw.map(ft=>`CA ${ft}`),"Catgorie"],ie=e.map(ft=>{var Ge;return[ft.is_active?"Oui":"Non",ft.company_name,ft.country||"",ft.geographic_zone||"",ft.contact_email||"",ft.pricing_rule||"",ft.payment_terms||"",ft.delivery_method||"",ft.delivery_fee_rule||"",ft.moq||"",...Cw.map(yt=>String(V(ft.id,yt)||"")),((Ge=i.find(yt=>yt.id===ft.category_id))==null?void 0:Ge.name)||""]}),ve=[K,...ie].map(ft=>ft.map(Ge=>`"${String(Ge).replace(/"/g,'""')}"`).join(";")).join(`
`),de=new Blob(["\uFEFF"+ve],{type:"text/csv;charset=utf-8;"}),Me=URL.createObjectURL(de),Ze=document.createElement("a");Ze.href=Me,Ze.download=`clients_b2b_${new Date().toISOString().slice(0,10)}.csv`,Ze.click(),URL.revokeObjectURL(Me),ke.success("Fichier CSV export")},ge=async()=>{$&&(await l($),M(null))},Ne=e.filter(K=>!K.category_id),Xe=i.map(K=>({category:K,clients:e.filter(ie=>ie.category_id===K.id)})),F=K=>s.jsxs(_e,{className:"text-xs",children:[H("is_active")&&s.jsx(W,{children:s.jsx(B0,{checked:K.is_active,onCheckedChange:ie=>o({...K,is_active:ie})})}),H("company_name")&&s.jsx(W,{className:"font-medium",children:s.jsx(Mc,{value:K.company_name,onSave:ie=>fe(K,"company_name",ie)})}),H("country")&&s.jsx(W,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[eR(K.country)&&s.jsx("span",{className:"text-base leading-none",children:eR(K.country)}),s.jsx(Mc,{value:K.country||"",onSave:ie=>fe(K,"country",ie)})]})}),H("geographic_zone")&&s.jsx(W,{children:s.jsx(Mc,{value:K.geographic_zone||"",onSave:ie=>fe(K,"geographic_zone",ie)})}),H("contact_email")&&s.jsx(W,{children:s.jsx(Mc,{value:K.contact_email||"",onSave:ie=>fe(K,"contact_email",ie)})}),H("pricing_rule")&&s.jsx(W,{children:s.jsx(If,{value:K.pricing_rule||"",options:z.map(ie=>ie.name),onSave:ie=>fe(K,"pricing_rule",ie)})}),H("payment_terms")&&s.jsx(W,{children:s.jsx(If,{value:K.payment_terms||"",options:be,onSave:ie=>fe(K,"payment_terms",ie)})}),H("delivery_method")&&s.jsx(W,{children:s.jsx(If,{value:K.delivery_method||"",options:Re,onSave:ie=>fe(K,"delivery_method",ie)})}),H("delivery_fee_rule")&&s.jsx(W,{children:s.jsx(If,{value:K.delivery_fee_rule||"",options:te,onSave:ie=>fe(K,"delivery_fee_rule",ie)})}),H("moq")&&s.jsx(W,{children:s.jsx(Mc,{value:K.moq||"",onSave:ie=>fe(K,"moq",ie)})}),Cw.map((ie,ve)=>{const de=`ca_${ie}`;if(!H(de))return null;const Me=V(K.id,ie);return s.jsx(W,{className:"text-right font-mono",children:s.jsx(Mc,{value:Me?String(Me):"",type:"number",onSave:Ze=>Z(K.id,ie,Ze),className:"text-right"})},ie)}),H("category")&&s.jsx(W,{children:s.jsx(If,{value:K.category_id||"",options:i.map(ie=>ie.id),onSave:ie=>o({...K,category_id:ie||null}),placeholder:""})}),H("actions")&&s.jsx(W,{children:s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>M(K.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})})]},K.id),J=(K,ie)=>{const ve=O.has(K.id);return s.jsx(_e,{className:"bg-muted/40 hover:bg-muted/60 cursor-pointer",onClick:()=>Y(K.id),children:s.jsx(W,{colSpan:q,className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[ve?s.jsx(Fh,{className:"h-4 w-4"}):s.jsx(Bh,{className:"h-4 w-4"}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.color||"#6366f1"}}),s.jsx("span",{className:"font-semibold text-sm",children:K.name}),s.jsx(Pe,{variant:"secondary",className:"text-[9px]",children:ie})]})})},`cat-${K.id}`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(ne,{size:"sm",onClick:()=>N(!0),children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouveau client"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>j(!0),children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Import copier-coller"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>A(!0),children:[s.jsx(nH,{className:"h-4 w-4 mr-1"})," Catgorie"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>C(!S),children:[s.jsx(nD,{className:"h-4 w-4 mr-1"})," Paramtres"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:We,children:[s.jsx(np,{className:"h-4 w-4 mr-1"})," Export CSV"]}),s.jsxs(YN,{children:[s.jsx(XN,{asChild:!0,children:s.jsxs(ne,{size:"sm",variant:"outline",className:"ml-auto",children:[s.jsx(tH,{className:"h-4 w-4 mr-1"}),"Colonnes",U.length>0&&s.jsxs(Pe,{variant:"secondary",className:"ml-1 text-[9px] px-1.5",children:[U.length," masque",U.length>1?"s":""]})]})}),s.jsxs(z0,{className:"w-56 p-3",align:"end",children:[s.jsx("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:"Afficher / Masquer"}),s.jsx("div",{className:"space-y-1.5",children:Nw.filter(K=>K.canHide).map(K=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/40 px-1.5 py-1 rounded",children:[s.jsx(Fa,{checked:!L.has(K.key),onCheckedChange:()=>G(K.key)}),K.label]},K.key))})]})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," client(s)"]})]}),U.length>0&&s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Colonnes masques :"}),U.map(K=>s.jsxs(Pe,{variant:"outline",className:"text-[10px] cursor-pointer hover:bg-accent gap-1 px-2 py-0.5",onClick:()=>G(K.key),children:[s.jsx(eD,{className:"h-3 w-3"}),K.label]},K.key))]}),S&&s.jsx(DPe,{deliveryFeeTiers:r,paymentTermsOptions:n,deliveryMethods:a,onAddDeliveryFee:f,onDeleteDeliveryFee:h,onAddPaymentTerm:m,onDeletePaymentTerm:y,onAddDeliveryMethod:g,onDeleteDeliveryMethod:p}),i.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:i.map(K=>s.jsxs(Pe,{variant:"outline",className:"gap-1 text-xs",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:K.color||"#6366f1"}}),K.name,s.jsx("button",{onClick:()=>x(K.id),className:"ml-1 text-destructive hover:text-destructive/80",children:s.jsx(_i,{className:"h-3 w-3"})})]},K.id))}),s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsx(_e,{children:se.map(K=>s.jsx(ce,{className:`text-[10px] min-w-[${K.minWidth}] ${K.key.startsWith("ca_")?"text-right bg-accent/20":""}`,children:K.label},K.key))})}),s.jsxs(Yt,{children:[e.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:q,className:"text-center text-muted-foreground py-8 text-sm",children:"Aucun client  Ajoutez-en ou importez via copier-coller"})}),Xe.map(({category:K,clients:ie})=>{if(ie.length===0)return null;const ve=O.has(K.id);return[J(K,ie.length),...ve?[]:ie.map(F)]}),Ne.length>0&&s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx(_e,{className:"bg-muted/20",children:s.jsx(W,{colSpan:q,className:"py-2",children:s.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:["Sans catgorie (",Ne.length,")"]})})}),Ne.map(F)]})]})]})}),s.jsx(IPe,{open:_,onOpenChange:j,onImport:c}),s.jsx(mr,{open:P,onOpenChange:N,children:s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Nouveau Client"})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsx(xe,{placeholder:"Nom de l'entreprise *",value:Q.company_name,onChange:K=>ee(ie=>({...ie,company_name:K.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(xe,{placeholder:"Pays",value:Q.country,onChange:K=>ee(ie=>({...ie,country:K.target.value}))}),s.jsx(xe,{placeholder:"Zone gographique",value:Q.geographic_zone,onChange:K=>ee(ie=>({...ie,geographic_zone:K.target.value}))})]}),s.jsx(xe,{placeholder:"Email contact",value:Q.contact_email,onChange:K=>ee(ie=>({...ie,contact_email:K.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(lt,{value:Q.pricing_rule,onValueChange:K=>ee(ie=>({...ie,pricing_rule:K})),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Pricing rule"})}),s.jsx(ot,{children:z.map(K=>s.jsx(De,{value:K.name,children:K.name},K.id))})]}),s.jsxs(lt,{value:Q.category_id,onValueChange:K=>ee(ie=>({...ie,category_id:K})),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Catgorie"})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:"Sans catgorie"}),i.map(K=>s.jsx(De,{value:K.id,children:K.name},K.id))]})]})]}),s.jsx(xe,{placeholder:"MOQ",value:Q.moq,onChange:K=>ee(ie=>({...ie,moq:K.target.value}))})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>N(!1),children:"Annuler"}),s.jsx(ne,{onClick:D,disabled:!Q.company_name.trim(),children:"Crer"})]})]})}),s.jsx(mr,{open:k,onOpenChange:A,children:s.jsxs(ar,{className:"max-w-sm",children:[s.jsx(ir,{children:s.jsx(sr,{children:"Nouvelle catgorie"})}),s.jsx(xe,{placeholder:"Nom de la catgorie",value:E,onChange:K=>R(K.target.value)}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>A(!1),children:"Annuler"}),s.jsx(ne,{onClick:async()=>{E.trim()&&(await v(E.trim()),R(""),A(!1))},disabled:!E.trim(),children:"Crer"})]})]})}),s.jsx(My,{open:!!$,onOpenChange:K=>!K&&M(null),children:s.jsxs(Lm,{children:[s.jsxs(Bm,{children:[s.jsx(zm,{children:"Supprimer ce client ?"}),s.jsxs(Um,{children:["Cette action est irrversible. Le client  ",(oe=e.find(K=>K.id===$))==null?void 0:oe.company_name,"  et toutes ses donnes associes seront dfinitivement supprims."]})]}),s.jsxs(Fm,{children:[s.jsx(Wm,{children:"Annuler"}),s.jsx(Vm,{onClick:ge,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})})]})}function FPe(){const e=A5(),t=Rz(),[r,n]=w.useState(null),a=e.clients.length,i=e.clients.filter(d=>d.is_active).length,o=new Date().getFullYear(),l=e.projections.filter(d=>d.year===o).reduce((d,f)=>d+Number(f.projected_revenue||0),0),c=e.clients.find(d=>d.id===r),u=t.opportunities.filter(d=>!["won","lost"].includes(d.stage)).reduce((d,f)=>d+(f.estimated_amount||0),0);return e.isLoading&&t.isLoading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM  Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, pipeline commercial et suivi des interactions"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[s.jsx(Nt,{label:"Total Clients",value:a}),s.jsx(Nt,{label:"Clients Actifs",value:i,trend:i>0?"up":"neutral"}),s.jsx(Nt,{label:`CA ${o}`,value:`${(l/1e3).toFixed(0)} k`}),s.jsx(Nt,{label:"Catgories",value:e.categories.length}),s.jsx(Nt,{label:"Pipeline",value:`${(u/1e3).toFixed(0)} k`})]}),s.jsxs(Ga,{defaultValue:"clients",className:"space-y-4",children:[s.jsxs(Na,{children:[s.jsxs(St,{value:"clients",children:[s.jsx(xi,{className:"h-4 w-4 mr-2"}),"Clients"]}),s.jsxs(St,{value:"pipeline",children:[s.jsx(oH,{className:"h-4 w-4 mr-2"}),"Pipeline"]}),s.jsxs(St,{value:"fiches",children:[s.jsx(xi,{className:"h-4 w-4 mr-2"}),"Fiches Clients"]})]}),s.jsx(Rt,{value:"clients",children:s.jsx(BPe,{clients:e.clients,projections:e.projections,deliveryFeeTiers:e.deliveryFeeTiers,paymentTermsOptions:e.paymentTermsOptions,deliveryMethods:e.deliveryMethods,categories:e.categories,onUpsertClient:e.upsertClient,onDeleteClient:e.deleteClient,onBulkImport:e.bulkImportClients,onUpsertProjection:e.upsertProjection,getClientProjections:e.getClientProjections,onAddDeliveryFee:e.addDeliveryFeeTier,onDeleteDeliveryFee:e.deleteDeliveryFeeTier,onAddPaymentTerm:e.addPaymentTerm,onDeletePaymentTerm:e.deletePaymentTerm,onAddDeliveryMethod:e.addDeliveryMethod,onDeleteDeliveryMethod:e.deleteDeliveryMethod,onAddCategory:e.addCategory,onDeleteCategory:e.deleteCategory,onUpdateCategory:e.updateCategory})}),s.jsx(Rt,{value:"pipeline",children:s.jsx(JNe,{opportunities:t.opportunities,customers:e.clients.map(d=>({id:d.id,company_name:d.company_name})),onCreateOpportunity:t.createOpportunity,onUpdateOpportunity:t.updateOpportunity,onDeleteOpportunity:t.deleteOpportunity})}),s.jsx(Rt,{value:"fiches",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(KNe,{clients:e.clients,selectedId:r,onSelect:n,onRefresh:e.refreshData})}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsx(QNe,{client:c,interactions:t.getCustomerInteractions(c.id),opportunities:t.getCustomerOpportunities(c.id),onCreateInteraction:t.createInteraction}):s.jsx(kt,{className:"h-full min-h-[400px] flex items-center justify-center",children:s.jsxs(Dt,{className:"text-center text-muted-foreground",children:[s.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})})]})]})}function zPe(){const{computed:e}=rs(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return s.jsx(Ke,{title:"Plan de Trsorerie Mensuel",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return s.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return s.jsx(Ke,{title:`Trsorerie ${n}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),s.jsx("tbody",{children:a.map(i=>s.jsxs("tr",{className:ue("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:re(i.totalInflows,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:re(i.totalOutflows,!0)}),s.jsxs("td",{className:ue("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",re(i.netCashFlow,!0)]}),s.jsx("td",{className:ue("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:re(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const Pw={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},kw={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},UPe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function VPe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(Pw),d=Array.from({length:n+2},(v,x)=>r+x),f=()=>{l(null),u({...Pw,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=v=>{l(v.id);const{id:x,...b}=v;u({...Pw,...b}),i(!0)},m=()=>{c.name.trim()&&(t(o?e.map(v=>v.id===o?{...v,...c}:v):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=v=>{t(e.filter(x=>x.id!==v))},g=v=>{if(v.inputMode==="fixed")return v.fixedPaymentAmount||0;const x=v.startDate.year*12+v.startDate.month,_=v.endDate.year*12+v.endDate.month-x;if(_<=0)return 0;if(v.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=v.interestRate;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(v.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=v.interestRate/4;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const j=v.interestRate/12;return j===0?v.principalAmount/_:v.principalAmount*j*Math.pow(1+j,_)/(Math.pow(1+j,_)-1)},p=v=>{const x=g(v),b=v.startDate.year*12+v.startDate.month,j=v.endDate.year*12+v.endDate.month-b;return j<=0?0:v.frequency==="annual"?x*Math.max(1,Math.round(j/12)):v.frequency==="quarterly"?x*Math.max(1,Math.round(j/3)):x*j};return s.jsxs(s.Fragment,{children:[s.jsx(Ke,{title:"Gestion des Prts",action:s.jsxs(ne,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(lH,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun prt configur"}),s.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Mode"}),s.jsx(ce,{className:"text-right",children:"Capital"}),s.jsx(ce,{className:"text-right",children:"Taux"}),s.jsx(ce,{children:"Frquence"}),s.jsx(ce,{children:"Priode"}),s.jsx(ce,{className:"text-right",children:"chance"}),s.jsx(ce,{className:"text-right",children:"Cot Total"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:e.map(v=>{const x=g(v),b=p(v);return s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium",children:v.name}),s.jsx(W,{children:s.jsx(Pe,{variant:"outline",className:"text-xs",children:v.inputMode==="fixed"?s.jsxs(s.Fragment,{children:[s.jsx(Ok,{className:"h-3 w-3 mr-1"}),"Fixe"]}):s.jsxs(s.Fragment,{children:[s.jsx(lv,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),s.jsx(W,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?re(v.principalAmount,!0):"-"}),s.jsx(W,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?`${(v.interestRate*100).toFixed(1)}%`:"-"}),s.jsx(W,{children:s.jsx(Pe,{variant:"secondary",className:"text-xs",children:kw[v.frequency]})}),s.jsxs(W,{className:"text-xs",children:[El[v.startDate.month].slice(0,3)," ",v.startDate.year,"  ",El[v.endDate.month].slice(0,3)," ",v.endDate.year]}),s.jsxs(W,{className:"text-right font-mono-numbers font-medium",children:[re(x),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:UPe[v.frequency]})]}),s.jsx(W,{className:"text-right font-mono-numbers text-muted-foreground",children:re(b,!0)}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>h(v),children:s.jsx(rC,{className:"h-3 w-3"})}),s.jsx(ne,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(v.id),children:s.jsx(nr,{className:"h-3 w-3"})})]})})]},v.id)})})]})})}),s.jsx(mr,{open:a,onOpenChange:i,children:s.jsxs(ar,{className:"max-w-lg",children:[s.jsx(ir,{children:s.jsx(sr,{children:o?"Modifier le Prt":"Nouveau Prt"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Nom du prt"}),s.jsx(xe,{value:c.name,onChange:v=>u(x=>({...x,name:v.target.value})),placeholder:"Ex: BPI Innovation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Mode de saisie"}),s.jsx(Ga,{value:c.inputMode,onValueChange:v=>u(x=>({...x,inputMode:v})),children:s.jsxs(Na,{className:"w-full",children:[s.jsxs(St,{value:"calculated",className:"flex-1",children:[s.jsx(lv,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),s.jsxs(St,{value:"fixed",className:"flex-1",children:[s.jsx(Ok,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Montant emprunt ()"}),s.jsx(xe,{type:"number",value:c.principalAmount,onChange:v=>u(x=>({...x,principalAmount:Number(v.target.value)}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Taux d'intrt annuel (%)"}),s.jsx(xe,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:v=>u(x=>({...x,interestRate:Number(v.target.value)/100}))})]})]}),c.inputMode==="fixed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Montant de l'chance ()"}),s.jsx(xe,{type:"number",value:c.fixedPaymentAmount||0,onChange:v=>u(x=>({...x,fixedPaymentAmount:Number(v.target.value)})),placeholder:"Montant fixe par priode"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",kw[c.frequency].toLowerCase(),")."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Frquence des chances"}),s.jsxs(lt,{value:c.frequency,onValueChange:v=>u(x=>({...x,frequency:v})),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"monthly",children:"Mensuel"}),s.jsx(De,{value:"quarterly",children:"Trimestriel"}),s.jsx(De,{value:"annual",children:"Annuel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Date de dbut"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:c.startDate.month.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,month:Number(v)}})),children:[s.jsx(st,{className:"flex-1",children:s.jsx(ct,{})}),s.jsx(ot,{children:El.map((v,x)=>s.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),s.jsxs(lt,{value:c.startDate.year.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,year:Number(v)}})),children:[s.jsx(st,{className:"w-24",children:s.jsx(ct,{})}),s.jsx(ot,{children:d.map(v=>s.jsx(De,{value:v.toString(),children:v},v))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Date de fin"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:c.endDate.month.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,month:Number(v)}})),children:[s.jsx(st,{className:"flex-1",children:s.jsx(ct,{})}),s.jsx(ot,{children:El.map((v,x)=>s.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),s.jsxs(lt,{value:c.endDate.year.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,year:Number(v)}})),children:[s.jsx(st,{className:"w-24",children:s.jsx(ct,{})}),s.jsx(ot,{children:d.map(v=>s.jsx(De,{value:v.toString(),children:v},v))})]})]})]})]}),c.name.trim()&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[s.jsx("div",{className:"font-medium",children:"Aperu"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["chance ",kw[c.frequency].toLowerCase()," :"]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:re(g({id:"",...c}))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),s.jsx("span",{className:"font-mono-numbers",children:re(p({id:"",...c}),!0)})]})]})]}),s.jsxs(Ho,{children:[s.jsx(ne,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),s.jsx(ne,{onClick:m,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function WPe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(f,h)=>n+h),o=w.useMemo(()=>{const f=new Map;return e.forEach(h=>{const m=f.get(h.productId)||[];m.push(h),f.set(h.productId,m)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const m=e.filter(v=>v.productId===f.id).reduce((v,x)=>v+x.percentageOfTotal,0),y=Math.max(0,100-m),g=Math.min(y,25),p={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:g,amount:f.devCost*g/100};t([...e,p])},u=(f,h)=>{t(e.map(m=>{if(m.id!==f)return m;const y={...m,...h},g=r.find(p=>p.id===y.productId);return g&&(y.amount=g.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return s.jsx(Ke,{title:"Dblocage CAPEX Produits",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(tc,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):s.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=o.get(f.id)||[],m=h.reduce((y,g)=>y+g.percentageOfTotal,0);return h.reduce((y,g)=>y+g.amount,0),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",re(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:m===100?"default":"secondary",children:[m,"% planifi"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:m>=100,children:[s.jsx(qt,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Mois"}),s.jsx(ce,{children:"Anne"}),s.jsx(ce,{className:"text-right",children:"% du total"}),s.jsx(ce,{className:"text-right",children:"Montant"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:h.map(y=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsxs(lt,{value:y.month.toString(),onValueChange:g=>u(y.id,{month:Number(g)}),children:[s.jsx(st,{className:"h-8 w-28",children:s.jsx(ct,{})}),s.jsx(ot,{children:El.map((g,p)=>s.jsx(De,{value:p.toString(),children:g},p))})]})}),s.jsx(W,{children:s.jsxs(lt,{value:y.year.toString(),onValueChange:g=>u(y.id,{year:Number(g)}),children:[s.jsx(st,{className:"h-8 w-20",children:s.jsx(ct,{})}),s.jsx(ot,{children:i.map(g=>s.jsx(De,{value:g.toString(),children:g},g))})]})}),s.jsx(W,{className:"text-right",children:s.jsx(xe,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:g=>u(y.id,{percentageOfTotal:Number(g.target.value)})})}),s.jsx(W,{className:"text-right font-mono-numbers font-medium",children:re(y.amount,!0)}),s.jsx(W,{children:s.jsx(ne,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:s.jsx(nr,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}const hg=[{key:"ca",name:"CA",color:"hsl(150, 60%, 40%)",type:"bar",defaultVisible:!1},{key:"cogs",name:"Achats matire",color:"hsl(38, 92%, 50%)",type:"bar",defaultVisible:!0},{key:"payroll",name:"Masse salariale",color:"hsl(210, 70%, 50%)",type:"bar",defaultVisible:!0},{key:"opex",name:"OPEX",color:"hsl(280, 60%, 50%)",type:"bar",defaultVisible:!0},{key:"capex",name:"CAPEX",color:"hsl(0, 0%, 45%)",type:"bar",defaultVisible:!0},{key:"loans",name:"chances prts",color:"hsl(0, 85%, 50%)",type:"bar",defaultVisible:!0},{key:"tresorerie",name:"Trsorerie",color:"hsl(150, 60%, 40%)",type:"line",defaultVisible:!0},{key:"cashFlow",name:"Cash Flow",color:"hsl(210, 90%, 55%)",type:"line",defaultVisible:!1}];function HPe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),[l,c]=w.useState(()=>new Set(hg.filter(p=>p.defaultVisible).map(p=>p.key))),u=Array.from({length:r},(p,v)=>t+v),d=p=>{c(v=>{const x=new Set(v);return x.has(p)?x.delete(p):x.add(p),x})},f=w.useMemo(()=>{const p=Wd(e.months);return u.map(v=>{const x=p.get(v);if(!x)return{label:v.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const _=e.months.filter(S=>S.year===v).reduce((S,C)=>S+C.capexPayments,0),j=x.loanPayments;return{label:v.toString(),ca:x.revenue/1e3,cogs:x.cogs/1e3,payroll:x.payroll/1e3,opex:x.opex/1e3,capex:_/1e3,loans:j/1e3,tresorerie:x.treasuryEnd/1e3,cashFlow:x.netCashFlow/1e3}})},[e,u]),h=w.useMemo(()=>e.months.filter(p=>p.year===i).map(p=>({label:p.monthName.slice(0,3),ca:p.revenue/1e3,cogs:p.cogs/1e3,payroll:p.payroll/1e3,opex:p.opex/1e3,capex:p.capexPayments/1e3,loans:p.loanPayments/1e3,tresorerie:p.treasuryEnd/1e3,cashFlow:p.netCashFlow/1e3})),[e,i]),m=n==="annual"?h:f,y=hg.filter(p=>p.type==="bar"&&l.has(p.key)),g=hg.filter(p=>p.type==="line"&&l.has(p.key));return s.jsx(Ke,{title:"Suivi de Trsorerie Dtaill",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(YN,{children:[s.jsx(XN,{asChild:!0,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Vu,{className:"h-3.5 w-3.5 mr-1"}),"Sries"]})}),s.jsxs(z0,{className:"w-56",align:"end",children:[s.jsx("p",{className:"text-xs font-medium mb-2",children:"Sries affiches"}),s.jsx("div",{className:"space-y-2",children:hg.map(p=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{id:`series-${p.key}`,checked:l.has(p.key),onCheckedChange:()=>d(p.key)}),s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:p.color}}),s.jsx(Ce,{htmlFor:`series-${p.key}`,className:"text-xs cursor-pointer",children:p.name})]},p.key))})]})]}),s.jsxs(lt,{value:n,onValueChange:p=>a(p),children:[s.jsx(st,{className:"h-8 w-40",children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"full-period",children:"Toute la priode"}),s.jsx(De,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&s.jsxs(lt,{value:i.toString(),onValueChange:p=>o(Number(p)),children:[s.jsx(st,{className:"h-8 w-24",children:s.jsx(ct,{})}),s.jsx(ot,{children:u.map(p=>s.jsx(De,{value:p.toString(),children:p},p))})]})]}),children:s.jsx("div",{className:"h-80",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:m,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"label"}),s.jsx(Vt,{tickFormatter:p=>`${p}k`}),s.jsx(Ct,{formatter:p=>`${p.toFixed(0)}k`}),s.jsx(Dr,{}),y.map(p=>s.jsx(Wt,{dataKey:p.key,name:p.name,stackId:"costs",fill:p.color},p.key)),g.map(p=>s.jsx(Rn,{type:"monotone",dataKey:p.key,name:p.name,stroke:p.color,strokeWidth:3,dot:{r:4}},p.key))]})})})})}function qPe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,o]=w.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=w.useMemo(()=>Wd(e.months),[e]),u=w.useMemo(()=>e.months.filter(f=>f.year===i),[e,i]),d=(f,h,m,y)=>s.jsxs(_e,{className:m,children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((g,p)=>s.jsx(W,{className:ue("text-right font-mono-numbers",y&&g>0&&"text-destructive"),children:y&&g>0?`(${re(g,!0)})`:re(g,!0)},p))]});if(n==="monthly"){const f=u;return s.jsx(Ke,{title:"Dtail Prvisionnel",action:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:n,onValueChange:h=>a(h),children:[s.jsx(st,{className:"h-8 w-36",children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"annual",children:"Par anne"}),s.jsx(De,{value:"monthly",children:"Par mois"})]})]}),s.jsxs(lt,{value:i.toString(),onValueChange:h=>o(Number(h)),children:[s.jsx(st,{className:"h-8 w-24",children:s.jsx(ct,{})}),s.jsx(ot,{children:l.map(h=>s.jsx(De,{value:h.toString(),children:h},h))})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>s.jsx(ce,{className:"text-right min-w-20",children:El[h.month].slice(0,3)},h.month))]})}),s.jsxs(Yt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),s.jsxs(_e,{className:"border-t-2",children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,m)=>s.jsxs(W,{className:ue("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",re(h.netCashFlow,!0)]},m))]}),s.jsxs(_e,{className:"bg-primary/5",children:[s.jsx(W,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,m)=>s.jsx(W,{className:ue("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:re(h.treasuryEnd,!0)},m))]})]})]})})})}return s.jsx(Ke,{title:"Dtail Prvisionnel",action:s.jsxs(lt,{value:n,onValueChange:f=>a(f),children:[s.jsx(st,{className:"h-8 w-36",children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"annual",children:"Par anne"}),s.jsx(De,{value:"monthly",children:"Par mois"})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>s.jsx(ce,{className:"text-right min-w-24",children:f},f))]})}),s.jsxs(Yt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(m=>m.year===f).reduce((m,y)=>m+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),s.jsxs(_e,{className:"border-t-2",children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.netCashFlow)||0;return s.jsxs(W,{className:ue("text-right font-mono-numbers font-bold",m<0?"text-destructive":"text-green-600"),children:[m>=0?"+":"",re(m,!0)]},f)})]}),s.jsxs(_e,{className:"bg-primary/5",children:[s.jsx(W,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),m=(h==null?void 0:h.treasuryEnd)||0;return s.jsx(W,{className:ue("text-right font-mono-numbers font-bold",m<0&&"text-destructive"),children:re(m,!0)},f)})]})]})]})})})}const tR=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function rR({title:e,description:t,seasonality:r,onChange:n}){const a=(d,f)=>{n({...r,[d]:f})},i=()=>{n({0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0})},o=Object.values(r).map(d=>1+d),l=o.reduce((d,f)=>d+f,0),c=l>0?o.map(d=>d/l*12):Array(12).fill(1),u=Object.values(r).every(d=>d===0);return s.jsxs(Ke,{title:e,action:s.jsxs("div",{className:"flex items-center gap-2",children:[u&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Rpartition uniforme"}),s.jsxs(ne,{variant:"ghost",size:"sm",onClick:i,disabled:u,children:[s.jsx(xH,{className:"h-3.5 w-3.5 mr-1"}),"Rinitialiser"]})]}),children:[t&&s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-4",children:Array.from({length:12},(d,f)=>f).map(d=>{const f=r[d]||0,m=(c[d]/12*100).toFixed(1);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-xs",children:tR[d]}),s.jsxs("span",{className:ue("text-xs font-mono-numbers",f>0?"text-[hsl(var(--positive))]":f<0?"text-destructive":"text-muted-foreground"),children:[f>0?"+":"",(f*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[f*100],onValueChange:([y])=>a(d,y/100),min:-80,max:200,step:5}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[" ",m,"% annuel"]})]},d)})}),s.jsx("div",{className:"mt-4 flex gap-0.5 h-8 rounded overflow-hidden",children:c.map((d,f)=>s.jsx("div",{className:"flex items-end justify-center transition-all",style:{flex:d,backgroundColor:`hsl(var(--primary) / ${.3+d/Math.max(...c)*.7})`},children:s.jsx("span",{className:"text-[9px] font-mono-numbers text-primary-foreground/80",children:tR[f]})},f))})]})}function KPe({terms:e,onChange:t}){const r=e.reduce((l,c)=>l+c.percentage,0),n=Math.abs(r-100)<.1,a=()=>{const l=Math.max(0,100-r),c=e.length>0?Math.max(...e.map(u=>u.delayMonths))+1:0;t([...e,{delayMonths:c,percentage:l}])},i=l=>{t(e.filter((c,u)=>u!==l))},o=(l,c,u)=>{const d=e.map((f,h)=>h===l?{...f,[c]:u}:f);t(d)};return s.jsxs(Ke,{title:"Conditions de Paiement Fournisseur",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:n?"default":"destructive",className:"text-xs",children:["Total: ",r.toFixed(0),"%"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(qt,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter chance"]})]}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Dfinissez comment les achats matire sont pays. Chaque ligne indique le dcalage en mois et le pourcentage du montant total."}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune condition configure  paiement comptant par dfaut."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-end",children:[s.jsx(Ce,{className:"text-xs",children:"Dlai (mois)"}),s.jsx(Ce,{className:"text-xs",children:"% du paiement"}),s.jsx("div",{className:"w-8"})]}),e.map((l,c)=>s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"M+"}),s.jsx(xe,{type:"number",min:0,max:12,value:l.delayMonths,onChange:u=>o(c,"delayMonths",parseInt(u.target.value)||0),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{type:"number",min:0,max:100,step:5,value:l.percentage,onChange:u=>o(c,"percentage",parseFloat(u.target.value)||0),className:ue("h-8 text-sm",!n&&"border-destructive")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(c),children:s.jsx(nr,{className:"h-3.5 w-3.5 text-destructive"})})]},c))]}),!n&&e.length>0&&s.jsxs("p",{className:"text-xs text-destructive mt-3",children:[" Le total doit tre gal  100%. Actuellement : ",r.toFixed(0),"%."]}),e.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Ce,{className:"text-xs mb-2 block",children:"chancier de paiement"}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:e.sort((l,c)=>l.delayMonths-c.delayMonths).map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-primary/60 rounded-t transition-all",style:{height:`${l.percentage/100*48}px`}}),s.jsxs("span",{className:"text-[10px] text-muted-foreground mt-1",children:["M+",l.delayMonths]}),s.jsxs("span",{className:"text-[10px] font-bold font-mono-numbers",children:[l.percentage,"%"]})]},c))})]})]})}const Ew=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],GPe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],YPe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],XPe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function ZPe(){var P;const{state:e,computed:t,saveAll:r,updateMonthlyTreasuryConfig:n}=rs(),[a,i]=w.useState(()=>{const N=new Set;return Ew.forEach(O=>{O.defaultVisible&&N.add(O.id)}),N}),[o,l]=w.useState("annual"),{startYear:c,durationYears:u}=e.scenarioSettings,d=Array.from({length:u},(N,O)=>c+O),f=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:h}=t,m=w.useMemo(()=>{const N=Wd(h.months);return d.map(O=>{const T=N.get(O);if(!T)return{year:O,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const E=t.treasuryProjection.years.find(A=>A.year===O),R=(E==null?void 0:E.capex)||0,k=(E==null?void 0:E.depreciation)||0;return{year:T.year,revenue:T.revenue,cogs:T.cogs,grossMargin:T.grossMargin,payroll:T.payroll,opex:T.opex,capex:R,depreciation:k,ebitda:T.ebitda,operatingResult:T.ebitda-k,cashFlow:T.netCashFlow,treasuryStart:T.treasuryStart,treasuryEnd:T.treasuryEnd,fundingInjection:T.fundingInjection}})},[h,t.treasuryProjection,d]),y=m.map(N=>({year:N.year,tresorerie:N.treasuryEnd/1e3,cashFlow:N.cashFlow/1e3,levee:N.fundingInjection/1e3})),g=m.map(N=>({year:N.year,ca:N.revenue/1e3,margeBrute:N.grossMargin/1e3,ebitda:N.ebitda/1e3,resultat:N.operatingResult/1e3})),p=m[0],v=m[m.length-1],x=m.reduce((N,O)=>N+O.cashFlow,0),b=((P=h.breakEvenMonth)==null?void 0:P.year)||null,_=h.minTreasury,j=N=>{i(O=>{const T=new Set(O);return T.has(N)?T.delete(N):T.add(N),T})},S=Ew.filter(N=>a.has(N.id)),C=(N,O)=>O==="percent"?rn(N):re(N,!0);return s.jsx(is,{tabKey:"previsionnel",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Ga,{value:o,onValueChange:N=>l(N),children:s.jsxs(Na,{children:[s.jsxs(St,{value:"annual",className:"flex items-center gap-2",children:[s.jsx(cv,{className:"h-4 w-4"}),"Vue Annuelle"]}),s.jsxs(St,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(Og,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),s.jsxs(St,{value:"params",className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),s.jsx(Pe,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":e.revenueMode==="by-channel-global"?"Global Canaux":"Par Client"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:f?"outline":"default",className:"text-xs",children:f?"Leve dsactive":"Leve active"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(configurable dans Scnarios)"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[u," annes  ",S.length," indicateurs actifs"]}),s.jsx(ff,{pageTitle:o==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:o==="monthly"?YPe:GPe,fileName:o==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),s.jsx(Yd,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o==="params"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(VPe,{loans:e.monthlyTreasuryConfig.loans,onChange:N=>n({...e.monthlyTreasuryConfig,loans:N}),startYear:c,durationYears:u}),s.jsx(WPe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:N=>n({...e.monthlyTreasuryConfig,capexPayments:N}),products:e.products,startYear:c,durationYears:u})]}):o==="monthly"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(HPe,{projection:h,startYear:c,durationYears:u}),s.jsx(rR,{title:"Saisonnalit du CA",description:"Ajustez la rpartition mensuelle du chiffre d'affaires. Par dfaut, le CA est rparti uniformment (1/12e par mois).",seasonality:e.monthlyTreasuryConfig.revenueSeasonality,onChange:N=>n({...e.monthlyTreasuryConfig,revenueSeasonality:N})}),s.jsx(rR,{title:"Saisonnalit des Achats Matire",description:"Modulation mensuelle des achats. Les achats peuvent suivre la mme saisonnalit que le CA ou tre dcals (anticipation, stockage).",seasonality:e.monthlyTreasuryConfig.cogsSeasonality,onChange:N=>n({...e.monthlyTreasuryConfig,cogsSeasonality:N})}),s.jsx(KPe,{terms:e.monthlyTreasuryConfig.cogsPaymentTerms||[{delayMonths:0,percentage:100}],onChange:N=>n({...e.monthlyTreasuryConfig,cogsPaymentTerms:N})}),s.jsxs(Ke,{title:"Vrification Cohrence Annuelle",action:s.jsx(Pe,{variant:"outline",className:"text-xs",children:"Plan Produit vs Trsorerie"}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Vrifiez que la somme annuelle du CA et des achats matire correspond aux donnes du Plan Produit / moteur financier."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart CA"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart Achats"})]})}),s.jsx("tbody",{children:d.map(N=>{const O=t.revenueByYear.find(z=>z.year===N),T=(O==null?void 0:O.revenue)||0,E=(O==null?void 0:O.cogs)||0,R=h.months.filter(z=>z.year===N),k=R.reduce((z,Q)=>z+Q.revenue,0),A=R.reduce((z,Q)=>z+Q.cogs,0),$=k-T,M=A-E,L=Math.abs($)<1,B=Math.abs(M)<E*.01+1;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-1.5 px-2 font-medium",children:N}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:re(T,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:re(k,!0)}),s.jsx("td",{className:ue("py-1.5 px-2 text-right font-mono-numbers",L?"text-[hsl(var(--positive))]":"text-destructive"),children:L?"":re($,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:re(E,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:re(A,!0)}),s.jsx("td",{className:ue("py-1.5 px-2 text-right font-mono-numbers",B?"text-[hsl(var(--positive))]":"text-amber-600"),children:B?"":re(M,!0)})]},N)})})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Note : les carts sur les achats peuvent tre normaux si des conditions de paiement avec dlais sont configures (report entre annes)."})]}),s.jsx(qPe,{projection:h,startYear:c,durationYears:u}),s.jsx(zPe,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[s.jsx(Nt,{label:`CA ${(v==null?void 0:v.year)||""}`,value:re((v==null?void 0:v.revenue)||0,!0),subValue:`vs ${re((p==null?void 0:p.revenue)||0,!0)} en ${p==null?void 0:p.year}`,trend:"up"}),s.jsx(Nt,{label:"Cash Flow Cumul",value:re(x,!0),subValue:`${p==null?void 0:p.year}-${v==null?void 0:v.year}`,trend:x>=0?"up":"down"}),s.jsx(Nt,{label:"Trsorerie Min",value:re(_,!0),subValue:"Point bas projet",trend:_>=0?"neutral":"down"}),s.jsx(Nt,{label:"Break-even",value:b?b.toString():"N/A",subValue:"Cash flow positif"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ke,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:s.jsx("div",{className:"h-72",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:y,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:N=>`${N}k`}),s.jsx(Ct,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Wt,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),s.jsx(Ke,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:s.jsx("div",{className:"h-72",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:y,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:N=>`${N}k`}),s.jsx(Ct,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Wt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),s.jsx(Ke,{title:"Soldes Intermdiaires de Gestion",children:s.jsx("div",{className:"h-72",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(LF,{data:g,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:N=>`${N}k`}),s.jsx(Ct,{formatter:N=>`${N.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Rn,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),s.jsx(Rn,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),s.jsxs(Ke,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:s.jsxs(YN,{children:[s.jsx(XN,{asChild:!0,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),s.jsx(z0,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(XPe).map(([N,O])=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:O}),Ew.filter(T=>T.category===N).map(T=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(Ce,{htmlFor:T.id,className:"text-sm cursor-pointer",children:T.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:T.description})]}),s.jsx(B0,{id:T.id,checked:a.has(T.id),onCheckedChange:()=>j(T.id)})]},T.id))]},N))]})})]}),children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),d.map(N=>s.jsx(ce,{className:"text-right min-w-24",children:N},N)),s.jsx(ce,{className:"text-right min-w-28",children:"volution"})]})}),s.jsx(Yt,{children:S.map(N=>{const O=m.map(k=>N.calculate(k)),T=O[0]||0,E=O[O.length-1]||0,R=T!==0?(E-T)/Math.abs(T):0;return s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-medium",children:s.jsxs("div",{children:[s.jsx("span",{children:N.name}),s.jsx("span",{className:"block text-xs text-muted-foreground",children:N.description})]})}),O.map((k,A)=>s.jsx(W,{className:ue("text-right font-mono-numbers",N.format==="currency"&&k<0&&"text-destructive"),children:C(k,N.format)},A)),s.jsx(W,{className:"text-right",children:s.jsxs("div",{className:ue("flex items-center justify-end gap-1",R>0?"text-green-600":R<0?"text-destructive":"text-muted-foreground"),children:[R>0?s.jsx(Fo,{className:"h-3 w-3"}):R<0?s.jsx(oh,{className:"h-3 w-3"}):null,s.jsxs("span",{className:"font-mono-numbers text-sm",children:[R>0?"+":"",rn(R)]})]})})]},N.id)})})]})}),S.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(JI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun indicateur slectionn"}),s.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),s.jsx(Ke,{title:"Compte de Rsultat Simplifi",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(N=>s.jsx(ce,{className:"text-right min-w-24",children:N},N))]})}),s.jsxs(Yt,{children:[s.jsxs(_e,{className:"bg-muted/30",children:[s.jsx(W,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),m.map((N,O)=>s.jsx(W,{className:"text-right font-mono-numbers font-medium",children:re(N.revenue,!0)},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",re(N.cogs,!0),")"]},O))]}),s.jsxs(_e,{className:"border-t-2",children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),m.map((N,O)=>s.jsx(W,{className:"text-right font-mono-numbers font-medium",children:re(N.grossMargin,!0)},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",re(N.payroll,!0),")"]},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",re(N.opex,!0),")"]},O))]}),s.jsxs(_e,{className:"border-t-2 bg-muted/30",children:[s.jsx(W,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),m.map((N,O)=>s.jsx(W,{className:ue("text-right font-mono-numbers font-medium",N.ebitda<0&&"text-destructive"),children:re(N.ebitda,!0)},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",re(N.depreciation,!0),")"]},O))]}),s.jsxs(_e,{className:"border-t-2 bg-primary/5",children:[s.jsx(W,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),m.map((N,O)=>s.jsx(W,{className:ue("text-right font-mono-numbers font-bold",N.operatingResult<0&&"text-destructive"),children:re(N.operatingResult,!0)},O))]})]})]})})}),s.jsx(Ke,{title:"Tableau des Flux de Trsorerie",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"sticky left-0 bg-background z-10",children:"Flux"}),d.map(N=>s.jsx(ce,{className:"text-right min-w-24",children:N},N))]})}),s.jsxs(Yt,{children:[s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),m.map((N,O)=>s.jsx(W,{className:"text-right font-mono-numbers",children:re(N.treasuryStart,!0)},O))]}),s.jsxs(_e,{className:"bg-muted/30",children:[s.jsx(W,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-green-600",children:["+",re(N.revenue,!0)]},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),m.map((N,O)=>s.jsxs(W,{className:"text-right font-mono-numbers text-destructive",children:["-",re(N.cogs+N.payroll+N.opex,!0)]},O))]}),s.jsxs(_e,{children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),m.map((N,O)=>s.jsx(W,{className:"text-right font-mono-numbers text-destructive",children:N.capex>0?`-${re(N.capex,!0)}`:"-"},O))]}),s.jsxs(_e,{className:"border-t",children:[s.jsx(W,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),m.map((N,O)=>s.jsxs(W,{className:ue("text-right font-mono-numbers font-medium",N.cashFlow<0?"text-destructive":"text-green-600"),children:[N.cashFlow>=0?"+":"",re(N.cashFlow,!0)]},O))]}),s.jsxs(_e,{className:"bg-green-50 dark:bg-green-950/20",children:[s.jsx(W,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),m.map((N,O)=>s.jsx(W,{className:"text-right font-mono-numbers text-green-600",children:N.fundingInjection>0?`+${re(N.fundingInjection,!0)}`:"-"},O))]}),s.jsxs(_e,{className:"border-t-2 bg-primary/5",children:[s.jsx(W,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),m.map((N,O)=>s.jsx(W,{className:ue("text-right font-mono-numbers font-bold",N.treasuryEnd<0&&"text-destructive"),children:re(N.treasuryEnd,!0)},O))]})]})]})})})]})]})})}const nR=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function QPe(){const{state:e}=rs(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return s.jsx(Ke,{title:"Allocation des Fonds",children:s.jsx("div",{className:"space-y-3",children:nR.map(n=>{const a=1/nR.length,i=r*a;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:n.label}),s.jsx("span",{className:"font-mono-numbers",children:re(i,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function JPe(){var T,E,R;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=rs(),{startYear:a,durationYears:i,initialCash:o}=e.scenarioSettings,l=Array.from({length:i},(k,A)=>a+A),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{monthlyTreasuryProjection:u}=t,d=w.useMemo(()=>{const k=Wd(u.months);return l.map(A=>{const $=k.get(A);return $?{year:$.year,revenue:$.revenue,totalCosts:$.cogs+$.payroll+$.opex,cashFlow:$.netCashFlow,treasuryStart:$.treasuryStart,treasuryEnd:$.treasuryEnd,fundingInjection:$.fundingInjection,minTreasuryInYear:$.treasuryEnd}:{year:A,revenue:0,totalCosts:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0,minTreasuryInYear:0}})},[u,l]),f=c.amount,h=c.preMoneyValuation,m=h+f,y=f/m,g=u.minTreasury,p=Math.max(0,-g),v=p>0?f/p:1,x=((T=u.breakEvenMonth)==null?void 0:T.year)||null,b=d.map(k=>({year:k.year,revenue:k.revenue/1e3,costs:k.totalCosts/1e3,cashFlow:k.cashFlow/1e3,treasury:k.treasuryEnd/1e3,isNegative:k.treasuryEnd<0})),_=k=>{r([{...c,amount:k}])},j=k=>{r([{...c,preMoneyValuation:k}])},S=k=>{r([{...c,year:parseInt(k)}])},C=k=>{r([{...c,quarter:k}])},P=k=>{n({initialCash:k})},N=g<0,O=((E=u.breakEvenMonth)==null?void 0:E.year)||((R=d.find(k=>k.treasuryEnd<0))==null?void 0:R.year);return s.jsx(is,{tabKey:"funding",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),N&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Wu,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",re(g,!0)," en ",O]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(Nt,{label:"Besoin Calcul",value:re(p,!0),subValue:"max(0, -trso min)",trend:p>0?"down":void 0}),s.jsx(Nt,{label:"Montant  Lever",value:re(f,!0),subValue:"Ajustable ci-dessous"}),s.jsx(Nt,{label:"Pre-Money",value:re(h,!0),subValue:"Valorisation"}),s.jsx(Nt,{label:"Post-Money",value:re(m,!0),subValue:"Aprs leve"}),s.jsx(Nt,{label:"Dilution",value:rn(y),subValue:"Sur le round"})]}),s.jsx(Ke,{title:"Calibrage de la Leve",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:re(o,!0)})]}),s.jsx(zr,{value:[o/1e3],onValueChange:([k])=>P(k*1e3),min:0,max:500,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"500k"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:re(f,!0)})]}),s.jsx(zr,{value:[f/1e3],onValueChange:([k])=>_(k*1e3),min:0,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5M"})]}),f===0&&s.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:re(h,!0)})]}),s.jsx(zr,{value:[h/1e3],onValueChange:([k])=>j(k*1e3),min:200,max:2e4,step:100}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"200k"}),s.jsx("span",{children:"20M"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Anne"]}),s.jsxs(lt,{value:c.year.toString(),onValueChange:S,children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:l.map(k=>s.jsx(De,{value:k.toString(),children:k},k))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),s.jsxs(lt,{value:c.quarter,onValueChange:C,children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:uG.map(k=>s.jsx(De,{value:k,children:k},k))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),s.jsx(Pe,{variant:"secondary",children:"Auto"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:re(p,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),s.jsx("span",{className:"font-mono-numbers",children:rn(Math.min(v,2))})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:ue("h-2 rounded-full transition-all",v>=1?"bg-accent":v>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(v*100,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),s.jsx("div",{className:"text-lg font-bold",children:x||"N/A"})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),s.jsx("div",{className:ue("text-lg font-bold font-mono-numbers",g<0?"text-destructive":""),children:re(g,!0)})]})]})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Ke,{title:"Projection Cash Flow & Trsorerie",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:b,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:k=>`${k}k`}),s.jsx(Ct,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(Rn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),s.jsx(QPe,{})]}),s.jsx(Ke,{title:"Projection Dtaille",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),s.jsx("tbody",{children:d.map(k=>s.jsxs("tr",{className:ue("border-b",k.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:k.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(k.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(k.totalCosts,!0)}),s.jsxs("td",{className:ue("py-2 px-3 text-right font-mono-numbers font-medium",k.cashFlow>=0?"text-accent":"text-destructive"),children:[k.cashFlow>=0?"+":"",re(k.cashFlow,!0)]}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:k.fundingInjection>0?`+${re(k.fundingInjection,!0)}`:"-"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(k.treasuryStart,!0)}),s.jsx("td",{className:ue("py-2 px-3 text-right font-mono-numbers font-bold",k.treasuryEnd<0?"text-destructive":""),children:re(k.treasuryEnd,!0)})]},k.year))})]})})})]})})}const eke=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function tke(){var T,E,R;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:o,saveAll:l}=rs();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:d}=e.scenarioSettings,f=e.fundingRounds[e.fundingRounds.length-1],h=(f==null?void 0:f.amount)||0,m=Array.from({length:u},(k,A)=>c+A),y=(k,A)=>{const $=e.scenarioConfigs[k];if(e.revenueMode==="by-channel-global")return Xh(e.globalRevenueConfig,A)*(1+$.volumeAdjustment)*(1+$.priceAdjustment);let M=0;return e.products.forEach(L=>{const B=L.volumesByChannel;if(B){const z=L.priceHT||L.priceTTC_B2C/(1+(L.vatRate||.2)),Q=L.coef_shop||1.6,ee=L.coef_dist||1.3,se=L.coef_oem||1.4,U=z/Q/ee,q=L.unitCost*se,G=Math.round((B.B2C[A]||0)*(1+$.volumeAdjustment)),H=Math.round((B.B2B[A]||0)*(1+$.volumeAdjustment)),fe=Math.round((B.OEM[A]||0)*(1+$.volumeAdjustment));M+=G*z*(1+$.priceAdjustment),M+=H*U*(1+$.priceAdjustment),M+=fe*q*(1+$.priceAdjustment)}else if(L.volumesByYear[A]){const z=Math.round(L.volumesByYear[A]*(1+$.volumeAdjustment));M+=z*L.priceHT*(1+$.priceAdjustment)}}),M},g=k=>{const A=m.map(L=>y(k,L)),$=A[A.length-1]||0,M=A[0]||0;return{revenueLastYear:$,totalRevenue:A.reduce((L,B)=>L+B,0),cagr:$>0&&M>0&&u>1?Math.pow($/M,1/(u-1))-1:0}},p=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],v=m.map(k=>{const A={year:k};return p.forEach($=>{A[$.id]=y($.id,k)/1e3}),A}),x=p.map(k=>{const A=g(k.id);return{...k,...A,config:e.scenarioConfigs[k.id]}}),b=k=>{a({startYear:k})},_=k=>{a({durationYears:k})},j=k=>{a({initialCash:k})},S=k=>{if(f){const A=e.fundingRounds.map($=>$.id===f.id?{...$,amount:k}:$);i(A)}},{monthlyTreasuryProjection:C}=t,P=w.useMemo(()=>{const k=Wd(C.months);return m.map(A=>{const $=k.get(A);return $?{year:$.year,revenue:$.revenue/1e3,cogs:$.cogs/1e3,payroll:$.payroll/1e3,opex:$.opex/1e3,grossMargin:$.grossMargin/1e3,ebitda:$.ebitda/1e3,cashFlow:$.netCashFlow/1e3,treasury:$.treasuryEnd/1e3}:{year:A,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,m]),N=C.minTreasury/1e3,O=((T=C.breakEvenMonth)==null?void 0:T.year)||"N/A";return s.jsx(is,{tabKey:"scenarios",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":e.revenueMode==="by-channel-global"?"Global Canaux":"Par Client"]}),s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ff,{pageTitle:"Scnarios",sections:eke,fileName:"Scenarios"}),s.jsx(Yd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Ke,{title:"Paramtres du Scnario",id:"scenario-settings",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ce,{children:"Anne de dbut"})]}),s.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(k=>s.jsx(ne,{size:"sm",variant:c===k?"default":"outline",onClick:()=>b(k),children:k},k))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tC,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ce,{children:"Dure (annes)"})]}),s.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(k=>s.jsxs(ne,{size:"sm",variant:u===k?"default":"outline",onClick:()=>_(k),children:[k," ans"]},k))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),s.jsxs(Ke,{title:"Paramtres Trsorerie",id:"treasury-params",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[s.jsx(Fa,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:k=>o(!k)}),s.jsx(Ce,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),s.jsx(Pe,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tg,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ce,{children:"Trsorerie initiale (T0)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:re(d,!0)})]}),s.jsx(zr,{value:[d/1e3],onValueChange:([k])=>j(k*1e3),min:0,max:1e3,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Fo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ce,{children:"Montant Lev"}),s.jsx(Pe,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:(f==null?void 0:f.name)||"Tour de table"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:re(h,!0)})]}),s.jsx(zr,{value:[h/1e3],onValueChange:([k])=>S(k*1e3),min:100,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"100k"}),s.jsx("span",{children:"5M"})]})]})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[s.jsx(Nt,{label:"Cash Total T0",value:re(d+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),s.jsx(Nt,{label:"Point Bas Trso",value:re(N*1e3,!0),subValue:"Sur la priode",trend:N<0?"down":void 0}),s.jsx(Nt,{label:"Break-even",value:O.toString(),subValue:"Cash flow positif"}),s.jsx(Nt,{label:"Trso Finale",value:re((((E=P[P.length-1])==null?void 0:E.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(k=>s.jsxs("div",{className:ue("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===k.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(k.id),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold",children:k.name}),e.activeScenarioId===k.id&&s.jsx(Pe,{children:"Actif"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:re(k.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:rn(k.cagr)})]})]}),s.jsxs("div",{className:"space-y-3",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:ue("font-mono-numbers",k.config.volumeAdjustment>0?"text-green-600":k.config.volumeAdjustment<0?"text-destructive":""),children:[k.config.volumeAdjustment>0?"+":"",(k.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(k.config.volumeAdjustment+.5)*100],onValueChange:([A])=>n(k.id,{volumeAdjustment:A/100-.5}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:ue("font-mono-numbers",k.config.priceAdjustment>0?"text-green-600":k.config.priceAdjustment<0?"text-destructive":""),children:[k.config.priceAdjustment>0?"+":"",(k.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(k.config.priceAdjustment+.2)*250],onValueChange:([A])=>n(k.id,{priceAdjustment:A/250-.2}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:ue("font-mono-numbers",k.config.opexAdjustment<0?"text-green-600":k.config.opexAdjustment>0?"text-destructive":""),children:[k.config.opexAdjustment>0?"+":"",(k.config.opexAdjustment*100).toFixed(0),"%"]})]}),s.jsx(zr,{value:[(k.config.opexAdjustment+.3)*166],onValueChange:([A])=>n(k.id,{opexAdjustment:A/166-.3}),min:0,max:100,step:5})]})]})]},k.id))}),s.jsx(Ke,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:s.jsx("div",{className:"h-80",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(LF,{data:v,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:k=>`${k}k`}),s.jsx(Ct,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(Dr,{}),p.map(k=>s.jsx(Rn,{type:"monotone",dataKey:k.id,name:k.name,stroke:k.color,strokeWidth:e.activeScenarioId===k.id?3:1,dot:{fill:k.color}},k.id))]})})})}),s.jsxs(Ke,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",s.jsx(Pe,{variant:"outline",children:(R=p.find(k=>k.id===e.activeScenarioId))==null?void 0:R.name})," avec trso initiale ",re(d,!0),!e.excludeFundingFromTreasury&&` + leve ${re(h,!0)}`," "," ",s.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),s.jsx("div",{className:"h-80",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:P,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:k=>`${k}k`}),s.jsx(Ct,{formatter:k=>`${k.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),s.jsx(Rn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(k=>s.jsx(Ke,{title:k.name,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:re(k.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:rn(k.cagr)})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.volumeAdjustment>0?"+":"",(k.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.priceAdjustment>0?"+":"",(k.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:"font-mono-numbers",children:[k.config.opexAdjustment>0?"+":"",(k.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[k.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",k.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",k.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},k.id))})]})})}const $y=e=>(e.salesB2B||0)+(e.salesB2C||0)+(e.salesOEM||0)||e.revenue,CU=e=>(e.stockVariation||0)+(e.purchasesGoods||0)+(e.transportCosts||0),NU=e=>$y(e)-CU(e),PU=e=>(e.productionExercice||0)-(e.rawMaterials||0)-(e.subcontracting||0),JN=e=>NU(e)+PU(e),kU=e=>JN(e)-(e.otherPurchases||e.externalCosts||0),EU=e=>kU(e)+(e.operatingSubsidies||0)-(e.taxesAndDuties||0)-e.payroll,AU=e=>EU(e)+(e.otherOperatingIncome||0)-(e.otherOperatingExpenses||0)-e.depreciation,OU=e=>AU(e)+(e.financialIncome||0)-(e.financialExpenses||0),TU=e=>(e.exceptionalIncome||0)-(e.exceptionalExpenses||0),rke=e=>OU(e)+TU(e)-(e.employeeParticipation||0)-(e.corporateTax||0),nke=[{id:"h_ca",label:"CHIFFRE D'AFFAIRE",type:"calculated",calculate:$y,bold:!0,highlight:!0},{id:"salesB2B",label:"Dont Ventes B2B",type:"input",field:"salesB2B",indent:2},{id:"salesB2C",label:"Dont Ventes B2C",type:"input",field:"salesB2C",indent:2},{id:"salesOEM",label:"Dont Ventes OEM",type:"input",field:"salesOEM",indent:2},{id:"sep1",label:"",type:"separator"},{id:"h_cogs",label:"- Cots d'achat des marchandises vendues",type:"calculated",calculate:CU,bold:!0,sign:"negative"},{id:"stockVariation",label:"Variation de stock",type:"input",field:"stockVariation",indent:2},{id:"purchasesGoods",label:"Achat de marchandises",type:"input",field:"purchasesGoods",indent:2},{id:"transportCosts",label:"Transport de marchandises",type:"input",field:"transportCosts",indent:2},{id:"sep2",label:"",type:"separator"},{id:"margeComm",label:"MARGE COMMERCIALE",type:"calculated",calculate:NU,bold:!0,highlight:!0},{id:"sep3",label:"",type:"separator"},{id:"prodExercice",label:"PRODUCTION DE L'EXERCICE",type:"input",field:"productionExercice"},{id:"rawMaterials",label:"- MP, appro. Consomms",type:"input",field:"rawMaterials",indent:1},{id:"subcontracting",label:"- Sous-traitance directe",type:"input",field:"subcontracting",indent:1},{id:"margeProd",label:"MARGE BRUTE DE PRODUCTION",type:"calculated",calculate:PU,bold:!0},{id:"sep4",label:"",type:"separator"},{id:"margeBrute",label:"MARGE (BRUTE GLOBALE) TOTALE",type:"calculated",calculate:JN,bold:!0,highlight:!0},{id:"otherPurchases",label:"- Autres achats & Charges externes",type:"input",field:"otherPurchases",sign:"negative"},{id:"sep5",label:"",type:"separator"},{id:"va",label:"VALEUR AJOUTE",type:"calculated",calculate:kU,bold:!0,highlight:!0},{id:"operatingSubsidies",label:"+ Subventions d'exploitation",type:"input",field:"operatingSubsidies",indent:1},{id:"taxesAndDuties",label:"- Impts, taxes et versements assimils",type:"input",field:"taxesAndDuties",indent:1,sign:"negative"},{id:"payroll",label:"- Charges de personnel",type:"input",field:"payroll",sign:"negative"},{id:"sep6",label:"",type:"separator"},{id:"ebe",label:"EXCDENT BRUT D'EXPLOITATION (EBE)",type:"calculated",calculate:EU,bold:!0,highlight:!0},{id:"otherOpIncome",label:"+ Autres produits de gestion courante",type:"input",field:"otherOperatingIncome",indent:1},{id:"depreciation",label:"- Dotations aux amortissements et aux provisions",type:"input",field:"depreciation",indent:1,sign:"negative"},{id:"otherOpExpenses",label:"- Autres charges de gestion courante",type:"input",field:"otherOperatingExpenses",indent:1,sign:"negative"},{id:"sep7",label:"",type:"separator"},{id:"rex",label:"RSULTAT D'EXPLOITATION",type:"calculated",calculate:AU,bold:!0,highlight:!0},{id:"financialIncome",label:"+ QP de rsultat positif & Produits Financiers",type:"input",field:"financialIncome",indent:1},{id:"financialExpenses",label:"- QP de rsultat ngatif & Charges Financires",type:"input",field:"financialExpenses",indent:1,sign:"negative"},{id:"sep8",label:"",type:"separator"},{id:"rcai",label:"RSULTAT COURANT AVANT IMPTS",type:"calculated",calculate:OU,bold:!0,highlight:!0},{id:"exceptionalIncome",label:"+ Produits exceptionnels",type:"input",field:"exceptionalIncome",indent:1},{id:"exceptionalExpenses",label:"- Charges exceptionnelles",type:"input",field:"exceptionalExpenses",indent:1,sign:"negative"},{id:"sep9",label:"",type:"separator"},{id:"rexcep",label:"RSULTAT EXCEPTIONNEL",type:"calculated",calculate:TU,bold:!0},{id:"employeeParticipation",label:"Participation des salaris",type:"input",field:"employeeParticipation",indent:1},{id:"corporateTax",label:"Impts sur les bnfices & CIR",type:"input",field:"corporateTax",indent:1},{id:"sep10",label:"",type:"separator"},{id:"rnet",label:"RSULTAT NET",type:"calculated",calculate:rke,bold:!0,highlight:!0}];function ake(e){return{year:e,revenue:0,grossMargin:0,payroll:0,externalCosts:0,depreciation:0}}function ike({data:e,onChange:t}){const[r,n]=w.useState(new Date().getFullYear()),a=(c,u,d)=>{const f=[...e];f[c]={...f[c],[u]:d};const h=f[c],m=$y(h);h.revenue=m;const y=JN(h);h.grossMargin=m>0?y/m:0,h.externalCosts=h.otherPurchases??h.externalCosts,t(f)},i=c=>{t(e.filter(u=>u.year!==c))},o=new Date().getFullYear(),l=Array.from({length:10},(c,u)=>o-9+u).filter(c=>!e.some(u=>u.year===c));return s.jsxs(Ke,{title:"Compte de Rsultat Historique",id:"valuation-historical",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-muted/30 rounded-lg border",children:[s.jsx("span",{className:"text-sm font-medium",children:"Ajouter une anne :"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:l.map(c=>s.jsx(ne,{size:"sm",variant:r===c?"default":"outline",className:"h-7 text-xs",onClick:()=>{if(n(c),!e.some(u=>u.year===c)){const u=[...e,ake(c)].sort((d,f)=>d.year-f.year);t(u)}},children:c},c))})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Slectionnez une anne ci-dessus pour commencer la saisie."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 min-w-[280px] sticky left-0 bg-background z-10",children:"Poste"}),e.map(c=>s.jsx("th",{className:"text-center py-2 px-2 min-w-[140px]",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"font-bold",children:c.year}),s.jsx(ne,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-muted-foreground hover:text-destructive",onClick:()=>i(c.year),children:s.jsx(nr,{className:"h-3 w-3"})})]})},c.year))]}),s.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[s.jsx("th",{}),e.map(c=>s.jsx("th",{colSpan:2,className:"text-center py-1 px-2",children:s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"flex-1 text-right pr-2",children:"Montant"}),s.jsx("span",{className:"w-14 text-right",children:"% CA"})]})},c.year))]})]}),s.jsx("tbody",{children:nke.map(c=>c.type==="separator"?s.jsx("tr",{children:s.jsx("td",{colSpan:1+e.length*2,className:"h-1"})},c.id):s.jsxs("tr",{className:ue("border-b border-border/50",c.highlight&&"bg-muted/40"),children:[s.jsx("td",{className:ue("py-1.5 px-3 sticky left-0 bg-background z-10",c.highlight&&"bg-muted/40",c.bold&&"font-bold",c.indent===1&&"pl-6",c.indent===2&&"pl-10","text-xs"),children:c.label}),e.map((u,d)=>{const f=$y(u);if(c.type==="calculated"&&c.calculate){const y=c.calculate(u),g=f>0?y/f:0;return s.jsx("td",{colSpan:2,className:ue("py-1.5 px-2"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:ue("flex-1 text-right font-mono-numbers pr-2",c.bold&&"font-bold",y<0&&"text-destructive",y>0&&c.highlight&&"text-accent"),children:re(y,!0)}),s.jsx("span",{className:ue("w-14 text-right text-xs font-mono-numbers",g<0?"text-destructive":"text-muted-foreground"),children:f>0?`${(g*100).toFixed(0)}%`:"-"})]})},u.year)}const h=c.field?u[c.field]??0:0,m=f>0?h/f:0;return s.jsx("td",{colSpan:2,className:"py-1 px-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xe,{type:"number",value:h||"",placeholder:"0",onChange:y=>{c.field&&a(d,c.field,Number(y.target.value)||0)},className:ue("h-7 text-right font-mono-numbers text-xs flex-1","border-transparent bg-transparent hover:border-border focus:border-primary focus:bg-background")}),s.jsx("span",{className:ue("w-14 text-right text-xs font-mono-numbers shrink-0",m<0?"text-destructive":"text-muted-foreground"),children:f>0&&h!==0?`${(m*100).toFixed(0)}%`:"-"})]})},u.year)})]},c.id))})]})})]})}const aR=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function ske(e){return e.projectedRevenue*e.multiple}function oke(e){return e.projectedEBITDA*e.multiple}function lke(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function cke(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,o])=>{const l=n[i]||0;a+=l*o}),t*a}function uke(e){return Object.values(e).reduce((t,r)=>t+r,0)}function dke(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,o)=>i+o,0)*25e4;return t+a}function $c(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=ske(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=oke(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=lke(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=cke(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=uke(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=dke(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function fke(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const hke=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function mke(){const{state:e,computed:t,updateHistoricalData:r,updateValuationConfig:n,saveAll:a}=rs(),{startYear:i,durationYears:o}=e.scenarioSettings,l=Array.from({length:o},(U,q)=>i+q),c=e.valuationConfig,u=U=>n(U),d=c.selectedMethods,f=c.valuationBasis,h=c.historicalYear,m=c.projectedYear,y=c.mixWeight,g=c.averageYears,p=c.valuationParams,v=c.dilutionConfig,x=c.exitScenarios,b=(()=>{const U=e.historicalData[e.historicalData.length-1];return U?U.revenue*U.grossMargin-U.payroll-U.externalCosts:5e5})(),_=e.fundingRounds[e.fundingRounds.length-1],j=(_==null?void 0:_.amount)||15e5;I.useEffect(()=>{(v.totalRaise!==j||v.referenceEBITDA!==b)&&u({dilutionConfig:{...v,totalRaise:j,referenceEBITDA:b}})},[j,b]);const S=Math.max(2e5,v.referenceEBITDA*v.ebitdaMultiple),C=v.totalRaise*(1-v.ocRatio),P=S+C,N=P>0?C/P:0,O=e.historicalData.map(U=>U.year),T=[...O,...l],R=(()=>{const U=D=>{const Y=e.historicalData.find(be=>be.year===D);if(!Y)return{revenue:0,ebitda:0,ebit:0};const Z=Y.revenue*Y.grossMargin-Y.payroll-Y.externalCosts,te=Z-Y.depreciation;return{revenue:Y.revenue,ebitda:Z,ebit:te}},q=D=>{const Y=t.revenueByYear.find(Ne=>Ne.year===D),V=t.payrollByYear.find(Ne=>Ne.year===D),Z=t.opexByYear.find(Ne=>Ne.year===D),te=t.capexByYear.find(Ne=>Ne.year===D),be=(Y==null?void 0:Y.revenue)||0,We=be-((Y==null?void 0:Y.cogs)||0)-((V==null?void 0:V.payroll)||0)-((Z==null?void 0:Z.opex)||0),ge=We-((te==null?void 0:te.depreciation)||0);return{revenue:be,ebitda:We,ebit:ge}},G=D=>O.includes(D)?U(D):q(D);if(f==="average"){if(g.length===0)return{revenue:0,ebitda:0,ebit:0};const D=g.map(V=>G(V)),Y=D.length;return{revenue:D.reduce((V,Z)=>V+Z.revenue,0)/Y,ebitda:D.reduce((V,Z)=>V+Z.ebitda,0)/Y,ebit:D.reduce((V,Z)=>V+Z.ebit,0)/Y}}if(f==="historical")return U(h);if(f==="projected")return q(m);const H=U(h),fe=q(m);return{revenue:H.revenue*(1-y)+fe.revenue*y,ebitda:H.ebitda*(1-y)+fe.ebitda*y,ebit:H.ebit*(1-y)+fe.ebit*y}})(),A=(()=>{const U=[];if(d.includes("revenue_multiple")&&U.push($c("revenue_multiple",{projectedRevenue:R.revenue,multiple:p.revenue_multiple.multiple})),d.includes("ebitda_multiple")&&U.push($c("ebitda_multiple",{projectedEBITDA:R.ebitda,multiple:v.ebitdaMultiple})),d.includes("dcf")){const q=l.map(G=>{const H=t.revenueByYear.find(V=>V.year===G),fe=t.payrollByYear.find(V=>V.year===G),D=t.opexByYear.find(V=>V.year===G),Y=t.capexByYear.find(V=>V.year===G);return((H==null?void 0:H.revenue)||0)-((H==null?void 0:H.cogs)||0)-((fe==null?void 0:fe.payroll)||0)-((D==null?void 0:D.opex)||0)-((Y==null?void 0:Y.capex)||0)});U.push($c("dcf",{cashFlows:q,discountRate:p.dcf.discountRate,terminalGrowthRate:p.dcf.terminalGrowthRate}))}return d.includes("scorecard")&&U.push($c("scorecard",{baseValuation:p.scorecard.baseValuation,factors:{team:p.scorecard.team,market:p.scorecard.market,product:p.scorecard.product,competition:p.scorecard.competition,marketing:p.scorecard.marketing,fundingNeed:p.scorecard.fundingNeed}})),d.includes("berkus")&&U.push($c("berkus",p.berkus)),d.includes("risk_factor")&&U.push($c("risk_factor",{baseValuation:p.risk_factor.baseValuation,factors:{managementRisk:p.risk_factor.managementRisk,businessStage:p.risk_factor.businessStage,legislation:p.risk_factor.legislation,manufacturing:p.risk_factor.manufacturing,salesMarketing:p.risk_factor.salesMarketing,fundingCapital:p.risk_factor.fundingCapital,competition:p.risk_factor.competition,technology:p.risk_factor.technology,litigation:p.risk_factor.litigation,international:p.risk_factor.international,reputation:p.risk_factor.reputation,potentialExit:p.risk_factor.potentialExit}})),U})(),$=fke(A),M=U=>{const q=d.includes(U)?d.filter(G=>G!==U):[...d,U];u({selectedMethods:q})},L=U=>{const q=g.includes(U)?g.filter(G=>G!==U):[...g,U].sort();u({averageYears:q})},B=A.map(U=>{var q;return{name:((q=aR.find(G=>G.id===U.method))==null?void 0:q.name)||U.method,value:U.value/1e6,confidence:U.confidence}}),z=(U,q,G)=>U<=0||q<=0||G<=0?0:Math.pow(q/U,1/G)-1,Q=U=>{const q=t.revenueByYear.find(fe=>fe.year===U),G=t.payrollByYear.find(fe=>fe.year===U),H=t.opexByYear.find(fe=>fe.year===U);return q?q.revenue-q.cogs-((G==null?void 0:G.payroll)||0)-((H==null?void 0:H.opex)||0):0},ee=Object.entries(x).map(([U,q])=>{const G=q.year,H=Q(G),fe=H*q.exitMultiple,Y=fe*N,V=G-e.scenarioSettings.startYear,Z=z(C,Y,V),te=C>0?Y/C:0;return{scenario:U,year:G,exitMultiple:q.exitMultiple,probability:q.probability,ebitdaAtExit:H,exitValuation:fe,investorReturn:Y,irr:Z,multiple:te}}),se=l.map(U=>{const q=t.revenueByYear.find(te=>te.year===U),G=t.payrollByYear.find(te=>te.year===U),H=t.opexByYear.find(te=>te.year===U),fe=t.capexByYear.find(te=>te.year===U),D=(q==null?void 0:q.revenue)||0,Y=D-((q==null?void 0:q.cogs)||0),V=Y-((G==null?void 0:G.payroll)||0)-((H==null?void 0:H.opex)||0),Z=V-((fe==null?void 0:fe.depreciation)||0);return{year:U,revenue:D/1e3,grossMargin:Y/1e3,ebitda:V/1e3,ebit:Z/1e3}});return s.jsx(is,{tabKey:"valuation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[d.length," mthodes slectionnes"]}),s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",re($,!0)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ff,{pageTitle:"Valorisation & Analyse",sections:hke,fileName:"Valorisation"}),s.jsx(Yd,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),(()=>{const U=Math.max(2e5,R.ebitda*v.ebitdaMultiple),q=v.totalRaise*(1-v.ocRatio),G=U+q,H=G>0?q/G:0,fe=ee.reduce((Y,V)=>Y+V.irr*V.probability,0),D=f==="average"?"moyenne":f==="historical"?"historique":f==="mixed"?"mixte":"projet";return s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[s.jsx(Nt,{label:"Pre-Money (EBITDA)",value:re(U,!0),subValue:`${v.ebitdaMultiple.toFixed(1)}x EBITDA ${D}`}),s.jsx(Nt,{label:"Post-Money",value:re(G,!0),subValue:`Leve: ${re(v.totalRaise,!0)}`}),s.jsx(Nt,{label:"Dilution Totale",value:rn(H),subValue:"Part investisseur"}),s.jsx(Nt,{label:"TRI moyen",value:rn(fe),subValue:"Pondr par probabilit"})]})})(),s.jsxs(Ga,{defaultValue:"historical",className:"space-y-4",children:[s.jsxs(Na,{className:"flex flex-wrap",children:[s.jsx(St,{value:"historical",children:"Historique Financier"}),s.jsx(St,{value:"methods",children:"Mthodes de Valorisation"}),s.jsx(St,{value:"dilution",children:"Simulation Dilution"}),s.jsx(St,{value:"exit",children:"Scnarios de Sortie"})]}),s.jsx(Rt,{value:"historical",className:"space-y-6",children:s.jsx(ike,{data:e.historicalData,onChange:r})}),s.jsxs(Rt,{value:"methods",className:"space-y-6",children:[s.jsxs(Ke,{title:"Base de Calcul",children:[s.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"},{value:"average",label:"Moyenne",desc:"Moyenne de plusieurs annes"}].map(U=>s.jsxs("button",{onClick:()=>u({valuationBasis:U.value}),className:ue("p-4 rounded-lg text-left transition-colors border-2",f===U.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium",children:U.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:U.desc})]},U.value))}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(f==="historical"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Anne historique de rfrence"}),s.jsx("div",{className:"flex gap-2",children:O.map(U=>s.jsx(ne,{size:"sm",variant:h===U?"default":"outline",onClick:()=>u({historicalYear:U}),children:U},U))})]}),(f==="projected"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Anne projete de rfrence"}),s.jsx("div",{className:"flex gap-2",children:l.filter((U,q)=>q>=Math.max(0,l.length-4)).map(U=>s.jsx(ne,{size:"sm",variant:m===U?"default":"outline",onClick:()=>u({projectedYear:U}),children:U},U))})]})]}),f==="average"&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(Ce,{children:"Slectionnez les annes de rfrence pour le calcul de la moyenne"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:T.map(U=>{const q=g.includes(U),G=O.includes(U);return s.jsxs("label",{className:ue("flex items-center gap-2 px-3 py-2 rounded-lg border-2 cursor-pointer transition-colors",q?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx(Fa,{checked:q,onCheckedChange:()=>L(U)}),s.jsx("span",{className:"text-sm font-medium",children:U}),s.jsx(Pe,{variant:"outline",className:"text-[10px]",children:G?"Hist.":"Proj."})]},U)})}),g.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.length," anne",g.length>1?"s":""," slectionne",g.length>1?"s":""," : ",g.join(", ")]})]}),f==="mixed"&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pondration"}),s.jsxs("span",{children:[Math.round((1-y)*100),"% historique / ",Math.round(y*100),"% projet"]})]}),s.jsx(zr,{value:[y*100],onValueChange:([U])=>u({mixWeight:U/100}),min:0,max:100,step:5})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:re(R.revenue,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBITDA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ue("text-lg font-bold font-mono-numbers",R.ebitda<0&&"text-destructive"),children:re(R.ebitda,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBIT de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ue("text-lg font-bold font-mono-numbers",R.ebit<0&&"text-destructive"),children:re(R.ebit,!0)})]})]})]}),s.jsxs(Ke,{title:"Slection des Mthodes",children:[s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:aR.filter(U=>U.id==="revenue_multiple"||U.id==="ebitda_multiple").map(U=>{const q=d.includes(U.id),G=A.find(H=>H.method===U.id);return s.jsxs("button",{onClick:()=>M(U.id),className:ue("p-4 rounded-lg text-left transition-all border-2",q?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:U.name}),q&&s.jsx(Pe,{variant:"default",className:"text-xs",children:"Actif"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:U.description}),G&&s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:re(G.value,!0)})]},U.id)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ce,{children:"Multiple CA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[p.revenue_multiple.multiple.toFixed(1),"x"]})]}),s.jsx(zr,{value:[p.revenue_multiple.multiple],onValueChange:([U])=>u({valuationParams:{...p,revenue_multiple:{...p.revenue_multiple,multiple:U}}}),min:.5,max:10,step:.5}),d.includes("revenue_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",re(R.revenue,!0),"  ",p.revenue_multiple.multiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:re(R.revenue*p.revenue_multiple.multiple,!0)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ce,{children:"Multiple EBITDA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[v.ebitdaMultiple.toFixed(1),"x"]})]}),s.jsx(zr,{value:[v.ebitdaMultiple],onValueChange:([U])=>u({dilutionConfig:{...v,ebitdaMultiple:U}}),min:2,max:15,step:.5}),d.includes("ebitda_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",re(R.ebitda,!0),"  ",v.ebitdaMultiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:re(R.ebitda*v.ebitdaMultiple,!0)})]})]})]})]}),A.length>0&&s.jsx(Ke,{title:"Comparaison des Valorisations",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:B,layout:"vertical",children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{type:"number",tickFormatter:U=>`${U}M`}),s.jsx(Vt,{type:"category",dataKey:"name",width:120}),s.jsx(Ct,{formatter:U=>`${U.toFixed(1)}M`}),s.jsx(Wt,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),s.jsx(Rt,{value:"dilution",className:"space-y-6",children:s.jsx(zG,{config:v,onChange:U=>u({dilutionConfig:U})})}),s.jsxs(Rt,{value:"exit",className:"space-y-6",children:[s.jsx(Ke,{title:"Paramtres des Scnarios de Sortie",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:U,label:q,color:G})=>s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:ue("font-medium",G),children:q}),s.jsx(Pe,{variant:"outline",children:x[U].year})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Multiple EBITDA sortie"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[x[U].exitMultiple,"x"]})]}),s.jsx(zr,{value:[x[U].exitMultiple],onValueChange:([H])=>u({exitScenarios:{...x,[U]:{...x[U],exitMultiple:H}}}),min:2,max:15,step:.5})]})]},U))})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:ee.map(U=>s.jsx(Ke,{title:U.scenario==="conservative"?"Prudent":U.scenario==="base"?"Base":"Ambitieux",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),s.jsx("p",{className:"text-xl font-bold",children:U.year})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),s.jsxs("p",{className:"text-xl font-bold",children:[U.exitMultiple,"x"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:re(U.ebitdaAtExit,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:re(U.exitValuation,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:re(U.investorReturn,!0)})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"TRI"}),s.jsx("span",{className:ue("font-bold font-mono-numbers",U.irr>=.25?"text-green-600 dark:text-green-400":U.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:rn(U.irr)})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm",children:"Multiple"}),s.jsxs("span",{className:"font-bold font-mono-numbers",children:[U.multiple.toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),s.jsx("span",{className:"text-muted-foreground",children:rn(U.probability)})]})]})]})},U.scenario))}),s.jsx(Ke,{title:"volution Prvisionnelle P&L",children:s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(Ey,{data:se,children:[s.jsx(Nr,{strokeDasharray:"3 3"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:U=>`${U}k`}),s.jsx(Ct,{formatter:U=>`${U.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),s.jsx(Mn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),s.jsx(Mn,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function pke(){return s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[s.jsx(np,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const Ye=["#e11d48","#2563eb","#16a34a","#f59e0b","#8b5cf6","#06b6d4","#ea580c","#64748b","#d946ef","#0d9488"],gke={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"},vke={"by-product":"Par Produit","by-channel-global":"Global Canaux","by-client":"Par Client"},yke={cash:!0,clientDeck:!0,evolution:!0,needs:!0,payroll:!0,projection:!0,valuation:!0},iR={cash:"Approche Cash",clientDeck:"Deck CA Clients",evolution:"Graphiques d'volution",needs:"Justification des Besoins",payroll:"Masse Salariale",projection:"Projection Dtaille",valuation:"Valorisation & Tours"};function xke(){var q,G,H,fe;const{state:e,computed:t,setRevenueMode:r}=rs(),[n,a]=w.useState(yke),[i,o]=w.useState(!1),l=D=>{a(Y=>({...Y,[D]:!Y[D]}))},{monthlyTreasuryProjection:c}=t,{startYear:u,durationYears:d,initialCash:f}=e.scenarioSettings,h=u+d-1,m=Array.from({length:d},(D,Y)=>u+Y),y=w.useMemo(()=>{const D=Wd(c.months);return m.map(Y=>{const V=D.get(Y);if(!V)return{year:Y,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:0,treasuryEnd:0,ebitda:0,capex:0};const te=c.months.filter(be=>be.year===Y).reduce((be,Re)=>be+Re.capexPayments,0);return{...V,capex:te}})},[c,m]),g=c.totalFundingRaised,p=f+g,v=c.minTreasury,x=((q=c.breakEvenMonth)==null?void 0:q.year)||"N/A",b=v<0,_=(G=y.find(D=>D.treasuryEnd<0))==null?void 0:G.year,j=w.useMemo(()=>{const D=c.months.filter(Y=>Y.netCashFlow<0);return D.length===0?0:Math.max(...D.map(Y=>Math.abs(Y.netCashFlow)))},[c]),S=w.useMemo(()=>{const D=c.months.filter(Y=>Y.netCashFlow<0);return D.length===0?0:D.reduce((Y,V)=>Y+Math.abs(V.netCashFlow),0)/D.length},[c]),C=S>0?Math.round(p/S):99,P=y.reduce((D,Y)=>D+Y.revenue,0),N=y.reduce((D,Y)=>D+Y.payroll,0),O=y.reduce((D,Y)=>D+Y.opex,0),T=c.totalCapexPayments,E=y.reduce((D,Y)=>D+Y.cogs,0),R=N+O+T+E,k=Math.max(0,-v),A=g-k,$=y.map(D=>({year:D.year,"Cash Flow":D.netCashFlow/1e3,Trsorerie:D.treasuryEnd/1e3})),M=e.fundingRounds[e.fundingRounds.length-1],L=M?M.preMoneyValuation+M.amount:0,B=M?M.amount/L:0,z=w.useMemo(()=>y.map(D=>({year:D.year,CA:D.revenue/1e3,"Marge Brute":D.grossMargin/1e3,EBITDA:D.ebitda/1e3,Trsorerie:D.treasuryEnd/1e3,COGS:D.cogs/1e3,"Masse Sal.":D.payroll/1e3,OPEX:D.opex/1e3})),[y]),Q=w.useMemo(()=>[{name:"Masse Salariale",value:N,color:Ye[1]},{name:"COGS",value:E,color:Ye[3]},{name:"OPEX",value:O,color:Ye[4]},{name:"CAPEX",value:T,color:Ye[0]}].filter(D=>D.value>0),[N,E,O,T]),ee=w.useMemo(()=>{var We;if(e.revenueMode!=="by-client")return null;const D=e.clientRevenueConfig;if(!((We=D==null?void 0:D.entries)!=null&&We.length))return null;const Y=(ge,Ne)=>{if(ge.revenueByYear[Ne]!==void 0)return ge.revenueByYear[Ne];const Xe=ge.individualGrowthRate??D.growthRate,F=m[0],J=Ne-F+1;return ge.baseRevenue*Math.pow(1+Xe,J)},V=ge=>{var Ne;return ge.channel==="B2C"?D.marginB2C??D.marginRate:ge.categoryId&&((Ne=D.marginByCategory)==null?void 0:Ne[ge.categoryId])!==void 0?D.marginByCategory[ge.categoryId]:D.marginRate},te=["B2C","B2B","OEM"].map(ge=>{const Ne=D.entries.filter(Xe=>Xe.channel===ge);return{channel:ge,count:Ne.length,revenueByYear:m.map(Xe=>Ne.reduce((F,J)=>F+Y(J,Xe),0)),totalRevenue:m.reduce((Xe,F)=>Xe+Ne.reduce((J,oe)=>J+Y(oe,F),0),0)}}).filter(ge=>ge.count>0),be=D.entries.map(ge=>({name:ge.clientName,channel:ge.channel,category:ge.categoryName||"Sans catgorie",marginRate:V(ge),total:m.reduce((Ne,Xe)=>Ne+Y(ge,Xe),0),revenueByYear:m.map(Ne=>Y(ge,Ne))})).sort((ge,Ne)=>Ne.total-ge.total),Re=m.map((ge,Ne)=>{const Xe={year:ge};return te.forEach(F=>{Xe[F.channel]=F.revenueByYear[Ne]/1e3}),Xe});return{channelData:te,clientTotals:be,stackedChartData:Re}},[e.revenueMode,e.clientRevenueConfig,m]),se={B2C:Ye[0],B2B:Ye[1],OEM:Ye[3]},U=({label:D,value:Y,sub:V,icon:Z,accent:te,className:be})=>s.jsxs("div",{className:ue("relative overflow-hidden p-5 rounded-xl border-2 transition-all hover:shadow-lg",be),children:[s.jsx("div",{className:"absolute top-3 right-3 opacity-10",children:s.jsx(Z,{className:"h-12 w-12"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[s.jsx(Z,{className:"h-4 w-4",style:te?{color:te}:void 0}),D]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers tracking-tight",style:te?{color:te}:void 0,children:Y}),V&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:V})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:"default",children:gke[e.activeScenarioId]}),s.jsxs(lt,{value:e.revenueMode,onValueChange:D=>r(D),children:[s.jsx(st,{className:"h-8 w-[160px] text-xs",children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"by-product",children:"Par Produit"}),s.jsx(De,{value:"by-channel-global",children:"Global Canaux"}),s.jsx(De,{value:"by-client",children:"Par Client"})]})]}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[u,"  ",h," (",d," ans)"]}),s.jsxs(Pe,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(Hl,{className:"h-3 w-3"}),e.products.length," produits"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>o(!i),className:"gap-1",children:[s.jsx(Vu,{className:"h-4 w-4"}),"Sections"]}),s.jsx(pke,{})]})]}),i&&s.jsxs("div",{className:"p-4 bg-muted/30 border rounded-lg",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Afficher / Masquer les sections du rapport"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.keys(iR).map(D=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx(B0,{checked:n[D],onCheckedChange:()=>l(D)}),s.jsx("span",{className:ue(!n[D]&&"text-muted-foreground line-through"),children:iR[D]})]},D))})]}),b&&s.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(Wu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",_,". Point bas: ",re(v,!0),". Financement additionnel de ",re(Math.abs(v),!0)," requis."]})]})]}),n.cash&&s.jsxs(Ke,{title:"Approche Cash",id:"cash-approach",children:[s.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[s.jsx(U,{label:"Cash Initial (T0)",value:re(f,!0),icon:Tg,className:"bg-muted/30"}),s.jsx(U,{label:"Montant Lev",value:re(g,!0),sub:`${e.fundingRounds.length} tour(s)`,icon:Pb,accent:Ye[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Trso Dpart",value:re(p,!0),icon:jl,accent:Ye[2],className:"bg-emerald-500/5 border-emerald-500/20"}),s.jsx(U,{label:"Point Bas",value:re(v,!0),icon:v<0?oh:Fo,accent:v<0?Ye[0]:Ye[2],className:v<0?"bg-destructive/5 border-destructive/30":"bg-muted/30"}),s.jsx(U,{label:"Break-even",value:String(x),sub:`Runway: ${C>60?"60+":C} mois`,icon:Hl,className:"bg-muted/30"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"h-72",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[s.jsx(cv,{className:"h-4 w-4"}),"Cash Flow & Trsorerie"]}),s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:$,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:D=>`${D}k`}),s.jsx(Ct,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"Cash Flow",fill:Ye[3],radius:[4,4,0,0]}),s.jsx(Rn,{type:"monotone",dataKey:"Trsorerie",stroke:Ye[1],strokeWidth:3,dot:{r:5,fill:Ye[1]}})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(oh,{className:"h-4 w-4"}),"Mtriques de Burn"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Burn Max / mois"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-destructive",children:re(j,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Burn Moyen / mois"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-amber-500",children:re(S,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"CA Total Priode"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",style:{color:Ye[2]},children:re(P,!0)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Cots Totaux"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:re(R,!0)})]})]})]})]})]}),n.evolution&&s.jsx(Ke,{title:"Graphiques d'volution",id:"evolution-charts",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(GI,{className:"h-4 w-4",style:{color:Ye[0]}}),"volution CA, Marge & EBITDA"]}),s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(Ey,{data:z,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"gradCA",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Ye[0],stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:Ye[0],stopOpacity:0})]}),s.jsxs("linearGradient",{id:"gradMargin",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Ye[2],stopOpacity:.15}),s.jsx("stop",{offset:"95%",stopColor:Ye[2],stopOpacity:0})]})]}),s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:D=>`${D}k`}),s.jsx(Ct,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Mn,{type:"monotone",dataKey:"CA",stroke:Ye[0],fill:"url(#gradCA)",strokeWidth:2.5,dot:{r:4}}),s.jsx(Mn,{type:"monotone",dataKey:"Marge Brute",stroke:Ye[2],fill:"url(#gradMargin)",strokeWidth:2.5,dot:{r:4}}),s.jsx(Rn,{type:"monotone",dataKey:"EBITDA",stroke:Ye[4],strokeWidth:2.5,dot:{r:4},strokeDasharray:"6 3"})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(cv,{className:"h-4 w-4",style:{color:Ye[1]}}),"Rpartition des Cots par Anne"]}),s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:z,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:D=>`${D}k`}),s.jsx(Ct,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),s.jsx(Wt,{dataKey:"COGS",stackId:"costs",fill:Ye[3],radius:[0,0,0,0]}),s.jsx(Wt,{dataKey:"Masse Sal.",stackId:"costs",fill:Ye[1]}),s.jsx(Wt,{dataKey:"OPEX",stackId:"costs",fill:Ye[4],radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Tg,{className:"h-4 w-4",style:{color:Ye[5]}}),"Trsorerie Mensuelle"]}),s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(Ey,{data:c.months.map(D=>({label:`${D.month}/${D.year}`,Trsorerie:D.treasuryEnd/1e3})),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradTreso",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:Ye[5],stopOpacity:.2}),s.jsx("stop",{offset:"95%",stopColor:Ye[5],stopOpacity:0})]})}),s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"label",tick:{fontSize:10},interval:"preserveStartEnd"}),s.jsx(Vt,{tickFormatter:D=>`${D}k`}),s.jsx(Ct,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Mn,{type:"monotone",dataKey:"Trsorerie",stroke:Ye[5],fill:"url(#gradTreso)",strokeWidth:2})]})})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(jl,{className:"h-4 w-4"}),"Rpartition des Cots (Priode)"]}),s.jsxs("div",{className:"h-64 flex items-center",children:[s.jsx(wr,{width:"50%",height:"100%",children:s.jsxs(RN,{children:[s.jsx(Pi,{data:Q,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:3,dataKey:"value",children:Q.map((D,Y)=>s.jsx(el,{fill:D.color},D.name))}),s.jsx(Ct,{formatter:D=>re(D,!0)})]})}),s.jsx("div",{className:"flex-1 space-y-2",children:Q.map(D=>{const Y=R>0?D.value/R*100:0;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:D.color}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium truncate",children:D.name}),s.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[Y.toFixed(0),"%  ",re(D.value,!0)]})]})]},D.name)})})]})]})]})}),n.clientDeck&&s.jsx(Ke,{title:"Deck  Chiffre d'Affaires",id:"client-deck",children:e.revenueMode==="by-client"&&ee?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:ee.channelData.map(D=>s.jsxs("div",{className:"p-5 rounded-xl border-2",style:{borderColor:se[D.channel]+"40",background:se[D.channel]+"08"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Pe,{style:{backgroundColor:se[D.channel],color:"white"},children:D.channel}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[D.count," client(s)"]})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers mb-1",children:re(D.totalRevenue,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA cumul ",u,"",h]}),s.jsx("div",{className:"flex gap-2 mt-3",children:D.revenueByYear.map((Y,V)=>s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground",children:m[V]}),s.jsxs("div",{className:"text-xs font-mono-numbers font-medium",children:[(Y/1e3).toFixed(0),"k"]})]},m[V]))})]},D.channel))}),s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:ee.stackedChartData,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{tickFormatter:D=>`${D}k`}),s.jsx(Ct,{formatter:D=>`${D.toFixed(0)}k`}),s.jsx(Dr,{}),ee.channelData.map(D=>s.jsx(Wt,{dataKey:D.channel,stackId:"a",fill:se[D.channel],radius:[2,2,0,0]},D.channel))]})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-sm",children:"Top Clients"}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Client"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Canal"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Catgorie"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Marge"}),m.map(D=>s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:D},D)),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Total"})]})}),s.jsx("tbody",{children:ee.clientTotals.slice(0,15).map((D,Y)=>s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:D.name}),s.jsx("td",{className:"py-2 px-3",children:s.jsx(Pe,{variant:"outline",className:"text-[10px]",style:{borderColor:se[D.channel]},children:D.channel})}),s.jsx("td",{className:"py-2 px-3 text-muted-foreground",children:D.category}),s.jsxs("td",{className:"py-2 px-3 text-right font-mono-numbers",children:[(D.marginRate*100).toFixed(0),"%"]}),D.revenueByYear.map((V,Z)=>s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(V,!0)},m[Z])),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-semibold",children:re(D.total,!0)})]},Y))})]})})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(xi,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"font-medium",children:e.revenueMode==="by-client"?"Aucun client configur  ajoutez des entres dans le Plan Produit":`Mode actuel : ${vke[e.revenueMode]}`}),s.jsx("p",{className:"text-sm mt-1",children:"Passez en mode  Par Client  pour afficher le deck CA dtaill par client."})]})}),n.needs&&s.jsxs(Ke,{title:"Justification des Besoins",id:"needs-justification",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Nb,{className:"h-4 w-4"}),"Rpartition Globale (",u,"-",h,")"]}),s.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:N,icon:xi,color:Ye[1]},{label:"COGS (Cot des ventes)",value:E,icon:tc,color:Ye[3]},{label:"OPEX (Charges)",value:O,icon:Nb,color:Ye[4]},{label:"CAPEX (R&D)",value:T,icon:jl,color:Ye[0]}].map(D=>{const Y=D.icon,V=R>0?D.value/R*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Y,{className:"h-4 w-4",style:{color:D.color}}),s.jsx("span",{children:D.label})]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:re(D.value,!0)})]}),s.jsx("div",{className:"h-2.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${V}%`,backgroundColor:D.color}})}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[V.toFixed(0),"%"]})]},D.label)}),s.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Cots"}),s.jsx("span",{className:"font-mono-numbers",children:re(R,!0)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Pb,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-5 bg-muted/30 rounded-xl border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),s.jsx(Pe,{variant:"secondary",children:"Calcul"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:re(k,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),s.jsxs("div",{className:"p-5 rounded-xl border-2",style:{background:Ye[1]+"08",borderColor:Ye[1]+"30"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Montant Lev"}),s.jsx(Pe,{variant:"default",children:(M==null?void 0:M.name)||"Round"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",style:{color:Ye[1]},children:re(g,!0)})]}),s.jsxs("div",{className:ue("p-5 rounded-xl border-2",A>=0?"border-emerald-500/30 bg-emerald-500/5":"bg-destructive/10 border-destructive/30"),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:A>=0?"Marge de Scurit":"Dficit"}),s.jsxs("span",{className:ue("text-2xl font-bold font-mono-numbers",A>=0?"text-emerald-600":"text-destructive"),children:[A>=0?"+":"",re(A,!0)]})]}),A>=0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",rn(A/g)," sur le montant lev"]})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Dtail Anne par Anne"]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"COGS"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"OPEX"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"CAPEX"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Total Cots"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Cash Flow"})]})}),s.jsx("tbody",{children:y.map(D=>{const Y=D.cogs+D.payroll+D.opex+D.capex;return s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-semibold",children:D.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(D.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.cogs,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.payroll,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.opex,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.capex,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:re(Y,!0)}),s.jsxs("td",{className:ue("py-2 px-3 text-right font-mono-numbers font-medium",D.netCashFlow>=0?"text-emerald-600":"text-destructive"),children:[D.netCashFlow>=0?"+":"",re(D.netCashFlow,!0)]})]},D.year)})})]})})]}),e.opexMode==="simple"&&(e.simpleOpexConfig.strategicOpex||[]).length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(ZW,{className:"h-4 w-4"}),"OPEX Stratgiques (inclus dans le budget)"]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold text-xs",children:"Poste"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:"Montant Base"}),m.map(D=>s.jsx("th",{className:"text-right py-2 px-3 font-semibold text-xs",children:D},D))]})}),s.jsxs("tbody",{children:[(e.simpleOpexConfig.strategicOpex||[]).map(D=>s.jsxs("tr",{className:"border-b hover:bg-muted/20 text-xs",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:D.name}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(D.amount,!0)}),m.map((Y,V)=>s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.amount*Math.pow(1+e.simpleOpexConfig.growthRate,V),!0)},Y))]},D.id)),s.jsxs("tr",{className:"bg-muted/20 font-medium text-xs",children:[s.jsx("td",{className:"py-2 px-3",children:"Total Stratgique"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re((e.simpleOpexConfig.strategicOpex||[]).reduce((D,Y)=>D+Y.amount,0),!0)}),m.map((D,Y)=>{const V=(e.simpleOpexConfig.strategicOpex||[]).reduce((Z,te)=>Z+te.amount,0);return s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(V*Math.pow(1+e.simpleOpexConfig.growthRate,Y),!0)},D)})]})]})]})})]})]}),n.payroll&&s.jsx(Ke,{title:"Masse Salariale & Embauches",id:"payroll-detail",children:(()=>{var Re,We;const D=e.roles||[],Y={"R&D":Ye[0],Production:Ye[2],Sales:Ye[3],Support:Ye[5],Admin:Ye[1]},V=m.map(ge=>{const Ne=D.filter(F=>F.startYear<=ge),Xe={};return Ne.forEach(F=>{Xe[F.department]=(Xe[F.department]||0)+F.annualCostLoaded}),{year:ge,total:Ne.reduce((F,J)=>F+J.annualCostLoaded,0),byDept:Xe,headcount:Ne.length}}),Z=m.map(ge=>({year:ge,hires:D.filter(Ne=>Ne.startYear===ge)})),te=[...new Set(D.map(ge=>ge.department))],be=V.map(ge=>{const Ne={year:ge.year,Effectif:ge.headcount};return te.forEach(Xe=>{Ne[Xe]=(ge.byDept[Xe]||0)/1e3}),Ne});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(U,{label:"Effectif Final",value:String(((Re=V[V.length-1])==null?void 0:Re.headcount)||0),sub:`en ${h}`,icon:xi,accent:Ye[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Masse Sal. Finale",value:re(((We=V[V.length-1])==null?void 0:We.total)||0,!0),sub:`/an en ${h}`,icon:Tg,accent:Ye[0],className:"bg-rose-500/5 border-rose-500/20"}),s.jsx(U,{label:"Cot Total Priode",value:re(N,!0),sub:`${u}${h}`,icon:Nb,className:"bg-muted/30"}),s.jsx(U,{label:"Cot Moyen / ETP",value:D.length>0?re(N/d/(D.length||1),!0):"",sub:"/an moyen",icon:jl,className:"bg-muted/30"})]}),s.jsx("div",{className:"h-64",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(_d,{data:be,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"year"}),s.jsx(Vt,{yAxisId:"left",tickFormatter:ge=>`${ge}k`}),s.jsx(Vt,{yAxisId:"right",orientation:"right"}),s.jsx(Ct,{formatter:(ge,Ne)=>Ne==="Effectif"?ge:`${ge.toFixed(0)}k`}),s.jsx(Dr,{}),te.map((ge,Ne)=>s.jsx(Wt,{yAxisId:"left",dataKey:ge,stackId:"a",fill:Y[ge]||Ye[Ne%Ye.length]},ge)),s.jsx(Rn,{yAxisId:"right",type:"monotone",dataKey:"Effectif",stroke:"hsl(var(--foreground))",strokeWidth:2,dot:{r:3}})]})})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm",children:[s.jsx(wH,{className:"h-4 w-4"}),"Planning des Embauches"]}),s.jsxs("div",{className:"space-y-4",children:[Z.filter(ge=>ge.hires.length>0).map(({year:ge,hires:Ne})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:ge}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ne.length," embauche(s)"]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-2",children:Ne.map(Xe=>s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:Xe.title}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Y[Xe.department]||Ye[0]}}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:Xe.department})]})]}),s.jsx("div",{className:"text-sm font-mono-numbers font-semibold",children:re(Xe.annualCostLoaded,!0)})]},Xe.id))})]},ge)),Z.every(ge=>ge.hires.length===0)&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucun poste configur  rendez-vous dans l'onglet Organisation"})]})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"Poste"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"Dpartement"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"Arrive"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"Cot charg /an"}),m.map(ge=>s.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:ge},ge))]})}),s.jsx("tbody",{children:D.sort((ge,Ne)=>ge.startYear-Ne.startYear||ge.department.localeCompare(Ne.department)).map(ge=>s.jsxs("tr",{className:"border-b hover:bg-muted/20",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:ge.title}),s.jsx("td",{className:"py-2 px-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Y[ge.department]||Ye[0]}}),ge.department]})}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ge.startYear}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:re(ge.annualCostLoaded,!0)}),m.map(Ne=>s.jsx("td",{className:"py-2 px-3 text-center",children:ge.startYear<=Ne?s.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-primary/20 text-primary text-[10px] leading-4",children:""}):s.jsx("span",{className:"text-muted-foreground/30",children:""})},Ne))]},ge.id))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold text-xs",children:[s.jsx("td",{className:"py-2 px-3",colSpan:3,children:"Total"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:""}),V.map(ge=>s.jsxs("td",{className:"py-2 px-3 text-center font-mono-numbers",children:[(ge.total/1e3).toFixed(0),"k"]},ge.year))]})})]})})]})})()}),n.projection&&s.jsx(Ke,{title:"Projection Dtaille",id:"detailed-projection",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),s.jsx("tbody",{children:y.map(D=>s.jsxs("tr",{className:ue("border-b hover:bg-muted/20",D.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-3 px-3 font-semibold",children:D.year}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(D.revenue,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.cogs,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(D.grossMargin,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.payroll,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.opex,!0)}),s.jsx("td",{className:ue("py-3 px-3 text-right font-mono-numbers font-medium",D.ebitda>=0?"text-emerald-600":"text-destructive"),children:re(D.ebitda,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:re(D.capex,!0)}),s.jsxs("td",{className:ue("py-3 px-3 text-right font-mono-numbers font-medium",D.netCashFlow>=0?"text-emerald-600":"text-destructive"),children:[D.netCashFlow>=0?"+":"",re(D.netCashFlow,!0)]}),s.jsx("td",{className:ue("py-3 px-3 text-right font-mono-numbers font-bold",D.treasuryEnd<0&&"text-destructive"),children:re(D.treasuryEnd,!0)})]},D.year))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[s.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(P,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(E,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(P-E,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(N,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(O,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(T,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:re(((H=y[y.length-1])==null?void 0:H.treasuryEnd)||0,!0)})]})})]})})}),n.valuation&&s.jsxs(Ke,{title:"Valorisation & Tours",id:"valuation",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[s.jsx(U,{label:"Pre-Money",value:re((M==null?void 0:M.preMoneyValuation)||0,!0),sub:(M==null?void 0:M.name)||"-",icon:jl,accent:Ye[4],className:"bg-violet-500/5 border-violet-500/20"}),s.jsx(U,{label:"Post-Money",value:re(L,!0),sub:"Aprs leve",icon:Pb,accent:Ye[1],className:"bg-blue-500/5 border-blue-500/20"}),s.jsx(U,{label:"Dilution",value:rn(B),sub:"Part cde",icon:oh,accent:B>.25?Ye[0]:Ye[2],className:B>.25?"bg-rose-500/5 border-rose-500/20":"bg-emerald-500/5 border-emerald-500/20"}),s.jsx(U,{label:"Multiple CA",value:P>0?`${(L/(((fe=y[y.length-1])==null?void 0:fe.revenue)||1)).toFixed(1)}x`:"-",sub:`sur CA ${h}`,icon:Fo,className:"bg-muted/30"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map((D,Y)=>s.jsxs("div",{className:"p-5 rounded-xl border-2 transition-all hover:shadow-md",style:{borderColor:Ye[Y%Ye.length]+"30"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold",children:D.name}),s.jsx(Pe,{variant:"outline",className:"text-xs mt-1",children:D.year})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xl font-bold font-mono-numbers",style:{color:Ye[Y%Ye.length]},children:re(D.amount,!0)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("span",{children:"Pre-money:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:re(D.preMoneyValuation,!0)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{children:"Dilution:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:rn(D.amount/(D.preMoneyValuation+D.amount))})]})]})]},D.id))})]})]})}var Mt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Mt||(Mt={}));var sR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(sR||(sR={}));const Fe=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),no=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Se=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $s extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof $s))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}$s.create=e=>new $s(e);const Y_=(e,t)=>{let r;switch(e.code){case Se.invalid_type:e.received===Fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Mt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Mt.joinValues(e.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Mt.joinValues(e.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Mt.joinValues(e.options)}, received '${e.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Mt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Se.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Se.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=t.defaultError,Mt.assertNever(e)}return{message:r}};let bke=Y_;function wke(){return bke}const jke=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Te(e,t){const r=wke(),n=jke({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Y_?void 0:Y_].filter(a=>!!a)});e.common.issues.push(n)}class ja{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ja.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return mt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const mt=Object.freeze({status:"aborted"}),Xf=e=>({status:"dirty",value:e}),Ya=e=>({status:"valid",value:e}),oR=e=>e.status==="aborted",lR=e=>e.status==="dirty",Nd=e=>e.status==="valid",Iy=e=>typeof Promise<"u"&&e instanceof Promise;var He;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(He||(He={}));class qo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cR=(e,t)=>{if(Nd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $s(e.common.issues);return this._error=r,this._error}}};function wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class At{get description(){return this._def.description}_getType(t){return no(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:no(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ja,ctx:{common:t.parent.common,data:t.data,parsedType:no(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Iy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:no(t)},a=this._parseSync({data:t,path:n.path,parent:n});return cR(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:no(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Nd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Nd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:no(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Iy(a)?a:Promise.resolve(a));return cR(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Se.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new kd({schema:this,typeName:pt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Io.create(this,this._def)}nullable(){return Ed.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zi.create(this)}promise(){return Fy.create(this,this._def)}or(t){return Ly.create([this,t],this._def)}and(t){return By.create(this,t,this._def)}transform(t){return new kd({...wt(this._def),schema:this,typeName:pt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Z_({...wt(this._def),innerType:this,defaultValue:r,typeName:pt.ZodDefault})}brand(){return new Hke({typeName:pt.ZodBranded,type:this,...wt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Q_({...wt(this._def),innerType:this,catchValue:r,typeName:pt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return eP.create(this,t)}readonly(){return J_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _ke=/^c[^\s-]{8,}$/i,Ske=/^[0-9a-z]+$/,Cke=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nke=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pke=/^[a-z0-9_-]{21}$/i,kke=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Eke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ake=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oke="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Aw;const Tke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$ke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ike=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lke=new RegExp(`^${RU}$`);function MU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Bke(e){return new RegExp(`^${MU(e)}$`)}function Fke(e){let t=`${RU}T${MU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function zke(e,t){return!!((t==="v4"||!t)&&Tke.test(e)||(t==="v6"||!t)&&Mke.test(e))}function Uke(e,t){if(!kke.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Vke(e,t){return!!((t==="v4"||!t)&&Rke.test(e)||(t==="v6"||!t)&&$ke.test(e))}class bo extends At{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Te(i,{code:Se.invalid_type,expected:Fe.string,received:i.parsedType}),mt}const n=new ja;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Te(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Te(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Ake.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"email",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Aw||(Aw=new RegExp(Oke,"u")),Aw.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"emoji",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Nke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"uuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Pke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"nanoid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")_ke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"cuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ske.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"cuid2",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Cke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"ulid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Te(a,{validation:"url",code:Se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"regex",code:Se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Fke(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Lke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Bke(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Eke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"duration",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?zke(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"ip",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Uke(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"jwt",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Vke(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"cidr",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Ike.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"base64",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Dke.test(t.data)||(a=this._getOrReturnCtx(t,a),Te(a,{validation:"base64url",code:Se.invalid_string,message:i.message}),n.dirty()):Mt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Se.invalid_string,...He.errToObj(n)})}_addCheck(t){return new bo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...He.errToObj(t)})}url(t){return this._addCheck({kind:"url",...He.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...He.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...He.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...He.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...He.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...He.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...He.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...He.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...He.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...He.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...He.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...He.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...He.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...He.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...He.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...He.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...He.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...He.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...He.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...He.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...He.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...He.errToObj(r)})}nonempty(t){return this.min(1,He.errToObj(t))}trim(){return new bo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bo.create=e=>new bo({checks:[],typeName:pt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});function Wke(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Hm extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Te(i,{code:Se.invalid_type,expected:Fe.number,received:i.parsedType}),mt}let n;const a=new ja;for(const i of this._def.checks)i.kind==="int"?Mt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Wke(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.not_finite,message:i.message}),a.dirty()):Mt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,He.toString(r))}gt(t,r){return this.setLimit("min",t,!1,He.toString(r))}lte(t,r){return this.setLimit("max",t,!0,He.toString(r))}lt(t,r){return this.setLimit("max",t,!1,He.toString(r))}setLimit(t,r,n,a){return new Hm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:He.toString(a)}]})}_addCheck(t){return new Hm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:He.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:He.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:He.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Hm.create=e=>new Hm({checks:[],typeName:pt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class qm extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let n;const a=new ja;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Te(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Mt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Te(r,{code:Se.invalid_type,expected:Fe.bigint,received:r.parsedType}),mt}gte(t,r){return this.setLimit("min",t,!0,He.toString(r))}gt(t,r){return this.setLimit("min",t,!1,He.toString(r))}lte(t,r){return this.setLimit("max",t,!0,He.toString(r))}lt(t,r){return this.setLimit("max",t,!1,He.toString(r))}setLimit(t,r,n,a){return new qm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:He.toString(a)}]})}_addCheck(t){return new qm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:He.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qm.create=e=>new qm({checks:[],typeName:pt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});class uR extends At{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.boolean,received:n.parsedType}),mt}return Ya(t.data)}}uR.create=e=>new uR({typeName:pt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class Dy extends At{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Te(i,{code:Se.invalid_type,expected:Fe.date,received:i.parsedType}),mt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Te(i,{code:Se.invalid_date}),mt}const n=new ja;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Te(a,{code:Se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Mt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dy({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:He.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:He.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Dy.create=e=>new Dy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:pt.ZodDate,...wt(e)});class dR extends At{_parse(t){if(this._getType(t)!==Fe.symbol){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.symbol,received:n.parsedType}),mt}return Ya(t.data)}}dR.create=e=>new dR({typeName:pt.ZodSymbol,...wt(e)});class fR extends At{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.undefined,received:n.parsedType}),mt}return Ya(t.data)}}fR.create=e=>new fR({typeName:pt.ZodUndefined,...wt(e)});class hR extends At{_parse(t){if(this._getType(t)!==Fe.null){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.null,received:n.parsedType}),mt}return Ya(t.data)}}hR.create=e=>new hR({typeName:pt.ZodNull,...wt(e)});class mR extends At{constructor(){super(...arguments),this._any=!0}_parse(t){return Ya(t.data)}}mR.create=e=>new mR({typeName:pt.ZodAny,...wt(e)});class pR extends At{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ya(t.data)}}pR.create=e=>new pR({typeName:pt.ZodUnknown,...wt(e)});class Ko extends At{_parse(t){const r=this._getOrReturnCtx(t);return Te(r,{code:Se.invalid_type,expected:Fe.never,received:r.parsedType}),mt}}Ko.create=e=>new Ko({typeName:pt.ZodNever,...wt(e)});class gR extends At{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.void,received:n.parsedType}),mt}return Ya(t.data)}}gR.create=e=>new gR({typeName:pt.ZodVoid,...wt(e)});class Zi extends At{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Fe.array)return Te(r,{code:Se.invalid_type,expected:Fe.array,received:r.parsedType}),mt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Te(r,{code:o?Se.too_big:Se.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Te(r,{code:Se.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Te(r,{code:Se.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new qo(r,o,r.path,l)))).then(o=>ja.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new qo(r,o,r.path,l)));return ja.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Zi({...this._def,minLength:{value:t,message:He.toString(r)}})}max(t,r){return new Zi({...this._def,maxLength:{value:t,message:He.toString(r)}})}length(t,r){return new Zi({...this._def,exactLength:{value:t,message:He.toString(r)}})}nonempty(t){return this.min(1,t)}}Zi.create=(e,t)=>new Zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:pt.ZodArray,...wt(t)});function Vc(e){if(e instanceof Mr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Io.create(Vc(n))}return new Mr({...e._def,shape:()=>t})}else return e instanceof Zi?new Zi({...e._def,type:Vc(e.element)}):e instanceof Io?Io.create(Vc(e.unwrap())):e instanceof Ed?Ed.create(Vc(e.unwrap())):e instanceof dc?dc.create(e.items.map(t=>Vc(t))):e}class Mr extends At{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Mt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Fe.object){const u=this._getOrReturnCtx(t);return Te(u,{code:Se.invalid_type,expected:Fe.object,received:u.parsedType}),mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ko){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Te(a,{code:Se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ja.mergeObjectSync(n,u)):ja.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return He.errToObj,new Mr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:He.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Mr({...this._def,unknownKeys:"strip"})}passthrough(){return new Mr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Mr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Mr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:pt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Mr({...this._def,catchall:t})}pick(t){const r={};for(const n of Mt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Mr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Mt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Mr({...this._def,shape:()=>r})}deepPartial(){return Vc(this)}partial(t){const r={};for(const n of Mt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Mr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Mt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Io;)i=i._def.innerType;r[n]=i}return new Mr({...this._def,shape:()=>r})}keyof(){return $U(Mt.objectKeys(this.shape))}}Mr.create=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strip",catchall:Ko.create(),typeName:pt.ZodObject,...wt(t)});Mr.strictCreate=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strict",catchall:Ko.create(),typeName:pt.ZodObject,...wt(t)});Mr.lazycreate=(e,t)=>new Mr({shape:e,unknownKeys:"strip",catchall:Ko.create(),typeName:pt.ZodObject,...wt(t)});class Ly extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new $s(l.ctx.common.issues));return Te(r,{code:Se.invalid_union,unionErrors:o}),mt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new $s(c));return Te(r,{code:Se.invalid_union,unionErrors:l}),mt}}get options(){return this._def.options}}Ly.create=(e,t)=>new Ly({options:e,typeName:pt.ZodUnion,...wt(t)});function X_(e,t){const r=no(e),n=no(t);if(e===t)return{valid:!0,data:e};if(r===Fe.object&&n===Fe.object){const a=Mt.objectKeys(t),i=Mt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=X_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Fe.array&&n===Fe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=X_(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Fe.date&&n===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class By extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(oR(i)||oR(o))return mt;const l=X_(i.value,o.value);return l.valid?((lR(i)||lR(o))&&r.dirty(),{status:r.value,value:l.data}):(Te(n,{code:Se.invalid_intersection_types}),mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}By.create=(e,t,r)=>new By({left:e,right:t,typeName:pt.ZodIntersection,...wt(r)});class dc extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.array)return Te(n,{code:Se.invalid_type,expected:Fe.array,received:n.parsedType}),mt;if(n.data.length<this._def.items.length)return Te(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mt;!this._def.rest&&n.data.length>this._def.items.length&&(Te(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ja.mergeArray(r,o)):ja.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new dc({...this._def,rest:t})}}dc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dc({items:e,typeName:pt.ZodTuple,rest:null,...wt(t)})};class vR extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.map)return Te(n,{code:Se.invalid_type,expected:Fe.map,received:n.parsedType}),mt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new qo(n,l,n.path,[u,"key"])),value:i._parse(new qo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}vR.create=(e,t,r)=>new vR({valueType:t,keyType:e,typeName:pt.ZodMap,...wt(r)});class Km extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.set)return Te(n,{code:Se.invalid_type,expected:Fe.set,received:n.parsedType}),mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Te(n,{code:Se.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Te(n,{code:Se.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new qo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Km({...this._def,minSize:{value:t,message:He.toString(r)}})}max(t,r){return new Km({...this._def,maxSize:{value:t,message:He.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Km.create=(e,t)=>new Km({valueType:e,minSize:null,maxSize:null,typeName:pt.ZodSet,...wt(t)});class yR extends At{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yR.create=(e,t)=>new yR({getter:e,typeName:pt.ZodLazy,...wt(t)});class xR extends At{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Te(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}xR.create=(e,t)=>new xR({value:e,typeName:pt.ZodLiteral,...wt(t)});function $U(e,t){return new Pd({values:e,typeName:pt.ZodEnum,...wt(t)})}class Pd extends At{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{expected:Mt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{received:r.data,code:Se.invalid_enum_value,options:n}),mt}return Ya(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Pd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Pd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Pd.create=$U;class bR extends At{_parse(t){const r=Mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const a=Mt.objectValues(r);return Te(n,{expected:Mt.joinValues(a),received:n.parsedType,code:Se.invalid_type}),mt}if(this._cache||(this._cache=new Set(Mt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Mt.objectValues(r);return Te(n,{received:n.data,code:Se.invalid_enum_value,options:a}),mt}return Ya(t.data)}get enum(){return this._def.values}}bR.create=(e,t)=>new bR({values:e,typeName:pt.ZodNativeEnum,...wt(t)});class Fy extends At{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.promise&&r.common.async===!1)return Te(r,{code:Se.invalid_type,expected:Fe.promise,received:r.parsedType}),mt;const n=r.parsedType===Fe.promise?r.data:Promise.resolve(r.data);return Ya(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fy.create=(e,t)=>new Fy({type:e,typeName:pt.ZodPromise,...wt(t)});class kd extends At{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Te(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?mt:c.status==="dirty"||r.value==="dirty"?Xf(c.value):c});{if(r.value==="aborted")return mt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?mt:l.status==="dirty"||r.value==="dirty"?Xf(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?mt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nd(o))return mt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Nd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):mt);Mt.assertNever(a)}}kd.create=(e,t,r)=>new kd({schema:e,typeName:pt.ZodEffects,effect:t,...wt(r)});kd.createWithPreprocess=(e,t,r)=>new kd({schema:t,effect:{type:"preprocess",transform:e},typeName:pt.ZodEffects,...wt(r)});class Io extends At{_parse(t){return this._getType(t)===Fe.undefined?Ya(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Io.create=(e,t)=>new Io({innerType:e,typeName:pt.ZodOptional,...wt(t)});class Ed extends At{_parse(t){return this._getType(t)===Fe.null?Ya(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ed.create=(e,t)=>new Ed({innerType:e,typeName:pt.ZodNullable,...wt(t)});class Z_ extends At{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Z_.create=(e,t)=>new Z_({innerType:e,typeName:pt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...wt(t)});class Q_ extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Iy(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $s(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $s(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Q_.create=(e,t)=>new Q_({innerType:e,typeName:pt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...wt(t)});class wR extends At{_parse(t){if(this._getType(t)!==Fe.nan){const n=this._getOrReturnCtx(t);return Te(n,{code:Se.invalid_type,expected:Fe.nan,received:n.parsedType}),mt}return{status:"valid",value:t.data}}}wR.create=e=>new wR({typeName:pt.ZodNaN,...wt(e)});class Hke extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class eP extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?mt:i.status==="dirty"?(r.dirty(),Xf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new eP({in:t,out:r,typeName:pt.ZodPipeline})}}class J_ extends At{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Nd(a)&&(a.value=Object.freeze(a.value)),a);return Iy(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}J_.create=(e,t)=>new J_({innerType:e,typeName:pt.ZodReadonly,...wt(t)});Mr.lazycreate;var pt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(pt||(pt={}));const xh=bo.create;Ko.create;Zi.create;const IU=Mr.create;Mr.strictCreate;Ly.create;By.create;dc.create;Pd.create;Fy.create;Io.create;Ed.create;var vp=e=>e.type==="checkbox",Il=e=>e instanceof Date,Fn=e=>e==null;const DU=e=>typeof e=="object";var Ur=e=>!Fn(e)&&!Array.isArray(e)&&DU(e)&&!Il(e),LU=e=>Ur(e)&&e.target?vp(e.target)?e.target.checked:e.target.value:e,qke=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,BU=(e,t)=>e.has(qke(t)),Kke=e=>{const t=e.constructor&&e.constructor.prototype;return Ur(t)&&t.hasOwnProperty("isPrototypeOf")},tP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(tP&&(e instanceof Blob||n))&&(r||Ur(e)))if(t=r?[]:{},!r&&!Kke(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Qr(e[a]));else return e;return t}var V0=e=>/^\w*$/.test(e),Br=e=>e===void 0,rP=e=>Array.isArray(e)?e.filter(Boolean):[],nP=e=>rP(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,t,r)=>{if(!t||!Ur(e))return r;const n=(V0(t)?[t]:nP(t)).reduce((a,i)=>Fn(a)?a:a[i],e);return Br(n)||n===e?Br(e[t])?r:e[t]:n},ha=e=>typeof e=="boolean",zt=(e,t,r)=>{let n=-1;const a=V0(t)?[t]:nP(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ur(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const zy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aP=I.createContext(null);aP.displayName="HookFormContext";const W0=()=>I.useContext(aP),Gke=e=>{const{children:t,...r}=e;return I.createElement(aP.Provider,{value:r},t)};var FU=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==mi.all&&(t._proxyFormState[o]=!n||mi.all),r&&(r[o]=!0),e[o]}});return a};const iP=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Yke(e){const t=W0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=I.useState(r._formState),c=I.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return iP(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),I.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),I.useMemo(()=>FU(o,r,c.current,!1),[o,r])}var Vi=e=>typeof e=="string",zU=(e,t,r,n,a)=>Vi(e)?(n&&t.watch.add(e),Ae(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ae(r,i))):(n&&(t.watchAll=!0),r),eS=e=>Fn(e)||!DU(e);function gs(e,t,r=new WeakSet){if(eS(e)||eS(t))return e===t;if(Il(e)&&Il(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Il(o)&&Il(l)||Ur(o)&&Ur(l)||Array.isArray(o)&&Array.isArray(l)?!gs(o,l,r):o!==l)return!1}}return!0}function Xke(e){const t=W0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=I.useRef(a),u=I.useRef(l),d=I.useRef(void 0);u.current=l;const f=I.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=I.useState(u.current?u.current(f):f);return iP(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=zU(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const p=u.current(g);gs(p,d.current)||(m(p),d.current=p)}else m(g)}}}),[r,i,n,o]),I.useEffect(()=>r._removeUnmounted()),h}function Zke(e){const t=W0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=BU(a._names.array,r),c=I.useMemo(()=>Ae(a._formValues,r,Ae(a._defaultValues,r,o)),[a,r,o]),u=Xke({control:a,name:r,defaultValue:c,exact:!0}),d=Yke({control:a,name:r,exact:!0}),f=I.useRef(e),h=I.useRef(a.register(r,{...e.rules,value:u,...ha(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=I.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ae(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ae(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ae(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ae(d.errors,r)}}),[d,r]),y=I.useCallback(x=>h.current.onChange({target:{value:LU(x),name:r},type:zy.CHANGE}),[r]),g=I.useCallback(()=>h.current.onBlur({target:{value:Ae(a._formValues,r),name:r},type:zy.BLUR}),[r,a._formValues]),p=I.useCallback(x=>{const b=Ae(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),v=I.useMemo(()=>({name:r,value:u,...ha(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:p}),[r,n,d.disabled,y,g,p,u]);return I.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...ha(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,j)=>{const S=Ae(a._fields,_);S&&S._f&&(S._f.mount=j)};if(b(r,!0),x){const _=Qr(Ae(a._options.defaultValues,r));zt(a._defaultValues,r,_),Br(Ae(a._formValues,r))&&zt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),I.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),I.useMemo(()=>({field:v,formState:d,fieldState:m}),[v,d,m])}const Qke=e=>e.render(Zke(e));var UU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},bh=e=>Array.isArray(e)?e:[e],jR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Zn=e=>Ur(e)&&!Object.keys(e).length,sP=e=>e.type==="file",pi=e=>typeof e=="function",Uy=e=>{if(!tP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},VU=e=>e.type==="select-multiple",oP=e=>e.type==="radio",Jke=e=>oP(e)||vp(e),Ow=e=>Uy(e)&&e.isConnected;function eEe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Br(e)?n++:e[t[n++]];return e}function tEe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Br(e[t]))return!1;return!0}function Vr(e,t){const r=Array.isArray(t)?t:V0(t)?[t]:nP(t),n=r.length===1?e:eEe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ur(n)&&Zn(n)||Array.isArray(n)&&tEe(n))&&Vr(e,r.slice(0,-1)),e}var WU=e=>{for(const t in e)if(pi(e[t]))return!0;return!1};function Vy(e,t={}){const r=Array.isArray(e);if(Ur(e)||r)for(const n in e)Array.isArray(e[n])||Ur(e[n])&&!WU(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Vy(e[n],t[n])):Fn(e[n])||(t[n]=!0);return t}function HU(e,t,r){const n=Array.isArray(e);if(Ur(e)||n)for(const a in e)Array.isArray(e[a])||Ur(e[a])&&!WU(e[a])?Br(t)||eS(r[a])?r[a]=Array.isArray(e[a])?Vy(e[a],[]):{...Vy(e[a])}:HU(e[a],Fn(t)?{}:t[a],r[a]):r[a]=!gs(e[a],t[a]);return r}var Df=(e,t)=>HU(e,t,Vy(t));const _R={value:!1,isValid:!1},SR={value:!0,isValid:!0};var qU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Br(e[0].attributes.value)?Br(e[0].value)||e[0].value===""?SR:{value:e[0].value,isValid:!0}:SR:_R}return _R},KU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Br(e)?e:t?e===""?NaN:e&&+e:r&&Vi(e)?new Date(e):n?n(e):e;const CR={isValid:!1,value:null};var GU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,CR):CR;function NR(e){const t=e.ref;return sP(t)?t.files:oP(t)?GU(e.refs).value:VU(t)?[...t.selectedOptions].map(({value:r})=>r):vp(t)?qU(e.refs).value:KU(Br(t.value)?e.ref.value:t.value,e)}var rEe=(e,t,r,n)=>{const a={};for(const i of e){const o=Ae(t,i);o&&zt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Wy=e=>e instanceof RegExp,Lf=e=>Br(e)?e:Wy(e)?e.source:Ur(e)?Wy(e.value)?e.value.source:e.value:e,PR=e=>({isOnSubmit:!e||e===mi.onSubmit,isOnBlur:e===mi.onBlur,isOnChange:e===mi.onChange,isOnAll:e===mi.all,isOnTouch:e===mi.onTouched});const kR="AsyncFunction";var nEe=e=>!!e&&!!e.validate&&!!(pi(e.validate)&&e.validate.constructor.name===kR||Ur(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===kR)),aEe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ER=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const wh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ae(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(wh(l,t))break}else if(Ur(l)&&wh(l,t))break}}};function AR(e,t,r){const n=Ae(e,r);if(n||V0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ae(t,i),l=Ae(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var iEe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Zn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||mi.all))},sEe=(e,t,r)=>!e||!t||e===t||bh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),oEe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,lEe=(e,t)=>!rP(Ae(e,t)).length&&Vr(e,t),cEe=(e,t,r)=>{const n=bh(Ae(e,r));return zt(n,"root",t[r]),zt(e,r,n),e},Dg=e=>Vi(e);function OR(e,t,r="validate"){if(Dg(e)||Array.isArray(e)&&e.every(Dg)||ha(e)&&!e)return{type:r,message:Dg(e)?e:"",ref:t}}var Ic=e=>Ur(e)&&!Wy(e)?e:{value:e,message:""},TR=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:g,valueAsNumber:p,mount:v}=e._f,x=Ae(r,g);if(!v||t.has(g))return{};const b=l?l[0]:o,_=E=>{a&&b.reportValidity&&(b.setCustomValidity(ha(E)?"":E||""),b.reportValidity())},j={},S=oP(o),C=vp(o),P=S||C,N=(p||sP(o))&&Br(o.value)&&Br(x)||Uy(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,O=UU.bind(null,g,n,j),T=(E,R,k,A=cs.maxLength,$=cs.minLength)=>{const M=E?R:k;j[g]={type:E?A:$,message:M,ref:o,...O(E?A:$,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!P&&(N||Fn(x))||ha(x)&&!x||C&&!qU(l).isValid||S&&!GU(l).isValid)){const{value:E,message:R}=Dg(c)?{value:!!c,message:c}:Ic(c);if(E&&(j[g]={type:cs.required,message:R,ref:b,...O(cs.required,R)},!n))return _(R),j}if(!N&&(!Fn(f)||!Fn(h))){let E,R;const k=Ic(h),A=Ic(f);if(!Fn(x)&&!isNaN(x)){const $=o.valueAsNumber||x&&+x;Fn(k.value)||(E=$>k.value),Fn(A.value)||(R=$<A.value)}else{const $=o.valueAsDate||new Date(x),M=z=>new Date(new Date().toDateString()+" "+z),L=o.type=="time",B=o.type=="week";Vi(k.value)&&x&&(E=L?M(x)>M(k.value):B?x>k.value:$>new Date(k.value)),Vi(A.value)&&x&&(R=L?M(x)<M(A.value):B?x<A.value:$<new Date(A.value))}if((E||R)&&(T(!!E,k.message,A.message,cs.max,cs.min),!n))return _(j[g].message),j}if((u||d)&&!N&&(Vi(x)||i&&Array.isArray(x))){const E=Ic(u),R=Ic(d),k=!Fn(E.value)&&x.length>+E.value,A=!Fn(R.value)&&x.length<+R.value;if((k||A)&&(T(k,E.message,R.message),!n))return _(j[g].message),j}if(m&&!N&&Vi(x)){const{value:E,message:R}=Ic(m);if(Wy(E)&&!x.match(E)&&(j[g]={type:cs.pattern,message:R,ref:o,...O(cs.pattern,R)},!n))return _(R),j}if(y){if(pi(y)){const E=await y(x,r),R=OR(E,b);if(R&&(j[g]={...R,...O(cs.validate,R.message)},!n))return _(R.message),j}else if(Ur(y)){let E={};for(const R in y){if(!Zn(E)&&!n)break;const k=OR(await y[R](x,r),b,R);k&&(E={...k,...O(R,k.message)},_(k.message),n&&(j[g]=E))}if(!Zn(E)&&(j[g]={ref:b,...E},!n))return j}}return _(!0),j};const uEe={mode:mi.onSubmit,reValidateMode:mi.onChange,shouldFocusError:!0};function dEe(e={}){let t={...uEe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ur(t.defaultValues)||Ur(t.values)?Qr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:jR(),state:jR()},m=t.criteriaMode===mi.all,y=F=>J=>{clearTimeout(u),u=setTimeout(F,J)},g=async F=>{if(!t.disabled&&(d.isValid||f.isValid||F)){const J=t.resolver?Zn((await C()).errors):await N(n,!0);J!==r.isValid&&h.state.next({isValid:J})}},p=(F,J)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(l.mount)).forEach(oe=>{oe&&(J?zt(r.validatingFields,oe,J):Vr(r.validatingFields,oe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Zn(r.validatingFields)}))},v=(F,J=[],oe,K,ie=!0,ve=!0)=>{if(K&&oe&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Ae(n,F))){const de=oe(Ae(n,F),K.argA,K.argB);ie&&zt(n,F,de)}if(ve&&Array.isArray(Ae(r.errors,F))){const de=oe(Ae(r.errors,F),K.argA,K.argB);ie&&zt(r.errors,F,de),lEe(r.errors,F)}if((d.touchedFields||f.touchedFields)&&ve&&Array.isArray(Ae(r.touchedFields,F))){const de=oe(Ae(r.touchedFields,F),K.argA,K.argB);ie&&zt(r.touchedFields,F,de)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Df(a,i)),h.state.next({name:F,isDirty:T(F,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else zt(i,F,J)},x=(F,J)=>{zt(r.errors,F,J),h.state.next({errors:r.errors})},b=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},_=(F,J,oe,K)=>{const ie=Ae(n,F);if(ie){const ve=Ae(i,F,Br(oe)?Ae(a,F):oe);Br(ve)||K&&K.defaultChecked||J?zt(i,F,J?ve:NR(ie._f)):k(F,ve),o.mount&&g()}},j=(F,J,oe,K,ie)=>{let ve=!1,de=!1;const Me={name:F};if(!t.disabled){if(!oe||K){(d.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=Me.isDirty=T(),ve=de!==Me.isDirty);const Ze=gs(Ae(a,F),J);de=!!Ae(r.dirtyFields,F),Ze?Vr(r.dirtyFields,F):zt(r.dirtyFields,F,!0),Me.dirtyFields=r.dirtyFields,ve=ve||(d.dirtyFields||f.dirtyFields)&&de!==!Ze}if(oe){const Ze=Ae(r.touchedFields,F);Ze||(zt(r.touchedFields,F,oe),Me.touchedFields=r.touchedFields,ve=ve||(d.touchedFields||f.touchedFields)&&Ze!==oe)}ve&&ie&&h.state.next(Me)}return ve?Me:{}},S=(F,J,oe,K)=>{const ie=Ae(r.errors,F),ve=(d.isValid||f.isValid)&&ha(J)&&r.isValid!==J;if(t.delayError&&oe?(c=y(()=>x(F,oe)),c(t.delayError)):(clearTimeout(u),c=null,oe?zt(r.errors,F,oe):Vr(r.errors,F)),(oe?!gs(ie,oe):ie)||!Zn(K)||ve){const de={...K,...ve&&ha(J)?{isValid:J}:{},errors:r.errors,name:F};r={...r,...de},h.state.next(de)}},C=async F=>{p(F,!0);const J=await t.resolver(i,t.context,rEe(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return p(F),J},P=async F=>{const{errors:J}=await C(F);if(F)for(const oe of F){const K=Ae(J,oe);K?zt(r.errors,oe,K):Vr(r.errors,oe)}else r.errors=J;return J},N=async(F,J,oe={valid:!0})=>{for(const K in F){const ie=F[K];if(ie){const{_f:ve,...de}=ie;if(ve){const Me=l.array.has(ve.name),Ze=ie._f&&nEe(ie._f);Ze&&d.validatingFields&&p([K],!0);const ft=await TR(ie,l.disabled,i,m,t.shouldUseNativeValidation&&!J,Me);if(Ze&&d.validatingFields&&p([K]),ft[ve.name]&&(oe.valid=!1,J))break;!J&&(Ae(ft,ve.name)?Me?cEe(r.errors,ft,ve.name):zt(r.errors,ve.name,ft[ve.name]):Vr(r.errors,ve.name))}!Zn(de)&&await N(de,J,oe)}}return oe.valid},O=()=>{for(const F of l.unMount){const J=Ae(n,F);J&&(J._f.refs?J._f.refs.every(oe=>!Ow(oe)):!Ow(J._f.ref))&&H(F)}l.unMount=new Set},T=(F,J)=>!t.disabled&&(F&&J&&zt(i,F,J),!gs(z(),a)),E=(F,J,oe)=>zU(F,l,{...o.mount?i:Br(J)?a:Vi(F)?{[F]:J}:J},oe,J),R=F=>rP(Ae(o.mount?i:a,F,t.shouldUnregister?Ae(a,F,[]):[])),k=(F,J,oe={})=>{const K=Ae(n,F);let ie=J;if(K){const ve=K._f;ve&&(!ve.disabled&&zt(i,F,KU(J,ve)),ie=Uy(ve.ref)&&Fn(J)?"":J,VU(ve.ref)?[...ve.ref.options].forEach(de=>de.selected=ie.includes(de.value)):ve.refs?vp(ve.ref)?ve.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ie)?de.checked=!!ie.find(Me=>Me===de.value):de.checked=ie===de.value||!!ie)}):ve.refs.forEach(de=>de.checked=de.value===ie):sP(ve.ref)?ve.ref.value="":(ve.ref.value=ie,ve.ref.type||h.state.next({name:F,values:Qr(i)})))}(oe.shouldDirty||oe.shouldTouch)&&j(F,ie,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&B(F)},A=(F,J,oe)=>{for(const K in J){if(!J.hasOwnProperty(K))return;const ie=J[K],ve=F+"."+K,de=Ae(n,ve);(l.array.has(F)||Ur(ie)||de&&!de._f)&&!Il(ie)?A(ve,ie,oe):k(ve,ie,oe)}},$=(F,J,oe={})=>{const K=Ae(n,F),ie=l.array.has(F),ve=Qr(J);zt(i,F,ve),ie?(h.array.next({name:F,values:Qr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&oe.shouldDirty&&h.state.next({name:F,dirtyFields:Df(a,i),isDirty:T(F,ve)})):K&&!K._f&&!Fn(ve)?A(F,ve,oe):k(F,ve,oe),ER(F,l)&&h.state.next({...r,name:F}),h.state.next({name:o.mount?F:void 0,values:Qr(i)})},M=async F=>{o.mount=!0;const J=F.target;let oe=J.name,K=!0;const ie=Ae(n,oe),ve=Ze=>{K=Number.isNaN(Ze)||Il(Ze)&&isNaN(Ze.getTime())||gs(Ze,Ae(i,oe,Ze))},de=PR(t.mode),Me=PR(t.reValidateMode);if(ie){let Ze,ft;const Ge=J.type?NR(ie._f):LU(F),yt=F.type===zy.BLUR||F.type===zy.FOCUS_OUT,he=!aEe(ie._f)&&!t.resolver&&!Ae(r.errors,oe)&&!ie._f.deps||oEe(yt,Ae(r.touchedFields,oe),r.isSubmitted,Me,de),ze=ER(oe,l,yt);zt(i,oe,Ge),yt?(ie._f.onBlur&&ie._f.onBlur(F),c&&c(0)):ie._f.onChange&&ie._f.onChange(F);const it=j(oe,Ge,yt),It=!Zn(it)||ze;if(!yt&&h.state.next({name:oe,type:F.type,values:Qr(i)}),he)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?yt&&g():yt||g()),It&&h.state.next({name:oe,...ze?{}:it});if(!yt&&ze&&h.state.next({...r}),t.resolver){const{errors:xt}=await C([oe]);if(ve(Ge),K){const ht=AR(r.errors,n,oe),sn=AR(xt,n,ht.name||oe);Ze=sn.error,oe=sn.name,ft=Zn(xt)}}else p([oe],!0),Ze=(await TR(ie,l.disabled,i,m,t.shouldUseNativeValidation))[oe],p([oe]),ve(Ge),K&&(Ze?ft=!1:(d.isValid||f.isValid)&&(ft=await N(n,!0)));K&&(ie._f.deps&&B(ie._f.deps),S(oe,ft,Ze,it))}},L=(F,J)=>{if(Ae(r.errors,J)&&F.focus)return F.focus(),1},B=async(F,J={})=>{let oe,K;const ie=bh(F);if(t.resolver){const ve=await P(Br(F)?F:ie);oe=Zn(ve),K=F?!ie.some(de=>Ae(ve,de)):oe}else F?(K=(await Promise.all(ie.map(async ve=>{const de=Ae(n,ve);return await N(de&&de._f?{[ve]:de}:de)}))).every(Boolean),!(!K&&!r.isValid)&&g()):K=oe=await N(n);return h.state.next({...!Vi(F)||(d.isValid||f.isValid)&&oe!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:oe}:{},errors:r.errors}),J.shouldFocus&&!K&&wh(n,L,F?ie:l.mount),K},z=F=>{const J={...o.mount?i:a};return Br(F)?J:Vi(F)?Ae(J,F):F.map(oe=>Ae(J,oe))},Q=(F,J)=>({invalid:!!Ae((J||r).errors,F),isDirty:!!Ae((J||r).dirtyFields,F),error:Ae((J||r).errors,F),isValidating:!!Ae(r.validatingFields,F),isTouched:!!Ae((J||r).touchedFields,F)}),ee=F=>{F&&bh(F).forEach(J=>Vr(r.errors,J)),h.state.next({errors:F?r.errors:{}})},se=(F,J,oe)=>{const K=(Ae(n,F,{_f:{}})._f||{}).ref,ie=Ae(r.errors,F)||{},{ref:ve,message:de,type:Me,...Ze}=ie;zt(r.errors,F,{...Ze,...J,ref:K}),h.state.next({name:F,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&K&&K.focus&&K.focus()},U=(F,J)=>pi(F)?h.state.subscribe({next:oe=>"values"in oe&&F(E(void 0,J),oe)}):E(F,J,!0),q=F=>h.state.subscribe({next:J=>{sEe(F.name,J.name,F.exact)&&iEe(J,F.formState||d,ge,F.reRenderRoot)&&F.callback({values:{...i},...r,...J,defaultValues:a})}}).unsubscribe,G=F=>(o.mount=!0,f={...f,...F.formState},q({...F,formState:f})),H=(F,J={})=>{for(const oe of F?bh(F):l.mount)l.mount.delete(oe),l.array.delete(oe),J.keepValue||(Vr(n,oe),Vr(i,oe)),!J.keepError&&Vr(r.errors,oe),!J.keepDirty&&Vr(r.dirtyFields,oe),!J.keepTouched&&Vr(r.touchedFields,oe),!J.keepIsValidating&&Vr(r.validatingFields,oe),!t.shouldUnregister&&!J.keepDefaultValue&&Vr(a,oe);h.state.next({values:Qr(i)}),h.state.next({...r,...J.keepDirty?{isDirty:T()}:{}}),!J.keepIsValid&&g()},fe=({disabled:F,name:J})=>{(ha(F)&&o.mount||F||l.disabled.has(J))&&(F?l.disabled.add(J):l.disabled.delete(J))},D=(F,J={})=>{let oe=Ae(n,F);const K=ha(J.disabled)||ha(t.disabled);return zt(n,F,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:F}},name:F,mount:!0,...J}}),l.mount.add(F),oe?fe({disabled:ha(J.disabled)?J.disabled:t.disabled,name:F}):_(F,!0,J.value),{...K?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:Lf(J.min),max:Lf(J.max),minLength:Lf(J.minLength),maxLength:Lf(J.maxLength),pattern:Lf(J.pattern)}:{},name:F,onChange:M,onBlur:M,ref:ie=>{if(ie){D(F,J),oe=Ae(n,F);const ve=Br(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,de=Jke(ve),Me=oe._f.refs||[];if(de?Me.find(Ze=>Ze===ve):ve===oe._f.ref)return;zt(n,F,{_f:{...oe._f,...de?{refs:[...Me.filter(Ow),ve,...Array.isArray(Ae(a,F))?[{}]:[]],ref:{type:ve.type,name:F}}:{ref:ve}}}),_(F,!1,void 0,ve)}else oe=Ae(n,F,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(BU(l.array,F)&&o.action)&&l.unMount.add(F)}}},Y=()=>t.shouldFocusError&&wh(n,L,l.mount),V=F=>{ha(F)&&(h.state.next({disabled:F}),wh(n,(J,oe)=>{const K=Ae(n,oe);K&&(J.disabled=K._f.disabled||F,Array.isArray(K._f.refs)&&K._f.refs.forEach(ie=>{ie.disabled=K._f.disabled||F}))},0,!1))},Z=(F,J)=>async oe=>{let K;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ie=Qr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:de}=await C();r.errors=ve,ie=Qr(de)}else await N(n);if(l.disabled.size)for(const ve of l.disabled)Vr(ie,ve);if(Vr(r.errors,"root"),Zn(r.errors)){h.state.next({errors:{}});try{await F(ie,oe)}catch(ve){K=ve}}else J&&await J({...r.errors},oe),Y(),setTimeout(Y);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zn(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},te=(F,J={})=>{Ae(n,F)&&(Br(J.defaultValue)?$(F,Qr(Ae(a,F))):($(F,J.defaultValue),zt(a,F,Qr(J.defaultValue))),J.keepTouched||Vr(r.touchedFields,F),J.keepDirty||(Vr(r.dirtyFields,F),r.isDirty=J.defaultValue?T(F,Qr(Ae(a,F))):T()),J.keepError||(Vr(r.errors,F),d.isValid&&g()),h.state.next({...r}))},be=(F,J={})=>{const oe=F?Qr(F):a,K=Qr(oe),ie=Zn(F),ve=ie?a:K;if(J.keepDefaultValues||(a=oe),!J.keepValues){if(J.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Df(a,i))]);for(const Me of Array.from(de))Ae(r.dirtyFields,Me)?zt(ve,Me,Ae(i,Me)):$(Me,Ae(ve,Me))}else{if(tP&&Br(F))for(const de of l.mount){const Me=Ae(n,de);if(Me&&Me._f){const Ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Uy(Ze)){const ft=Ze.closest("form");if(ft){ft.reset();break}}}}if(J.keepFieldsRef)for(const de of l.mount)$(de,Ae(ve,de));else n={}}i=t.shouldUnregister?J.keepDefaultValues?Qr(a):{}:Qr(ve),h.array.next({values:{...ve}}),h.state.next({values:{...ve}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:ie?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!gs(F,a)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ie?{}:J.keepDirtyValues?J.keepDefaultValues&&i?Df(a,i):r.dirtyFields:J.keepDefaultValues&&F?Df(a,F):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Re=(F,J)=>be(pi(F)?F(i):F,J),We=(F,J={})=>{const oe=Ae(n,F),K=oe&&oe._f;if(K){const ie=K.refs?K.refs[0]:K.ref;ie.focus&&(ie.focus(),J.shouldSelect&&pi(ie.select)&&ie.select())}},ge=F=>{r={...r,...F}},Xe={control:{register:D,unregister:H,getFieldState:Q,handleSubmit:Z,setError:se,_subscribe:q,_runSchema:C,_focusError:Y,_getWatch:E,_getDirty:T,_setValid:g,_setFieldArray:v,_setDisabledField:fe,_setErrors:b,_getFieldArray:R,_reset:be,_resetDefaultValues:()=>pi(t.defaultValues)&&t.defaultValues().then(F=>{Re(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:V,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return a},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:G,trigger:B,register:D,handleSubmit:Z,watch:U,setValue:$,getValues:z,reset:Re,resetField:te,clearErrors:ee,unregister:H,setError:se,setFocus:We,getFieldState:Q};return{...Xe,formControl:Xe}}function RR(e={}){const t=I.useRef(void 0),r=I.useRef(void 0),[n,a]=I.useState({isDirty:!1,isValidating:!1,isLoading:pi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!pi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=dEe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,iP(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),I.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),I.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),I.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),I.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),I.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),I.useEffect(()=>{e.values&&!gs(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),I.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=FU(n,i),t.current}const MR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},YU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?MR(n.ref,r,e):n.refs&&n.refs.forEach(a=>MR(a,r,e))}},fEe=(e,t)=>{t.shouldUseNativeValidation&&YU(e,t);const r={};for(const n in e){const a=Ae(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(hEe(t.names||Object.keys(e),n)){const o=Object.assign({},Ae(r,n));zt(o,"root",i),zt(r,n,o)}else zt(r,n,i)}return r},hEe=(e,t)=>e.some(r=>r.startsWith(t+"."));var mEe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=UU(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},$R=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&YU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:fEe(mEe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const IR=Gke,XU=w.createContext({}),Bf=({...e})=>s.jsx(XU.Provider,{value:{name:e.name},children:s.jsx(Qke,{...e})}),H0=()=>{const e=w.useContext(XU),t=w.useContext(ZU),{getFieldState:r,formState:n}=W0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},ZU=w.createContext({}),Wc=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return s.jsx(ZU.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ue("space-y-2",e),...t})})});Wc.displayName="FormItem";const Hc=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=H0();return s.jsx(Ce,{ref:r,className:ue(n&&"text-destructive",e),htmlFor:a,...t})});Hc.displayName="FormLabel";const qc=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=H0();return s.jsx(gI,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});qc.displayName="FormControl";const pEe=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=H0();return s.jsx("p",{ref:r,id:n,className:ue("text-sm text-muted-foreground",e),...t})});pEe.displayName="FormDescription";const Kc=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=H0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ue("text-sm font-medium text-destructive",e),...r,children:o}):null});Kc.displayName="FormMessage";const gEe=IU({email:xh().trim().email({message:"Email invalide"}),password:xh().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),vEe=IU({email:xh().trim().email({message:"Email invalide"}),password:xh().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:xh().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function yEe(){const{user:e,loading:t,signIn:r,signUp:n}=Ca(),a=ip(),[i,o]=w.useState(!1);w.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=RR({resolver:$R(gEe),defaultValues:{email:"",password:""}}),c=RR({resolver:$R(vEe),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{o(!0);const{error:h}=await r(f.email,f.password);o(!1),h?h.message.includes("Invalid login credentials")?xn({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?xn({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):xn({title:"Erreur",description:h.message,variant:"destructive"}):(xn({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},d=async f=>{o(!0);const{error:h}=await n(f.email,f.password,f.displayName);o(!1),h?h.message.includes("already registered")?xn({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):xn({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):xn({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:s.jsxs(kt,{className:"w-full max-w-md",children:[s.jsxs(er,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(kC,{variant:"full",color:"dark"})}),s.jsx(tr,{className:"whitespace-pre-line",children:"We engage, we move"}),s.jsx(_s,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),s.jsx(Dt,{children:s.jsxs(Ga,{defaultValue:"login",className:"w-full",children:[s.jsxs(Na,{className:"grid w-full grid-cols-2",children:[s.jsx(St,{value:"login",children:"Connexion"}),s.jsx(St,{value:"signup",children:"Inscription"})]}),s.jsx(Rt,{value:"login",className:"mt-4",children:s.jsx(IR,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[s.jsx(Bf,{control:l.control,name:"email",render:({field:f})=>s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Email"}),s.jsx(qc,{children:s.jsx(xe,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Kc,{})]})}),s.jsx(Bf,{control:l.control,name:"password",render:({field:f})=>s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Mot de passe"}),s.jsx(qc,{children:s.jsx(xe,{type:"password",placeholder:"",...f})}),s.jsx(Kc,{})]})}),s.jsxs(ne,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),s.jsx(Rt,{value:"signup",className:"mt-4",children:s.jsx(IR,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsx(Bf,{control:c.control,name:"displayName",render:({field:f})=>s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Nom complet"}),s.jsx(qc,{children:s.jsx(xe,{placeholder:"Jean Dupont",...f})}),s.jsx(Kc,{})]})}),s.jsx(Bf,{control:c.control,name:"email",render:({field:f})=>s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Email"}),s.jsx(qc,{children:s.jsx(xe,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(Kc,{})]})}),s.jsx(Bf,{control:c.control,name:"password",render:({field:f})=>s.jsxs(Wc,{children:[s.jsx(Hc,{children:"Mot de passe"}),s.jsx(qc,{children:s.jsx(xe,{type:"password",placeholder:"",...f})}),s.jsx(Kc,{})]})}),s.jsxs(ne,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const xEe=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function bEe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var o;try{const{data:l}=await pe.auth.getSession(),c=(o=l==null?void 0:l.session)==null?void 0:o.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await pe.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const m=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(m)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(o,l)=>{try{await pe.from("user_roles").upsert({user_id:o,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===o?{...u,role:l}:u)),xn({title:"Rle mis  jour"})}catch{xn({title:"Erreur",variant:"destructive"})}};return r?s.jsx(yi,{className:"h-6 w-6 animate-spin mx-auto"}):s.jsxs(kt,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Gestion des Utilisateurs"})}),s.jsx(Dt,{children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Email"}),s.jsx(ce,{children:"Rle"})]})}),s.jsxs(Yt,{children:[e.map(o=>s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium",children:o.display_name||""}),s.jsx(W,{className:"text-sm text-muted-foreground",children:o.email}),s.jsx(W,{children:s.jsxs(lt,{value:o.role,onValueChange:l=>i(o.id,l),children:[s.jsx(st,{className:"w-32",children:s.jsx(ct,{})}),s.jsx(ot,{children:xEe.map(l=>s.jsx(De,{value:l,children:l},l))})]})})]},o.id)),e.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const DR=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],wEe=["hidden","read","write"],Tw=[{key:"home",label:"Accueil"},{key:"tableau-de-bord",label:"Tableau de bord"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"previsionnel",label:"Prvisionnel"},{key:"scenarios",label:"Scnarios"},{key:"funding",label:"Besoin de Financement"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"planning-dev",label:"Planning Dev"},{key:"costflow",label:"Production et BE"},{key:"crm",label:"CRM"},{key:"timetracking",label:"Suivi d'activit"},{key:"snapshots",label:"Sauvegardes"}],jEe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},Rw={hidden:{label:"Masqu",icon:JI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:eD,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:uv,color:"bg-green-100 text-green-800"}};function _Ee(){const{isAdmin:e,loading:t}=Ca(),r=ip(),[n,a]=w.useState({}),[i,o]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await pe.from("tab_permissions").select("*");if(h)throw h;const m={};DR.forEach(y=>{m[y]={},Tw.forEach(g=>{m[y][g.key]="hidden"})}),f==null||f.forEach(y=>{m[y.role]&&(m[y.role][y.tab_key]=y.permission)}),a(m)}catch{}finally{o(!1)}},d=async(f,h,m)=>{c(`${f}:${h}`);try{await pe.from("tab_permissions").upsert({role:f,tab_key:h,permission:m},{onConflict:"role,tab_key"}),a(y=>({...y,[f]:{...y[f],[h]:m}})),xn({title:"Permission mise  jour"})}catch{xn({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(aD,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),s.jsxs(Ga,{defaultValue:"users",className:"space-y-6",children:[s.jsxs(Na,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(St,{value:"users",className:"flex items-center gap-2",children:[s.jsx(xi,{className:"h-4 w-4"}),"Utilisateurs"]}),s.jsxs(St,{value:"permissions",className:"flex items-center gap-2",children:[s.jsx(nD,{className:"h-4 w-4"}),"Permissions"]})]}),s.jsx(Rt,{value:"users",children:s.jsx(bEe,{})}),s.jsx(Rt,{value:"permissions",className:"space-y-6",children:s.jsxs(kt,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Matrice des Permissions"}),s.jsx(_s,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),s.jsx(Dt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"w-32",children:"Rle"}),Tw.map(f=>s.jsx(ce,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),s.jsx(Yt,{children:DR.map(f=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsx(Pe,{variant:f==="admin"?"default":"secondary",children:jEe[f]})}),Tw.map(h=>{var g;const m=((g=n[f])==null?void 0:g[h.key])||"hidden",y=`${f}:${h.key}`;return s.jsx(W,{className:"text-center p-2",children:f==="admin"?s.jsxs(Pe,{className:Rw.write.color,children:[s.jsx(uv,{className:"h-3 w-3 mr-1"}),Rw.write.label]}):s.jsxs(lt,{value:m,onValueChange:p=>d(f,h.key,p),disabled:l===y,children:[s.jsx(st,{className:`w-28 ${m==="write"?"bg-green-50 border-green-300 text-green-800":m==="read"?"bg-yellow-50 border-yellow-300 text-yellow-800":"bg-red-50 border-red-300 text-red-800"}`,children:s.jsx(ct,{})}),s.jsx(ot,{children:wEe.map(p=>{const{label:v,icon:x}=Rw[p];return s.jsx(De,{value:p,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{className:"h-3 w-3"}),v]})},p)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const Mw=[50,100,200,500,1e3,2e3,5e3,1e4];function SEe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function lP(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[m,y]=w.useState(!0),[g,p]=w.useState(!1),v=w.useCallback(async()=>{if(e){g||y(!0);try{const[q,G,H,fe,D,Y]=await Promise.all([pe.from("costflow_references").select("*").order("code"),pe.from("costflow_products").select("*").order("name"),pe.from("costflow_bom").select("*"),pe.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),pe.from("costflow_suppliers").select("*").order("name"),pe.from("costflow_product_categories").select("*").order("name")]);q.data&&r(q.data.map(SEe)),G.data&&a(G.data.map(V=>({id:V.id,name:V.name,family:V.family||"Standard",main_supplier:V.main_supplier||"",coefficient:Number(V.coefficient)||1.3,price_ttc:Number(V.price_ttc)||0,default_volume:V.default_volume||500,comments:V.comments||"",category_id:V.category_id||null,created_at:V.created_at,updated_at:V.updated_at}))),H.data&&o(H.data.map(V=>({id:V.id,product_id:V.product_id,reference_id:V.reference_id,quantity:Number(V.quantity)||1}))),fe.data&&c(fe.data.map(V=>({id:V.id,reference_id:V.reference_id,file_name:V.file_name,file_path:V.file_path,file_size:V.file_size||0,version:V.version||1,uploaded_at:V.uploaded_at}))),D.data&&d(D.data.map(V=>({id:V.id,name:V.name,contact_name:V.contact_name||"",email:V.email||"",phone:V.phone||"",country:V.country||"France",comments:V.comments||"",created_at:V.created_at,updated_at:V.updated_at}))),Y.data&&h(Y.data.map(V=>({id:V.id,name:V.name,description:V.description||"",color:V.color||"#6366f1",created_at:V.created_at})))}catch(q){console.error("CostFlow fetch error:",q)}finally{y(!1),p(!0)}}},[e,g]);w.useEffect(()=>{v()},[v]);const x=async q=>{if(!e)return;const G=q.prices||{},{error:H}=await pe.from("costflow_references").insert({user_id:e.id,code:q.code,name:q.name,category:q.category||"Mcanique",revision:q.revision||"A",supplier:q.supplier||"",currency:q.currency||"EUR",comments:q.comments||"",price_vol_50:G[50]||0,price_vol_100:G[100]||0,price_vol_200:G[200]||0,price_vol_500:G[500]||0,price_vol_1000:G[1e3]||0,price_vol_2000:G[2e3]||0,price_vol_5000:G[5e3]||0,price_vol_10000:G[1e4]||0});H?(ke.error("Erreur cration rfrence"),console.error(H)):(ke.success("Rfrence cre"),v())},b=async(q,G)=>{if(!e)return;const H={};G.code!==void 0&&(H.code=G.code),G.name!==void 0&&(H.name=G.name),G.category!==void 0&&(H.category=G.category),G.revision!==void 0&&(H.revision=G.revision),G.supplier!==void 0&&(H.supplier=G.supplier),G.currency!==void 0&&(H.currency=G.currency),G.comments!==void 0&&(H.comments=G.comments),G.prices&&(H.price_vol_50=G.prices[50]??0,H.price_vol_100=G.prices[100]??0,H.price_vol_200=G.prices[200]??0,H.price_vol_500=G.prices[500]??0,H.price_vol_1000=G.prices[1e3]??0,H.price_vol_2000=G.prices[2e3]??0,H.price_vol_5000=G.prices[5e3]??0,H.price_vol_10000=G.prices[1e4]??0);const{error:fe}=await pe.from("costflow_references").update(H).eq("id",q);fe?(ke.error("Erreur mise  jour"),console.error(fe)):(ke.success("Rfrence mise  jour"),v())},_=async q=>{const{error:G}=await pe.from("costflow_references").delete().eq("id",q);G?(ke.error("Erreur suppression"),console.error(G)):(ke.success("Rfrence supprime"),v())},j=async(q,G="skip")=>{if(!e||q.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const H={imported:0,skipped:0,updated:0,errors:[]},fe=t.map(V=>V.code),D=q.filter(V=>!fe.includes(V.code||"")),Y=q.filter(V=>fe.includes(V.code||""));if(D.length>0){const V=D.map(te=>{const be=te.prices||{};return{user_id:e.id,code:te.code,name:te.name||te.code,category:te.category||"Mcanique",revision:te.revision||"A",supplier:te.supplier||"",currency:te.currency||"EUR",comments:te.comments||"",price_vol_50:be[50]||0,price_vol_100:be[100]||0,price_vol_200:be[200]||0,price_vol_500:be[500]||0,price_vol_1000:be[1e3]||0,price_vol_2000:be[2e3]||0,price_vol_5000:be[5e3]||0,price_vol_10000:be[1e4]||0}}),{error:Z}=await pe.from("costflow_references").insert(V);Z?H.errors.push(`Erreur insertion : ${Z.message}`):H.imported=D.length}if(Y.length>0)if(G==="skip")H.skipped=Y.length;else for(const V of Y){const Z=t.find(Re=>Re.code===V.code);if(!Z)continue;const te=V.prices||{},{error:be}=await pe.from("costflow_references").update({name:V.name||V.code,supplier:V.supplier||"",currency:V.currency||"EUR",comments:V.comments||"",price_vol_50:te[50]||0,price_vol_100:te[100]||0,price_vol_200:te[200]||0,price_vol_500:te[500]||0,price_vol_1000:te[1e3]||0,price_vol_2000:te[2e3]||0,price_vol_5000:te[5e3]||0,price_vol_10000:te[1e4]||0}).eq("id",Z.id);be?H.errors.push(`Erreur mise  jour ${V.code}`):H.updated++}return v(),H},S=async q=>{if(!e)return;const{error:G}=await pe.from("costflow_products").insert({user_id:e.id,name:q.name,family:q.family||"Standard",main_supplier:q.main_supplier||"",coefficient:q.coefficient||1.3,price_ttc:q.price_ttc||0,default_volume:q.default_volume||500,comments:q.comments||""});G?(ke.error("Erreur cration produit"),console.error(G)):(ke.success("Produit cr"),v())},C=async(q,G)=>{if(!e)return;const{error:H}=await pe.from("costflow_products").update(G).eq("id",q);H?(ke.error("Erreur mise  jour"),console.error(H)):(ke.success("Produit mis  jour"),v())},P=async q=>{const{error:G}=await pe.from("costflow_products").delete().eq("id",q);G?(ke.error("Erreur suppression"),console.error(G)):(ke.success("Produit supprim"),v())},N=async(q,G,H)=>{if(!e)return;const{error:fe}=await pe.from("costflow_bom").insert({user_id:e.id,product_id:q,reference_id:G,quantity:H});fe?(ke.error("Erreur ajout nomenclature"),console.error(fe)):v()},O=async(q,G)=>{const{error:H}=await pe.from("costflow_bom").update({quantity:G}).eq("id",q);H?(ke.error("Erreur mise  jour"),console.error(H)):v()},T=async q=>{const{error:G}=await pe.from("costflow_bom").delete().eq("id",q);G?(ke.error("Erreur suppression"),console.error(G)):v()},E=async(q,G)=>{if(!e)return;const H=`${e.id}/${q}/${Date.now()}_${G.name}`,{error:fe}=await pe.storage.from("technical-plans").upload(H,G);if(fe){ke.error("Erreur upload fichier"),console.error(fe);return}const D=l.filter(Z=>Z.reference_id===q),Y=D.length>0?Math.max(...D.map(Z=>Z.version)):0,{error:V}=await pe.from("costflow_reference_files").insert({user_id:e.id,reference_id:q,file_name:G.name,file_path:H,file_size:G.size,version:Y+1});V?(ke.error("Erreur enregistrement fichier"),console.error(V)):(ke.success("Fichier upload"),v())},R=async(q,G)=>{await pe.storage.from("technical-plans").remove([G]);const{error:H}=await pe.from("costflow_reference_files").delete().eq("id",q);H?(ke.error("Erreur suppression fichier"),console.error(H)):v()},k=q=>{const{data:G}=pe.storage.from("technical-plans").getPublicUrl(q);return G.publicUrl},A=async q=>{const{data:G,error:H}=await pe.storage.from("technical-plans").createSignedUrl(q,3600);return H?(ke.error("Erreur accs fichier"),null):G.signedUrl},$=(q,G)=>{const H=i.filter(V=>V.product_id===q),fe=n.find(V=>V.id===q);if(!fe)return 0;const D=Mw.reduce((V,Z)=>Math.abs(Z-G)<Math.abs(V-G)?Z:V);let Y=0;for(const V of H){const Z=t.find(te=>te.id===V.reference_id);Z&&(Y+=V.quantity*(Z.prices[D]||0))}return Y*fe.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:f,loading:m,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:j,createProduct:S,updateProduct:C,deleteProduct:P,createProductWithBom:async(q,G)=>{if(!e)return;const{data:H,error:fe}=await pe.from("costflow_products").insert({user_id:e.id,name:q.name,family:q.family||"Standard",main_supplier:q.main_supplier||"",coefficient:q.coefficient||1.3,price_ttc:q.price_ttc||0,default_volume:q.default_volume||500,comments:q.comments||""}).select("id").single();if(fe||!H){ke.error("Erreur cration produit"),console.error(fe);return}const D=H.id;if(G.length>0){const Y=G.map(Z=>({user_id:e.id,product_id:D,reference_id:Z.referenceId,quantity:Z.quantity})),{error:V}=await pe.from("costflow_bom").insert(Y);V&&(ke.error("Erreur ajout nomenclature"),console.error(V))}ke.success(`Produit "${q.name}" cr avec ${G.length} rfrence(s)`),v()},addBomEntry:N,updateBomEntry:O,removeBomEntry:T,uploadFile:E,deleteFile:R,getFileUrl:k,getSignedUrl:A,createSupplier:async q=>{if(!e)return;const{error:G}=await pe.from("costflow_suppliers").insert({user_id:e.id,name:q.name,contact_name:q.contact_name||"",email:q.email||"",phone:q.phone||"",country:q.country||"France",comments:q.comments||""});G?(ke.error("Erreur cration fournisseur"),console.error(G)):(ke.success("Fournisseur cr"),v())},updateSupplier:async(q,G)=>{if(!e)return;const{error:H}=await pe.from("costflow_suppliers").update(G).eq("id",q);H?(ke.error("Erreur mise  jour fournisseur"),console.error(H)):(ke.success("Fournisseur mis  jour"),v())},deleteSupplier:async q=>{const{error:G}=await pe.from("costflow_suppliers").delete().eq("id",q);G?(ke.error("Erreur suppression fournisseur"),console.error(G)):(ke.success("Fournisseur supprim"),v())},createProductCategory:async q=>{if(!e)return;const{error:G}=await pe.from("costflow_product_categories").insert({user_id:e.id,name:q.name,description:q.description||"",color:q.color||"#6366f1"});G?(ke.error("Erreur cration catgorie"),console.error(G)):(ke.success("Catgorie cre"),v())},updateProductCategory:async(q,G)=>{if(!e)return;const{error:H}=await pe.from("costflow_product_categories").update(G).eq("id",q);H?(ke.error("Erreur mise  jour catgorie"),console.error(H)):(ke.success("Catgorie mise  jour"),v())},deleteProductCategory:async q=>{await pe.from("costflow_products").update({category_id:null}).eq("category_id",q);const{error:G}=await pe.from("costflow_product_categories").delete().eq("id",q);G?(ke.error("Erreur suppression catgorie"),console.error(G)):(ke.success("Catgorie supprime"),v())},calculateProductCost:$,calculateProductCosts:q=>{const G={};for(const H of Mw)G[H]=$(q,H);return G},VOLUME_TIERS:Mw,refresh:v}}const CEe=Id("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wo=w.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ue(CEe({variant:t}),e),...r}));wo.displayName="Alert";const NEe=w.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));NEe.displayName="AlertTitle";const jo=w.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ue("text-sm [&_p]:leading-relaxed",e),...t}));jo.displayName="AlertDescription";const $w=["EUR","USD","GBP","CHF","CNY","JPY"],mg=[50,100,200,500,1e3,2e3,5e3,1e4];function Dc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function Ff(e){return e.code.trim().length>0}function PEe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=w.useState([Dc()]),[o,l]=w.useState(!1),[c,u]=w.useState("skip"),[d,f]=w.useState(null),h=w.useRef(null),m=w.useRef(null),y=a.filter(P=>Ff(P)).length,g=a.filter(P=>P.code&&n.includes(P.code)).length,p=(P,N,O)=>{i(T=>{const E=[...T];return E[P]={...E[P],[N]:O},E[P].valid=Ff(E[P]),E[P].isDuplicate=E[P].code?n.includes(E[P].code):!1,E})},v=(P,N,O)=>{i(T=>{const E=[...T];return E[P]={...E[P],prices:{...E[P].prices,[N]:O}},E})},x=P=>{i(N=>N.length===1?[Dc()]:N.filter((O,T)=>T!==P))},b=()=>i(P=>[...P,Dc()]),_=w.useCallback(P=>{const N=P.clipboardData.getData("text/plain");if(!N.includes("	")&&!N.includes(`
`))return;P.preventDefault();const O=N.split(`
`).map(A=>A.trim()).filter(A=>A.length>0),T=O[0].toLowerCase(),k=(T.includes("code")||T.includes("nom")||T.includes("name")?O.slice(1):O).map(A=>{const $=A.split("	"),M=Dc();return M.code=($[0]||"").trim(),M.name=($[1]||"").trim(),M.supplier=($[2]||"").trim(),M.currency=$w.includes(($[3]||"").trim().toUpperCase())?($[3]||"EUR").trim().toUpperCase():"EUR",mg.forEach((L,B)=>{const z=parseFloat(($[4+B]||"").replace(",","."));isNaN(z)||(M.prices[L]=z)}),M.unit=($[12]||"pice").trim(),M.comments=($[13]||"").trim(),M.valid=Ff(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter(A=>A.code||A.name);k.length>0&&i(A=>A.length===1&&!A[0].code&&!A[0].name?k:[...A,...k])},[]),j=P=>{var T;const N=(T=P.target.files)==null?void 0:T[0];if(!N)return;const O=new FileReader;O.onload=E=>{var z;const R=(z=E.target)==null?void 0:z.result;if(!R)return;const k=R.includes("	")?"	":R.includes(";")?";":",",A=R.split(`
`).map(Q=>Q.trim()).filter(Q=>Q.length>0),$=A[0].toLowerCase(),B=($.includes("code")||$.includes("nom")?A.slice(1):A).map(Q=>{const ee=Q.split(k),se=Dc();return se.code=(ee[0]||"").trim(),se.name=(ee[1]||"").trim(),se.supplier=(ee[2]||"").trim(),se.currency=$w.includes((ee[3]||"").trim().toUpperCase())?(ee[3]||"EUR").trim().toUpperCase():"EUR",mg.forEach((U,q)=>{const G=parseFloat((ee[4+q]||"").replace(",","."));isNaN(G)||(se.prices[U]=G)}),se.unit=(ee[12]||"pice").trim(),se.comments=(ee[13]||"").trim(),se.valid=Ff(se),se.isDuplicate=se.code?n.includes(se.code):!1,se}).filter(Q=>Q.code||Q.name);B.length>0&&i(B)},O.readAsText(N),m.current&&(m.current.value="")},S=async()=>{const P=a.filter(T=>Ff(T));if(P.length===0)return;l(!0);const N=P.map(T=>({code:T.code,name:T.name||T.code,supplier:T.supplier||"",currency:T.currency||"EUR",prices:T.prices||{},comments:T.comments||"",category:"Mcanique",revision:"A"})),O=await r(N,c);f(O),l(!1)},C=()=>{i([Dc()]),f(null),t(!1)};return d?s.jsx(mr,{open:e,onOpenChange:C,children:s.jsxs(ar,{className:"max-w-md",children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(YI,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"default",className:"bg-green-600",children:d.imported}),s.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"secondary",children:d.updated}),s.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"outline",children:d.skipped}),s.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&s.jsx(wo,{variant:"destructive",children:s.jsx(jo,{children:d.errors.map((P,N)=>s.jsx("div",{className:"text-xs",children:P},N))})})]}),s.jsx(ne,{onClick:C,className:"w-full",children:"Fermer"})]})}):s.jsx(mr,{open:e,onOpenChange:C,children:s.jsxs(ar,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"Importer des rfrences"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ga,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(Na,{className:"w-full",children:[s.jsxs(St,{value:"paste",className:"flex-1",children:[s.jsx(XI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(St,{value:"file",className:"flex-1",children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Rt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(wo,{children:[s.jsx(zh,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",s.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),g>0&&s.jsxs(wo,{children:[s.jsx(Wu,{className:"h-4 w-4"}),s.jsxs(jo,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:[g," code(s) dj existant(s)"]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(ne,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),s.jsx(ne,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),s.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),mg.map(P=>s.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:P},P)),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:a.map((P,N)=>s.jsxs("tr",{className:`border-t ${P.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[s.jsx("td",{className:"px-1 py-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(xe,{className:`h-8 text-xs ${P.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:P.code,onChange:O=>p(N,"code",O.target.value)}),P.isDuplicate&&s.jsx(Wu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(xe,{className:"h-8 text-xs",placeholder:"Nom...",value:P.name,onChange:O=>p(N,"name",O.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(xe,{className:"h-8 text-xs",value:P.supplier,onChange:O=>p(N,"supplier",O.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsxs(lt,{value:P.currency,onValueChange:O=>p(N,"currency",O),children:[s.jsx(st,{className:"h-8 text-xs",children:s.jsx(ct,{})}),s.jsx(ot,{children:$w.map(O=>s.jsx(De,{value:O,children:O},O))})]})}),mg.map(O=>s.jsx("td",{className:"px-1 py-1",children:s.jsx(xe,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:P.prices[O]??"",onChange:T=>v(N,O,parseFloat(T.target.value)||0),placeholder:"0"})},O)),s.jsx("td",{className:"px-1 py-1",children:s.jsx(xe,{className:"h-8 text-xs",value:P.unit,onChange:O=>p(N,"unit",O.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(xe,{className:"h-8 text-xs",value:P.comments,onChange:O=>p(N,"comments",O.target.value)})}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>x(N),className:"text-destructive hover:text-destructive/80",children:s.jsx(_i,{className:"h-4 w-4"})})})]},N))})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),s.jsxs("div",{className:"flex items-center gap-3",children:[g>0&&s.jsxs("span",{className:"text-xs text-yellow-600",children:[g," doublon(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),s.jsxs(Rt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(wo,{children:[s.jsx(zh,{className:"h-4 w-4"}),s.jsxs(jo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:m,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:j}),s.jsx(ne,{variant:"outline",onClick:()=>{var P;return(P=m.current)==null?void 0:P.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ne,{variant:"outline",onClick:C,children:[s.jsx(_i,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ne,{onClick:S,disabled:y===0||o,children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const kEe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],EEe=["EUR","USD","GBP","CHF","CNY","JPY"],AEe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),OEe=[50,100,200,500,1e3,2e3,5e3,1e4];function TEe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:o}){const[l,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,y]=w.useState(null),[g,p]=w.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),v=e.filter(j=>j.code.toLowerCase().includes(l.toLowerCase())||j.name.toLowerCase().includes(l.toLowerCase())||j.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),p({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=j=>{y(j),p({code:j.code,name:j.name,category:j.category,revision:j.revision,supplier:j.supplier,currency:j.currency,comments:j.comments,prices:{...j.prices}}),h(!0)},_=async()=>{if(!g.code||!g.name)return;const j={...g,supplier:g.supplier==="none"?"":g.supplier};m?await n(m.id,j):await r(j),h(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(px,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:j=>c(j.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:"outline",onClick:()=>d(!0),children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(mr,{open:f,onOpenChange:h,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{onClick:x,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),s.jsxs(ar,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx(ir,{children:s.jsx(sr,{children:m?"Modifier la rfrence":"Nouvelle rfrence"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Code *"}),s.jsx(xe,{value:g.code,onChange:j=>p({...g,code:j.target.value}),placeholder:"REF-001"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom *"}),s.jsx(xe,{value:g.name,onChange:j=>p({...g,name:j.target.value}),placeholder:"Nom de la pice"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Catgorie"}),s.jsxs(lt,{value:g.category,onValueChange:j=>p({...g,category:j}),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:kEe.map(j=>s.jsx(De,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Rvision"}),s.jsxs(lt,{value:g.revision,onValueChange:j=>p({...g,revision:j}),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:AEe.map(j=>s.jsx(De,{value:j,children:j},j))})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Fournisseur"}),s.jsxs(lt,{value:g.supplier,onValueChange:j=>p({...g,supplier:j}),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:"Aucun"}),t.map(j=>s.jsx(De,{value:j.name,children:j.name},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Devise"}),s.jsxs(lt,{value:g.currency,onValueChange:j=>p({...g,currency:j}),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:EEe.map(j=>s.jsx(De,{value:j,children:j},j))})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs(Ce,{className:"text-sm font-semibold",children:["Grille de prix par volume (",g.currency,")"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:OEe.map(j=>s.jsxs("div",{children:[s.jsxs(Ce,{className:"text-xs text-muted-foreground",children:[j," units"]}),s.jsx(xe,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:g.prices[j]||"",onChange:S=>p({...g,prices:{...g.prices,[j]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},j))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(Ce,{children:"Commentaires"}),s.jsx(Ha,{value:g.comments,onChange:j=>p({...g,comments:j.target.value}),rows:2})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:_,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Code"}),s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Catgorie"}),s.jsx(ce,{children:"Rv."}),s.jsx(ce,{children:"Fournisseur"}),s.jsx(ce,{children:"Devise"}),s.jsx(ce,{className:"text-right",children:"Prix @500"}),s.jsx(ce,{className:"text-right",children:"Prix @1000"}),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[v.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),v.map(j=>{var S,C;return s.jsxs(_e,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(j),children:[s.jsx(W,{className:"font-mono-numbers font-medium",children:j.code}),s.jsx(W,{children:j.name}),s.jsx(W,{children:s.jsx(Pe,{variant:"secondary",children:j.category})}),s.jsx(W,{children:j.revision}),s.jsx(W,{children:j.supplier||"-"}),s.jsx(W,{children:j.currency}),s.jsx(W,{className:"text-right font-mono-numbers",children:((S=j.prices[500])==null?void 0:S.toFixed(2))||"-"}),s.jsx(W,{className:"text-right font-mono-numbers",children:((C=j.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),b(j)},children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),a(j.id)},children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},j.id)})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),s.jsx(PEe,{open:u,onOpenChange:d,onImport:i,existingCodes:e.map(j=>j.code)})]})}const REe=[50,100,200,500,1e3,2e3,5e3,1e4];function MEe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const o=w.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];h&&await r(e.id,h),o.current&&(o.current.value="")},u=async f=>{const h=await a(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:i,children:s.jsx(HI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Pe,{variant:"secondary",children:e.category}),s.jsxs(Pe,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&s.jsx(Pe,{variant:"outline",children:e.supplier})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:REe.map(f=>{var h;return s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),s.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Commentaires"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),s.jsxs("div",{children:[s.jsx("input",{ref:o,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[s.jsx(qi,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Fichier"}),s.jsx(ce,{children:"Version"}),s.jsx(ce,{children:"Taille"}),s.jsx(ce,{children:"Date"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:l.map(f=>s.jsxs(_e,{children:[s.jsxs(W,{className:"flex items-center gap-2",children:[s.jsx(Bo,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),s.jsx(W,{children:s.jsxs(Pe,{variant:"outline",children:["v",f.version]})}),s.jsx(W,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),s.jsx(W,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>u(f),children:s.jsx(np,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const $Ee=[50,100,200,500,1e3,2e3,5e3,1e4],IEe=["Standard","Premium","conomique","Custom"];function pg(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function DEe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,o]=w.useState(""),[l,c]=w.useState("Standard"),[u,d]=w.useState(""),[f,h]=w.useState([pg()]),[m,y]=w.useState(!1),[g,p]=w.useState(null),v=w.useRef(null),x=w.useCallback(R=>{if(!R.trim())return{found:!1,referenceId:null,referenceName:""};const k=r.find(A=>A.code.toLowerCase()===R.trim().toLowerCase());return k?{found:!0,referenceId:k.id,referenceName:k.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(R,k,A)=>{h($=>{const M=[...$];if(M[R]={...M[R],[k]:A},k==="refCode"){const L=x(A);M[R]={...M[R],...L}}return M})},_=R=>{h(k=>k.length===1?[pg()]:k.filter((A,$)=>$!==R))},j=()=>h(R=>[...R,pg()]),S=w.useCallback(R=>{const k=R.clipboardData.getData("text/plain");if(!k.includes("	")&&!k.includes(`
`))return;R.preventDefault();const A=k.split(`
`).map(z=>z.trim()).filter(z=>z.length>0),$=A[0].toLowerCase(),B=($.includes("code")||$.includes("ref")||$.includes("rfrence")?A.slice(1):A).map(z=>{const Q=z.split("	"),ee=(Q[0]||"").trim(),se=parseFloat((Q[1]||"1").replace(",","."))||1,U=parseInt(Q[2]||"200")||200,q=x(ee);return{refCode:ee,quantity:se,volume:U,...q}}).filter(z=>z.refCode.length>0);B.length>0&&h(z=>z.length===1&&!z[0].refCode?B:[...z,...B])},[x]),C=R=>{var $;const k=($=R.target.files)==null?void 0:$[0];if(!k)return;const A=new FileReader;A.onload=M=>{var q;const L=(q=M.target)==null?void 0:q.result;if(!L)return;const B=L.includes("	")?"	":L.includes(";")?";":",",z=L.split(`
`).map(G=>G.trim()).filter(G=>G.length>0),Q=z[0].toLowerCase(),U=(Q.includes("code")||Q.includes("ref")?z.slice(1):z).map(G=>{const H=G.split(B),fe=(H[0]||"").trim(),D=parseFloat((H[1]||"1").replace(",","."))||1,Y=parseInt(H[2]||"200")||200,V=x(fe);return{refCode:fe,quantity:D,volume:Y,...V}}).filter(G=>G.refCode.length>0);U.length>0&&h(U)},A.readAsText(k),v.current&&(v.current.value="")},P=f.filter(R=>R.refCode.trim()&&R.found&&R.referenceId),N=f.filter(R=>R.refCode.trim()&&!R.found),O=P.length,T=async()=>{if(!(!i.trim()||O===0)){y(!0);try{const R=P.map(k=>({referenceId:k.referenceId,quantity:k.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},R),p({success:!0,productName:i,refCount:O,errors:N.map(k=>k.refCode)})}catch{p({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},E=()=>{o(""),c("Standard"),d(""),h([pg()]),p(null),t(!1)};return g?s.jsx(mr,{open:e,onOpenChange:E,children:s.jsxs(ar,{className:"max-w-md",children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[g.success?s.jsx(YI,{className:"h-5 w-5 text-emerald-500"}):s.jsx(Wu,{className:"h-5 w-5 text-destructive"}),g.success?"Produit cr":"Erreur"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[g.success&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm",children:["Le produit ",s.jsx("strong",{children:g.productName})," a t cr avec ",s.jsx("strong",{children:g.refCount})," rfrence(s)."]}),g.errors.length>0&&s.jsxs(wo,{children:[s.jsx(Wu,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsxs("span",{className:"font-medium",children:[g.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),s.jsx("span",{className:"text-xs ml-1",children:g.errors.join(", ")})]})]})]}),!g.success&&s.jsx("p",{className:"text-sm text-destructive",children:g.errors[0]})]}),s.jsx(ne,{onClick:E,className:"w-full",children:"Fermer"})]})}):s.jsx(mr,{open:e,onOpenChange:E,children:s.jsxs(ar,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"Importer des produits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ga,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(Na,{className:"w-full",children:[s.jsxs(St,{value:"paste",className:"flex-1",children:[s.jsx(XI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(St,{value:"file",className:"flex-1",children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(Rt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(wo,{children:[s.jsx(zh,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Comment utiliser :"}),s.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[s.jsxs("li",{children:["Saisissez le ",s.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),s.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),s.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),s.jsxs("li",{children:["Les rfrences ",s.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom du produit *"}),s.jsx(xe,{value:i,onChange:R=>o(R.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Famille *"}),s.jsxs(lt,{value:l,onValueChange:c,children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:IEe.map(R=>s.jsx(De,{value:R,children:R},R))})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Fournisseur"}),s.jsxs(lt,{value:u,onValueChange:d,children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(ot,{children:[s.jsx(De,{value:" ",children:"Aucun"}),n.map(R=>s.jsx(De,{value:R,children:R},R))]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[s.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:f.map((R,k)=>s.jsxs("tr",{className:`border-t ${R.refCode&&!R.found?"bg-destructive/5":""}`,children:[s.jsxs("td",{className:"px-2 py-1",children:[s.jsx(xe,{className:`h-8 text-xs ${R.refCode&&!R.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:R.refCode,onChange:A=>b(k,"refCode",A.target.value)}),R.found&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:R.referenceName})]}),s.jsx("td",{className:"px-2 py-1",children:s.jsx(xe,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:R.quantity,onChange:A=>b(k,"quantity",parseInt(A.target.value)||1)})}),s.jsx("td",{className:"px-2 py-1",children:s.jsxs(lt,{value:String(R.volume),onValueChange:A=>b(k,"volume",parseInt(A)),children:[s.jsx(st,{className:"h-8 text-xs",children:s.jsx(ct,{})}),s.jsx(ot,{children:$Ee.map(A=>s.jsx(De,{value:String(A),children:A},A))})]})}),s.jsx("td",{className:"px-2 py-1",children:R.refCode&&(R.found?s.jsx(Pe,{variant:"secondary",className:"text-xs",children:" Trouve"}):s.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>_(k),className:"text-destructive hover:text-destructive/80",children:s.jsx(_i,{className:"h-4 w-4"})})})]},k))})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:j,children:"+ Ajouter une rfrence"}),s.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&s.jsxs("span",{className:"text-xs text-destructive",children:[N.length," non trouve(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O," rfrence(s) valide(s)"]})]})]})]}),s.jsxs(Rt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(wo,{children:[s.jsx(zh,{className:"h-4 w-4"}),s.jsxs(jo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:v,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),s.jsx(ne,{variant:"outline",onClick:()=>{var R;return(R=v.current)==null?void 0:R.click()},children:"Choisir un fichier"})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ne,{variant:"outline",onClick:E,children:[s.jsx(_i,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ne,{onClick:T,disabled:!i.trim()||O===0||m,children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Crer le produit (",O," rf.)"]})]})]})})}function LEe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:o,onImportProduct:l,calculateProductCosts:c}){const[u,d]=w.useState(""),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[g,p]=w.useState(null),[v,x]=w.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var N;const P=((N=r.find(O=>O.id===C.category_id))==null?void 0:N.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||P.toLowerCase().includes(u.toLowerCase())}),_=()=>{p(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},j=C=>{p(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{v.name&&(g?await a(g.id,v):await n(v),y(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(px,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:"outline",onClick:()=>h(!0),children:[s.jsx(qi,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(mr,{open:m,onOpenChange:y,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{onClick:_,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),s.jsxs(ar,{className:"max-w-lg",children:[s.jsx(ir,{children:s.jsx(sr,{children:g?"Modifier le produit":"Nouveau produit"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ce,{children:"Nom *"}),s.jsx(xe,{value:v.name,onChange:C=>x({...v,name:C.target.value}),placeholder:"Nom du produit"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Catgorie"}),s.jsxs(lt,{value:v.category_id||"none",onValueChange:C=>x({...v,category_id:C==="none"?null:C}),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Aucune catgorie"})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:"Aucune"}),r.map(C=>s.jsx(De,{value:C.id,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Fournisseur principal"}),s.jsx(xe,{value:v.main_supplier,onChange:C=>x({...v,main_supplier:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Coefficient (MO + assemblage)"}),s.jsx(xe,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.coefficient,onChange:C=>x({...v,coefficient:parseFloat(C.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Volume d'achat par dfaut"}),s.jsx(xe,{type:"number",className:"font-mono-numbers",value:v.default_volume,onChange:C=>x({...v,default_volume:parseInt(C.target.value)||500})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Prix TTC public ()"}),s.jsx(xe,{type:"number",step:"0.01",className:"font-mono-numbers bg-muted",value:v.price_ttc,readOnly:!0,disabled:!0,title:"Gr depuis l'onglet Pricing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gr depuis l'onglet Pricing"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ce,{children:"Commentaires"}),s.jsx(Ha,{value:v.comments,onChange:C=>x({...v,comments:C.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:S,children:g?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Produit"}),s.jsx(ce,{children:"Catgorie"}),s.jsx(ce,{children:"Fournisseur"}),s.jsx(ce,{className:"text-right",children:"Coef."}),s.jsx(ce,{className:"text-right",children:"Cot @500"}),s.jsx(ce,{className:"text-right",children:"Prix TTC"}),s.jsx(ce,{className:"text-right",children:"Marge"}),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[b.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const N=c(C.id)[500]||0,O=C.price_ttc>0?(C.price_ttc/1.2-N)/(C.price_ttc/1.2)*100:0;return s.jsxs(_e,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(C),children:[s.jsx(W,{className:"font-medium",children:C.name}),s.jsx(W,{children:(()=>{const T=r.find(E=>E.id===C.category_id);return T?s.jsxs(Pe,{variant:"outline",className:"gap-1",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:T.color}}),T.name]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),s.jsx(W,{children:C.main_supplier||"-"}),s.jsx(W,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),s.jsx(W,{className:"text-right font-mono-numbers",children:N>0?`${N.toFixed(2)} `:"-"}),s.jsx(W,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),s.jsx(W,{className:`text-right font-mono-numbers font-medium ${O>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${O.toFixed(1)}%`:"-"}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),j(C)},children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),i(C.id)},children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),s.jsx(DEe,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const zf=[50,100,200,500,1e3,2e3,5e3,1e4];function BEe({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:o,onBack:l}){const[c,u]=w.useState(""),[d,f]=w.useState(1),h=r.filter(b=>b.product_id===e.id),m=o(e.id),y=e.price_ttc/1.2,g=zf.map(b=>({volume:`${b}`,cost:m[b]||0,margin:y>0?Math.max(0,y-(m[b]||0)):0})),p=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},v=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!v.has(b.id));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:l,children:s.jsx(HI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsxs(Pe,{variant:"outline",children:["Coef. ",e.coefficient]}),s.jsxs(Pe,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Code"}),s.jsx(ce,{children:"Rfrence"}),s.jsx(ce,{className:"text-right",children:"Qt"}),zf.map(b=>s.jsxs(ce,{className:"text-right text-xs",children:["@",b]},b)),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[h.map(b=>{const _=t.find(j=>j.id===b.reference_id);return _?s.jsxs(_e,{children:[s.jsx(W,{className:"font-mono-numbers",children:_.code}),s.jsx(W,{children:_.name}),s.jsx(W,{className:"text-right",children:s.jsx(xe,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:j=>a(b.id,parseFloat(j.target.value)||1)})}),zf.map(j=>s.jsx(W,{className:"text-right font-mono-numbers text-xs",children:((_.prices[j]||0)*b.quantity).toFixed(2)},j)),s.jsx(W,{children:s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),s.jsxs(_e,{className:"font-semibold bg-muted/30",children:[s.jsxs(W,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),zf.map(b=>s.jsx(W,{className:"text-right font-mono-numbers text-xs",children:(m[b]||0).toFixed(2)},b)),s.jsx(W,{})]}),y>0&&s.jsxs(_e,{className:"font-semibold",children:[s.jsx(W,{colSpan:3,className:"text-right",children:"Marge ()"}),zf.map(b=>{const _=y-(m[b]||0);return s.jsx(W,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),s.jsx(W,{})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ce,{className:"text-xs",children:"Rfrence"}),s.jsxs(lt,{value:c,onValueChange:u,children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Choisir une rfrence..."})}),s.jsx(ot,{children:x.map(b=>s.jsxs(De,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),s.jsxs("div",{className:"w-20",children:[s.jsx(Ce,{className:"text-xs",children:"Qt"}),s.jsx(xe,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),s.jsxs(ne,{size:"sm",onClick:p,disabled:!c,children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),s.jsx(wr,{width:"100%",height:300,children:s.jsxs(es,{data:g,children:[s.jsx(Nr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Jt,{dataKey:"volume",tick:{fontSize:12}}),s.jsx(Vt,{tick:{fontSize:12}}),s.jsx(Ct,{formatter:b=>`${b.toFixed(2)} `}),s.jsx(Wt,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&s.jsx(Wt,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function FEe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},f=m=>{l(m),u({name:m.name,description:m.description,color:m.color}),i(!0)},h=async()=>{c.name.trim()&&(o?await r(o.id,c):await t(c),i(!1))};return s.jsxs("div",{className:"financial-card p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"section-title flex items-center gap-2",children:[s.jsx(nC,{className:"h-4 w-4"})," Catgories de produits"]}),s.jsxs(mr,{open:a,onOpenChange:i,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{size:"sm",onClick:d,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),s.jsxs(ar,{className:"max-w-md",children:[s.jsx(ir,{children:s.jsx(sr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom *"}),s.jsx(xe,{value:c.name,onChange:m=>u({...c,name:m.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Description"}),s.jsx(Ha,{value:c.description,onChange:m=>u({...c,description:m.target.value}),rows:2,placeholder:"Description optionnelle"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Couleur"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(xe,{value:c.color,onChange:m=>u({...c,color:m.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:h,children:o?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Couleur"}),s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Description"}),s.jsx(ce,{})]})}),s.jsx(Yt,{children:e.map(m=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:m.color}})}),s.jsx(W,{className:"font-medium",children:m.name}),s.jsx(W,{className:"text-muted-foreground text-sm",children:m.description||"-"}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>f(m),children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))})]})]})}const Oi=[50,100,200,500,1e3,2e3,5e3,1e4];function zEe({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(new Set),[d,f]=w.useState(new Set),h=p=>{const v=new Set(c);v.has(p)?v.delete(p):v.add(p),u(v)},m=p=>{const v=new Set(d);v.has(p)?v.delete(p):v.add(p),f(v)},y=()=>{const p=e.filter(b=>c.size===0||c.has(b.id)),v=["Produit","Famille","Coef.",...Oi.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=p.map(b=>{const _=n(b.id),j=b.price_ttc/1.2,S=j>0?((j-(_[500]||0))/j*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...Oi.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([v,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),ke.success("Donnes produits copies")},g=()=>{const p=t.filter(b=>d.size===0||d.has(b.id)),v=["Code","Nom","Catgorie","Fournisseur",...Oi.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=p.map(b=>[b.code,b.name,b.category,b.supplier,...Oi.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([v,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),ke.success("Donnes rfrences copies")};return s.jsxs(Ga,{defaultValue:"products",className:"space-y-4",children:[s.jsxs(Na,{children:[s.jsx(St,{value:"products",children:"Export Produits"}),s.jsx(St,{value:"references",children:"Export Rfrences"}),s.jsx(St,{value:"margins",children:"Analyse Marges"})]}),s.jsxs(Rt,{value:"products",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),s.jsxs(ne,{variant:"outline",onClick:y,children:[a?s.jsx(Oo,{className:"h-4 w-4 mr-1"}):s.jsx(Ij,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"w-8"}),s.jsx(ce,{children:"Produit"}),s.jsx(ce,{children:"Famille"}),Oi.map(p=>s.jsxs(ce,{className:"text-right text-xs",children:["@",p]},p)),s.jsx(ce,{className:"text-right",children:"Prix TTC"})]})}),s.jsx(Yt,{children:e.map(p=>{const v=n(p.id);return s.jsxs(_e,{className:"cursor-pointer",onClick:()=>h(p.id),children:[s.jsx(W,{children:s.jsx("input",{type:"checkbox",checked:c.has(p.id),readOnly:!0})}),s.jsx(W,{className:"font-medium",children:p.name}),s.jsx(W,{children:s.jsx(Pe,{variant:"secondary",children:p.family})}),Oi.map(x=>s.jsx(W,{className:"text-right font-mono-numbers text-xs",children:(v[x]||0).toFixed(2)},x)),s.jsx(W,{className:"text-right font-mono-numbers",children:p.price_ttc.toFixed(2)})]},p.id)})})]})})]}),s.jsxs(Rt,{value:"references",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),s.jsxs(ne,{variant:"outline",onClick:g,children:[o?s.jsx(Oo,{className:"h-4 w-4 mr-1"}):s.jsx(Ij,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"w-8"}),s.jsx(ce,{children:"Code"}),s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Fournisseur"}),Oi.map(p=>s.jsxs(ce,{className:"text-right text-xs",children:["@",p]},p)),s.jsx(ce,{children:"Devise"})]})}),s.jsx(Yt,{children:t.map(p=>s.jsxs(_e,{className:"cursor-pointer",onClick:()=>m(p.id),children:[s.jsx(W,{children:s.jsx("input",{type:"checkbox",checked:d.has(p.id),readOnly:!0})}),s.jsx(W,{className:"font-mono-numbers",children:p.code}),s.jsx(W,{children:p.name}),s.jsx(W,{children:p.supplier||"-"}),Oi.map(v=>s.jsx(W,{className:"text-right font-mono-numbers text-xs",children:(p.prices[v]||0).toFixed(2)},v)),s.jsx(W,{children:p.currency})]},p.id))})]})})]}),s.jsx(Rt,{value:"margins",className:"space-y-4",children:s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Produit"}),s.jsx(ce,{className:"text-right",children:"Prix HT"}),Oi.map(p=>s.jsxs(ce,{className:"text-right text-xs",children:["Marge @",p]},p))]})}),s.jsx(Yt,{children:e.map(p=>{const v=n(p.id),x=p.price_ttc/1.2;return s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium",children:p.name}),s.jsx(W,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),Oi.map(b=>{const _=x>0?(x-(v[b]||0))/x*100:0;return s.jsx(W,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},p.id)})})]})})})]})}const LR={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function UEe({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(LR),h=e.filter(p=>p.name.toLowerCase().includes(a.toLowerCase())||p.contact_name.toLowerCase().includes(a.toLowerCase())||p.email.toLowerCase().includes(a.toLowerCase())),m=()=>{u(null),f(LR),l(!0)},y=p=>{u(p.id),f({name:p.name,contact_name:p.contact_name,email:p.email,phone:p.phone,country:p.country,comments:p.comments}),l(!0)},g=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(px,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(xe,{placeholder:"Rechercher un fournisseur...",value:a,onChange:p=>i(p.target.value),className:"pl-9"})]}),s.jsxs(ne,{onClick:m,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Nom"}),s.jsx(ce,{children:"Contact"}),s.jsx(ce,{children:"Email"}),s.jsx(ce,{children:"Tlphone"}),s.jsx(ce,{children:"Pays"}),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[h.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(p=>s.jsxs(_e,{children:[s.jsx(W,{className:"font-medium",children:p.name}),s.jsx(W,{children:p.contact_name||"-"}),s.jsx(W,{children:p.email||"-"}),s.jsx(W,{children:p.phone||"-"}),s.jsx(W,{children:p.country}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>y(p),children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),s.jsx(mr,{open:o,onOpenChange:l,children:s.jsxs(ar,{className:"max-w-lg",children:[s.jsx(ir,{children:s.jsx(sr,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ce,{children:"Nom *"}),s.jsx(xe,{value:d.name,onChange:p=>f({...d,name:p.target.value}),placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Contact"}),s.jsx(xe,{value:d.contact_name,onChange:p=>f({...d,contact_name:p.target.value}),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Email"}),s.jsx(xe,{type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Tlphone"}),s.jsx(xe,{value:d.phone,onChange:p=>f({...d,phone:p.target.value}),placeholder:"+33 ..."})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Pays"}),s.jsx(xe,{value:d.country,onChange:p=>f({...d,country:p.target.value}),placeholder:"France"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ce,{children:"Commentaires"}),s.jsx(Ha,{value:d.comments,onChange:p=>f({...d,comments:p.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:g,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function VEe(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(async()=>{if(e)try{const[g,p]=await Promise.all([pe.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),pe.from("costflow_meeting_tasks").select("*").order("sort_order")]);g.data&&r(g.data.map(v=>({id:v.id,meeting_date:v.meeting_date,title:v.title||"",content:v.content||"",created_at:v.created_at,updated_at:v.updated_at}))),p.data&&a(p.data.map(v=>({id:v.id,meeting_id:v.meeting_id,description:v.description,is_completed:v.is_completed||!1,sort_order:v.sort_order||0,created_at:v.created_at})))}catch(g){console.error("Meetings fetch error:",g)}finally{o(!1)}},[e]);return w.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async g=>{if(!e)return;const{error:p}=await pe.from("costflow_meetings").insert({user_id:e.id,meeting_date:g.meeting_date||new Date().toISOString().split("T")[0],title:g.title||"",content:g.content||""});p?(ke.error("Erreur cration runion"),console.error(p)):(ke.success("Runion cre"),l())},updateMeeting:async(g,p)=>{if(!e)return;const{error:v}=await pe.from("costflow_meetings").update(p).eq("id",g);v?(ke.error("Erreur mise  jour runion"),console.error(v)):l()},deleteMeeting:async g=>{const{error:p}=await pe.from("costflow_meetings").delete().eq("id",g);p?(ke.error("Erreur suppression runion"),console.error(p)):(ke.success("Runion supprime"),l())},createTask:async(g,p)=>{if(!e)return;const v=n.filter(_=>_.meeting_id===g),x=v.length>0?Math.max(...v.map(_=>_.sort_order)):-1,{error:b}=await pe.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:g,description:p,sort_order:x+1});b?(ke.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(g,p)=>{if(!e)return;const{error:v}=await pe.from("costflow_meeting_tasks").update(p).eq("id",g);v?(ke.error("Erreur mise  jour tche"),console.error(v)):l()},deleteTask:async g=>{const{error:p}=await pe.from("costflow_meeting_tasks").delete().eq("id",g);p?(ke.error("Erreur suppression tche"),console.error(p)):l()},getTasksForMeeting:g=>n.filter(p=>p.meeting_id===g),refresh:l}}function $n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Is(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function WEe(e,t){const r=$n(e);return isNaN(t)?Is(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const QU=6048e5,HEe=864e5,JU=6e4,e8=36e5;let qEe={};function q0(){return qEe}function Ad(e,t){var l,c,u,d;const r=q0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=$n(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Hy(e){return Ad(e,{weekStartsOn:1})}function t8(e){const t=$n(e),r=t.getFullYear(),n=Is(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Hy(n),i=Is(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Hy(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function qy(e){const t=$n(e);return t.setHours(0,0,0,0),t}function BR(e){const t=$n(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function KEe(e,t){const r=qy(e),n=qy(t),a=+r-BR(r),i=+n-BR(n);return Math.round((a-i)/HEe)}function GEe(e){const t=t8(e),r=Is(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Hy(r)}function r8(e,t){const r=t*7;return WEe(e,r)}function YEe(e){return Is(e,Date.now())}function tS(e,t){const r=qy(e),n=qy(t);return+r==+n}function XEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZEe(e){if(!XEe(e)&&typeof e!="number")return!1;const t=$n(e);return!isNaN(Number(t))}function QEe(e,t){const r=$n(e.start),n=$n(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push($n(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function JEe(e){const t=$n(e),r=Is(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function eAe(e,t){const r=t==null?void 0:t.weekStartsOn,n=$n(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const tAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rAe=(e,t,r)=>{let n;const a=tAe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sAe={date:Pu({formats:nAe,defaultWidth:"full"}),time:Pu({formats:aAe,defaultWidth:"full"}),dateTime:Pu({formats:iAe,defaultWidth:"full"})},oAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lAe=(e,t,r,n)=>oAe[e];function Li(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const cAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pAe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gAe={ordinalNumber:pAe,era:Li({values:cAe,defaultWidth:"wide"}),quarter:Li({values:uAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Li({values:dAe,defaultWidth:"wide"}),day:Li({values:fAe,defaultWidth:"wide"}),dayPeriod:Li({values:hAe,defaultWidth:"wide",formattingValues:mAe,defaultFormattingWidth:"wide"})};function Bi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yAe(l,f=>f.test(o)):vAe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function vAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yAe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function n8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const xAe=/^(\d+)(th|st|nd|rd)?/i,bAe=/\d+/i,wAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jAe={any:[/^b/i,/^(a|c)/i]},_Ae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SAe={any:[/1/i,/2/i,/3/i,/4/i]},CAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OAe={ordinalNumber:n8({matchPattern:xAe,parsePattern:bAe,valueCallback:e=>parseInt(e,10)}),era:Bi({matchPatterns:wAe,defaultMatchWidth:"wide",parsePatterns:jAe,defaultParseWidth:"any"}),quarter:Bi({matchPatterns:_Ae,defaultMatchWidth:"wide",parsePatterns:SAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bi({matchPatterns:CAe,defaultMatchWidth:"wide",parsePatterns:NAe,defaultParseWidth:"any"}),day:Bi({matchPatterns:PAe,defaultMatchWidth:"wide",parsePatterns:kAe,defaultParseWidth:"any"}),dayPeriod:Bi({matchPatterns:EAe,defaultMatchWidth:"any",parsePatterns:AAe,defaultParseWidth:"any"})},TAe={code:"en-US",formatDistance:rAe,formatLong:sAe,formatRelative:lAe,localize:gAe,match:OAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RAe(e){const t=$n(e);return KEe(t,JEe(t))+1}function MAe(e){const t=$n(e),r=+Hy(t)-+GEe(t);return Math.round(r/QU)+1}function a8(e,t){var d,f,h,m;const r=$n(e),n=r.getFullYear(),a=q0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Is(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ad(o,t),c=Is(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ad(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function $Ae(e,t){var l,c,u,d;const r=q0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=a8(e,t),i=Is(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ad(i,t)}function IAe(e,t){const r=$n(e),n=+Ad(r,t)-+$Ae(r,t);return Math.round(n/QU)+1}function Ut(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ys={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ut(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ut(r+1,2)},d(e,t){return Ut(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ut(e.getHours()%12||12,t.length)},H(e,t){return Ut(e.getHours(),t.length)},m(e,t){return Ut(e.getMinutes(),t.length)},s(e,t){return Ut(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ut(a,t.length)}},Lc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ys.y(e,t)},Y:function(e,t,r,n){const a=a8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ut(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ut(i,t.length)},R:function(e,t){const r=t8(e);return Ut(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ut(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ys.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=IAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ut(a,t.length)},I:function(e,t,r){const n=MAe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ut(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ys.d(e,t)},D:function(e,t,r){const n=RAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ut(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ut(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ut(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ut(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Lc.noon:n===0?a=Lc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Lc.evening:n>=12?a=Lc.afternoon:n>=4?a=Lc.morning:a=Lc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ys.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ys.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ys.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ys.s(e,t)},S:function(e,t){return Ys.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return UR(n);case"XXXX":case"XX":return wl(n);case"XXXXX":case"XXX":default:return wl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return UR(n);case"xxxx":case"xx":return wl(n);case"xxxxx":case"xxx":default:return wl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zR(n,":");case"OOOO":default:return"GMT"+wl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zR(n,":");case"zzzz":default:return"GMT"+wl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ut(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ut(n,t.length)}};function zR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ut(i,2)}function UR(e,t){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):wl(e,t)}function wl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ut(Math.trunc(n/60),2),i=Ut(n%60,2);return r+a+t+i}const VR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},DAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return VR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",VR(n,t)).replace("{{time}}",i8(a,t))},LAe={p:i8,P:DAe},BAe=/^D+$/,FAe=/^Y+$/,zAe=["D","DD","YY","YYYY"];function UAe(e){return BAe.test(e)}function VAe(e){return FAe.test(e)}function WAe(e,t,r){const n=HAe(e,t,r);if(console.warn(n),zAe.includes(e))throw new RangeError(n)}function HAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GAe=/^'([^]*?)'?$/,YAe=/''/g,XAe=/[a-zA-Z]/;function ii(e,t,r){var d,f,h,m,y,g,p,v;const n=q0(),a=(r==null?void 0:r.locale)??n.locale??TAe,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=$n(e);if(!ZEe(l))throw new RangeError("Invalid time value");let c=t.match(KAe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=LAe[b];return _(x,a.formatLong)}return x}).join("").match(qAe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:ZAe(x)};if(FR[b])return{isToken:!0,value:x};if(b.match(XAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&VAe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&UAe(b))&&WAe(b,t,String(e));const _=FR[b[0]];return _(l,b,a.localize,u)}).join("")}function ZAe(e){const t=e.match(GAe);return t?t[1].replace(YAe,"'"):e}function QAe(e){return tS(e,YEe(e))}function JAe(e,t){const n=nOe(e);let a;if(n.date){const c=aOe(n.date,2);a=iOe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=sOe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=oOe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const gg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nOe(e){const t={},r=e.split(gg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],gg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=gg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function aOe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function iOe(e,t){if(t===null)return new Date(NaN);const r=e.match(eOe);if(!r)return new Date(NaN);const n=!!r[4],a=Uf(r[1]),i=Uf(r[2])-1,o=Uf(r[3]),l=Uf(r[4]),c=Uf(r[5])-1;if(n)return fOe(t,l,c)?lOe(t,l,c):new Date(NaN);{const u=new Date(0);return!uOe(t,i,o)||!dOe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Uf(e){return e?parseInt(e):1}function sOe(e){const t=e.match(tOe);if(!t)return NaN;const r=Iw(t[1]),n=Iw(t[2]),a=Iw(t[3]);return hOe(r,n,a)?r*e8+n*JU+a*1e3:NaN}function Iw(e){return e&&parseFloat(e.replace(",","."))||0}function oOe(e){if(e==="Z")return 0;const t=e.match(rOe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return mOe(n,a)?r*(n*e8+a*JU):NaN}function lOe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const cOe=[31,null,31,30,31,30,31,31,30,31,30,31];function s8(e){return e%400===0||e%4===0&&e%100!==0}function uOe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(cOe[t]||(s8(e)?29:28))}function dOe(e,t){return t>=1&&t<=(s8(e)?366:365)}function fOe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hOe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mOe(e,t){return t>=0&&t<=59}function pOe(e,t){return r8(e,-t)}const gOe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},vOe=(e,t,r)=>{let n;const a=gOe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},yOe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},xOe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},bOe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wOe={date:Pu({formats:yOe,defaultWidth:"full"}),time:Pu({formats:xOe,defaultWidth:"full"}),dateTime:Pu({formats:bOe,defaultWidth:"full"})},jOe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},_Oe=(e,t,r,n)=>jOe[e],SOe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},COe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},NOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},POe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},kOe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},EOe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},AOe=["MMM","MMMM"],OOe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&AOe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:EOe,era:Li({values:SOe,defaultWidth:"wide"}),quarter:Li({values:COe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Li({values:NOe,defaultWidth:"wide"}),day:Li({values:POe,defaultWidth:"wide"}),dayPeriod:Li({values:kOe,defaultWidth:"wide"})},TOe=/^(\d+)(ime|re|me|er|e)?/i,ROe=/\d+/i,MOe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},$Oe={any:[/^av/i,/^ap/i]},IOe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},DOe={any:[/1/i,/2/i,/3/i,/4/i]},LOe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},BOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},FOe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},zOe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},UOe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},VOe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},WOe={ordinalNumber:n8({matchPattern:TOe,parsePattern:ROe,valueCallback:e=>parseInt(e)}),era:Bi({matchPatterns:MOe,defaultMatchWidth:"wide",parsePatterns:$Oe,defaultParseWidth:"any"}),quarter:Bi({matchPatterns:IOe,defaultMatchWidth:"wide",parsePatterns:DOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bi({matchPatterns:LOe,defaultMatchWidth:"wide",parsePatterns:BOe,defaultParseWidth:"any"}),day:Bi({matchPatterns:FOe,defaultMatchWidth:"wide",parsePatterns:zOe,defaultParseWidth:"any"}),dayPeriod:Bi({matchPatterns:UOe,defaultMatchWidth:"any",parsePatterns:VOe,defaultParseWidth:"any"})},fu={code:"fr",formatDistance:vOe,formatLong:wOe,formatRelative:_Oe,localize:OOe,match:WOe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function HOe(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:o,deleteTask:l,getTasksForMeeting:c}=VEe(),[u,d]=w.useState(null),[f,h]=w.useState(!1),[m,y]=w.useState(!1),[g,p]=w.useState(new Date().toISOString().split("T")[0]),[v,x]=w.useState(""),[b,_]=w.useState(""),[j,S]=w.useState(!1),[C,P]=w.useState(""),[N,O]=w.useState(""),T=e.find(B=>B.id===u),E=u?c(u):[],R=async()=>{v.trim()&&(await r({meeting_date:g,title:v}),x(""),p(new Date().toISOString().split("T")[0]),h(!1))},k=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},A=async()=>{!u||!N.trim()||(await i(u,N.trim()),O(""))},$=()=>{T&&(P(T.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},L=({tasks:B,inFullscreen:z=!1})=>s.jsxs("div",{className:"space-y-1.5",children:[B.map(Q=>s.jsxs("div",{className:"flex items-start gap-2 group",children:[s.jsx(Fa,{checked:Q.is_completed,onCheckedChange:ee=>o(Q.id,{is_completed:!!ee}),className:"mt-0.5"}),s.jsx("span",{className:`text-sm flex-1 ${Q.is_completed?"line-through text-muted-foreground":""}`,children:Q.description}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(Q.id),children:s.jsx(_i,{className:"h-3 w-3"})})]},Q.id)),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(xe,{placeholder:"Nouvelle tche",value:z?N:b,onChange:Q=>z?O(Q.target.value):_(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&(z?A():k()),className:"text-sm"}),s.jsx(ne,{size:"sm",onClick:z?A:k,disabled:!(z?N:b).trim(),children:s.jsx(qt,{className:"h-4 w-4"})})]})]});return t?s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[s.jsxs(kt,{className:"w-64 shrink-0 flex flex-col",children:[s.jsx(er,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(tr,{className:"text-sm font-medium",children:"Runions"}),s.jsxs(mr,{open:f,onOpenChange:h,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Nouvelle runion BE"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Date"}),s.jsx(xe,{type:"date",value:g,onChange:B=>p(B.target.value)})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Titre / Objet"}),s.jsx(xe,{placeholder:"Ex: Runion BE hebdomadaire",value:v,onChange:B=>x(B.target.value),onKeyDown:B=>B.key==="Enter"&&R()})]}),s.jsx(ne,{onClick:R,disabled:!v.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),s.jsxs(Dt,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(B=>{const z=B.id===u,Q=c(B.id).length,ee=c(B.id).filter(se=>se.is_completed).length;return s.jsxs("button",{onClick:()=>d(B.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${z?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[s.jsx("div",{className:"font-medium truncate",children:ii(new Date(B.meeting_date),"dd/MM/yyyy")}),s.jsx("div",{className:`text-xs truncate ${z?"text-primary-foreground/70":"text-muted-foreground"}`,children:B.title||"Sans titre"}),Q>0&&s.jsxs("div",{className:`text-xs mt-0.5 ${z?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",ee,"/",Q," tches"]})]},B.id)})]})]}),s.jsx(kt,{className:"flex-1 flex flex-col overflow-hidden",children:T?s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"pb-2 shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Og,{className:"h-5 w-5 text-primary"}),ii(new Date(T.meeting_date),"EEEE d MMMM yyyy",{locale:fu})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:T.title})]}),s.jsx(ne,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(T.id),d(null))},children:s.jsx(nr,{className:"h-4 w-4"})})]})}),s.jsxs(Dt,{className:"flex-1 overflow-auto space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[s.jsx(Bo,{className:"h-4 w-4"})," Compte-rendu"]}),s.jsxs("div",{className:"flex gap-1",children:[!j&&s.jsx(ne,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"}),s.jsx(ne,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:s.jsx(hH,{className:"h-3.5 w-3.5"})})]})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ha,{value:C,onChange:B=>P(B.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:T.content||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(Gl,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),s.jsx(L,{tasks:E})]})]}),s.jsx(mr,{open:m,onOpenChange:y,children:s.jsxs(ar,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(Og,{className:"h-5 w-5 text-primary"}),T&&ii(new Date(T.meeting_date),"EEEE d MMMM yyyy",{locale:fu}),T&&s.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",T.title]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[s.jsx(Bo,{className:"h-4 w-4"})," Compte-rendu"]}),!j&&s.jsx(ne,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"})]}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ha,{value:C,onChange:B=>P(B.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(T==null?void 0:T.content)||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(Gl,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),s.jsx(L,{tasks:E,inFullscreen:!0})]})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Og,{className:"h-12 w-12 mx-auto opacity-30"}),s.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function o8(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=w.useCallback(async()=>{try{const[b,_,j]=await Promise.all([pe.from("costflow_planning_colors").select("*").order("sort_order"),pe.from("costflow_planning_rows").select("*").order("sort_order"),pe.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(j.error)throw j.error;t(b.data||[]),n(_.data||[]),i(j.data||[])}catch(b){ke.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);w.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await pe.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:o,createColor:async(b,_)=>{const j=await u();if(!j)return;const{data:S,error:C}=await pe.from("costflow_planning_colors").insert({user_id:j,name:b,color:_,sort_order:e.length}).select().single();if(C){ke.error(C.message);return}t(P=>[...P,S])},updateColor:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_colors").update(_).eq("id",b);if(j){ke.error(j.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await pe.from("costflow_planning_colors").delete().eq("id",b);if(_){ke.error(_.message);return}t(j=>j.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:j,error:S}=await pe.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){ke.error(S.message);return}n(C=>[...C,j])},updateRow:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_rows").update({label:_}).eq("id",b);if(j){ke.error(j.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await pe.from("costflow_planning_rows").delete().eq("id",b);if(_){ke.error(_.message);return}n(j=>j.filter(S=>S.id!==b)),i(j=>j.filter(S=>S.row_id!==b))},createBlock:async(b,_,j,S,C)=>{const P=await u();if(!P)return;const{data:N,error:O}=await pe.from("costflow_planning_blocks").insert({user_id:P,row_id:b,start_month:_,duration:j,color_id:S,label:C}).select().single();if(O){ke.error(O.message);return}i(T=>[...T,N])},updateBlock:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_blocks").update(_).eq("id",b);if(j){ke.error(j.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await pe.from("costflow_planning_blocks").delete().eq("id",b);if(_){ke.error(_.message);return}i(j=>j.filter(S=>S.id!==b))}}}function qOe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useCallback(async()=>{try{const{data:c,error:u}=await pe.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){ke.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return w.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var m;const{data:d}=await pe.auth.getUser(),f=(m=d.user)==null?void 0:m.id;if(!f)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await pe.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){ke.error(y.message);return}t(g=>g.map(p=>p.id===h.id?{...p,content:u,updated_at:new Date().toISOString()}:p))}else{const{data:y,error:g}=await pe.from("costflow_planning_notes").insert({user_id:f,block_id:c,content:u}).select().single();if(g){ke.error(g.message);return}t(p=>[y,...p])}ke.success("Note sauvegarde")}}}function KOe({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:o}){const[l,c]=w.useState("");if(w.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=o[r.start_month-1]||`M${r.start_month}`,d=r.start_month+r.duration-1,f=o[d-1]||`M${d}`;return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(ar,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[n&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),s.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",f,")"]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ha,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs(ne,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[s.jsx(mx,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function GOe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var cP="ScrollArea",[l8,U2e]=Yn(cP),[YOe,Xa]=l8(cP),c8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,y]=w.useState(null),[g,p]=w.useState(null),[v,x]=w.useState(0),[b,_]=w.useState(0),[j,S]=w.useState(!1),[C,P]=w.useState(!1),N=dt(t,T=>c(T)),O=Hd(a);return s.jsx(YOe,{scope:r,type:n,dir:O,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:p,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Ve.div,{dir:O,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});c8.displayName=cP;var u8="ScrollAreaViewport",d8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Xa(u8,r),l=w.useRef(null),c=dt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});d8.displayName=u8;var ss="ScrollAreaScrollbar",uP=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(ss,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(XOe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(ZOe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(f8,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(dP,{...n,ref:t}):null});uP.displayName=ss;var XOe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(ss,e.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(sa,{present:r||i,children:s.jsx(f8,{"data-state":i?"visible":"hidden",...n,ref:t})})}),ZOe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(ss,e.__scopeScrollArea),i=e.orientation==="horizontal",o=G0(()=>c("SCROLL_END"),100),[l,c]=GOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(sa,{present:r||l!=="hidden",children:s.jsx(dP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),f8=w.forwardRef((e,t)=>{const r=Xa(ss,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=w.useState(!1),l=e.orientation==="horizontal",c=G0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Od(r.viewport,c),Od(r.content,c),s.jsx(sa,{present:n||i,children:s.jsx(dP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),dP=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Xa(ss,e.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=v8(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return n2e(h,o.current,l,m)}return r==="horizontal"?s.jsx(QOe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=WR(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(JOe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=WR(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),QOe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xa(ss,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=dt(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(m8,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":K0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),x8(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gy(o.paddingLeft),paddingEnd:Gy(o.paddingRight)}})}})}),JOe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xa(ss,e.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=dt(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(m8,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":K0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),x8(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gy(o.paddingTop),paddingEnd:Gy(o.paddingBottom)}})}})}),[e2e,h8]=l8(ss),m8=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Xa(ss,r),[y,g]=w.useState(null),p=dt(t,N=>g(N)),v=w.useRef(null),x=w.useRef(""),b=m.viewport,_=n.content-n.viewport,j=en(d),S=en(c),C=G0(f,10);function P(N){if(v.current){const O=N.clientX-v.current.left,T=N.clientY-v.current.top;u({x:O,y:T})}}return w.useEffect(()=>{const N=O=>{const T=O.target;(y==null?void 0:y.contains(T))&&j(O,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,y,_,j]),w.useEffect(S,[n,S]),Od(y,C),Od(m.content,C),s.jsx(e2e,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:en(i),onThumbPointerUp:en(o),onThumbPositionChange:S,onThumbPointerDown:en(l),children:s.jsx(Ve.div,{...h,ref:p,style:{position:"absolute",...h.style},onPointerDown:Oe(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(N))}),onPointerMove:Oe(e.onPointerMove,P),onPointerUp:Oe(e.onPointerUp,N=>{const O=N.target;O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Ky="ScrollAreaThumb",p8=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=h8(Ky,e.__scopeScrollArea);return s.jsx(sa,{present:r||a.hasThumb,children:s.jsx(t2e,{ref:t,...n})})}),t2e=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Xa(Ky,r),o=h8(Ky,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=w.useRef(void 0),d=G0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=a2e(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ve.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Oe(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:Oe(e.onPointerUp,o.onThumbPointerUp)})});p8.displayName=Ky;var fP="ScrollAreaCorner",g8=w.forwardRef((e,t)=>{const r=Xa(fP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(r2e,{...e,ref:t}):null});g8.displayName=fP;var r2e=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Xa(fP,r),[i,o]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return Od(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Od(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Ve.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gy(e){return e?parseInt(e,10):0}function v8(e,t){const r=e/t;return isNaN(r)?0:r}function K0(e){const t=v8(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function n2e(e,t,r,n="ltr"){const a=K0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return y8([c,u],f)(e)}function WR(e,t,r="ltr"){const n=K0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Yh(e,c);return y8([0,o],[0,l])(u)}function y8(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function x8(e,t){return e>0&&e<t}var a2e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function G0(e,t){const r=en(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Od(e,t){const r=en(t);fn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var b8=c8,i2e=d8,s2e=g8;const w8=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(b8,{ref:n,className:ue("relative overflow-hidden",e),...r,children:[s.jsx(i2e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(j8,{}),s.jsx(s2e,{})]}));w8.displayName=b8.displayName;const j8=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(uP,{ref:n,orientation:t,className:ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(p8,{className:"relative flex-1 rounded-full bg-border"})}));j8.displayName=uP.displayName;function o2e({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:o,onOpenBlockNote:l}){const c=d=>i.find(f=>f.id===d),u=[...n].sort((d,f)=>d.start_month-f.start_month);return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(ar,{className:"max-w-3xl max-h-[85vh]",children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(Bo,{className:"h-5 w-5"}),"Notes  ",r]})}),s.jsx(w8,{className:"max-h-[65vh] pr-2",children:u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):s.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=c(d.color_id),h=a.find(p=>p.block_id===d.id),m=o[d.start_month-1]||`M${d.start_month}`,y=d.start_month+d.duration-1,g=o[y-1]||`M${y}`;return s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(d)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f.color}}),s.jsx("span",{className:"font-medium text-sm",children:d.label||(f==null?void 0:f.name)||"Bloc"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[m,"  ",g]})]}),h?s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},d.id)})})})]})})}const _8=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function l2e(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:_8[(n-1)%12],globalIndex:n});return r}function S8(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:o,createRow:l,updateRow:c,deleteRow:u,createBlock:d,updateBlock:f,deleteBlock:h}=o8(),{notes:m,getNotesForBlock:y,getNotesForBlocks:g,upsertNote:p}=qOe(),[v,x]=w.useState(1),[b,_]=w.useState(12),[j,S]=w.useState(""),[C,P]=w.useState(null),[N,O]=w.useState(""),[T,E]=w.useState(!1),[R,k]=w.useState(""),[A,$]=w.useState("#3b82f6"),[M,L]=w.useState(null),[B,z]=w.useState(!1),[Q,ee]=w.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[se,U]=w.useState(null),[q,G]=w.useState(null),[H,fe]=w.useState(!1),[D,Y]=w.useState(null),[V,Z]=w.useState(!1),[te,be]=w.useState(null),Re=w.useRef(null),We=l2e(v,b),ge=We.length;We.map(he=>he.label);const Ne=he=>e.find(ze=>ze.id===he),Xe=he=>{const ze=[...he].sort((xt,ht)=>xt.start_month-ht.start_month),it=[],It=[];for(const xt of ze){const ht=xt.start_month+xt.duration;let sn=!1;for(let Gr=0;Gr<It.length;Gr++)if(xt.start_month>=It[Gr]){It[Gr]=ht,it.push({blockId:xt.id,lane:Gr}),sn=!0;break}sn||(it.push({blockId:xt.id,lane:It.length}),It.push(ht))}return{lanes:it,maxLane:It.length}},F=()=>{j.trim()&&(l(j.trim()),S(""))},J=he=>{N.trim()&&c(he,N.trim()),P(null)},oe=(he,ze)=>{var it;ee({row_id:he,start_month:ze,duration:1,color_id:((it=e[0])==null?void 0:it.id)||"",label:""}),U(null),z(!0)},K=he=>{ee({row_id:he.row_id,start_month:he.start_month,duration:he.duration,color_id:he.color_id||"",label:he.label}),U(he.id),z(!0)},ie=()=>{const{row_id:he,start_month:ze,duration:it,color_id:It,label:xt}=Q,ht=It||null;se?f(se,{row_id:he,start_month:ze,duration:it,color_id:ht,label:xt}):d(he,ze,it,ht,xt),z(!1)},ve=()=>{R.trim()&&(M?i(M,{name:R.trim(),color:A}):a(R.trim(),A),k(""),$("#3b82f6"),L(null),E(!1))},de=he=>{L(he.id),k(he.name),$(he.color),E(!0)},Me=he=>{G(he),fe(!0)},Ze=(he,ze)=>{he.preventDefault();const it=Re.current;if(!it)return;const It=it.getBoundingClientRect(),xt=It.width/ge,ht=Math.floor((he.clientX-It.left)/xt)+v;be({blockId:ze.id,offsetMonth:ht-ze.start_month})},ft=w.useCallback(he=>{if(!te||!Re.current)return;const ze=Re.current.getBoundingClientRect(),it=ze.width/ge;let xt=Math.floor((he.clientX-ze.left)/it)+v-te.offsetMonth;const ht=r.find(sn=>sn.id===te.blockId);ht&&(xt=Math.max(1,Math.min(xt,36-ht.duration)),xt!==ht.start_month&&f(te.blockId,{start_month:xt}))},[te,r,f,ge,v]),Ge=w.useCallback(()=>{be(null)},[]);if(n)return s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const yt=Array.from({length:36},(he,ze)=>{const it=ze+1,It=Math.floor(ze/12)+1,xt=`${_8[ze%12]} (A${It})`;return{value:it,label:xt}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(kt,{children:[s.jsx(er,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(tr,{className:"text-sm font-medium",children:"Lgende des couleurs"}),s.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{L(null),k(""),$("#3b82f6"),E(!0)},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),s.jsx(Dt,{children:e.length===0?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):s.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(he=>s.jsxs("div",{className:"flex items-center gap-2 group",children:[s.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:he.color}}),s.jsx("span",{className:"text-sm",children:he.name}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>de(he),children:s.jsx(uv,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>o(he.id),children:s.jsx(_i,{className:"h-3 w-3"})})]},he.id))})})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(tr,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(xe,{placeholder:"Nouveau produit",value:j,onChange:he=>S(he.target.value),onKeyDown:he=>he.key==="Enter"&&F(),className:"h-7 text-xs w-48"}),s.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:F,disabled:!j.trim(),children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Ce,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),s.jsxs(lt,{value:String(v),onValueChange:he=>{const ze=Number(he);x(ze),ze>b&&_(ze)},children:[s.jsx(st,{className:"h-7 text-xs w-32",children:s.jsx(ct,{})}),s.jsx(ot,{children:yt.map(he=>s.jsx(De,{value:String(he.value),children:he.label},he.value))})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Ce,{className:"text-xs whitespace-nowrap",children:"Fin :"}),s.jsxs(lt,{value:String(b),onValueChange:he=>{const ze=Number(he);_(ze),ze<v&&x(ze)},children:[s.jsx(st,{className:"h-7 text-xs w-32",children:s.jsx(ct,{})}),s.jsx(ot,{children:yt.filter(he=>he.value>=v).map(he=>s.jsx(De,{value:String(he.value),children:he.label},he.value))})]})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[ge," mois affichs"]})]})]})}),s.jsx(Dt,{className:"overflow-x-auto p-0",children:s.jsxs("div",{className:"min-w-[900px]",onMouseMove:ft,onMouseUp:Ge,onMouseLeave:Ge,children:[s.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${ge}, 1fr)`},children:[s.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),We.map((he,ze)=>s.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:he.label},ze))]}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(he=>{const ze=r.filter(ht=>ht.row_id===he.id),{lanes:it,maxLane:It}=Xe(ze),xt=Math.max(44,It*32+12);return s.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${ge}, 1fr)`,minHeight:xt},children:[s.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:xt},children:C===he.id?s.jsx(xe,{value:N,onChange:ht=>O(ht.target.value),onBlur:()=>J(he.id),onKeyDown:ht=>ht.key==="Enter"&&J(he.id),autoFocus:!0,className:"h-6 text-xs"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"truncate flex-1 font-medium",children:he.label}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{Y({id:he.id,label:he.label}),Z(!0)},title:"Voir toutes les notes",children:s.jsx(Bo,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{P(he.id),O(he.label)},children:s.jsx(uv,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(he.id)},children:s.jsx(nr,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${ge+2}`,minHeight:xt},ref:Re,children:[s.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${ge}, 1fr)`},children:We.map((ht,sn)=>s.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>oe(he.id,ht.globalIndex)},sn))}),ze.map(ht=>{const sn=ht.start_month+ht.duration;if(sn<=v||ht.start_month>b)return null;const Gr=Ne(ht.color_id),jn=(Gr==null?void 0:Gr.color)||"#94a3b8",ll=Math.max(ht.start_month,v),Hs=Math.min(sn,b+1),Pa=`${(ll-v)/ge*100}%`,hf=`${(Hs-ll)/ge*100}%`,rt=it.find(mn=>mn.blockId===ht.id),Zt=4+((rt==null?void 0:rt.lane)||0)*32,_n=y(ht.id),Dn=_n.length>0&&_n[0].content.trim()!=="";return s.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:Pa,width:hf,backgroundColor:jn,top:Zt,height:28,cursor:te?"grabbing":"grab",zIndex:(te==null?void 0:te.blockId)===ht.id?10:1},onMouseDown:mn=>Ze(mn,ht),onDoubleClick:()=>K(ht),onClick:mn=>{te||(mn.stopPropagation(),Me(ht))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[s.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:ht.label||(Gr==null?void 0:Gr.name)||""}),Dn&&s.jsx(bH,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},ht.id)})]})]},he.id)})]})})]}),s.jsx(mr,{open:T,onOpenChange:E,children:s.jsxs(ar,{className:"max-w-sm",children:[s.jsx(ir,{children:s.jsx(sr,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom / Dfinition"}),s.jsx(xe,{value:R,onChange:he=>k(he.target.value),placeholder:"Ex: Sortie publique valide"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Couleur"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"color",value:A,onChange:he=>$(he.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(xe,{value:A,onChange:he=>$(he.target.value),className:"w-28 text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{onClick:ve,disabled:!R.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&s.jsx(ne,{variant:"destructive",onClick:()=>{o(M),E(!1)},children:"Supprimer"})]})]})]})}),s.jsx(mr,{open:B,onOpenChange:z,children:s.jsxs(ar,{className:"max-w-sm",children:[s.jsx(ir,{children:s.jsx(sr,{children:se?"Modifier le bloc":"Nouveau bloc"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Label"}),s.jsx(xe,{value:Q.label,onChange:he=>ee(ze=>({...ze,label:he.target.value})),placeholder:"Ex: Prototype"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Mois de dbut"}),s.jsxs(lt,{value:String(Q.start_month),onValueChange:he=>ee(ze=>({...ze,start_month:Number(he)})),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:yt.map(he=>s.jsx(De,{value:String(he.value),children:he.label},he.value))})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Dure (mois)"}),s.jsxs(lt,{value:String(Q.duration),onValueChange:he=>ee(ze=>({...ze,duration:Number(he)})),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsx(ot,{children:Array.from({length:24},(he,ze)=>ze+1).map(he=>s.jsxs(De,{value:String(he),children:[he," mois"]},he))})]})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Couleur"}),s.jsxs(lt,{value:Q.color_id||"none",onValueChange:he=>ee(ze=>({...ze,color_id:he==="none"?"":he})),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:"Sans couleur"}),e.map(he=>s.jsx(De,{value:he.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:he.color}}),he.name]})},he.id))]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{onClick:ie,className:"flex-1",children:se?"Mettre  jour":"Crer"}),se&&s.jsx(ne,{variant:"destructive",onClick:()=>{h(se),z(!1)},children:"Supprimer"})]})]})]})}),s.jsx(KOe,{open:H,onOpenChange:fe,block:q,color:q?Ne(q.color_id):void 0,existingNote:q?y(q.id)[0]:void 0,onSave:p,monthLabels:yt.map(he=>he.label)}),D&&s.jsx(o2e,{open:V,onOpenChange:Z,rowLabel:D.label,rowBlocks:r.filter(he=>he.row_id===D.id),notes:g(r.filter(he=>he.row_id===D.id).map(he=>he.id)),colors:e,monthLabels:yt.map(he=>he.label),onOpenBlockNote:Me})]})}function c2e(){const e=lP(),[t,r]=w.useState(null),[n,a]=w.useState(null),[i,o]=w.useState("references");return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx(is,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),s.jsxs(Ga,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(Na,{children:[s.jsx(St,{value:"references",children:" Rfrences"}),s.jsx(St,{value:"products",children:" Produits"}),s.jsx(St,{value:"suppliers",children:" Fournisseurs"}),s.jsx(St,{value:"costs",children:" Cots & Export"}),s.jsx(St,{value:"meetings",children:" Runions BE"}),s.jsx(St,{value:"planning",children:" Planning Dev"})]}),s.jsx(Rt,{value:"references",children:t?s.jsx(MEe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):s.jsx(TEe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),s.jsx(Rt,{value:"products",children:n?s.jsx(BEe,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(LEe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),s.jsx(FEe,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),s.jsx(Rt,{value:"suppliers",children:s.jsx(UEe,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),s.jsx(Rt,{value:"costs",children:s.jsx(zEe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),s.jsx(Rt,{value:"meetings",children:s.jsx(HOe,{})}),s.jsx(Rt,{value:"planning",children:s.jsx(S8,{})})]})]})})}function u2e(){const{user:e,userRole:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(!0),c=t==="admin"||t==="finance",u=w.useCallback(async()=>{if(e){l(!0);try{const[p,v]=await Promise.all([pe.from("timetracking_categories").select("*").order("name"),pe.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);p.data&&n(p.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),v.data&&i(v.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(p){console.error("TimeTracking fetch error:",p)}finally{l(!1)}}},[e]);return w.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:o,canManageCategories:c,createCategory:async(p,v)=>{if(!e)return;const{error:x}=await pe.from("timetracking_categories").insert({user_id:e.id,name:p,color:v});x?(ke.error("Erreur cration catgorie"),console.error(x)):(ke.success("Catgorie cre"),u())},updateCategory:async(p,v)=>{const{error:x}=await pe.from("timetracking_categories").update(v).eq("id",p);x?(ke.error("Erreur mise  jour catgorie"),console.error(x)):(ke.success("Catgorie mise  jour"),u())},deleteCategory:async p=>{const{error:v}=await pe.from("timetracking_categories").delete().eq("id",p);v?(ke.error("Erreur suppression catgorie"),console.error(v)):(ke.success("Catgorie supprime"),u())},createEntry:async p=>{if(!e)return;const{error:v}=await pe.from("timetracking_entries").insert({user_id:e.id,date:p.date,category_id:p.category_id||null,task_description:p.task_description,duration_minutes:p.duration_minutes||0,comments:p.comments||""});v?(ke.error("Erreur cration entre"),console.error(v)):(ke.success("Temps enregistr"),u())},updateEntry:async(p,v)=>{const{error:x}=await pe.from("timetracking_entries").update(v).eq("id",p);x?(ke.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async p=>{const{error:v}=await pe.from("timetracking_entries").delete().eq("id",p);v?(ke.error("Erreur suppression"),console.error(v)):u()},refresh:u}}function Dw(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function d2e({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,o]=w.useState(()=>Ad(new Date,{weekStartsOn:1})),[l,c]=w.useState(new Date),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,y]=w.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),g=eAe(i,{weekStartsOn:1}),p=QEe({start:i,end:g}),v=w.useMemo(()=>e.filter(P=>tS(JAe(P.date),l)),[e,l]),x=w.useMemo(()=>{const P={};return p.forEach(N=>{const O=ii(N,"yyyy-MM-dd");P[O]=e.filter(T=>T.date===O).reduce((T,E)=>T+E.duration_minutes,0)}),P},[e,p]),b=v.reduce((P,N)=>P+N.duration_minutes,0),_=P=>t.find(N=>N.id===P),j=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=P=>{h(P.id),y({task_description:P.task_description,category_id:P.category_id||"",duration_hours:Math.floor(P.duration_minutes/60),duration_minutes:P.duration_minutes%60,comments:P.comments}),d(!0)},C=async()=>{if(!m.task_description.trim())return;const P=m.duration_hours*60+m.duration_minutes,N={date:ii(l,"yyyy-MM-dd"),task_description:m.task_description,category_id:m.category_id||null,duration_minutes:P,comments:m.comments};f?await n(f,N):await r(N),d(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>o(pOe(i,1)),children:s.jsx(JW,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",ii(i,"d MMMM",{locale:fu})," au ",ii(g,"d MMMM yyyy",{locale:fu})]}),s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>o(r8(i,1)),children:s.jsx(Fh,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:p.map(P=>{const N=ii(P,"yyyy-MM-dd"),O=x[N]||0,T=tS(P,l);return s.jsxs("button",{onClick:()=>c(P),className:`p-3 rounded-lg border text-center transition-colors ${T?"bg-primary text-primary-foreground border-primary":QAe(P)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[s.jsx("div",{className:"text-xs font-medium",children:ii(P,"EEE",{locale:fu})}),s.jsx("div",{className:"text-lg font-bold",children:ii(P,"d")}),O>0&&s.jsx("div",{className:`text-xs mt-1 ${T?"text-primary-foreground/80":"text-muted-foreground"}`,children:Dw(O)})]},N)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:ii(l,"EEEE d MMMM yyyy",{locale:fu})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(tC,{className:"h-3.5 w-3.5"}),"Total : ",Dw(b)]})]}),s.jsxs(ne,{onClick:j,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{children:"Catgorie"}),s.jsx(ce,{children:"Tche"}),s.jsx(ce,{className:"text-right",children:"Dure"}),s.jsx(ce,{children:"Commentaire"}),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[v.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),v.map(P=>{const N=_(P.category_id);return s.jsxs(_e,{children:[s.jsx(W,{children:N?s.jsxs(Pe,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(W,{className:"font-medium",children:P.task_description}),s.jsx(W,{className:"text-right font-mono-numbers",children:Dw(P.duration_minutes)}),s.jsx(W,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:P.comments||""}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>S(P),children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>a(P.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},P.id)})]})]})}),s.jsx(mr,{open:u,onOpenChange:d,children:s.jsxs(ar,{className:"max-w-md",children:[s.jsx(ir,{children:s.jsx(sr,{children:f?"Modifier la tche":"Nouvelle tche"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Tche *"}),s.jsx(xe,{value:m.task_description,onChange:P=>y({...m,task_description:P.target.value}),placeholder:"Description de la tche..."})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Catgorie"}),s.jsxs(lt,{value:m.category_id||"none",onValueChange:P=>y({...m,category_id:P==="none"?"":P}),children:[s.jsx(st,{children:s.jsx(ct,{placeholder:"Slectionner..."})}),s.jsxs(ot,{children:[s.jsx(De,{value:"none",children:"Aucune"}),t.map(P=>s.jsx(De,{value:P.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),P.name]})},P.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Dure"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{type:"number",min:0,max:23,className:"w-20 text-right",value:m.duration_hours,onChange:P=>y({...m,duration_hours:parseInt(P.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),s.jsx(xe,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:m.duration_minutes,onChange:P=>y({...m,duration_minutes:parseInt(P.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Commentaire"}),s.jsx(Ha,{value:m.comments,onChange:P=>y({...m,comments:P.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:C,disabled:!m.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const f2e=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function h2e({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),i(!0)},m=g=>{l(g.id),u(g.name),f(g.color),i(!0)},y=async()=>{c.trim()&&(o?await r(o,{name:c,color:d}):await t(c,d),i(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),s.jsxs(ne,{onClick:h,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"w-12",children:"Couleur"}),s.jsx(ce,{children:"Nom"}),s.jsx(ce,{})]})}),s.jsxs(Yt,{children:[e.length===0&&s.jsx(_e,{children:s.jsx(W,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(g=>s.jsxs(_e,{children:[s.jsx(W,{children:s.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:g.color}})}),s.jsx(W,{className:"font-medium",children:g.name}),s.jsx(W,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>m(g),children:s.jsx(Dd,{className:"h-3 w-3"})}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>n(g.id),children:s.jsx(nr,{className:"h-3 w-3 text-destructive"})})]})})]},g.id))]})]})}),s.jsx(mr,{open:a,onOpenChange:i,children:s.jsxs(ar,{className:"max-w-sm",children:[s.jsx(ir,{children:s.jsx(sr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom *"}),s.jsx(xe,{value:c,onChange:g=>u(g.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Couleur"}),s.jsx("div",{className:"flex gap-2 mt-2",children:f2e.map(g=>s.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===g?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:g},onClick:()=>f(g)},g))})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{onClick:y,disabled:!c.trim(),children:o?"Mettre  jour":"Crer"})})]})})]})}function m2e(){const e=u2e();return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),s.jsxs(Ga,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(Na,{children:[s.jsx(St,{value:"entries",children:" Mes entres"}),e.canManageCategories&&s.jsx(St,{value:"categories",children:" Catgories"})]}),s.jsx(Rt,{value:"entries",children:s.jsx(d2e,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&s.jsx(Rt,{value:"categories",children:s.jsx(h2e,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const HR="novaride_financial_state_v5";function p2e(){const{user:e,isAdmin:t,getTabPermission:r}=Ca(),[n,a]=w.useState([]),[i,o]=w.useState(!0),l=w.useCallback(()=>!!e,[e,t]),c=w.useCallback(async()=>{if(!e){o(!1);return}try{const{data:g}=await pe.from("snapshots").select("*").order("created_at",{ascending:!1});g&&a(g.map(p=>({id:p.id,name:p.name,comment:p.comment,createdAt:p.created_at,stateData:JSON.stringify(p.state_data)})))}catch{}finally{o(!1)}},[e]);w.useEffect(()=>{c()},[c]);const u=w.useCallback(async(g,p)=>{if(!e)return!1;try{const v=localStorage.getItem(HR);if(!v)return!1;const{data:x,error:b}=await pe.from("snapshots").insert({user_id:e.id,name:g,comment:p,state_data:JSON.parse(v)}).select().single();if(b||!x)return!1;const _=x;return a(j=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...j]),xn({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=w.useCallback(g=>{const p=n.find(v=>v.id===g);return p?(localStorage.setItem(HR,p.stateData),xn({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=w.useCallback(async g=>!1,[]),h=w.useCallback(async g=>e?(await pe.from("snapshots").delete().eq("id",g),a(p=>p.filter(v=>v.id!==g)),!0):!1,[e]),m=w.useCallback(async(g,p)=>!1,[]),y=g=>new Date(g).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:m,formatDate:y}}function g2e(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=p2e(),{getTabPermission:o,isAdmin:l}=Ca(),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(!1),g=o("snapshots")==="write",p=async()=>{if(!c.trim()){xn({title:"Nom requis",variant:"destructive"});return}m(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),m(!1)};return t?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(yi,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx(is,{tabKey:"snapshots",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),g&&s.jsxs(kt,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),s.jsx(_s,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),s.jsx(Dt,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Nom"}),s.jsx(xe,{value:c,onChange:v=>u(v.target.value),placeholder:"Ex: Budget V2 valid"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commentaire (optionnel)"}),s.jsx(Ha,{value:d,onChange:v=>f(v.target.value),placeholder:"Notes...",rows:1})]}),s.jsxs(ne,{onClick:p,disabled:h,children:[h?s.jsx(yi,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(mx,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),s.jsxs(kt,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(QI,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),s.jsxs(_s,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),s.jsx(Dt,{children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):s.jsx("div",{className:"space-y-3",children:e.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:v.name}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:i(v.createdAt)})]}),v.comment&&s.jsx("p",{className:"text-sm text-muted-foreground",children:v.comment})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g&&s.jsxs(My,{children:[s.jsx(JT,{asChild:!0,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(np,{className:"h-4 w-4 mr-1"}),"Charger"]})}),s.jsxs(Lm,{children:[s.jsxs(Bm,{children:[s.jsx(zm,{children:"Restaurer cette sauvegarde ?"}),s.jsxs(Um,{children:["Les donnes actuelles seront remplaces par  ",v.name," . Cette action rechargera la page."]})]}),s.jsxs(Fm,{children:[s.jsx(Wm,{children:"Annuler"}),s.jsx(Vm,{onClick:()=>n(v.id),children:"Restaurer"})]})]})]}),l&&s.jsxs(My,{children:[s.jsx(JT,{asChild:!0,children:s.jsx(ne,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(nr,{className:"h-4 w-4"})})}),s.jsxs(Lm,{children:[s.jsxs(Bm,{children:[s.jsxs(zm,{children:["Supprimer  ",v.name,"  ?"]}),s.jsx(Um,{children:"Cette action est irrversible."})]}),s.jsxs(Fm,{children:[s.jsx(Wm,{children:"Annuler"}),s.jsx(Vm,{onClick:()=>a(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},v.id))})})]})]})})}const Lw="hsl(var(--muted-foreground))";function C8({products:e,productCategories:t,salesRules:r,calculateProductCost:n,computeChainFromPublicTTC:a,getEffectivePrice:i,editedOurPrices:o,pricingMode:l}){var b;const[c,u]=w.useState("from_our_price"),[d,f]=w.useState(new Set([(b=r[0])==null?void 0:b.id].filter(Boolean))),[h,m]=w.useState(new Set(t.map(_=>_.id))),y=_=>{f(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},g=_=>{m(j=>{const S=new Set(j);return S.has(_)?S.delete(_):S.add(_),S})},p=w.useMemo(()=>e.filter(_=>_.category_id?h.has(_.category_id):h.has("__uncategorized")),[e,h]),v=w.useMemo(()=>p.map(_=>{const j=n(_.id,_.default_volume||500),S=t.find(N=>N.id===_.category_id),C=(S==null?void 0:S.color)||Lw,P={name:_.name.length>15?_.name.slice(0,14)+"":_.name,fullName:_.name,costPrice:j,catColor:C,categoryName:(S==null?void 0:S.name)||"Sans catgorie"};for(const N of r){if(!d.has(N.id))continue;const O=i(_),T=a(O,N);let E=0;c==="from_public"?E=(T==null?void 0:T.ourB2BPrice)||0:E=o[_.id]!==void 0?o[_.id]:(T==null?void 0:T.ourB2BPrice)||0;const R=j>0?(E-j)/j*100:0;P[`margin_${N.id}`]=parseFloat(R.toFixed(1))}return P}),[p,d,r,n,i,a,o,c]),x=r.filter(_=>d.has(_.id));return s.jsxs(kt,{children:[s.jsxs(er,{children:[s.jsx(tr,{className:"text-lg",children:"Analyse des marges par produit"}),s.jsx(_s,{children:"Comparez les marges selon les rgles de vente et catgories"})]}),s.jsxs(Dt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rgles de vente"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(Fa,{checked:d.has(_.id),onCheckedChange:()=>y(_.id)}),s.jsx("span",{className:"text-sm",children:_.name}),s.jsx(Pe,{variant:"outline",className:"text-[10px] px-1 py-0",children:_.type.toUpperCase()})]},_.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Catgories"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(_=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(Fa,{checked:h.has(_.id),onCheckedChange:()=>g(_.id)}),_.color&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:_.color}}),s.jsx("span",{className:"text-sm",children:_.name})]},_.id)),e.some(_=>!_.category_id)&&s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(Fa,{checked:h.has("__uncategorized"),onCheckedChange:()=>g("__uncategorized")}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sans catgorie"})]})]})]})]}),v.length>0&&x.length>0?s.jsx("div",{className:"h-80",children:s.jsx(wr,{width:"100%",height:"100%",children:s.jsxs(es,{data:v,margin:{top:10,right:10,left:0,bottom:40},children:[s.jsx(Nr,{strokeDasharray:"3 3",opacity:.3}),s.jsx(Jt,{dataKey:"name",tick:{fontSize:11},angle:-30,textAnchor:"end",height:60}),s.jsx(Vt,{tickFormatter:_=>`${_}%`,tick:{fontSize:11}}),s.jsx(Ct,{formatter:(_,j)=>{const S=r.find(C=>`margin_${C.id}`===j);return[`${_.toFixed(1)}%`,(S==null?void 0:S.name)||j]},labelFormatter:(_,j)=>{var C;const S=(C=j==null?void 0:j[0])==null?void 0:C.payload;return(S==null?void 0:S.fullName)||_}}),s.jsx(w0,{y:0,stroke:"hsl(var(--destructive))",strokeDasharray:"3 3",strokeWidth:1.5}),x.map(_=>s.jsx(Wt,{dataKey:`margin_${_.id}`,name:`margin_${_.id}`,fill:Lw,radius:[3,3,0,0],maxBarSize:40,children:v.map((j,S)=>{const C=j[`margin_${_.id}`]??0;return s.jsx(el,{fill:C<0?"hsl(var(--destructive))":j.catColor,fillOpacity:C<0?.8:1},S)})},_.id))]})})}):s.jsx("div",{className:"h-40 flex items-center justify-center text-muted-foreground text-sm",children:"Slectionnez au moins une rgle et une catgorie pour afficher le graphique."}),x.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-xs",children:[t.filter(_=>h.has(_.id)).map(_=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm",style:{backgroundColor:_.color||Lw}}),s.jsx("span",{children:_.name})]},_.id)),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-3 w-3 rounded-sm bg-destructive opacity-80"}),s.jsx("span",{children:"Marge ngative"})]})]})]})]})}const qR=20;function v2e(){var mn;const{products:e,productCategories:t,references:r,bom:n,calculateProductCost:a,updateProduct:i}=lP(),[o]=w.useState("from_our_price"),[l,c]=w.useState(1.3),[u,d]=w.useState(1.8),[f,h]=w.useState([{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}]),[m,y]=w.useState("default-b2b"),[g,p]=w.useState(new Set),[v,x]=w.useState(!1),[b,_]=w.useState(""),[j,S]=w.useState("b2b"),[C,P]=w.useState({}),[N,O]=w.useState({}),[T,E]=w.useState({}),[R,k]=w.useState({}),[A,$]=w.useState("none"),[M,L]=w.useState(new Set),[B,z]=w.useState(""),[Q,ee]=w.useState(!1),[se,U]=w.useState(!1),[q,G]=w.useState(!1),[H,fe]=w.useState(null),[D,Y]=w.useState(""),[V,Z]=w.useState(null),te=f.find(X=>X.id===m)||f[0],be=()=>C[m]||{},Re=()=>N[m]||{},We=()=>T[m]||{},ge=()=>R[m]||{},Ne=(X,le)=>{P(ae=>({...ae,[m]:{...ae[m]||{},[X]:le}}))},Xe=(X,le)=>{O(ae=>({...ae,[m]:{...ae[m]||{},[X]:le}})),k(ae=>{const $e={...ae[m]||{}};return delete $e[X],{...ae,[m]:$e}})},F=(X,le)=>{E(ae=>({...ae,[m]:{...ae[m]||{},[X]:le}})),k(ae=>{const $e={...ae[m]||{}};return delete $e[X],{...ae,[m]:$e}})},J=()=>({pricingMode:o,distributorCoef:l,shopCoef:u,salesRules:f,activeRuleId:m,editedPrices:C,editedOurPrices:N,editedFinalPrices:T,editedProductCoefs:R});w.useEffect(()=>{(async()=>{var $e,_t,nt,Ft,Ar,Pt,Or,or,on;const{data:{user:le}}=await pe.auth.getUser();if(!le)return;const{data:ae}=await pe.from("pricing_config").select("config_data").eq("user_id",le.id).maybeSingle();if(ae!=null&&ae.config_data){const Ie=ae.config_data;if(Ie.distributorCoef!==void 0&&c(Ie.distributorCoef),Ie.shopCoef!==void 0&&d(Ie.shopCoef),($e=Ie.salesRules)!=null&&$e.length&&h(Ie.salesRules),Ie.activeRuleId&&y(Ie.activeRuleId),Ie.editedPrices){const lr=Object.keys(Ie.editedPrices)[0];if(lr&&typeof Ie.editedPrices[lr]=="object"&&!Array.isArray(Ie.editedPrices[lr]))P(Ie.editedPrices);else if(lr&&typeof Ie.editedPrices[lr]=="number"){const Xn=Ie.activeRuleId||((nt=(_t=Ie.salesRules)==null?void 0:_t[0])==null?void 0:nt.id)||"default-b2b";P({[Xn]:Ie.editedPrices})}}if(Ie.editedOurPrices){const lr=Object.keys(Ie.editedOurPrices)[0];if(lr&&typeof Ie.editedOurPrices[lr]=="object"&&!Array.isArray(Ie.editedOurPrices[lr]))O(Ie.editedOurPrices);else if(lr&&typeof Ie.editedOurPrices[lr]=="number"){const Xn=Ie.activeRuleId||((Ar=(Ft=Ie.salesRules)==null?void 0:Ft[0])==null?void 0:Ar.id)||"default-b2b";O({[Xn]:Ie.editedOurPrices})}}if(Ie.editedFinalPrices){const lr=Object.keys(Ie.editedFinalPrices)[0];if(lr&&typeof Ie.editedFinalPrices[lr]=="object"&&!Array.isArray(Ie.editedFinalPrices[lr]))E(Ie.editedFinalPrices);else if(lr&&typeof Ie.editedFinalPrices[lr]=="number"){const Xn=Ie.activeRuleId||((Or=(Pt=Ie.salesRules)==null?void 0:Pt[0])==null?void 0:Or.id)||"default-b2b";E({[Xn]:Ie.editedFinalPrices})}}if(Ie.editedProductCoefs){const lr=Object.keys(Ie.editedProductCoefs)[0];if(lr&&Array.isArray(Ie.editedProductCoefs[lr])){const Xn=Ie.activeRuleId||((on=(or=Ie.salesRules)==null?void 0:or[0])==null?void 0:on.id)||"default-b2b";k({[Xn]:Ie.editedProductCoefs})}else k(Ie.editedProductCoefs)}}G(!0)})()},[]);const oe=async()=>{U(!0);try{const{data:{user:X}}=await pe.auth.getUser();if(!X){ke.error("Vous devez tre connect pour sauvegarder");return}const le=J(),{error:ae}=await pe.from("pricing_config").upsert({user_id:X.id,config_data:le},{onConflict:"user_id"});if(ae)throw ae;ke.success("Configuration pricing sauvegarde")}catch(X){ke.error(`Erreur: ${X.message}`)}finally{U(!1)}},K=()=>{h(X=>X.map(le=>{if(le.id!==m)return le;const ae=[...le.intermediaries];return ae.length>=1&&(ae[0]={...ae[0],coefficient:l}),ae.length>=2&&(ae[1]={...ae[1],coefficient:u}),{...le,intermediaries:ae}}))},ie=w.useMemo(()=>{const X={},le=[];for(const ae of e)ae.category_id?(X[ae.category_id]||(X[ae.category_id]=[]),X[ae.category_id].push(ae)):le.push(ae);return{grouped:X,uncategorized:le}},[e]),ve=X=>{p(le=>{const ae=new Set(le);return ae.has(X)?ae.delete(X):ae.add(X),ae})},de=X=>{const le=be();return le[X.id]!==void 0?le[X.id]:X.price_ttc},Me=(X,le)=>{const ae=le||te;if(!ae||X<=0)return null;const $e=(ae==null?void 0:ae.tvaRate)??qR,_t=X/(1+$e/100);let nt=_t;const Ft=[...ae.intermediaries].reverse();for(const or of Ft)nt=nt/or.coefficient;const Ar=nt,Pt=[];let Or=Ar;for(const or of ae.intermediaries){const on=Or*or.coefficient,Ie=on-Or,lr=Or>0?Ie/Or*100:0;Pt.push({label:or.label,buyPrice:Or,coef:or.coefficient,sellPrice:on,margin:Ie,marginPct:lr}),Or=on}return{chain:Pt,ourB2BPrice:Ar,prixPublicHT:_t,prixPublicTTC:X}},Ze=(X,le,ae)=>{if(!te||X<=0||le<=0)return null;const $e=(te==null?void 0:te.tvaRate)??qR,_t=le/(1+$e/100),nt=_t/X,Ft=te.intermediaries.length;if(nt<=0)return null;if(Ft===0)return{chain:[],ourB2BPrice:X,prixPublicHT:_t,prixPublicTTC:le,totalCoef:nt,coefs:[]};let Ar;if(ae&&ae.length===Ft)Ar=ae;else{const or=Math.pow(nt,1/Ft);Ar=Array(Ft).fill(or)}const Pt=[];let Or=X;for(let or=0;or<Ft;or++){const on=Or*Ar[or],Ie=on-Or,lr=Or>0?Ie/Or*100:0;Pt.push({label:te.intermediaries[or].label,buyPrice:Or,coef:Ar[or],sellPrice:on,margin:Ie,marginPct:lr}),Or=on}return{chain:Pt,ourB2BPrice:X,prixPublicHT:_t,prixPublicTTC:le,totalCoef:nt,coefs:Ar}},ft=(X,le,ae,$e)=>{if(((te==null?void 0:te.intermediaries.length)||1)<=1){k(Pt=>({...Pt,[m]:{...Pt[m]||{},[X]:[$e]}}));return}const nt=Math.max(1.01,Math.min(ae,$e/1.01)),Ft=$e/nt,Ar=le===0?[nt,Ft]:[Ft,nt];k(Pt=>({...Pt,[m]:{...Pt[m]||{},[X]:Ar}}))},Ge=w.useCallback(async(X,le)=>{await i(X,{price_ttc:le}),P(ae=>{const $e={...ae[m]||{}};return delete $e[X],{...ae,[m]:$e}}),E(ae=>{const $e={...ae[m]||{}};return delete $e[X],{...ae,[m]:$e}})},[i,m]),yt=async()=>{const X=parseFloat(B);if(isNaN(X)||X<0)return;const le=Array.from(M).map(ae=>i(ae,{price_ttc:X}));await Promise.all(le),ke.success(`Prix ${X.toFixed(2)}  appliqu  ${M.size} produit(s)`),L(new Set),z(""),ee(!1),P(ae=>({...ae,[m]:{}})),O(ae=>({...ae,[m]:{}})),E(ae=>({...ae,[m]:{}})),k(ae=>({...ae,[m]:{}}))},he=()=>{if(!H)return;const X=parseFloat(D);if(isNaN(X)||X<0)return;const le=H.catId==="__uncategorized"?ie.uncategorized:ie.grouped[H.catId]||[];H.field==="our_price"?O(ae=>{const $e={...ae[m]||{}};return le.forEach(_t=>{$e[_t.id]=X}),{...ae,[m]:$e}}):E(ae=>{const $e={...ae[m]||{}};return le.forEach(_t=>{$e[_t.id]=X}),{...ae,[m]:$e}}),ke.success(`Prix appliqu  ${le.length} produit(s) de "${H.catName}"`),fe(null),Y("")},ze=X=>{L(le=>{const ae=new Set(le);return ae.has(X)?ae.delete(X):ae.add(X),ae})},it=X=>{const le=X==="__uncategorized"?ie.uncategorized:ie.grouped[X]||[],ae=le.every($e=>M.has($e.id));L($e=>{const _t=new Set($e);return le.forEach(nt=>{ae?_t.delete(nt.id):_t.add(nt.id)}),_t})},It=()=>{if(!b.trim())return;const X=j==="b2c"?[]:j==="oem"?[{label:"Partenaire OEM",coefficient:1.4}]:[{label:"Distributeur",coefficient:l},{label:"Shop",coefficient:u}],le={id:`rule-${Date.now()}`,name:b.trim(),type:j,tvaRate:20,intermediaries:X};h(ae=>[...ae,le]),y(le.id),x(!1),_("")},xt=()=>{var X;if(V){if(h(le=>le.filter(ae=>ae.id!==V)),P(le=>{const ae={...le};return delete ae[V],ae}),O(le=>{const ae={...le};return delete ae[V],ae}),E(le=>{const ae={...le};return delete ae[V],ae}),k(le=>{const ae={...le};return delete ae[V],ae}),m===V){const le=f.filter(ae=>ae.id!==V);y(((X=le[0])==null?void 0:X.id)||"")}Z(null),ke.success("Rgle supprime")}},ht=(X,le,ae,$e)=>{h(_t=>_t.map(nt=>{if(nt.id!==X)return nt;const Ft=[...nt.intermediaries];return ae==="coefficient"?Ft[le]={...Ft[le],coefficient:Number($e)||1}:Ft[le]={...Ft[le],label:String($e)},{...nt,intermediaries:Ft}}))},sn=X=>{h(le=>le.map(ae=>{if(ae.id!==X)return ae;const $e=ae.type==="b2c"?0:ae.type==="oem"?1:2;return ae.intermediaries.length>=$e?ae:{...ae,intermediaries:[...ae.intermediaries,{label:"Intermdiaire",coefficient:1.3}]}}))},Gr=(X,le)=>{h(ae=>ae.map($e=>$e.id!==X||$e.intermediaries.length<=0?$e:{...$e,intermediaries:$e.intermediaries.filter((_t,nt)=>nt!==le)}))},jn=X=>X.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),ll=X=>{const le=a(X.id,X.default_volume||500);if(le<=0)return null;if(o==="from_public"){const ae=de(X),$e=Me(ae);return $e?($e.ourB2BPrice-le)/le*100:null}else{const ae=de(X),$e=Me(ae),_t=Re(),nt=_t[X.id]!==void 0?_t[X.id]:($e==null?void 0:$e.ourB2BPrice)||0;return nt<=0?null:(nt-le)/le*100}},Hs=X=>X<0?"text-destructive font-semibold":"text-muted-foreground",Pa=X=>{const le=a(X.id,X.default_volume||500),ae=M.has(X.id),$e=be(),_t=Re(),nt=We(),Ft=ge();if(o==="from_public"){const Ar=de(X),Pt=Me(Ar),Or=$e[X.id]!==void 0;return s.jsxs(_e,{className:ae?"bg-primary/5":"",children:[s.jsx(W,{className:"w-10",children:s.jsx(Fa,{checked:ae,onCheckedChange:()=>ze(X.id)})}),s.jsx(W,{className:"font-medium",children:X.name}),s.jsx(W,{className:"text-right font-mono text-sm",children:le>0?`${jn(le)} `:""}),s.jsx(W,{className:"text-right font-mono text-sm font-semibold text-primary",children:Pt?`${jn(Pt.ourB2BPrice)} `:""}),te==null?void 0:te.intermediaries.map((or,on)=>{const Ie=Pt==null?void 0:Pt.chain[on];return s.jsx(W,{className:"text-right font-mono text-sm",children:Ie?s.jsxs("span",{className:"text-muted-foreground",children:[jn(Ie.buyPrice),"  ",s.jsxs("span",{className:"text-foreground",children:[jn(Ie.sellPrice)," "]}),s.jsxs("span",{className:"text-xs ml-1 opacity-60",children:["(",Ie.coef,")"]})]}):""},on)}),s.jsx(W,{className:"text-right font-mono text-sm",children:Pt?`${jn(Pt.prixPublicHT)} `:""}),s.jsx(W,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xe,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:Ar||"",onChange:or=>{const on=parseFloat(or.target.value);Ne(X.id,isNaN(on)?0:on)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(W,{className:`text-right font-mono text-sm ${(()=>{if(!Pt||le<=0)return"text-muted-foreground";const or=(Pt.ourB2BPrice-le)/le*100;return Hs(or)})()}`,children:Pt&&le>0?`${jn((Pt.ourB2BPrice-le)/le*100)}%`:""}),s.jsx(W,{className:"w-10",children:Or&&s.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>Ge(X.id,$e[X.id]),title:"Enregistrer",children:s.jsx(Oo,{className:"h-3.5 w-3.5"})})})]},X.id)}else{const Ar=de(X),Pt=nt[X.id]!==void 0?nt[X.id]:Ar||0,Or=Me(Ar),or=_t[X.id]!==void 0?_t[X.id]:(Or==null?void 0:Or.ourB2BPrice)||0,on=Ft[X.id],Ie=Ze(or,Pt,on),lr=_t[X.id]!==void 0||nt[X.id]!==void 0||Ft[X.id]!==void 0;return s.jsxs(_e,{className:ae?"bg-primary/5":"",children:[s.jsx(W,{className:"w-10",children:s.jsx(Fa,{checked:ae,onCheckedChange:()=>ze(X.id)})}),s.jsx(W,{className:"font-medium",children:X.name}),s.jsx(W,{className:"text-right font-mono text-sm",children:le>0?`${jn(le)} `:""}),s.jsx(W,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xe,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:or||"",onChange:Xn=>{const Ei=parseFloat(Xn.target.value);Xe(X.id,isNaN(Ei)?0:Ei)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),te==null?void 0:te.intermediaries.map((Xn,Ei)=>{const Y0=Ie==null?void 0:Ie.chain[Ei],N8=(Ie==null?void 0:Ie.coefs[Ei])||1;return s.jsx(W,{className:"font-mono text-sm",children:Y0?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx(xe,{type:"number",step:"0.01",min:"1.01",className:"h-7 text-xs font-mono w-16 text-right",value:Number(N8.toFixed(4)),onChange:P8=>{const hP=parseFloat(P8.target.value);!isNaN(hP)&&Ie&&ft(X.id,Ei,hP,Ie.totalCoef)}})]}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[jn(Y0.buyPrice),"  ",jn(Y0.sellPrice)," "]})]}):""},Ei)}),s.jsx(W,{className:"text-right font-mono text-sm",children:Ie?`${jn(Ie.prixPublicHT)} `:""}),s.jsx(W,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xe,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right border-primary/30 bg-primary/5",value:Pt||"",onChange:Xn=>{const Ei=parseFloat(Xn.target.value);F(X.id,isNaN(Ei)?0:Ei)},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(W,{className:"text-right font-mono text-sm text-muted-foreground",children:Ie?`${Ie.totalCoef.toFixed(2)}`:""}),s.jsx(W,{className:`text-right font-mono text-sm ${(()=>{if(!Ie||le<=0)return"text-muted-foreground";const Xn=(or-le)/le*100;return Hs(Xn)})()}`,children:Ie&&le>0?`${jn((or-le)/le*100)}%`:""}),s.jsx(W,{className:"w-10",children:lr&&Pt>0&&s.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>Ge(X.id,Pt),title:"Enregistrer",children:s.jsx(Oo,{className:"h-3.5 w-3.5"})})})]},X.id)}},hf=()=>{$(X=>X==="none"?"asc":X==="asc"?"desc":"none")},rt=X=>A==="none"?X:[...X].sort((le,ae)=>{const $e=ll(le)??-1/0,_t=ll(ae)??-1/0;return A==="asc"?$e-_t:_t-$e}),Ot=(X,le)=>{const ae=X.length>0&&X.every(nt=>M.has(nt.id)),$e=X.some(nt=>M.has(nt.id)),_t=rt(X);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kt,{children:[s.jsx(Gt,{children:s.jsxs(_e,{children:[s.jsx(ce,{className:"w-10",children:s.jsx(Fa,{checked:ae,onCheckedChange:()=>it(le),className:$e&&!ae?"opacity-50":""})}),s.jsx(ce,{children:"Produit"}),s.jsx(ce,{className:"text-right",children:"Cot revient"}),o==="from_public"?s.jsxs(s.Fragment,{children:[s.jsxs(ce,{className:"text-right",children:["Notre prix HT ",s.jsx("span",{className:"text-xs opacity-60",children:"(calcul)"})]}),te==null?void 0:te.intermediaries.map((nt,Ft)=>s.jsx(ce,{className:"text-right",children:nt.label},Ft)),s.jsx(ce,{className:"text-right",children:"Prix Public HT"}),s.jsx(ce,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Bc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ce,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Bc,{className:"h-3 w-3 text-primary"}),"Notre prix HT"]})}),te==null?void 0:te.intermediaries.map((nt,Ft)=>s.jsxs(ce,{className:"text-right",children:[nt.label," ",s.jsx("span",{className:"text-xs opacity-60",children:"(coef)"})]},Ft)),s.jsx(ce,{className:"text-right",children:"Prix Public HT"}),s.jsx(ce,{className:"text-right",children:s.jsxs("span",{className:"flex items-center justify-end gap-1",children:[s.jsx(Bc,{className:"h-3 w-3 text-primary"}),"Prix Public TTC"]})}),s.jsx(ce,{className:"text-right",children:"Coef total"})]}),s.jsx(ce,{className:"text-right",children:s.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors cursor-pointer",onClick:hf,children:["Notre marge",A==="none"&&s.jsx(qI,{className:"h-3 w-3 opacity-40"}),A==="asc"&&s.jsx(KI,{className:"h-3 w-3 text-primary"}),A==="desc"&&s.jsx(Bc,{className:"h-3 w-3 text-primary"})]})}),s.jsx(ce,{className:"w-10"})]})}),s.jsx(Yt,{children:_t.map(Pa)})]})})},Zt=()=>{const X=be(),le=Re(),ae=We(),$e=ge();return o==="from_public"?Object.keys(X).length>0:Object.keys(le).length>0||Object.keys(ae).length>0||Object.keys($e).length>0},_n=async()=>{if(o==="from_public"){const X=be(),le=Object.entries(X).map(([ae,$e])=>i(ae,{price_ttc:$e}));await Promise.all(le),ke.success(`${Object.keys(X).length} prix mis  jour pour "${te==null?void 0:te.name}"`),P(ae=>({...ae,[m]:{}}))}else{const X=Re(),le=We(),ae=ge(),$e=new Set([...Object.keys(X),...Object.keys(le),...Object.keys(ae)]),_t=Array.from($e).map(nt=>{var Ar;const Ft=le[nt]!==void 0?le[nt]:((Ar=e.find(Pt=>Pt.id===nt))==null?void 0:Ar.price_ttc)||0;return Ft>0?i(nt,{price_ttc:Ft}):Promise.resolve()});await Promise.all(_t),ke.success(`${$e.size} prix mis  jour pour "${te==null?void 0:te.name}"`),E(nt=>({...nt,[m]:{}})),k(nt=>({...nt,[m]:{}}))}await oe()};w.useMemo(()=>{let X=0;for(const le of Object.keys(C))X+=Object.keys(C[le]||{}).length;for(const le of Object.keys(N))X+=Object.keys(N[le]||{}).length;for(const le of Object.keys(T))X+=Object.keys(T[le]||{}).length;return X},[C,N,T]);const Dn=X=>{const le=Object.keys(C[X]||{}).length,ae=Object.keys(N[X]||{}).length,$e=Object.keys(T[X]||{}).length;return le+ae+$e};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Stratgie tarifaire, chane de distribution et marges par produit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ne,{onClick:oe,disabled:se,variant:"default",size:"sm",children:[se?s.jsx(yi,{className:"h-4 w-4 mr-1 animate-spin"}):s.jsx(mx,{className:"h-4 w-4 mr-1"}),"Sauvegarder Config"]}),M.size>0&&s.jsxs(mr,{open:Q,onOpenChange:ee,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Ij,{className:"h-4 w-4 mr-1"}),"Appliquer un prix (",M.size,")"]})}),s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsxs(sr,{children:["Appliquer un prix  ",M.size," produit(s)"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Produits slectionns :",s.jsx("ul",{className:"mt-1 list-disc pl-4",children:Array.from(M).map(X=>{const le=e.find(ae=>ae.id===X);return le?s.jsx("li",{children:le.name},X):null})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:o==="from_public"?"Prix Public TTC ()":"Notre Prix de Vente HT ()"}),s.jsx(xe,{type:"number",step:"0.01",value:B,onChange:X=>z(X.target.value),placeholder:"Ex: 299.00",className:"font-mono"})]}),s.jsxs(ne,{onClick:yt,className:"w-full",children:["Appliquer  ",M.size," produit(s)"]})]})]})]})]})]}),s.jsx(kt,{children:s.jsxs(er,{className:"pb-3",children:[s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Bc,{className:"h-4 w-4 text-primary"}),"Mode de tarification  Prix fixs aux deux extrmits"]}),s.jsx(_s,{children:"Fixez notre prix HT + le prix client TTC  les coefficients intermdiaires sont calculs et lis"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vu,{className:"h-4 w-4"}),"Coef. Distributeur"]})}),s.jsx(Dt,{children:s.jsx(xe,{type:"number",step:"0.01",value:l,onChange:X=>c(Number(X.target.value)||1),onBlur:K,className:"font-mono"})})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vu,{className:"h-4 w-4"}),"Coef. Shop"]})}),s.jsx(Dt,{children:s.jsx(xe,{type:"number",step:"0.01",value:u,onChange:X=>d(Number(X.target.value)||1),onBlur:K,className:"font-mono"})})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(nC,{className:"h-4 w-4"}),"TVA"]})}),s.jsxs(Dt,{children:[s.jsxs("div",{className:"text-lg font-mono font-semibold",children:[(te==null?void 0:te.tvaRate)??20," %"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dfini dans la rgle active"})]})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsx(tr,{className:"text-sm font-medium",children:"Chane active"})}),s.jsx(Dt,{children:s.jsx("div",{className:"text-xs text-muted-foreground",children:o==="from_public"?`Client final  ${[...(te==null?void 0:te.intermediaries)||[]].reverse().map(X=>X.label).join("  ")}  Nous`:`Nous  ${te==null?void 0:te.intermediaries.map(X=>X.label).join("  ")}  Client final`})})]})]}),s.jsxs(kt,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{className:"text-lg",children:"Rgles de vente"}),s.jsx(_s,{children:"Configurez les canaux de distribution et leurs intermdiaires. Chaque rgle a ses propres prix par catgorie."})]}),s.jsxs(mr,{open:v,onOpenChange:x,children:[s.jsx(Sd,{asChild:!0,children:s.jsxs(ne,{size:"sm",variant:"outline",children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"Nouvelle rgle"]})}),s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Nouvelle rgle de vente"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Nom"}),s.jsx(xe,{value:b,onChange:X=>_(X.target.value),placeholder:"Ex: B2B Europe"})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Type"}),s.jsxs(lt,{value:j,onValueChange:X=>S(X),children:[s.jsx(st,{children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"b2b",children:"B2B (max 2 intermdiaires)"}),s.jsx(De,{value:"oem",children:"OEM (max 1 intermdiaire)"}),s.jsx(De,{value:"b2c",children:"B2C (vente directe)"})]})]})]}),s.jsx(ne,{onClick:It,className:"w-full",children:"Crer"})]})]})]})]})}),s.jsxs(Dt,{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(X=>{const le=Dn(X.id);return s.jsxs(Pe,{variant:X.id===m?"default":"outline",className:"cursor-pointer text-sm py-1.5 px-3 relative",onClick:()=>y(X.id),children:[X.name,s.jsxs("span",{className:"ml-1 text-xs opacity-60",children:["(",X.type.toUpperCase(),")"]}),le>0&&s.jsx("span",{className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full bg-primary text-primary-foreground text-[10px] font-bold",children:le})]},X.id)})}),te&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{value:te.name,onChange:X=>h(le=>le.map(ae=>ae.id===te.id?{...ae,name:X.target.value}:ae)),className:"h-8 text-sm font-semibold w-48"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"secondary",children:te.type==="b2c"?"Vente directe":te.type==="oem"?"Max 1 intermdiaire":"Max 2 intermdiaires"}),f.length>1&&s.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>Z(te.id),children:s.jsx(nr,{className:"h-3.5 w-3.5"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Pe,{variant:"outline",className:"bg-primary/5",children:"Nous"}),te.intermediaries.map((X,le)=>s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs(Pe,{variant:"outline",children:[X.label," (",X.coefficient,")"]})]},le)),s.jsx("span",{children:""}),s.jsx(Pe,{variant:"outline",className:"bg-primary/5",children:"Client final"})]}),s.jsx(Gl,{}),s.jsx("div",{className:"flex items-end gap-3 mb-2",children:s.jsxs("div",{className:"w-40",children:[s.jsx(Ce,{className:"text-xs",children:"Taux de TVA"}),s.jsxs(lt,{value:String(te.tvaRate),onValueChange:X=>h(le=>le.map(ae=>ae.id===te.id?{...ae,tvaRate:Number(X)}:ae)),children:[s.jsx(st,{className:"h-8 text-sm font-mono",children:s.jsx(ct,{})}),s.jsxs(ot,{children:[s.jsx(De,{value:"20",children:"20 %"}),s.jsx(De,{value:"0",children:"0 % (exonr)"})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[te.intermediaries.map((X,le)=>s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ce,{className:"text-xs",children:["Nom intermdiaire ",le+1]}),s.jsx(xe,{value:X.label,onChange:ae=>ht(te.id,le,"label",ae.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"w-28",children:[s.jsx(Ce,{className:"text-xs",children:"Coefficient"}),s.jsx(xe,{type:"number",step:"0.01",value:X.coefficient,onChange:ae=>ht(te.id,le,"coefficient",ae.target.value),className:"h-8 text-sm font-mono"})]}),te.intermediaries.length>1&&s.jsx(ne,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>Gr(te.id,le),children:s.jsx(nr,{className:"h-3.5 w-3.5"})})]},le)),te.intermediaries.length<(te.type==="b2c"?0:te.type==="oem"?1:2)&&s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>sn(te.id),children:[s.jsx(qt,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter intermdiaire"]})]})]})]})]}),s.jsx(C8,{products:e,productCategories:t,salesRules:f,calculateProductCost:a,computeChainFromPublicTTC:Me,getEffectivePrice:de,editedOurPrices:Re(),pricingMode:o}),s.jsxs(kt,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(tc,{className:"h-5 w-5"}),"Dtail des prix par catgorie  ",s.jsx("span",{className:"text-primary",children:te==null?void 0:te.name})]}),s.jsx(_s,{children:o==="from_public"?`Fixez le prix public TTC  notre prix de vente est calcul via la chane "${te==null?void 0:te.name}"`:`Fixez notre prix HT et le prix client TTC  les coefficients intermdiaires sont rpartis via "${te==null?void 0:te.name}"`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Zt()&&s.jsxs(ne,{onClick:_n,size:"sm",variant:"outline",children:[s.jsx(Oo,{className:"h-4 w-4 mr-1"}),"Enregistrer les prix (",te==null?void 0:te.name,")"]}),M.size>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[M.size," produit(s) slectionn(s)"]})]})]})}),s.jsx(Dt,{children:s.jsxs("div",{className:"space-y-4",children:[t.map(X=>{const le=ie.grouped[X.id]||[];if(le.length===0)return null;const ae=g.has(X.id);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{className:"flex-1 flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>ve(X.id),children:[ae?s.jsx(Bh,{className:"h-4 w-4"}):s.jsx(Fh,{className:"h-4 w-4"}),s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:X.color}}),s.jsx("span",{className:"font-semibold",children:X.name}),s.jsxs(Pe,{variant:"secondary",className:"ml-auto",children:[le.length," produit",le.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-1 pr-3",children:[s.jsx(ne,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{fe({catId:X.id,catName:X.name,field:"our_price"}),Y("")},children:"Appliquer notre prix"}),s.jsx(ne,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{fe({catId:X.id,catName:X.name,field:"public_ttc"}),Y("")},children:"Appliquer prix public"})]})]}),ae&&Ot(le,X.id)]},X.id)}),ie.uncategorized.length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>ve("__uncategorized"),children:[g.has("__uncategorized")?s.jsx(Bh,{className:"h-4 w-4"}):s.jsx(Fh,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-muted-foreground",children:"Sans catgorie"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:ie.uncategorized.length})]}),g.has("__uncategorized")&&Ot(ie.uncategorized,"__uncategorized")]}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(tc,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucun produit configur. Ajoutez des produits dans le module Production et BE."})]})]})})]}),s.jsx(My,{open:!!V,onOpenChange:X=>{X||Z(null)},children:s.jsxs(Lm,{children:[s.jsxs(Bm,{children:[s.jsx(zm,{children:"Supprimer cette rgle de vente ?"}),s.jsxs(Um,{children:["La rgle  ",(mn=f.find(X=>X.id===V))==null?void 0:mn.name,"  et tous ses prix associs seront dfinitivement supprims. Cette action est irrversible."]})]}),s.jsxs(Fm,{children:[s.jsx(Wm,{children:"Annuler"}),s.jsx(Vm,{onClick:xt,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})}),s.jsx(mr,{open:!!H,onOpenChange:X=>{X||fe(null)},children:s.jsxs(ar,{children:[s.jsx(ir,{children:s.jsxs(sr,{children:[(H==null?void 0:H.field)==="our_price"?"Appliquer notre prix HT":"Appliquer prix public TTC","  ",H==null?void 0:H.catName]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ce prix sera appliqu  tous les produits de la catgorie  ",H==null?void 0:H.catName,"  pour la rgle  ",te==null?void 0:te.name," ."]}),s.jsxs("div",{children:[s.jsx(Ce,{children:(H==null?void 0:H.field)==="our_price"?"Notre Prix HT ()":"Prix Public TTC ()"}),s.jsx(xe,{type:"number",step:"0.01",value:D,onChange:X=>Y(X.target.value),placeholder:"Ex: 299.00",className:"font-mono",autoFocus:!0})]}),s.jsx(ne,{onClick:he,className:"w-full",disabled:!D||isNaN(parseFloat(D)),children:"Appliquer"})]})]})})]})}function y2e(){return s.jsx(is,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Planning Dveloppement"}),s.jsx("p",{className:"text-muted-foreground",children:"Planification du dveloppement produit et suivi des phases"})]}),s.jsx(S8,{})]})})}const x2e="/assets/banner-nrc-udh-CghFnth9.jpg",b2e="/assets/savoir-faire-DO6sqzLN.jpg",w2e="/assets/ccd-gold-Cg4R7WZE.jpg",j2e="/assets/pulley-wheels-O2SueKz_.jpg",_2e="/assets/composants-hero-CnGsZ9u8.jpg",S2e="/assets/novaride-action-BP9cu6ww.jpg",C2e=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function N2e(){const{products:e,references:t,productCategories:r,suppliers:n,bom:a,calculateProductCost:i}=lP(),{rows:o,blocks:l,colors:c}=o8(),{customers:u,orders:d}=Rz(),{salesRules:f,pricingMode:h,activeRuleId:m,editedOurPrices:y,getEffectivePrice:g,computeChainFromPublicTTC:p,loaded:v}=SU(),x=e.length,b=t.length,_=n.length,j=r.length,S=u.length,C=d.filter(R=>["draft","confirmed","in_progress"].includes(R.status)).length;a.length;const P=new Date().getMonth(),N=P+1,O=l.filter(R=>R.start_month<=N&&R.start_month+R.duration-1>=N),T=w.useMemo(()=>{const R=[];for(let k=0;k<6;k++){const A=(P+k)%12;R.push({label:C2e[A],index:N+k})}return R},[P,N]),E=w.useMemo(()=>{const R={};return a.forEach(k=>{R[k.product_id]=(R[k.product_id]||0)+1}),Object.entries(R).sort(([,k],[,A])=>A-k).slice(0,5).map(([k,A])=>({product:e.find($=>$.id===k),refCount:A})).filter(k=>k.product)},[a,e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden h-48 md:h-56",children:[s.jsx("img",{src:x2e,alt:"Novaride Engineering",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center px-8",children:s.jsxs("div",{children:[s.jsx(kC,{variant:"full",color:"light",className:"mb-2"}),s.jsx("p",{className:"text-white/80 text-lg font-light tracking-wide",children:"Tableau de bord oprationnel"}),s.jsx("p",{className:"text-white/50 text-sm mt-1",children:"We engage, we move"})]})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7",children:[s.jsx(ml,{icon:tc,label:"Produits",value:x,color:"text-primary"}),s.jsx(ml,{icon:tD,label:"Rfrences",value:b,color:"text-blue-500"}),s.jsx(ml,{icon:rH,label:"Fournisseurs",value:_,color:"text-amber-500"}),s.jsx(ml,{icon:ZI,label:"Catgories",value:j,color:"text-violet-500"}),s.jsx(ml,{icon:xi,label:"Clients",value:S,color:"text-emerald-500"}),s.jsx(ml,{icon:Fo,label:"Commandes actives",value:C,color:"text-rose-500"}),s.jsx(ml,{icon:$j,label:"Tches en cours",value:O.length,color:"text-cyan-500"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(kt,{className:"lg:col-span-2",children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx($j,{className:"h-5 w-5"}),"Planning dveloppement  6 prochains mois"]})}),s.jsx(Dt,{children:o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune ligne de planning configure"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 pr-4 font-medium text-muted-foreground w-40",children:"Produit"}),T.map(R=>s.jsx("th",{className:"text-center py-2 px-1 font-medium text-muted-foreground min-w-[60px]",children:R.label},R.index))]})}),s.jsx("tbody",{children:o.slice(0,8).map(R=>{const k=l.filter(A=>A.row_id===R.id);return s.jsxs("tr",{className:"border-t border-border/50",children:[s.jsx("td",{className:"py-2 pr-4 font-medium truncate max-w-[160px]",children:R.label}),T.map(A=>{const $=k.find(M=>M.start_month<=A.index&&M.start_month+M.duration-1>=A.index);if($){const M=c.find(B=>B.id===$.color_id),L=$.start_month===A.index;return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm flex items-center justify-center text-[10px] font-medium text-white truncate px-1",style:{backgroundColor:(M==null?void 0:M.color)||"#6366f1"},title:$.label,children:L?$.label:""})},A.index)}return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm bg-muted/30"})},A.index)})]},R.id)})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(kt,{className:"overflow-hidden",children:s.jsxs("div",{className:"relative h-36",children:[s.jsx("img",{src:w2e,alt:"CCD EVO",className:"w-full h-full object-cover object-center"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-3 left-4",children:[s.jsx("p",{className:"text-white text-sm font-semibold",children:"Engineering Excellence"}),s.jsx("p",{className:"text-white/60 text-xs",children:"Conception franaise premium"})]})]})}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsx(tr,{className:"text-sm font-medium",children:"Top produits (nomenclature)"})}),s.jsx(Dt,{className:"space-y-2",children:E.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune nomenclature"}):E.map(({product:R,refCount:k})=>{const A=r.find($=>$.id===R.category_id);return s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-border/30 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:A.color}}),s.jsx("span",{className:"text-sm truncate",children:R.name})]}),s.jsxs(Pe,{variant:"secondary",className:"text-xs ml-2 flex-shrink-0",children:[k," rf."]})]},R.id)})})]}),s.jsxs(kt,{children:[s.jsx(er,{className:"pb-3",children:s.jsx(tr,{className:"text-sm font-medium",children:"Catgories produit"})}),s.jsx(Dt,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(R=>{const k=e.filter(A=>A.category_id===R.id).length;return s.jsxs(Pe,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:R.color}}),R.name,s.jsxs("span",{className:"text-muted-foreground",children:["(",k,")"]})]},R.id)})})})]})]})]}),v&&f.length>0&&e.length>0&&s.jsx(C8,{products:e,productCategories:r,salesRules:f,calculateProductCost:i,computeChainFromPublicTTC:p,getEffectivePrice:g,editedOurPrices:y[m]||{},pricingMode:h}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 h-32 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:b2e,alt:"Vision",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Vision"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:j2e,alt:"Transmission",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Transmission"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_2e,alt:"Composants",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Composants"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:S2e,alt:"Performance",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Performance"})]})]})]})}function ml({icon:e,label:t,value:r,color:n}){return s.jsx(kt,{children:s.jsxs(Dt,{className:"p-4 flex flex-col items-center text-center gap-1.5",children:[s.jsx(e,{className:`h-5 w-5 ${n}`}),s.jsx("span",{className:"text-2xl font-bold font-mono",children:r}),s.jsx("span",{className:"text-[11px] text-muted-foreground leading-tight",children:t})]})})}const P2e=()=>{const e=pc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},k2e=new K7,E2e=()=>s.jsx(Y7,{client:k2e,children:s.jsx(j7,{children:s.jsx(yZ,{children:s.jsxs(wZ,{children:[s.jsx(aq,{}),s.jsx(Iq,{}),s.jsx(HK,{children:s.jsxs(DK,{children:[s.jsx(Lr,{path:"/auth",element:s.jsx(yEe,{})}),s.jsx(Lr,{path:"/",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(N2e,{})})})}),s.jsx(Lr,{path:"/product",element:s.jsx(kn,{tabKey:"product-plan",children:s.jsx(Pn,{children:s.jsx(xNe,{})})})}),s.jsx(Lr,{path:"/organisation",element:s.jsx(kn,{tabKey:"organisation",children:s.jsx(Pn,{children:s.jsx(UNe,{})})})}),s.jsx(Lr,{path:"/charges",element:s.jsx(kn,{tabKey:"charges",children:s.jsx(Pn,{children:s.jsx(qNe,{})})})}),s.jsx(Lr,{path:"/crm",element:s.jsx(kn,{tabKey:"crm",children:s.jsx(Pn,{children:s.jsx(FPe,{})})})}),s.jsx(Lr,{path:"/previsionnel",element:s.jsx(kn,{tabKey:"previsionnel",children:s.jsx(Pn,{children:s.jsx(ZPe,{})})})}),s.jsx(Lr,{path:"/funding",element:s.jsx(kn,{tabKey:"funding",children:s.jsx(Pn,{children:s.jsx(JPe,{})})})}),s.jsx(Lr,{path:"/scenarios",element:s.jsx(kn,{tabKey:"scenarios",children:s.jsx(Pn,{children:s.jsx(tke,{})})})}),s.jsx(Lr,{path:"/valuation",element:s.jsx(kn,{tabKey:"valuation",children:s.jsx(Pn,{children:s.jsx(mke,{})})})}),s.jsx(Lr,{path:"/investment-summary",element:s.jsx(kn,{tabKey:"investment-summary",children:s.jsx(Pn,{children:s.jsx(xke,{})})})}),s.jsx(Lr,{path:"/pricing",element:s.jsx(kn,{tabKey:"pricing",children:s.jsx(Pn,{children:s.jsx(v2e,{})})})}),s.jsx(Lr,{path:"/home",element:s.jsx(xv,{to:"/",replace:!0})}),s.jsx(Lr,{path:"/tableau-de-bord",element:s.jsx(xv,{to:"/",replace:!0})}),s.jsx(Lr,{path:"/costflow",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(c2e,{})})})}),s.jsx(Lr,{path:"/planning-dev",element:s.jsx(kn,{tabKey:"costflow",children:s.jsx(Pn,{children:s.jsx(y2e,{})})})}),s.jsx(Lr,{path:"/timetracking",element:s.jsx(kn,{tabKey:"timetracking",children:s.jsx(Pn,{children:s.jsx(m2e,{})})})}),s.jsx(Lr,{path:"/snapshots",element:s.jsx(kn,{tabKey:"snapshots",children:s.jsx(Pn,{children:s.jsx(g2e,{})})})}),s.jsx(Lr,{path:"/permissions",element:s.jsx(kn,{children:s.jsx(Pn,{children:s.jsx(_Ee,{})})})}),s.jsx(Lr,{path:"*",element:s.jsx(P2e,{})})]})})]})})})});mI(document.getElementById("root")).render(s.jsx(E2e,{}));
