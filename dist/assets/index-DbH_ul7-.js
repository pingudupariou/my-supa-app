var AN=e=>{throw TypeError(e)};var d0=(e,t,r)=>t.has(e)||AN("Cannot "+r);var de=(e,t,r)=>(d0(e,t,"read from private field"),r?r.call(e):t.get(e)),vt=(e,t,r)=>t.has(e)?AN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),tt=(e,t,r,n)=>(d0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),en=(e,t,r)=>(d0(e,t,"access private method"),r);var Fp=(e,t,r,n)=>({set _(a){tt(e,t,a,r)},get _(){return de(e,t,n)}});function IU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pR={exports:{}},hy={},mR={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),DU=Symbol.for("react.portal"),LU=Symbol.for("react.fragment"),FU=Symbol.for("react.strict_mode"),BU=Symbol.for("react.profiler"),zU=Symbol.for("react.provider"),UU=Symbol.for("react.context"),VU=Symbol.for("react.forward_ref"),WU=Symbol.for("react.suspense"),HU=Symbol.for("react.memo"),qU=Symbol.for("react.lazy"),ON=Symbol.iterator;function KU(e){return e===null||typeof e!="object"?null:(e=ON&&e[ON]||e["@@iterator"],typeof e=="function"?e:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gR=Object.assign,yR={};function sd(e,t,r){this.props=e,this.context=t,this.refs=yR,this.updater=r||vR}sd.prototype.isReactComponent={};sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xR(){}xR.prototype=sd.prototype;function x_(e,t,r){this.props=e,this.context=t,this.refs=yR,this.updater=r||vR}var b_=x_.prototype=new xR;b_.constructor=x_;gR(b_,sd.prototype);b_.isPureReactComponent=!0;var TN=Array.isArray,bR=Object.prototype.hasOwnProperty,w_={current:null},wR={key:!0,ref:!0,__self:!0,__source:!0};function jR(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bR.call(t,n)&&!wR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:pp,type:e,key:i,ref:o,props:a,_owner:w_.current}}function GU(e,t){return{$$typeof:pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function j_(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp}function YU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var RN=/\/+/g;function f0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YU(""+e.key):t.toString(36)}function Dm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pp:case DU:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+f0(o,0):n,TN(a)?(r="",e!=null&&(r=e.replace(RN,"$&/")+"/"),Dm(a,t,r,"",function(u){return u})):a!=null&&(j_(a)&&(a=GU(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(RN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",TN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+f0(i,l);o+=Dm(i,t,r,c,a)}else if(c=KU(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+f0(i,l++),o+=Dm(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zp(e,t,r){if(e==null)return e;var n=[],a=0;return Dm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function XU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},Lm={transition:null},QU={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Lm,ReactCurrentOwner:w_};function _R(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:zp,forEach:function(e,t,r){zp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zp(e,function(){t++}),t},toArray:function(e){return zp(e,function(t){return t})||[]},only:function(e){if(!j_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=sd;dt.Fragment=LU;dt.Profiler=BU;dt.PureComponent=x_;dt.StrictMode=FU;dt.Suspense=WU;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QU;dt.act=_R;dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gR({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=w_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bR.call(t,c)&&!wR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pp,type:e.type,key:a,ref:i,props:n,_owner:o}};dt.createContext=function(e){return e={$$typeof:UU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zU,_context:e},e.Consumer=e};dt.createElement=jR;dt.createFactory=function(e){var t=jR.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:VU,render:e}};dt.isValidElement=j_;dt.lazy=function(e){return{$$typeof:qU,_payload:{_status:-1,_result:e},_init:XU}};dt.memo=function(e,t){return{$$typeof:HU,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Lm.transition;Lm.transition={};try{e()}finally{Lm.transition=t}};dt.unstable_act=_R;dt.useCallback=function(e,t){return Sn.current.useCallback(e,t)};dt.useContext=function(e){return Sn.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Sn.current.useEffect(e,t)};dt.useId=function(){return Sn.current.useId()};dt.useImperativeHandle=function(e,t,r){return Sn.current.useImperativeHandle(e,t,r)};dt.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Sn.current.useMemo(e,t)};dt.useReducer=function(e,t,r){return Sn.current.useReducer(e,t,r)};dt.useRef=function(e){return Sn.current.useRef(e)};dt.useState=function(e){return Sn.current.useState(e)};dt.useSyncExternalStore=function(e,t,r){return Sn.current.useSyncExternalStore(e,t,r)};dt.useTransition=function(){return Sn.current.useTransition()};dt.version="18.3.1";mR.exports=dt;var j=mR.exports;const T=_t(j),__=IU({__proto__:null,default:T},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JU=j,ZU=Symbol.for("react.element"),eV=Symbol.for("react.fragment"),tV=Object.prototype.hasOwnProperty,rV=JU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nV={key:!0,ref:!0,__self:!0,__source:!0};function SR(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tV.call(t,n)&&!nV.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ZU,type:e,key:i,ref:o,props:a,_owner:rV.current}}hy.Fragment=eV;hy.jsx=SR;hy.jsxs=SR;pR.exports=hy;var s=pR.exports,CR={exports:{}},sa={},NR={exports:{}},PR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var B=D.length;D.push(L);e:for(;0<B;){var Q=B-1>>>1,X=D[Q];if(0<a(X,L))D[Q]=L,D[B]=X,B=Q;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var L=D[0],B=D.pop();if(B!==L){D[0]=B;e:for(var Q=0,X=D.length,re=X>>>1;Q<re;){var z=2*(Q+1)-1,U=D[z],V=z+1,H=D[V];if(0>a(U,B))V<X&&0>a(H,U)?(D[Q]=H,D[V]=B,Q=V):(D[Q]=U,D[z]=B,Q=z);else if(V<X&&0>a(H,B))D[Q]=H,D[V]=B,Q=V;else break e}}return L}function a(D,L){var B=D.sortIndex-L.sortIndex;return B!==0?B:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=D)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(D){if(m=!1,b(D),!y)if(r(c)!==null)y=!0,I(w);else{var L=r(u);L!==null&&M(_,L.startTime-D)}}function w(D,L){y=!1,m&&(m=!1,g(N),N=-1),p=!0;var B=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||D&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var X=Q(f.expirationTime<=L);L=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var z=r(u);z!==null&&M(_,z.startTime-L),re=!1}return re}finally{f=null,h=B,p=!1}}var S=!1,C=null,N=-1,P=5,k=-1;function A(){return!(e.unstable_now()-k<P)}function R(){if(C!==null){var D=e.unstable_now();k=D;var L=!0;try{L=C(!0,D)}finally{L?O():(S=!1,C=null)}}else S=!1}var O;if(typeof x=="function")O=function(){x(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,$=E.port2;E.port1.onmessage=R,O=function(){$.postMessage(null)}}else O=function(){v(R,0)};function I(D){C=D,S||(S=!0,O())}function M(D,L){N=v(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,I(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return D()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return L()}finally{h=B}},e.unstable_scheduleCallback=function(D,L,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,D={id:d++,callback:L,priorityLevel:D,startTime:B,expirationTime:X,sortIndex:-1},B>Q?(D.sortIndex=B,t(u,D),r(c)===null&&D===r(u)&&(m?(g(N),N=-1):m=!0,M(_,B-Q))):(D.sortIndex=X,t(c,D),y||p||(y=!0,I(w))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var L=h;return function(){var B=h;h=L;try{return D.apply(this,arguments)}finally{h=B}}}})(PR);NR.exports=PR;var aV=NR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iV=j,aa=aV;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ER=new Set,Gf={};function Bl(e,t){cu(e,t),cu(e+"Capture",t)}function cu(e,t){for(Gf[e]=t,e=0;e<t.length;e++)ER.add(t[e])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kb=Object.prototype.hasOwnProperty,sV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MN={},$N={};function oV(e){return Kb.call($N,e)?!0:Kb.call(MN,e)?!1:sV.test(e)?$N[e]=!0:(MN[e]=!0,!1)}function lV(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cV(e,t,r,n){if(t===null||typeof t>"u"||lV(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zr[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zr[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zr[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zr[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zr[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zr[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zr[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zr[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zr[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var S_=/[\-:]([a-z])/g;function C_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S_,C_);Zr[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S_,C_);Zr[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S_,C_);Zr[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zr[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zr[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function N_(e,t,r,n){var a=Zr.hasOwnProperty(t)?Zr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cV(t,r,a,n)&&(r=null),n||a===null?oV(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ms=iV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Up=Symbol.for("react.element"),wc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),kR=Symbol.for("react.provider"),AR=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),Yb=Symbol.for("react.suspense"),Xb=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),OR=Symbol.for("react.offscreen"),IN=Symbol.iterator;function Ud(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,h0;function vf(e){if(h0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);h0=t&&t[1]||""}return`
`+h0+e}var p0=!1;function m0(e,t){if(!e||p0)return"";p0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{p0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vf(e):""}function uV(e){switch(e.tag){case 5:return vf(e.type);case 16:return vf("Lazy");case 13:return vf("Suspense");case 19:return vf("SuspenseList");case 0:case 2:case 15:return e=m0(e.type,!1),e;case 11:return e=m0(e.type.render,!1),e;case 1:return e=m0(e.type,!0),e;default:return""}}function Qb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jc:return"Fragment";case wc:return"Portal";case Gb:return"Profiler";case P_:return"StrictMode";case Yb:return"Suspense";case Xb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AR:return(e.displayName||"Context")+".Consumer";case kR:return(e._context.displayName||"Context")+".Provider";case E_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k_:return t=e.displayName||null,t!==null?t:Qb(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return Qb(e(t))}catch{}}return null}function dV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qb(t);case 8:return t===P_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fV(e){var t=TR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vp(e){e._valueTracker||(e._valueTracker=fV(e))}function RR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=TR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jb(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function DN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MR(e,t){t=t.checked,t!=null&&N_(e,"checked",t,!1)}function Zb(e,t){MR(e,t);var r=mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ew(e,t.type,r):t.hasOwnProperty("defaultValue")&&ew(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ew(e,t,r){(t!=="number"||nv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gf=Array.isArray;function Bc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function tw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(gf(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mo(r)}}function $R(e,t){var r=mo(t.value),n=mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function BN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wp,DR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wp=Wp||document.createElement("div"),Wp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hV=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(e){hV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sf[t]=Sf[e]})});function LR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sf.hasOwnProperty(e)&&Sf[e]?(""+t).trim():t+"px"}function FR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=LR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var pV=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nw(e,t){if(t){if(pV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function aw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iw=null;function A_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sw=null,zc=null,Uc=null;function zN(e){if(e=gp(e)){if(typeof sw!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=yy(t),sw(e.stateNode,e.type,t))}}function BR(e){zc?Uc?Uc.push(e):Uc=[e]:zc=e}function zR(){if(zc){var e=zc,t=Uc;if(Uc=zc=null,zN(e),t)for(e=0;e<t.length;e++)zN(t[e])}}function UR(e,t){return e(t)}function VR(){}var v0=!1;function WR(e,t,r){if(v0)return e(t,r);v0=!0;try{return UR(e,t,r)}finally{v0=!1,(zc!==null||Uc!==null)&&(VR(),zR())}}function Xf(e,t){var r=e.stateNode;if(r===null)return null;var n=yy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var ow=!1;if(as)try{var Vd={};Object.defineProperty(Vd,"passive",{get:function(){ow=!0}}),window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{ow=!1}function mV(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Cf=!1,av=null,iv=!1,lw=null,vV={onError:function(e){Cf=!0,av=e}};function gV(e,t,r,n,a,i,o,l,c){Cf=!1,av=null,mV.apply(vV,arguments)}function yV(e,t,r,n,a,i,o,l,c){if(gV.apply(this,arguments),Cf){if(Cf){var u=av;Cf=!1,av=null}else throw Error(ge(198));iv||(iv=!0,lw=u)}}function zl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function UN(e){if(zl(e)!==e)throw Error(ge(188))}function xV(e){var t=e.alternate;if(!t){if(t=zl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return UN(a),e;if(i===n)return UN(a),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function qR(e){return e=xV(e),e!==null?KR(e):null}function KR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KR(e);if(t!==null)return t;e=e.sibling}return null}var GR=aa.unstable_scheduleCallback,VN=aa.unstable_cancelCallback,bV=aa.unstable_shouldYield,wV=aa.unstable_requestPaint,vr=aa.unstable_now,jV=aa.unstable_getCurrentPriorityLevel,O_=aa.unstable_ImmediatePriority,YR=aa.unstable_UserBlockingPriority,sv=aa.unstable_NormalPriority,_V=aa.unstable_LowPriority,XR=aa.unstable_IdlePriority,py=null,wi=null;function SV(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(py,e,void 0,(e.current.flags&128)===128)}catch{}}var Qa=Math.clz32?Math.clz32:PV,CV=Math.log,NV=Math.LN2;function PV(e){return e>>>=0,e===0?32:31-(CV(e)/NV|0)|0}var Hp=64,qp=4194304;function yf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ov(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=yf(l):(i&=o,i!==0&&(n=yf(i)))}else o=r&~a,o!==0?n=yf(o):i!==0&&(n=yf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qa(t),a=1<<r,n|=e[r],t&=~a;return n}function EV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kV(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=EV(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function cw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QR(){var e=Hp;return Hp<<=1,!(Hp&4194240)&&(Hp=64),e}function g0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qa(t),e[t]=r}function AV(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Qa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function T_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Et=0;function JR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZR,R_,eM,tM,rM,uw=!1,Kp=[],to=null,ro=null,no=null,Qf=new Map,Jf=new Map,Ds=[],OV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WN(e,t){switch(e){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jf.delete(t.pointerId)}}function Wd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gp(t),t!==null&&R_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function TV(e,t,r,n,a){switch(t){case"focusin":return to=Wd(to,e,t,r,n,a),!0;case"dragenter":return ro=Wd(ro,e,t,r,n,a),!0;case"mouseover":return no=Wd(no,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Qf.set(i,Wd(Qf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Jf.set(i,Wd(Jf.get(i)||null,e,t,r,n,a)),!0}return!1}function nM(e){var t=Zo(e.target);if(t!==null){var r=zl(t);if(r!==null){if(t=r.tag,t===13){if(t=HR(r),t!==null){e.blockedOn=t,rM(e.priority,function(){eM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);iw=n,r.target.dispatchEvent(n),iw=null}else return t=gp(r),t!==null&&R_(t),e.blockedOn=r,!1;t.shift()}return!0}function HN(e,t,r){Fm(e)&&r.delete(t)}function RV(){uw=!1,to!==null&&Fm(to)&&(to=null),ro!==null&&Fm(ro)&&(ro=null),no!==null&&Fm(no)&&(no=null),Qf.forEach(HN),Jf.forEach(HN)}function Hd(e,t){e.blockedOn===t&&(e.blockedOn=null,uw||(uw=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,RV)))}function Zf(e){function t(a){return Hd(a,e)}if(0<Kp.length){Hd(Kp[0],e);for(var r=1;r<Kp.length;r++){var n=Kp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(to!==null&&Hd(to,e),ro!==null&&Hd(ro,e),no!==null&&Hd(no,e),Qf.forEach(t),Jf.forEach(t),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)nM(r),r.blockedOn===null&&Ds.shift()}var Vc=ms.ReactCurrentBatchConfig,lv=!0;function MV(e,t,r,n){var a=Et,i=Vc.transition;Vc.transition=null;try{Et=1,M_(e,t,r,n)}finally{Et=a,Vc.transition=i}}function $V(e,t,r,n){var a=Et,i=Vc.transition;Vc.transition=null;try{Et=4,M_(e,t,r,n)}finally{Et=a,Vc.transition=i}}function M_(e,t,r,n){if(lv){var a=dw(e,t,r,n);if(a===null)P0(e,t,n,cv,r),WN(e,n);else if(TV(a,e,t,r,n))n.stopPropagation();else if(WN(e,n),t&4&&-1<OV.indexOf(e)){for(;a!==null;){var i=gp(a);if(i!==null&&ZR(i),i=dw(e,t,r,n),i===null&&P0(e,t,n,cv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else P0(e,t,n,null,r)}}var cv=null;function dw(e,t,r,n){if(cv=null,e=A_(n),e=Zo(e),e!==null)if(t=zl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cv=e,null}function aM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jV()){case O_:return 1;case YR:return 4;case sv:case _V:return 16;case XR:return 536870912;default:return 16}default:return 16}}var qs=null,$_=null,Bm=null;function iM(){if(Bm)return Bm;var e,t=$_,r=t.length,n,a="value"in qs?qs.value:qs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Bm=a.slice(e,1<n?1-n:void 0)}function zm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gp(){return!0}function qN(){return!1}function oa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gp:qN,this.isPropagationStopped=qN,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),t}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I_=oa(od),vp=nr({},od,{view:0,detail:0}),IV=oa(vp),y0,x0,qd,my=nr({},vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(y0=e.screenX-qd.screenX,x0=e.screenY-qd.screenY):x0=y0=0,qd=e),y0)},movementY:function(e){return"movementY"in e?e.movementY:x0}}),KN=oa(my),DV=nr({},my,{dataTransfer:0}),LV=oa(DV),FV=nr({},vp,{relatedTarget:0}),b0=oa(FV),BV=nr({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),zV=oa(BV),UV=nr({},od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VV=oa(UV),WV=nr({},od,{data:0}),GN=oa(WV),HV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KV[e])?!!t[e]:!1}function D_(){return GV}var YV=nr({},vp,{key:function(e){if(e.key){var t=HV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(e){return e.type==="keypress"?zm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XV=oa(YV),QV=nr({},my,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YN=oa(QV),JV=nr({},vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),ZV=oa(JV),e8=nr({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),t8=oa(e8),r8=nr({},my,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n8=oa(r8),a8=[9,13,27,32],L_=as&&"CompositionEvent"in window,Nf=null;as&&"documentMode"in document&&(Nf=document.documentMode);var i8=as&&"TextEvent"in window&&!Nf,sM=as&&(!L_||Nf&&8<Nf&&11>=Nf),XN=" ",QN=!1;function oM(e,t){switch(e){case"keyup":return a8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _c=!1;function s8(e,t){switch(e){case"compositionend":return lM(t);case"keypress":return t.which!==32?null:(QN=!0,XN);case"textInput":return e=t.data,e===XN&&QN?null:e;default:return null}}function o8(e,t){if(_c)return e==="compositionend"||!L_&&oM(e,t)?(e=iM(),Bm=$_=qs=null,_c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sM&&t.locale!=="ko"?null:t.data;default:return null}}var l8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l8[e.type]:t==="textarea"}function cM(e,t,r,n){BR(n),t=uv(t,"onChange"),0<t.length&&(r=new I_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pf=null,eh=null;function c8(e){bM(e,0)}function vy(e){var t=Nc(e);if(RR(t))return e}function u8(e,t){if(e==="change")return t}var uM=!1;if(as){var w0;if(as){var j0="oninput"in document;if(!j0){var ZN=document.createElement("div");ZN.setAttribute("oninput","return;"),j0=typeof ZN.oninput=="function"}w0=j0}else w0=!1;uM=w0&&(!document.documentMode||9<document.documentMode)}function eP(){Pf&&(Pf.detachEvent("onpropertychange",dM),eh=Pf=null)}function dM(e){if(e.propertyName==="value"&&vy(eh)){var t=[];cM(t,eh,e,A_(e)),WR(c8,t)}}function d8(e,t,r){e==="focusin"?(eP(),Pf=t,eh=r,Pf.attachEvent("onpropertychange",dM)):e==="focusout"&&eP()}function f8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vy(eh)}function h8(e,t){if(e==="click")return vy(t)}function p8(e,t){if(e==="input"||e==="change")return vy(t)}function m8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:m8;function th(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Kb.call(t,a)||!ti(e[a],t[a]))return!1}return!0}function tP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rP(e,t){var r=tP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tP(r)}}function fM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hM(){for(var e=window,t=nv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nv(e.document)}return t}function F_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v8(e){var t=hM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fM(r.ownerDocument.documentElement,r)){if(n!==null&&F_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=rP(r,i);var o=rP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g8=as&&"documentMode"in document&&11>=document.documentMode,Sc=null,fw=null,Ef=null,hw=!1;function nP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hw||Sc==null||Sc!==nv(n)||(n=Sc,"selectionStart"in n&&F_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ef&&th(Ef,n)||(Ef=n,n=uv(fw,"onSelect"),0<n.length&&(t=new I_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sc)))}function Yp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cc={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},_0={},pM={};as&&(pM=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function gy(e){if(_0[e])return _0[e];if(!Cc[e])return e;var t=Cc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pM)return _0[e]=t[r];return e}var mM=gy("animationend"),vM=gy("animationiteration"),gM=gy("animationstart"),yM=gy("transitionend"),xM=new Map,aP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){xM.set(e,t),Bl(t,[e])}for(var S0=0;S0<aP.length;S0++){var C0=aP[S0],y8=C0.toLowerCase(),x8=C0[0].toUpperCase()+C0.slice(1);_o(y8,"on"+x8)}_o(mM,"onAnimationEnd");_o(vM,"onAnimationIteration");_o(gM,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(yM,"onTransitionEnd");cu("onMouseEnter",["mouseout","mouseover"]);cu("onMouseLeave",["mouseout","mouseover"]);cu("onPointerEnter",["pointerout","pointerover"]);cu("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b8=new Set("cancel close invalid load scroll toggle".split(" ").concat(xf));function iP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yV(n,t,void 0,e),e.currentTarget=null}function bM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;iP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;iP(a,l,u),i=c}}}if(iv)throw e=lw,iv=!1,lw=null,e}function Ut(e,t){var r=t[yw];r===void 0&&(r=t[yw]=new Set);var n=e+"__bubble";r.has(n)||(wM(t,e,2,!1),r.add(n))}function N0(e,t,r){var n=0;t&&(n|=4),wM(r,e,n,t)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function rh(e){if(!e[Xp]){e[Xp]=!0,ER.forEach(function(r){r!=="selectionchange"&&(b8.has(r)||N0(r,!1,e),N0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xp]||(t[Xp]=!0,N0("selectionchange",!1,t))}}function wM(e,t,r,n){switch(aM(t)){case 1:var a=MV;break;case 4:a=$V;break;default:a=M_}r=a.bind(null,t,r,e),a=void 0,!ow||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function P0(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Zo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}WR(function(){var u=i,d=A_(r),f=[];e:{var h=xM.get(e);if(h!==void 0){var p=I_,y=e;switch(e){case"keypress":if(zm(r)===0)break e;case"keydown":case"keyup":p=XV;break;case"focusin":y="focus",p=b0;break;case"focusout":y="blur",p=b0;break;case"beforeblur":case"afterblur":p=b0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZV;break;case mM:case vM:case gM:p=zV;break;case yM:p=t8;break;case"scroll":p=IV;break;case"wheel":p=n8;break;case"copy":case"cut":case"paste":p=VV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YN}var m=(t&4)!==0,v=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Xf(x,g),_!=null&&m.push(nh(x,_,b)))),v)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==iw&&(y=r.relatedTarget||r.fromElement)&&(Zo(y)||y[is]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Zo(y):null,y!==null&&(v=zl(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=KN,_="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=YN,_="onPointerLeave",g="onPointerEnter",x="pointer"),v=p==null?h:Nc(p),b=y==null?h:Nc(y),h=new m(_,x+"leave",p,r,d),h.target=v,h.relatedTarget=b,_=null,Zo(d)===u&&(m=new m(g,x+"enter",y,r,d),m.target=b,m.relatedTarget=v,_=m),v=_,p&&y)t:{for(m=p,g=y,x=0,b=m;b;b=Yl(b))x++;for(b=0,_=g;_;_=Yl(_))b++;for(;0<x-b;)m=Yl(m),x--;for(;0<b-x;)g=Yl(g),b--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=Yl(m),g=Yl(g)}m=null}else m=null;p!==null&&sP(f,h,p,m,!1),y!==null&&v!==null&&sP(f,v,y,m,!0)}}e:{if(h=u?Nc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=u8;else if(JN(h))if(uM)w=p8;else{w=f8;var S=d8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=h8);if(w&&(w=w(e,u))){cM(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ew(h,"number",h.value)}switch(S=u?Nc(u):window,e){case"focusin":(JN(S)||S.contentEditable==="true")&&(Sc=S,fw=u,Ef=null);break;case"focusout":Ef=fw=Sc=null;break;case"mousedown":hw=!0;break;case"contextmenu":case"mouseup":case"dragend":hw=!1,nP(f,r,d);break;case"selectionchange":if(g8)break;case"keydown":case"keyup":nP(f,r,d)}var C;if(L_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else _c?oM(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(sM&&r.locale!=="ko"&&(_c||N!=="onCompositionStart"?N==="onCompositionEnd"&&_c&&(C=iM()):(qs=d,$_="value"in qs?qs.value:qs.textContent,_c=!0)),S=uv(u,N),0<S.length&&(N=new GN(N,e,null,r,d),f.push({event:N,listeners:S}),C?N.data=C:(C=lM(r),C!==null&&(N.data=C)))),(C=i8?s8(e,r):o8(e,r))&&(u=uv(u,"onBeforeInput"),0<u.length&&(d=new GN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}bM(f,t)})}function nh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xf(e,r),i!=null&&n.unshift(nh(e,i,a)),i=Xf(e,t),i!=null&&n.push(nh(e,i,a))),e=e.return}return n}function Yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Xf(r,i),c!=null&&o.unshift(nh(r,c,l))):a||(c=Xf(r,i),c!=null&&o.push(nh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var w8=/\r\n?/g,j8=/\u0000|\uFFFD/g;function oP(e){return(typeof e=="string"?e:""+e).replace(w8,`
`).replace(j8,"")}function Qp(e,t,r){if(t=oP(t),oP(e)!==t&&r)throw Error(ge(425))}function dv(){}var pw=null,mw=null;function vw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gw=typeof setTimeout=="function"?setTimeout:void 0,_8=typeof clearTimeout=="function"?clearTimeout:void 0,lP=typeof Promise=="function"?Promise:void 0,S8=typeof queueMicrotask=="function"?queueMicrotask:typeof lP<"u"?function(e){return lP.resolve(null).then(e).catch(C8)}:gw;function C8(e){setTimeout(function(){throw e})}function E0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zf(t)}function ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ld=Math.random().toString(36).slice(2),hi="__reactFiber$"+ld,ah="__reactProps$"+ld,is="__reactContainer$"+ld,yw="__reactEvents$"+ld,N8="__reactListeners$"+ld,P8="__reactHandles$"+ld;function Zo(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[is]||r[hi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cP(e);e!==null;){if(r=e[hi])return r;e=cP(e)}return t}e=r,r=e.parentNode}return null}function gp(e){return e=e[hi]||e[is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function yy(e){return e[ah]||null}var xw=[],Pc=-1;function So(e){return{current:e}}function Yt(e){0>Pc||(e.current=xw[Pc],xw[Pc]=null,Pc--)}function It(e,t){Pc++,xw[Pc]=e.current,e.current=t}var vo={},hn=So(vo),Dn=So(!1),bl=vo;function uu(e,t){var r=e.type.contextTypes;if(!r)return vo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ln(e){return e=e.childContextTypes,e!=null}function fv(){Yt(Dn),Yt(hn)}function uP(e,t,r){if(hn.current!==vo)throw Error(ge(168));It(hn,t),It(Dn,r)}function jM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ge(108,dV(e)||"Unknown",a));return nr({},r,n)}function hv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,bl=hn.current,It(hn,e),It(Dn,Dn.current),!0}function dP(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=jM(e,t,bl),n.__reactInternalMemoizedMergedChildContext=e,Yt(Dn),Yt(hn),It(hn,e)):Yt(Dn),It(Dn,r)}var qi=null,xy=!1,k0=!1;function _M(e){qi===null?qi=[e]:qi.push(e)}function E8(e){xy=!0,_M(e)}function Co(){if(!k0&&qi!==null){k0=!0;var e=0,t=Et;try{var r=qi;for(Et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qi=null,xy=!1}catch(a){throw qi!==null&&(qi=qi.slice(e+1)),GR(O_,Co),a}finally{Et=t,k0=!1}}return null}var Ec=[],kc=0,pv=null,mv=0,pa=[],ma=0,wl=null,Yi=1,Xi="";function Vo(e,t){Ec[kc++]=mv,Ec[kc++]=pv,pv=e,mv=t}function SM(e,t,r){pa[ma++]=Yi,pa[ma++]=Xi,pa[ma++]=wl,wl=e;var n=Yi;e=Xi;var a=32-Qa(n)-1;n&=~(1<<a),r+=1;var i=32-Qa(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Yi=1<<32-Qa(t)+a|r<<a|n,Xi=i+e}else Yi=1<<i|r<<a|n,Xi=e}function B_(e){e.return!==null&&(Vo(e,1),SM(e,1,0))}function z_(e){for(;e===pv;)pv=Ec[--kc],Ec[kc]=null,mv=Ec[--kc],Ec[kc]=null;for(;e===wl;)wl=pa[--ma],pa[ma]=null,Xi=pa[--ma],pa[ma]=null,Yi=pa[--ma],pa[ma]=null}var ea=null,Zn=null,Xt=!1,Ka=null;function CM(e,t){var r=ga(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ea=e,Zn=ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ea=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wl!==null?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ga(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ea=e,Zn=null,!0):!1;default:return!1}}function bw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ww(e){if(Xt){var t=Zn;if(t){var r=t;if(!fP(e,t)){if(bw(e))throw Error(ge(418));t=ao(r.nextSibling);var n=ea;t&&fP(e,t)?CM(n,r):(e.flags=e.flags&-4097|2,Xt=!1,ea=e)}}else{if(bw(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Xt=!1,ea=e}}}function hP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ea=e}function Jp(e){if(e!==ea)return!1;if(!Xt)return hP(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vw(e.type,e.memoizedProps)),t&&(t=Zn)){if(bw(e))throw NM(),Error(ge(418));for(;t;)CM(e,t),t=ao(t.nextSibling)}if(hP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zn=ao(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=ea?ao(e.stateNode.nextSibling):null;return!0}function NM(){for(var e=Zn;e;)e=ao(e.nextSibling)}function du(){Zn=ea=null,Xt=!1}function U_(e){Ka===null?Ka=[e]:Ka.push(e)}var k8=ms.ReactCurrentBatchConfig;function Kd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Zp(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pP(e){var t=e._init;return t(e._payload)}function PM(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=lo(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,_){return x===null||x.tag!==6?(x=I0(b,g.mode,_),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,_){var w=b.type;return w===jc?d(g,x,b.props.children,_,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ts&&pP(w)===x.type)?(_=a(x,b.props),_.ref=Kd(g,x,b),_.return=g,_):(_=Gm(b.type,b.key,b.props,null,g.mode,_),_.ref=Kd(g,x,b),_.return=g,_)}function u(g,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=D0(b,g.mode,_),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function d(g,x,b,_,w){return x===null||x.tag!==7?(x=gl(b,g.mode,_,w),x.return=g,x):(x=a(x,b),x.return=g,x)}function f(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=I0(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Up:return b=Gm(x.type,x.key,x.props,null,g.mode,b),b.ref=Kd(g,null,x),b.return=g,b;case wc:return x=D0(x,g.mode,b),x.return=g,x;case Ts:var _=x._init;return f(g,_(x._payload),b)}if(gf(x)||Ud(x))return x=gl(x,g.mode,b,null),x.return=g,x;Zp(g,x)}return null}function h(g,x,b,_){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(g,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Up:return b.key===w?c(g,x,b,_):null;case wc:return b.key===w?u(g,x,b,_):null;case Ts:return w=b._init,h(g,x,w(b._payload),_)}if(gf(b)||Ud(b))return w!==null?null:d(g,x,b,_,null);Zp(g,b)}return null}function p(g,x,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(x,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Up:return g=g.get(_.key===null?b:_.key)||null,c(x,g,_,w);case wc:return g=g.get(_.key===null?b:_.key)||null,u(x,g,_,w);case Ts:var S=_._init;return p(g,x,b,S(_._payload),w)}if(gf(_)||Ud(_))return g=g.get(b)||null,d(x,g,_,w,null);Zp(x,_)}return null}function y(g,x,b,_){for(var w=null,S=null,C=x,N=x=0,P=null;C!==null&&N<b.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var k=h(g,C,b[N],_);if(k===null){C===null&&(C=P);break}e&&C&&k.alternate===null&&t(g,C),x=i(k,x,N),S===null?w=k:S.sibling=k,S=k,C=P}if(N===b.length)return r(g,C),Xt&&Vo(g,N),w;if(C===null){for(;N<b.length;N++)C=f(g,b[N],_),C!==null&&(x=i(C,x,N),S===null?w=C:S.sibling=C,S=C);return Xt&&Vo(g,N),w}for(C=n(g,C);N<b.length;N++)P=p(C,g,N,b[N],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),x=i(P,x,N),S===null?w=P:S.sibling=P,S=P);return e&&C.forEach(function(A){return t(g,A)}),Xt&&Vo(g,N),w}function m(g,x,b,_){var w=Ud(b);if(typeof w!="function")throw Error(ge(150));if(b=w.call(b),b==null)throw Error(ge(151));for(var S=w=null,C=x,N=x=0,P=null,k=b.next();C!==null&&!k.done;N++,k=b.next()){C.index>N?(P=C,C=null):P=C.sibling;var A=h(g,C,k.value,_);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(g,C),x=i(A,x,N),S===null?w=A:S.sibling=A,S=A,C=P}if(k.done)return r(g,C),Xt&&Vo(g,N),w;if(C===null){for(;!k.done;N++,k=b.next())k=f(g,k.value,_),k!==null&&(x=i(k,x,N),S===null?w=k:S.sibling=k,S=k);return Xt&&Vo(g,N),w}for(C=n(g,C);!k.done;N++,k=b.next())k=p(C,g,N,k.value,_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),x=i(k,x,N),S===null?w=k:S.sibling=k,S=k);return e&&C.forEach(function(R){return t(g,R)}),Xt&&Vo(g,N),w}function v(g,x,b,_){if(typeof b=="object"&&b!==null&&b.type===jc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Up:e:{for(var w=b.key,S=x;S!==null;){if(S.key===w){if(w=b.type,w===jc){if(S.tag===7){r(g,S.sibling),x=a(S,b.props.children),x.return=g,g=x;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ts&&pP(w)===S.type){r(g,S.sibling),x=a(S,b.props),x.ref=Kd(g,S,b),x.return=g,g=x;break e}r(g,S);break}else t(g,S);S=S.sibling}b.type===jc?(x=gl(b.props.children,g.mode,_,b.key),x.return=g,g=x):(_=Gm(b.type,b.key,b.props,null,g.mode,_),_.ref=Kd(g,x,b),_.return=g,g=_)}return o(g);case wc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=D0(b,g.mode,_),x.return=g,g=x}return o(g);case Ts:return S=b._init,v(g,x,S(b._payload),_)}if(gf(b))return y(g,x,b,_);if(Ud(b))return m(g,x,b,_);Zp(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=I0(b,g.mode,_),x.return=g,g=x),o(g)):r(g,x)}return v}var fu=PM(!0),EM=PM(!1),vv=So(null),gv=null,Ac=null,V_=null;function W_(){V_=Ac=gv=null}function H_(e){var t=vv.current;Yt(vv),e._currentValue=t}function jw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wc(e,t){gv=e,V_=Ac=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mn=!0),e.firstContext=null)}function wa(e){var t=e._currentValue;if(V_!==e)if(e={context:e,memoizedValue:t,next:null},Ac===null){if(gv===null)throw Error(ge(308));Ac=e,gv.dependencies={lanes:0,firstContext:e}}else Ac=Ac.next=e;return t}var el=null;function q_(e){el===null?el=[e]:el.push(e)}function kM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,q_(t)):(r.next=a.next,a.next=r),t.interleaved=r,ss(e,n)}function ss(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rs=!1;function K_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function io(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ss(e,r)}return a=n.interleaved,a===null?(t.next=t,q_(n)):(t.next=a.next,a.next=t),n.interleaved=t,ss(e,r)}function Um(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T_(e,r)}}function mP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yv(e,t,r,n){var a=e.updateQueue;Rs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=nr({},f,h);break e;case 2:Rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_l|=o,e.lanes=o,e.memoizedState=f}}function vP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ge(191,a));a.call(n)}}}var yp={},ji=So(yp),ih=So(yp),sh=So(yp);function tl(e){if(e===yp)throw Error(ge(174));return e}function G_(e,t){switch(It(sh,t),It(ih,e),It(ji,yp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rw(t,e)}Yt(ji),It(ji,t)}function hu(){Yt(ji),Yt(ih),Yt(sh)}function OM(e){tl(sh.current);var t=tl(ji.current),r=rw(t,e.type);t!==r&&(It(ih,e),It(ji,r))}function Y_(e){ih.current===e&&(Yt(ji),Yt(ih))}var Zt=So(0);function xv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var A0=[];function X_(){for(var e=0;e<A0.length;e++)A0[e]._workInProgressVersionPrimary=null;A0.length=0}var Vm=ms.ReactCurrentDispatcher,O0=ms.ReactCurrentBatchConfig,jl=0,tr=null,Rr=null,Br=null,bv=!1,kf=!1,oh=0,A8=0;function tn(){throw Error(ge(321))}function Q_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ti(e[r],t[r]))return!1;return!0}function J_(e,t,r,n,a,i){if(jl=i,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vm.current=e===null||e.memoizedState===null?M8:$8,e=r(n,a),kf){i=0;do{if(kf=!1,oh=0,25<=i)throw Error(ge(301));i+=1,Br=Rr=null,t.updateQueue=null,Vm.current=I8,e=r(n,a)}while(kf)}if(Vm.current=wv,t=Rr!==null&&Rr.next!==null,jl=0,Br=Rr=tr=null,bv=!1,t)throw Error(ge(300));return e}function Z_(){var e=oh!==0;return oh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?tr.memoizedState=Br=e:Br=Br.next=e,Br}function ja(){if(Rr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Br===null?tr.memoizedState:Br.next;if(t!==null)Br=t,Rr=e;else{if(e===null)throw Error(ge(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Br===null?tr.memoizedState=Br=e:Br=Br.next=e}return Br}function lh(e,t){return typeof t=="function"?t(e):t}function T0(e){var t=ja(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Rr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((jl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,tr.lanes|=d,_l|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ti(n,t.memoizedState)||(Mn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,tr.lanes|=i,_l|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function R0(e){var t=ja(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ti(i,t.memoizedState)||(Mn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function TM(){}function RM(e,t){var r=tr,n=ja(),a=t(),i=!ti(n.memoizedState,a);if(i&&(n.memoizedState=a,Mn=!0),n=n.queue,eS(IM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,ch(9,$M.bind(null,r,n,a,t),void 0,null),Ur===null)throw Error(ge(349));jl&30||MM(r,t,a)}return a}function MM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $M(e,t,r,n){t.value=r,t.getSnapshot=n,DM(t)&&LM(e)}function IM(e,t,r){return r(function(){DM(t)&&LM(e)})}function DM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ti(e,r)}catch{return!0}}function LM(e){var t=ss(e,1);t!==null&&Ja(t,e,1,-1)}function gP(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:e},t.queue=e,e=e.dispatch=R8.bind(null,tr,e),[t.memoizedState,e]}function ch(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function FM(){return ja().memoizedState}function Wm(e,t,r,n){var a=ci();tr.flags|=e,a.memoizedState=ch(1|t,r,void 0,n===void 0?null:n)}function by(e,t,r,n){var a=ja();n=n===void 0?null:n;var i=void 0;if(Rr!==null){var o=Rr.memoizedState;if(i=o.destroy,n!==null&&Q_(n,o.deps)){a.memoizedState=ch(t,r,i,n);return}}tr.flags|=e,a.memoizedState=ch(1|t,r,i,n)}function yP(e,t){return Wm(8390656,8,e,t)}function eS(e,t){return by(2048,8,e,t)}function BM(e,t){return by(4,2,e,t)}function zM(e,t){return by(4,4,e,t)}function UM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VM(e,t,r){return r=r!=null?r.concat([e]):null,by(4,4,UM.bind(null,t,e),r)}function tS(){}function WM(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Q_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HM(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Q_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qM(e,t,r){return jl&21?(ti(r,t)||(r=QR(),tr.lanes|=r,_l|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mn=!0),e.memoizedState=r)}function O8(e,t){var r=Et;Et=r!==0&&4>r?r:4,e(!0);var n=O0.transition;O0.transition={};try{e(!1),t()}finally{Et=r,O0.transition=n}}function KM(){return ja().memoizedState}function T8(e,t,r){var n=oo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GM(e))YM(t,r);else if(r=kM(e,t,r,n),r!==null){var a=jn();Ja(r,e,n,a),XM(r,t,n)}}function R8(e,t,r){var n=oo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GM(e))YM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ti(l,o)){var c=t.interleaved;c===null?(a.next=a,q_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=kM(e,t,a,n),r!==null&&(a=jn(),Ja(r,e,n,a),XM(r,t,n))}}function GM(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function YM(e,t){kf=bv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T_(e,r)}}var wv={readContext:wa,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},M8={readContext:wa,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:wa,useEffect:yP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wm(4194308,4,UM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wm(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=T8.bind(null,tr,e),[n.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:gP,useDebugValue:tS,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=gP(!1),t=e[0];return e=O8.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tr,a=ci();if(Xt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Ur===null)throw Error(ge(349));jl&30||MM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,yP(IM.bind(null,n,i,e),[e]),n.flags|=2048,ch(9,$M.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ci(),t=Ur.identifierPrefix;if(Xt){var r=Xi,n=Yi;r=(n&~(1<<32-Qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=oh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=A8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$8={readContext:wa,useCallback:WM,useContext:wa,useEffect:eS,useImperativeHandle:VM,useInsertionEffect:BM,useLayoutEffect:zM,useMemo:HM,useReducer:T0,useRef:FM,useState:function(){return T0(lh)},useDebugValue:tS,useDeferredValue:function(e){var t=ja();return qM(t,Rr.memoizedState,e)},useTransition:function(){var e=T0(lh)[0],t=ja().memoizedState;return[e,t]},useMutableSource:TM,useSyncExternalStore:RM,useId:KM,unstable_isNewReconciler:!1},I8={readContext:wa,useCallback:WM,useContext:wa,useEffect:eS,useImperativeHandle:VM,useInsertionEffect:BM,useLayoutEffect:zM,useMemo:HM,useReducer:R0,useRef:FM,useState:function(){return R0(lh)},useDebugValue:tS,useDeferredValue:function(e){var t=ja();return Rr===null?t.memoizedState=e:qM(t,Rr.memoizedState,e)},useTransition:function(){var e=R0(lh)[0],t=ja().memoizedState;return[e,t]},useMutableSource:TM,useSyncExternalStore:RM,useId:KM,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _w(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wy={isMounted:function(e){return(e=e._reactInternals)?zl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jn(),a=oo(e),i=es(n,a);i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Ja(t,e,a,n),Um(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jn(),a=oo(e),i=es(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Ja(t,e,a,n),Um(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jn(),n=oo(e),a=es(r,n);a.tag=2,t!=null&&(a.callback=t),t=io(e,a,n),t!==null&&(Ja(t,e,n,r),Um(t,e,n))}};function xP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!th(r,n)||!th(a,i):!0}function QM(e,t,r){var n=!1,a=vo,i=t.contextType;return typeof i=="object"&&i!==null?i=wa(i):(a=Ln(t)?bl:hn.current,n=t.contextTypes,i=(n=n!=null)?uu(e,a):vo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wy.enqueueReplaceState(t,t.state,null)}function Sw(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},K_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wa(i):(i=Ln(t)?bl:hn.current,a.context=uu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_w(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wy.enqueueReplaceState(a,a.state,null),yv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function pu(e,t){try{var r="",n=t;do r+=uV(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function M0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function JM(e,t,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_v||(_v=!0,$w=n),Cw(e,t)},r}function ZM(e,t,r){r=es(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Cw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cw(e,t),typeof n!="function"&&(so===null?so=new Set([this]):so.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function wP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D8;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Q8.bind(null,e,t,r),t.then(e,e))}function jP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _P(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=es(-1,1),t.tag=2,io(r,t,1))),r.lanes|=1),e)}var L8=ms.ReactCurrentOwner,Mn=!1;function vn(e,t,r,n){t.child=e===null?EM(t,null,r,n):fu(t,e.child,r,n)}function SP(e,t,r,n,a){r=r.render;var i=t.ref;return Wc(t,a),n=J_(e,t,r,n,i,a),r=Z_(),e!==null&&!Mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,os(e,t,a)):(Xt&&r&&B_(t),t.flags|=1,vn(e,t,n,a),t.child)}function CP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!cS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,e$(e,t,i,n,a)):(e=Gm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:th,r(o,n)&&e.ref===t.ref)return os(e,t,a)}return t.flags|=1,e=lo(i,n),e.ref=t.ref,e.return=t,t.child=e}function e$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(th(i,n)&&e.ref===t.ref)if(Mn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Mn=!0);else return t.lanes=e.lanes,os(e,t,a)}return Nw(e,t,r,n,a)}function t$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Tc,Kn),Kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(Tc,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,It(Tc,Kn),Kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,It(Tc,Kn),Kn|=n;return vn(e,t,a,r),t.child}function r$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nw(e,t,r,n,a){var i=Ln(r)?bl:hn.current;return i=uu(t,i),Wc(t,a),r=J_(e,t,r,n,i,a),n=Z_(),e!==null&&!Mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,os(e,t,a)):(Xt&&n&&B_(t),t.flags|=1,vn(e,t,r,a),t.child)}function NP(e,t,r,n,a){if(Ln(r)){var i=!0;hv(t)}else i=!1;if(Wc(t,a),t.stateNode===null)Hm(e,t),QM(t,r,n),Sw(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wa(u):(u=Ln(r)?bl:hn.current,u=uu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&bP(t,o,n,u),Rs=!1;var h=t.memoizedState;o.state=h,yv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Dn.current||Rs?(typeof d=="function"&&(_w(t,r,d,n),c=t.memoizedState),(l=Rs||xP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,AM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wa(c):(c=Ln(r)?bl:hn.current,c=uu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&bP(t,o,n,c),Rs=!1,h=t.memoizedState,o.state=h,yv(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||Dn.current||Rs?(typeof p=="function"&&(_w(t,r,p,n),y=t.memoizedState),(u=Rs||xP(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pw(e,t,r,n,i,a)}function Pw(e,t,r,n,a,i){r$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&dP(t,r,!1),os(e,t,i);n=t.stateNode,L8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=fu(t,e.child,null,i),t.child=fu(t,null,l,i)):vn(e,t,l,i),t.memoizedState=n.state,a&&dP(t,r,!0),t.child}function n$(e){var t=e.stateNode;t.pendingContext?uP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uP(e,t.context,!1),G_(e,t.containerInfo)}function PP(e,t,r,n,a){return du(),U_(a),t.flags|=256,vn(e,t,r,n),t.child}var Ew={dehydrated:null,treeContext:null,retryLane:0};function kw(e){return{baseLanes:e,cachePool:null,transitions:null}}function a$(e,t,r){var n=t.pendingProps,a=Zt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),It(Zt,a&1),e===null)return ww(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sy(o,n,0,null),e=gl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kw(r),t.memoizedState=Ew,e):rS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return F8(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=lo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=lo(l,i):(i=gl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?kw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ew,n}return i=e.child,e=i.sibling,n=lo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rS(e,t){return t=Sy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function em(e,t,r,n){return n!==null&&U_(n),fu(t,e.child,null,r),e=rS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F8(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=M0(Error(ge(422))),em(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sy({mode:"visible",children:n.children},a,0,null),i=gl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&fu(t,e.child,null,o),t.child.memoizedState=kw(o),t.memoizedState=Ew,i);if(!(t.mode&1))return em(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ge(419)),n=M0(i,n,void 0),em(e,t,o,n)}if(l=(o&e.childLanes)!==0,Mn||l){if(n=Ur,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ss(e,a),Ja(n,e,a,-1))}return lS(),n=M0(Error(ge(421))),em(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=J8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Zn=ao(a.nextSibling),ea=t,Xt=!0,Ka=null,e!==null&&(pa[ma++]=Yi,pa[ma++]=Xi,pa[ma++]=wl,Yi=e.id,Xi=e.overflow,wl=t),t=rS(t,n.children),t.flags|=4096,t)}function EP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jw(e.return,t,r)}function $0(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function i$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vn(e,t,n.children,r),n=Zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&EP(e,r,t);else if(e.tag===19)EP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(It(Zt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$0(t,!0,r,null,i);break;case"together":$0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_l|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B8(e,t,r){switch(t.tag){case 3:n$(t),du();break;case 5:OM(t);break;case 1:Ln(t.type)&&hv(t);break;case 4:G_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;It(vv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(It(Zt,Zt.current&1),t.flags|=128,null):r&t.child.childLanes?a$(e,t,r):(It(Zt,Zt.current&1),e=os(e,t,r),e!==null?e.sibling:null);It(Zt,Zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),It(Zt,Zt.current),n)break;return null;case 22:case 23:return t.lanes=0,t$(e,t,r)}return os(e,t,r)}var s$,Aw,o$,l$;s$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aw=function(){};o$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,tl(ji.current);var i=null;switch(r){case"input":a=Jb(e,a),n=Jb(e,n),i=[];break;case"select":a=nr({},a,{value:void 0}),n=nr({},n,{value:void 0}),i=[];break;case"textarea":a=tw(e,a),n=tw(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=dv)}nw(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ut("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};l$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gd(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function z8(e,t,r){var n=t.pendingProps;switch(z_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(t),null;case 1:return Ln(t.type)&&fv(),rn(t),null;case 3:return n=t.stateNode,hu(),Yt(Dn),Yt(hn),X_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ka!==null&&(Lw(Ka),Ka=null))),Aw(e,t),rn(t),null;case 5:Y_(t);var a=tl(sh.current);if(r=t.type,e!==null&&t.stateNode!=null)o$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return rn(t),null}if(e=tl(ji.current),Jp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hi]=t,n[ah]=i,e=(t.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<xf.length;a++)Ut(xf[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":DN(n,i),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",n);break;case"textarea":FN(n,i),Ut("invalid",n)}nw(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qp(n.textContent,l,e),a=["children",""+l]):Gf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ut("scroll",n)}switch(r){case"input":Vp(n),LN(n,i,!0);break;case"textarea":Vp(n),BN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=dv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hi]=t,e[ah]=n,s$(e,t,!1,!1),t.stateNode=e;e:{switch(o=aw(r,n),r){case"dialog":Ut("cancel",e),Ut("close",e),a=n;break;case"iframe":case"object":case"embed":Ut("load",e),a=n;break;case"video":case"audio":for(a=0;a<xf.length;a++)Ut(xf[a],e);a=n;break;case"source":Ut("error",e),a=n;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=n;break;case"details":Ut("toggle",e),a=n;break;case"input":DN(e,n),a=Jb(e,n),Ut("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=nr({},n,{value:void 0}),Ut("invalid",e);break;case"textarea":FN(e,n),a=tw(e,n),Ut("invalid",e);break;default:a=n}nw(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?FR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yf(e,c):typeof c=="number"&&Yf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ut("scroll",e):c!=null&&N_(e,i,c,o))}switch(r){case"input":Vp(e),LN(e,n,!1);break;case"textarea":Vp(e),BN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Bc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Bc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=dv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rn(t),null;case 6:if(e&&t.stateNode!=null)l$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=tl(sh.current),tl(ji.current),Jp(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(i=n.nodeValue!==r)&&(e=ea,e!==null))switch(e.tag){case 3:Qp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=t,t.stateNode=n}return rn(t),null;case 13:if(Yt(Zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&Zn!==null&&t.mode&1&&!(t.flags&128))NM(),du(),t.flags|=98560,i=!1;else if(i=Jp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[hi]=t}else du(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rn(t),i=!1}else Ka!==null&&(Lw(Ka),Ka=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?$r===0&&($r=3):lS())),t.updateQueue!==null&&(t.flags|=4),rn(t),null);case 4:return hu(),Aw(e,t),e===null&&rh(t.stateNode.containerInfo),rn(t),null;case 10:return H_(t.type._context),rn(t),null;case 17:return Ln(t.type)&&fv(),rn(t),null;case 19:if(Yt(Zt),i=t.memoizedState,i===null)return rn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Gd(i,!1);else{if($r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xv(e),o!==null){for(t.flags|=128,Gd(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return It(Zt,Zt.current&1|2),t.child}e=e.sibling}i.tail!==null&&vr()>mu&&(t.flags|=128,n=!0,Gd(i,!1),t.lanes=4194304)}else{if(!n)if(e=xv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xt)return rn(t),null}else 2*vr()-i.renderingStartTime>mu&&r!==1073741824&&(t.flags|=128,n=!0,Gd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vr(),t.sibling=null,r=Zt.current,It(Zt,n?r&1|2:r&1),t):(rn(t),null);case 22:case 23:return oS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(rn(t),t.subtreeFlags&6&&(t.flags|=8192)):rn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function U8(e,t){switch(z_(t),t.tag){case 1:return Ln(t.type)&&fv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hu(),Yt(Dn),Yt(hn),X_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Y_(t),null;case 13:if(Yt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));du()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(Zt),null;case 4:return hu(),null;case 10:return H_(t.type._context),null;case 22:case 23:return oS(),null;case 24:return null;default:return null}}var tm=!1,ln=!1,V8=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Oc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){or(e,t,n)}else r.current=null}function Ow(e,t,r){try{r()}catch(n){or(e,t,n)}}var kP=!1;function W8(e,t){if(pw=lv,e=hM(),F_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mw={focusedElem:e,selectionRange:r},lv=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Da(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(_){or(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return y=kP,kP=!1,y}function Af(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ow(t,r,i)}a=a.next}while(a!==n)}}function jy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c$(e){var t=e.alternate;t!==null&&(e.alternate=null,c$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[ah],delete t[yw],delete t[N8],delete t[P8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u$(e){return e.tag===5||e.tag===3||e.tag===4}function AP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dv));else if(n!==4&&(e=e.child,e!==null))for(Rw(e,t,r),e=e.sibling;e!==null;)Rw(e,t,r),e=e.sibling}function Mw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mw(e,t,r),e=e.sibling;e!==null;)Mw(e,t,r),e=e.sibling}var Gr=null,Va=!1;function Cs(e,t,r){for(r=r.child;r!==null;)d$(e,t,r),r=r.sibling}function d$(e,t,r){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(py,r)}catch{}switch(r.tag){case 5:ln||Oc(r,t);case 6:var n=Gr,a=Va;Gr=null,Cs(e,t,r),Gr=n,Va=a,Gr!==null&&(Va?(e=Gr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gr.removeChild(r.stateNode));break;case 18:Gr!==null&&(Va?(e=Gr,r=r.stateNode,e.nodeType===8?E0(e.parentNode,r):e.nodeType===1&&E0(e,r),Zf(e)):E0(Gr,r.stateNode));break;case 4:n=Gr,a=Va,Gr=r.stateNode.containerInfo,Va=!0,Cs(e,t,r),Gr=n,Va=a;break;case 0:case 11:case 14:case 15:if(!ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ow(r,t,o),a=a.next}while(a!==n)}Cs(e,t,r);break;case 1:if(!ln&&(Oc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){or(r,t,l)}Cs(e,t,r);break;case 21:Cs(e,t,r);break;case 22:r.mode&1?(ln=(n=ln)||r.memoizedState!==null,Cs(e,t,r),ln=n):Cs(e,t,r);break;default:Cs(e,t,r)}}function OP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new V8),t.forEach(function(n){var a=Z8.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ta(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gr=l.stateNode,Va=!1;break e;case 3:Gr=l.stateNode.containerInfo,Va=!0;break e;case 4:Gr=l.stateNode.containerInfo,Va=!0;break e}l=l.return}if(Gr===null)throw Error(ge(160));d$(i,o,a),Gr=null,Va=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){or(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f$(t,e),t=t.sibling}function f$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ta(t,e),oi(e),n&4){try{Af(3,e,e.return),jy(3,e)}catch(m){or(e,e.return,m)}try{Af(5,e,e.return)}catch(m){or(e,e.return,m)}}break;case 1:Ta(t,e),oi(e),n&512&&r!==null&&Oc(r,r.return);break;case 5:if(Ta(t,e),oi(e),n&512&&r!==null&&Oc(r,r.return),e.flags&32){var a=e.stateNode;try{Yf(a,"")}catch(m){or(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&MR(a,i),aw(l,o);var u=aw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?FR(a,f):d==="dangerouslySetInnerHTML"?DR(a,f):d==="children"?Yf(a,f):N_(a,d,f,u)}switch(l){case"input":Zb(a,i);break;case"textarea":$R(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Bc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Bc(a,!!i.multiple,i.defaultValue,!0):Bc(a,!!i.multiple,i.multiple?[]:"",!1))}a[ah]=i}catch(m){or(e,e.return,m)}}break;case 6:if(Ta(t,e),oi(e),n&4){if(e.stateNode===null)throw Error(ge(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){or(e,e.return,m)}}break;case 3:if(Ta(t,e),oi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zf(t.containerInfo)}catch(m){or(e,e.return,m)}break;case 4:Ta(t,e),oi(e);break;case 13:Ta(t,e),oi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(iS=vr())),n&4&&OP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ln=(u=ln)||d,Ta(t,e),ln=u):Ta(t,e),oi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Af(4,h,h.return);break;case 1:Oc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){or(n,r,m)}}break;case 5:Oc(h,h.return);break;case 22:if(h.memoizedState!==null){RP(f);continue}}p!==null?(p.return=h,Ae=p):RP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=LR("display",o))}catch(m){or(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){or(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ta(t,e),oi(e),n&4&&OP(e);break;case 21:break;default:Ta(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u$(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yf(a,""),n.flags&=-33);var i=AP(e);Mw(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=AP(e);Rw(e,l,o);break;default:throw Error(ge(161))}}catch(c){or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H8(e,t,r){Ae=e,h$(e)}function h$(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||tm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ln;l=tm;var u=ln;if(tm=o,(ln=c)&&!u)for(Ae=a;Ae!==null;)o=Ae,c=o.child,o.tag===22&&o.memoizedState!==null?MP(a):c!==null?(c.return=o,Ae=c):MP(a);for(;i!==null;)Ae=i,h$(i),i=i.sibling;Ae=a,tm=l,ln=u}TP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):TP(e)}}function TP(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||jy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ln)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Da(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}ln||t.flags&512&&Tw(t)}catch(h){or(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function RP(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function MP(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jy(4,t)}catch(c){or(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){or(t,a,c)}}var i=t.return;try{Tw(t)}catch(c){or(t,i,c)}break;case 5:var o=t.return;try{Tw(t)}catch(c){or(t,o,c)}}}catch(c){or(t,t.return,c)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var q8=Math.ceil,jv=ms.ReactCurrentDispatcher,nS=ms.ReactCurrentOwner,xa=ms.ReactCurrentBatchConfig,pt=0,Ur=null,Sr=null,Qr=0,Kn=0,Tc=So(0),$r=0,uh=null,_l=0,_y=0,aS=0,Of=null,Rn=null,iS=0,mu=1/0,Vi=null,_v=!1,$w=null,so=null,rm=!1,Ks=null,Sv=0,Tf=0,Iw=null,qm=-1,Km=0;function jn(){return pt&6?vr():qm!==-1?qm:qm=vr()}function oo(e){return e.mode&1?pt&2&&Qr!==0?Qr&-Qr:k8.transition!==null?(Km===0&&(Km=QR()),Km):(e=Et,e!==0||(e=window.event,e=e===void 0?16:aM(e.type)),e):1}function Ja(e,t,r,n){if(50<Tf)throw Tf=0,Iw=null,Error(ge(185));mp(e,r,n),(!(pt&2)||e!==Ur)&&(e===Ur&&(!(pt&2)&&(_y|=r),$r===4&&Ls(e,Qr)),Fn(e,n),r===1&&pt===0&&!(t.mode&1)&&(mu=vr()+500,xy&&Co()))}function Fn(e,t){var r=e.callbackNode;kV(e,t);var n=ov(e,e===Ur?Qr:0);if(n===0)r!==null&&VN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&VN(r),t===1)e.tag===0?E8($P.bind(null,e)):_M($P.bind(null,e)),S8(function(){!(pt&6)&&Co()}),r=null;else{switch(JR(n)){case 1:r=O_;break;case 4:r=YR;break;case 16:r=sv;break;case 536870912:r=XR;break;default:r=sv}r=w$(r,p$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p$(e,t){if(qm=-1,Km=0,pt&6)throw Error(ge(327));var r=e.callbackNode;if(Hc()&&e.callbackNode!==r)return null;var n=ov(e,e===Ur?Qr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cv(e,n);else{t=n;var a=pt;pt|=2;var i=v$();(Ur!==e||Qr!==t)&&(Vi=null,mu=vr()+500,vl(e,t));do try{Y8();break}catch(l){m$(e,l)}while(!0);W_(),jv.current=i,pt=a,Sr!==null?t=0:(Ur=null,Qr=0,t=$r)}if(t!==0){if(t===2&&(a=cw(e),a!==0&&(n=a,t=Dw(e,a))),t===1)throw r=uh,vl(e,0),Ls(e,n),Fn(e,vr()),r;if(t===6)Ls(e,n);else{if(a=e.current.alternate,!(n&30)&&!K8(a)&&(t=Cv(e,n),t===2&&(i=cw(e),i!==0&&(n=i,t=Dw(e,i))),t===1))throw r=uh,vl(e,0),Ls(e,n),Fn(e,vr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Wo(e,Rn,Vi);break;case 3:if(Ls(e,n),(n&130023424)===n&&(t=iS+500-vr(),10<t)){if(ov(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){jn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=gw(Wo.bind(null,e,Rn,Vi),t);break}Wo(e,Rn,Vi);break;case 4:if(Ls(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Qa(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q8(n/1960))-n,10<n){e.timeoutHandle=gw(Wo.bind(null,e,Rn,Vi),n);break}Wo(e,Rn,Vi);break;case 5:Wo(e,Rn,Vi);break;default:throw Error(ge(329))}}}return Fn(e,vr()),e.callbackNode===r?p$.bind(null,e):null}function Dw(e,t){var r=Of;return e.current.memoizedState.isDehydrated&&(vl(e,t).flags|=256),e=Cv(e,t),e!==2&&(t=Rn,Rn=r,t!==null&&Lw(t)),e}function Lw(e){Rn===null?Rn=e:Rn.push.apply(Rn,e)}function K8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ti(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~aS,t&=~_y,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qa(t),n=1<<r;e[r]=-1,t&=~n}}function $P(e){if(pt&6)throw Error(ge(327));Hc();var t=ov(e,0);if(!(t&1))return Fn(e,vr()),null;var r=Cv(e,t);if(e.tag!==0&&r===2){var n=cw(e);n!==0&&(t=n,r=Dw(e,n))}if(r===1)throw r=uh,vl(e,0),Ls(e,t),Fn(e,vr()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,Rn,Vi),Fn(e,vr()),null}function sS(e,t){var r=pt;pt|=1;try{return e(t)}finally{pt=r,pt===0&&(mu=vr()+500,xy&&Co())}}function Sl(e){Ks!==null&&Ks.tag===0&&!(pt&6)&&Hc();var t=pt;pt|=1;var r=xa.transition,n=Et;try{if(xa.transition=null,Et=1,e)return e()}finally{Et=n,xa.transition=r,pt=t,!(pt&6)&&Co()}}function oS(){Kn=Tc.current,Yt(Tc)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_8(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(z_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fv();break;case 3:hu(),Yt(Dn),Yt(hn),X_();break;case 5:Y_(n);break;case 4:hu();break;case 13:Yt(Zt);break;case 19:Yt(Zt);break;case 10:H_(n.type._context);break;case 22:case 23:oS()}r=r.return}if(Ur=e,Sr=e=lo(e.current,null),Qr=Kn=t,$r=0,uh=null,aS=_y=_l=0,Rn=Of=null,el!==null){for(t=0;t<el.length;t++)if(r=el[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}el=null}return e}function m$(e,t){do{var r=Sr;try{if(W_(),Vm.current=wv,bv){for(var n=tr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bv=!1}if(jl=0,Br=Rr=tr=null,kf=!1,oh=0,nS.current=null,r===null||r.return===null){$r=1,uh=t,Sr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Qr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=jP(o);if(p!==null){p.flags&=-257,_P(p,o,l,i,t),p.mode&1&&wP(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){wP(i,u,t),lS();break e}c=Error(ge(426))}}else if(Xt&&l.mode&1){var v=jP(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_P(v,o,l,i,t),U_(pu(c,l));break e}}i=c=pu(c,l),$r!==4&&($r=2),Of===null?Of=[i]:Of.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=JM(i,c,t);mP(i,g);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(so===null||!so.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=ZM(i,l,t);mP(i,_);break e}}i=i.return}while(i!==null)}y$(r)}catch(w){t=w,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function v$(){var e=jv.current;return jv.current=wv,e===null?wv:e}function lS(){($r===0||$r===3||$r===2)&&($r=4),Ur===null||!(_l&268435455)&&!(_y&268435455)||Ls(Ur,Qr)}function Cv(e,t){var r=pt;pt|=2;var n=v$();(Ur!==e||Qr!==t)&&(Vi=null,vl(e,t));do try{G8();break}catch(a){m$(e,a)}while(!0);if(W_(),pt=r,jv.current=n,Sr!==null)throw Error(ge(261));return Ur=null,Qr=0,$r}function G8(){for(;Sr!==null;)g$(Sr)}function Y8(){for(;Sr!==null&&!bV();)g$(Sr)}function g$(e){var t=b$(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?y$(e):Sr=t,nS.current=null}function y$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=U8(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$r=6,Sr=null;return}}else if(r=z8(r,t,Kn),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);$r===0&&($r=5)}function Wo(e,t,r){var n=Et,a=xa.transition;try{xa.transition=null,Et=1,X8(e,t,r,n)}finally{xa.transition=a,Et=n}return null}function X8(e,t,r,n){do Hc();while(Ks!==null);if(pt&6)throw Error(ge(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(AV(e,i),e===Ur&&(Sr=Ur=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rm||(rm=!0,w$(sv,function(){return Hc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xa.transition,xa.transition=null;var o=Et;Et=1;var l=pt;pt|=4,nS.current=null,W8(e,r),f$(r,e),v8(mw),lv=!!pw,mw=pw=null,e.current=r,H8(r),wV(),pt=l,Et=o,xa.transition=i}else e.current=r;if(rm&&(rm=!1,Ks=e,Sv=a),i=e.pendingLanes,i===0&&(so=null),SV(r.stateNode),Fn(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_v)throw _v=!1,e=$w,$w=null,e;return Sv&1&&e.tag!==0&&Hc(),i=e.pendingLanes,i&1?e===Iw?Tf++:(Tf=0,Iw=e):Tf=0,Co(),null}function Hc(){if(Ks!==null){var e=JR(Sv),t=xa.transition,r=Et;try{if(xa.transition=null,Et=16>e?16:e,Ks===null)var n=!1;else{if(e=Ks,Ks=null,Sv=0,pt&6)throw Error(ge(331));var a=pt;for(pt|=4,Ae=e.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:Af(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,p=d.return;if(c$(d),d===u){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Af(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ae=g;break e}Ae=i.return}}var x=e.current;for(Ae=x;Ae!==null;){o=Ae;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ae=b;else e:for(o=x;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jy(9,l)}}catch(w){or(l,l.return,w)}if(l===o){Ae=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ae=_;break e}Ae=l.return}}if(pt=a,Co(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(py,e)}catch{}n=!0}return n}finally{Et=r,xa.transition=t}}return!1}function IP(e,t,r){t=pu(r,t),t=JM(e,t,1),e=io(e,t,1),t=jn(),e!==null&&(mp(e,1,t),Fn(e,t))}function or(e,t,r){if(e.tag===3)IP(e,e,r);else for(;t!==null;){if(t.tag===3){IP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(so===null||!so.has(n))){e=pu(r,e),e=ZM(t,e,1),t=io(t,e,1),e=jn(),t!==null&&(mp(t,1,e),Fn(t,e));break}}t=t.return}}function Q8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&r,Ur===e&&(Qr&r)===r&&($r===4||$r===3&&(Qr&130023424)===Qr&&500>vr()-iS?vl(e,0):aS|=r),Fn(e,t)}function x$(e,t){t===0&&(e.mode&1?(t=qp,qp<<=1,!(qp&130023424)&&(qp=4194304)):t=1);var r=jn();e=ss(e,t),e!==null&&(mp(e,t,r),Fn(e,r))}function J8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x$(e,r)}function Z8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),x$(e,r)}var b$;b$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)Mn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mn=!1,B8(e,t,r);Mn=!!(e.flags&131072)}else Mn=!1,Xt&&t.flags&1048576&&SM(t,mv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hm(e,t),e=t.pendingProps;var a=uu(t,hn.current);Wc(t,r),a=J_(null,t,n,e,a,r);var i=Z_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(i=!0,hv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,K_(t),a.updater=wy,t.stateNode=a,a._reactInternals=t,Sw(t,n,e,r),t=Pw(null,t,n,!0,i,r)):(t.tag=0,Xt&&i&&B_(t),vn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=t6(n),e=Da(n,e),a){case 0:t=Nw(null,t,n,e,r);break e;case 1:t=NP(null,t,n,e,r);break e;case 11:t=SP(null,t,n,e,r);break e;case 14:t=CP(null,t,n,Da(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),Nw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),NP(e,t,n,a,r);case 3:e:{if(n$(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,a=i.element,AM(e,t),yv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=pu(Error(ge(423)),t),t=PP(e,t,n,r,a);break e}else if(n!==a){a=pu(Error(ge(424)),t),t=PP(e,t,n,r,a);break e}else for(Zn=ao(t.stateNode.containerInfo.firstChild),ea=t,Xt=!0,Ka=null,r=EM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===a){t=os(e,t,r);break e}vn(e,t,n,r)}t=t.child}return t;case 5:return OM(t),e===null&&ww(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,vw(n,a)?o=null:i!==null&&vw(n,i)&&(t.flags|=32),r$(e,t),vn(e,t,o,r),t.child;case 6:return e===null&&ww(t),null;case 13:return a$(e,t,r);case 4:return G_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fu(t,null,n,r):vn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),SP(e,t,n,a,r);case 7:return vn(e,t,t.pendingProps,r),t.child;case 8:return vn(e,t,t.pendingProps.children,r),t.child;case 12:return vn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,It(vv,n._currentValue),n._currentValue=o,i!==null)if(ti(i.value,o)){if(i.children===a.children&&!Dn.current){t=os(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=es(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),jw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),jw(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Wc(t,r),a=wa(a),n=n(a),t.flags|=1,vn(e,t,n,r),t.child;case 14:return n=t.type,a=Da(n,t.pendingProps),a=Da(n.type,a),CP(e,t,n,a,r);case 15:return e$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),Hm(e,t),t.tag=1,Ln(n)?(e=!0,hv(t)):e=!1,Wc(t,r),QM(t,n,a),Sw(t,n,a,r),Pw(null,t,n,!0,e,r);case 19:return i$(e,t,r);case 22:return t$(e,t,r)}throw Error(ge(156,t.tag))};function w$(e,t){return GR(e,t)}function e6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(e,t,r,n){return new e6(e,t,r,n)}function cS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t6(e){if(typeof e=="function")return cS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E_)return 11;if(e===k_)return 14}return 2}function lo(e,t){var r=e.alternate;return r===null?(r=ga(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gm(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")cS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jc:return gl(r.children,a,i,t);case P_:o=8,a|=8;break;case Gb:return e=ga(12,r,t,a|2),e.elementType=Gb,e.lanes=i,e;case Yb:return e=ga(13,r,t,a),e.elementType=Yb,e.lanes=i,e;case Xb:return e=ga(19,r,t,a),e.elementType=Xb,e.lanes=i,e;case OR:return Sy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kR:o=10;break e;case AR:o=9;break e;case E_:o=11;break e;case k_:o=14;break e;case Ts:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=ga(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function gl(e,t,r,n){return e=ga(7,e,n,t),e.lanes=r,e}function Sy(e,t,r,n){return e=ga(22,e,n,t),e.elementType=OR,e.lanes=r,e.stateNode={isHidden:!1},e}function I0(e,t,r){return e=ga(6,e,null,t),e.lanes=r,e}function D0(e,t,r){return t=ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r6(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g0(0),this.expirationTimes=g0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uS(e,t,r,n,a,i,o,l,c){return e=new r6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ga(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},K_(i),e}function n6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function j$(e){if(!e)return vo;e=e._reactInternals;e:{if(zl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Ln(r))return jM(e,r,t)}return t}function _$(e,t,r,n,a,i,o,l,c){return e=uS(r,n,!0,e,a,i,o,l,c),e.context=j$(null),r=e.current,n=jn(),a=oo(r),i=es(n,a),i.callback=t??null,io(r,i,a),e.current.lanes=a,mp(e,a,n),Fn(e,n),e}function Cy(e,t,r,n){var a=t.current,i=jn(),o=oo(a);return r=j$(r),t.context===null?t.context=r:t.pendingContext=r,t=es(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=io(a,t,o),e!==null&&(Ja(e,a,o,i),Um(e,a,o)),o}function Nv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dS(e,t){DP(e,t),(e=e.alternate)&&DP(e,t)}function a6(){return null}var S$=typeof reportError=="function"?reportError:function(e){console.error(e)};function fS(e){this._internalRoot=e}Ny.prototype.render=fS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Cy(e,t,null,null)};Ny.prototype.unmount=fS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sl(function(){Cy(null,e,null,null)}),t[is]=null}};function Ny(e){this._internalRoot=e}Ny.prototype.unstable_scheduleHydration=function(e){if(e){var t=tM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ds.length&&t!==0&&t<Ds[r].priority;r++);Ds.splice(r,0,e),r===0&&nM(e)}};function hS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LP(){}function i6(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Nv(o);i.call(u)}}var o=_$(t,n,e,0,null,!1,!1,"",LP);return e._reactRootContainer=o,e[is]=o.current,rh(e.nodeType===8?e.parentNode:e),Sl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Nv(c);l.call(u)}}var c=uS(e,0,!1,null,null,!1,!1,"",LP);return e._reactRootContainer=c,e[is]=c.current,rh(e.nodeType===8?e.parentNode:e),Sl(function(){Cy(t,c,r,n)}),c}function Ey(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Nv(o);l.call(c)}}Cy(t,o,e,a)}else o=i6(r,t,e,a,n);return Nv(o)}ZR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yf(t.pendingLanes);r!==0&&(T_(t,r|1),Fn(t,vr()),!(pt&6)&&(mu=vr()+500,Co()))}break;case 13:Sl(function(){var n=ss(e,1);if(n!==null){var a=jn();Ja(n,e,1,a)}}),dS(e,1)}};R_=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var r=jn();Ja(t,e,134217728,r)}dS(e,134217728)}};eM=function(e){if(e.tag===13){var t=oo(e),r=ss(e,t);if(r!==null){var n=jn();Ja(r,e,t,n)}dS(e,t)}};tM=function(){return Et};rM=function(e,t){var r=Et;try{return Et=e,t()}finally{Et=r}};sw=function(e,t,r){switch(t){case"input":if(Zb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=yy(n);if(!a)throw Error(ge(90));RR(n),Zb(n,a)}}}break;case"textarea":$R(e,r);break;case"select":t=r.value,t!=null&&Bc(e,!!r.multiple,t,!1)}};UR=sS;VR=Sl;var s6={usingClientEntryPoint:!1,Events:[gp,Nc,yy,BR,zR,sS]},Yd={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o6={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qR(e),e===null?null:e.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||a6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{py=nm.inject(o6),wi=nm}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s6;sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hS(t))throw Error(ge(200));return n6(e,t,null,r)};sa.createRoot=function(e,t){if(!hS(e))throw Error(ge(299));var r=!1,n="",a=S$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=uS(e,1,!1,null,null,r,!1,n,a),e[is]=t.current,rh(e.nodeType===8?e.parentNode:e),new fS(t)};sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=qR(t),e=e===null?null:e.stateNode,e};sa.flushSync=function(e){return Sl(e)};sa.hydrate=function(e,t,r){if(!Py(t))throw Error(ge(200));return Ey(null,e,t,!0,r)};sa.hydrateRoot=function(e,t,r){if(!hS(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=S$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_$(t,null,e,1,r??null,a,!1,i,o),e[is]=t.current,rh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ny(t)};sa.render=function(e,t,r){if(!Py(t))throw Error(ge(200));return Ey(null,e,t,!1,r)};sa.unmountComponentAtNode=function(e){if(!Py(e))throw Error(ge(40));return e._reactRootContainer?(Sl(function(){Ey(null,null,e,!1,function(){e._reactRootContainer=null,e[is]=null})}),!0):!1};sa.unstable_batchedUpdates=sS;sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Py(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Ey(e,t,r,!1,n)};sa.version="18.3.1-next-f1338f8080-20240426";function C$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C$)}catch(e){console.error(e)}}C$(),CR.exports=sa;var Ul=CR.exports;const N$=_t(Ul);var P$,FP=Ul;P$=FP.createRoot,FP.hydrateRoot;const l6=1,c6=1e6;let L0=0;function u6(){return L0=(L0+1)%Number.MAX_SAFE_INTEGER,L0.toString()}const F0=new Map,BP=e=>{if(F0.has(e))return;const t=setTimeout(()=>{F0.delete(e),Rf({type:"REMOVE_TOAST",toastId:e})},c6);F0.set(e,t)},d6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,l6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?BP(r):e.toasts.forEach(n=>{BP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ym=[];let Xm={toasts:[]};function Rf(e){Xm=d6(Xm,e),Ym.forEach(t=>{t(Xm)})}function Yr({...e}){const t=u6(),r=a=>Rf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Rf({type:"DISMISS_TOAST",toastId:t});return Rf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function E$(){const[e,t]=j.useState(Xm);return j.useEffect(()=>(Ym.push(t),()=>{const r=Ym.indexOf(t);r>-1&&Ym.splice(r,1)}),[e]),{...e,toast:Yr,dismiss:r=>Rf({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function k$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=zP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():zP(e[a],null)}}}}function Qe(...e){return j.useCallback(k$(...e),e)}function f6(e,t){const r=j.createContext(t),n=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Nn(e,t=[]){let r=[];function n(i,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=j.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=j.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,h6(a,...t)]}function h6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Cl(e){const t=p6(e),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,l=j.Children.toArray(i),c=l.find(m6);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var A$=Cl("Slot");function p6(e){const t=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=g6(a),l=v6(i,a.props);return a.type!==j.Fragment&&(l.ref=n?k$(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O$=Symbol("radix.slottable");function T$(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=O$,t}function m6(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O$}function v6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function g6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ky(e){const t=e+"CollectionProvider",[r,n]=Nn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:g}=m,x=T.useRef(null),b=T.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:b,collectionRef:x,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Cl(l),u=T.forwardRef((m,v)=>{const{scope:g,children:x}=m,b=i(l,g),_=Qe(v,b.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cl(d),p=T.forwardRef((m,v)=>{const{scope:g,children:x,...b}=m,_=T.useRef(null),w=Qe(v,_),S=i(d,g);return T.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:w,children:x})});p.displayName=d;function y(m){const v=i(e+"CollectionConsumer",m);return T.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var y6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=y6.reduce((e,t)=>{const r=Cl(`Primitive.${t}`),n=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function R$(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}function Mr(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function x6(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var b6="DismissableLayer",Fw="dismissableLayer.update",w6="dismissableLayer.pointerDownOutside",j6="dismissableLayer.focusOutside",UP,M$=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(M$),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),y=Qe(t,C=>f(C)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=g,w=S6(C=>{const N=C.target,P=[...u.branches].some(k=>k.contains(N));!_||P||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),S=C6(C=>{const N=C.target;[...u.branches].some(k=>k.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return x6(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(UP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=UP)}},[d,h,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VP())},[d,u]),j.useEffect(()=>{const C=()=>p({});return document.addEventListener(Fw,C),()=>document.removeEventListener(Fw,C)},[]),s.jsx($e.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,w.onPointerDownCapture)})});cd.displayName=b6;var _6="DismissableLayerBranch",$$=j.forwardRef((e,t)=>{const r=j.useContext(M$),n=j.useRef(null),a=Qe(t,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx($e.div,{...e,ref:a})});$$.displayName=_6;function S6(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){I$(w6,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function C6(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&I$(j6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VP(){const e=new CustomEvent(Fw);document.dispatchEvent(e)}function I$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?R$(a,i):a.dispatchEvent(i)}var N6=cd,P6=$$,Vr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},E6="Portal",xp=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=j.useState(!1);Vr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?N$.createPortal(s.jsx($e.div,{...n,ref:t}),o):null});xp.displayName=E6;function k6(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var zn=e=>{const{present:t,children:r}=e,n=A6(t),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=Qe(n.ref,O6(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};zn.displayName="Presence";function A6(e){const[t,r]=j.useState(),n=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=k6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=am(n.current);i.current=l==="mounted"?u:"none"},[l]),Vr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=am(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Vr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=am(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=am(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function am(e){return(e==null?void 0:e.animationName)||"none"}function O6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var T6=__[" useInsertionEffect ".trim().toString()]||Vr;function Bn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=R6({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=j.useRef(e!==void 0);j.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=j.useCallback(d=>{var f;if(l){const h=M6(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function R6({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),a=j.useRef(r),i=j.useRef(t);return T6(()=>{i.current=t},[t]),j.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function M6(e){return typeof e=="function"}var D$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$6="VisuallyHidden",Ay=j.forwardRef((e,t)=>s.jsx($e.span,{...e,ref:t,style:{...D$,...e.style}}));Ay.displayName=$6;var I6=Ay,pS="ToastProvider",[mS,D6,L6]=ky("Toast"),[L$,kOe]=Nn("Toast",[L6]),[F6,Oy]=L$(pS),F$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=j.useState(null),[u,d]=j.useState(0),f=j.useRef(!1),h=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${pS}\`. Expected non-empty \`string\`.`),s.jsx(mS.Provider,{scope:t,children:s.jsx(F6,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};F$.displayName=pS;var B$="ToastViewport",B6=["F8"],Bw="toast.viewportPause",zw="toast.viewportResume",z$=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=B6,label:a="Notifications ({hotkey})",...i}=e,o=Oy(B$,r),l=D6(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),h=Qe(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;j.useEffect(()=>{const v=g=>{var b;n.length!==0&&n.every(_=>g[_]||g.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=c.current,g=f.current;if(y&&v&&g){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Bw);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(zw);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!v.contains(S.relatedTarget)&&b()},w=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:v})=>{const x=l().map(b=>{const _=b.ref.current,w=[_,...Z6(_)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return j.useEffect(()=>{const v=f.current;if(v){const g=x=>{var w,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,P=x.shiftKey;if(x.target===v&&P){(w=u.current)==null||w.focus();return}const R=m({tabbingDirection:P?"backwards":"forwards"}),O=R.findIndex(E=>E===N);B0(R.slice(O+1))?x.preventDefault():P?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[l,m]),s.jsxs(P6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(Uw,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});B0(v)}}),s.jsx(mS.Slot,{scope:r,children:s.jsx($e.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(Uw,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});B0(v)}})]})});z$.displayName=B$;var U$="ToastFocusProxy",Uw=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Oy(U$,r);return s.jsx(Ay,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Uw.displayName=U$;var bp="Toast",z6="toast.swipeStart",U6="toast.swipeMove",V6="toast.swipeCancel",W6="toast.swipeEnd",V$=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Bn({prop:n,defaultProp:a??!0,onChange:i,caller:bp});return s.jsx(zn,{present:r||l,children:s.jsx(K6,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Mr(e.onPause),onResume:Mr(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});V$.displayName=bp;var[H6,q6]=L$(bp,{onClose(){}}),K6=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=Oy(bp,r),[v,g]=j.useState(null),x=Qe(t,E=>g(E)),b=j.useRef(null),_=j.useRef(null),w=a||m.duration,S=j.useRef(0),C=j.useRef(w),N=j.useRef(0),{onToastAdd:P,onToastRemove:k}=m,A=Mr(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),o()}),R=j.useCallback(E=>{!E||E===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(A,E))},[A]);j.useEffect(()=>{const E=m.viewport;if(E){const $=()=>{R(C.current),u==null||u()},I=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(N.current),c==null||c()};return E.addEventListener(Bw,I),E.addEventListener(zw,$),()=>{E.removeEventListener(Bw,I),E.removeEventListener(zw,$)}}},[m.viewport,w,c,u,R]),j.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(w)},[i,w,m.isClosePausedRef,R]),j.useEffect(()=>(P(),()=>k()),[P,k]);const O=j.useMemo(()=>v?X$(v):null,[v]);return m.viewport?s.jsxs(s.Fragment,{children:[O&&s.jsx(G6,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),s.jsx(H6,{scope:r,onClose:A,children:Ul.createPortal(s.jsx(mS.ItemSlot,{scope:r,children:s.jsx(N6,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Ne(e.onPointerDown,E=>{E.button===0&&(b.current={x:E.clientX,y:E.clientY})}),onPointerMove:Ne(e.onPointerMove,E=>{if(!b.current)return;const $=E.clientX-b.current.x,I=E.clientY-b.current.y,M=!!_.current,D=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=D?L(0,$):0,Q=D?0:L(0,I),X=E.pointerType==="touch"?10:2,re={x:B,y:Q},z={originalEvent:E,delta:re};M?(_.current=re,im(U6,f,z,{discrete:!1})):WP(re,m.swipeDirection,X)?(_.current=re,im(z6,d,z,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs($)>X||Math.abs(I)>X)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,E=>{const $=_.current,I=E.target;if(I.hasPointerCapture(E.pointerId)&&I.releasePointerCapture(E.pointerId),_.current=null,b.current=null,$){const M=E.currentTarget,D={originalEvent:E,delta:$};WP($,m.swipeDirection,m.swipeThreshold)?im(W6,p,D,{discrete:!0}):im(V6,h,D,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),G6=e=>{const{__scopeToast:t,children:r,...n}=e,a=Oy(bp,t),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return Q6(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(xp,{asChild:!0,children:s.jsx(Ay,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Y6="ToastTitle",W$=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($e.div,{...n,ref:t})});W$.displayName=Y6;var X6="ToastDescription",H$=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($e.div,{...n,ref:t})});H$.displayName=X6;var q$="ToastAction",K$=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Y$,{altText:r,asChild:!0,children:s.jsx(vS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${q$}\`. Expected non-empty \`string\`.`),null)});K$.displayName=q$;var G$="ToastClose",vS=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=q6(G$,r);return s.jsx(Y$,{asChild:!0,children:s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});vS.displayName=G$;var Y$=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function X$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),J6(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...X$(n))}}),t}function im(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?R$(a,i):a.dispatchEvent(i)}var WP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Q6(e=()=>{}){const t=Mr(e);Vr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function J6(e){return e.nodeType===e.ELEMENT_NODE}function Z6(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function B0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var eW=F$,Q$=z$,J$=V$,Z$=W$,eI=H$,tI=K$,rI=vS;function nI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nI(e))&&(n&&(n+=" "),n+=t);return n}const HP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qP=Xe,ud=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=HP(d)||HP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return qP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...rW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aI("lucide",a),...l},[...o.map(([u,d])=>j.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(nW,{ref:i,iconNode:t,className:aI(`lucide-${tW(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Te("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Te("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Te("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Te("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Te("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Te("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Te("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Te("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Te("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Te("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Te("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Te("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Te("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_S="-",CW=e=>{const t=PW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(_S);return l[0]===""&&l.length!==1&&l.shift(),mI(l,t)||NW(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},mI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?mI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(_S);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},QP=/^\[(.+)\]$/,NW=e=>{if(QP.test(e)){const t=QP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},PW=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return kW(Object.entries(e.classGroups),r).forEach(([i,o])=>{Kw(o,n,i,t)}),n},Kw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:JP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(EW(a)){Kw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Kw(o,JP(t,i),r,n)})})},JP=(e,t)=>{let r=e;return t.split(_S).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},EW=e=>e.isThemeGetter,kW=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,AW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},vI="!",OW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(vI),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},TW=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},RW=e=>({cache:AW(e.cacheSize),parseClassName:OW(e),...CW(e)}),MW=/\s+/,$W=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(MW);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=TW(d).join(":"),g=f?v+vI:v,x=g+m;if(i.includes(x))continue;i.push(x);const b=a(m,y);for(let _=0;_<b.length;++_){const w=b[_];i.push(g+w)}l=u+(l.length>0?" "+l:l)}return l};function IW(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gI(t))&&(n&&(n+=" "),n+=r);return n}const gI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gI(e[n]))&&(r&&(r+=" "),r+=t);return r};function DW(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=RW(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=$W(c,r);return a(c,d),d}return function(){return i(IW.apply(null,arguments))}}const zt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,LW=/^\d+\/\d+$/,FW=new Set(["px","full","screen"]),BW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fi=e=>qc(e)||FW.has(e)||LW.test(e),Ns=e=>fd(e,"length",JW),qc=e=>!!e&&!Number.isNaN(Number(e)),z0=e=>fd(e,"number",qc),Xd=e=>!!e&&Number.isInteger(Number(e)),HW=e=>e.endsWith("%")&&qc(e.slice(0,-1)),it=e=>yI.test(e),Ps=e=>BW.test(e),qW=new Set(["length","size","percentage"]),KW=e=>fd(e,qW,xI),GW=e=>fd(e,"position",xI),YW=new Set(["image","url"]),XW=e=>fd(e,YW,eH),QW=e=>fd(e,"",ZW),Qd=()=>!0,fd=(e,t,r)=>{const n=yI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},JW=e=>zW.test(e)&&!UW.test(e),xI=()=>!1,ZW=e=>VW.test(e),eH=e=>WW.test(e),tH=()=>{const e=zt("colors"),t=zt("spacing"),r=zt("blur"),n=zt("brightness"),a=zt("borderColor"),i=zt("borderRadius"),o=zt("borderSpacing"),l=zt("borderWidth"),c=zt("contrast"),u=zt("grayscale"),d=zt("hueRotate"),f=zt("invert"),h=zt("gap"),p=zt("gradientColorStops"),y=zt("gradientColorStopPositions"),m=zt("inset"),v=zt("margin"),g=zt("opacity"),x=zt("padding"),b=zt("saturate"),_=zt("scale"),w=zt("sepia"),S=zt("skew"),C=zt("space"),N=zt("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",it,t],R=()=>[it,t],O=()=>["",Fi,Ns],E=()=>["auto",qc,it],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",it],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[qc,it];return{cacheSize:500,separator:":",theme:{colors:[Qd],spacing:[Fi,Ns],blur:["none","",Ps,it],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Ps,it],borderSpacing:R(),borderWidth:O(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[HW,Ns],inset:A(),margin:A(),opacity:Q(),padding:R(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),it]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xd,it]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Xd,it]}],"grid-cols":[{"grid-cols":[Qd]}],"col-start-end":[{col:["auto",{span:["full",Xd,it]},it]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Qd]}],"row-start-end":[{row:["auto",{span:[Xd,it]},it]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,t]}],"min-w":[{"min-w":[it,t,"min","max","fit"]}],"max-w":[{"max-w":[it,t,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[it,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",z0]}],"font-family":[{font:[Qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",qc,z0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fi,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fi,Ns]}],"underline-offset":[{"underline-offset":["auto",Fi,it]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),GW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Fi,it]}],"outline-w":[{outline:[Fi,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Fi,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ps,QW]}],"shadow-color":[{shadow:[Qd]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ps,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Xd,it]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Fi,Ns,z0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rH=DW(tH);function ne(...e){return rH(Xe(e))}const nH=eW,bI=j.forwardRef(({className:e,...t},r)=>s.jsx(Q$,{ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bI.displayName=Q$.displayName;const aH=ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wI=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(J$,{ref:n,className:ne(aH({variant:t}),e),...r}));wI.displayName=J$.displayName;const iH=j.forwardRef(({className:e,...t},r)=>s.jsx(tI,{ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));iH.displayName=tI.displayName;const jI=j.forwardRef(({className:e,...t},r)=>s.jsx(rI,{ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ki,{className:"h-4 w-4"})}));jI.displayName=rI.displayName;const _I=j.forwardRef(({className:e,...t},r)=>s.jsx(Z$,{ref:r,className:ne("text-sm font-semibold",e),...t}));_I.displayName=Z$.displayName;const SI=j.forwardRef(({className:e,...t},r)=>s.jsx(eI,{ref:r,className:ne("text-sm opacity-90",e),...t}));SI.displayName=eI.displayName;function sH(){const{toasts:e}=E$();return s.jsxs(nH,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(wI,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(_I,{children:r}),n&&s.jsx(SI,{children:n})]}),a,s.jsx(jI,{})]},t)}),s.jsx(bI,{})]})}var ZP=["light","dark"],oH="(prefers-color-scheme: dark)",lH=j.createContext(void 0),cH={setTheme:e=>{},themes:[]},uH=()=>{var e;return(e=j.useContext(lH))!=null?e:cH};j.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?ZP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,v=!0)=>{let g=o?o[y]:y,x=m?y+"|| ''":`'${g}'`,b="";return a&&v&&!m&&ZP.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||g?b+=`c.add(${x})`:b+="null":g&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var dH=e=>{switch(e){case"success":return pH;case"info":return vH;case"warning":return mH;case"error":return gH;default:return null}},fH=Array(12).fill(0),hH=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},fH.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pH=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mH=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vH=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gH=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yH=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xH=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Gw=1,bH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Gw++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],T.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(jH(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Gw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new bH,wH=(e,t)=>{let r=(t==null?void 0:t.id)||Gw++;return Tn.addToast({title:e,...t,id:r}),r},jH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_H=wH,SH=()=>Tn.toasts,CH=()=>Tn.getActiveToasts(),Pe=Object.assign(_H,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:SH,getToasts:CH});function NH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}NH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sm(e){return e.label!==void 0}var PH=3,EH="32px",kH="16px",eE=4e3,AH=356,OH=14,TH=20,RH=200;function Ra(...e){return e.filter(Boolean).join(" ")}function MH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var $H=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:v,visibleToasts:g,heights:x,index:b,toasts:_,expanded:w,removeToast:S,defaultRichColors:C,closeButton:N,style:P,cancelButtonStyle:k,actionButtonStyle:A,className:R="",descriptionClassName:O="",duration:E,position:$,gap:I,loadingIcon:M,expandByDefault:D,classNames:L,icons:B,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:X}=e,[re,z]=T.useState(null),[U,V]=T.useState(null),[H,he]=T.useState(!1),[J,te]=T.useState(!1),[W,G]=T.useState(!1),[pe,K]=T.useState(!1),[ce,le]=T.useState(!1),[je,Be]=T.useState(0),[Je,F]=T.useState(0),q=T.useRef(p.duration||E||eE),Z=T.useRef(null),me=T.useRef(null),ie=b===0,fe=b+1<=g,be=p.type,Ve=p.dismissible!==!1,Ge=p.className||"",Jt=p.descriptionClassName||"",Pn=T.useMemo(()=>x.findIndex(Ye=>Ye.toastId===p.id)||0,[x,p.id]),Er=T.useMemo(()=>{var Ye;return(Ye=p.closeButton)!=null?Ye:N},[p.closeButton,N]),ue=T.useMemo(()=>p.duration||E||eE,[p.duration,E]),ze=T.useRef(0),bt=T.useRef(0),hr=T.useRef(0),ht=T.useRef(null),[lt,En]=$.split("-"),pn=T.useMemo(()=>x.reduce((Ye,St,Tt)=>Tt>=Pn?Ye:Ye+St.height,0),[x,Pn]),Dp=xH(),Lp=p.invert||h,zd=be==="loading";bt.current=T.useMemo(()=>Pn*I+pn,[Pn,pn]),T.useEffect(()=>{q.current=ue},[ue]),T.useEffect(()=>{he(!0)},[]),T.useEffect(()=>{let Ye=me.current;if(Ye){let St=Ye.getBoundingClientRect().height;return F(St),v(Tt=>[{toastId:p.id,height:St,position:p.position},...Tt]),()=>v(Tt=>Tt.filter(kn=>kn.toastId!==p.id))}},[v,p.id]),T.useLayoutEffect(()=>{if(!H)return;let Ye=me.current,St=Ye.style.height;Ye.style.height="auto";let Tt=Ye.getBoundingClientRect().height;Ye.style.height=St,F(Tt),v(kn=>kn.find(Vn=>Vn.toastId===p.id)?kn.map(Vn=>Vn.toastId===p.id?{...Vn,height:Tt}:Vn):[{toastId:p.id,height:Tt,position:p.position},...kn])},[H,p.title,p.description,v,p.id]);let si=T.useCallback(()=>{te(!0),Be(bt.current),v(Ye=>Ye.filter(St=>St.toastId!==p.id)),setTimeout(()=>{S(p)},RH)},[p,S,v,bt]);T.useEffect(()=>{if(p.promise&&be==="loading"||p.duration===1/0||p.type==="loading")return;let Ye;return w||m||X&&Dp?(()=>{if(hr.current<ze.current){let St=new Date().getTime()-ze.current;q.current=q.current-St}hr.current=new Date().getTime()})():q.current!==1/0&&(ze.current=new Date().getTime(),Ye=setTimeout(()=>{var St;(St=p.onAutoClose)==null||St.call(p,p),si()},q.current)),()=>clearTimeout(Ye)},[w,m,p,be,X,Dp,si]),T.useEffect(()=>{p.delete&&si()},[si,p.delete]);function u0(){var Ye,St,Tt;return B!=null&&B.loading?T.createElement("div",{className:Ra(L==null?void 0:L.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":be==="loading"},B.loading):M?T.createElement("div",{className:Ra(L==null?void 0:L.loader,(St=p==null?void 0:p.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":be==="loading"},M):T.createElement(hH,{className:Ra(L==null?void 0:L.loader,(Tt=p==null?void 0:p.classNames)==null?void 0:Tt.loader),visible:be==="loading"})}return T.createElement("li",{tabIndex:0,ref:me,className:Ra(R,Ge,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[be],(r=p==null?void 0:p.classNames)==null?void 0:r[be]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":ce,"data-removed":J,"data-visible":fe,"data-y-position":lt,"data-x-position":En,"data-index":b,"data-front":ie,"data-swiping":W,"data-dismissible":Ve,"data-type":be,"data-invert":Lp,"data-swipe-out":pe,"data-swipe-direction":U,"data-expanded":!!(w||D&&H),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${J?je:bt.current}px`,"--initial-height":D?"auto":`${Je}px`,...P,...p.style},onDragEnd:()=>{G(!1),z(null),ht.current=null},onPointerDown:Ye=>{zd||!Ve||(Z.current=new Date,Be(bt.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(G(!0),ht.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,St,Tt,kn;if(pe||!Ve)return;ht.current=null;let Vn=Number(((Ye=me.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),An=Number(((St=me.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Io=new Date().getTime()-((Tt=Z.current)==null?void 0:Tt.getTime()),Oa=re==="x"?Vn:An,Ss=Math.abs(Oa)/Io;if(Math.abs(Oa)>=TH||Ss>.11){Be(bt.current),(kn=p.onDismiss)==null||kn.call(p,p),V(re==="x"?Vn>0?"right":"left":An>0?"down":"up"),si(),K(!0),le(!1);return}G(!1),z(null)},onPointerMove:Ye=>{var St,Tt,kn,Vn;if(!ht.current||!Ve||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;let An=Ye.clientY-ht.current.y,Io=Ye.clientX-ht.current.x,Oa=(Tt=e.swipeDirections)!=null?Tt:MH($);!re&&(Math.abs(Io)>1||Math.abs(An)>1)&&z(Math.abs(Io)>Math.abs(An)?"x":"y");let Ss={x:0,y:0};re==="y"?(Oa.includes("top")||Oa.includes("bottom"))&&(Oa.includes("top")&&An<0||Oa.includes("bottom")&&An>0)&&(Ss.y=An):re==="x"&&(Oa.includes("left")||Oa.includes("right"))&&(Oa.includes("left")&&Io<0||Oa.includes("right")&&Io>0)&&(Ss.x=Io),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&le(!0),(kn=me.current)==null||kn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Vn=me.current)==null||Vn.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},Er&&!p.jsx?T.createElement("button",{"aria-label":Q,"data-disabled":zd,"data-close-button":!0,onClick:zd||!Ve?()=>{}:()=>{var Ye;si(),(Ye=p.onDismiss)==null||Ye.call(p,p)},className:Ra(L==null?void 0:L.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=B==null?void 0:B.close)!=null?i:yH):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,be||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:Ra(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||u0():null,p.type!=="loading"?p.icon||(B==null?void 0:B[be])||dH(be):null):null,T.createElement("div",{"data-content":"",className:Ra(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},T.createElement("div",{"data-title":"",className:Ra(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:Ra(O,Jt,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&sm(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Ye=>{var St,Tt;sm(p.cancel)&&Ve&&((Tt=(St=p.cancel).onClick)==null||Tt.call(St,Ye),si())},className:Ra(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&sm(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:Ye=>{var St,Tt;sm(p.action)&&((Tt=(St=p.action).onClick)==null||Tt.call(St,Ye),!Ye.defaultPrevented&&si())},className:Ra(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function tE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?kH:EH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var DH=j.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=PH,toastOptions:m,dir:v=tE(),gap:g=OH,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[S,C]=T.useState([]),N=T.useMemo(()=>Array.from(new Set([n].concat(S.filter(X=>X.position).map(X=>X.position)))),[S,n]),[P,k]=T.useState([]),[A,R]=T.useState(!1),[O,E]=T.useState(!1),[$,I]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=T.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=T.useRef(null),B=T.useRef(!1),Q=T.useCallback(X=>{C(re=>{var z;return(z=re.find(U=>U.id===X.id))!=null&&z.delete||Tn.dismiss(X.id),re.filter(({id:U})=>U!==X.id)})},[]);return T.useEffect(()=>Tn.subscribe(X=>{if(X.dismiss){C(re=>re.map(z=>z.id===X.id?{...z,delete:!0}:z));return}setTimeout(()=>{N$.flushSync(()=>{C(re=>{let z=re.findIndex(U=>U.id===X.id);return z!==-1?[...re.slice(0,z),{...re[z],...X},...re.slice(z+1)]:[X,...re]})})})}),[]),T.useEffect(()=>{if(d!=="system"){I(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:re})=>{I(re?"dark":"light")})}catch{X.addListener(({matches:z})=>{try{I(z?"dark":"light")}catch(U){console.error(U)}})}},[d]),T.useEffect(()=>{S.length<=1&&R(!1)},[S]),T.useEffect(()=>{let X=re=>{var z,U;a.every(V=>re[V]||re.code===V)&&(R(!0),(z=M.current)==null||z.focus()),re.code==="Escape"&&(document.activeElement===M.current||(U=M.current)!=null&&U.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),T.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[M.current]),T.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((X,re)=>{var z;let[U,V]=X.split("-");return S.length?T.createElement("ol",{key:X,dir:v==="auto"?tE():v,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":U,"data-lifted":A&&S.length>1&&!i,"data-x-position":V,style:{"--front-toast-height":`${((z=P[0])==null?void 0:z.height)||0}px`,"--width":`${AH}px`,"--gap":`${g}px`,...p,...IH(c,u)},onBlur:H=>{B.current&&!H.currentTarget.contains(H.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=H.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{O||R(!1)},onDragEnd:()=>R(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},S.filter(H=>!H.position&&re===0||H.position===X).map((H,he)=>{var J,te;return T.createElement($H,{key:H.id,icons:b,index:he,toast:H,defaultRichColors:f,duration:(J=m==null?void 0:m.duration)!=null?J:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(te=m==null?void 0:m.closeButton)!=null?te:o,interacting:O,position:X,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Q,toasts:S.filter(W=>W.position==H.position),heights:P.filter(W=>W.position==H.position),setHeights:k,expandByDefault:i,gap:g,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const LH=({...e})=>{const{theme:t="system"}=uH();return s.jsx(DH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FH=__[" useId ".trim().toString()]||(()=>{}),BH=0;function Si(e){const[t,r]=j.useState(FH());return Vr(()=>{e||r(n=>n??String(BH++))},[e]),e||(t?`radix-${t}`:"")}const zH=["top","right","bottom","left"],go=Math.min,Xn=Math.max,Ov=Math.round,om=Math.floor,Ci=e=>({x:e,y:e}),UH={left:"right",right:"left",bottom:"top",top:"bottom"},VH={start:"end",end:"start"};function Yw(e,t,r){return Xn(e,go(t,r))}function ls(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function hd(e){return e.split("-")[1]}function SS(e){return e==="x"?"y":"x"}function CS(e){return e==="y"?"height":"width"}const WH=new Set(["top","bottom"]);function gi(e){return WH.has(cs(e))?"y":"x"}function NS(e){return SS(gi(e))}function HH(e,t,r){r===void 0&&(r=!1);const n=hd(e),a=NS(e),i=CS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tv(o)),[o,Tv(o)]}function qH(e){const t=Tv(e);return[Xw(e),t,Xw(t)]}function Xw(e){return e.replace(/start|end/g,t=>VH[t])}const rE=["left","right"],nE=["right","left"],KH=["top","bottom"],GH=["bottom","top"];function YH(e,t,r){switch(e){case"top":case"bottom":return r?t?nE:rE:t?rE:nE;case"left":case"right":return t?KH:GH;default:return[]}}function XH(e,t,r,n){const a=hd(e);let i=YH(cs(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Xw)))),i}function Tv(e){return e.replace(/left|right|bottom|top/g,t=>UH[t])}function QH(e){return{top:0,right:0,bottom:0,left:0,...e}}function CI(e){return typeof e!="number"?QH(e):{top:e,right:e,bottom:e,left:e}}function Rv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function aE(e,t,r){let{reference:n,floating:a}=e;const i=gi(t),o=NS(t),l=CS(o),c=cs(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(hd(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const JH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=aE(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:v,fn:g}=l[m],{x,y:b,data:_,reset:w}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[v]:{...p[v],..._}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:f}=aE(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function hh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ls(t,e),y=CI(p),v=l[h?f==="floating"?"reference":"floating":f],g=Rv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Rv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-w.top+y.top)/_.y,bottom:(w.bottom-g.bottom+y.bottom)/_.y,left:(g.left-w.left+y.left)/_.x,right:(w.right-g.right+y.right)/_.x}}const ZH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ls(e,t)||{};if(u==null)return{};const f=CI(d),h={x:r,y:n},p=NS(a),y=CS(p),m=await o.getDimensions(u),v=p==="y",g=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[p]-h[p]-i.floating[y],w=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const N=_/2-w/2,P=C/2-m[y]/2-1,k=go(f[g],P),A=go(f[x],P),R=k,O=C-m[y]-A,E=C/2-m[y]/2+N,$=Yw(R,E,O),I=!c.arrow&&hd(a)!=null&&E!==$&&i.reference[y]/2-(E<R?k:A)-m[y]/2<0,M=I?E<R?E-R:E-O:0;return{[p]:h[p]+M,data:{[p]:$,centerOffset:E-$-M,...I&&{alignmentOffset:M}},reset:I}}}),eq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=ls(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=cs(a),x=gi(l),b=cs(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(b||!m?[Tv(l)]:qH(l)),S=y!=="none";!h&&S&&w.push(...XH(l,m,y,_));const C=[l,...w],N=await hh(t,v),P=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(N[g]),f){const E=HH(a,o,_);P.push(N[E[0]],N[E[1]])}if(k=[...k,{placement:a,overflows:P}],!P.every(E=>E<=0)){var A,R;const E=(((A=i.flip)==null?void 0:A.index)||0)+1,$=C[E];if($&&(!(f==="alignment"?x!==gi($):!1)||k.every(D=>D.overflows[0]>0&&gi(D.placement)===x)))return{data:{index:E,overflows:k},reset:{placement:$}};let I=(R=k.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!I)switch(p){case"bestFit":{var O;const M=(O=k.filter(D=>{if(S){const L=gi(D.placement);return L===x||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:O[0];M&&(I=M);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function iE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sE(e){return zH.some(t=>e[t]>=0)}const tq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ls(e,t);switch(n){case"referenceHidden":{const i=await hh(t,{...a,elementContext:"reference"}),o=iE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sE(o)}}}case"escaped":{const i=await hh(t,{...a,altBoundary:!0}),o=iE(i,r.floating);return{data:{escapedOffsets:o,escaped:sE(o)}}}default:return{}}}}},NI=new Set(["left","top"]);async function rq(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=cs(r),l=hd(r),c=gi(r)==="y",u=NI.has(o)?-1:1,d=i&&c?-1:1,f=ls(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const nq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await rq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},aq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:g,y:x}=v;return{x:g,y:x}}},...c}=ls(e,t),u={x:r,y:n},d=await hh(t,c),f=gi(cs(a)),h=SS(f);let p=u[h],y=u[f];if(i){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=p+d[v],b=p-d[g];p=Yw(x,p,b)}if(o){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=y+d[v],b=y-d[g];y=Yw(x,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},iq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ls(e,t),d={x:r,y:n},f=gi(a),h=SS(f);let p=d[h],y=d[f];const m=ls(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+v.mainAxis,w=i.reference[h]+i.reference[b]-v.mainAxis;p<_?p=_:p>w&&(p=w)}if(u){var g,x;const b=h==="y"?"width":"height",_=NI.has(cs(a)),w=i.reference[f]-i.floating[b]+(_&&((g=o.offset)==null?void 0:g[f])||0)+(_?0:v.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);y<w?y=w:y>S&&(y=S)}return{[h]:p,[f]:y}}}},sq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ls(e,t),d=await hh(t,u),f=cs(a),h=hd(a),p=gi(a)==="y",{width:y,height:m}=i.floating;let v,g;f==="top"||f==="bottom"?(v=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,_=go(m-d[v],x),w=go(y-d[g],b),S=!t.middlewareData.shift;let C=_,N=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const k=Xn(d.left,0),A=Xn(d.right,0),R=Xn(d.top,0),O=Xn(d.bottom,0);p?N=y-2*(k!==0||A!==0?k+A:Xn(d.left,d.right)):C=m-2*(R!==0||O!==0?R+O:Xn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const P=await o.getDimensions(l.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Ry(){return typeof window<"u"}function pd(e){return PI(e)?(e.nodeName||"").toLowerCase():"#document"}function ta(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ri(e){var t;return(t=(PI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PI(e){return Ry()?e instanceof Node||e instanceof ta(e).Node:!1}function ri(e){return Ry()?e instanceof Element||e instanceof ta(e).Element:!1}function Ai(e){return Ry()?e instanceof HTMLElement||e instanceof ta(e).HTMLElement:!1}function oE(e){return!Ry()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ta(e).ShadowRoot}const oq=new Set(["inline","contents"]);function wp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!oq.has(a)}const lq=new Set(["table","td","th"]);function cq(e){return lq.has(pd(e))}const uq=[":popover-open",":modal"];function My(e){return uq.some(t=>{try{return e.matches(t)}catch{return!1}})}const dq=["transform","translate","scale","rotate","perspective"],fq=["transform","translate","scale","rotate","perspective","filter"],hq=["paint","layout","strict","content"];function PS(e){const t=ES(),r=ri(e)?ni(e):e;return dq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fq.some(n=>(r.willChange||"").includes(n))||hq.some(n=>(r.contain||"").includes(n))}function pq(e){let t=yo(e);for(;Ai(t)&&!bu(t);){if(PS(t))return t;if(My(t))return null;t=yo(t)}return null}function ES(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mq=new Set(["html","body","#document"]);function bu(e){return mq.has(pd(e))}function ni(e){return ta(e).getComputedStyle(e)}function $y(e){return ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yo(e){if(pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oE(e)&&e.host||Ri(e);return oE(t)?t.host:t}function EI(e){const t=yo(e);return bu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ai(t)&&wp(t)?t:EI(t)}function ph(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=EI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ta(a);if(i){const l=Qw(o);return t.concat(o,o.visualViewport||[],wp(a)?a:[],l&&r?ph(l):[])}return t.concat(a,ph(a,[],r))}function Qw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kI(e){const t=ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ai(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Ov(r)!==i||Ov(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function kS(e){return ri(e)?e:e.contextElement}function Kc(e){const t=kS(e);if(!Ai(t))return Ci(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=kI(t);let o=(i?Ov(r.width):r.width)/n,l=(i?Ov(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vq=Ci(0);function AI(e){const t=ta(e);return!ES()||!t.visualViewport?vq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ta(e)?!1:t}function El(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=kS(e);let o=Ci(1);t&&(n?ri(n)&&(o=Kc(n)):o=Kc(e));const l=gq(i,r,n)?AI(i):Ci(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=ta(i),p=n&&ri(n)?ta(n):n;let y=h,m=Qw(y);for(;m&&n&&p!==y;){const v=Kc(m),g=m.getBoundingClientRect(),x=ni(m),b=g.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,_=g.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,y=ta(m),m=Qw(y)}}return Rv({width:d,height:f,x:c,y:u})}function AS(e,t){const r=$y(e).scrollLeft;return t?t.left+r:El(Ri(e)).left+r}function OI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:AS(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function yq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ri(n),l=t?My(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const d=Ci(0),f=Ai(n);if((f||!f&&!i)&&((pd(n)!=="body"||wp(o))&&(c=$y(n)),Ai(n))){const p=El(n);u=Kc(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?OI(o,c,!0):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xq(e){return Array.from(e.getClientRects())}function bq(e){const t=Ri(e),r=$y(e),n=e.ownerDocument.body,a=Xn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Xn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+AS(e);const l=-r.scrollTop;return ni(n).direction==="rtl"&&(o+=Xn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function wq(e,t){const r=ta(e),n=Ri(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=ES();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const jq=new Set(["absolute","fixed"]);function _q(e,t){const r=El(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ai(e)?Kc(e):Ci(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function lE(e,t,r){let n;if(t==="viewport")n=wq(e,r);else if(t==="document")n=bq(Ri(e));else if(ri(t))n=_q(t,r);else{const a=AI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Rv(n)}function TI(e,t){const r=yo(e);return r===t||!ri(r)||bu(r)?!1:ni(r).position==="fixed"||TI(r,t)}function Sq(e,t){const r=t.get(e);if(r)return r;let n=ph(e,[],!1).filter(l=>ri(l)&&pd(l)!=="body"),a=null;const i=ni(e).position==="fixed";let o=i?yo(e):e;for(;ri(o)&&!bu(o);){const l=ni(o),c=PS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&jq.has(a.position)||wp(o)&&!c&&TI(e,o))?n=n.filter(d=>d!==o):a=l,o=yo(o)}return t.set(e,n),n}function Cq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?My(t)?[]:Sq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=lE(t,d,a);return u.top=Xn(f.top,u.top),u.right=go(f.right,u.right),u.bottom=go(f.bottom,u.bottom),u.left=Xn(f.left,u.left),u},lE(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nq(e){const{width:t,height:r}=kI(e);return{width:t,height:r}}function Pq(e,t,r){const n=Ai(t),a=Ri(t),i=r==="fixed",o=El(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=AS(a)}if(n||!n&&!i)if((pd(t)!=="body"||wp(a))&&(l=$y(t)),n){const p=El(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?OI(a,l):Ci(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function U0(e){return ni(e).position==="static"}function cE(e,t){if(!Ai(e)||ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ri(e)===r&&(r=r.ownerDocument.body),r}function RI(e,t){const r=ta(e);if(My(e))return r;if(!Ai(e)){let a=yo(e);for(;a&&!bu(a);){if(ri(a)&&!U0(a))return a;a=yo(a)}return r}let n=cE(e,t);for(;n&&cq(n)&&U0(n);)n=cE(n,t);return n&&bu(n)&&U0(n)&&!PS(n)?r:n||pq(e)||r}const Eq=async function(e){const t=this.getOffsetParent||RI,r=this.getDimensions,n=await r(e.floating);return{reference:Pq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kq(e){return ni(e).direction==="rtl"}const Aq={convertOffsetParentRelativeRectToViewportRelativeRect:yq,getDocumentElement:Ri,getClippingRect:Cq,getOffsetParent:RI,getElementRects:Eq,getClientRects:xq,getDimensions:Nq,getScale:Kc,isElement:ri,isRTL:kq};function MI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Oq(e,t){let r=null,n;const a=Ri(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=om(f),m=om(a.clientWidth-(d+h)),v=om(a.clientHeight-(f+p)),g=om(d),b={rootMargin:-y+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Xn(0,go(1,c))||1};let _=!0;function w(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!MI(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(w,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(e)}return o(!0),i}function Tq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=kS(e),d=a||i?[...u?ph(u):[],...ph(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Oq(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?El(e):null;c&&v();function v(){const g=El(e);m&&!MI(m,g)&&r(),m=g,y=requestAnimationFrame(v)}return r(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Rq=nq,Mq=aq,$q=eq,Iq=sq,Dq=tq,uE=ZH,Lq=iq,Fq=(e,t,r)=>{const n=new Map,a={platform:Aq,...r},i={...a.platform,_c:n};return JH(e,t,{...a,platform:i})};var Bq=typeof document<"u",zq=function(){},Jm=Bq?j.useLayoutEffect:zq;function Mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Mv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $I(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dE(e,t){const r=$I(e);return Math.round(t*r)/r}function V0(e){const t=j.useRef(e);return Jm(()=>{t.current=e}),t}function Uq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(n);Mv(h,n)||p(n);const[y,m]=j.useState(null),[v,g]=j.useState(null),x=j.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),b=j.useCallback(D=>{D!==C.current&&(C.current=D,g(D))},[]),_=i||y,w=o||v,S=j.useRef(null),C=j.useRef(null),N=j.useRef(d),P=c!=null,k=V0(c),A=V0(a),R=V0(u),O=j.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),Fq(S.current,C.current,D).then(L=>{const B={...L,isPositioned:R.current!==!1};E.current&&!Mv(N.current,B)&&(N.current=B,Ul.flushSync(()=>{f(B)}))})},[h,t,r,A,R]);Jm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const E=j.useRef(!1);Jm(()=>(E.current=!0,()=>{E.current=!1}),[]),Jm(()=>{if(_&&(S.current=_),w&&(C.current=w),_&&w){if(k.current)return k.current(_,w,O);O()}},[_,w,O,k,P]);const $=j.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),I=j.useMemo(()=>({reference:_,floating:w}),[_,w]),M=j.useMemo(()=>{const D={position:r,left:0,top:0};if(!I.floating)return D;const L=dE(I.floating,d.x),B=dE(I.floating,d.y);return l?{...D,transform:"translate("+L+"px, "+B+"px)",...$I(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:B}},[r,l,I.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:O,refs:$,elements:I,floatingStyles:M}),[d,O,$,I,M])}const Vq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uE({element:n.current,padding:a}).fn(r):{}:n?uE({element:n,padding:a}).fn(r):{}}}},Wq=(e,t)=>({...Rq(e),options:[e,t]}),Hq=(e,t)=>({...Mq(e),options:[e,t]}),qq=(e,t)=>({...Lq(e),options:[e,t]}),Kq=(e,t)=>({...$q(e),options:[e,t]}),Gq=(e,t)=>({...Iq(e),options:[e,t]}),Yq=(e,t)=>({...Dq(e),options:[e,t]}),Xq=(e,t)=>({...Vq(e),options:[e,t]});var Qq="Arrow",II=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx($e.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});II.displayName=Qq;var Jq=II;function Iy(e){const[t,r]=j.useState(void 0);return Vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var OS="Popper",[DI,md]=Nn(OS),[Zq,LI]=DI(OS),FI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=j.useState(null);return s.jsx(Zq,{scope:t,anchor:n,onAnchorChange:a,children:r})};FI.displayName=OS;var BI="PopperAnchor",zI=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=LI(BI,r),o=j.useRef(null),l=Qe(t,o);return j.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx($e.div,{...a,ref:l})});zI.displayName=BI;var TS="PopperContent",[e9,t9]=DI(TS),UI=j.forwardRef((e,t)=>{var H,he,J,te,W,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,v=LI(TS,r),[g,x]=j.useState(null),b=Qe(t,pe=>x(pe)),[_,w]=j.useState(null),S=Iy(_),C=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,P=n+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,O={padding:k,boundary:A.filter(n9),altBoundary:R},{refs:E,floatingStyles:$,placement:I,isPositioned:M,middlewareData:D}=Uq({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>Tq(...pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Wq({mainAxis:a+N,alignmentAxis:o}),c&&Hq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qq():void 0,...O}),c&&Kq({...O}),Gq({...O,apply:({elements:pe,rects:K,availableWidth:ce,availableHeight:le})=>{const{width:je,height:Be}=K.reference,Je=pe.floating.style;Je.setProperty("--radix-popper-available-width",`${ce}px`),Je.setProperty("--radix-popper-available-height",`${le}px`),Je.setProperty("--radix-popper-anchor-width",`${je}px`),Je.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),_&&Xq({element:_,padding:l}),a9({arrowWidth:C,arrowHeight:N}),h&&Yq({strategy:"referenceHidden",...O})]}),[L,B]=HI(I),Q=Mr(y);Vr(()=>{M&&(Q==null||Q())},[M,Q]);const X=(H=D.arrow)==null?void 0:H.x,re=(he=D.arrow)==null?void 0:he.y,z=((J=D.arrow)==null?void 0:J.centerOffset)!==0,[U,V]=j.useState();return Vr(()=>{g&&V(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(te=D.transformOrigin)==null?void 0:te.x,(W=D.transformOrigin)==null?void 0:W.y].join(" "),...((G=D.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(e9,{scope:r,placedSide:L,onArrowChange:w,arrowX:X,arrowY:re,shouldHideArrow:z,children:s.jsx($e.div,{"data-side":L,"data-align":B,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});UI.displayName=TS;var VI="PopperArrow",r9={top:"bottom",right:"left",bottom:"top",left:"right"},WI=j.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=t9(VI,n),o=r9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Jq,{...a,ref:r,style:{...a.style,display:"block"}})})});WI.displayName=VI;function n9(e){return e!==null}var a9=e=>({name:"transformOrigin",options:e,fn(t){var v,g,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=HI(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function HI(e){const[t,r="center"]=e.split("-");return[t,r]}var RS=FI,Dy=zI,MS=UI,$S=WI,[Ly,AOe]=Nn("Tooltip",[md]),Fy=md(),qI="TooltipProvider",i9=700,Jw="tooltip.open",[s9,IS]=Ly(qI),KI=e=>{const{__scopeTooltip:t,delayDuration:r=i9,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(s9,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};KI.displayName=qI;var mh="Tooltip",[o9,By]=Ly(mh),GI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=IS(mh,e.__scopeTooltip),u=Fy(t),[d,f]=j.useState(null),h=Si(),p=j.useRef(0),y=o??c.disableHoverableContent,m=l??c.delayDuration,v=j.useRef(!1),[g,x]=Bn({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Jw))):c.onClose(),i==null||i(C)},caller:mh}),b=j.useMemo(()=>g?v.current?"delayed-open":"instant-open":"closed",[g]),_=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,x(!0)},[x]),w=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,x(!0),p.current=0},m)},[m,x]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(RS,{...u,children:s.jsx(o9,{scope:t,contentId:h,open:g,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:j.useCallback(()=>{y?w():(window.clearTimeout(p.current),p.current=0)},[w,y]),onOpen:_,onClose:w,disableHoverableContent:y,children:r})})};GI.displayName=mh;var Zw="TooltipTrigger",YI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=By(Zw,r),i=IS(Zw,r),o=Fy(r),l=j.useRef(null),c=Qe(t,l,a.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Dy,{asChild:!0,...o,children:s.jsx($e.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});YI.displayName=Zw;var l9="TooltipPortal",[OOe,c9]=Ly(l9,{forceMount:void 0}),wu="TooltipContent",XI=j.forwardRef((e,t)=>{const r=c9(wu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=By(wu,e.__scopeTooltip);return s.jsx(zn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(QI,{side:a,...i,ref:t}):s.jsx(u9,{side:a,...i,ref:t})})}),u9=j.forwardRef((e,t)=>{const r=By(wu,e.__scopeTooltip),n=IS(wu,e.__scopeTooltip),a=j.useRef(null),i=Qe(t,a),[o,l]=j.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=j.useCallback(()=>{l(null),f(!1)},[f]),p=j.useCallback((y,m)=>{const v=y.currentTarget,g={x:y.clientX,y:y.clientY},x=m9(g,v.getBoundingClientRect()),b=v9(g,x),_=g9(m.getBoundingClientRect()),w=x9([...b,..._]);l(w),f(!0)},[f]);return j.useEffect(()=>()=>h(),[h]),j.useEffect(()=>{if(c&&d){const y=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),j.useEffect(()=>{if(o){const y=m=>{const v=m.target,g={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!y9(g,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(QI,{...e,ref:i})}),[d9,f9]=Ly(mh,{isInside:!1}),h9=T$("TooltipContent"),QI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=By(wu,r),u=Fy(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(Jw,d),()=>document.removeEventListener(Jw,d)),[d]),j.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(MS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(h9,{children:n}),s.jsx(d9,{scope:r,isInside:!0,children:s.jsx(I6,{id:c.contentId,role:"tooltip",children:a||n})})]})})});XI.displayName=wu;var JI="TooltipArrow",p9=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Fy(r);return f9(JI,r).isInside?null:s.jsx($S,{...a,...n,ref:t})});p9.displayName=JI;function m9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function v9(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function g9(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function y9(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function x9(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),b9(t)}function b9(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var w9=KI,j9=GI,_9=YI,ZI=XI;const S9=w9,C9=j9,N9=_9,eD=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(ZI,{ref:n,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eD.displayName=ZI.displayName;var zy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uy=typeof window>"u"||"Deno"in globalThis;function La(){}function P9(e,t){return typeof e=="function"?e(t):e}function E9(e){return typeof e=="number"&&e>=0&&e!==1/0}function k9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ej(e,t){return typeof e=="function"?e(t):e}function A9(e,t){return typeof e=="function"?e(t):e}function fE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==DS(o,t.options))return!1}else if(!gh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function hE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(vh(t.options.mutationKey)!==vh(i))return!1}else if(!gh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function DS(e,t){return((t==null?void 0:t.queryKeyHashFn)||vh)(e)}function vh(e){return JSON.stringify(e,(t,r)=>tj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function gh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>gh(e[r],t[r])):!1}function tD(e,t){if(e===t)return e;const r=pE(e)&&pE(t);if(r||tj(e)&&tj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=tD(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function pE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tj(e){if(!mE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mE(e){return Object.prototype.toString.call(e)==="[object Object]"}function O9(e){return new Promise(t=>{setTimeout(t,e)})}function T9(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?tD(e,t):t}function R9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function M9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var LS=Symbol();function rD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ul,zs,tu,sR,$9=(sR=class extends zy{constructor(){super();vt(this,ul);vt(this,zs);vt(this,tu);tt(this,tu,t=>{if(!Uy&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){de(this,zs)||this.setEventListener(de(this,tu))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,zs))==null||t.call(this),tt(this,zs,void 0))}setEventListener(t){var r;tt(this,tu,t),(r=de(this,zs))==null||r.call(this),tt(this,zs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){de(this,ul)!==t&&(tt(this,ul,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof de(this,ul)=="boolean"?de(this,ul):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ul=new WeakMap,zs=new WeakMap,tu=new WeakMap,sR),nD=new $9,ru,Us,nu,oR,I9=(oR=class extends zy{constructor(){super();vt(this,ru,!0);vt(this,Us);vt(this,nu);tt(this,nu,t=>{if(!Uy&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){de(this,Us)||this.setEventListener(de(this,nu))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,Us))==null||t.call(this),tt(this,Us,void 0))}setEventListener(t){var r;tt(this,nu,t),(r=de(this,Us))==null||r.call(this),tt(this,Us,t(this.setOnline.bind(this)))}setOnline(t){de(this,ru)!==t&&(tt(this,ru,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return de(this,ru)}},ru=new WeakMap,Us=new WeakMap,nu=new WeakMap,oR),$v=new I9;function D9(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function L9(e){return Math.min(1e3*2**e,3e4)}function aD(e){return(e??"online")==="online"?$v.isOnline():!0}var iD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function W0(e){return e instanceof iD}function sD(e){let t=!1,r=0,n=!1,a;const i=D9(),o=m=>{var v;n||(h(new iD(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>nD.isFocused()&&(e.networkMode==="always"||$v.isOnline())&&e.canRun(),d=()=>aD(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var v;a=g=>{(n||u())&&m(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(f).catch(g=>{var S;if(n)return;const x=e.retry??(Uy?0:3),b=e.retryDelay??L9,_=typeof b=="function"?b(r,g):b,w=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!w){h(g);return}r++,(S=e.onFail)==null||S.call(e,r,g),O9(_).then(()=>u()?void 0:p()).then(()=>{t?h(g):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var F9=e=>setTimeout(e,0);function B9(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=F9;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var yn=B9(),dl,lR,oD=(lR=class{constructor(){vt(this,dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),E9(this.gcTime)&&tt(this,dl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uy?1/0:5*60*1e3))}clearGcTimeout(){de(this,dl)&&(clearTimeout(de(this,dl)),tt(this,dl,void 0))}},dl=new WeakMap,lR),au,fl,ha,hl,sn,fp,pl,za,Ui,cR,z9=(cR=class extends oD{constructor(t){super();vt(this,za);vt(this,au);vt(this,fl);vt(this,ha);vt(this,hl);vt(this,sn);vt(this,fp);vt(this,pl);tt(this,pl,!1),tt(this,fp,t.defaultOptions),this.setOptions(t.options),this.observers=[],tt(this,hl,t.client),tt(this,ha,de(this,hl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,tt(this,au,V9(this.options)),this.state=t.state??de(this,au),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=de(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...de(this,fp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,ha).remove(this)}setData(t,r){const n=T9(this.state.data,t,this.options);return en(this,za,Ui).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){en(this,za,Ui).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=de(this,sn))==null?void 0:n.promise;return(a=de(this,sn))==null||a.cancel(t),r?r.then(La).catch(La):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,au))}isActive(){return this.observers.some(t=>A9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ej(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!k9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=de(this,sn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=de(this,sn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,ha).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(de(this,sn)&&(de(this,pl)?de(this,sn).cancel({revert:!0}):de(this,sn).cancelRetry()),this.scheduleGc()),de(this,ha).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||en(this,za,Ui).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(de(this,sn))return de(this,sn).continueRetry(),de(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(tt(this,pl,!0),n.signal)})},i=()=>{const h=rD(this.options,r),y=(()=>{const m={client:de(this,hl),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return tt(this,pl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:de(this,hl),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),tt(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&en(this,za,Ui).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,y,m,v;W0(h)&&h.silent||en(this,za,Ui).call(this,{type:"error",error:h}),W0(h)||((y=(p=de(this,ha).config).onError)==null||y.call(p,h,this),(v=(m=de(this,ha).config).onSettled)==null||v.call(m,this.state.data,h,this)),this.scheduleGc()};return tt(this,sn,sD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,y,m,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){c(g);return}(y=(p=de(this,ha).config).onSuccess)==null||y.call(p,h,this),(v=(m=de(this,ha).config).onSettled)==null||v.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{en(this,za,Ui).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{en(this,za,Ui).call(this,{type:"pause"})},onContinue:()=>{en(this,za,Ui).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),de(this,sn).start()}},au=new WeakMap,fl=new WeakMap,ha=new WeakMap,hl=new WeakMap,sn=new WeakMap,fp=new WeakMap,pl=new WeakMap,za=new WeakSet,Ui=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...U9(n.data,this.options),fetchMeta:t.meta??null};case"success":return tt(this,fl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return W0(a)&&a.revert&&de(this,fl)?{...de(this,fl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),yn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),de(this,ha).notify({query:this,type:"updated",action:t})})},cR);function U9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function V9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ui,uR,W9=(uR=class extends zy{constructor(t={}){super();vt(this,ui);this.config=t,tt(this,ui,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??DS(a,r);let o=this.get(i);return o||(o=new z9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){de(this,ui).has(t.queryHash)||(de(this,ui).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=de(this,ui).get(t.queryHash);r&&(t.destroy(),r===t&&de(this,ui).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,ui).get(t)}getAll(){return[...de(this,ui).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fE(t,n)):r}notify(t){yn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ui=new WeakMap,uR),di,mn,ml,fi,ks,dR,H9=(dR=class extends oD{constructor(t){super();vt(this,fi);vt(this,di);vt(this,mn);vt(this,ml);this.mutationId=t.mutationId,tt(this,mn,t.mutationCache),tt(this,di,[]),this.state=t.state||q9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,di).includes(t)||(de(this,di).push(t),this.clearGcTimeout(),de(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){tt(this,di,de(this,di).filter(r=>r!==t)),this.scheduleGc(),de(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,di).length||(this.state.status==="pending"?this.scheduleGc():de(this,mn).remove(this))}continue(){var t;return((t=de(this,ml))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,p,y,m,v,g,x,b,_,w,S,C,N;const r=()=>{en(this,fi,ks).call(this,{type:"continue"})};tt(this,ml,sD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,k)=>{en(this,fi,ks).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{en(this,fi,ks).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,mn).canRun(this)}));const n=this.state.status==="pending",a=!de(this,ml).canStart();try{if(n)r();else{en(this,fi,ks).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=de(this,mn).config).onMutate)==null?void 0:o.call(i,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&en(this,fi,ks).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const P=await de(this,ml).start();return await((d=(u=de(this,mn).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((y=(p=de(this,mn).config).onSettled)==null?void 0:y.call(p,P,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,P,null,t,this.state.context)),en(this,fi,ks).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(g=de(this,mn).config).onError)==null?void 0:x.call(g,P,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context)),await((S=(w=de(this,mn).config).onSettled)==null?void 0:S.call(w,void 0,P,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,P,t,this.state.context)),P}finally{en(this,fi,ks).call(this,{type:"error",error:P})}}finally{de(this,mn).runNext(this)}}},di=new WeakMap,mn=new WeakMap,ml=new WeakMap,fi=new WeakSet,ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yn.batch(()=>{de(this,di).forEach(n=>{n.onMutationUpdate(t)}),de(this,mn).notify({mutation:this,type:"updated",action:t})})},dR);function q9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,Ua,hp,fR,K9=(fR=class extends zy{constructor(t={}){super();vt(this,Ki);vt(this,Ua);vt(this,hp);this.config=t,tt(this,Ki,new Set),tt(this,Ua,new Map),tt(this,hp,0)}build(t,r,n){const a=new H9({mutationCache:this,mutationId:++Fp(this,hp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){de(this,Ki).add(t);const r=lm(t);if(typeof r=="string"){const n=de(this,Ua).get(r);n?n.push(t):de(this,Ua).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(de(this,Ki).delete(t)){const r=lm(t);if(typeof r=="string"){const n=de(this,Ua).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&de(this,Ua).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=lm(t);if(typeof r=="string"){const n=de(this,Ua).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=lm(t);if(typeof r=="string"){const a=(n=de(this,Ua).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{de(this,Ki).forEach(t=>{this.notify({type:"removed",mutation:t})}),de(this,Ki).clear(),de(this,Ua).clear()})}getAll(){return Array.from(de(this,Ki))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hE(r,n))}findAll(t={}){return this.getAll().filter(r=>hE(t,r))}notify(t){yn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return yn.batch(()=>Promise.all(t.map(r=>r.continue().catch(La))))}},Ki=new WeakMap,Ua=new WeakMap,hp=new WeakMap,fR);function lm(e){var t;return(t=e.options.scope)==null?void 0:t.id}function vE(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=rD(t.options,t.fetchOptions),x=async(b,_,w)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return v(A),A})(),N=await g(C),{maxPages:P}=t.options,k=w?M9:R9;return{pages:k(b.pages,N,P),pageParams:k(b.pageParams,_,P)}};if(a&&i.length){const b=a==="backward",_=b?G9:gE,w={pages:i,pageParams:o},S=_(n,w);l=await x(w,S,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:gE(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function gE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function G9(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ar,Vs,Ws,iu,su,Hs,ou,lu,hR,Y9=(hR=class{constructor(e={}){vt(this,ar);vt(this,Vs);vt(this,Ws);vt(this,iu);vt(this,su);vt(this,Hs);vt(this,ou);vt(this,lu);tt(this,ar,e.queryCache||new W9),tt(this,Vs,e.mutationCache||new K9),tt(this,Ws,e.defaultOptions||{}),tt(this,iu,new Map),tt(this,su,new Map),tt(this,Hs,0)}mount(){Fp(this,Hs)._++,de(this,Hs)===1&&(tt(this,ou,nD.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,ar).onFocus())})),tt(this,lu,$v.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,ar).onOnline())})))}unmount(){var e,t;Fp(this,Hs)._--,de(this,Hs)===0&&((e=de(this,ou))==null||e.call(this),tt(this,ou,void 0),(t=de(this,lu))==null||t.call(this),tt(this,lu,void 0))}isFetching(e){return de(this,ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,Vs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=de(this,ar).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=de(this,ar).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ej(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return de(this,ar).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=de(this,ar).get(n.queryHash),i=a==null?void 0:a.state.data,o=P9(t,i);if(o!==void 0)return de(this,ar).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return yn.batch(()=>de(this,ar).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=de(this,ar).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=de(this,ar);yn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=de(this,ar);return yn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=yn.batch(()=>de(this,ar).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(La).catch(La)}invalidateQueries(e,t={}){return yn.batch(()=>(de(this,ar).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=yn.batch(()=>de(this,ar).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(La)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(La)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=de(this,ar).build(this,t);return r.isStaleByTime(ej(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(La).catch(La)}fetchInfiniteQuery(e){return e.behavior=vE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(La).catch(La)}ensureInfiniteQueryData(e){return e.behavior=vE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $v.isOnline()?de(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,ar)}getMutationCache(){return de(this,Vs)}getDefaultOptions(){return de(this,Ws)}setDefaultOptions(e){tt(this,Ws,e)}setQueryDefaults(e,t){de(this,iu).set(vh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,iu).values()],r={};return t.forEach(n=>{gh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){de(this,su).set(vh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,su).values()],r={};return t.forEach(n=>{gh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,Ws).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=DS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===LS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,Ws).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,ar).clear(),de(this,Vs).clear()}},ar=new WeakMap,Vs=new WeakMap,Ws=new WeakMap,iu=new WeakMap,su=new WeakMap,Hs=new WeakMap,ou=new WeakMap,lu=new WeakMap,hR),X9=j.createContext(void 0),Q9=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(X9.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const yE="popstate";function J9(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return rj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Iv(a)}return e7(t,r,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z9(){return Math.random().toString(36).substr(2,8)}function xE(e,t){return{usr:e.state,key:e.key,idx:t}}function rj(e,t,r,n){return r===void 0&&(r=null),yh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vd(t):t,{state:r,key:t&&t.key||n||Z9()})}function Iv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function e7(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Gs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(yh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Gs.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:g})}function h(v,g){l=Gs.Push;let x=rj(m.location,v,g);u=d()+1;let b=xE(x,u),_=m.createHref(x);try{o.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,g){l=Gs.Replace;let x=rj(m.location,v,g);u=d();let b=xE(x,u),_=m.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function y(v){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:Iv(v);return x=x.replace(/ $/,"%20"),rr(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let m={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yE,f),c=v,()=>{a.removeEventListener(yE,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var bE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bE||(bE={}));function t7(e,t,r){return r===void 0&&(r="/"),r7(e,t,r,!1)}function r7(e,t,r,n){let a=typeof t=="string"?vd(t):t,i=ju(a.pathname||"/",r);if(i==null)return null;let o=cD(e);n7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=p7(i);l=f7(o[c],u,n)}return l}function cD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=co([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(rr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u7(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of uD(i.path))a(i,o,c)}),t}function uD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=uD(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function n7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const a7=/^:[\w-]+$/,i7=3,s7=2,o7=1,l7=10,c7=-2,wE=e=>e==="*";function u7(e,t){let r=e.split("/"),n=r.length;return r.some(wE)&&(n+=c7),t&&(n+=s7),r.filter(a=>!wE(a)).reduce((a,i)=>a+(a7.test(i)?i7:i===""?o7:l7),n)}function d7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function f7(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Dv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Dv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:co([i,f.pathname]),pathnameBase:y7(co([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=co([i,f.pathnameBase]))}return o}function Dv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=h7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function h7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function p7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ju(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function m7(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vd(e):e;return{pathname:r?r.startsWith("/")?r:v7(r,t):t,search:x7(n),hash:b7(a)}}function v7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function H0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function FS(e,t){let r=g7(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function BS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=vd(e):(a=yh({},e),rr(!a.pathname||!a.pathname.includes("?"),H0("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),H0("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),H0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=m7(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const co=e=>e.join("/").replace(/\/\/+/g,"/"),y7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dD=["post","put","patch","delete"];new Set(dD);const j7=["get",...dD];new Set(j7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(this,arguments)}const Vy=j.createContext(null),fD=j.createContext(null),vs=j.createContext(null),Wy=j.createContext(null),No=j.createContext({outlet:null,matches:[],isDataRoute:!1}),hD=j.createContext(null);function _7(e,t){let{relative:r}=t===void 0?{}:t;gd()||rr(!1);let{basename:n,navigator:a}=j.useContext(vs),{hash:i,pathname:o,search:l}=Hy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:co([n,o])),a.createHref({pathname:c,search:l,hash:i})}function gd(){return j.useContext(Wy)!=null}function Wl(){return gd()||rr(!1),j.useContext(Wy).location}function pD(e){j.useContext(vs).static||j.useLayoutEffect(e)}function jp(){let{isDataRoute:e}=j.useContext(No);return e?I7():S7()}function S7(){gd()||rr(!1);let e=j.useContext(Vy),{basename:t,future:r,navigator:n}=j.useContext(vs),{matches:a}=j.useContext(No),{pathname:i}=Wl(),o=JSON.stringify(FS(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return pD(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=BS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:co([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Hy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(vs),{matches:a}=j.useContext(No),{pathname:i}=Wl(),o=JSON.stringify(FS(a,n.v7_relativeSplatPath));return j.useMemo(()=>BS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function C7(e,t){return N7(e,t)}function N7(e,t,r,n){gd()||rr(!1);let{navigator:a}=j.useContext(vs),{matches:i}=j.useContext(No),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Wl(),d;if(t){var f;let v=typeof t=="string"?vd(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||rr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=t7(e,{pathname:p}),m=O7(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:co([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:co([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?j.createElement(Wy.Provider,{value:{location:xh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gs.Pop}},m):m}function P7(){let e=$7(),t=w7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const E7=j.createElement(P7,null);class k7 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(No.Provider,{value:this.props.routeContext},j.createElement(hD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A7(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(Vy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(No.Provider,{value:t},n)}function O7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||rr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||E7,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),x=()=>{let b;return p?b=m:y?b=v:f.route.Component?b=j.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,j.createElement(A7,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(k7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var mD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mD||{}),Lv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lv||{});function T7(e){let t=j.useContext(Vy);return t||rr(!1),t}function R7(e){let t=j.useContext(fD);return t||rr(!1),t}function M7(e){let t=j.useContext(No);return t||rr(!1),t}function vD(e){let t=M7(),r=t.matches[t.matches.length-1];return r.route.id||rr(!1),r.route.id}function $7(){var e;let t=j.useContext(hD),r=R7(Lv.UseRouteError),n=vD(Lv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function I7(){let{router:e}=T7(mD.UseNavigateStable),t=vD(Lv.UseNavigateStable),r=j.useRef(!1);return pD(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xh({fromRouteId:t},i)))},[e,t])}function D7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Fv(e){let{to:t,replace:r,state:n,relative:a}=e;gd()||rr(!1);let{future:i,static:o}=j.useContext(vs),{matches:l}=j.useContext(No),{pathname:c}=Wl(),u=jp(),d=BS(t,FS(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function pr(e){rr(!1)}function L7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Gs.Pop,navigator:i,static:o=!1,future:l}=e;gd()&&rr(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:o,future:xh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=vd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,m=j.useMemo(()=>{let v=ju(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:a}},[c,d,f,h,p,y,a]);return m==null?null:j.createElement(vs.Provider,{value:u},j.createElement(Wy.Provider,{children:r,value:m}))}function F7(e){let{children:t,location:r}=e;return C7(nj(t),r)}new Promise(()=>{});function nj(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let i=[...t,a];if(n.type===j.Fragment){r.push.apply(r,nj(n.props.children,i));return}n.type!==pr&&rr(!1),!n.props.index||!n.props.children||rr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=nj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function gD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function B7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z7(e,t){return e.button===0&&(!t||t==="_self")&&!B7(e)}const U7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],W7="6";try{window.__reactRouterVersion=W7}catch{}const H7=j.createContext({isTransitioning:!1}),q7="startTransition",jE=__[q7];function K7(e){let{basename:t,children:r,future:n,window:a}=e,i=j.useRef();i.current==null&&(i.current=J9({window:a,v5Compat:!0}));let o=i.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&jE?jE(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>D7(n),[n]),j.createElement(L7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const G7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X7=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=gD(t,U7),{basename:p}=j.useContext(vs),y,m=!1;if(typeof u=="string"&&Y7.test(u)&&(y=u,G7))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=ju(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:m=!0}catch{}let v=_7(u,{relative:a}),g=J7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||g(b)}return j.createElement("a",Bv({},h,{href:y||v,onClick:m||i?n:x,ref:r,target:c}))}),_E=j.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=gD(t,V7),h=Hy(c,{relative:f.relative}),p=Wl(),y=j.useContext(fD),{navigator:m,basename:v}=j.useContext(vs),g=y!=null&&Z7(h)&&u===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&v&&(_=ju(_,v)||_);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!o&&b.startsWith(x)&&b.charAt(w)==="/",C=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),N={isActive:S,isPending:C,isTransitioning:g},P=S?n:void 0,k;typeof i=="function"?k=i(N):k=[i,S?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(N):l;return j.createElement(X7,Bv({},f,{"aria-current":P,className:k,ref:r,style:A,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var aj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(aj||(aj={}));var SE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(SE||(SE={}));function Q7(e){let t=j.useContext(Vy);return t||rr(!1),t}function J7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=jp(),u=Wl(),d=Hy(e,{relative:o});return j.useCallback(f=>{if(z7(f,r)){f.preventDefault();let h=n!==void 0?n:Iv(u)===Iv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Z7(e,t){t===void 0&&(t={});let r=j.useContext(H7);r==null&&rr(!1);let{basename:n}=Q7(aj.useViewTransitionState),a=Hy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ju(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ju(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dv(a.pathname,o)!=null||Dv(a.pathname,i)!=null}const eK=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],tK=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],rK=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],nK=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function aK(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,o=i+a;return t>=i&&t<o?r+n.devCost/a:r},0)}function iK(e,t,r){let n=0,a=0;return e.forEach(i=>{const o=i.volumesByChannel;if(o){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,d=i.coef_oem||1.4,f=l/c/u,h=i.unitCost*d,p=Math.round((o.B2C[t]||0)*(1+r.volumeAdjustment));n+=p*l*(1+r.priceAdjustment),a+=p*i.unitCost;const y=Math.round((o.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),a+=y*i.unitCost;const m=Math.round((o.OEM[t]||0)*(1+r.volumeAdjustment));n+=m*h*(1+r.priceAdjustment),a+=m*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function sK(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function oK(e,t,r,n,a,i,o="detailed",l){if(o==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=a*(u.volumeRatio||0);break;case"step":const p=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();p&&(d=p.newAnnualCost);break}d=d*(1+i.opexAdjustment),c+=d}),c}function lK(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function cK(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,o=a.launchYear,l=o+i;if(t>=o&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function uK(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),o=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+o+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function dK(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function fK(e,t,r,n,a,i,o,l,c="detailed",u){const d=[];let f=a,h=a,p=a,y=0,m=null,v=0,g=0,x=0;const b=dK(e);for(let C=0;C<o;C++){const N=i+C,P=f,{revenue:k,cogs:A}=iK(e,N,l),{payroll:R,headcount:O}=sK(t,N),E=uK(e,N,l),$=oK(r,N,i,k,E,l,c,u),I=lK(e,N),{total:M,byProduct:D}=cK(e,N);g+=I,x+=M;const L=k-A,B=k>0?L/k:0,Q=L-R-$,X=k>0?Q/k:0,re=Q-M,z=A+R+$+I,U=k-z,V=n.filter(ce=>ce.year===N),H=V.reduce((ce,le)=>ce+le.amount,0);v+=H;const he=U/4,J={Q1:0,Q2:0,Q3:0,Q4:0};let te=P,W=P;["Q1","Q2","Q3","Q4"].forEach(ce=>{const je=V.filter(Be=>Be.quarter===ce).reduce((Be,Je)=>Be+Je.amount,0);W+=he+je,J[ce]=W,W<te&&(te=W)});const pe=P+U+H;f=pe,te<h&&(h=te);const K=a+d.reduce((ce,le)=>ce+le.cashFlow,0)+U;K<p&&(p=K),U<0&&Math.abs(U)>y&&(y=Math.abs(U)),m===null&&U>0&&(m=N),d.push({year:N,revenue:k,fundingInjection:H,cogs:A,payroll:R,opex:$,capex:I,grossMargin:L,grossMarginRate:B,ebitda:Q,ebitdaMargin:X,depreciation:M,depreciationByProduct:D,operatingResult:re,totalCosts:z,cashFlow:U,treasuryStart:P,treasuryEnd:pe,quarterlyTreasury:J,minTreasuryInYear:te,headcount:O})}const _=Math.max(0,-p),w=y/12,S=w>0?Math.floor(a/w):999;return{years:d,initialCash:a,totalFundingRaised:v,fundingNeed:_,minTreasury:h,breakEvenYear:m,maxBurn:y,runway:S,productAmortizations:b,totalCapex:g,totalDepreciation:x}}const hK=["Q1","Q2","Q3","Q4"],rl=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function pK(){return[{delayMonths:0,percentage:100}]}function CE(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function mK(){return{revenueSeasonality:CE(),cogsSeasonality:CE(),cogsPaymentTerms:pK(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function NE(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function vK(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=xK(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<a&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,o=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<o;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((o-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(o<=i)return n;if(e.frequency==="monthly"){const l=o-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=d*c,v=u-m;d-=v,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,v),interest:m,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((o-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f*3,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=d*c,v=u-m;d-=v,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,v),interest:m,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((o-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,p=e.startDate.month;if(h<t||h>=a)continue;const y=d*c,m=u-y;d-=m,n.push({loanId:e.id,loanName:e.name,year:h,month:p,principal:Math.max(0,m),interest:y,total:u,isManuallyModified:!1})}}return n}function gK(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function yK(e,t,r,n,a,i,o=!1){var k,A;const l=[];let c=n,u=n,d=null,f=null,h=0,p=0,y=0,m=0;const v=NE(e.revenueSeasonality),g=NE(e.cogsSeasonality),x=e.cogsPaymentTerms&&e.cogsPaymentTerms.length>0?e.cogsPaymentTerms:[{delayMonths:0,percentage:100}],b=x.reduce((R,O)=>R+O.percentage,0),_=b>0?x.map(R=>({...R,percentage:R.percentage/b})):[{delayMonths:0,percentage:1}],w=[];e.loans.forEach(R=>{w.push(...vK(R,a,i))});const S=e.capexPayments||[],C=i*12,N=[];for(let R=0;R<i;R++){const O=a+R,$=(t.annualCogs[O]||0)/12;for(let I=0;I<12;I++)N.push($*g[I])}const P=new Array(C+24).fill(0);N.forEach((R,O)=>{_.forEach(E=>{const $=O+E.delayMonths;$<P.length&&(P[$]+=R*E.percentage)})});for(let R=0;R<i;R++){const O=a+R,E=t.annualRevenue[O]||0,$=t.annualPayroll[O]||0,I=t.annualOpex[O]||0,M=E/12,D=$/12,L=I/12;for(let B=0;B<12;B++){const Q=B,X=c,re=M*v[B];let z=0;if(!o){const F=gK(Q);B%3===0&&r.forEach(Z=>{Z.year===O&&Z.quarter===F&&(z+=Z.amount,h+=Z.amount)})}const U=`${O}-${Q.toString().padStart(2,"0")}`,V=((k=e.otherInflows[U])==null?void 0:k.amount)||0,H=re+z+V,he=R*12+B,J=P[he]||0;let te=0;const W=[];e.variableCharges.forEach(F=>{const q=re*F.rateOfRevenue;te+=q,W.push({name:F.name,amount:q})}),p+=te;const G=w.filter(F=>F.year===O&&F.month===Q),pe=G.reduce((F,q)=>F+q.total,0);y+=pe;const K=S.filter(F=>F.year===O&&F.month===Q),ce=K.reduce((F,q)=>F+q.amount,0);m+=ce;const le=((A=e.otherOutflows[U])==null?void 0:A.amount)||0,je=J+D+L+te+pe+ce+le,Be=H-je,Je=X+Be;Je<u&&(u=Je,d={year:O,month:Q}),f===null&&Be>0&&l.length>0&&l.slice(-3).some(q=>q.netCashFlow<0)&&(f={year:O,month:Q}),l.push({year:O,month:Q,monthName:rl[B],revenue:re,fundingInjection:z,otherInflows:V,totalInflows:H,cogs:J,payroll:D,opex:L,variableCharges:te,loanPayments:pe,capexPayments:ce,otherOutflows:le,totalOutflows:je,treasuryStart:X,netCashFlow:Be,treasuryEnd:Je,loanPaymentDetails:G,variableChargeDetails:W,capexPaymentDetails:K}),c=Je}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:p,totalLoanPayments:y,totalCapexPayments:m}}function xK(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function yd(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const jt=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jt.displayName="Card";const qt=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));qt.displayName="CardHeader";const Kt=j.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));Kt.displayName="CardTitle";const kl=j.forwardRef(({className:e,...t},r)=>{});kl.displayName="CardDescription";const Pt=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));Pt.displayName="CardContent";const bK=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));bK.displayName="CardFooter";function ct({label:e,value:t,subValue:r,trend:n,className:a}){return s.jsx(jt,{className:ne("",a),children:s.jsxs(Pt,{className:"pt-4 pb-3",children:[s.jsx("div",{className:"kpi-label mb-1",children:e}),s.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&s.jsx(Vl,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&s.jsx(jS,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function Fe({title:e,children:t,id:r,className:n,action:a}){return s.jsxs(jt,{className:ne("",n),id:r,children:[s.jsxs(qt,{className:"pb-3 flex flex-row items-center justify-between",children:[s.jsx(Kt,{className:"text-lg",children:e}),a]}),s.jsx(Pt,{children:t})]})}const _e=j.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));_e.displayName="Input";function bh(e,[t,r]){return Math.min(r,Math.max(t,e))}var wK=j.createContext(void 0);function xd(e){const t=j.useContext(wK);return e||t||"ltr"}function qy(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yD=["PageUp","PageDown"],xD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bd="Slider",[ij,jK,_K]=ky(bd),[wD,TOe]=Nn(bd,[_K]),[SK,Ky]=wD(bd),jD=j.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,v=j.useRef(new Set),g=j.useRef(0),b=o==="horizontal"?CK:NK,[_=[],w]=Bn({prop:d,defaultProp:u,onChange:A=>{var O;(O=[...v.current][g.current])==null||O.focus(),f(A)}}),S=j.useRef(_);function C(A){const R=OK(_,A);k(A,R)}function N(A){k(A,g.current)}function P(){const A=S.current[g.current];_[g.current]!==A&&h(_)}function k(A,R,{commit:O}={commit:!1}){const E=$K(i),$=IK(Math.round((A-n)/i)*i+n,E),I=bh($,[n,a]);w((M=[])=>{const D=kK(M,I,R);if(MK(D,c*i)){g.current=D.indexOf(I);const L=String(D)!==String(M);return L&&O&&h(D),L?D:M}else return M})}return s.jsx(SK,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:g,thumbs:v.current,values:_,orientation:o,form:y,children:s.jsx(ij.Provider,{scope:e.__scopeSlider,children:s.jsx(ij.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:Ne(m.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&k(n,0,{commit:!0}),onEndKeyDown:()=>!l&&k(a,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const $=yD.includes(A.key)||A.shiftKey&&xD.includes(A.key)?10:1,I=g.current,M=_[I],D=i*$*R;k(M+D,I,{commit:!0})}}})})})})});jD.displayName=bd;var[_D,SD]=wD(bd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),CK=j.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=j.useState(null),p=Qe(t,b=>h(b)),y=j.useRef(void 0),m=xd(a),v=m==="ltr",g=v&&!i||!v&&i;function x(b){const _=y.current||f.getBoundingClientRect(),w=[0,_.width],C=zS(w,g?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return s.jsx(_D,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:s.jsx(CD,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const w=bD[g?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:w?-1:1})}})})}),NK=j.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=j.useRef(null),f=Qe(t,d),h=j.useRef(void 0),p=!a;function y(m){const v=h.current||d.current.getBoundingClientRect(),g=[0,v.height],b=zS(g,p?[n,r]:[r,n]);return h.current=v,b(m-v.top)}return s.jsx(_D,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(CD,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=y(m.clientY);i==null||i(v)},onSlideMove:m=>{const v=y(m.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const g=bD[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:g?-1:1})}})})}),CD=j.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Ky(bd,r);return s.jsx($e.span,{...u,ref:t,onKeyDown:Ne(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):yD.concat(xD).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ne(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Ne(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Ne(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),ND="SliderTrack",PD=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Ky(ND,r);return s.jsx($e.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});PD.displayName=ND;var sj="SliderRange",ED=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Ky(sj,r),i=SD(sj,r),o=j.useRef(null),l=Qe(t,o),c=a.values.length,u=a.values.map(h=>OD(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx($e.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});ED.displayName=sj;var oj="SliderThumb",kD=j.forwardRef((e,t)=>{const r=jK(e.__scopeSlider),[n,a]=j.useState(null),i=Qe(t,l=>a(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(PK,{...e,ref:i,index:o})}),PK=j.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=Ky(oj,r),l=SD(oj,r),[c,u]=j.useState(null),d=Qe(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=Iy(c),p=o.values[n],y=p===void 0?0:OD(p,o.min,o.max),m=AK(n,o.values.length),v=h==null?void 0:h[l.size],g=v?TK(v,y,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${g}px)`},children:[s.jsx(ij.ItemSlot,{scope:e.__scopeSlider,children:s.jsx($e.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:Ne(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(AD,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});kD.displayName=oj;var EK="RadioBubbleInput",AD=j.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=j.useRef(null),i=Qe(a,n),o=qy(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx($e.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});AD.displayName=EK;function kK(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function OD(e,t,r){const i=100/(r-t)*(e-t);return bh(i,[0,100])}function AK(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function OK(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function TK(e,t,r){const n=e/2,i=zS([0,50],[0,n]);return(n-i(t)*r)*r}function RK(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function MK(e,t){if(t>0){const r=RK(e);return Math.min(...r)>=t}return!0}function zS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $K(e){return(String(e).split(".")[1]||"").length}function IK(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var TD=jD,DK=PD,LK=ED,FK=kD;const Xr=j.forwardRef(({className:e,...t},r)=>s.jsxs(TD,{ref:r,className:ne("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(DK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(LK,{className:"absolute h-full bg-primary"})}),s.jsx(FK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Xr.displayName=TD.displayName;const US=ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?A$:"button";return s.jsx(o,{className:ne(US({variant:t,size:r,className:e})),ref:i,...a})});ae.displayName="Button";function ee(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function Ir(e){return`${(e*100).toFixed(1)}%`}const zv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function wh(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function lj(e,t){const r=e.marginRates||zv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function BK(e,t){return wh(e,t)-lj(e,t)}const q0=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function zK({config:e,onChange:t,years:r}){const n=e.marginRates||zv.marginRates,a=e.growthRates||zv.growthRates,i=(p,y,m)=>{t({...e,[p]:{...e[p],[y]:m}})},o=(p,y)=>{t({...e,marginRates:{...n,[p]:y}})},l=(p,y)=>{t({...e,growthRates:{...a,[p]:y}})},c=p=>{const y=r[0],m=e[p][y]||0;if(m<=0)return;const v=a[p],g={...e[p]};r.forEach((x,b)=>{b!==0&&(g[x]=Math.round(m*Math.pow(1+v,b)))}),t({...e,[p]:g})},u=()=>{let p={...e};q0.forEach(({key:y})=>{const m=e[y][r[0]]||0;if(m<=0)return;const v=a[y],g={...e[y]};r.forEach((x,b)=>{b!==0&&(g[x]=Math.round(m*Math.pow(1+v,b)))}),p={...p,[y]:g}}),t(p)},d=r.reduce((p,y)=>p+wh(e,y),0),f=r.reduce((p,y)=>p+lj(e,y),0),h=d>0?f/d:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Fe,{title:"Paramtres par Canal",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:q0.map(p=>s.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[s.jsx("div",{className:"font-medium text-sm",children:p.label}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de croissance"}),s.jsxs("span",{className:"font-mono",children:[(a[p.key]*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[a[p.key]*100],onValueChange:([y])=>l(p.key,y/100),min:0,max:100,step:1})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Taux de marge"}),s.jsxs("span",{className:"font-mono",children:[(n[p.key]*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[n[p.key]*100],onValueChange:([y])=>o(p.key,y/100),min:0,max:100,step:1})]}),s.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(p.key),children:[s.jsx(XP,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},p.key))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(ae,{variant:"default",size:"sm",onClick:u,children:[s.jsx(XP,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),s.jsx(Fe,{title:"CA Global par Canal",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(p=>s.jsx("th",{className:"text-center py-2 px-3",children:p},p)),s.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),s.jsxs("tbody",{children:[q0.map(p=>s.jsxs("tr",{className:"border-b",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:[p.label,s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[p.key]*100).toFixed(0),"%)"]})]}),r.map(y=>s.jsx("td",{className:"py-2 px-3 text-center",children:s.jsx(_e,{type:"number",value:e[p.key][y]||0,onChange:m=>i(p.key,y,Number(m.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(r.reduce((y,m)=>y+(e[p.key][m]||0),0),!0)})]},p.key)),s.jsxs("tr",{className:"font-semibold border-t",children:[s.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(p=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(wh(e,p),!0)},p)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(d,!0)})]}),s.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[s.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",s.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(p=>s.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(lj(e,p),!0)},p)),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(f,!0)})]})]})]})})})]})}var UK="Label",RD=j.forwardRef((e,t)=>s.jsx($e.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RD.displayName=UK;var MD=RD;const VK=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=j.forwardRef(({className:e,...t},r)=>s.jsx(MD,{ref:r,className:ne(VK(),e),...t}));we.displayName=MD.displayName;const WK={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function HK({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*e.ocRatio,a=e.totalRaise*(1-e.ocRatio),i=r+a,o=i>0?a/i:0;return s.jsx(Fe,{title:"Simulation de Dilution",id:"valuation-dilution",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(we,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%  Equity: ",((1-e.ocRatio)*100).toFixed(0),"%"]}),s.jsx(Xr,{value:[e.ocRatio*100],onValueChange:([l])=>t({...e,ocRatio:l/100}),min:0,max:99,step:1})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(r,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part OC"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(n,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(e.ocRatio*100).toFixed(0),"% de la leve"]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Part Equity"}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(a,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[((1-e.ocRatio)*100).toFixed(0),"% de la leve"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(i,!0)})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution (equity uniquement)"}),s.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:Ir(o)})]})]})]})})}var pi=function(){return pi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pi.apply(this,arguments)};function wd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function qK(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function KK(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const GK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class VS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class YK extends VS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PE extends VS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class EE extends VS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cj||(cj={}));class XK{constructor(t,{headers:r={},customFetch:n,region:a=cj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=GK(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qK(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(w=>{throw new YK(w)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new PE(g);if(!g.ok)throw new EE(g);let b=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield g.json():b==="application/octet-stream"||b==="application/pdf"?_=yield g.blob():b==="text/event-stream"?_=g:b==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof EE||l instanceof PE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var QK=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},JK=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new QK(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},ZK=class extends JK{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const kE=new RegExp("[,()]");var hc=class extends ZK{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&kE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&kE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},eG=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new hc({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new hc({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new hc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new hc({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new hc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},tG=class $D{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $D(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new hc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class rG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nG="2.93.3",aG=`realtime-js/${nG}`,iG="1.0.0",ID="2.0.0",AE=ID,uj=1e4,sG=1e3,oG=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var Wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wa||(Wa={}));var dj;(function(e){e.websocket="websocket"})(dj||(dj={}));var Xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xo||(Xo={}));class lG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(m++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(m++,g.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class DD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const OE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=cG(o,e,t,a),i),{}):{}},cG=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?LD(i,o):fj(o)},LD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hG(t,r)}switch(e){case Rt.bool:return uG(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return dG(t);case Rt.json:case Rt.jsonb:return fG(t);case Rt.timestamp:return pG(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return fj(t);default:return fj(t)}},fj=e=>e,uG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hG=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>LD(t,l))}return e},pG=e=>typeof e=="string"?e.replace(" ","T"):e,FD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class K0{constructor(t,r,n={},a=uj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var TE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(TE||(TE={}));class Mf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Mf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var RE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(RE||(RE={}));var $f;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($f||($f={}));var Wi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class Rc{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new K0(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new DD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Mf(this),this.broadcastEndpointURL=FD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[$f.PRESENCE]&&this.bindings[$f.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Wi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,g=[];for(let x=0;x<v;x++){const b=m[x],{filter:{event:_,schema:w,table:S,filter:C}}=b,N=p&&p[x];if(N&&N.event===_&&Rc.isFilterValueEqual(N.schema,w)&&Rc.isFilterValueEqual(N.table,S)&&Rc.isFilterValueEqual(N.filter,C))g.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Or.errored,t==null||t(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Wi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Or.errored,t==null||t(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Or.joined&&t===$f.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new K0(this,Wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new K0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>oG){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,m,v,g,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:v,commit_timestamp:g,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:g,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Rc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wa.close,{},t)}_onError(t){this._on(Wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=OE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=OE(t.columns,t.old_record)),r}}const G0=()=>{},cm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mG=[1e3,2e3,5e3,1e4],vG=1e4,gG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yG{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uj,this.transport=null,this.heartbeatIntervalMs=cm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=G0,this.ref=0,this.reconnectTimer=null,this.vsn=AE,this.logger=G0,this.conn=null,this.sendBuffer=[],this.serializer=new lG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dj.websocket}`,this.httpEndpoint=FD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Xo.Connecting;case Ms.open:return Xo.Open;case Ms.closing:return Xo.Closing;default:return Xo.Closed}}isConnected(){return this.connectionState()===Xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Rc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sG,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([gG],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:aG};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:uj,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:cm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:G0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:AE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>mG[y-1]||vG,this.vsn){case iG:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case ID:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var jh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xG(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function bG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=xG(e.baseUrl,n,a),c=await bG(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new jh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function um(e){return e.join("")}var jG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:um(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${um(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${um(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${um(e.namespace)}`}),!0}catch(t){if(t instanceof jh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof jh&&r.status===409)return;throw r}}};function Xl(e){return e.join("")}var _G=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof jh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof jh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},SG=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wG({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new jG(this.client,t),this.tableOps=new _G(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Gy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Yy(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var dm=class extends Gy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},BD=class extends Gy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const CG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hj=e=>{if(Array.isArray(e))return e.map(r=>hj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=hj(n)}),t},PG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function EG(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kG(e){var t=EG(e,"string");return _h(t)=="symbol"?t:t+""}function AG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $E=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},OG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new dm($E(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new dm(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new dm(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new dm(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new BD($E(e),e,n))},TG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ke(Ke({},a),r):(NG(n)?(a.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ke(Ke({},a),r))};async function Jd(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,TG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>OG(u,c,n,o))})}function zD(e="storage"){return{get:async(t,r,n,a)=>Jd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>Jd(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>Jd(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>Jd(t,"HEAD",r,Ke(Ke({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>Jd(t,"DELETE",r,a,i,n,e)}}const RG=zD("storage"),{get:Sh,post:Fa,put:pj,head:MG,remove:WS}=RG,Qn=zD("vectors");var jd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=CG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yy(r))return{data:null,error:r};throw r}}},$G=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yy(t))return{data:null,error:t};throw t}}};let UD;UD=Symbol.toStringTag;var IG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[UD]="BlobDownloadBuilder",this.promise=null}asStream(){return new $G(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yy(t))return{data:null,error:t};throw t}}};const DG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var LG=class extends jd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=Ke(Ke({},IE),n);let l=Ke(Ke({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ke(Ke({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?pj:Fa)(a.fetch,`${a.url}/object/${d}`,i,Ke({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=Ke({upsert:IE.upsert},n),d=Ke(Ke({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await pj(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Ke({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Fa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Gy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Fa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Fa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Fa(n.fetch,`${n.url}/object/sign/${a}`,Ke({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Fa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>Ke(Ke({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Sh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new IG(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>hj(await Sh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await MG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yy(n)&&n instanceof BD){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await WS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Ke(Ke(Ke({},DG),t),{},{prefix:e||""});return await Fa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ke({},e);return await Fa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const FG="2.93.3",_p={"X-Client-Info":`storage-js/${FG}`};var BG=class extends jd{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=Ke(Ke({},_p),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Sh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Sh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Fa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await pj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await WS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},zG=class extends jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ke(Ke({},_p),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Sh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await WS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!PG(e))throw new Gy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new SG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},UG=class extends jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ke(Ke({},_p),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},VG=class extends jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ke(Ke({},_p),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},WG=class extends jd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ke(Ke({},_p),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},HG=class extends WG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},qG=class extends UG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new KG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},KG=class extends VG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},GG=class extends BG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new LG(this.url,this.headers,e,this.fetch)}get vectors(){return new HG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zG(this.url+"/iceberg",this.headers,this.fetch)}};const VD="2.93.3",pc=30*1e3,mj=3,Y0=mj*pc,YG="http://localhost:9999",XG="supabase.auth.token",QG={"X-Client-Info":`gotrue-js/${VD}`},vj="X-Supabase-Api-Version",WD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZG=10*60*1e3;class Ch extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eY extends Ch{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tY(e){return De(e)&&e.name==="AuthApiError"}class Qo extends Ch{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gs extends Ch{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Wn extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X0(e){return De(e)&&e.name==="AuthSessionMissingError"}class Ql extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fm extends gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hm extends gs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rY(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class DE extends gs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nY extends gs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gj extends gs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Q0(e){return De(e)&&e.name==="AuthRetryableFetchError"}class LE extends gs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yj extends gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FE=` 	
\r=`.split(""),aY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FE.length;t+=1)e[FE[t].charCodeAt(0)]=-2;for(let t=0;t<Uv.length;t+=1)e[Uv[t].charCodeAt(0)]=t;return e})();function BE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uv[n]),t.queuedBits-=6}}function HD(e,t,r){const n=aY[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{oY(o,n,r)};for(let o=0;o<e.length;o+=1)HD(e.charCodeAt(o),a,i);return t.join("")}function iY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sY(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}iY(n,t)}}function oY(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Gc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)HD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function lY(e){const t=[];return sY(e,r=>t.push(r)),new Uint8Array(t)}function nl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>BE(a,r,n)),BE(null,r,n),t.join("")}function cY(e){return Math.round(Date.now()/1e3)+e}function uY(){return Symbol("auth-callback")}const qr=()=>typeof window<"u"&&typeof document<"u",Do={tested:!1,writable:!1},qD=()=>{if(!qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Do.tested)return Do.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Do.tested=!0,Do.writable=!0}catch{Do.tested=!0,Do.writable=!1}return Do.writable};function dY(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const KD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hr=async(e,t)=>{await e.removeItem(t)};class Xy{constructor(){this.promise=new Xy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xy.promiseConstructor=Promise;function pm(e){const t=e.split(".");if(t.length!==3)throw new yj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!JG.test(t[n]))throw new yj("JWT not in base64url format");return{header:JSON.parse(zE(t[0])),payload:JSON.parse(zE(t[1])),signature:Gc(t[2]),raw:{header:t[0],payload:t[1]}}}async function hY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pY(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function mY(e){return("0"+e.toString(16)).substr(-2)}function vY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,mY).join("")}async function gY(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function yY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gY(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jl(e,t,r=!1){const n=vY();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await mc(e,`${t}-code-verifier`,a);const i=await yY(n);return[i,n===i?"plain":"s256"]}const xY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bY(e){const t=e.headers.get(vj);if(!t||!t.match(xY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _Y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zl(e){if(!_Y.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function J0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SY(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function UE(e){return JSON.parse(JSON.stringify(e))}const Ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CY=[502,503,504];async function VE(e){var t;if(!fY(e))throw new gj(Ho(e),0);if(CY.includes(e.status))throw new gj(Ho(e),e.status);let r;try{r=await e.json()}catch(i){throw new Qo(Ho(i),i)}let n;const a=bY(e);if(a&&a.getTime()>=WD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new LE(Ho(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LE(Ho(r),e.status,r.weak_password.reasons);throw new eY(Ho(r),e.status||500,n)}const NY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vj]||(i[vj]=WD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await PY(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function PY(e,t,r,n,a,i){const o=NY(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new gj(Ho(c),0)}if(l.ok||await VE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await VE(c)}}function $a(e){var t;let r=null;AY(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cY(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function WE(e){const t=$a(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EY(e){return{data:e,error:null}}function kY(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=wd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HE(e){return e}function AY(e){return e.access_token&&e.refresh_token&&e.expires_in}const Z0=["global","local","others"];class OY{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Z0[0]){if(Z0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Z0.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fs})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wd(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kY,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zl(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zl(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fs})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zl(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fs})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zl(t.userId);try{const{data:r,error:n}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zl(t.userId),Zl(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function qE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ec={debug:!!(globalThis&&qD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TY extends GD{}async function RY(e,t,r){ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ec.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ec.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function MY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $Y(e){return parseInt(e,16)}function IY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function DY(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=YD(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(g+=`
Expiration Time: ${a.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}g+=x}return`${v}
${g}`}class _r extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Vv extends _r{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function LY({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(XD(o)){if(i.rp.id!==o)return new _r({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function FY({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _r({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XD(n)){if(r.rpId!==n)return new _r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zY=new BY;function UY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=wd(e,["challenge","user","excludeCredentials"]),i=Gc(t).buffer,o=Object.assign(Object.assign({},r),{id:Gc(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Gc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function VY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wd(e,["challenge","allowCredentials"]),a=Gc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Gc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function WY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:nl(new Uint8Array(e.response.attestationObject)),clientDataJSON:nl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nl(new Uint8Array(a.authenticatorData)),clientDataJSON:nl(new Uint8Array(a.clientDataJSON)),signature:nl(new Uint8Array(a.signature)),userHandle:a.userHandle?nl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function KE(){var e,t;return!!(qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vv("Browser returned unexpected credential type",t)}:{data:null,error:new Vv("Empty credential response",t)}}catch(t){return{data:null,error:LY({error:t,options:e})}}}async function KY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vv("Browser returned unexpected credential type",t)}:{data:null,error:new Vv("Empty credential response",t)}}catch(t){return{data:null,error:FY({error:t,options:e})}}}const GY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Wv(l,o):n[i]=Wv(o)}else n[i]=o}return n}function XY(e,t){return Wv(GY,e,t||{})}function QY(e,t){return Wv(YY,e,t||{})}class JY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??zY.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,y=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=XY(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await qY({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=QY(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await KY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new Qo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Ch("rpId is required for WebAuthn authentication")};try{if(!KE())return{data:null,error:new Qo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Qo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Ch("rpId is required for WebAuthn registration")};try{if(!KE())return{data:null,error:new Qo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Qo("Unexpected error in register",o)}}}}MY();const ZY={url:YG,storageKey:XG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GE(e,t,r){return await r()}const tc={};class Nh{get jwks(){var t,r;return(r=(t=tc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){tc[this.storageKey]=Object.assign(Object.assign({},tc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=tc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tc[this.storageKey]=Object.assign(Object.assign({},tc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ZY),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Nh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&qr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new OY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=KD(i.fetch),this.lock=i.lock||GE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&qr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RY:this.lock=GE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:qD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qE(this.memoryStorage)),qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${VD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(qr()&&(r=dY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),qr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rY(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new Qo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$a}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Jl(this.storage,this.storageKey)),i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:$a})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$a})}else throw new fm("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:WE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:WE})}else throw new fm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ql;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:v,statement:g,options:x}=t;let b;if(qr())if(typeof v=="object")b=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=YD(w[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const P=await b.request({method:"eth_chainId"});C=$Y(P)}const N={domain:_.host,address:S,statement:g,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=DY(N),y=await b.request({method:"personal_sign",params:[IY(p),S]})}try{const{data:m,error:v}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$a});if(v)throw v;if(!m||!m.session||!m.user){const g=new Ql;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(De(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let _;if(qr())if(typeof g=="object")_=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:v,error:g}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:nl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$a});if(g)throw g;if(!v||!v.session||!v.user){const x=new Ql;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(De(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Lo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new nY;const{data:i,error:o}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$a});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ql;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$a}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ql;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jl(this.storage,this.storageKey));const{error:f}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new fm("You must provide either an email or phone number.")}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$a});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Jl(this.storage,this.storageKey));const u=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:EY});return!((i=u.data)===null||i===void 0)&&i.url&&qr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wn;const{error:a}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new fm("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Y0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Lo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=J0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=SY(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wn}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(r){if(De(r))return X0(r)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Wn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Jl(this.storage,this.storageKey));const{data:u,error:d}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Fs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=pm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!qr())throw new hm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new DE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new hm("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=pc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!X0(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(tY(l)&&(l.status===404||l.status===401||l.status===403)||X0(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=uY(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Jl(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(De(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$a}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ql}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pY(async a=>(a>0&&await hY(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$a})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Q0(i)&&Date.now()+o-n<pc})}catch(n){if(this._debug(r,"error",n),De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Lo(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Lo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await mc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:J0()}else if(a&&!a.user&&!a.user){const o=await Lo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Hr(this.storage,this.storageKey+"-user"),await mc(this.storage,this.storageKey,a)):a.user=J0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Y0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Y0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Q0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xy;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Wn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),De(i)){const o={data:null,error:i};return Q0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=UE(a);await mc(this.storage,this.storageKey,i)}else{const a=UE(r);await mc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/pc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pc}ms, refresh threshold is ${mj} ticks`),a<=mj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof GD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?WY(t.webauthn.credential_response):HY(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:UY(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:VY(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:p}=pm(t);let y=null;p.aal&&(y=p.aal);let m=y;const{data:{user:v},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const b=p.amr||[];return{data:{currentLevel:y,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if(De(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pm(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const o=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const o=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(t){if(De(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+ZG>a)return n;const{data:i,error:o}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=pm(n);r!=null&&r.allowExpired||wY(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=jY(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,lY(`${l}.${c}`)))throw new yj("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}}Nh.nextInstanceID={};const eX=Nh,tX="2.93.3";let bf="";typeof Deno<"u"?bf="deno":typeof document<"u"?bf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bf="react-native":bf="node";const rX={"X-Client-Info":`supabase-js-${bf}/${tX}`},nX={headers:rX},aX={schema:"public"},iX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sX={};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function oX(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lX(e){var t=oX(e,"string");return Ph(t)=="symbol"?t:t+""}function cX(e,t,r){return(t=lX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const uX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dX=()=>Headers,fX=(e,t,r)=>{const n=uX(r),a=dX();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ir(ir({},o),{},{headers:u}))}};function hX(e){return e.endsWith("/")?e:e+"/"}function pX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:ir(ir({},c),a),auth:ir(ir({},u),i),realtime:ir(ir({},d),o),storage:{},global:ir(ir(ir({},f),l),{},{headers:ir(ir({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function mX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vX=class extends eX{constructor(e){super(e)}},gX=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=mX(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:aX,realtime:sX,auth:ir(ir({},iX),{},{storageKey:o}),global:nX},c=pX(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=fX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ir({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new tG(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new GG(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new XK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vX({url:this.authUrl.href,headers:ir(ir({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yG(this.realtimeUrl.href,ir(ir({},e),{},{params:ir(ir({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yX=(e,t,r)=>new gX(e,t,r);function xX(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}xX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bX="https://twkcoxagbajvopzzinor.supabase.co",wX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",ye=yX(bX,wX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),QD=j.createContext(void 0);function jX({children:e}){const[t,r]=j.useState(null),[n,a]=j.useState(!0),[i,o]=j.useState("lecteur"),[l,c]=j.useState({});j.useEffect(()=>{const{data:{subscription:v}}=ye.auth.onAuthStateChange((g,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return ye.auth.getSession().then(({data:{session:g}})=>{r((g==null?void 0:g.user)??null),a(!1),g!=null&&g.user&&(u(g.user.id),d())}),()=>v.unsubscribe()},[]);const u=async v=>{try{const{data:g}=await ye.from("user_roles").select("role").eq("user_id",v).single();g&&o(g.role)}catch{o("lecteur")}},d=async()=>{try{const{data:v}=await ye.from("tab_permissions").select("*");if(v){const g={};v.forEach(x=>{g[x.role]||(g[x.role]={}),g[x.role][x.tab_key]=x.permission}),c(g)}}catch{}},f=async(v,g)=>{const{error:x}=await ye.auth.signInWithPassword({email:v,password:g});return{error:x}},h=async(v,g,x)=>{const{error:b}=await ye.auth.signUp({email:v,password:g,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},p=async()=>{await ye.auth.signOut(),r(null)},y=i==="admin",m=v=>{if(y)return"write";const g=l[i];return g&&g[v]||"write"};return s.jsx(QD.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:f,signUp:h,signOut:p,getTabPermission:m},children:e})}function Ca(){const e=j.useContext(QD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const HS={selectedMethods:["revenue_multiple","ebitda_multiple"],valuationBasis:"projected",historicalYear:2024,projectedYear:2028,mixWeight:.5,averageYears:[],valuationParams:{revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}},dilutionConfig:{...WK},exitScenarios:{conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}},xj="novaride_financial_state_v5";function _X(){try{const e=localStorage.getItem(xj);if(e){const t=JSON.parse(e);return t.valuationConfig||(t.valuationConfig={...HS}),t.monthlyTreasuryConfig&&!t.monthlyTreasuryConfig.cogsPaymentTerms&&(t.monthlyTreasuryConfig.cogsPaymentTerms=[{delayMonths:0,percentage:100}]),t}}catch{}return SX()}function SX(){return{products:eK,roles:tK,expenses:rK,fundingRounds:nK,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:zv,opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:mK(),valuationConfig:{...HS}}}const JD=j.createContext(void 0);function CX({children:e}){const{user:t}=Ca(),[r,n]=j.useState(_X),[a,i]=j.useState(!1);j.useRef(null),j.useEffect(()=>{!t||a||(async()=>{try{const{data:O}=await ye.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(O!=null&&O.state_data){const E=O.state_data;E.valuationConfig||(E.valuationConfig={...HS}),n({...E,hasUnsavedChanges:!1}),localStorage.setItem(xj,JSON.stringify(E))}}catch(O){console.warn("Failed to load from cloud:",O)}finally{i(!0)}})()},[t,a]),j.useCallback(()=>{n(O=>({...O,hasUnsavedChanges:!0}))},[]);const o=j.useCallback(O=>{n(E=>({...E,products:O,hasUnsavedChanges:!0}))},[]),l=j.useCallback(O=>{n(E=>({...E,products:[...E.products,O],hasUnsavedChanges:!0}))},[]),c=j.useCallback(O=>{n(E=>({...E,products:E.products.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),u=j.useCallback(O=>{n(E=>({...E,roles:O,hasUnsavedChanges:!0}))},[]),d=j.useCallback(O=>{n(E=>({...E,roles:[...E.roles,O],hasUnsavedChanges:!0}))},[]),f=j.useCallback(O=>{n(E=>({...E,roles:E.roles.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),h=j.useCallback(O=>{n(E=>({...E,expenses:O,hasUnsavedChanges:!0}))},[]),p=j.useCallback(O=>{n(E=>({...E,expenses:[...E.expenses,O],hasUnsavedChanges:!0}))},[]),y=j.useCallback(O=>{n(E=>({...E,expenses:E.expenses.filter($=>$.id!==O),hasUnsavedChanges:!0}))},[]),m=j.useCallback(O=>{n(E=>({...E,fundingRounds:O,hasUnsavedChanges:!0}))},[]),v=j.useCallback(O=>{n(E=>({...E,scenarioSettings:{...E.scenarioSettings,...O},hasUnsavedChanges:!0}))},[]),g=j.useCallback(O=>{n(E=>({...E,activeScenarioId:O}))},[]),x=j.useCallback((O,E)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[O]:{...$.scenarioConfigs[O],...E}},hasUnsavedChanges:!0}))},[]),b=j.useCallback(O=>{n(E=>({...E,revenueMode:O,hasUnsavedChanges:!0}))},[]),_=j.useCallback(O=>{n(E=>({...E,globalRevenueConfig:O,hasUnsavedChanges:!0}))},[]),w=j.useCallback(O=>{n(E=>({...E,opexMode:O,hasUnsavedChanges:!0}))},[]),S=j.useCallback(O=>{n(E=>({...E,simpleOpexConfig:{...E.simpleOpexConfig,...O},hasUnsavedChanges:!0}))},[]),C=j.useCallback(O=>{n(E=>({...E,excludeFundingFromTreasury:O,hasUnsavedChanges:!0}))},[]),N=j.useCallback(O=>{n(E=>({...E,historicalData:O,hasUnsavedChanges:!0}))},[]),P=j.useCallback(O=>{n(E=>({...E,monthlyTreasuryConfig:O,hasUnsavedChanges:!0}))},[]),k=j.useCallback(O=>{n(E=>({...E,valuationConfig:{...E.valuationConfig,...O},hasUnsavedChanges:!0}))},[]),A=j.useCallback(async()=>{try{const O={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(xj,JSON.stringify(O)),n(O),t){const{hasUnsavedChanges:E,...$}=O;await ye.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}Yr({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{Yr({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),R=j.useMemo(()=>{const{products:O,roles:E,expenses:$,fundingRounds:I,scenarioSettings:M,scenarioConfigs:D,activeScenarioId:L,opexMode:B,simpleOpexConfig:Q,excludeFundingFromTreasury:X,monthlyTreasuryConfig:re}=r,{startYear:z,durationYears:U,initialCash:V}=M,H=D[L],he=Array.from({length:U},(ie,fe)=>z+fe),J=O.reduce((ie,fe)=>ie+fe.devCost,0),te=he.map(ie=>{if(r.revenueMode==="by-channel-global"){const Ve=wh(r.globalRevenueConfig,ie),Ge=BK(r.globalRevenueConfig,ie);return{year:ie,revenue:Ve,cogs:Ge}}let fe=0,be=0;return O.forEach(Ve=>{const Ge=Math.round((Ve.volumesByYear[ie]||0)*(1+H.volumeAdjustment));fe+=Ge*Ve.priceHT*(1+H.priceAdjustment),be+=Ge*Ve.unitCost}),{year:ie,revenue:fe,cogs:be}}),W=he.map(ie=>{const fe=E.filter(be=>be.startYear<=ie);return{year:ie,payroll:fe.reduce((be,Ve)=>be+Ve.annualCostLoaded,0),headcount:fe.length}}),G=he.map((ie,fe)=>{let be=0;const Ve={};return B==="simple"?be=Q.baseAmount*Math.pow(1+Q.growthRate,fe):$.forEach(Ge=>{var Er,ue;if(Ge.startYear>ie)return;let Jt=Ge.baseAnnualCost;const Pn=ie-Ge.startYear;if(Ge.evolutionType==="growth_rate")Jt*=Math.pow(1+(Ge.growthRate||0),Pn);else if(Ge.evolutionType==="linked_to_revenue")Jt=(((Er=te[fe])==null?void 0:Er.revenue)||0)*(Ge.revenueRatio||0);else if(Ge.evolutionType==="step"){const ze=(ue=Ge.steps)==null?void 0:ue.filter(bt=>bt.year<=ie).pop();ze&&(Jt=ze.newAnnualCost)}Jt*=1+H.opexAdjustment,be+=Jt,Ve[Ge.category]=(Ve[Ge.category]||0)+Jt}),{year:ie,opex:be,byCategory:Ve}}),pe=he.map(ie=>({year:ie,capex:O.filter(fe=>fe.launchYear===ie).reduce((fe,be)=>fe+be.devCost,0),depreciation:aK(O,ie)})),K=z,ce=E.filter(ie=>ie.startYear<=K).length,le=E.filter(ie=>ie.startYear<=K).reduce((ie,fe)=>ie+fe.annualCostLoaded,0),je=I.map(ie=>({...ie,quarter:ie.quarter||"Q1"})),Be=fK(O,E,$,je,V,z,U,H,B,Q),Je={},F={},q={},Z={};te.forEach(ie=>{Je[ie.year]=ie.revenue,F[ie.year]=ie.cogs}),W.forEach(ie=>{q[ie.year]=ie.payroll}),G.forEach(ie=>{Z[ie.year]=ie.opex});const me=yK(re,{annualRevenue:Je,annualCogs:F,annualPayroll:q,annualOpex:Z},I,V,z,U,X);return{totalDevCost:J,revenueByYear:te,payrollByYear:W,opexByYear:G,capexByYear:pe,totalHeadcount:ce,currentPayroll:le,treasuryProjection:Be,monthlyTreasuryProjection:me}},[r]);return s.jsx(JD.Provider,{value:{state:r,computed:R,updateProducts:o,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:p,removeExpense:y,updateFundingRounds:m,updateScenarioSettings:v,setActiveScenario:g,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,setOpexMode:w,updateSimpleOpexConfig:S,setExcludeFundingFromTreasury:C,updateHistoricalData:N,updateMonthlyTreasuryConfig:P,updateValuationConfig:k,saveAll:A},children:e})}function Mi(){const e=j.useContext(JD);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function qS({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return s.jsx("div",{className:ne("flex items-center gap-2",r),children:s.jsxs("span",{className:ne("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",s.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const NX=[{items:[{to:"/",label:"Tableau de bord",icon:hW,tabKey:"costflow"}]},{label:"Prvisionnel",items:[{to:"/product",label:"Plan Produit",icon:Pl,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:xu,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:bW,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:sI,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:iW,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:aW,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:Vl,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:gu,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:xW,tabKey:"crm"},{to:"/pricing",label:"Pricing",icon:wS,tabKey:"pricing"},{to:"/costflow",label:"Production et BE",icon:cI,tabKey:"costflow"},{to:"/planning-dev",label:"Planning Dev",icon:Vw,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:gS,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:uI,tabKey:"snapshots"}]}];function nn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Ca(),a=jp(),[i,o]=j.useState(!1),l=async()=>{await t(),a("/auth")},c=NX.map(u=>({...u,items:u.items.filter(d=>n(d.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>o(!i),children:i?s.jsx(ki,{className:"h-5 w-5"}):s.jsx(yW,{className:"h-5 w-5"})}),s.jsxs("aside",{className:ne("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[s.jsx(qS,{variant:"compact",color:"light"}),s.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,d)=>s.jsxs("div",{className:ne(d>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&s.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(f=>{const h=f.icon;return s.jsxs(_E,{to:f.to,end:!0,onClick:()=>o(!1),className:({isActive:p})=>ne("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",p?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(h,{className:"h-4 w-4"}),f.label]},f.to)})]},d)),r&&s.jsxs(_E,{to:"/permissions",onClick:()=>o(!1),className:({isActive:u})=>ne("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[s.jsx(hI,{className:"h-4 w-4"}),"Administration"]})]}),s.jsx("div",{className:"p-4 border-t border-sidebar-border",children:s.jsxs(ae,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[s.jsx(vW,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>o(!1)}),s.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function an({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=Ca();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?s.jsx(Fv,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Fv,{to:"/auth",replace:!0})}function ys({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return s.jsx("div",{className:ne("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:s.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[s.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&s.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function _d({onSave:e,hasUnsavedChanges:t}){return s.jsxs(ae,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[s.jsx(xS,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Lt=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));Lt.displayName="Table";const Ft=j.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));Ft.displayName="TableHeader";const Bt=j.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));Bt.displayName="TableBody";const PX=j.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));PX.displayName="TableFooter";const Ce=j.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ne("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ce.displayName="TableRow";const oe=j.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));oe.displayName="TableHead";const Y=j.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const EX=j.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));EX.displayName="TableCaption";function kX({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return s.jsxs(Fe,{title:"Pricing Produits",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Produit"}),s.jsx(oe,{className:"text-right",children:"Prix TTC B2C"}),s.jsx(oe,{className:"text-right",children:"Prix HT"}),s.jsx(oe,{className:"text-right",children:"Cot Unitaire"}),s.jsx(oe,{className:"text-right",children:"Marge"}),s.jsx(oe,{className:"text-right",children:"Dev Cost"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:e.map(i=>s.jsxs(Ce,{children:[s.jsx(Y,{children:s.jsx(_e,{value:i.name,onChange:o=>t({...i,name:o.target.value}),className:"h-8 w-40"})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:s.jsx(_e,{type:"number",value:i.priceTTC_B2C,onChange:o=>{const l=Number(o.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.priceHT)}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.unitCost)}),s.jsxs(Y,{className:"text-right font-mono-numbers",children:[((1-i.unitCost/i.priceHT)*100).toFixed(0),"%"]}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.devCost,!0)}),s.jsx(Y,{children:s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:s.jsx(Nr,{className:"h-4 w-4"})})})]},i.id))})]})}),s.jsxs(ae,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var AX=Array.isArray,Un=AX,OX=typeof Bp=="object"&&Bp&&Bp.Object===Object&&Bp,ZD=OX,TX=ZD,RX=typeof self=="object"&&self&&self.Object===Object&&self,MX=TX||RX||Function("return this")(),$i=MX,$X=$i,IX=$X.Symbol,Sp=IX,XE=Sp,e3=Object.prototype,DX=e3.hasOwnProperty,LX=e3.toString,Zd=XE?XE.toStringTag:void 0;function FX(e){var t=DX.call(e,Zd),r=e[Zd];try{e[Zd]=void 0;var n=!0}catch{}var a=LX.call(e);return n&&(t?e[Zd]=r:delete e[Zd]),a}var BX=FX,zX=Object.prototype,UX=zX.toString;function VX(e){return UX.call(e)}var WX=VX,QE=Sp,HX=BX,qX=WX,KX="[object Null]",GX="[object Undefined]",JE=QE?QE.toStringTag:void 0;function YX(e){return e==null?e===void 0?GX:KX:JE&&JE in Object(e)?HX(e):qX(e)}var xs=YX;function XX(e){return e!=null&&typeof e=="object"}var bs=XX,QX=xs,JX=bs,ZX="[object Symbol]";function eQ(e){return typeof e=="symbol"||JX(e)&&QX(e)==ZX}var Sd=eQ,tQ=Un,rQ=Sd,nQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aQ=/^\w*$/;function iQ(e,t){if(tQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rQ(e)?!0:aQ.test(e)||!nQ.test(e)||t!=null&&e in Object(t)}var KS=iQ;function sQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Po=sQ;const Cd=_t(Po);var oQ=xs,lQ=Po,cQ="[object AsyncFunction]",uQ="[object Function]",dQ="[object GeneratorFunction]",fQ="[object Proxy]";function hQ(e){if(!lQ(e))return!1;var t=oQ(e);return t==uQ||t==dQ||t==cQ||t==fQ}var GS=hQ;const We=_t(GS);var pQ=$i,mQ=pQ["__core-js_shared__"],vQ=mQ,eb=vQ,ZE=function(){var e=/[^.]+$/.exec(eb&&eb.keys&&eb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gQ(e){return!!ZE&&ZE in e}var yQ=gQ,xQ=Function.prototype,bQ=xQ.toString;function wQ(e){if(e!=null){try{return bQ.call(e)}catch{}try{return e+""}catch{}}return""}var t3=wQ,jQ=GS,_Q=yQ,SQ=Po,CQ=t3,NQ=/[\\^$.*+?()[\]{}|]/g,PQ=/^\[object .+?Constructor\]$/,EQ=Function.prototype,kQ=Object.prototype,AQ=EQ.toString,OQ=kQ.hasOwnProperty,TQ=RegExp("^"+AQ.call(OQ).replace(NQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RQ(e){if(!SQ(e)||_Q(e))return!1;var t=jQ(e)?TQ:PQ;return t.test(CQ(e))}var MQ=RQ;function $Q(e,t){return e==null?void 0:e[t]}var IQ=$Q,DQ=MQ,LQ=IQ;function FQ(e,t){var r=LQ(e,t);return DQ(r)?r:void 0}var Hl=FQ,BQ=Hl,zQ=BQ(Object,"create"),Qy=zQ,ek=Qy;function UQ(){this.__data__=ek?ek(null):{},this.size=0}var VQ=UQ;function WQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HQ=WQ,qQ=Qy,KQ="__lodash_hash_undefined__",GQ=Object.prototype,YQ=GQ.hasOwnProperty;function XQ(e){var t=this.__data__;if(qQ){var r=t[e];return r===KQ?void 0:r}return YQ.call(t,e)?t[e]:void 0}var QQ=XQ,JQ=Qy,ZQ=Object.prototype,eJ=ZQ.hasOwnProperty;function tJ(e){var t=this.__data__;return JQ?t[e]!==void 0:eJ.call(t,e)}var rJ=tJ,nJ=Qy,aJ="__lodash_hash_undefined__";function iJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nJ&&t===void 0?aJ:t,this}var sJ=iJ,oJ=VQ,lJ=HQ,cJ=QQ,uJ=rJ,dJ=sJ;function Nd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nd.prototype.clear=oJ;Nd.prototype.delete=lJ;Nd.prototype.get=cJ;Nd.prototype.has=uJ;Nd.prototype.set=dJ;var fJ=Nd;function hJ(){this.__data__=[],this.size=0}var pJ=hJ;function mJ(e,t){return e===t||e!==e&&t!==t}var YS=mJ,vJ=YS;function gJ(e,t){for(var r=e.length;r--;)if(vJ(e[r][0],t))return r;return-1}var Jy=gJ,yJ=Jy,xJ=Array.prototype,bJ=xJ.splice;function wJ(e){var t=this.__data__,r=yJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bJ.call(t,r,1),--this.size,!0}var jJ=wJ,_J=Jy;function SJ(e){var t=this.__data__,r=_J(t,e);return r<0?void 0:t[r][1]}var CJ=SJ,NJ=Jy;function PJ(e){return NJ(this.__data__,e)>-1}var EJ=PJ,kJ=Jy;function AJ(e,t){var r=this.__data__,n=kJ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var OJ=AJ,TJ=pJ,RJ=jJ,MJ=CJ,$J=EJ,IJ=OJ;function Pd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pd.prototype.clear=TJ;Pd.prototype.delete=RJ;Pd.prototype.get=MJ;Pd.prototype.has=$J;Pd.prototype.set=IJ;var Zy=Pd,DJ=Hl,LJ=$i,FJ=DJ(LJ,"Map"),XS=FJ,tk=fJ,BJ=Zy,zJ=XS;function UJ(){this.size=0,this.__data__={hash:new tk,map:new(zJ||BJ),string:new tk}}var VJ=UJ;function WJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HJ=WJ,qJ=HJ;function KJ(e,t){var r=e.__data__;return qJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ex=KJ,GJ=ex;function YJ(e){var t=GJ(this,e).delete(e);return this.size-=t?1:0,t}var XJ=YJ,QJ=ex;function JJ(e){return QJ(this,e).get(e)}var ZJ=JJ,eZ=ex;function tZ(e){return eZ(this,e).has(e)}var rZ=tZ,nZ=ex;function aZ(e,t){var r=nZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iZ=aZ,sZ=VJ,oZ=XJ,lZ=ZJ,cZ=rZ,uZ=iZ;function Ed(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ed.prototype.clear=sZ;Ed.prototype.delete=oZ;Ed.prototype.get=lZ;Ed.prototype.has=cZ;Ed.prototype.set=uZ;var QS=Ed,r3=QS,dZ="Expected a function";function JS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dZ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(JS.Cache||r3),r}JS.Cache=r3;var n3=JS;const fZ=_t(n3);var hZ=n3,pZ=500;function mZ(e){var t=hZ(e,function(n){return r.size===pZ&&r.clear(),n}),r=t.cache;return t}var vZ=mZ,gZ=vZ,yZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xZ=/\\(\\)?/g,bZ=gZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yZ,function(r,n,a,i){t.push(a?i.replace(xZ,"$1"):n||r)}),t}),wZ=bZ;function jZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ZS=jZ,rk=Sp,_Z=ZS,SZ=Un,CZ=Sd,NZ=1/0,nk=rk?rk.prototype:void 0,ak=nk?nk.toString:void 0;function a3(e){if(typeof e=="string")return e;if(SZ(e))return _Z(e,a3)+"";if(CZ(e))return ak?ak.call(e):"";var t=e+"";return t=="0"&&1/e==-NZ?"-0":t}var PZ=a3,EZ=PZ;function kZ(e){return e==null?"":EZ(e)}var i3=kZ,AZ=Un,OZ=KS,TZ=wZ,RZ=i3;function MZ(e,t){return AZ(e)?e:OZ(e,t)?[e]:TZ(RZ(e))}var s3=MZ,$Z=Sd,IZ=1/0;function DZ(e){if(typeof e=="string"||$Z(e))return e;var t=e+"";return t=="0"&&1/e==-IZ?"-0":t}var tx=DZ,LZ=s3,FZ=tx;function BZ(e,t){t=LZ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FZ(t[r++])];return r&&r==n?e:void 0}var eC=BZ,zZ=eC;function UZ(e,t,r){var n=e==null?void 0:zZ(e,t);return n===void 0?r:n}var o3=UZ;const ra=_t(o3);function VZ(e){return e==null}var WZ=VZ;const Ue=_t(WZ);var HZ=xs,qZ=Un,KZ=bs,GZ="[object String]";function YZ(e){return typeof e=="string"||!qZ(e)&&KZ(e)&&HZ(e)==GZ}var XZ=YZ;const Al=_t(XZ);var l3={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=Symbol.for("react.element"),rC=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),ix=Symbol.for("react.provider"),sx=Symbol.for("react.context"),QZ=Symbol.for("react.server_context"),ox=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),cx=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),JZ=Symbol.for("react.offscreen"),c3;c3=Symbol.for("react.module.reference");function Na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tC:switch(e=e.type,e){case rx:case ax:case nx:case lx:case cx:return e;default:switch(e=e&&e.$$typeof,e){case QZ:case sx:case ox:case dx:case ux:case ix:return e;default:return t}}case rC:return t}}}kt.ContextConsumer=sx;kt.ContextProvider=ix;kt.Element=tC;kt.ForwardRef=ox;kt.Fragment=rx;kt.Lazy=dx;kt.Memo=ux;kt.Portal=rC;kt.Profiler=ax;kt.StrictMode=nx;kt.Suspense=lx;kt.SuspenseList=cx;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return Na(e)===sx};kt.isContextProvider=function(e){return Na(e)===ix};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tC};kt.isForwardRef=function(e){return Na(e)===ox};kt.isFragment=function(e){return Na(e)===rx};kt.isLazy=function(e){return Na(e)===dx};kt.isMemo=function(e){return Na(e)===ux};kt.isPortal=function(e){return Na(e)===rC};kt.isProfiler=function(e){return Na(e)===ax};kt.isStrictMode=function(e){return Na(e)===nx};kt.isSuspense=function(e){return Na(e)===lx};kt.isSuspenseList=function(e){return Na(e)===cx};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rx||e===ax||e===nx||e===lx||e===cx||e===JZ||typeof e=="object"&&e!==null&&(e.$$typeof===dx||e.$$typeof===ux||e.$$typeof===ix||e.$$typeof===sx||e.$$typeof===ox||e.$$typeof===c3||e.getModuleId!==void 0)};kt.typeOf=Na;l3.exports=kt;var ZZ=l3.exports,eee=xs,tee=bs,ree="[object Number]";function nee(e){return typeof e=="number"||tee(e)&&eee(e)==ree}var u3=nee;const aee=_t(u3);var iee=u3;function see(e){return iee(e)&&e!=+e}var oee=see;const kd=_t(oee);var xn=function(t){return t===0?0:t>0?1:-1},al=function(t){return Al(t)&&t.indexOf("%")===t.length-1},ve=function(t){return aee(t)&&!kd(t)},lee=function(t){return Ue(t)},Dr=function(t){return ve(t)||Al(t)},cee=0,Eo=function(t){var r=++cee;return"".concat(t||"").concat(r)},bn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!Al(t))return n;var i;if(al(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return kd(i)&&(i=n),a&&i>r&&(i=r),i},Bs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},er=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function Hv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ra(n,t))===r})}var dee=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},fee=function(t,r){return ve(t)&&ve(r)?t-r:Al(t)&&Al(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Yc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bj(e){"@babel/helpers - typeof";return bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bj(e)}var hee=["viewBox","children"],pee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],tb={svg:hee,polygon:ik,polyline:ik},nC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!Cd(n))return null;var a={};return Object.keys(n).forEach(function(i){nC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},mee=function(t,r,n){return function(a){return t(r,n,a),null}},xo=function(t,r,n){if(!Cd(t)||bj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];nC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=mee(o,r,n))}),a},vee=["children"],gee=["children"];function sk(e,t){if(e==null)return{};var r=yee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wj(e){"@babel/helpers - typeof";return wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(e)}var ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},rs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lk=null,rb=null,aC=function e(t){if(t===lk&&Array.isArray(rb))return rb;var r=[];return j.Children.forEach(t,function(n){Ue(n)||(ZZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),rb=r,lk=t,r};function _n(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return rs(a)}):n=[rs(t)],aC(e).forEach(function(a){var i=ra(a,"type.displayName")||ra(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Gn(e,t){var r=_n(e,t);return r&&r[0]}var ck=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},xee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bee=function(t){return t&&t.type&&Al(t.type)&&xee.indexOf(t.type)>=0},d3=function(t){return t&&wj(t)==="object"&&"clipDot"in t},wee=function(t,r,n,a){var i,o=(i=tb==null?void 0:tb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(a&&o.includes(r)||pee.includes(r))||n&&nC.includes(r)},Me=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!Cd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;wee((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},jj=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return uk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!uk(i,o))return!1}return!0},uk=function(t,r){if(Ue(t)&&Ue(r))return!0;if(!Ue(t)&&!Ue(r)){var n=t.props||{},a=n.children,i=sk(n,vee),o=r.props||{},l=o.children,c=sk(o,gee);return a&&l?Yc(i,c)&&jj(a,l):!a&&!l?Yc(i,c):!1}return!1},dk=function(t,r){var n=[],a={};return aC(t).forEach(function(i,o){if(bee(i))n.push(i);else if(i){var l=rs(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},jee=function(t){var r=t&&t.type;return r&&ok[r]?ok[r]:null},_ee=function(t,r){return aC(r).indexOf(t)},See=["children","width","height","viewBox","className","style","title","desc"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(this,arguments)}function Cee(e,t){if(e==null)return{};var r=Nee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sj(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Cee(e,See),d=a||{width:r,height:n,x:0,y:0},f=Xe("recharts-surface",i);return T.createElement("svg",_j({},Me(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var Pee=["children","className"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(this,arguments)}function Eee(e,t){if(e==null)return{};var r=kee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rt=T.forwardRef(function(e,t){var r=e.children,n=e.className,a=Eee(e,Pee),i=Xe("recharts-layer",n);return T.createElement("g",Cj({className:i},Me(a,!0),{ref:t}),r)}),Za=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Aee(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Oee=Aee,Tee=Oee;function Ree(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Tee(e,t,r)}var Mee=Ree,$ee="\\ud800-\\udfff",Iee="\\u0300-\\u036f",Dee="\\ufe20-\\ufe2f",Lee="\\u20d0-\\u20ff",Fee=Iee+Dee+Lee,Bee="\\ufe0e\\ufe0f",zee="\\u200d",Uee=RegExp("["+zee+$ee+Fee+Bee+"]");function Vee(e){return Uee.test(e)}var f3=Vee;function Wee(e){return e.split("")}var Hee=Wee,h3="\\ud800-\\udfff",qee="\\u0300-\\u036f",Kee="\\ufe20-\\ufe2f",Gee="\\u20d0-\\u20ff",Yee=qee+Kee+Gee,Xee="\\ufe0e\\ufe0f",Qee="["+h3+"]",Nj="["+Yee+"]",Pj="\\ud83c[\\udffb-\\udfff]",Jee="(?:"+Nj+"|"+Pj+")",p3="[^"+h3+"]",m3="(?:\\ud83c[\\udde6-\\uddff]){2}",v3="[\\ud800-\\udbff][\\udc00-\\udfff]",Zee="\\u200d",g3=Jee+"?",y3="["+Xee+"]?",ete="(?:"+Zee+"(?:"+[p3,m3,v3].join("|")+")"+y3+g3+")*",tte=y3+g3+ete,rte="(?:"+[p3+Nj+"?",Nj,m3,v3,Qee].join("|")+")",nte=RegExp(Pj+"(?="+Pj+")|"+rte+tte,"g");function ate(e){return e.match(nte)||[]}var ite=ate,ste=Hee,ote=f3,lte=ite;function cte(e){return ote(e)?lte(e):ste(e)}var ute=cte,dte=Mee,fte=f3,hte=ute,pte=i3;function mte(e){return function(t){t=pte(t);var r=fte(t)?hte(t):void 0,n=r?r[0]:t.charAt(0),a=r?dte(r,1).join(""):t.slice(1);return n[e]()+a}}var vte=mte,gte=vte,yte=gte("toUpperCase"),xte=yte;const fx=_t(xte);function $t(e){return function(){return e}}const x3=Math.cos,Kv=Math.sin,ai=Math.sqrt,Gv=Math.PI,hx=2*Gv,Ej=Math.PI,kj=2*Ej,qo=1e-6,bte=kj-qo;function b3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return b3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?b3:wte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qo)if(!(Math.abs(f*c-u*d)>qo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,m=c*c+u*u,v=p*p+y*y,g=Math.sqrt(m),x=Math.sqrt(h),b=i*Math.tan((Ej-Math.acos((m+h-v)/(2*g*x)))/2),_=b/x,w=b/g;Math.abs(_-1)>qo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qo||Math.abs(this._y1-d)>qo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%kj+kj),h>bte?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>qo&&this._append`A${n},${n},0,${+(h>=Ej)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function iC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jte(t)}function sC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w3(e){this._context=e}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function px(e){return new w3(e)}function j3(e){return e[0]}function _3(e){return e[1]}function S3(e,t){var r=$t(!0),n=null,a=px,i=null,o=iC(l);e=typeof e=="function"?e:e===void 0?j3:$t(e),t=typeof t=="function"?t:t===void 0?_3:$t(t);function l(c){var u,d=(c=sC(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$t(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$t(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:$t(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function mm(e,t,r){var n=null,a=$t(!0),i=null,o=px,l=null,c=iC(u);e=typeof e=="function"?e:e===void 0?j3:$t(+e),t=typeof t=="function"?t:$t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_3:$t(+r);function u(f){var h,p,y,m=(f=sC(f)).length,v,g=!1,x,b=new Array(m),_=new Array(m);for(i==null&&(l=o(x=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return S3().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:$t(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:$t(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$t(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:$t(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:$t(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$t(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:$t(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class C3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _te(e){return new C3(e,!0)}function Ste(e){return new C3(e,!1)}const oC={draw(e,t){const r=ai(t/Gv);e.moveTo(r,0),e.arc(0,0,r,0,hx)}},Cte={draw(e,t){const r=ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},N3=ai(1/3),Nte=N3*2,Pte={draw(e,t){const r=ai(t/Nte),n=r*N3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ete={draw(e,t){const r=ai(t),n=-r/2;e.rect(n,n,r,r)}},kte=.8908130915292852,P3=Kv(Gv/10)/Kv(7*Gv/10),Ate=Kv(hx/10)*P3,Ote=-x3(hx/10)*P3,Tte={draw(e,t){const r=ai(t*kte),n=Ate*r,a=Ote*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=hx*i/5,l=x3(o),c=Kv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},nb=ai(3),Rte={draw(e,t){const r=-ai(t/(nb*3));e.moveTo(0,r*2),e.lineTo(-nb*r,-r),e.lineTo(nb*r,-r),e.closePath()}},ca=-.5,ua=ai(3)/2,Aj=1/ai(12),Mte=(Aj/2+1)*3,$te={draw(e,t){const r=ai(t/Mte),n=r/2,a=r*Aj,i=n,o=r*Aj+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ca*n-ua*a,ua*n+ca*a),e.lineTo(ca*i-ua*o,ua*i+ca*o),e.lineTo(ca*l-ua*c,ua*l+ca*c),e.lineTo(ca*n+ua*a,ca*a-ua*n),e.lineTo(ca*i+ua*o,ca*o-ua*i),e.lineTo(ca*l+ua*c,ca*c-ua*l),e.closePath()}};function Ite(e,t){let r=null,n=iC(a);e=typeof e=="function"?e:$t(e||oC),t=typeof t=="function"?t:$t(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:$t(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:$t(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Yv(){}function Xv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function E3(e){this._context=e}E3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dte(e){return new E3(e)}function k3(e){this._context=e}k3.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lte(e){return new k3(e)}function A3(e){this._context=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fte(e){return new A3(e)}function O3(e){this._context=e}O3.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bte(e){return new O3(e)}function fk(e){return e<0?-1:1}function hk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(fk(i)+fk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function pk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ab(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Qv(e){this._context=e}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ab(this,this._t0,pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ab(this,pk(this,r=hk(this,e,t)),r);break;default:ab(this,this._t0,r=hk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function T3(e){this._context=new R3(e)}(T3.prototype=Object.create(Qv.prototype)).point=function(e,t){Qv.prototype.point.call(this,t,e)};function R3(e){this._context=e}R3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function zte(e){return new Qv(e)}function Ute(e){return new T3(e)}function M3(e){this._context=e}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mk(e),a=mk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Vte(e){return new M3(e)}function mx(e,t){this._context=e,this._t=t}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Wte(e){return new mx(e,.5)}function Hte(e){return new mx(e,0)}function qte(e){return new mx(e,1)}function _u(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Oj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Kte(e,t){return e[t]}function Gte(e){const t=[];return t.key=e,t}function Yte(){var e=$t([]),t=Oj,r=_u,n=Kte;function a(i){var o=Array.from(e.apply(this,arguments),Gte),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=sC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:$t(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$t(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Oj:typeof i=="function"?i:$t(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??_u,a):r},a}function Xte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}_u(e,t)}}function Qte(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}_u(e,t)}}function Jte(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],v=m[n][1]||0,g=m[n-1][1]||0;p+=v-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,_u(e,t)}}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}var Zte=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tj.apply(this,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ere(e,t,r){return t=tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tre(e){var t=rre(e,"string");return Eh(t)=="symbol"?t:t+""}function rre(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nre(e,t){if(e==null)return{};var r=are(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function are(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $3={symbolCircle:oC,symbolCross:Cte,symbolDiamond:Pte,symbolSquare:Ete,symbolStar:Tte,symbolTriangle:Rte,symbolWye:$te},ire=Math.PI/180,sre=function(t){var r="symbol".concat(fx(t));return $3[r]||oC},ore=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ire;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lre=function(t,r){$3["symbol".concat(fx(t))]=r},vx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=nre(t,Zte),u=gk(gk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=sre(n),g=Ite().type(v).size(ore(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,y=Me(u,!0);return h===+h&&p===+p&&i===+i?T.createElement("path",Tj({},y,{className:Xe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};vx.registerSymbol=lre;function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rj.apply(this,arguments)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ure(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function fre(e,t,r){return t&&dre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hre(e,t,r){return t=Jv(t),pre(e,I3()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function pre(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(e)}function mre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function vre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mj(e,t)}function kh(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3(e){var t=gre(e,"string");return Su(t)=="symbol"?t:t+""}function gre(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da=32,lC=function(e){function t(){return ure(this,t),hre(this,t,arguments)}return vre(t,e),fre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=da/2,o=da/6,l=da/3,c=n.inactive?a:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:da,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(da,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=cre({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(vx,{fill:c,cx:i,cy:i,size:da,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:da,height:da},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,v=Xe(kh(kh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=We(p.value)?null:p.value;Za(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return T.createElement("li",Rj({className:v,style:f,key:"legend-item-".concat(y)},xo(n.props,p,y)),T.createElement(Sj,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);kh(lC,"displayName","Legend");kh(lC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yre=Zy;function xre(){this.__data__=new yre,this.size=0}var bre=xre;function wre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var jre=wre;function _re(e){return this.__data__.get(e)}var Sre=_re;function Cre(e){return this.__data__.has(e)}var Nre=Cre,Pre=Zy,Ere=XS,kre=QS,Are=200;function Ore(e,t){var r=this.__data__;if(r instanceof Pre){var n=r.__data__;if(!Ere||n.length<Are-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kre(n)}return r.set(e,t),this.size=r.size,this}var Tre=Ore,Rre=Zy,Mre=bre,$re=jre,Ire=Sre,Dre=Nre,Lre=Tre;function Ad(e){var t=this.__data__=new Rre(e);this.size=t.size}Ad.prototype.clear=Mre;Ad.prototype.delete=$re;Ad.prototype.get=Ire;Ad.prototype.has=Dre;Ad.prototype.set=Lre;var L3=Ad,Fre="__lodash_hash_undefined__";function Bre(e){return this.__data__.set(e,Fre),this}var zre=Bre;function Ure(e){return this.__data__.has(e)}var Vre=Ure,Wre=QS,Hre=zre,qre=Vre;function Zv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wre;++t<r;)this.add(e[t])}Zv.prototype.add=Zv.prototype.push=Hre;Zv.prototype.has=qre;var F3=Zv;function Kre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var B3=Kre;function Gre(e,t){return e.has(t)}var z3=Gre,Yre=F3,Xre=B3,Qre=z3,Jre=1,Zre=2;function ene(e,t,r,n,a,i){var o=r&Jre,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Zre?new Yre:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var v=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Xre(t,function(g,x){if(!Qre(p,x)&&(y===g||a(y,g,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var U3=ene,tne=$i,rne=tne.Uint8Array,nne=rne;function ane(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var ine=ane;function sne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cC=sne,xk=Sp,bk=nne,one=YS,lne=U3,cne=ine,une=cC,dne=1,fne=2,hne="[object Boolean]",pne="[object Date]",mne="[object Error]",vne="[object Map]",gne="[object Number]",yne="[object RegExp]",xne="[object Set]",bne="[object String]",wne="[object Symbol]",jne="[object ArrayBuffer]",_ne="[object DataView]",wk=xk?xk.prototype:void 0,ib=wk?wk.valueOf:void 0;function Sne(e,t,r,n,a,i,o){switch(r){case _ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jne:return!(e.byteLength!=t.byteLength||!i(new bk(e),new bk(t)));case hne:case pne:case gne:return one(+e,+t);case mne:return e.name==t.name&&e.message==t.message;case yne:case bne:return e==t+"";case vne:var l=cne;case xne:var c=n&dne;if(l||(l=une),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=fne,o.set(e,t);var d=lne(l(e),l(t),n,a,i,o);return o.delete(e),d;case wne:if(ib)return ib.call(e)==ib.call(t)}return!1}var Cne=Sne;function Nne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var V3=Nne,Pne=V3,Ene=Un;function kne(e,t,r){var n=t(e);return Ene(e)?n:Pne(n,r(e))}var Ane=kne;function One(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Tne=One;function Rne(){return[]}var Mne=Rne,$ne=Tne,Ine=Mne,Dne=Object.prototype,Lne=Dne.propertyIsEnumerable,jk=Object.getOwnPropertySymbols,Fne=jk?function(e){return e==null?[]:(e=Object(e),$ne(jk(e),function(t){return Lne.call(e,t)}))}:Ine,Bne=Fne;function zne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Une=zne,Vne=xs,Wne=bs,Hne="[object Arguments]";function qne(e){return Wne(e)&&Vne(e)==Hne}var Kne=qne,_k=Kne,Gne=bs,W3=Object.prototype,Yne=W3.hasOwnProperty,Xne=W3.propertyIsEnumerable,Qne=_k(function(){return arguments}())?_k:function(e){return Gne(e)&&Yne.call(e,"callee")&&!Xne.call(e,"callee")},uC=Qne,eg={exports:{}};function Jne(){return!1}var Zne=Jne;eg.exports;(function(e,t){var r=$i,n=Zne,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(eg,eg.exports);var H3=eg.exports,eae=9007199254740991,tae=/^(?:0|[1-9]\d*)$/;function rae(e,t){var r=typeof e;return t=t??eae,!!t&&(r=="number"||r!="symbol"&&tae.test(e))&&e>-1&&e%1==0&&e<t}var dC=rae,nae=9007199254740991;function aae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nae}var fC=aae,iae=xs,sae=fC,oae=bs,lae="[object Arguments]",cae="[object Array]",uae="[object Boolean]",dae="[object Date]",fae="[object Error]",hae="[object Function]",pae="[object Map]",mae="[object Number]",vae="[object Object]",gae="[object RegExp]",yae="[object Set]",xae="[object String]",bae="[object WeakMap]",wae="[object ArrayBuffer]",jae="[object DataView]",_ae="[object Float32Array]",Sae="[object Float64Array]",Cae="[object Int8Array]",Nae="[object Int16Array]",Pae="[object Int32Array]",Eae="[object Uint8Array]",kae="[object Uint8ClampedArray]",Aae="[object Uint16Array]",Oae="[object Uint32Array]",Vt={};Vt[_ae]=Vt[Sae]=Vt[Cae]=Vt[Nae]=Vt[Pae]=Vt[Eae]=Vt[kae]=Vt[Aae]=Vt[Oae]=!0;Vt[lae]=Vt[cae]=Vt[wae]=Vt[uae]=Vt[jae]=Vt[dae]=Vt[fae]=Vt[hae]=Vt[pae]=Vt[mae]=Vt[vae]=Vt[gae]=Vt[yae]=Vt[xae]=Vt[bae]=!1;function Tae(e){return oae(e)&&sae(e.length)&&!!Vt[iae(e)]}var Rae=Tae;function Mae(e){return function(t){return e(t)}}var q3=Mae,tg={exports:{}};tg.exports;(function(e,t){var r=ZD,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(tg,tg.exports);var $ae=tg.exports,Iae=Rae,Dae=q3,Sk=$ae,Ck=Sk&&Sk.isTypedArray,Lae=Ck?Dae(Ck):Iae,K3=Lae,Fae=Une,Bae=uC,zae=Un,Uae=H3,Vae=dC,Wae=K3,Hae=Object.prototype,qae=Hae.hasOwnProperty;function Kae(e,t){var r=zae(e),n=!r&&Bae(e),a=!r&&!n&&Uae(e),i=!r&&!n&&!a&&Wae(e),o=r||n||a||i,l=o?Fae(e.length,String):[],c=l.length;for(var u in e)(t||qae.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vae(u,c)))&&l.push(u);return l}var Gae=Kae,Yae=Object.prototype;function Xae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Yae;return e===r}var Qae=Xae;function Jae(e,t){return function(r){return e(t(r))}}var G3=Jae,Zae=G3,eie=Zae(Object.keys,Object),tie=eie,rie=Qae,nie=tie,aie=Object.prototype,iie=aie.hasOwnProperty;function sie(e){if(!rie(e))return nie(e);var t=[];for(var r in Object(e))iie.call(e,r)&&r!="constructor"&&t.push(r);return t}var oie=sie,lie=GS,cie=fC;function uie(e){return e!=null&&cie(e.length)&&!lie(e)}var Cp=uie,die=Gae,fie=oie,hie=Cp;function pie(e){return hie(e)?die(e):fie(e)}var gx=pie,mie=Ane,vie=Bne,gie=gx;function yie(e){return mie(e,gie,vie)}var xie=yie,Nk=xie,bie=1,wie=Object.prototype,jie=wie.hasOwnProperty;function _ie(e,t,r,n,a,i){var o=r&bie,l=Nk(e),c=l.length,u=Nk(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:jie.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var g=e[h],x=t[h];if(n)var b=o?n(x,g,h,t,e,i):n(g,x,h,e,t,i);if(!(b===void 0?g===x||a(g,x,r,n,i):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var Sie=_ie,Cie=Hl,Nie=$i,Pie=Cie(Nie,"DataView"),Eie=Pie,kie=Hl,Aie=$i,Oie=kie(Aie,"Promise"),Tie=Oie,Rie=Hl,Mie=$i,$ie=Rie(Mie,"Set"),Y3=$ie,Iie=Hl,Die=$i,Lie=Iie(Die,"WeakMap"),Fie=Lie,$j=Eie,Ij=XS,Dj=Tie,Lj=Y3,Fj=Fie,X3=xs,Od=t3,Pk="[object Map]",Bie="[object Object]",Ek="[object Promise]",kk="[object Set]",Ak="[object WeakMap]",Ok="[object DataView]",zie=Od($j),Uie=Od(Ij),Vie=Od(Dj),Wie=Od(Lj),Hie=Od(Fj),Ko=X3;($j&&Ko(new $j(new ArrayBuffer(1)))!=Ok||Ij&&Ko(new Ij)!=Pk||Dj&&Ko(Dj.resolve())!=Ek||Lj&&Ko(new Lj)!=kk||Fj&&Ko(new Fj)!=Ak)&&(Ko=function(e){var t=X3(e),r=t==Bie?e.constructor:void 0,n=r?Od(r):"";if(n)switch(n){case zie:return Ok;case Uie:return Pk;case Vie:return Ek;case Wie:return kk;case Hie:return Ak}return t});var qie=Ko,sb=L3,Kie=U3,Gie=Cne,Yie=Sie,Tk=qie,Rk=Un,Mk=H3,Xie=K3,Qie=1,$k="[object Arguments]",Ik="[object Array]",vm="[object Object]",Jie=Object.prototype,Dk=Jie.hasOwnProperty;function Zie(e,t,r,n,a,i){var o=Rk(e),l=Rk(t),c=o?Ik:Tk(e),u=l?Ik:Tk(t);c=c==$k?vm:c,u=u==$k?vm:u;var d=c==vm,f=u==vm,h=c==u;if(h&&Mk(e)){if(!Mk(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new sb),o||Xie(e)?Kie(e,t,r,n,a,i):Gie(e,t,c,r,n,a,i);if(!(r&Qie)){var p=d&&Dk.call(e,"__wrapped__"),y=f&&Dk.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,v=y?t.value():t;return i||(i=new sb),a(m,v,r,n,i)}}return h?(i||(i=new sb),Yie(e,t,r,n,a,i)):!1}var ese=Zie,tse=ese,Lk=bs;function Q3(e,t,r,n,a){return e===t?!0:e==null||t==null||!Lk(e)&&!Lk(t)?e!==e&&t!==t:tse(e,t,r,n,Q3,a)}var hC=Q3,rse=L3,nse=hC,ase=1,ise=2;function sse(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new rse;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?nse(d,u,ase|ise,n,f):h))return!1}}return!0}var ose=sse,lse=Po;function cse(e){return e===e&&!lse(e)}var J3=cse,use=J3,dse=gx;function fse(e){for(var t=dse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,use(a)]}return t}var hse=fse;function pse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Z3=pse,mse=ose,vse=hse,gse=Z3;function yse(e){var t=vse(e);return t.length==1&&t[0][2]?gse(t[0][0],t[0][1]):function(r){return r===e||mse(r,e,t)}}var xse=yse;function bse(e,t){return e!=null&&t in Object(e)}var wse=bse,jse=s3,_se=uC,Sse=Un,Cse=dC,Nse=fC,Pse=tx;function Ese(e,t,r){t=jse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Pse(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Nse(a)&&Cse(o,a)&&(Sse(e)||_se(e)))}var kse=Ese,Ase=wse,Ose=kse;function Tse(e,t){return e!=null&&Ose(e,t,Ase)}var Rse=Tse,Mse=hC,$se=o3,Ise=Rse,Dse=KS,Lse=J3,Fse=Z3,Bse=tx,zse=1,Use=2;function Vse(e,t){return Dse(e)&&Lse(t)?Fse(Bse(e),t):function(r){var n=$se(r,e);return n===void 0&&n===t?Ise(r,e):Mse(t,n,zse|Use)}}var Wse=Vse;function Hse(e){return e}var Td=Hse;function qse(e){return function(t){return t==null?void 0:t[e]}}var Kse=qse,Gse=eC;function Yse(e){return function(t){return Gse(t,e)}}var Xse=Yse,Qse=Kse,Jse=Xse,Zse=KS,eoe=tx;function toe(e){return Zse(e)?Qse(eoe(e)):Jse(e)}var roe=toe,noe=xse,aoe=Wse,ioe=Td,soe=Un,ooe=roe;function loe(e){return typeof e=="function"?e:e==null?ioe:typeof e=="object"?soe(e)?aoe(e[0],e[1]):noe(e):ooe(e)}var Ii=loe;function coe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var eL=coe;function uoe(e){return e!==e}var doe=uoe;function foe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var hoe=foe,poe=eL,moe=doe,voe=hoe;function goe(e,t,r){return t===t?voe(e,t,r):poe(e,moe,r)}var yoe=goe,xoe=yoe;function boe(e,t){var r=e==null?0:e.length;return!!r&&xoe(e,t,0)>-1}var woe=boe;function joe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var _oe=joe;function Soe(){}var Coe=Soe,ob=Y3,Noe=Coe,Poe=cC,Eoe=1/0,koe=ob&&1/Poe(new ob([,-0]))[1]==Eoe?function(e){return new ob(e)}:Noe,Aoe=koe,Ooe=F3,Toe=woe,Roe=_oe,Moe=z3,$oe=Aoe,Ioe=cC,Doe=200;function Loe(e,t,r){var n=-1,a=Toe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Roe;else if(i>=Doe){var u=t?null:$oe(e);if(u)return Ioe(u);o=!1,a=Moe,c=new Ooe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Foe=Loe,Boe=Ii,zoe=Foe;function Uoe(e,t){return e&&e.length?zoe(e,Boe(t)):[]}var Voe=Uoe;const Fk=_t(Voe);function tL(e,t,r){return t===!0?Fk(e,r):We(t)?Fk(e,t):e}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var Woe=["ref"];function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nL(n.key),n)}}function qoe(e,t,r){return t&&zk(e.prototype,t),r&&zk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Koe(e,t,r){return t=rg(t),Goe(e,rL()?Reflect.construct(t,r||[],rg(e).constructor):t.apply(e,r))}function Goe(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yoe(e)}function Yoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(e)}function Xoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}function Bj(e,t){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bj(e,t)}function yx(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=Qoe(e,"string");return Cu(t)=="symbol"?t:t+""}function Qoe(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Joe(e,t){if(e==null)return{};var r=Zoe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ele(e){return e.value}function tle(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=Joe(t,Woe);return T.createElement(lC,r)}var Uk=1,Jr=function(e){function t(){var r;Hoe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Koe(this,t,[].concat(a)),yx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Xoe(t,e),qoe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Uk||Math.abs(a.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bi(Bi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Bi(Bi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},tle(i,Bi(Bi({},this.props),{},{payload:tL(d,u,ele)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Bi(Bi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);yx(Jr,"displayName","Legend");yx(Jr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Vk=Sp,rle=uC,nle=Un,Wk=Vk?Vk.isConcatSpreadable:void 0;function ale(e){return nle(e)||rle(e)||!!(Wk&&e&&e[Wk])}var ile=ale,sle=V3,ole=ile;function aL(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=ole),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?aL(l,t-1,r,n,a):sle(a,l):n||(a[a.length]=l)}return a}var iL=aL;function lle(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var cle=lle,ule=cle,dle=ule(),fle=dle,hle=fle,ple=gx;function mle(e,t){return e&&hle(e,t,ple)}var sL=mle,vle=Cp;function gle(e,t){return function(r,n){if(r==null)return r;if(!vle(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var yle=gle,xle=sL,ble=yle,wle=ble(xle),pC=wle,jle=pC,_le=Cp;function Sle(e,t){var r=-1,n=_le(e)?Array(e.length):[];return jle(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var oL=Sle;function Cle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Nle=Cle,Hk=Sd;function Ple(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Hk(e),o=t!==void 0,l=t===null,c=t===t,u=Hk(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Ele=Ple,kle=Ele;function Ale(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=kle(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ole=Ale,lb=ZS,Tle=eC,Rle=Ii,Mle=oL,$le=Nle,Ile=q3,Dle=Ole,Lle=Td,Fle=Un;function Ble(e,t,r){t.length?t=lb(t,function(i){return Fle(i)?function(o){return Tle(o,i.length===1?i[0]:i)}:i}):t=[Lle];var n=-1;t=lb(t,Ile(Rle));var a=Mle(e,function(i,o,l){var c=lb(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return $le(a,function(i,o){return Dle(i,o,r)})}var zle=Ble;function Ule(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Vle=Ule,Wle=Vle,qk=Math.max;function Hle(e,t,r){return t=qk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qk(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Wle(e,this,l)}}var qle=Hle;function Kle(e){return function(){return e}}var Gle=Kle,Yle=Hl,Xle=function(){try{var e=Yle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lL=Xle,Qle=Gle,Kk=lL,Jle=Td,Zle=Kk?function(e,t){return Kk(e,"toString",{configurable:!0,enumerable:!1,value:Qle(t),writable:!0})}:Jle,ece=Zle,tce=800,rce=16,nce=Date.now;function ace(e){var t=0,r=0;return function(){var n=nce(),a=rce-(n-r);if(r=n,a>0){if(++t>=tce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ice=ace,sce=ece,oce=ice,lce=oce(sce),cce=lce,uce=Td,dce=qle,fce=cce;function hce(e,t){return fce(dce(e,t,uce),e+"")}var pce=hce,mce=YS,vce=Cp,gce=dC,yce=Po;function xce(e,t,r){if(!yce(r))return!1;var n=typeof t;return(n=="number"?vce(r)&&gce(t,r.length):n=="string"&&t in r)?mce(r[t],e):!1}var xx=xce,bce=iL,wce=zle,jce=pce,Gk=xx,_ce=jce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Gk(e,t[0],t[1])?t=[]:r>2&&Gk(t[0],t[1],t[2])&&(t=[t[0]]),wce(e,bce(t,1),[])}),Sce=_ce;const mC=_t(Sce);function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zj.apply(this,arguments)}function Cce(e,t){return kce(e)||Ece(e,t)||Pce(e,t)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pce(e,t){if(e){if(typeof e=="string")return Yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(e,t)}}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ece(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kce(e){if(Array.isArray(e))return e}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){Ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t,r){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Tce(e,"string");return Ah(t)=="symbol"?t:t+""}function Tce(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rce(e){return Array.isArray(e)&&Dr(e[0])&&Dr(e[1])?e.join(" ~ "):e}var Mce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,v=t.labelFormatter,g=t.accessibilityLayer,x=g===void 0?!1:g,b=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?mC(d,h):d).map(function(E,$){if(E.type==="none")return null;var I=cb({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),M=E.formatter||f||Rce,D=E.value,L=E.name,B=D,Q=L;if(M&&B!=null&&Q!=null){var X=M(D,L,E,$,d);if(Array.isArray(X)){var re=Cce(X,2);B=re[0],Q=re[1]}else B=X}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:I},Dr(Q)?T.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Dr(Q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},B),T.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},_=cb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=cb({margin:0},u),S=!Ue(m),C=S?m:"",N=Xe("recharts-default-tooltip",p),P=Xe("recharts-tooltip-label",y);S&&v&&d!==void 0&&d!==null&&(C=v(m,d));var k=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",zj({className:N,style:_},k),T.createElement("p",{className:P,style:w},T.isValidElement(C)?C:"".concat(C)),b())};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function gm(e,t,r){return t=$ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ce(e){var t=Ice(e,"string");return Oh(t)=="symbol"?t:t+""}function Ice(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef="recharts-tooltip-wrapper",Dce={visibility:"hidden"};function Lce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(ef,gm(gm(gm(gm({},"".concat(ef,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(ef,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(ef,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(ef,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function Qk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function Fce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Bce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Qk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Qk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Fce({translateX:d,translateY:f,useTranslate3d:l})):u=Dce,{cssProperties:u,cssClasses:Lce({translateX:d,translateY:f,coordinate:r})}}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uL(n.key),n)}}function Vce(e,t,r){return t&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wce(e,t,r){return t=ng(t),Hce(e,cL()?Reflect.construct(t,r||[],ng(e).constructor):t.apply(e,r))}function Hce(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(e)}function qce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!e})()}function ng(e){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(e)}function Kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uj(e,t)}function Uj(e,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uj(e,t)}function Vj(e,t,r){return t=uL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=Gce(e,"string");return Nu(t)=="symbol"?t:t+""}function Gce(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eA=1,Yce=function(e){function t(){var r;zce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wce(this,t,[].concat(a)),Vj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vj(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Kce(t,e),Vce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>eA||Math.abs(n.height-this.state.lastBoundingBox.height)>eA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,v=a.useTranslate3d,g=a.viewBox,x=a.wrapperStyle,b=Bce({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),_=b.cssClasses,w=b.cssProperties,S=Zk(Zk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(j.PureComponent),Xce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ba={isSsr:Xce(),get:function(t){return ba[t]},set:function(t,r){if(typeof t=="string")ba[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ba[a]=t[a]})}}};function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){vC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fL(n.key),n)}}function Zce(e,t,r){return t&&Jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eue(e,t,r){return t=ag(t),tue(e,dL()?Reflect.construct(t,r||[],ag(e).constructor):t.apply(e,r))}function tue(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rue(e)}function rue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!e})()}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(e)}function nue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wj(e,t)}function vC(e,t,r){return t=fL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){var t=aue(e,"string");return Pu(t)=="symbol"?t:t+""}function aue(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iue(e){return e.dataKey}function sue(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(Mce,t)}var Ht=function(e){function t(){return Qce(this,t),eue(this,t,arguments)}return nue(t,e),Zce(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,v=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,w=y??[];f&&w.length&&(w=tL(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,iue));var S=w.length>0;return T.createElement(Yce,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:v,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:_},sue(u,rA(rA({},this.props),{},{payload:w})))}}])}(j.PureComponent);vC(Ht,"displayName","Tooltip");vC(Ht,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oue=$i,lue=function(){return oue.Date.now()},cue=lue,uue=/\s/;function due(e){for(var t=e.length;t--&&uue.test(e.charAt(t)););return t}var fue=due,hue=fue,pue=/^\s+/;function mue(e){return e&&e.slice(0,hue(e)+1).replace(pue,"")}var vue=mue,gue=vue,nA=Po,yue=Sd,aA=NaN,xue=/^[-+]0x[0-9a-f]+$/i,bue=/^0b[01]+$/i,wue=/^0o[0-7]+$/i,jue=parseInt;function _ue(e){if(typeof e=="number")return e;if(yue(e))return aA;if(nA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gue(e);var r=bue.test(e);return r||wue.test(e)?jue(e.slice(2),r?2:8):xue.test(e)?aA:+e}var hL=_ue,Sue=Po,ub=cue,iA=hL,Cue="Expected a function",Nue=Math.max,Pue=Math.min;function Eue(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Cue);t=iA(t)||0,Sue(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Nue(iA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var C=n,N=a;return n=a=void 0,u=S,o=e.apply(N,C),o}function y(S){return u=S,l=setTimeout(g,t),d?p(S):o}function m(S){var C=S-c,N=S-u,P=t-C;return f?Pue(P,i-N):P}function v(S){var C=S-c,N=S-u;return c===void 0||C>=t||C<0||f&&N>=i}function g(){var S=ub();if(v(S))return x(S);l=setTimeout(g,m(S))}function x(S){return l=void 0,h&&n?p(S):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(ub())}function w(){var S=ub(),C=v(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return w.cancel=b,w.flush=_,w}var kue=Eue,Aue=kue,Oue=Po,Tue="Expected a function";function Rue(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Tue);return Oue(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Aue(e,t,{leading:n,maxWait:t,trailing:a})}var Mue=Rue;const pL=_t(Mue);function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){$ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ue(e,t,r){return t=Iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iue(e){var t=Due(e,"string");return Th(t)=="symbol"?t:t+""}function Due(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lue(e,t){return Uue(e)||zue(e,t)||Bue(e,t)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(e,t){if(e){if(typeof e=="string")return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(e,t)}}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Uue(e){if(Array.isArray(e))return e}var un=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,v=e.id,g=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,w=j.useRef(null),S=j.useRef();S.current=x,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var C=j.useState({containerWidth:a.width,containerHeight:a.height}),N=Lue(C,2),P=N[0],k=N[1],A=j.useCallback(function(O,E){k(function($){var I=Math.round(O),M=Math.round(E);return $.containerWidth===I&&$.containerHeight===M?$:{containerWidth:I,containerHeight:M}})},[]);j.useEffect(function(){var O=function(L){var B,Q=L[0].contentRect,X=Q.width,re=Q.height;A(X,re),(B=S.current)===null||B===void 0||B.call(S,X,re)};m>0&&(O=pL(O,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(O),$=w.current.getBoundingClientRect(),I=$.width,M=$.height;return A(I,M),E.observe(w.current),function(){E.disconnect()}},[A,m]);var R=j.useMemo(function(){var O=P.containerWidth,E=P.containerHeight;if(O<0||E<0)return null;Za(al(o)||al(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Za(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=al(o)?O:o,I=al(c)?E:c;r&&r>0&&($?I=$/r:I&&($=I*r),h&&I>h&&(I=h)),Za($>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,I,o,c,d,f,r);var M=!Array.isArray(p)&&rs(p.type).endsWith("Chart");return T.Children.map(p,function(D){return T.isValidElement(D)?j.cloneElement(D,ym({width:$,height:I},M?{style:ym({height:"100%",width:"100%",maxHeight:I,maxWidth:$},D.props.style)}:{})):D})},[r,p,c,h,f,d,P,o]);return T.createElement("div",{id:v?"".concat(v):void 0,className:Xe("recharts-responsive-container",g),style:ym(ym({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},R)}),Np=function(t){return null};Np.displayName="Cell";function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t,r){return t=Wue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Hue(e,"string");return Rh(t)=="symbol"?t:t+""}function Hue(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rc={widthCache:{},cacheCount:0},que=2e3,Kue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cA="recharts_measurement_span";function Gue(e){var t=Hj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var If=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ba.isSsr)return{width:0,height:0};var n=Gue(r),a=JSON.stringify({text:t,copyStyle:n});if(rc.widthCache[a])return rc.widthCache[a];try{var i=document.getElementById(cA);i||(i=document.createElement("span"),i.setAttribute("id",cA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Hj(Hj({},Kue),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return rc.widthCache[a]=c,++rc.cacheCount>que&&(rc.cacheCount=0,rc.widthCache={}),c}catch{return{width:0,height:0}}},Yue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function ig(e,t){return Zue(e)||Jue(e,t)||Que(e,t)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zue(e){if(Array.isArray(e))return e}function ede(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rde(n.key),n)}}function tde(e,t,r){return t&&dA(e.prototype,t),r&&dA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rde(e){var t=nde(e,"string");return Mh(t)=="symbol"?t:t+""}function nde(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ade=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ide=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sde=Object.keys(mL),Mc="NaN";function ode(e,t){return e*mL[t]}var xm=function(){function e(t,r){ede(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ade.test(r)&&(this.num=NaN,this.unit=""),sde.includes(r)&&(this.num=ode(t,r),this.unit="px")}return tde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ide.exec(r))!==null&&n!==void 0?n:[],i=ig(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function vL(e){if(e.includes(Mc))return Mc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=fA.exec(t))!==null&&r!==void 0?r:[],a=ig(n,4),i=a[1],o=a[2],l=a[3],c=xm.parse(i??""),u=xm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Mc;t=t.replace(fA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=hA.exec(t))!==null&&f!==void 0?f:[],p=ig(h,4),y=p[1],m=p[2],v=p[3],g=xm.parse(y??""),x=xm.parse(v??""),b=m==="+"?g.add(x):g.subtract(x);if(b.isNaN())return Mc;t=t.replace(hA,b.toString())}return t}var pA=/\(([^()]*)\)/;function lde(e){for(var t=e;t.includes("(");){var r=pA.exec(t),n=ig(r,2),a=n[1];t=t.replace(pA,vL(a))}return t}function cde(e){var t=e.replace(/\s+/g,"");return t=lde(t),t=vL(t),t}function ude(e){try{return cde(e)}catch{return Mc}}function db(e){var t=ude(e.slice(5,-1));return t===Mc?"":t}var dde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fde=["dx","dy","angle","className","breakAll"];function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qj.apply(this,arguments)}function mA(e,t){if(e==null)return{};var r=hde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vA(e,t){return gde(e)||vde(e,t)||mde(e,t)||pde()}function pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gde(e){if(Array.isArray(e))return e}var gL=/[ \f\n\r\t\v\u2028\u2029]+/,yL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ue(r)||(n?i=r.toString().split(""):i=r.toString().split(gL));var o=i.map(function(c){return{word:c,width:If(c,a).width}}),l=n?0:If("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yde=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ve(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(I,M){var D=M.word,L=M.width,B=I[I.length-1];if(B&&(a==null||i||B.width+L+n<Number(a)))B.words.push(D),B.width+=L+n;else{var Q={words:[D],width:L};I.push(Q)}return I},[])},p=h(r),y=function($){return $.reduce(function(I,M){return I.width>M.width?I:M})};if(!d)return p;for(var m="",v=function($){var I=f.slice(0,$),M=yL({breakAll:u,style:c,children:I+m}).wordsWithComputedWidth,D=h(M),L=D.length>o||y(D).width>Number(a);return[L,D]},g=0,x=f.length-1,b=0,_;g<=x&&b<=f.length-1;){var w=Math.floor((g+x)/2),S=w-1,C=v(S),N=vA(C,2),P=N[0],k=N[1],A=v(w),R=vA(A,1),O=R[0];if(!P&&!O&&(g=w+1),P&&O&&(x=w-1),!P&&O){_=k;break}b++}return _||p},yA=function(t){var r=Ue(t)?[]:t.toString().split(gL);return[{words:r}]},xde=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ba.isSsr){var c,u,d=yL({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return yA(a);return yde({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return yA(a)},xA="#808080",Ol=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,v=t.fill,g=v===void 0?xA:v,x=mA(t,dde),b=j.useMemo(function(){return xde({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,w=x.dy,S=x.angle,C=x.className,N=x.breakAll,P=mA(x,fde);if(!Dr(n)||!Dr(i))return null;var k=n+(ve(_)?_:0),A=i+(ve(w)?w:0),R;switch(m){case"start":R=db("calc(".concat(u,")"));break;case"middle":R=db("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=db("calc(".concat(b.length-1," * -").concat(l,")"));break}var O=[];if(f){var E=b[0].width,$=x.width;O.push("scale(".concat((ve($)?$/E:1)/E,")"))}return S&&O.push("rotate(".concat(S,", ").concat(k,", ").concat(A,")")),O.length&&(P.transform=O.join(" ")),T.createElement("text",qj({},Me(P,!0),{x:k,y:A,className:Xe("recharts-text",C),textAnchor:p,fill:g.includes("url")?xA:g}),b.map(function(I,M){var D=I.words.join(N?"":" ");return T.createElement("tspan",{x:k,dy:M===0?R:l,key:"".concat(D,"-").concat(M)},D)}))};function uo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gC(e){let t,r,n;e.length!==2?(t=uo,r=(l,c)=>uo(e(l),c),n=(l,c)=>e(l)-c):(t=e===uo||e===bde?e:wde,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function wde(){return 0}function xL(e){return e===null?NaN:+e}function*jde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _de=gC(uo),Pp=_de.right;gC(xL).center;class bA extends Map{constructor(t,r=Nde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(wA(this,t))}has(t){return super.has(wA(this,t))}set(t,r){return super.set(Sde(this,t),r)}delete(t){return super.delete(Cde(this,t))}}function wA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Sde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Cde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Nde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pde(e=uo){if(e===uo)return bL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ede=Math.sqrt(50),kde=Math.sqrt(10),Ade=Math.sqrt(2);function sg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Ede?10:i>=kde?5:i>=Ade?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sg(e,t,r*2):[l,c,u]}function Kj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?sg(t,e,r):sg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Gj(e,t,r){return t=+t,e=+e,r=+r,sg(e,t,r)[2]}function Yj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Gj(t,e,r):Gj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function jA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _A(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?bL:Pde(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));wL(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(tf(e,r,t),a(e[n],i)>0&&tf(e,r,n);o<l;){for(tf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?tf(e,r,l):(++l,tf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function tf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ode(e,t,r){if(e=Float64Array.from(jde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _A(e);if(t>=1)return jA(e);var n,a=(n-1)*t,i=Math.floor(a),o=jA(wL(e,i).subarray(0,i+1)),l=_A(e.subarray(i+1));return o+(l-o)*(a-i)}}function Tde(e,t,r=xL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Rde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ws(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xj=Symbol("implicit");function yC(){var e=new bA,t=[],r=[],n=Xj;function a(i){let o=e.get(i);if(o===void 0){if(n!==Xj)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new bA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yC(t,r).unknown(n)},Pa.apply(a,arguments),a}function $h(){var e=yC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=Rde(h).map(function(g){return y+i*g});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $h(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pa.apply(f(),arguments)}function jL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jL(t())},e}function Df(){return jL($h.apply(null,arguments).paddingInner(1))}function xC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _L(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ep(){}var Ih=.7,og=1/Ih,Xc="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mde=/^#([0-9a-f]{3,8})$/,$de=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),Ide=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),Dde=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${Dh}\\)$`),Lde=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${Dh}\\)$`),Fde=new RegExp(`^hsl\\(${Dh},${Ni},${Ni}\\)$`),Bde=new RegExp(`^hsla\\(${Dh},${Ni},${Ni},${Dh}\\)$`),SA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xC(Ep,Lh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CA,formatHex:CA,formatHex8:zde,formatHsl:Ude,formatRgb:NA,toString:NA});function CA(){return this.rgb().formatHex()}function zde(){return this.rgb().formatHex8()}function Ude(){return SL(this).formatHsl()}function NA(){return this.rgb().formatRgb()}function Lh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Mde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PA(t):r===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$de.exec(e))?new $n(t[1],t[2],t[3],1):(t=Ide.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dde.exec(e))?bm(t[1],t[2],t[3],t[4]):(t=Lde.exec(e))?bm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fde.exec(e))?AA(t[1],t[2]/100,t[3]/100,1):(t=Bde.exec(e))?AA(t[1],t[2]/100,t[3]/100,t[4]):SA.hasOwnProperty(e)?PA(SA[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function PA(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function bm(e,t,r,n){return n<=0&&(e=t=r=NaN),new $n(e,t,r,n)}function Vde(e){return e instanceof Ep||(e=Lh(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function Qj(e,t,r,n){return arguments.length===1?Vde(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xC($n,Qj,_L(Ep,{brighter(e){return e=e==null?og:Math.pow(og,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ih:Math.pow(Ih,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(yl(this.r),yl(this.g),yl(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EA,formatHex:EA,formatHex8:Wde,formatRgb:kA,toString:kA}));function EA(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function Wde(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const e=lg(this.opacity);return`${e===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${e===1?")":`, ${e})`}`}function lg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=yl(e),(e<16?"0":"")+e.toString(16)}function AA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ga(e,t,r,n)}function SL(e){if(e instanceof Ga)return new Ga(e.h,e.s,e.l,e.opacity);if(e instanceof Ep||(e=Lh(e)),!e)return new Ga;if(e instanceof Ga)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ga(o,l,c,e.opacity)}function Hde(e,t,r,n){return arguments.length===1?SL(e):new Ga(e,t,r,n??1)}function Ga(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xC(Ga,Hde,_L(Ep,{brighter(e){return e=e==null?og:Math.pow(og,e),new Ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ih:Math.pow(Ih,e),new Ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new $n(fb(e>=240?e-240:e+120,a,n),fb(e,a,n),fb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ga(OA(this.h),wm(this.s),wm(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lg(this.opacity);return`${e===1?"hsl(":"hsla("}${OA(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OA(e){return e=(e||0)%360,e<0?e+360:e}function wm(e){return Math.max(0,Math.min(1,e||0))}function fb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bC=e=>()=>e;function qde(e,t){return function(r){return e+r*t}}function Kde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Gde(e){return(e=+e)==1?CL:function(t,r){return r-t?Kde(t,r,e):bC(isNaN(t)?r:t)}}function CL(e,t){var r=t-e;return r?qde(e,r):bC(isNaN(e)?t:e)}const TA=function e(t){var r=Gde(t);function n(a,i){var o=r((a=Qj(a)).r,(i=Qj(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=CL(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Yde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Xde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Rd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Jde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hb=new RegExp(Jj.source,"g");function efe(e){return function(){return e}}function tfe(e){return function(t){return e(t)+""}}function rfe(e,t){var r=Jj.lastIndex=hb.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Jj.exec(e))&&(a=hb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:cg(n,a)})),r=hb.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tfe(c[0].x):efe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Rd(e,t){var r=typeof t,n;return t==null||r==="boolean"?bC(t):(r==="number"?cg:r==="string"?(n=Lh(t))?(t=n,TA):rfe:t instanceof Lh?TA:t instanceof Date?Jde:Xde(t)?Yde:Array.isArray(t)?Qde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zde:cg)(e,t)}function wC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nfe(e,t){t===void 0&&(t=e,e=Rd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function afe(e){return function(){return e}}function ug(e){return+e}var RA=[0,1];function wn(e){return e}function Zj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:afe(isNaN(t)?NaN:.5)}function ife(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sfe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Zj(a,n),i=r(o,i)):(n=Zj(n,a),i=r(i,o)),function(l){return i(n(l))}}function ofe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Zj(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Pp(e,l,1,n)-1;return i[c](a[c](l))}}function kp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bx(){var e=RA,t=RA,r=Rd,n,a,i,o=wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==wn&&(o=ife(e[0],e[h-1])),l=h>2?ofe:sfe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),cg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ug),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=wC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wn,d()):o!==wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function jC(){return bx()(wn,wn)}function lfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Eu(e){return e=dg(Math.abs(e)),e?e[1]:NaN}function cfe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ufe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fh(e){if(!(t=dfe.exec(e)))throw new Error("invalid format: "+e);var t;return new _C({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fh.prototype=_C.prototype;function _C(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_C.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ffe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var NL;function hfe(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(NL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+dg(e,Math.max(0,t+i-1))[0]}function MA(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MA(e*100,t),r:MA,s:hfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IA(e){return e}var DA=Array.prototype.map,LA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pfe(e){var t=e.grouping===void 0||e.thousands===void 0?IA:cfe(DA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?IA:ufe(DA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Fh(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,v=f.zero,g=f.width,x=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(x=!0,w="g"):$A[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C=m==="$"?n:/[%p]/.test(w)?o:"",N=$A[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(A){var R=S,O=C,E,$,I;if(w==="c")O=N(A)+O,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:N(Math.abs(A),b),_&&(A=ffe(A)),M&&+A==0&&y!=="+"&&(M=!1),R=(M?y==="("?y:l:y==="-"||y==="("?"":y)+R,O=(w==="s"?LA[8+NL/3]:"")+O+(M&&y==="("?")":""),P){for(E=-1,$=A.length;++E<$;)if(I=A.charCodeAt(E),48>I||I>57){O=(I===46?a+A.slice(E+1):A.slice(E))+O,A=A.slice(0,E);break}}}x&&!v&&(A=t(A,1/0));var D=R.length+A.length+O.length,L=D<g?new Array(g-D+1).join(h):"";switch(x&&v&&(A=t(L+A,L.length?g-O.length:1/0),L=""),p){case"<":A=R+A+O+L;break;case"=":A=R+L+A+O;break;case"^":A=L.slice(0,D=L.length>>1)+R+A+O+L.slice(D);break;default:A=L+R+A+O;break}return i(A)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=Fh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Eu(h)/3)))*3,m=Math.pow(10,-y),v=LA[8+y/3];return function(g){return p(m*g)+v}}return{format:u,formatPrefix:d}}var jm,SC,PL;mfe({thousands:",",grouping:[3],currency:["$",""]});function mfe(e){return jm=pfe(e),SC=jm.format,PL=jm.formatPrefix,jm}function vfe(e){return Math.max(0,-Eu(Math.abs(e)))}function gfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Eu(t)/3)))*3-Eu(Math.abs(e)))}function yfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Eu(t)-Eu(e))+1}function EL(e,t,r,n){var a=Yj(e,t,r),i;switch(n=Fh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gfe(a,o))&&(n.precision=i),PL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=yfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=vfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return SC(n)}function ko(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return EL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Gj(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function fg(){var e=jC();return e.copy=function(){return kp(e,fg())},Pa.apply(e,arguments),ko(e)}function kL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ug),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kL(e).unknown(t)},e=arguments.length?Array.from(e,ug):[0,1],ko(r)}function AL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function FA(e){return Math.log(e)}function BA(e){return Math.exp(e)}function xfe(e){return-Math.log(-e)}function bfe(e){return-Math.exp(-e)}function wfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jfe(e){return e===10?wfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _fe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zA(e){return(t,r)=>-e(-t,r)}function CC(e){const t=e(FA,BA),r=t.domain;let n=10,a,i;function o(){return a=_fe(n),i=jfe(n),r()[0]<0?(a=zA(a),i=zA(i),e(xfe,bfe)):e(FA,BA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const v=l==null?10:+l;let g=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<v&&(g=Kj(u,d,v))}else g=Kj(h,p,Math.min(p-h,v)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fh(c)).precision==null&&(c.trim=!0),c=SC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(AL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function OL(){const e=CC(bx()).domain([1,10]);return e.copy=()=>kp(e,OL()).base(e.base()),Pa.apply(e,arguments),e}function UA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function NC(e){var t=1,r=e(UA(t),VA(t));return r.constant=function(n){return arguments.length?e(UA(t=+n),VA(t)):t},ko(r)}function TL(){var e=NC(bx());return e.copy=function(){return kp(e,TL()).constant(e.constant())},Pa.apply(e,arguments)}function WA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cfe(e){return e<0?-e*e:e*e}function PC(e){var t=e(wn,wn),r=1;function n(){return r===1?e(wn,wn):r===.5?e(Sfe,Cfe):e(WA(r),WA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ko(t)}function EC(){var e=PC(bx());return e.copy=function(){return kp(e,EC()).exponent(e.exponent())},Pa.apply(e,arguments),e}function Nfe(){return EC.apply(null,arguments).exponent(.5)}function HA(e){return Math.sign(e)*e*e}function Pfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RL(){var e=jC(),t=[0,1],r=!1,n;function a(i){var o=Pfe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(HA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ug)).map(HA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pa.apply(a,arguments),ko(a)}function ML(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Tde(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Pp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(uo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ML().domain(e).range(t).unknown(n)},Pa.apply(i,arguments)}function $L(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Pp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return $L().domain([e,t]).range(a).unknown(i)},Pa.apply(ko(o),arguments)}function IL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Pp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IL().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}const pb=new Date,mb=new Date;function Lr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Lr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(pb.setTime(+i),mb.setTime(+o),e(pb),e(mb),Math.floor(r(pb,mb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const hg=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):hg);hg.range;const Qi=1e3,ya=Qi*60,Ji=ya*60,us=Ji*24,kC=us*7,qA=us*30,vb=us*365,sl=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCSeconds());sl.range;const AC=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getMinutes());AC.range;const OC=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCMinutes());OC.range;const TC=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi-e.getMinutes()*ya)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getHours());TC.range;const RC=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCHours());RC.range;const Ap=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/us,e=>e.getDate()-1);Ap.range;const wx=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/us,e=>e.getUTCDate()-1);wx.range;const DL=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/us,e=>Math.floor(e/us));DL.range;function ql(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ya)/kC)}const jx=ql(0),pg=ql(1),Efe=ql(2),kfe=ql(3),ku=ql(4),Afe=ql(5),Ofe=ql(6);jx.range;pg.range;Efe.range;kfe.range;ku.range;Afe.range;Ofe.range;function Kl(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kC)}const _x=Kl(0),mg=Kl(1),Tfe=Kl(2),Rfe=Kl(3),Au=Kl(4),Mfe=Kl(5),$fe=Kl(6);_x.range;mg.range;Tfe.range;Rfe.range;Au.range;Mfe.range;$fe.range;const MC=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MC.range;const $C=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$C.range;const ds=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ds.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ds.range;const fs=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fs.range;function LL(e,t,r,n,a,i){const o=[[sl,1,Qi],[sl,5,5*Qi],[sl,15,15*Qi],[sl,30,30*Qi],[i,1,ya],[i,5,5*ya],[i,15,15*ya],[i,30,30*ya],[a,1,Ji],[a,3,3*Ji],[a,6,6*Ji],[a,12,12*Ji],[n,1,us],[n,2,2*us],[r,1,kC],[t,1,qA],[t,3,3*qA],[e,1,vb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=gC(([,,v])=>v).right(o,h);if(p===o.length)return e.every(Yj(u/vb,d/vb,f));if(p===0)return hg.every(Math.max(Yj(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[Ife,Dfe]=LL(fs,$C,_x,DL,RC,OC),[Lfe,Ffe]=LL(ds,MC,jx,Ap,TC,AC);function gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bfe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=nf(a),d=af(a),f=nf(i),h=af(i),p=nf(o),y=af(o),m=nf(l),v=af(l),g=nf(c),x=af(c),b={a:M,A:D,b:L,B,c:null,d:JA,e:JA,f:che,g:xhe,G:whe,H:she,I:ohe,j:lhe,L:FL,m:uhe,M:dhe,p:Q,q:X,Q:tO,s:rO,S:fhe,u:hhe,U:phe,V:mhe,w:vhe,W:ghe,x:null,X:null,y:yhe,Y:bhe,Z:jhe,"%":eO},_={a:re,A:z,b:U,B:V,c:null,d:ZA,e:ZA,f:Nhe,g:Ihe,G:Lhe,H:_he,I:She,j:Che,L:zL,m:Phe,M:Ehe,p:H,q:he,Q:tO,s:rO,S:khe,u:Ahe,U:Ohe,V:The,w:Rhe,W:Mhe,x:null,X:null,y:$he,Y:Dhe,Z:Fhe,"%":eO},w={a:k,A,b:R,B:O,c:E,d:XA,e:XA,f:rhe,g:YA,G:GA,H:QA,I:QA,j:Jfe,L:the,m:Qfe,M:Zfe,p:P,q:Xfe,Q:ahe,s:ihe,S:ehe,u:Hfe,U:qfe,V:Kfe,w:Wfe,W:Gfe,x:$,X:I,y:YA,Y:GA,Z:Yfe,"%":nhe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(J,te){return function(W){var G=[],pe=-1,K=0,ce=J.length,le,je,Be;for(W instanceof Date||(W=new Date(+W));++pe<ce;)J.charCodeAt(pe)===37&&(G.push(J.slice(K,pe)),(je=KA[le=J.charAt(++pe)])!=null?le=J.charAt(++pe):je=le==="e"?" ":"0",(Be=te[le])&&(le=Be(W,je)),G.push(le),K=pe+1);return G.push(J.slice(K,pe)),G.join("")}}function C(J,te){return function(W){var G=rf(1900,void 0,1),pe=N(G,J,W+="",0),K,ce;if(pe!=W.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(te&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(K=yb(rf(G.y,0,1)),ce=K.getUTCDay(),K=ce>4||ce===0?mg.ceil(K):mg(K),K=wx.offset(K,(G.V-1)*7),G.y=K.getUTCFullYear(),G.m=K.getUTCMonth(),G.d=K.getUTCDate()+(G.w+6)%7):(K=gb(rf(G.y,0,1)),ce=K.getDay(),K=ce>4||ce===0?pg.ceil(K):pg(K),K=Ap.offset(K,(G.V-1)*7),G.y=K.getFullYear(),G.m=K.getMonth(),G.d=K.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),ce="Z"in G?yb(rf(G.y,0,1)).getUTCDay():gb(rf(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(ce+5)%7:G.w+G.U*7-(ce+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,yb(G)):gb(G)}}function N(J,te,W,G){for(var pe=0,K=te.length,ce=W.length,le,je;pe<K;){if(G>=ce)return-1;if(le=te.charCodeAt(pe++),le===37){if(le=te.charAt(pe++),je=w[le in KA?te.charAt(pe++):le],!je||(G=je(J,W,G))<0)return-1}else if(le!=W.charCodeAt(G++))return-1}return G}function P(J,te,W){var G=u.exec(te.slice(W));return G?(J.p=d.get(G[0].toLowerCase()),W+G[0].length):-1}function k(J,te,W){var G=p.exec(te.slice(W));return G?(J.w=y.get(G[0].toLowerCase()),W+G[0].length):-1}function A(J,te,W){var G=f.exec(te.slice(W));return G?(J.w=h.get(G[0].toLowerCase()),W+G[0].length):-1}function R(J,te,W){var G=g.exec(te.slice(W));return G?(J.m=x.get(G[0].toLowerCase()),W+G[0].length):-1}function O(J,te,W){var G=m.exec(te.slice(W));return G?(J.m=v.get(G[0].toLowerCase()),W+G[0].length):-1}function E(J,te,W){return N(J,t,te,W)}function $(J,te,W){return N(J,r,te,W)}function I(J,te,W){return N(J,n,te,W)}function M(J){return o[J.getDay()]}function D(J){return i[J.getDay()]}function L(J){return c[J.getMonth()]}function B(J){return l[J.getMonth()]}function Q(J){return a[+(J.getHours()>=12)]}function X(J){return 1+~~(J.getMonth()/3)}function re(J){return o[J.getUTCDay()]}function z(J){return i[J.getUTCDay()]}function U(J){return c[J.getUTCMonth()]}function V(J){return l[J.getUTCMonth()]}function H(J){return a[+(J.getUTCHours()>=12)]}function he(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var te=S(J+="",b);return te.toString=function(){return J},te},parse:function(J){var te=C(J+="",!1);return te.toString=function(){return J},te},utcFormat:function(J){var te=S(J+="",_);return te.toString=function(){return J},te},utcParse:function(J){var te=C(J+="",!0);return te.toString=function(){return J},te}}}var KA={"-":"",_:" ",0:"0"},Wr=/^\s*\d+/,zfe=/^%/,Ufe=/[\\^$*+?|[\]().{}]/g;function xt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Vfe(e){return e.replace(Ufe,"\\$&")}function nf(e){return new RegExp("^(?:"+e.map(Vfe).join("|")+")","i")}function af(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wfe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hfe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qfe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Kfe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gfe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function GA(e,t,r){var n=Wr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YA(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xfe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Qfe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function XA(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Jfe(e,t,r){var n=Wr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QA(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zfe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ehe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function the(e,t,r){var n=Wr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rhe(e,t,r){var n=Wr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nhe(e,t,r){var n=zfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ahe(e,t,r){var n=Wr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ihe(e,t,r){var n=Wr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function JA(e,t){return xt(e.getDate(),t,2)}function she(e,t){return xt(e.getHours(),t,2)}function ohe(e,t){return xt(e.getHours()%12||12,t,2)}function lhe(e,t){return xt(1+Ap.count(ds(e),e),t,3)}function FL(e,t){return xt(e.getMilliseconds(),t,3)}function che(e,t){return FL(e,t)+"000"}function uhe(e,t){return xt(e.getMonth()+1,t,2)}function dhe(e,t){return xt(e.getMinutes(),t,2)}function fhe(e,t){return xt(e.getSeconds(),t,2)}function hhe(e){var t=e.getDay();return t===0?7:t}function phe(e,t){return xt(jx.count(ds(e)-1,e),t,2)}function BL(e){var t=e.getDay();return t>=4||t===0?ku(e):ku.ceil(e)}function mhe(e,t){return e=BL(e),xt(ku.count(ds(e),e)+(ds(e).getDay()===4),t,2)}function vhe(e){return e.getDay()}function ghe(e,t){return xt(pg.count(ds(e)-1,e),t,2)}function yhe(e,t){return xt(e.getFullYear()%100,t,2)}function xhe(e,t){return e=BL(e),xt(e.getFullYear()%100,t,2)}function bhe(e,t){return xt(e.getFullYear()%1e4,t,4)}function whe(e,t){var r=e.getDay();return e=r>=4||r===0?ku(e):ku.ceil(e),xt(e.getFullYear()%1e4,t,4)}function jhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xt(t/60|0,"0",2)+xt(t%60,"0",2)}function ZA(e,t){return xt(e.getUTCDate(),t,2)}function _he(e,t){return xt(e.getUTCHours(),t,2)}function She(e,t){return xt(e.getUTCHours()%12||12,t,2)}function Che(e,t){return xt(1+wx.count(fs(e),e),t,3)}function zL(e,t){return xt(e.getUTCMilliseconds(),t,3)}function Nhe(e,t){return zL(e,t)+"000"}function Phe(e,t){return xt(e.getUTCMonth()+1,t,2)}function Ehe(e,t){return xt(e.getUTCMinutes(),t,2)}function khe(e,t){return xt(e.getUTCSeconds(),t,2)}function Ahe(e){var t=e.getUTCDay();return t===0?7:t}function Ohe(e,t){return xt(_x.count(fs(e)-1,e),t,2)}function UL(e){var t=e.getUTCDay();return t>=4||t===0?Au(e):Au.ceil(e)}function The(e,t){return e=UL(e),xt(Au.count(fs(e),e)+(fs(e).getUTCDay()===4),t,2)}function Rhe(e){return e.getUTCDay()}function Mhe(e,t){return xt(mg.count(fs(e)-1,e),t,2)}function $he(e,t){return xt(e.getUTCFullYear()%100,t,2)}function Ihe(e,t){return e=UL(e),xt(e.getUTCFullYear()%100,t,2)}function Dhe(e,t){return xt(e.getUTCFullYear()%1e4,t,4)}function Lhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Au(e):Au.ceil(e),xt(e.getUTCFullYear()%1e4,t,4)}function Fhe(){return"+0000"}function eO(){return"%"}function tO(e){return+e}function rO(e){return Math.floor(+e/1e3)}var nc,VL,WL;Bhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bhe(e){return nc=Bfe(e),VL=nc.format,nc.parse,WL=nc.utcFormat,nc.utcParse,nc}function zhe(e){return new Date(e)}function Uhe(e){return e instanceof Date?+e:+new Date(+e)}function IC(e,t,r,n,a,i,o,l,c,u){var d=jC(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?y:o(S)<S?m:i(S)<S?v:n(S)<S?a(S)<S?g:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Uhe)):h().map(zhe)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?w:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(AL(C,S)):d},d.copy=function(){return kp(d,IC(e,t,r,n,a,i,o,l,c,u))},d}function Vhe(){return Pa.apply(IC(Lfe,Ffe,ds,MC,jx,Ap,TC,AC,sl,VL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Whe(){return Pa.apply(IC(Ife,Dfe,fs,$C,_x,wx,RC,OC,sl,WL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sx(){var e=0,t=1,r,n,a,i,o=wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Rd),u.rangeRound=d(wC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ao(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HL(){var e=ko(Sx()(wn));return e.copy=function(){return Ao(e,HL())},ws.apply(e,arguments)}function qL(){var e=CC(Sx()).domain([1,10]);return e.copy=function(){return Ao(e,qL()).base(e.base())},ws.apply(e,arguments)}function KL(){var e=NC(Sx());return e.copy=function(){return Ao(e,KL()).constant(e.constant())},ws.apply(e,arguments)}function DC(){var e=PC(Sx());return e.copy=function(){return Ao(e,DC()).exponent(e.exponent())},ws.apply(e,arguments)}function Hhe(){return DC.apply(null,arguments).exponent(.5)}function GL(){var e=[],t=wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(uo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ode(e,i/n))},r.copy=function(){return GL(t).domain(e)},ws.apply(r,arguments)}function Cx(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=wn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(v){var g,x,b;return arguments.length?([g,x,b]=v,u=nfe(m,[g,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Rd),p.rangeRound=y(wC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function YL(){var e=ko(Cx()(wn));return e.copy=function(){return Ao(e,YL())},ws.apply(e,arguments)}function XL(){var e=CC(Cx()).domain([.1,1,10]);return e.copy=function(){return Ao(e,XL()).base(e.base())},ws.apply(e,arguments)}function QL(){var e=NC(Cx());return e.copy=function(){return Ao(e,QL()).constant(e.constant())},ws.apply(e,arguments)}function LC(){var e=PC(Cx());return e.copy=function(){return Ao(e,LC()).exponent(e.exponent())},ws.apply(e,arguments)}function qhe(){return LC.apply(null,arguments).exponent(.5)}const nO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$h,scaleDiverging:YL,scaleDivergingLog:XL,scaleDivergingPow:LC,scaleDivergingSqrt:qhe,scaleDivergingSymlog:QL,scaleIdentity:kL,scaleImplicit:Xj,scaleLinear:fg,scaleLog:OL,scaleOrdinal:yC,scalePoint:Df,scalePow:EC,scaleQuantile:ML,scaleQuantize:$L,scaleRadial:RL,scaleSequential:HL,scaleSequentialLog:qL,scaleSequentialPow:DC,scaleSequentialQuantile:GL,scaleSequentialSqrt:Hhe,scaleSequentialSymlog:KL,scaleSqrt:Nfe,scaleSymlog:TL,scaleThreshold:IL,scaleTime:Vhe,scaleUtc:Whe,tickFormat:EL},Symbol.toStringTag,{value:"Module"}));var Khe=Sd;function Ghe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Khe(o):r(o,l)))var l=o,c=i}return c}var Nx=Ghe;function Yhe(e,t){return e>t}var JL=Yhe,Xhe=Nx,Qhe=JL,Jhe=Td;function Zhe(e){return e&&e.length?Xhe(e,Jhe,Qhe):void 0}var epe=Zhe;const Ys=_t(epe);function tpe(e,t){return e<t}var ZL=tpe,rpe=Nx,npe=ZL,ape=Td;function ipe(e){return e&&e.length?rpe(e,ape,npe):void 0}var spe=ipe;const Px=_t(spe);var ope=ZS,lpe=Ii,cpe=oL,upe=Un;function dpe(e,t){var r=upe(e)?ope:cpe;return r(e,lpe(t))}var fpe=dpe,hpe=iL,ppe=fpe;function mpe(e,t){return hpe(ppe(e,t),1)}var vpe=mpe;const gpe=_t(vpe);var ype=hC;function xpe(e,t){return ype(e,t)}var bpe=xpe;const bo=_t(bpe);var Md=1e9,wpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BC,Qt=!0,_a="[DecimalError] ",xl=_a+"Invalid argument: ",FC=_a+"Exponent out of range: ",$d=Math.floor,Go=Math.pow,jpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Fr=1e7,Wt=7,e4=9007199254740991,vg=$d(e4/Wt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return ns(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Ot(ns(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Cr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(_a+"NaN");if(r.s<1)throw Error(_a+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(Qt=!1,t=ns(Bh(r,i),Bh(e,i),i),Qt=!0,Ot(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n4(t,e):t4(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_a+"NaN");return r.s?(Qt=!1,t=ns(r,e,0,1).times(e),Qt=!0,r.minus(t)):Ot(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return r4(this)};Oe.naturalLogarithm=Oe.ln=function(){return Bh(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t4(t,e):n4(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xl+e);if(t=Cr(a)+1,n=a.d.length-1,r=n*Wt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_a+"NaN")}for(e=Cr(l),Qt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=yi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$d((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ns(l,i,o+2)).times(.5),yi(i.d).slice(0,o)===(t=yi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ot(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Qt=!0,Ot(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Fr|0,t=l/Fr|0;i[a]=(i[a]+t)%Fr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qt?Ot(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Oi(e,0,Md),t===void 0?t=n.rounding:Oi(t,0,8),Ot(r,e+Cr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Tl(n,!0):(Oi(e,0,Md),t===void 0?t=a.rounding:Oi(t,0,8),n=Ot(new a(n),e+1,t),r=Tl(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Tl(a):(Oi(e,0,Md),t===void 0?t=i.rounding:Oi(t,0,8),n=Ot(new i(a),e+Cr(a)+1,t),r=Tl(n.abs(),!1,e+Cr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),Cr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jn);if(l=new c(l),!l.s){if(e.s<1)throw Error(_a+"Infinity");return l}if(l.eq(Jn))return l;if(n=c.precision,e.eq(Jn))return Ot(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=e4){for(a=new c(Jn),t=Math.ceil(n/Wt+4),Qt=!1;r%2&&(a=a.times(l),iO(a.d,t)),r=$d(r/2),r!==0;)l=l.times(l),iO(l.d,t);return Qt=!0,e.s<0?new c(Jn).div(a):Ot(a,n)}}else if(i<0)throw Error(_a+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qt=!1,a=e.times(Bh(l,n+u)),Qt=!0,a=r4(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Cr(a),n=Tl(a,r<=i.toExpNeg||r>=i.toExpPos)):(Oi(e,1,Md),t===void 0?t=i.rounding:Oi(t,0,8),a=Ot(new i(a),e,t),r=Cr(a),n=Tl(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Oi(e,1,Md),t===void 0?t=n.rounding:Oi(t,0,8)),Ot(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),r=e.constructor;return Tl(e,t<=r.toExpNeg||t>=r.toExpPos)};function t4(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qt?Ot(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Wt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Fr|0,c[i]%=Fr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Qt?Ot(t,f):t}function Oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xl+e)}function yi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Wt-n.length,r&&(i+=$s(r)),i+=n;o=e[t],n=o+"",r=Wt-n.length,r&&(i+=$s(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ns=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Fr|0,o=i/Fr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Fr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,y,m,v,g,x,b,_,w,S,C,N,P=n.constructor,k=n.s==a.s?1:-1,A=n.d,R=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(_a+"Division by zero");for(c=n.e-a.e,C=R.length,w=A.length,p=new P(k),y=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,i==null?x=i=P.precision:o?x=i+(Cr(n)-Cr(a))+1:x=i,x<0)return new P(0);if(x=x/Wt+2|0,u=0,C==1)for(d=0,R=R[0],x++;(u<w||d)&&x--;u++)b=d*Fr+(A[u]||0),y[u]=b/R|0,d=b%R|0;else{for(d=Fr/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),C=R.length,w=A.length),_=C,m=A.slice(0,C),v=m.length;v<C;)m[v++]=0;N=R.slice(),N.unshift(0),S=R[0],R[1]>=Fr/2&&++S;do d=0,l=t(R,m,C,v),l<0?(g=m[0],C!=v&&(g=g*Fr+(m[1]||0)),d=g/S|0,d>1?(d>=Fr&&(d=Fr-1),f=e(R,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,C<h?N:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(R,m,C,v),l<1&&(d++,r(m,C<v?N:R,v))),v=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[v++]=A[_]||0:(m=[A[_]],v=1);while((_++<w||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,Ot(p,o?i+Cr(p)+1:i)}}();function r4(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Cr(e)>16)throw Error(FC+Cr(e));if(!e.s)return new d(Jn);for(t==null?(Qt=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Go(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Jn),d.precision=l;;){if(a=Ot(a.times(e),l),r=r.times(++c),o=i.plus(ns(a,r,l)),yi(o.d).slice(0,l)===yi(i.d).slice(0,l)){for(;u--;)i=Ot(i.times(i),l);return d.precision=f,t==null?(Qt=!0,Ot(i,f)):i}i=o}}function Cr(e){for(var t=e.e*Wt,r=e.d[0];r>=10;r/=10)t++;return t}function xb(e,t,r){if(t>e.LN10.sd())throw Qt=!0,r&&(e.precision=r),Error(_a+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function $s(e){for(var t="";e--;)t+="0";return t}function Bh(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(_a+(p.s?"NaN":"-Infinity"));if(p.eq(Jn))return new m(0);if(t==null?(Qt=!1,u=v):u=t,p.eq(10))return t==null&&(Qt=!0),xb(m,u);if(u+=h,m.precision=u,r=yi(y),n=r.charAt(0),i=Cr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=yi(p.d),n=r.charAt(0),f++;i=Cr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=xb(m,u+2,v).times(i+""),p=Bh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Qt=!0,Ot(p,v)):p;for(l=o=p=ns(p.minus(Jn),p.plus(Jn),u),d=Ot(p.times(p),u),a=3;;){if(o=Ot(o.times(d),u),c=l.plus(ns(o,new m(a),u)),yi(c.d).slice(0,u)===yi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(xb(m,u+2,v).times(i+""))),l=ns(l,new m(f),u),m.precision=v,t==null?(Qt=!0,Ot(l,v)):l;l=c,a+=2}}function aO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$d(r/Wt),e.d=[],n=(r+1)%Wt,r<0&&(n+=Wt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wt;n<a;)e.d.push(+t.slice(n,n+=Wt));t=t.slice(n),n=Wt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qt&&(e.e>vg||e.e<-vg))throw Error(FC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Wt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Wt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Wt,a=n-Wt+o}if(r!==void 0&&(i=Go(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Go(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Cr(e),f.length=1,t=t-i-1,f[0]=Go(10,(Wt-t%Wt)%Wt),e.e=$d(-t/Wt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Go(10,Wt-n),f[d]=a>0?(u/Go(10,o-a)%Go(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Fr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Fr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qt&&(e.e>vg||e.e<-vg))throw Error(FC+Cr(e));return e}function n4(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qt?Ot(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Wt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Fr-1;--c[i],c[a]+=Fr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qt?Ot(t,p):t):new h(0)}function Tl(e,t,r){var n,a=Cr(e),i=yi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+$s(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+$s(-a-1)+i,r&&(n=r-o)>0&&(i+=$s(n))):a>=o?(i+=$s(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+$s(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=$s(n))),e.s<0?"-"+i:i}function iO(e,t){if(e.length>t)return e.length=t,!0}function a4(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return aO(o,i.toString())}else if(typeof i!="string")throw Error(xl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jpe.test(i))aO(o,i);else throw Error(xl+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=a4,a.config=a.set=_pe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _pe(e){if(!e||typeof e!="object")throw Error(_a+"Object expected");var t,r,n,a=["precision",1,Md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($d(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xl+r+": "+n);return this}var BC=a4(wpe);Jn=new BC(1);const At=BC;function Spe(e){return Epe(e)||Ppe(e)||Npe(e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function Ppe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Epe(e){if(Array.isArray(e))return e1(e)}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kpe=function(t){return t},i4={"@@functional/placeholder":!0},s4=function(t){return t===i4},sO=function(t){return function r(){return arguments.length===0||arguments.length===1&&s4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ape=function e(t,r){return t===1?r:sO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==i4}).length;return o>=t?r.apply(void 0,a):e(t-o,sO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return s4(f)?c.shift():f});return r.apply(void 0,Spe(d).concat(c))}))})},Ex=function(t){return Ape(t.length,t)},t1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Ope=Ex(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Tpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kpe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},r1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},o4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Rpe(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function Mpe(e,t,r){for(var n=new At(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var $pe=Ex(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Ipe=Ex(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Dpe=Ex(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kx={rangeStep:Mpe,getDigitCount:Rpe,interpolateNumber:$pe,uninterpolateNumber:Ipe,uninterpolateTruncation:Dpe};function n1(e){return Bpe(e)||Fpe(e)||l4(e)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bpe(e){if(Array.isArray(e))return a1(e)}function zh(e,t){return Vpe(e)||Upe(e,t)||l4(e,t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Upe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Vpe(e){if(Array.isArray(e))return e}function c4(e){var t=zh(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function u4(e,t,r){if(e.lte(0))return new At(0);var n=kx.getDigitCount(e.toNumber()),a=new At(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new At(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new At(Math.ceil(c))}function Wpe(e,t,r){var n=1,a=new At(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new At(10).pow(kx.getDigitCount(e)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):r||(a=new At(Math.floor(e)));var o=Math.floor((t-1)/2),l=Tpe(Ope(function(c){return a.add(new At(c-o).mul(n)).toNumber()}),t1);return l(0,t)}function d4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var i=u4(new At(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new At(0):(o=new At(e).add(t).div(2),o=o.sub(new At(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new At(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?d4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new At(l).mul(i)),tickMax:o.add(new At(c).mul(i))})}function Hpe(e){var t=zh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=c4([r,n]),c=zh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(n1(t1(0,a-1).map(function(){return 1/0}))):[].concat(n1(t1(0,a-1).map(function(){return-1/0})),[d]);return r>n?r1(f):f}if(u===d)return Wpe(u,a,i);var h=d4(u,d,o,i),p=h.step,y=h.tickMin,m=h.tickMax,v=kx.rangeStep(y,m.add(new At(.1).mul(p)),p);return r>n?r1(v):v}function qpe(e,t){var r=zh(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=c4([n,a]),l=zh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=u4(new At(u).sub(c).div(d-1),i,0),h=[].concat(n1(kx.rangeStep(new At(c),new At(u).sub(new At(.99).mul(f)),f)),[u]);return n>a?r1(h):h}var Kpe=o4(Hpe),Gpe=o4(qpe),Ype="Invariant failed";function Rl(e,t){throw new Error(Ype)}var Xpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function Qpe(e,t){return tme(e)||eme(e,t)||Zpe(e,t)||Jpe()}function Jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tme(e){if(Array.isArray(e))return e}function rme(e,t){if(e==null)return{};var r=nme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ame(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ime(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p4(n.key),n)}}function sme(e,t,r){return t&&ime(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ome(e,t,r){return t=yg(t),lme(e,f4()?Reflect.construct(t,r||[],yg(e).constructor):t.apply(e,r))}function lme(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cme(e)}function cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!e})()}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}function ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i1(e,t)}function h4(e,t,r){return t=p4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4(e){var t=dme(e,"string");return Ou(t)=="symbol"?t:t+""}function dme(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Id=function(e){function t(){return ame(this,t),ome(this,t,arguments)}return ume(t,e),sme(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=rme(n,Xpe),p=Me(h,!1);this.props.direction==="x"&&d.type!=="number"&&Rl();var y=c.map(function(m){var v=u(m,l),g=v.x,x=v.y,b=v.value,_=v.errorVal;if(!_)return null;var w=[],S,C;if(Array.isArray(_)){var N=Qpe(_,2);S=N[0],C=N[1]}else S=C=_;if(i==="vertical"){var P=d.scale,k=x+a,A=k+o,R=k-o,O=P(b-S),E=P(b+C);w.push({x1:E,y1:A,x2:E,y2:R}),w.push({x1:O,y1:k,x2:E,y2:k}),w.push({x1:O,y1:A,x2:O,y2:R})}else if(i==="horizontal"){var $=f.scale,I=g+a,M=I-o,D=I+o,L=$(b-S),B=$(b+C);w.push({x1:M,y1:B,x2:D,y2:B}),w.push({x1:I,y1:L,x2:I,y2:B}),w.push({x1:M,y1:L,x2:D,y2:L})}return T.createElement(rt,gg({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),w.map(function(Q){return T.createElement("line",gg({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return T.createElement(rt,{className:"recharts-errorBars"},y)}}])}(T.Component);h4(Id,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h4(Id,"displayName","ErrorBar");function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return t=hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=pme(e,"string");return Uh(t)=="symbol"?t:t+""}function pme(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Gn(r,Jr);if(!o)return null;var l=Jr.defaultProps,c=l!==void 0?Fo(Fo({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Fo(Fo({},h),f.props):{},y=p.dataKey,m=p.name,v=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||v||"square",color:zC(f),value:m||y,payload:p}}),Fo(Fo(Fo({},c),Jr.getWithHeight(o,a)),{},{payload:u,item:o})};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function cO(e){return yme(e)||gme(e)||vme(e)||mme()}function mme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vme(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function gme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yme(e){if(Array.isArray(e))return s1(e)}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qc(e,t,r){return t=xme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xme(e){var t=bme(e,"string");return Vh(t)=="symbol"?t:t+""}function bme(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gt(e,t,r){return Ue(e)||Ue(t)?r:Dr(t)?ra(e,t,r):We(t)?t(e):r}function Lf(e,t,r,n){var a=gpe(e,function(l){return Gt(l,t)});if(r==="number"){var i=a.filter(function(l){return ve(l)||parseFloat(l)});return i.length?[Px(i),Ys(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ue(l)}):a;return o.map(function(l){return Dr(l)||l instanceof Date?l:""})}var wme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(xn(f-d)!==xn(h-f)){var y=[];if(xn(h-f)===xn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},zC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jme=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,v=y.cateAxisId,g=m.filter(function(C){return rs(C.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=x!==void 0?lr(lr({},x),g[0].props):g[0].props,_=b.barSize,w=b[v];o[w]||(o[w]=[]);var S=Ue(_)?r:_;o[w].push({item:g[0],stackList:g.slice(1),barSize:Ue(S)?void 0:bn(S,n,0)})}}return o},_me=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=bn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(_,w){return _+w.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(_,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},C=[].concat(cO(_),[S]);return v=C[C.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(N){C.push({item:N,position:v})}),C},f)}else{var g=bn(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var x=(a-2*g-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(_,w,S){var C=[].concat(cO(_),[{item:w.item,position:{offset:g+(x+u)*S+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},f)}return d},Sme=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=m4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&ve(t[p]))return lr(lr({},t),{},Qc({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&ve(t[y]))return lr(lr({},t),{},Qc({},y,t[y]+(h||0)))}return t},Cme=function(t,r,n){return Ue(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},v4=function(t,r,n,a,i){var o=r.props.children,l=_n(o,Id).filter(function(u){return Cme(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Gt(d,n);if(Ue(f))return u;var h=Array.isArray(f)?[Px(f),Ys(f)]:[f,f],p=c.reduce(function(y,m){var v=Gt(d,m,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Nme=function(t,r,n,a,i){var o=r.map(function(l){return v4(t,l,n,i,a)}).filter(function(l){return!Ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},g4=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&v4(t,c,u,a)||Lf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},y4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},x4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Zi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!kd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},bb=new WeakMap,_m=function(t,r){if(typeof r!="function")return t;bb.has(t)||bb.set(t,new WeakMap);var n=bb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},b4=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$h(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:fg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Df(),realScaleType:"point"}:i==="category"?{scale:$h(),realScaleType:"band"}:{scale:fg(),realScaleType:"linear"};if(Al(a)){var c="scale".concat(fx(a));return{scale:(nO[c]||Df)(),realScaleType:nO[c]?c:"point"}}return We(a)?{scale:a}:{scale:Df(),realScaleType:"point"}},dO=1e-4,w4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-dO,o=Math.max(a[0],a[1])+dO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Pme=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Eme=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},kme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=kd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Ame=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=kd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Ome={sign:kme,expand:Xte,none:_u,silhouette:Qte,wiggle:Jte,positive:Ame},Tme=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Ome[n],o=Yte().keys(a).value(function(l,c){return+Gt(l,c,0)}).order(Oj).offset(i);return o(t)},Rme=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?lr(lr({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var g=y[n],x=f[g]||{hasStack:!1,stackGroups:{}};if(Dr(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[Eo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return lr(lr({},f),{},Qc({},g,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var g=p.stackGroups[v];return lr(lr({},m),{},Qc({},v,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:Tme(t,g.items,i)}))},y)}return lr(lr({},f),{},Qc({},h,p))},d)},j4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Kpe(u,i,l);return t.domain([Px(d),Ys(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Gpe(f,i,l);return{niceTicks:h}}return null};function Tu(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(a[t.dataKey])){var l=Hv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Gt(a,Ue(o)?t.dataKey:o);return Ue(c)?null:t.scale(c)}var fO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Gt(o,r.dataKey,r.domain[l]);return Ue(c)?null:r.scale(c)-i/2+a},Mme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},$me=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Dr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Ime=function(t){return t.reduce(function(r,n){return[Px(n.concat([r[0]]).filter(ve)),Ys(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},_4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Ime(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},hO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o1=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ve(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(hO.test(t[0])){var i=+hO.exec(t[0])[1];a[0]=r[0]-i}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ve(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(pO.test(t[1])){var o=+pO.exec(t[1])[1];a[1]=r[1]+o}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=mC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},mO=function(t,r,n){return!t||!t.length||bo(t,ra(n,"type.defaultProps.domain"))?r:t},S4=function(t,r){var n=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lr(lr({},Me(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:zC(t),value:Gt(r,a),type:c,payload:r,chartType:u,hide:d})};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){C4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C4(e,t,r){return t=Dme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dme(e){var t=Lme(e,"string");return Wh(t)=="symbol"?t:t+""}function Lme(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fme(e,t){return Vme(e)||Ume(e,t)||zme(e,t)||Bme()}function Bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(e,t){if(e){if(typeof e=="string")return gO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(e,t)}}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ume(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Vme(e){if(Array.isArray(e))return e}var bg=Math.PI/180,Wme=function(t){return t*180/Math.PI},Dt=function(t,r,n,a){return{x:t+Math.cos(-bg*a)*n,y:r+Math.sin(-bg*a)*n}},N4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hme=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=bn(t.cx,o,o/2),f=bn(t.cy,l,l/2),h=N4(o,l,n),p=bn(t.innerRadius,h,0),y=bn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,g){var x=r[g],b=x.domain,_=x.reversed,w;if(Ue(x.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,y]),_&&(w=[w[1],w[0]]);else{w=x.range;var S=w,C=Fme(S,2);c=C[0],u=C[1]}var N=b4(x,i),P=N.realScaleType,k=N.scale;k.domain(b).range(w),w4(k);var A=j4(k,Hi(Hi({},x),{},{realScaleType:P})),R=Hi(Hi(Hi({},x),A),{},{range:w,radius:y,realScaleType:P,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Hi(Hi({},v),{},C4({},g,R))},{})},qme=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Kme=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=qme({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Wme(u),angleInRadian:u}},Gme=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Yme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},yO=function(t,r){var n=t.x,a=t.y,i=Kme({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Gme(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Hi(Hi({},r),{},{radius:o,angle:Yme(p,r)}):null},P4=function(t){return!j.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var Xme=["offset"];function Qme(e){return tve(e)||eve(e)||Zme(e)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zme(e,t){if(e){if(typeof e=="string")return l1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(e,t)}}function eve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tve(e){if(Array.isArray(e))return l1(e)}function l1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rve(e,t){if(e==null)return{};var r=nve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ave(e,t,r){return t=ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ive(e){var t=sve(e,"string");return Hh(t)=="symbol"?t:t+""}function sve(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(this,arguments)}var ove=function(t){var r=t.value,n=t.formatter,a=Ue(t.children)?r:t.children;return We(n)?n(a):a},lve=function(t,r){var n=xn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},cve=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+h)/2,g=lve(p,y),x=g>=0?1:-1,b,_;a==="insideStart"?(b=p+x*o,_=m):a==="insideEnd"?(b=y-x*o,_=!m):a==="end"&&(b=y+x*o,_=m),_=g<=0?_:!_;var w=Dt(u,d,v,b),S=Dt(u,d,v,b+(_?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Ue(t.id)?Eo("recharts-radial-line-"):t.id;return T.createElement("text",qh({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:N,d:C})),T.createElement("textPath",{xlinkHref:"#".concat(N)},r))},uve=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Dt(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,g=Dt(o,l,v,h),x=g.x,b=g.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},dve=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,v=m*a,g=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Ar(Ar({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Ar(Ar({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Ar(Ar({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ar(Ar({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?Ar({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?Ar({x:l+u-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},C):i==="insideTop"?Ar({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?Ar({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?Ar({x:l+v,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?Ar({x:l+u-v,y:c+h,textAnchor:g,verticalAnchor:y},C):i==="insideBottomLeft"?Ar({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:p},C):i==="insideBottomRight"?Ar({x:l+u-v,y:c+d-h,textAnchor:g,verticalAnchor:p},C):Cd(i)&&(ve(i.x)||al(i.x))&&(ve(i.y)||al(i.y))?Ar({x:l+bn(i.x,u),y:c+bn(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},fve=function(t){return"cx"in t&&ve(t.cx)};function zr(e){var t=e.offset,r=t===void 0?5:t,n=rve(e,Xme),a=Ar({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ue(l)&&Ue(c)&&!j.isValidElement(u)&&!We(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(We(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=ove(a);var y=fve(i),m=Me(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cve(a,p,m);var v=y?uve(a):dve(a);return T.createElement(Ol,qh({className:Xe("recharts-label",f)},m,v,{breakAll:h}),p)}zr.displayName="Label";var E4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,v=t.height,g=t.clockWise,x=t.labelViewBox;if(x)return x;if(ve(m)&&ve(v)){if(ve(f)&&ve(h))return{x:f,y:h,width:m,height:v};if(ve(p)&&ve(y))return{x:p,y,width:m,height:v}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},hve=function(t,r){return t?t===!0?T.createElement(zr,{key:"label-implicit",viewBox:r}):Dr(t)?T.createElement(zr,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===zr?j.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):We(t)?T.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):Cd(t)?T.createElement(zr,qh({viewBox:r},t,{key:"label-implicit"})):null:null},pve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=E4(t),o=_n(a,zr).map(function(c,u){return j.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=hve(t.label,r||i);return[l].concat(Qme(o))};zr.parseViewBox=E4;zr.renderCallByParent=pve;function mve(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vve=mve;const gve=_t(vve);function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}var yve=["valueAccessor"],xve=["data","dataKey","clockWise","id","textBreakAll"];function bve(e){return Sve(e)||_ve(e)||jve(e)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function _ve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sve(e){if(Array.isArray(e))return c1(e)}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Nve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nve(e){var t=Pve(e,"string");return Kh(t)=="symbol"?t:t+""}function Pve(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jO(e,t){if(e==null)return{};var r=Eve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kve=function(t){return Array.isArray(t.value)?gve(t.value):t.value};function ei(e){var t=e.valueAccessor,r=t===void 0?kve:t,n=jO(e,yve),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=jO(n,xve);return!a||!a.length?null:T.createElement(rt,{className:"recharts-label-list"},a.map(function(d,f){var h=Ue(i)?r(d,f):Gt(d&&d.payload,i),p=Ue(l)?{}:{id:"".concat(l,"-").concat(f)};return T.createElement(zr,wg({},Me(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:zr.parseViewBox(Ue(o)?d:wO(wO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ei.displayName="LabelList";function Ave(e,t){return e?e===!0?T.createElement(ei,{key:"labelList-implicit",data:t}):T.isValidElement(e)||We(e)?T.createElement(ei,{key:"labelList-implicit",data:t,content:e}):Cd(e)?T.createElement(ei,wg({data:t},e,{key:"labelList-implicit"})):null:null}function Ove(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=_n(n,ei).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Ave(e.label,t);return[i].concat(bve(a))}ei.renderCallByParent=Ove;function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(this,arguments)}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){Tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tve(e,t,r){return t=Rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rve(e){var t=Mve(e,"string");return Gh(t)=="symbol"?t:t+""}function Mve(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ve=function(t,r){var n=xn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sm=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/bg,h=u?i:i+o*f,p=Dt(r,n,d,h),y=Dt(r,n,a,h),m=u?i-o*f:i,v=Dt(r,n,d*Math.cos(f*bg),m);return{center:p,circleTangency:y,lineTangency:v,theta:f}},k4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=$ve(o,l),u=o+c,d=Dt(r,n,i,o),f=Dt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Dt(r,n,a,o),y=Dt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ive=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=xn(d-u),h=Sm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,v=Sm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=v.circleTangency,x=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):k4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=Sm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,N=S.lineTangency,P=S.theta,k=Sm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=k.circleTangency,R=k.lineTangency,O=k.theta,E=c?Math.abs(u-d):Math.abs(u-d)-P-O;if(E<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Dve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A4=function(t){var r=SO(SO({},Dve),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Xe("recharts-sector",h),y=o-i,m=bn(l,y,0,!0),v;return m>0&&Math.abs(d-f)<360?v=Ive({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=k4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),T.createElement("path",u1({},Me(r,!0),{className:p,d:v,role:"img"}))};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(this,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lve(e,t,r){return t=Fve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fve(e){var t=Bve(e,"string");return Yh(t)=="symbol"?t:t+""}function Bve(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PO={curveBasisClosed:Lte,curveBasisOpen:Fte,curveBasis:Dte,curveBumpX:_te,curveBumpY:Ste,curveLinearClosed:Bte,curveLinear:px,curveMonotoneX:zte,curveMonotoneY:Ute,curveNatural:Vte,curveStep:Wte,curveStepAfter:qte,curveStepBefore:Hte},Cm=function(t){return t.x===+t.x&&t.y===+t.y},sf=function(t){return t.x},of=function(t){return t.y},zve=function(t,r){if(We(t))return t;var n="curve".concat(fx(t));return(n==="curveMonotone"||n==="curveBump")&&r?PO["".concat(n).concat(r==="vertical"?"Y":"X")]:PO[n]||px},Uve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=zve(n,l),f=u?i.filter(function(m){return Cm(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Cm(m)}):o,y=f.map(function(m,v){return NO(NO({},m),{},{base:p[v]})});return l==="vertical"?h=mm().y(of).x1(sf).x0(function(m){return m.base.x}):h=mm().x(sf).y1(of).y0(function(m){return m.base.y}),h.defined(Cm).curve(d),h(y)}return l==="vertical"&&ve(o)?h=mm().y(of).x1(sf).x0(o):ve(o)?h=mm().x(sf).y1(of).y0(o):h=S3().x(sf).y(of),h.defined(Cm).curve(d),h(f)},fo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Uve(t):a;return j.createElement("path",d1({},Me(t,!1),qv(t),{className:Xe("recharts-curve",r),d:o,ref:i}))},O4={exports:{}},Vve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wve=Vve,Hve=Wve;function T4(){}function R4(){}R4.resetWarningCache=T4;var qve=function(){function e(n,a,i,o,l,c){if(c!==Hve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:R4,resetWarningCache:T4};return r.PropTypes=r,r};O4.exports=qve();var Kve=O4.exports;const wt=_t(Kve);var Gve=Object.getOwnPropertyNames,Yve=Object.getOwnPropertySymbols,Xve=Object.prototype.hasOwnProperty;function EO(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Nm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function kO(e){return Gve(e).concat(Yve(e))}var Qve=Object.hasOwn||function(e,t){return Xve.call(e,t)};function Gl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Jve="__v",Zve="__o",ege="_owner",AO=Object.getOwnPropertyDescriptor,OO=Object.keys;function tge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function rge(e,t){return Gl(e.getTime(),t.getTime())}function nge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function age(e,t){return e===t}function TO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ige=Gl;function sge(e,t,r){var n=OO(e),a=n.length;if(OO(t).length!==a)return!1;for(;a-- >0;)if(!M4(e,t,r,n[a]))return!1;return!0}function lf(e,t,r){var n=kO(e),a=n.length;if(kO(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!M4(e,t,r,i)||(o=AO(e,i),l=AO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function oge(e,t){return Gl(e.valueOf(),t.valueOf())}function lge(e,t){return e.source===t.source&&e.flags===t.flags}function RO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function cge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function M4(e,t,r,n){return(n===ege||n===Zve||n===Jve)&&(e.$$typeof||t.$$typeof)?!0:Qve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dge="[object Arguments]",fge="[object Boolean]",hge="[object Date]",pge="[object Error]",mge="[object Map]",vge="[object Number]",gge="[object Object]",yge="[object RegExp]",xge="[object Set]",bge="[object String]",wge="[object URL]",jge=Array.isArray,MO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$O=Object.assign,_ge=Object.prototype.toString.call.bind(Object.prototype.toString);function Sge(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,v){if(y===m)return!0;if(y==null||m==null)return!1;var g=typeof y;if(g!==typeof m)return!1;if(g!=="object")return g==="number"?o(y,m,v):g==="function"?a(y,m,v):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return l(y,m,v);if(jge(y))return t(y,m,v);if(MO!=null&&MO(y))return f(y,m,v);if(x===Date)return r(y,m,v);if(x===RegExp)return u(y,m,v);if(x===Map)return i(y,m,v);if(x===Set)return d(y,m,v);var b=_ge(y);return b===hge?r(y,m,v):b===yge?u(y,m,v):b===mge?i(y,m,v):b===xge?d(y,m,v):b===gge?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,v):b===wge?h(y,m,v):b===pge?n(y,m,v):b===dge?l(y,m,v):b===fge||b===vge||b===bge?c(y,m,v):!1}}function Cge(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?lf:tge,areDatesEqual:rge,areErrorsEqual:nge,areFunctionsEqual:age,areMapsEqual:n?EO(TO,lf):TO,areNumbersEqual:ige,areObjectsEqual:n?lf:sge,arePrimitiveWrappersEqual:oge,areRegExpsEqual:lge,areSetsEqual:n?EO(RO,lf):RO,areTypedArraysEqual:n?lf:cge,areUrlsEqual:uge};if(r&&(a=$O({},a,r(a))),t){var i=Nm(a.areArraysEqual),o=Nm(a.areMapsEqual),l=Nm(a.areObjectsEqual),c=Nm(a.areSetsEqual);a=$O({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Nge(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function Pge(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Ege=Oo();Oo({strict:!0});Oo({circular:!0});Oo({circular:!0,strict:!0});Oo({createInternalComparator:function(){return Gl}});Oo({strict:!0,createInternalComparator:function(){return Gl}});Oo({circular:!0,createInternalComparator:function(){return Gl}});Oo({circular:!0,createInternalComparator:function(){return Gl},strict:!0});function Oo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Cge(e),c=Sge(l),u=n?n(c):Nge(c);return Pge({circular:r,comparator:c,createState:a,equals:u,strict:o})}function kge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):kge(a)};requestAnimationFrame(n)}function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function Age(e){return Mge(e)||Rge(e)||Tge(e)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mge(e){if(Array.isArray(e))return e}function $ge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Age(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IO(a.bind(null,u),c);return}a(c),IO(a.bind(null,u));return}f1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){$4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4(e,t,r){return t=Ige(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ige(e){var t=Dge(e,"string");return Xh(t)==="symbol"?t:String(t)}function Dge(e,t){if(Xh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Fge=function(t){return t},Bge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ff=function(t,r){return Object.keys(r).reduce(function(n,a){return FO(FO({},n),{},$4({},a,t(a,r[a])))},{})},BO=function(t,r,n){return t.map(function(a){return"".concat(Bge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function zge(e,t){return Wge(e)||Vge(e,t)||I4(e,t)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Wge(e){if(Array.isArray(e))return e}function Hge(e){return Gge(e)||Kge(e)||I4(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4(e,t){if(e){if(typeof e=="string")return h1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(e,t)}}function Kge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gge(e){if(Array.isArray(e))return h1(e)}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jg=1e-4,D4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},L4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},zO=function(t,r){return function(n){var a=D4(t,r);return L4(a,n)}},Yge=function(t,r){return function(n){var a=D4(t,r),i=[].concat(Hge(a.map(function(o,l){return o*l}).slice(1)),[0]);return L4(i,n)}},UO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=zge(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=zO(a,o),h=zO(i,l),p=Yge(a,o),y=function(g){return g>1?1:g<0?0:g},m=function(g){for(var x=g>1?1:g,b=x,_=0;_<8;++_){var w=f(b)-x,S=p(b);if(Math.abs(w-x)<jg||S<jg)return h(b);b=y(b-w/S)}return h(b)};return m.isStepper=!1,m},Xge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<jg&&Math.abs(m)<jg?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},Qge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UO(a);case"spring":return Xge();default:if(a.split("(")[0]==="cubic-bezier")return UO(a)}return typeof a=="function"?a:null};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function VO(e){return eye(e)||Zge(e)||F4(e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eye(e){if(Array.isArray(e))return m1(e)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){p1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p1(e,t,r){return t=tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tye(e){var t=rye(e,"string");return Qh(t)==="symbol"?t:String(t)}function rye(e,t){if(Qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nye(e,t){return sye(e)||iye(e,t)||F4(e,t)||aye()}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F4(e,t){if(e){if(typeof e=="string")return m1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sye(e){if(Array.isArray(e))return e}var _g=function(t,r,n){return t+(r-t)*n},v1=function(t){var r=t.from,n=t.to;return r!==n},oye=function e(t,r,n){var a=Ff(function(i,o){if(v1(o)){var l=t(o.from,o.to,o.velocity),c=nye(l,2),u=c[0],d=c[1];return Kr(Kr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ff(function(i,o){return v1(o)?Kr(Kr({},o),{},{velocity:_g(o.velocity,a[i].velocity,n),from:_g(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const lye=function(e,t,r,n,a){var i=Lge(e,t),o=i.reduce(function(v,g){return Kr(Kr({},v),{},p1({},g,[e[g],t[g]]))},{}),l=i.reduce(function(v,g){return Kr(Kr({},v),{},p1({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ff(function(g,x){return x.from},l)},p=function(){return!Object.values(l).filter(v1).length},y=function(g){u||(u=g);var x=g-u,b=x/r.dt;l=oye(r,l,b),a(Kr(Kr(Kr({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var x=(g-d)/n,b=Ff(function(w,S){return _g.apply(void 0,VO(S).concat([r(x)]))},o);if(a(Kr(Kr(Kr({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=Ff(function(w,S){return _g.apply(void 0,VO(S).concat([r(1)]))},o);a(Kr(Kr(Kr({},e),t),_))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var cye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uye(e,t){if(e==null)return{};var r=dye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wb(e){return mye(e)||pye(e)||hye(e)||fye()}function fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hye(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function pye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mye(e){if(Array.isArray(e))return g1(e)}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wf(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function yye(e,t,r){return t&&gye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B4(e){var t=xye(e,"string");return Ru(t)==="symbol"?t:String(t)}function xye(e,t){if(Ru(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ru(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y1(e,t)}function wye(e){var t=jye();return function(){var n=Sg(e),a;if(t){var i=Sg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return x1(this,a)}}function x1(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1(e)}function b1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}var Sa=function(e){bye(r,e);var t=wye(r);function r(n,a){var i;vye(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(b1(i)),i.changeStyle=i.changeStyle.bind(b1(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),x1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},x1(i);i.state={style:c?wf({},c,u):u}}else i.state={style:{}};return i}return yye(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?wf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Ege(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var v={style:c?wf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Ma(Ma({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=lye(o,l,Qge(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,g){if(g===0)return m;var x=v.duration,b=v.easing,_=b===void 0?"ease":b,w=v.style,S=v.properties,C=v.onAnimationEnd,N=g>0?o[g-1]:v,P=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(wb(m),[i.runJSAnimation.bind(i,{from:N.style,to:w,duration:x,easing:_}),x]);var k=BO(P,x,_),A=Ma(Ma(Ma({},N.style),w),{},{transition:k});return[].concat(wb(m),[A,x,C]).filter(Fge)};return this.manager.start([c].concat(wb(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$ge());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?wf({},l,c):c,v=BO(Object.keys(m),o,u);y.start([d,i,Ma(Ma({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=uye(a,cye),u=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,m=y.style,v=m===void 0?{}:m,g=y.className,x=j.cloneElement(p,Ma(Ma({},c),{},{style:Ma(Ma({},v),d),className:g}));return x};return u===1?f(j.Children.only(i)):T.createElement("div",null,j.Children.map(i,function(h){return f(h)}))}}]),r}(j.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function _ye(e,t){return Pye(e)||Nye(e,t)||Cye(e,t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(e,t){if(e){if(typeof e=="string")return qO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(e,t)}}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Pye(e){if(Array.isArray(e))return e}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){Eye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eye(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Aye(e,"string");return Jh(t)=="symbol"?t:t+""}function Aye(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YO=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Oye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Tye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UC=function(t){var r=GO(GO({},Tye),t),n=j.useRef(),a=j.useState(-1),i=_ye(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Xe("recharts-rectangle",p);return x?T.createElement(Sa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(_){var w=_.width,S=_.height,C=_.x,N=_.y;return T.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:y},T.createElement("path",Cg({},Me(r,!0),{className:b,d:YO(C,N,w,S,h),ref:n})))}):T.createElement("path",Cg({},Me(r,!0),{className:b,d:YO(c,u,d,f,h)}))},Rye=["points","className","baseLinePoints","connectNulls"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}function Mye(e,t){if(e==null)return{};var r=$ye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XO(e){return Fye(e)||Lye(e)||Dye(e)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function Lye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fye(e){if(Array.isArray(e))return w1(e)}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QO=function(t){return t&&t.x===+t.x&&t.y===+t.y},Bye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){QO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),QO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Bf=function(t,r){var n=Bye(t);r&&(n=[n.reduce(function(i,o){return[].concat(XO(i),XO(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},zye=function(t,r,n){var a=Bf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Bf(r.reverse(),n).slice(1))},Uye=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Mye(t,Rye);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=zye(r,a,i);return T.createElement("g",{className:l},T.createElement("path",$c({},Me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?T.createElement("path",$c({},Me(o,!0),{fill:"none",d:Bf(r,i)})):null,c?T.createElement("path",$c({},Me(o,!0),{fill:"none",d:Bf(a,i)})):null)}var d=Bf(r,i);return T.createElement("path",$c({},Me(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}var Op=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Xe("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",j1({},Me(t,!1),qv(t),{className:o,cx:r,cy:n,r:a})):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}var Vye=["x","y","top","left","width","height","className"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Hye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hye(e,t,r){return t=qye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qye(e){var t=Kye(e,"string");return Zh(t)=="symbol"?t:t+""}function Kye(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gye(e,t){if(e==null)return{};var r=Yye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xye=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Qye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=Gye(t,Vye),v=Wye({x:n,y:i,top:l,left:u,width:f,height:p},m);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(l)||!ve(u)?null:T.createElement("path",_1({},Me(v,!0),{className:Xe("recharts-cross",y),d:Xye(n,i,f,p,l,u)}))},Jye=Nx,Zye=JL,exe=Ii;function txe(e,t){return e&&e.length?Jye(e,exe(t),Zye):void 0}var rxe=txe;const nxe=_t(rxe);var axe=Nx,ixe=Ii,sxe=ZL;function oxe(e,t){return e&&e.length?axe(e,ixe(t),sxe):void 0}var lxe=oxe;const cxe=_t(lxe);var uxe=["cx","cy","angle","ticks","axisLine"],dxe=["ticks","tick","angle","tickFormatter","stroke"];function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eT(e,t){if(e==null)return{};var r=fxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U4(n.key),n)}}function pxe(e,t,r){return t&&tT(e.prototype,t),r&&tT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxe(e,t,r){return t=Ng(t),vxe(e,z4()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function vxe(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gxe(e)}function gxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S1(e,t)}function Ax(e,t,r){return t=U4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=xxe(e,"string");return Mu(t)=="symbol"?t:t+""}function xxe(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ox=function(e){function t(){return hxe(this,t),mxe(this,t,arguments)}return yxe(t,e),pxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Dt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=nxe(l,function(d){return d.coordinate||0}),u=cxe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=eT(n,uxe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=Dt(a,i,d[0],o),h=Dt(a,i,d[1],o),p=Bo(Bo(Bo({},Me(u,!1)),{},{fill:"none"},Me(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",zf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=eT(a,dxe),f=this.getTickTextAnchor(),h=Me(d,!1),p=Me(o,!1),y=i.map(function(m,v){var g=n.getTickValueCoord(m),x=Bo(Bo(Bo(Bo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},g),{},{payload:m});return T.createElement(rt,zf({className:Xe("recharts-polar-radius-axis-tick",P4(o)),key:"tick-".concat(m.coordinate)},xo(n.props,m,v)),t.renderTickItem(o,x,c?c(m.value,v):m.value))});return T.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:T.createElement(rt,{className:Xe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),zr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return T.isValidElement(n)?o=T.cloneElement(n,a):We(n)?o=n(a):o=T.createElement(Ol,zf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(j.PureComponent);Ax(Ox,"displayName","PolarRadiusAxis");Ax(Ox,"axisType","radiusAxis");Ax(Ox,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W4(n.key),n)}}function wxe(e,t,r){return t&&nT(e.prototype,t),r&&nT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jxe(e,t,r){return t=Pg(t),_xe(e,V4()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function _xe(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(e)}function Sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function Cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(e,t)}function Tx(e,t,r){return t=W4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e){var t=Nxe(e,"string");return $u(t)=="symbol"?t:t+""}function Nxe(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pxe=Math.PI/180,aT=1e-5,Rx=function(e){function t(){return bxe(this,t),jxe(this,t,arguments)}return Cxe(t,e),wxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Dt(i,o,l,n.coordinate),h=Dt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Pxe),o;return i>aT?o=a==="outer"?"start":"end":i<-aT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=zo(zo({},Me(this.props,!1)),{},{fill:"none"},Me(l,!1));if(c==="circle")return T.createElement(Op,Jo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Dt(a,i,o,h.coordinate)});return T.createElement(Uye,Jo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Me(this.props,!1),f=Me(o,!1),h=zo(zo({},d),{},{fill:"none"},Me(l,!1)),p=i.map(function(y,m){var v=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),x=zo(zo(zo({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:v.x2,y:v.y2});return T.createElement(rt,Jo({className:Xe("recharts-polar-angle-axis-tick",P4(o)),key:"tick-".concat(y.coordinate)},xo(n.props,y,m)),l&&T.createElement("line",Jo({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,c?c(y.value,m):y.value))});return T.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:T.createElement(rt,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return T.isValidElement(n)?o=T.cloneElement(n,a):We(n)?o=n(a):o=T.createElement(Ol,Jo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(j.PureComponent);Tx(Rx,"displayName","PolarAngleAxis");Tx(Rx,"axisType","angleAxis");Tx(Rx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Exe=G3,kxe=Exe(Object.getPrototypeOf,Object),Axe=kxe,Oxe=xs,Txe=Axe,Rxe=bs,Mxe="[object Object]",$xe=Function.prototype,Ixe=Object.prototype,H4=$xe.toString,Dxe=Ixe.hasOwnProperty,Lxe=H4.call(Object);function Fxe(e){if(!Rxe(e)||Oxe(e)!=Mxe)return!1;var t=Txe(e);if(t===null)return!0;var r=Dxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&H4.call(r)==Lxe}var Bxe=Fxe;const zxe=_t(Bxe);var Uxe=xs,Vxe=bs,Wxe="[object Boolean]";function Hxe(e){return e===!0||e===!1||Vxe(e)&&Uxe(e)==Wxe}var qxe=Hxe;const Kxe=_t(qxe);function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function Gxe(e,t){return Jxe(e)||Qxe(e,t)||Xxe(e,t)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e,t){if(e){if(typeof e=="string")return iT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(e,t)}}function iT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Jxe(e){if(Array.isArray(e))return e}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){Zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zxe(e,t,r){return t=e0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0e(e){var t=t0e(e,"string");return ep(t)=="symbol"?t:t+""}function t0e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lT=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},r0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n0e=function(t){var r=oT(oT({},r0e),t),n=j.useRef(),a=j.useState(-1),i=Gxe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Xe("recharts-trapezoid",p);return g?T.createElement(Sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:g},function(b){var _=b.upperWidth,w=b.lowerWidth,S=b.height,C=b.x,N=b.y;return T.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},T.createElement("path",Eg({},Me(r,!0),{className:x,d:lT(C,N,_,w,S),ref:n})))}):T.createElement("g",null,T.createElement("path",Eg({},Me(r,!0),{className:x,d:lT(c,u,d,f,h)})))},a0e=["option","shapeType","propTransformer","activeClassName","isActive"];function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function i0e(e,t){if(e==null)return{};var r=s0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){o0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0e(e,t,r){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return tp(t)=="symbol"?t:t+""}function c0e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0e(e,t){return kg(kg({},t),e)}function d0e(e,t){return e==="symbols"}function uT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(UC,r);case"trapezoid":return T.createElement(n0e,r);case"sector":return T.createElement(A4,r);case"symbols":if(d0e(t))return T.createElement(vx,r);break;default:return null}}function f0e(e){return j.isValidElement(e)?e.props:e}function Ag(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?u0e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=i0e(e,a0e),u;if(j.isValidElement(t))u=j.cloneElement(t,kg(kg({},c),f0e(t)));else if(We(t))u=t(c);else if(zxe(t)&&!Kxe(t)){var d=a(t,c);u=T.createElement(uT,{shapeType:r,elementProps:d})}else{var f=c;u=T.createElement(uT,{shapeType:r,elementProps:f})}return l?T.createElement(rt,{className:o},u):u}function Mx(e,t){return t!=null&&"trapezoids"in e.props}function $x(e,t){return t!=null&&"sectors"in e.props}function rp(e,t){return t!=null&&"points"in e.props}function h0e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function p0e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function m0e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function v0e(e,t){var r;return Mx(e,t)?r=h0e:$x(e,t)?r=p0e:rp(e,t)&&(r=m0e),r}function g0e(e,t){var r;return Mx(e,t)?r="trapezoids":$x(e,t)?r="sectors":rp(e,t)&&(r="points"),r}function y0e(e,t){if(Mx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($x(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return rp(e,t)?t.payload:{}}function x0e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=g0e(r,t),i=y0e(r,t),o=n.filter(function(c,u){var d=bo(i,c),f=r.props[a].filter(function(y){var m=v0e(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Zm;function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function w0e(e,t,r){return t&&fT(e.prototype,t),r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j0e(e,t,r){return t=Og(t),_0e(e,q4()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function _0e(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S0e(e)}function S0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function C0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N1(e,t)}function N1(e,t){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N1(e,t)}function va(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=N0e(e,"string");return Iu(t)=="symbol"?t:t+""}function N0e(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var js=function(e){function t(r){var n;return b0e(this,t),n=j0e(this,t,[r]),va(n,"pieRef",null),va(n,"sectorRefs",[]),va(n,"id",Eo("recharts-pie-")),va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return C0e(t,e),w0e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Me(this.props,!1),f=Me(o,!1),h=Me(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,v){var g=(m.startAngle+m.endAngle)/2,x=Dt(m.cx,m.cy,m.outerRadius+p,g),b=Mt(Mt(Mt(Mt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=Mt(Mt(Mt(Mt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Dt(m.cx,m.cy,m.outerRadius,g),x]}),w=c;return Ue(c)&&Ue(u)?w="value":Ue(c)&&(w=u),T.createElement(rt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,Gt(m,w)))});return T.createElement(rt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,y=Mt(Mt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(rt,Ic({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},xo(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),T.createElement(Ag,Ic({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return T.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,v=[],g=i&&i[0],x=g.startAngle;return i.forEach(function(b,_){var w=h&&h[_],S=_>0?ra(b,"paddingAngle",0):0;if(w){var C=er(w.endAngle-w.startAngle,b.endAngle-b.startAngle),N=Mt(Mt({},b),{},{startAngle:x+S,endAngle:x+C(m)+S});v.push(N),x=N.endAngle}else{var P=b.endAngle,k=b.startAngle,A=er(0,P-k),R=A(m),O=Mt(Mt({},b),{},{startAngle:x+S,endAngle:x+R+S});v.push(O),x=O.endAngle}}),T.createElement(rt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!bo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var m=Xe("recharts-pie",l);return T.createElement(rt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),zr.renderCallByParent(this.props,null,!1),(!p||y)&&ei.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);if(We(n))return n(a);var o=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(fo,Ic({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);var o=i;if(We(n)&&(o=n(a),T.isValidElement(o)))return o;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return T.createElement(Ol,Ic({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Zm=js;va(js,"displayName","Pie");va(js,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});va(js,"parseDeltaAngle",function(e,t){var r=xn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});va(js,"getRealPieData",function(e){var t=e.data,r=e.children,n=Me(e,!1),a=_n(r,Np);return t&&t.length?t.map(function(i,o){return Mt(Mt(Mt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Mt(Mt({},n),i.props)}):[]});va(js,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=N4(a,i),l=n+bn(e.cx,a,a/2),c=r+bn(e.cy,i,i/2),u=bn(e.innerRadius,o,0),d=bn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});va(js,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Mt(Mt({},t.type.defaultProps),t.props):t.props,a=Zm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Zm.parseCoordinateOfPie(n,r),m=Zm.parseDeltaAngle(o,l),v=Math.abs(m),g=u;Ue(u)&&Ue(f)?(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Ue(u)&&(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var x=a.filter(function(N){return Gt(N,g,0)!==0}).length,b=(v>=360?x:x-1)*c,_=v-x*p-b,w=a.reduce(function(N,P){var k=Gt(P,g,0);return N+(ve(k)?k:0)},0),S;if(w>0){var C;S=a.map(function(N,P){var k=Gt(N,g,0),A=Gt(N,d,P),R=(ve(k)?k:0)/w,O;P?O=C.endAngle+xn(m)*c*(k!==0?1:0):O=o;var E=O+xn(m)*((k!==0?p:0)+R*_),$=(O+E)/2,I=(y.innerRadius+y.outerRadius)/2,M=[{name:A,value:k,payload:N,dataKey:g,type:h}],D=Dt(y.cx,y.cy,I,$);return C=Mt(Mt(Mt({percent:R,cornerRadius:i,name:A,tooltipPayload:M,midAngle:$,middleRadius:I,tooltipPosition:D},N),y),{},{value:Gt(N,g),startAngle:O,endAngle:E,payload:N,paddingAngle:xn(m)*c}),C})}return Mt(Mt({},y),{},{sectors:S,data:a})});var P0e=Math.ceil,E0e=Math.max;function k0e(e,t,r,n){for(var a=-1,i=E0e(P0e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var A0e=k0e,O0e=hL,hT=1/0,T0e=17976931348623157e292;function R0e(e){if(!e)return e===0?e:0;if(e=O0e(e),e===hT||e===-hT){var t=e<0?-1:1;return t*T0e}return e===e?e:0}var G4=R0e,M0e=A0e,$0e=xx,jb=G4;function I0e(e){return function(t,r,n){return n&&typeof n!="number"&&$0e(t,r,n)&&(r=n=void 0),t=jb(t),r===void 0?(r=t,t=0):r=jb(r),n=n===void 0?t<r?1:-1:jb(n),M0e(t,r,n,e)}}var D0e=I0e,L0e=D0e,F0e=L0e(),B0e=F0e;const Tg=_t(B0e);function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){Y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y4(e,t,r){return t=z0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z0e(e){var t=U0e(e,"string");return np(t)=="symbol"?t:t+""}function U0e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V0e=["Webkit","Moz","O","ms"],W0e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=V0e.reduce(function(i,o){return mT(mT({},i),{},Y4({},o+n,r))},{});return a[t]=r,a};function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q4(n.key),n)}}function q0e(e,t,r){return t&&gT(e.prototype,t),r&&gT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K0e(e,t,r){return t=Mg(t),G0e(e,X4()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function G0e(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0e(e)}function Y0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function X0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P1(e,t)}function qn(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=Q0e(e,"string");return Du(t)=="symbol"?t:t+""}function Q0e(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J0e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Df().domain(Tg(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},yT=function(t){return t.changedTouches&&!!t.changedTouches.length},Lu=function(e){function t(r){var n;return H0e(this,t),n=K0e(this,t,[r]),qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qn(n,"handleSlideDragStart",function(a){var i=yT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return X0e(t,e),q0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Gt(i[n],l,n);return We(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=yT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,v=d.data,g={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),g[o]=u+x;var b=this.getIndex(g),_=b.startIndex,w=b.endIndex,S=function(){var N=v.length-1;return o==="startX"&&(l>c?_%m===0:w%m===0)||l<c&&w===N||o==="endX"&&(l>c?w%m===0:_%m===0)||l>c&&w===N};this.setState(qn(qn({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(qn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?T.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,v=c.endIndex,g=Math.max(n,this.props.x),x=_b(_b({},Me(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return T.createElement(rt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return T.createElement(rt,{className:"recharts-brush-texts"},T.createElement(Ol,Rg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),T.createElement(Ol,Rg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var b=Xe("recharts-brush",i),_=T.Children.count(o)===1,w=W0e("userSelect","none");return T.createElement(rt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||g||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return T.isValidElement(n)?i=T.cloneElement(n,a):We(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return _b({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?J0e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(j.PureComponent);qn(Lu,"displayName","Brush");qn(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Z0e=pC;function ebe(e,t){var r;return Z0e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var tbe=ebe,rbe=B3,nbe=Ii,abe=tbe,ibe=Un,sbe=xx;function obe(e,t,r){var n=ibe(e)?rbe:abe;return r&&sbe(e,t,r)&&(t=void 0),n(e,nbe(t))}var lbe=obe;const cbe=_t(lbe);var Pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},xT=lL;function ube(e,t,r){t=="__proto__"&&xT?xT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var dbe=ube,fbe=dbe,hbe=sL,pbe=Ii;function mbe(e,t){var r={};return t=pbe(t),hbe(e,function(n,a,i){fbe(r,a,t(n,a,i))}),r}var vbe=mbe;const gbe=_t(vbe);function ybe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var xbe=ybe,bbe=pC;function wbe(e,t){var r=!0;return bbe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var jbe=wbe,_be=xbe,Sbe=jbe,Cbe=Ii,Nbe=Un,Pbe=xx;function Ebe(e,t,r){var n=Nbe(e)?_be:Sbe;return r&&Pbe(e,t,r)&&(t=void 0),n(e,Cbe(t))}var kbe=Ebe;const J4=_t(kbe);var Abe=["x","y"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Obe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Obe(e,t,r){return t=Tbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Rbe(e,"string");return ap(t)=="symbol"?t:t+""}function Rbe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mbe(e,t){if(e==null)return{};var r=$be(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ibe(e,t){var r=e.x,n=e.y,a=Mbe(e,Abe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return cf(cf(cf(cf(cf({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function wT(e){return T.createElement(Ag,E1({shapeType:"rectangle",propTransformer:Ibe,activeClassName:"recharts-active-bar"},e))}var Dbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ve(n)||lee(n);return i?t(n,a):(i||Rl(),r)}},Lbe=["value","background"],Z4;function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Fbe(e,t){if(e==null)return{};var r=Bbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tF(n.key),n)}}function Ube(e,t,r){return t&&_T(e.prototype,t),r&&_T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbe(e,t,r){return t=Ig(t),Wbe(e,eF()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function Wbe(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(e)}function Hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function qbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k1(e,t)}function Xs(e,t,r){return t=tF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=Kbe(e,"string");return Fu(t)=="symbol"?t:t+""}function Kbe(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=function(e){function t(){var r;zbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Vbe(this,t,[].concat(a)),Xs(r,"state",{isAnimationFinished:!1}),Xs(r,"id",Eo("recharts-bar-")),Xs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Xs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qbe(t,e),Ube(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Me(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=jr(jr(jr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return T.createElement(rt,$g({className:"recharts-bar-rectangle"},xo(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(wT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return T.createElement(Sa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(v,g){var x=h&&h[g];if(x){var b=er(x.x,v.x),_=er(x.y,v.y),w=er(x.width,v.width),S=er(x.height,v.height);return jr(jr({},v),{},{x:b(y),y:_(y),width:w(y),height:S(y)})}if(o==="horizontal"){var C=er(0,v.height),N=C(y);return jr(jr({},v),{},{y:v.y+v.height-N,height:N})}var P=er(0,v.width),k=P(y);return jr(jr({},v),{},{width:k})});return T.createElement(rt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!bo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Me(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Fbe(u,Lbe);if(!f)return null;var p=jr(jr(jr(jr(jr({},h),{},{fill:"#eee"},f),c),xo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(wT,$g({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=_n(d,Id);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,g){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Gt(v,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(rt,y,f.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=Xe("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,w=Ue(m)?this.id:m;return T.createElement(rt,{className:g},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,T.createElement(rt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||v)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);Z4=Pr;Xs(Pr,"displayName","Bar");Xs(Pr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xs(Pr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Pme(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,v=m!==void 0?jr(jr({},m),r.props):r.props,g=v.dataKey,x=v.children,b=v.minPointSize,_=y==="horizontal"?o:i,w=u?_.scale.domain():null,S=Mme({numericAxis:_}),C=_n(x,Np),N=f.map(function(P,k){var A,R,O,E,$,I;u?A=Eme(u[d+k],w):(A=Gt(P,g),Array.isArray(A)||(A=[S,A]));var M=Dbe(b,Z4.defaultProps.minPointSize)(A[1],k);if(y==="horizontal"){var D,L=[o.scale(A[0]),o.scale(A[1])],B=L[0],Q=L[1];R=fO({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:k}),O=(D=Q??B)!==null&&D!==void 0?D:void 0,E=p.size;var X=B-Q;if($=Number.isNaN(X)?0:X,I={x:R,y:o.y,width:E,height:o.height},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var re=xn($||M)*(Math.abs(M)-Math.abs($));O-=re,$+=re}}else{var z=[i.scale(A[0]),i.scale(A[1])],U=z[0],V=z[1];if(R=U,O=fO({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:k}),E=V-U,$=p.size,I={x:i.x,y:O,width:i.width,height:$},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var H=xn(E||M)*(Math.abs(M)-Math.abs(E));E+=H}}return jr(jr(jr({},P),{},{x:R,y:O,width:E,height:$,value:u?A:A[1],payload:P,background:I},C&&C[k]&&C[k].props),{},{tooltipPayload:[S4(r,P)],tooltipPosition:{x:R+E/2,y:O+$/2}})});return jr({data:N,layout:y},h)});function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Gbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function Ybe(e,t,r){return t&&ST(e.prototype,t),r&&ST(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Ix(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ix(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=Xbe(e,"string");return ip(t)=="symbol"?t:t+""}function Xbe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dx=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gn(u,Pr);return d.reduce(function(p,y){var m=r[y],v=m.orientation,g=m.domain,x=m.padding,b=x===void 0?{}:x,_=m.mirror,w=m.reversed,S="".concat(v).concat(_?"Mirror":""),C,N,P,k,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=g[1]-g[0],O=1/0,E=m.categoricalDomain.sort(fee);if(E.forEach(function(z,U){U>0&&(O=Math.min((z||0)-(E[U-1]||0),O))}),Number.isFinite(O)){var $=O/R,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=$*I/2),m.padding==="no-gap"){var M=bn(t.barCategoryGap,$*I),D=$*I/2;C=D-M-(D-M)/I*M}}}a==="xAxis"?N=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:N=m.range,w&&(N=[N[1],N[0]]);var L=b4(m,i,h),B=L.scale,Q=L.realScaleType;B.domain(g).range(N),w4(B);var X=j4(B,Ha(Ha({},m),{},{realScaleType:Q}));a==="xAxis"?(A=v==="top"&&!_||v==="bottom"&&_,P=n.left,k=f[S]-A*m.height):a==="yAxis"&&(A=v==="left"&&!_||v==="right"&&_,P=f[S]-A*m.width,k=n.top);var re=Ha(Ha(Ha({},m),X),{},{realScaleType:Q,x:P,y:k,scale:B,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return re.bandSize=xg(re,X),!m.hide&&a==="xAxis"?f[S]+=(A?-1:1)*re.height:m.hide||(f[S]+=(A?-1:1)*re.width),Ha(Ha({},p),{},Ix({},y,re))},{})},nF=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Qbe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return nF({x:r,y:n},{x:a,y:i})},aF=function(){function e(t){Gbe(this,e),this.scale=t}return Ybe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ix(aF,"EPS",1e-4);var VC=function(t){var r=Object.keys(t).reduce(function(n,a){return Ha(Ha({},n),{},Ix({},a,aF.create(t[a])))},{});return Ha(Ha({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return gbe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return J4(a,function(i,o){return r[o].isInRange(i)})}})};function Jbe(e){return(e%180+180)%180}var Zbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Jbe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ewe=Ii,twe=Cp,rwe=gx;function nwe(e){return function(t,r,n){var a=Object(t);if(!twe(t)){var i=ewe(r);t=rwe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var awe=nwe,iwe=G4;function swe(e){var t=iwe(e),r=t%1;return t===t?r?t-r:t:0}var owe=swe,lwe=eL,cwe=Ii,uwe=owe,dwe=Math.max;function fwe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:uwe(r);return a<0&&(a=dwe(n+a,0)),lwe(e,cwe(t),a)}var hwe=fwe,pwe=awe,mwe=hwe,vwe=pwe(mwe),gwe=vwe;const ywe=_t(gwe);var xwe=fZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),WC=j.createContext(void 0),HC=j.createContext(void 0),iF=j.createContext(void 0),sF=j.createContext({}),oF=j.createContext(void 0),lF=j.createContext(0),cF=j.createContext(0),NT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=xwe(i);return T.createElement(WC.Provider,{value:n},T.createElement(HC.Provider,{value:a},T.createElement(sF.Provider,{value:i},T.createElement(iF.Provider,{value:d},T.createElement(oF.Provider,{value:o},T.createElement(lF.Provider,{value:u},T.createElement(cF.Provider,{value:c},l)))))))},bwe=function(){return j.useContext(oF)},uF=function(t){var r=j.useContext(WC);r==null&&Rl();var n=r[t];return n==null&&Rl(),n},wwe=function(){var t=j.useContext(WC);return Bs(t)},jwe=function(){var t=j.useContext(HC),r=ywe(t,function(n){return J4(n.domain,Number.isFinite)});return r||Bs(t)},dF=function(t){var r=j.useContext(HC);r==null&&Rl();var n=r[t];return n==null&&Rl(),n},_we=function(){var t=j.useContext(iF);return t},Swe=function(){return j.useContext(sF)},qC=function(){return j.useContext(cF)},KC=function(){return j.useContext(lF)};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function Cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hF(n.key),n)}}function Pwe(e,t,r){return t&&Nwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ewe(e,t,r){return t=Dg(t),kwe(e,fF()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function kwe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Awe(e)}function Awe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function Owe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A1(e,t)}function A1(e,t){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A1(e,t)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){GC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GC(e,t,r){return t=hF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=Twe(e,"string");return Bu(t)=="symbol"?t:t+""}function Twe(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rwe(e,t){return Dwe(e)||Iwe(e,t)||$we(e,t)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(e,t){if(e){if(typeof e=="string")return kT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(e,t)}}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dwe(e){if(Array.isArray(e))return e}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}var Lwe=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):We(t)?n=t(r):n=T.createElement("line",O1({},r,{className:"recharts-reference-line-line"})),n},Fwe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(Pi(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var g=u.x,x=t.x.apply(g,{position:o});if(Pi(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:o})});return Pi(u,"discard")&&cbe(w,function(S){return!t.isInRange(S)})?null:w}return null};function Bwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=bwe(),d=uF(a),f=dF(i),h=_we();if(!u||!h)return null;Za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=VC({x:d.scale,y:f.scale}),y=Dr(t),m=Dr(r),v=n&&n.length===2,g=Fwe(p,y,m,v,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var x=Rwe(g,2),b=x[0],_=b.x,w=b.y,S=x[1],C=S.x,N=S.y,P=Pi(e,"hidden")?"url(#".concat(u,")"):void 0,k=ET(ET({clipPath:P},Me(e,!0)),{},{x1:_,y1:w,x2:C,y2:N});return T.createElement(rt,{className:Xe("recharts-reference-line",l)},Lwe(o,k),zr.renderCallByParent(e,Qbe({x1:_,y1:w,x2:C,y2:N})))}var YC=function(e){function t(){return Cwe(this,t),Ewe(this,t,arguments)}return Owe(t,e),Pwe(t,[{key:"render",value:function(){return T.createElement(Bwe,this.props)}}])}(T.Component);GC(YC,"displayName","ReferenceLine");GC(YC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(this,arguments)}function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Lx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mF(n.key),n)}}function Vwe(e,t,r){return t&&Uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wwe(e,t,r){return t=Lg(t),Hwe(e,pF()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function Hwe(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qwe(e)}function qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function Kwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(e,t)}function Lx(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=Gwe(e,"string");return zu(t)=="symbol"?t:t+""}function Gwe(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ywe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=VC({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Pi(t,"discard")&&!o.isInRange(l)?null:l},Fx=function(e){function t(){return zwe(this,t),Wwe(this,t,arguments)}return Kwe(t,e),Vwe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Dr(a),d=Dr(i);if(Za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Ywe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,v=y.className,g=Pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=OT(OT({clipPath:g},Me(this.props,!0)),{},{cx:h,cy:p});return T.createElement(rt,{className:Xe("recharts-reference-dot",v)},t.renderDot(m,x),zr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(T.Component);Lx(Fx,"displayName","ReferenceDot");Lx(Fx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lx(Fx,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):We(e)?r=e(t):r=T.createElement(Op,T1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(this,arguments)}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gF(n.key),n)}}function Jwe(e,t,r){return t&&Qwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zwe(e,t,r){return t=Fg(t),eje(e,vF()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function eje(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tje(e)}function tje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$1(e,t)}function Bx(e,t,r){return t=gF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=nje(e,"string");return Uu(t)=="symbol"?t:t+""}function nje(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aje=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=VC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Pi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:nF(p,y)},zx=function(e){function t(){return Xwe(this,t),Zwe(this,t,arguments)}return rje(t,e),Jwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Za(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dr(a),h=Dr(i),p=Dr(o),y=Dr(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var v=aje(f,h,p,y,this.props);if(!v&&!m)return null;var g=Pi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(rt,{className:Xe("recharts-reference-area",c)},t.renderRect(m,RT(RT({clipPath:g},Me(this.props,!0)),v)),zr.renderCallByParent(this.props,v))}}])}(T.Component);Bx(zx,"displayName","ReferenceArea");Bx(zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bx(zx,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):We(e)?r=e(t):r=T.createElement(UC,M1({},t,{className:"recharts-reference-area-rect"})),r});function yF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ije(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Zbe(n,r)}function sje(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Bg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function oje(e,t){return yF(e,t+1)}function lje(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:yF(n,u)};var m=c,v,g=function(){return v===void 0&&(v=r(y,m)),v},x=y.coordinate,b=c===0||Bg(e,x,g,d,l);b||(c=0,d=o,u+=1),b&&(d=x+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cje(e,t,r){return t=uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uje(e){var t=dje(e,"string");return sp(t)=="symbol"?t:t+""}function dje(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fje(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=on(on({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=on(on({},p),{},{tickCoord:p.coordinate});var g=Bg(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=on(on({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function hje(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=on(on({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Bg(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=on(on({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(x){var b=o[x],_,w=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*w()/2-c);o[x]=b=on(on({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[x]=b=on(on({},b),{},{tickCoord:b.coordinate});var C=Bg(e,b.tickCoord,w,c,u);C&&(c=b.tickCoord+e*(w()/2+a),o[x]=on(on({},b),{},{isShow:!0}))},v=0;v<y;v++)m(v);return o}function XC(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ve(c)||ba.isSsr)return oje(a,typeof c=="number"&&ve(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?If(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var w=We(u)?u(b.value,_):b.value;return p==="width"?ije(If(w,{fontSize:t,letterSpacing:r}),y,f):If(w,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?xn(a[1].coordinate-a[0].coordinate):1,g=sje(i,v,p);return c==="equidistantPreserveStart"?lje(v,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=hje(v,g,m,a,o,c==="preserveStartEnd"):h=fje(v,g,m,a,o),h.filter(function(x){return x.isShow}))}var pje=["viewBox"],mje=["viewBox"],vje=["ticks"];function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){QC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sb(e,t){if(e==null)return{};var r=gje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bF(n.key),n)}}function xje(e,t,r){return t&&IT(e.prototype,t),r&&IT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bje(e,t,r){return t=zg(t),wje(e,xF()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function wje(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(e)}function jje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function _je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(e,t)}function QC(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=Sje(e,"string");return Vu(t)=="symbol"?t:t+""}function Sje(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dd=function(e){function t(r){var n;return yje(this,t),n=bje(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return _je(t,e),xje(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Sb(n,pje),l=this.props,c=l.viewBox,u=Sb(l,mje);return!Yc(i,c)||!Yc(o,u)||!Yc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,v,g,x,b=f?-1:1,_=n.tickSize||d,w=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,m=v-b*_,x=m-b*h,g=w;break;case"left":m=v=n.coordinate,y=i+ +!f*l,p=y-b*_,g=p-b*h,x=w;break;case"right":m=v=n.coordinate,y=i+ +f*l,p=y+b*_,g=p+b*h,x=w;break;default:p=y=n.coordinate,v=o+ +f*c,m=v+b*_,x=m+b*h,g=w;break}return{line:{x1:p,y1:m,x2:y,y2:v},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=kr(kr(kr({},Me(this.props,!1)),Me(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=kr(kr({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=kr(kr({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return T.createElement("line",Dc({},f,{className:Xe("recharts-cartesian-axis-line",ra(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=XC(kr(kr({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Me(this.props,!1),g=Me(d,!1),x=kr(kr({},v),{},{fill:"none"},Me(c,!1)),b=p.map(function(_,w){var S=o.getTickLineCoord(_),C=S.line,N=S.tick,P=kr(kr(kr(kr({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:u},g),N),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(rt,Dc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},xo(o.props,_,w)),c&&T.createElement("line",Dc({},x,C,{className:Xe("recharts-cartesian-axis-tick-line",ra(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(We(f)?f(_.value,w):_.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Sb(f,vje),y=h;return We(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:T.createElement(rt,{className:Xe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Xe(a.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?o=T.cloneElement(n,kr(kr({},a),{},{className:l})):We(n)?o=n(kr(kr({},a),{},{className:l})):o=T.createElement(Ol,Dc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);QC(Dd,"displayName","CartesianAxis");QC(Dd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cje=["x1","y1","x2","y2","key"],Nje=["offset"];function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Pje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pje(e,t,r){return t=Eje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eje(e){var t=kje(e,"string");return Ml(t)=="symbol"?t:t+""}function kje(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function LT(e,t){if(e==null)return{};var r=Aje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oje=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wF(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=LT(t,Cje),u=Me(c,!1);u.offset;var d=LT(u,Nje);r=T.createElement("line",ol({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Tje(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return wF(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rje(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=cn(cn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return wF(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Mje(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $je(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ije=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return x4(XC(cn(cn(cn({},Dd.defaultProps),n),{},{ticks:Zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Dje=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return x4(XC(cn(cn(cn({},Dd.defaultProps),n),{},{ticks:Zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ac={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dn(e){var t,r,n,a,i,o,l=qC(),c=KC(),u=Swe(),d=cn(cn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ac.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ac.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ac.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ac.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ac.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ac.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,v=d.horizontalValues,g=d.verticalValues,x=wwe(),b=jwe();if(!ve(p)||p<=0||!ve(y)||y<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Ije,w=d.horizontalCoordinatesGenerator||Dje,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&We(w)){var N=v&&v.length,P=w({yAxis:b?cn(cn({},b),{},{ticks:N?v:b.ticks}):void 0,width:l,height:c,offset:u},N?!0:m);Za(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ml(P),"]")),Array.isArray(P)&&(S=P)}if((!C||!C.length)&&We(_)){var k=g&&g.length,A=_({xAxis:x?cn(cn({},x),{},{ticks:k?g:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Za(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ml(A),"]")),Array.isArray(A)&&(C=A)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Oje,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(Tje,ol({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),T.createElement(Rje,ol({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),T.createElement(Mje,ol({},d,{horizontalPoints:S})),T.createElement($je,ol({},d,{verticalPoints:C})))}dn.displayName="CartesianGrid";var Lje=["type","layout","connectNulls","ref"],Fje=["key"];function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function FT(e,t){if(e==null)return{};var r=Bje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ic(e){return Wje(e)||Vje(e)||Uje(e)||zje()}function zje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uje(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function Vje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wje(e){if(Array.isArray(e))return D1(e)}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_F(n.key),n)}}function qje(e,t,r){return t&&zT(e.prototype,t),r&&zT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kje(e,t,r){return t=Ug(t),Gje(e,jF()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function Gje(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yje(e)}function Yje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function Xje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(e,t)}function qa(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=Qje(e,"string");return Wu(t)=="symbol"?t:t+""}function Qje(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var In=function(e){function t(){var r;Hje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Kje(this,t,[].concat(a)),qa(r,"state",{isAnimationFinished:!0,totalLength:0}),qa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),qa(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,x){return g+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>f){p=[].concat(ic(c.slice(0,y)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ic(t.repeat(c,d)),ic(p),v).map(function(g){return"".concat(g,"px")}).join(", ")}),qa(r,"id",Eo("recharts-line-")),qa(r,"pathRef",function(o){r.mainCurve=o}),qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xje(t,e),qje(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=_n(d,Id);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Gt(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(rt,p,f.map(function(y){return T.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Me(this.props,!1),h=Me(c,!0),p=u.map(function(m,v){var g=Hn(Hn(Hn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,g)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return T.createElement(rt,Uf({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=FT(l,Lje),h=Hn(Hn(Hn({},Me(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return T.createElement(fo,Uf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,v=o.height,g=this.state,x=g.prevPoints,b=g.totalLength;return T.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(x){var S=x.length/l.length,C=l.map(function(R,O){var E=Math.floor(O*S);if(x[E]){var $=x[E],I=er($.x,R.x),M=er($.y,R.y);return Hn(Hn({},R),{},{x:I(w),y:M(w)})}if(y){var D=er(m*2,R.x),L=er(v/2,R.y);return Hn(Hn({},R),{},{x:D(w),y:L(w)})}return Hn(Hn({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(C,n,a)}var N=er(0,b),P=N(w),k;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=i.getStrokeDasharray(P,b,A)}else k=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!bo(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=Xe("recharts-line",c),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=_||w,C=Ue(v)?this.id:v,N=(n=Me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,k=P===void 0?3:P,A=N.strokeWidth,R=A===void 0?2:A,O=d3(o)?o:{},E=O.clipDot,$=E===void 0?!0:E,I=k*2+R;return T.createElement(rt,{className:b},_||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(C)},T.createElement("rect",{x:_?h:h-p/2,y:w?f:f-y/2,width:_?p:p*2,height:w?y:y*2})),!$&&T.createElement("clipPath",{id:"clipPath-dots-".concat(C)},T.createElement("rect",{x:h-I/2,y:f-I/2,width:p+I,height:y+I}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||o)&&this.renderDots(S,$,C),(!m||g)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ic(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(ic(o),ic(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(T.isValidElement(n))i=T.cloneElement(n,a);else if(We(n))i=n(a);else{var o=a.key,l=FT(a,Fje),c=Xe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=T.createElement(Op,Uf({key:o},l,{className:c}))}return i}}])}(j.PureComponent);qa(In,"displayName","Line");qa(In,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ba.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa(In,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=Gt(h,o);return d==="horizontal"?{x:Tu({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Ue(y)?null:n.scale(y),value:y,payload:h}:{x:Ue(y)?null:r.scale(y),y:Tu({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Hn({points:f,layout:d},u)});var Jje=["layout","type","stroke","connectNulls","isRange","ref"],Zje=["key"],SF;function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function CF(e,t){if(e==null)return{};var r=e1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(this,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){xi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function r1e(e,t,r){return t&&VT(e.prototype,t),r&&VT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n1e(e,t,r){return t=Vg(t),a1e(e,NF()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function a1e(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(e)}function i1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F1(e,t)}function xi(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=o1e(e,"string");return Hu(t)=="symbol"?t:t+""}function o1e(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var na=function(e){function t(){var r;t1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=n1e(this,t,[].concat(a)),xi(r,"state",{isAnimationFinished:!0}),xi(r,"id",Eo("recharts-area-")),xi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),xi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return s1e(t,e),r1e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Me(this.props,!1),p=Me(u,!0),y=d.map(function(v,g){var x=As(As(As({key:"dot-".concat(g),r:3},h),p),{},{index:g,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return T.createElement(rt,ll({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Ys(o.map(function(h){return h.y||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ys(i.map(function(h){return h.y||0})),f)),ve(f)?T.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Ys(o.map(function(h){return h.x||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ys(i.map(function(h){return h.x||0})),f)),ve(f)?T.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=CF(l,Jje);return T.createElement(rt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},T.createElement(fo,ll({},Me(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&T.createElement(fo,ll({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&T.createElement(fo,ll({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=this.state,m=y.prevPoints,v=y.prevBaseLine;return T.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t;if(m){var b=m.length/l.length,_=l.map(function(N,P){var k=Math.floor(P*b);if(m[k]){var A=m[k],R=er(A.x,N.x),O=er(A.y,N.y);return As(As({},N),{},{x:R(x),y:O(x)})}return N}),w;if(ve(c)&&typeof c=="number"){var S=er(v,c);w=S(x)}else if(Ue(c)||kd(c)){var C=er(v,0);w=C(x)}else w=c.map(function(N,P){var k=Math.floor(P*b);if(v[k]){var A=v[k],R=er(A.x,N.x),O=er(A.y,N.y);return As(As({},N),{},{x:R(x),y:O(x)})}return N});return i.renderAreaStatically(_,w,n,a)}return T.createElement(rt,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),T.createElement(rt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!bo(d,o)||!bo(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,y=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=Xe("recharts-area",c),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,C=Ue(v)?this.id:v,N=(n=Me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,k=P===void 0?3:P,A=N.strokeWidth,R=A===void 0?2:A,O=d3(o)?o:{},E=O.clipDot,$=E===void 0?!0:E,I=k*2+R;return T.createElement(rt,{className:b},_||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(C)},T.createElement("rect",{x:_?d:d-p/2,y:w?u:u-y/2,width:_?p:p*2,height:w?y:y*2})),!$&&T.createElement("clipPath",{id:"clipPath-dots-".concat(C)},T.createElement("rect",{x:d-I/2,y:u-I/2,width:p+I,height:y+I}))):null,x?null:this.renderArea(S,C),(o||x)&&this.renderDots(S,$,C),(!m||g)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);SF=na;xi(na,"displayName","Area");xi(na,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xi(na,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ve(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});xi(na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,m=SF.getBaseValue(t,r,n,a),v=p==="horizontal",g=!1,x=f.map(function(_,w){var S;y?S=u[d+w]:(S=Gt(_,c),Array.isArray(S)?g=!0:S=[m,S]);var C=S[1]==null||y&&Gt(_,c)==null;return v?{x:Tu({axis:n,ticks:i,bandSize:l,entry:_,index:w}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:Tu({axis:a,ticks:o,bandSize:l,entry:_,index:w}),value:S,payload:_}}),b;return y||g?b=x.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:w!=null&&_.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):b=v?a.scale(m):n.scale(m),As({points:x,baseLine:b,layout:p,isRange:g},h)});xi(na,"renderDotItem",function(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=CF(t,Zje);r=T.createElement(Op,ll({},i,{key:a,className:n}))}return r});function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function l1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AF(n.key),n)}}function u1e(e,t,r){return t&&c1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1e(e,t,r){return t=Wg(t),f1e(e,EF()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function f1e(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function p1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(e,t)}function kF(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=m1e(e,"string");return qu(t)=="symbol"?t:t+""}function m1e(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ux=function(e){function t(){return l1e(this,t),d1e(this,t,arguments)}return p1e(t,e),u1e(t,[{key:"render",value:function(){return null}}])}(j.Component);kF(Ux,"displayName","ZAxis");kF(Ux,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var v1e=["option","isActive"];function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function g1e(e,t){if(e==null)return{};var r=y1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x1e(e){var t=e.option,r=e.isActive,n=g1e(e,v1e);return typeof t=="string"?j.createElement(Ag,Vf({option:j.createElement(vx,Vf({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(Ag,Vf({option:t,isActive:r,shapeType:"symbols"},n))}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(this,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function w1e(e,t,r){return t&&HT(e.prototype,t),r&&HT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1e(e,t,r){return t=Hg(t),_1e(e,OF()?Reflect.construct(t,r||[],Hg(e).constructor):t.apply(e,r))}function _1e(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1e(e)}function S1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OF=function(){return!!e})()}function Hg(e){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(e)}function C1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(e,t)}function Qs(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=N1e(e,"string");return Ku(t)=="symbol"?t:t+""}function N1e(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vx=function(e){function t(){var r;b1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=j1e(this,t,[].concat(a)),Qs(r,"state",{isAnimationFinished:!1}),Qs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Qs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Qs(r,"id",Eo("recharts-scatter-")),r}return C1e(t,e),w1e(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=Me(this.props,!1);return n.map(function(d,f){var h=c===f,p=h?l:o,y=fa(fa({},u),d);return T.createElement(rt,Wf({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},xo(a.props,d,f),{role:"img"}),T.createElement(x1e,Wf({option:p,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return T.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=i.map(function(m,v){var g=f&&f[v];if(g){var x=er(g.cx,m.cx),b=er(g.cy,m.cy),_=er(g.size,m.size);return fa(fa({},m),{},{cx:x(p),cy:b(p),size:_(p)})}var w=er(0,m.size);return fa(fa({},m),{},{size:w(p)})});return T.createElement(rt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!bo(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=_n(c,Id);return u?u.map(function(d,f){var h=d.props,p=h.direction,y=h.dataKey;return T.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,g){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:Gt(v,g)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=Me(this.props,!1),u=Me(i,!1),d,f;if(o==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=dee(a),p=h.xmin,y=h.xmax,m=h.a,v=h.b,g=function(_){return m*_+v};d=[{x:p,y:g(p)},{x:y,y:g(y)}]}var x=fa(fa(fa({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return T.isValidElement(i)?f=T.cloneElement(i,x):We(i)?f=i(x):f=T.createElement(fo,Wf({},x,{type:l})),T.createElement(rt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,y=n.id,m=n.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=Xe("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,w=Ue(y)?this.id:y;return T.createElement(rt,{className:g,clipPath:_?"url(#clipPath-".concat(w,")"):null},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:x?d:d-h/2,y:b?f:f-p/2,width:x?h:h*2,height:b?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),T.createElement(rt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);Qs(Vx,"displayName","Scatter");Qs(Vx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Qs(Vx,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=_n(a.props.children,Np),f=Ue(t.dataKey)?a.props.dataKey:t.dataKey,h=Ue(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:Ux.defaultProps.range,m=y&&y[0],v=t.scale.bandwidth?t.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var w=Gt(b,f),S=Gt(b,h),C=!Ue(p)&&Gt(b,p)||"-",N=[{name:Ue(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:f,type:u},{name:Ue(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:p,type:u});var P=Tu({axis:t,ticks:o,bandSize:v,entry:b,index:_,dataKey:f}),k=Tu({axis:r,ticks:l,bandSize:g,entry:b,index:_,dataKey:h}),A=C!=="-"?n.scale(C):m,R=Math.sqrt(Math.max(A,0)/Math.PI);return fa(fa({},b),{},{cx:P,cy:k,x:P-R,y:k-R,xAxis:t,yAxis:r,zAxis:n,width:2*R,height:2*R,size:A,node:{x:w,y:S,z:C},tooltipPayload:N,tooltipPosition:{x:P,y:k},payload:b},d&&d[_]&&d[_].props)});return fa({points:x},c)});function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function P1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function k1e(e,t,r){return t&&E1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A1e(e,t,r){return t=qg(t),O1e(e,RF()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function O1e(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1e(e)}function T1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function R1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(e,t)}function MF(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=M1e(e,"string");return Gu(t)=="symbol"?t:t+""}function M1e(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V1.apply(this,arguments)}function $1e(e){var t=e.xAxisId,r=qC(),n=KC(),a=uF(t);return a==null?null:j.createElement(Dd,V1({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zi(o,!0)}}))}var gr=function(e){function t(){return P1e(this,t),A1e(this,t,arguments)}return R1e(t,e),k1e(t,[{key:"render",value:function(){return j.createElement($1e,this.props)}}])}(j.Component);MF(gr,"displayName","XAxis");MF(gr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function I1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function L1e(e,t,r){return t&&D1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F1e(e,t,r){return t=Kg(t),B1e(e,IF()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function B1e(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(e)}function z1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function U1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(e,t)}function DF(e,t,r){return t=LF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=V1e(e,"string");return Yu(t)=="symbol"?t:t+""}function V1e(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H1.apply(this,arguments)}var W1e=function(t){var r=t.yAxisId,n=qC(),a=KC(),i=dF(r);return i==null?null:j.createElement(Dd,H1({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Zi(l,!0)}}))},yr=function(e){function t(){return I1e(this,t),F1e(this,t,arguments)}return U1e(t,e),L1e(t,[{key:"render",value:function(){return j.createElement(W1e,this.props)}}])}(j.Component);DF(yr,"displayName","YAxis");DF(yr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qT(e){return G1e(e)||K1e(e)||q1e(e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q1e(e,t){if(e){if(typeof e=="string")return q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(e,t)}}function K1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G1e(e){if(Array.isArray(e))return q1(e)}function q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K1=function(t,r,n,a,i){var o=_n(t,YC),l=_n(t,Fx),c=[].concat(qT(o),qT(l)),u=_n(t,zx),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Pi(v.props,"extendDomain")&&ve(v.props[f])){var g=v.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Pi(v.props,"extendDomain")&&ve(v.props[p])&&ve(v.props[y])){var g=v.props[p],x=v.props[y];return[Math.min(m[0],g,x),Math.max(m[1],g,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return ve(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},FF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var _=v.length,w;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(g-1);w<g;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,v=[],g=y.length;m<g;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(FF);var Y1e=FF.exports;const X1e=_t(Y1e);var Cb=new X1e,Nb="recharts.syncMouseEvents";function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BF(n.key),n)}}function Z1e(e,t,r){return t&&J1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pb(e,t,r){return t=BF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=e_e(e,"string");return op(t)=="symbol"?t:t+""}function e_e(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t_e=function(){function e(){Q1e(this,e),Pb(this,"activeIndex",0),Pb(this,"coordinateList",[]),Pb(this,"layout","horizontal")}return Z1e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function r_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function n_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Dt(t,r,n,a),l=Dt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function a_e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Dt(l,c,u,f),p=Dt(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return zF(t);return[{x:n,y:a},{x:i,y:o}]}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){i_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t,r){return t=s_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_e(e){var t=o_e(e,"string");return lp(t)=="symbol"?t:t+""}function o_e(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=fo;if(h==="ScatterChart")y=o,m=Qye;else if(h==="BarChart")y=n_e(f,o,c,d),m=UC;else if(f==="radial"){var v=zF(o),g=v.cx,x=v.cy,b=v.radius,_=v.startAngle,w=v.endAngle;y={cx:g,cy:x,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},m=A4}else y={points:a_e(f,o,c)},m=fo;var S=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},c),y),Me(p,!1)),{},{payload:l,payloadIndex:u,className:Xe("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(m,S)}var c_e=["item"],u_e=["children","className","width","height","style","compact","title","desc"];function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}function GT(e,t){return h_e(e)||f_e(e,t)||VF(e,t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function h_e(e){if(Array.isArray(e))return e}function YT(e,t){if(e==null)return{};var r=p_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function g_e(e,t,r){return t&&v_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y_e(e,t,r){return t=Gg(t),x_e(e,UF()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function x_e(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(e)}function b_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function w_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G1(e,t)}function Qu(e){return S_e(e)||__e(e)||VF(e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VF(e,t){if(e){if(typeof e=="string")return Y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(e,t)}}function __e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S_e(e){if(Array.isArray(e))return Y1(e)}function Y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=C_e(e,"string");return Xu(t)=="symbol"?t:t+""}function C_e(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_e={xAxis:["bottom","top"],yAxis:["left","right"]},P_e={width:"100%",height:"100%"},HF={x:0,y:0};function Em(e){return e}var E_e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},k_e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return se(se(se({},a),Dt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return se(se(se({},a),Dt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return HF},Wx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Qu(l),Qu(u)):l},[]);return o.length>0?o:t&&t.length&&ve(a)&&ve(i)?t.slice(a,i+1):[]};function qF(e){return e==="number"?[0,"auto"]:void 0}var X1=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Wx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Hv(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Qu(c),[S4(u,h)]):c},[])},QT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=E_e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=wme(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=X1(t,r,d,f),p=k_e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},A_e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=y4(d,i);return n.reduce(function(y,m){var v,g=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,x=g.type,b=g.dataKey,_=g.allowDataOverflow,w=g.allowDuplicatedCategory,S=g.scale,C=g.ticks,N=g.includeHidden,P=g[o];if(y[P])return y;var k=Wx(t.data,{graphicalItems:a.filter(function(X){var re,z=o in X.props?X.props[o]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[o];return z===P}),dataStartIndex:c,dataEndIndex:u}),A=k.length,R,O,E;r_e(g.domain,_,x)&&(R=o1(g.domain,null,_),p&&(x==="number"||S!=="auto")&&(E=Lf(k,b,"category")));var $=qF(x);if(!R||R.length===0){var I,M=(I=g.domain)!==null&&I!==void 0?I:$;if(b){if(R=Lf(k,b,x),x==="category"&&p){var D=uee(R);w&&D?(O=R,R=Tg(0,A)):w||(R=mO(M,R,m).reduce(function(X,re){return X.indexOf(re)>=0?X:[].concat(Qu(X),[re])},[]))}else if(x==="category")w?R=R.filter(function(X){return X!==""&&!Ue(X)}):R=mO(M,R,m).reduce(function(X,re){return X.indexOf(re)>=0||re===""||Ue(re)?X:[].concat(Qu(X),[re])},[]);else if(x==="number"){var L=Nme(k,a.filter(function(X){var re,z,U=o in X.props?X.props[o]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[o],V="hide"in X.props?X.props.hide:(z=X.type.defaultProps)===null||z===void 0?void 0:z.hide;return U===P&&(N||!V)}),b,i,d);L&&(R=L)}p&&(x==="number"||S!=="auto")&&(E=Lf(k,b,"category"))}else p?R=Tg(0,A):l&&l[P]&&l[P].hasStack&&x==="number"?R=h==="expand"?[0,1]:_4(l[P].stackGroups,c,u):R=g4(k,a.filter(function(X){var re=o in X.props?X.props[o]:X.type.defaultProps[o],z="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return re===P&&(N||!z)}),x,d,!0);if(x==="number")R=K1(f,R,P,i,C),M&&(R=o1(M,R,_));else if(x==="category"&&M){var B=M,Q=R.every(function(X){return B.indexOf(X)>=0});Q&&(R=B)}}return se(se({},y),{},He({},P,se(se({},g),{},{axisType:i,domain:R,categoricalDomain:E,duplicateDomain:O,originalDomain:(v=g.domain)!==null&&v!==void 0?v:$,isCategorical:p,layout:d})))},{})},O_e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Wx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=y4(d,i),m=-1;return n.reduce(function(v,g){var x=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,b=x[o],_=qF("number");if(!v[b]){m++;var w;return y?w=Tg(0,p):l&&l[b]&&l[b].hasStack?(w=_4(l[b].stackGroups,c,u),w=K1(f,w,b,i)):(w=o1(_,g4(h,n.filter(function(S){var C,N,P=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],k="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===b&&!k}),"number",d),a.defaultProps.allowDataOverflow),w=K1(f,w,b,i)),se(se({},v),{},He({},b,se(se({axisType:i},a.defaultProps),{},{hide:!0,orientation:ra(N_e,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:y,layout:d})))}return v},{})},T_e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=_n(d,i),p={};return h&&h.length?p=A_e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=O_e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},R_e=function(t){var r=Bs(t),n=Zi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:mC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xg(r,n)}},JT=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gn(r,Lu),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},M_e=function(t){return!t||!t.length?!1:t.some(function(r){var n=rs(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$_e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Gn(f,Lu),y=Gn(f,Jr),m=Object.keys(c).reduce(function(w,S){var C=c[S],N=C.orientation;return!C.mirror&&!C.hide?se(se({},w),{},He({},N,w[N]+C.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,S){var C=o[S],N=C.orientation;return!C.mirror&&!C.hide?se(se({},w),{},He({},N,ra(w,"".concat(N))+C.height)):w},{top:h.top||0,bottom:h.bottom||0}),g=se(se({},v),m),x=g.bottom;p&&(g.bottom+=p.props.height||Lu.defaultProps.height),y&&r&&(g=Sme(g,a,n,r));var b=u-g.left-g.right,_=d-g.top-g.bottom;return se(se({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(_,0)})},I_e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Tp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,x){var b=x.graphicalItems,_=x.stackGroups,w=x.offset,S=x.updateId,C=x.dataStartIndex,N=x.dataEndIndex,P=g.barSize,k=g.layout,A=g.barGap,R=g.barCategoryGap,O=g.maxBarSize,E=ZT(k),$=E.numericAxisName,I=E.cateAxisName,M=M_e(b),D=[];return b.forEach(function(L,B){var Q=Wx(g.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:N}),X=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,re=X.dataKey,z=X.maxBarSize,U=X["".concat($,"Id")],V=X["".concat(I,"Id")],H={},he=c.reduce(function(q,Z){var me=x["".concat(Z.axisType,"Map")],ie=X["".concat(Z.axisType,"Id")];me&&me[ie]||Z.axisType==="zAxis"||Rl();var fe=me[ie];return se(se({},q),{},He(He({},Z.axisType,fe),"".concat(Z.axisType,"Ticks"),Zi(fe)))},H),J=he[I],te=he["".concat(I,"Ticks")],W=_&&_[U]&&_[U].hasStack&&$me(L,_[U].stackGroups),G=rs(L.type).indexOf("Bar")>=0,pe=xg(J,te),K=[],ce=M&&jme({barSize:P,stackGroups:_,totalSize:I_e(he,I)});if(G){var le,je,Be=Ue(z)?O:z,Je=(le=(je=xg(J,te,!0))!==null&&je!==void 0?je:Be)!==null&&le!==void 0?le:0;K=_me({barGap:A,barCategoryGap:R,bandSize:Je!==pe?Je:pe,sizeList:ce[V],maxBarSize:Be}),Je!==pe&&(K=K.map(function(q){return se(se({},q),{},{position:se(se({},q.position),{},{offset:q.position.offset-Je/2})})}))}var F=L&&L.type&&L.type.getComposedData;F&&D.push({props:se(se({},F(se(se({},he),{},{displayedData:Q,props:g,dataKey:re,item:L,bandSize:pe,barPosition:K,offset:w,stackedData:W,layout:k,dataStartIndex:C,dataEndIndex:N}))),{},He(He(He({key:L.key||"item-".concat(B)},$,he[$]),I,he[I]),"animationId",S)),childIndex:_ee(L,g.children),item:L})}),D},p=function(g,x){var b=g.props,_=g.dataStartIndex,w=g.dataEndIndex,S=g.updateId;if(!ck({props:b}))return null;var C=b.children,N=b.layout,P=b.stackOffset,k=b.data,A=b.reverseStackOrder,R=ZT(N),O=R.numericAxisName,E=R.cateAxisName,$=_n(C,n),I=Rme(k,$,"".concat(O,"Id"),"".concat(E,"Id"),P,A),M=c.reduce(function(X,re){var z="".concat(re.axisType,"Map");return se(se({},X),{},He({},z,T_e(b,se(se({},re),{},{graphicalItems:$,stackGroups:re.axisType===O&&I,dataStartIndex:_,dataEndIndex:w}))))},{}),D=$_e(se(se({},M),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(X){M[X]=d(b,M[X],D,X.replace("Map",""),r)});var L=M["".concat(E,"Map")],B=R_e(L),Q=h(b,se(se({},M),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:$,stackGroups:I,offset:D}));return se(se({formattedGraphicalItems:Q,graphicalItems:$,offset:D,stackGroups:I},B),M)},y=function(v){function g(x){var b,_,w;return m_e(this,g),w=y_e(this,g,[x]),He(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(w,"accessibilityManager",new t_e),He(w,"handleLegendBBoxUpdate",function(S){if(S){var C=w.state,N=C.dataStartIndex,P=C.dataEndIndex,k=C.updateId;w.setState(se({legendBBox:S},p({props:w.props,dataStartIndex:N,dataEndIndex:P,updateId:k},se(se({},w.state),{},{legendBBox:S}))))}}),He(w,"handleReceiveSyncEvent",function(S,C,N){if(w.props.syncId===S){if(N===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(C)}}),He(w,"handleBrushChange",function(S){var C=S.startIndex,N=S.endIndex;if(C!==w.state.dataStartIndex||N!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return se({dataStartIndex:C,dataEndIndex:N},p({props:w.props,dataStartIndex:C,dataEndIndex:N,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),He(w,"handleMouseEnter",function(S){var C=w.getMouseInfo(S);if(C){var N=se(se({},C),{},{isTooltipActive:!0});w.setState(N),w.triggerSyncEvent(N);var P=w.props.onMouseEnter;We(P)&&P(N,S)}}),He(w,"triggeredAfterMouseMove",function(S){var C=w.getMouseInfo(S),N=C?se(se({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var P=w.props.onMouseMove;We(P)&&P(N,S)}),He(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),He(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),He(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),He(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var N=w.props.onMouseLeave;We(N)&&N(C,S)}),He(w,"handleOuterEvent",function(S){var C=jee(S),N=ra(w.props,"".concat(C));if(C&&We(N)){var P,k;/.*touch.*/i.test(C)?k=w.getMouseInfo(S.changedTouches[0]):k=w.getMouseInfo(S),N((P=k)!==null&&P!==void 0?P:{},S)}}),He(w,"handleClick",function(S){var C=w.getMouseInfo(S);if(C){var N=se(se({},C),{},{isTooltipActive:!0});w.setState(N),w.triggerSyncEvent(N);var P=w.props.onClick;We(P)&&P(N,S)}}),He(w,"handleMouseDown",function(S){var C=w.props.onMouseDown;if(We(C)){var N=w.getMouseInfo(S);C(N,S)}}),He(w,"handleMouseUp",function(S){var C=w.props.onMouseUp;if(We(C)){var N=w.getMouseInfo(S);C(N,S)}}),He(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),He(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),He(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),He(w,"handleDoubleClick",function(S){var C=w.props.onDoubleClick;if(We(C)){var N=w.getMouseInfo(S);C(N,S)}}),He(w,"handleContextMenu",function(S){var C=w.props.onContextMenu;if(We(C)){var N=w.getMouseInfo(S);C(N,S)}}),He(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Cb.emit(Nb,w.props.syncId,S,w.eventEmitterSymbol)}),He(w,"applySyncEvent",function(S){var C=w.props,N=C.layout,P=C.syncMethod,k=w.state.updateId,A=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(se({dataStartIndex:A,dataEndIndex:R},p({props:w.props,dataStartIndex:A,dataEndIndex:R,updateId:k},w.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,E=S.chartY,$=S.activeTooltipIndex,I=w.state,M=I.offset,D=I.tooltipTicks;if(!M)return;if(typeof P=="function")$=P(D,S);else if(P==="value"){$=-1;for(var L=0;L<D.length;L++)if(D[L].value===S.activeLabel){$=L;break}}var B=se(se({},M),{},{x:M.left,y:M.top}),Q=Math.min(O,B.x+B.width),X=Math.min(E,B.y+B.height),re=D[$]&&D[$].value,z=X1(w.state,w.props.data,$),U=D[$]?{x:N==="horizontal"?D[$].coordinate:Q,y:N==="horizontal"?X:D[$].coordinate}:HF;w.setState(se(se({},S),{},{activeLabel:re,activeCoordinate:U,activePayload:z,activeTooltipIndex:$}))}else w.setState(S)}),He(w,"renderCursor",function(S){var C,N=w.state,P=N.isTooltipActive,k=N.activeCoordinate,A=N.activePayload,R=N.offset,O=N.activeTooltipIndex,E=N.tooltipAxisBandSize,$=w.getTooltipEventType(),I=(C=S.props.active)!==null&&C!==void 0?C:P,M=w.props.layout,D=S.key||"_recharts-cursor";return T.createElement(l_e,{key:D,activeCoordinate:k,activePayload:A,activeTooltipIndex:O,chartName:r,element:S,isActive:I,layout:M,offset:R,tooltipAxisBandSize:E,tooltipEventType:$})}),He(w,"renderPolarAxis",function(S,C,N){var P=ra(S,"type.axisType"),k=ra(w.state,"".concat(P,"Map")),A=S.type.defaultProps,R=A!==void 0?se(se({},A),S.props):S.props,O=k&&k[R["".concat(P,"Id")]];return j.cloneElement(S,se(se({},O),{},{className:Xe(P,O.className),key:S.key||"".concat(C,"-").concat(N),ticks:Zi(O,!0)}))}),He(w,"renderPolarGrid",function(S){var C=S.props,N=C.radialLines,P=C.polarAngles,k=C.polarRadius,A=w.state,R=A.radiusAxisMap,O=A.angleAxisMap,E=Bs(R),$=Bs(O),I=$.cx,M=$.cy,D=$.innerRadius,L=$.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(P)?P:Zi($,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(k)?k:Zi(E,!0).map(function(B){return B.coordinate}),cx:I,cy:M,innerRadius:D,outerRadius:L,key:S.key||"polar-grid",radialLines:N})}),He(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,C=w.props,N=C.children,P=C.width,k=C.height,A=w.props.margin||{},R=P-(A.left||0)-(A.right||0),O=m4({children:N,formattedGraphicalItems:S,legendWidth:R,legendContent:u});if(!O)return null;var E=O.item,$=YT(O,c_e);return j.cloneElement(E,se(se({},$),{},{chartWidth:P,chartHeight:k,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),He(w,"renderTooltip",function(){var S,C=w.props,N=C.children,P=C.accessibilityLayer,k=Gn(N,Ht);if(!k)return null;var A=w.state,R=A.isTooltipActive,O=A.activeCoordinate,E=A.activePayload,$=A.activeLabel,I=A.offset,M=(S=k.props.active)!==null&&S!==void 0?S:R;return j.cloneElement(k,{viewBox:se(se({},I),{},{x:I.left,y:I.top}),active:M,label:$,payload:M?E:[],coordinate:O,accessibilityLayer:P})}),He(w,"renderBrush",function(S){var C=w.props,N=C.margin,P=C.data,k=w.state,A=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,E=k.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:_m(w.handleBrushChange,S.props.onChange),data:P,x:ve(S.props.x)?S.props.x:A.left,y:ve(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(N.bottom||0),width:ve(S.props.width)?S.props.width:A.width,startIndex:R,endIndex:O,updateId:"brush-".concat(E)})}),He(w,"renderReferenceElement",function(S,C,N){if(!S)return null;var P=w,k=P.clipPathId,A=w.state,R=A.xAxisMap,O=A.yAxisMap,E=A.offset,$=S.type.defaultProps||{},I=S.props,M=I.xAxisId,D=M===void 0?$.xAxisId:M,L=I.yAxisId,B=L===void 0?$.yAxisId:L;return j.cloneElement(S,{key:S.key||"".concat(C,"-").concat(N),xAxis:R[D],yAxis:O[B],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:k})}),He(w,"renderActivePoints",function(S){var C=S.item,N=S.activePoint,P=S.basePoint,k=S.childIndex,A=S.isRange,R=[],O=C.props.key,E=C.item.type.defaultProps!==void 0?se(se({},C.item.type.defaultProps),C.item.props):C.item.props,$=E.activeDot,I=E.dataKey,M=se(se({index:k,dataKey:I,cx:N.x,cy:N.y,r:4,fill:zC(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Me($,!1)),qv($));return R.push(g.renderActiveDot($,M,"".concat(O,"-activePoint-").concat(k))),P?R.push(g.renderActiveDot($,se(se({},M),{},{cx:P.x,cy:P.y}),"".concat(O,"-basePoint-").concat(k))):A&&R.push(null),R}),He(w,"renderGraphicChild",function(S,C,N){var P=w.filterFormatItem(S,C,N);if(!P)return null;var k=w.getTooltipEventType(),A=w.state,R=A.isTooltipActive,O=A.tooltipAxis,E=A.activeTooltipIndex,$=A.activeLabel,I=w.props.children,M=Gn(I,Ht),D=P.props,L=D.points,B=D.isRange,Q=D.baseLine,X=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,re=X.activeDot,z=X.hide,U=X.activeBar,V=X.activeShape,H=!!(!z&&R&&M&&(re||U||V)),he={};k!=="axis"&&M&&M.props.trigger==="click"?he={onClick:_m(w.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(he={onMouseLeave:_m(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:_m(w.handleItemMouseEnter,S.props.onMouseEnter)});var J=j.cloneElement(S,se(se({},P.props),he));function te(Z){return typeof O.dataKey=="function"?O.dataKey(Z.payload):null}if(H)if(E>=0){var W,G;if(O.dataKey&&!O.allowDuplicatedCategory){var pe=typeof O.dataKey=="function"?te:"payload.".concat(O.dataKey.toString());W=Hv(L,pe,$),G=B&&Q&&Hv(Q,pe,$)}else W=L==null?void 0:L[E],G=B&&Q&&Q[E];if(V||U){var K=S.props.activeIndex!==void 0?S.props.activeIndex:E;return[j.cloneElement(S,se(se(se({},P.props),he),{},{activeIndex:K})),null,null]}if(!Ue(W))return[J].concat(Qu(w.renderActivePoints({item:P,activePoint:W,basePoint:G,childIndex:E,isRange:B})))}else{var ce,le=(ce=w.getItemByXY(w.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:J},je=le.graphicalItem,Be=je.item,Je=Be===void 0?S:Be,F=je.childIndex,q=se(se(se({},P.props),he),{},{activeIndex:F});return[j.cloneElement(Je,q),null,null]}return B?[J,null,null]:[J,null]}),He(w,"renderCustomized",function(S,C,N){return j.cloneElement(S,se(se({key:"recharts-customized-".concat(N)},w.props),w.state))}),He(w,"renderMap",{CartesianGrid:{handler:Em,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Em},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Em},YAxis:{handler:Em},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Eo("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=pL(w.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return w_e(g,v),g_e(g,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,S=b.height,C=b.layout,N=Gn(_,Ht);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=X1(this.state,w,P,k),R=this.state.tooltipTicks[P].coordinate,O=(this.state.offset.top+S)/2,E=C==="horizontal",$=E?{x:R,y:O}:{y:R,x:O},I=this.state.formattedGraphicalItems.find(function(D){var L=D.item;return L.type.name==="Scatter"});I&&($=se(se({},$),I.props.points[P].tooltipPosition),A=I.props.points[P].tooltipPayload);var M={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:$};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){jj([Gn(b.children,Ht)],[Gn(this.props.children,Ht)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Gn(this.props.children,Ht);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Yue(w),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},N=w.width/_.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,N);if(!P)return null;var k=this.state,A=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),E=QT(this.state,this.props.data,this.props.layout,P);if(O!=="axis"&&A&&R){var $=Bs(A).scale,I=Bs(R).scale,M=$&&$.invert?$.invert(C.chartX):null,D=I&&I.invert?I.invert(C.chartY):null;return se(se({},C),{},{xValue:M,yValue:D},E)}return E?se(se({},C),E):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/w,N=_/w;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,k=C>=P.left&&C<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return k?{x:C,y:N}:null}var A=this.state,R=A.angleAxisMap,O=A.radiusAxisMap;if(R&&O){var E=Bs(R);return yO({x:C,y:N},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Gn(b,Ht),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=qv(this.props,this.handleOuterEvent);return se(se({},C),S)}},{key:"addListener",value:function(){Cb.on(Nb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cb.removeListener(Nb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var S=this.state.formattedGraphicalItems,C=0,N=S.length;C<N;C++){var P=S[C];if(P.item===b||P.props.key===b.key||_===rs(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,C=_.height,N=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:w,y:S,height:C,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=GT(w,2),C=S[0],N=S[1];return se(se({},_),{},He({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=GT(w,2),C=S[0],N=S[1];return se(se({},_),{},He({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var C=0,N=w.length;C<N;C++){var P=w[C],k=P.props,A=P.item,R=A.type.defaultProps!==void 0?se(se({},A.type.defaultProps),A.props):A.props,O=rs(A.type);if(O==="Bar"){var E=(k.data||[]).find(function(D){return Oye(b,D)});if(E)return{graphicalItem:P,payload:E}}else if(O==="RadialBar"){var $=(k.data||[]).find(function(D){return yO(b,D)});if($)return{graphicalItem:P,payload:$}}else if(Mx(P,S)||$x(P,S)||rp(P,S)){var I=x0e({graphicalItem:P,activeTooltipItem:S,itemData:R.data}),M=R.activeIndex===void 0?I:R.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:M}),payload:rp(P,S)?R.data[I]:P.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!ck(this))return null;var _=this.props,w=_.children,S=_.className,C=_.width,N=_.height,P=_.style,k=_.compact,A=_.title,R=_.desc,O=YT(_,u_e),E=Me(O,!1);if(k)return T.createElement(NT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Sj,Lc({},E,{width:C,height:N,title:A,desc:R}),this.renderClipPath(),dk(w,this.renderMap)));if(this.props.accessibilityLayer){var $,I;E.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,E.role=(I=this.props.role)!==null&&I!==void 0?I:"application",E.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},E.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return T.createElement(NT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",Lc({className:Xe("recharts-wrapper",S),style:se({position:"relative",cursor:"default",width:C,height:N},P)},M,{ref:function(L){b.container=L}}),T.createElement(Sj,Lc({},E,{width:C,height:N,title:A,desc:R,style:P_e}),this.renderClipPath(),dk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);He(y,"displayName",r),He(y,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(y,"getDerivedStateFromProps",function(v,g){var x=v.dataKey,b=v.data,_=v.children,w=v.width,S=v.height,C=v.layout,N=v.stackOffset,P=v.margin,k=g.dataStartIndex,A=g.dataEndIndex;if(g.updateId===void 0){var R=JT(v);return se(se(se({},R),{},{updateId:0},p(se(se({props:v},R),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(x!==g.prevDataKey||b!==g.prevData||w!==g.prevWidth||S!==g.prevHeight||C!==g.prevLayout||N!==g.prevStackOffset||!Yc(P,g.prevMargin)){var O=JT(v),E={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},$=se(se({},QT(g,b,C)),{},{updateId:g.updateId+1}),I=se(se(se({},O),E),$);return se(se(se({},I),p(se({props:v},I),g)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(!jj(_,g.prevChildren)){var M,D,L,B,Q=Gn(_,Lu),X=Q&&(M=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:k,re=Q&&(L=(B=Q.props)===null||B===void 0?void 0:B.endIndex)!==null&&L!==void 0?L:A,z=X!==k||re!==A,U=!Ue(b),V=U&&!z?g.updateId:g.updateId+1;return se(se({updateId:V},p(se(se({props:v},g),{},{updateId:V,dataStartIndex:X,dataEndIndex:re}),g)),{},{prevChildren:_,dataStartIndex:X,dataEndIndex:re})}return null}),He(y,"renderActiveDot",function(v,g,x){var b;return j.isValidElement(v)?b=j.cloneElement(v,g):We(v)?b=v(g):b=T.createElement(Op,g),T.createElement(rt,{className:"recharts-active-dot",key:x},b)});var m=j.forwardRef(function(g,x){return T.createElement(y,Lc({},g,{ref:x}))});return m.displayName=y.displayName,m},KF=Tp({chartName:"LineChart",GraphicalChild:In,axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:Dx}),Ld=Tp({chartName:"BarChart",GraphicalChild:Pr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:Dx}),D_e=Tp({chartName:"PieChart",GraphicalChild:js,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rx},{axisType:"radiusAxis",AxisComp:Ox}],formatAxisMap:Hme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),GF=Tp({chartName:"AreaChart",GraphicalChild:na,axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr}],formatAxisMap:Dx}),Rp=Tp({chartName:"ComposedChart",GraphicalChild:[In,na,Pr,Vx],axisComponents:[{axisType:"xAxis",AxisComp:gr},{axisType:"yAxis",AxisComp:yr},{axisType:"zAxis",AxisComp:Ux}],formatAxisMap:Dx});function L_e({products:e,years:t}){const r=t.map(a=>{const i={year:a};return e.forEach(o=>{const l=o.volumesByYear[a]||0;i[o.name]=l*o.priceHT/1e3}),i}),n=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)"];return s.jsx(Fe,{title:"CA par Produit",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Ld,{data:r,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:a=>`${a}k`}),s.jsx(Ht,{formatter:a=>`${a.toFixed(0)}k`}),s.jsx(Jr,{}),e.map((a,i)=>s.jsx(Pr,{dataKey:a.name,stackId:"a",fill:n[i%n.length]},a.id))]})})})})}function Fd({pageTitle:e,fileName:t}){const r=()=>{window.print()};return s.jsxs(ae,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(Ty,{className:"h-4 w-4 mr-1"}),"PDF"]})}const F_e=j.createContext(!1);function Di({children:e,tabKey:t}){const{getTabPermission:r}=Ca(),a=r(t)==="read";return s.jsx(F_e.Provider,{value:a,children:s.jsxs("div",{className:a?"read-only-mode":"",children:[a&&s.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}const B_e=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...r}){return s.jsx("div",{className:ne(B_e({variant:t}),e),...r})}var Eb="rovingFocusGroup.onEntryFocus",z_e={bubbles:!1,cancelable:!0},Mp="RovingFocusGroup",[Q1,YF,U_e]=ky(Mp),[V_e,Hx]=Nn(Mp,[U_e]),[W_e,H_e]=V_e(Mp),XF=j.forwardRef((e,t)=>s.jsx(Q1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Q1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(q_e,{...e,ref:t})})}));XF.displayName=Mp;var q_e=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=j.useRef(null),p=Qe(t,h),y=xd(i),[m,v]=Bn({prop:o,defaultProp:l??null,onChange:c,caller:Mp}),[g,x]=j.useState(!1),b=Mr(u),_=YF(r),w=j.useRef(!1),[S,C]=j.useState(0);return j.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Eb,b),()=>N.removeEventListener(Eb,b)},[b]),s.jsx(W_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:j.useCallback(N=>v(N),[v]),onItemShiftTab:j.useCallback(()=>x(!0),[]),onFocusableItemAdd:j.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:j.useCallback(()=>C(N=>N-1),[]),children:s.jsx($e.div,{tabIndex:g||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{w.current=!0}),onFocus:Ne(e.onFocus,N=>{const P=!w.current;if(N.target===N.currentTarget&&P&&!g){const k=new CustomEvent(Eb,z_e);if(N.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=_().filter(I=>I.focusable),R=A.find(I=>I.active),O=A.find(I=>I.id===m),$=[R,O,...A].filter(Boolean).map(I=>I.ref.current);ZF($,d)}}w.current=!1}),onBlur:Ne(e.onBlur,()=>x(!1))})})}),QF="RovingFocusGroupItem",JF=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Si(),u=i||c,d=H_e(QF,r),f=d.currentTabStopId===u,h=YF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return j.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(Q1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx($e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=Y_e(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?X_e(b,_+1):b.slice(_+1)}setTimeout(()=>ZF(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});JF.displayName=QF;var K_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y_e(e,t,r){const n=G_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return K_e[n]}function ZF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function X_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eB=XF,tB=JF,qx="Tabs",[Q_e,ROe]=Nn(qx,[Hx]),rB=Hx(),[J_e,JC]=Q_e(qx),nB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=xd(l),[f,h]=Bn({prop:n,onChange:a,defaultProp:i??"",caller:qx});return s.jsx(J_e,{scope:r,baseId:Si(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx($e.div,{dir:d,"data-orientation":o,...u,ref:t})})});nB.displayName=qx;var aB="TabsList",iB=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=JC(aB,r),o=rB(r);return s.jsx(eB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx($e.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});iB.displayName=aB;var sB="TabsTrigger",oB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=JC(sB,r),l=rB(r),c=uB(o.baseId,n),u=dB(o.baseId,n),d=n===o.value;return s.jsx(tB,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx($e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});oB.displayName=sB;var lB="TabsContent",cB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=JC(lB,r),c=uB(l.baseId,n),u=dB(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(zn,{present:a||d,children:({present:h})=>s.jsx($e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});cB.displayName=lB;function uB(e,t){return`${e}-trigger-${t}`}function dB(e,t){return`${e}-content-${t}`}var Z_e=nB,fB=iB,hB=oB,pB=cB;const Ea=Z_e,la=j.forwardRef(({className:e,...t},r)=>s.jsx(fB,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));la.displayName=fB.displayName;const ft=j.forwardRef(({className:e,...t},r)=>s.jsx(hB,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ft.displayName=hB.displayName;const gt=j.forwardRef(({className:e,...t},r)=>s.jsx(pB,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gt.displayName=pB.displayName;const eSe=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function tSe(){var x;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:o,updateGlobalRevenueConfig:l}=Mi(),c=e.scenarioSettings,u=Array.from({length:c.durationYears},(b,_)=>c.startYear+_),d=b=>{n(b)},f=b=>{const _=e.products.map(w=>w.id===b.id?b:w);r(_)},h=(b,_,w)=>{const S=e.products.map(C=>C.id!==b?C:{...C,volumesByYear:{...C.volumesByYear,[_]:w}});r(S)},p=t.totalDevCost,y=u[u.length-1],m=((x=t.revenueByYear.find(b=>b.year===y))==null?void 0:x.revenue)||0,v=t.revenueByYear.length>0?t.revenueByYear.reduce((b,_)=>b+(_.revenue>0?(_.revenue-_.cogs)/_.revenue:0),0)/t.revenueByYear.length:0,g=u.map(b=>{const _=t.revenueByYear.find(w=>w.year===b);return{year:b,revenue:((_==null?void 0:_.revenue)||0)/1e3,cogs:((_==null?void 0:_.cogs)||0)/1e3,margin:(((_==null?void 0:_.revenue)||0)-((_==null?void 0:_.cogs)||0))/1e3}});return s.jsx(Di,{tabKey:"product-plan",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>o("by-product"),children:[s.jsx(fI,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),s.jsxs(ae,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>o("by-channel-global"),children:[s.jsx(Av,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Dtail produits":"Global canaux"}),s.jsx(Fd,{pageTitle:"Plan Produit",sections:eSe,fileName:"Plan_Produit"}),s.jsx(_d,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ct,{label:"Investissement R&D",value:ee(p,!0),subValue:`${e.products.filter(b=>b.devCost>0).length} produits`}),s.jsx(ct,{label:`CA ${y}`,value:ee(m,!0),subValue:"Projection",trend:"up"}),s.jsx(ct,{label:"Marge Brute Moy.",value:Ir(v),subValue:"Sur la priode"}),s.jsx(ct,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),s.jsx("div",{id:"product-revenue-chart",children:s.jsx(Fe,{title:"Projection du Chiffre d'Affaires",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Ld,{data:g,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:b=>`${b}k`}),s.jsx(Ht,{formatter:b=>`${b.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(Pr,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),s.jsx(Pr,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),s.jsxs(Ea,{defaultValue:"visualization",className:"space-y-4",children:[s.jsxs(la,{children:[s.jsxs(ft,{value:"visualization",children:[s.jsx(sW,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),s.jsxs(ft,{value:"pricing",children:[s.jsx(Pv,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),s.jsxs(ft,{value:"volumes",children:[s.jsx(Pl,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&s.jsx(gt,{value:"visualization",children:s.jsx(zK,{config:e.globalRevenueConfig,onChange:l,years:u})}),e.revenueMode==="by-product"&&s.jsx(gt,{value:"visualization",children:s.jsx("div",{id:"product-revenue-viz",children:s.jsx(L_e,{products:e.products,years:u})})}),s.jsx(gt,{value:"pricing",children:e.revenueMode==="by-product"?s.jsx("div",{id:"product-pricing",children:s.jsx(kX,{products:e.products,onUpdateProduct:f,onAddProduct:d,onRemoveProduct:a})}):s.jsx(Fe,{title:"Pricing Produits",children:s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Av,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),s.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,s.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),s.jsx(gt,{value:"volumes",children:s.jsx("div",{id:"product-volumes",children:s.jsxs(Fe,{title:"Volumes par Anne",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Saisissez les volumes de vente prvisionnels par produit et par anne."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Produit"}),s.jsx(oe,{className:"text-right",children:"Cot Unit."}),u.map(b=>s.jsx(oe,{className:"text-center",children:b},b)),s.jsx(oe,{className:"text-right",children:"CA Total"})]})}),s.jsx(Bt,{children:e.products.map(b=>{const _=u.reduce((w,S)=>{const C=b.volumesByYear[S]||0;return w+C*b.priceHT},0);return s.jsxs(Ce,{children:[s.jsxs(Y,{children:[s.jsx("div",{className:"font-medium",children:b.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lancement: ",b.launchYear]})]}),s.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b.unitCost)}),u.map(w=>s.jsx(Y,{className:"text-center",children:w>=b.launchYear?s.jsx(_e,{type:"number",value:b.volumesByYear[w]||0,onChange:S=>h(b.id,w,Number(S.target.value)),className:"h-8 w-20 mx-auto text-center"}):s.jsx("span",{className:"text-muted-foreground",children:"-"})},w)),s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(_,!0)})]},b.id)})})]})})]})})})]})]})})}const rSe=["R&D","Production","Sales","Support","Admin"];function nSe({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:rSe.map(a=>{const i=e.filter(o=>o.department===a);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ke,{variant:"outline",children:a}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>n(a),children:s.jsx(cr,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"space-y-2",children:i.map(o=>s.jsx(jt,{className:"bg-muted/30",children:s.jsxs(Pt,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium",children:o.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.startYear,"  ",(o.annualCostLoaded/1e3).toFixed(0),"k"]}),s.jsxs("div",{className:"flex gap-1 mt-2",children:[s.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(o),children:s.jsx(yS,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(o.id),children:s.jsx(Nr,{className:"h-3 w-3"})})]})]})},o.id))})]},a)})})}var mB="Toggle",ZC=j.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=Bn({prop:r,onChange:a,defaultProp:n??!1,caller:mB});return s.jsx($e.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Ne(e.onClick,()=>{e.disabled||l(!o)})})});ZC.displayName=mB;var vB=ZC,To="ToggleGroup",[gB,MOe]=Nn(To,[Hx]),yB=Hx(),eN=T.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(aSe,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(iSe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${To}\``)});eN.displayName=To;var[xB,bB]=gB(To),aSe=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Bn({prop:r,defaultProp:n??"",onChange:a,caller:To});return s.jsx(xB,{scope:e.__scopeToggleGroup,type:"single",value:T.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:T.useCallback(()=>l(""),[l]),children:s.jsx(wB,{...i,ref:t})})}),iSe=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Bn({prop:r,defaultProp:n??[],onChange:a,caller:To}),c=T.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=T.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(xB,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(wB,{...i,ref:t})})});eN.displayName=To;var[sSe,oSe]=gB(To),wB=T.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=yB(r),d=xd(o),f={role:"group",dir:d,...c};return s.jsx(sSe,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(eB,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:s.jsx($e.div,{...f,ref:t})}):s.jsx($e.div,{...f,ref:t})})}),Yg="ToggleGroupItem",jB=T.forwardRef((e,t)=>{const r=bB(Yg,e.__scopeToggleGroup),n=oSe(Yg,e.__scopeToggleGroup),a=yB(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=T.useRef(null);return n.rovingFocus?s.jsx(tB,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(e2,{...l,ref:t})}):s.jsx(e2,{...l,ref:t})});jB.displayName=Yg;var e2=T.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=bB(Yg,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(ZC,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),_B=eN,SB=jB;const CB=ud("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),lSe=j.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(vB,{ref:a,className:ne(CB({variant:t,size:r,className:e})),...n}));lSe.displayName=vB.displayName;const NB=j.createContext({size:"default",variant:"default"}),PB=j.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(_B,{ref:i,className:ne("flex items-center justify-center gap-1",e),...a,children:s.jsx(NB.Provider,{value:{variant:t,size:r},children:n})}));PB.displayName=_B.displayName;const J1=j.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=j.useContext(NB);return s.jsx(SB,{ref:i,className:ne(CB({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});J1.displayName=SB.displayName;var kb=0;function tN(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t2()),document.body.insertAdjacentElement("beforeend",e[1]??t2()),kb++,()=>{kb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kb--}},[])}function t2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ab="focusScope.autoFocusOnMount",Ob="focusScope.autoFocusOnUnmount",r2={bubbles:!1,cancelable:!0},cSe="FocusScope",Kx=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=Mr(a),d=Mr(i),f=j.useRef(null),h=Qe(t,m=>c(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Os(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Os(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&Os(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){a2.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Ab,r2);l.addEventListener(Ab,u),l.dispatchEvent(g),g.defaultPrevented||(uSe(mSe(EB(l)),{select:!0}),document.activeElement===m&&Os(l))}return()=>{l.removeEventListener(Ab,u),setTimeout(()=>{const g=new CustomEvent(Ob,r2);l.addEventListener(Ob,d),l.dispatchEvent(g),g.defaultPrevented||Os(m??document.body,{select:!0}),l.removeEventListener(Ob,d),a2.remove(p)},0)}}},[l,u,d,p]);const y=j.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(v&&g){const x=m.currentTarget,[b,_]=dSe(x);b&&_?!m.shiftKey&&g===_?(m.preventDefault(),r&&Os(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&Os(_,{select:!0})):g===x&&m.preventDefault()}},[r,n,p.paused]);return s.jsx($e.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Kx.displayName=cSe;function uSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Os(n,{select:t}),document.activeElement!==r)return}function dSe(e){const t=EB(e),r=n2(t,e),n=n2(t.reverse(),e);return[r,n]}function EB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n2(e,t){for(const r of e)if(!fSe(r,{upTo:t}))return r}function fSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hSe(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hSe(e)&&t&&e.select()}}var a2=pSe();function pSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=i2(e,t),e.unshift(t)},remove(t){var r;e=i2(e,t),(r=e[0])==null||r.resume()}}}function i2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mSe(e){return e.filter(t=>t.tagName!=="A")}var vSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sc=new WeakMap,km=new WeakMap,Am={},Tb=0,kB=function(e){return e&&(e.host||kB(e.parentNode))},gSe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=kB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ySe=function(e,t,r,n){var a=gSe(t,Array.isArray(e)?e:[e]);Am[r]||(Am[r]=new WeakMap);var i=Am[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(sc.get(h)||0)+1,v=(i.get(h)||0)+1;sc.set(h,m),i.set(h,v),o.push(h),m===1&&y&&km.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),Tb++,function(){o.forEach(function(f){var h=sc.get(f)-1,p=i.get(f)-1;sc.set(f,h),i.set(f,p),h||(km.has(f)||f.removeAttribute(n),km.delete(f)),p||f.removeAttribute(r)}),Tb--,Tb||(sc=new WeakMap,sc=new WeakMap,km=new WeakMap,Am={})}},rN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vSe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ySe(n,a,r,"aria-hidden")):function(){return null}},ev="right-scroll-bar-position",tv="width-before-scroll-bar",xSe="with-scroll-bars-hidden",bSe="--removed-body-scroll-bar-size";function Rb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wSe(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var jSe=typeof window<"u"?j.useLayoutEffect:j.useEffect,s2=new WeakMap;function _Se(e,t){var r=wSe(null,function(n){return e.forEach(function(a){return Rb(a,n)})});return jSe(function(){var n=s2.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Rb(l,null)}),i.forEach(function(l){a.has(l)||Rb(l,o)})}s2.set(r,e)},[e]),r}function SSe(e){return e}function CSe(e,t){t===void 0&&(t=SSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function NSe(e){e===void 0&&(e={});var t=CSe(null);return t.options=pi({async:!0,ssr:!1},e),t}var AB=function(e){var t=e.sideCar,r=wd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,pi({},r))};AB.isSideCarExport=!0;function PSe(e,t){return e.useMedium(t),AB}var OB=NSe(),Mb=function(){},Gx=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:Mb,onWheelCapture:Mb,onTouchMoveCapture:Mb}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,v=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,b=e.gapMode,_=wd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=_Se([r,t]),C=pi(pi({},_),a);return j.createElement(j.Fragment,null,d&&j.createElement(w,{sideCar:OB,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),o?j.cloneElement(j.Children.only(l),pi(pi({},C),{ref:S})):j.createElement(x,pi({},C,{className:c,ref:S}),l))});Gx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gx.classNames={fullWidth:tv,zeroRight:ev};var ESe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ESe();return t&&e.setAttribute("nonce",t),e}function ASe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=kSe())&&(ASe(t,r),OSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RSe=function(){var e=TSe();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},TB=function(){var e=RSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},MSe={left:0,top:0,right:0,gap:0},$b=function(e){return parseInt(e||"",10)||0},$Se=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[$b(r),$b(n),$b(a)]},ISe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MSe;var t=$Se(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DSe=TB(),Jc="data-scroll-locked",LSe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Jc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ev,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tv," .").concat(tv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jc,`] {
    `).concat(bSe,": ").concat(l,`px;
  }
`)},o2=function(){var e=parseInt(document.body.getAttribute(Jc)||"0",10);return isFinite(e)?e:0},FSe=function(){j.useEffect(function(){return document.body.setAttribute(Jc,(o2()+1).toString()),function(){var e=o2()-1;e<=0?document.body.removeAttribute(Jc):document.body.setAttribute(Jc,e.toString())}},[])},BSe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;FSe();var i=j.useMemo(function(){return ISe(a)},[a]);return j.createElement(DSe,{styles:LSe(i,!t,a,r?"":"!important")})},Z1=!1;if(typeof window<"u")try{var Om=Object.defineProperty({},"passive",{get:function(){return Z1=!0,!0}});window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{Z1=!1}var oc=Z1?{passive:!1}:!1,zSe=function(e){return e.tagName==="TEXTAREA"},RB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zSe(e)&&r[t]==="visible")},USe=function(e){return RB(e,"overflowY")},VSe=function(e){return RB(e,"overflowX")},l2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=MB(e,n);if(a){var i=$B(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WSe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},HSe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},MB=function(e,t){return e==="v"?USe(t):VSe(t)},$B=function(e,t){return e==="v"?WSe(t):HSe(t)},qSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},KSe=function(e,t,r,n,a){var i=qSe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=$B(e,l),y=p[0],m=p[1],v=p[2],g=m-v-i*y;(y||g)&&MB(e,l)&&(f+=g,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Tm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c2=function(e){return[e.deltaX,e.deltaY]},u2=function(e){return e&&"current"in e?e.current:e},GSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YSe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XSe=0,lc=[];function QSe(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(XSe++)[0],i=j.useState(TB)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=KK([e.lockRef.current],(e.shards||[]).map(u2),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Tm(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-g[0],_="deltaY"in m?m.deltaY:x[1]-g[1],w,S=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var N=l2(C,S);if(!N)return!0;if(N?w=C:(w=C==="v"?"h":"v",N=l2(C,S)),!N)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=w),!w)return!0;var P=n.current||w;return KSe(P,v,m,P==="h"?b:_,!0)},[]),c=j.useCallback(function(m){var v=m;if(!(!lc.length||lc[lc.length-1]!==i)){var g="deltaY"in v?c2(v):Tm(v),x=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&GSe(w.delta,g)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(u2).filter(Boolean).filter(function(w){return w.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=j.useCallback(function(m,v,g,x){var b={name:m,delta:v,target:g,should:x,shadowParent:JSe(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=j.useCallback(function(m){r.current=Tm(m),n.current=void 0},[]),f=j.useCallback(function(m){u(m.type,c2(m),m.target,l(m,e.lockRef.current))},[]),h=j.useCallback(function(m){u(m.type,Tm(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return lc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,oc),document.addEventListener("touchmove",c,oc),document.addEventListener("touchstart",d,oc),function(){lc=lc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,oc),document.removeEventListener("touchmove",c,oc),document.removeEventListener("touchstart",d,oc)}},[]);var p=e.removeScrollBar,y=e.inert;return j.createElement(j.Fragment,null,y?j.createElement(i,{styles:YSe(a)}):null,p?j.createElement(BSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function JSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZSe=PSe(OB,QSe);var Yx=j.forwardRef(function(e,t){return j.createElement(Gx,pi({},e,{ref:t,sideCar:ZSe}))});Yx.classNames=Gx.classNames;var eCe=[" ","Enter","ArrowUp","ArrowDown"],tCe=[" ","Enter"],$l="Select",[Xx,Qx,rCe]=ky($l),[Bd,$Oe]=Nn($l,[rCe,md]),Jx=md(),[nCe,Ro]=Bd($l),[aCe,iCe]=Bd($l),IB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=Jx(t),[v,g]=j.useState(null),[x,b]=j.useState(null),[_,w]=j.useState(!1),S=xd(u),[C,N]=Bn({prop:n,defaultProp:a??!1,onChange:i,caller:$l}),[P,k]=Bn({prop:o,defaultProp:l,onChange:c,caller:$l}),A=j.useRef(null),R=v?y||!!v.closest("form"):!0,[O,E]=j.useState(new Set),$=Array.from(O).map(I=>I.props.value).join(";");return s.jsx(RS,{...m,children:s.jsxs(nCe,{required:p,scope:t,trigger:v,onTriggerChange:g,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Si(),value:P,onValueChange:k,open:C,onOpenChange:N,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(Xx.Provider,{scope:t,children:s.jsx(aCe,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(I=>{E(M=>new Set(M).add(I))},[]),onNativeOptionRemove:j.useCallback(I=>{E(M=>{const D=new Set(M);return D.delete(I),D})},[]),children:r})}),R?s.jsxs(s5,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:I=>k(I.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},$):null]})})};IB.displayName=$l;var DB="SelectTrigger",LB=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Jx(r),o=Ro(DB,r),l=o.disabled||n,c=Qe(t,o.onTriggerChange),u=Qx(r),d=j.useRef("touch"),[f,h,p]=l5(m=>{const v=u().filter(b=>!b.disabled),g=v.find(b=>b.value===o.value),x=c5(v,m,g);x!==void 0&&o.onValueChange(x.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Dy,{asChild:!0,...i,children:s.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o5(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Ne(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ne(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&eCe.includes(m.key)&&(y(),m.preventDefault())})})})});LB.displayName=DB;var FB="SelectValue",BB=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ro(FB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Qe(t,c.onValueNodeChange);return Vr(()=>{u(d)},[u,d]),s.jsx($e.span,{...l,ref:f,style:{pointerEvents:"none"},children:o5(c.value)?s.jsx(s.Fragment,{children:o}):i})});BB.displayName=FB;var sCe="SelectIcon",zB=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx($e.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});zB.displayName=sCe;var oCe="SelectPortal",UB=e=>s.jsx(xp,{asChild:!0,...e});UB.displayName=oCe;var Il="SelectContent",VB=j.forwardRef((e,t)=>{const r=Ro(Il,e.__scopeSelect),[n,a]=j.useState();if(Vr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ul.createPortal(s.jsx(WB,{scope:e.__scopeSelect,children:s.jsx(Xx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(HB,{...e,ref:t})});VB.displayName=Il;var Ia=10,[WB,Mo]=Bd(Il),lCe="SelectContentImpl",cCe=Cl("SelectContent.RemoveScroll"),HB=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v,...g}=e,x=Ro(Il,r),[b,_]=j.useState(null),[w,S]=j.useState(null),C=Qe(t,H=>_(H)),[N,P]=j.useState(null),[k,A]=j.useState(null),R=Qx(r),[O,E]=j.useState(!1),$=j.useRef(!1);j.useEffect(()=>{if(b)return rN(b)},[b]),tN();const I=j.useCallback(H=>{const[he,...J]=R().map(G=>G.ref.current),[te]=J.slice(-1),W=document.activeElement;for(const G of H)if(G===W||(G==null||G.scrollIntoView({block:"nearest"}),G===he&&w&&(w.scrollTop=0),G===te&&w&&(w.scrollTop=w.scrollHeight),G==null||G.focus(),document.activeElement!==W))return},[R,w]),M=j.useCallback(()=>I([N,b]),[I,N,b]);j.useEffect(()=>{O&&M()},[O,M]);const{onOpenChange:D,triggerPointerDownPosRef:L}=x;j.useEffect(()=>{if(b){let H={x:0,y:0};const he=te=>{var W,G;H={x:Math.abs(Math.round(te.pageX)-(((W=L.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(te.pageY)-(((G=L.current)==null?void 0:G.y)??0))}},J=te=>{H.x<=10&&H.y<=10?te.preventDefault():b.contains(te.target)||D(!1),document.removeEventListener("pointermove",he),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",J,{capture:!0})}}},[b,D,L]),j.useEffect(()=>{const H=()=>D(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[D]);const[B,Q]=l5(H=>{const he=R().filter(W=>!W.disabled),J=he.find(W=>W.ref.current===document.activeElement),te=c5(he,H,J);te&&setTimeout(()=>te.ref.current.focus())}),X=j.useCallback((H,he,J)=>{const te=!$.current&&!J;(x.value!==void 0&&x.value===he||te)&&(P(H),te&&($.current=!0))},[x.value]),re=j.useCallback(()=>b==null?void 0:b.focus(),[b]),z=j.useCallback((H,he,J)=>{const te=!$.current&&!J;(x.value!==void 0&&x.value===he||te)&&A(H)},[x.value]),U=n==="popper"?e_:qB,V=U===e_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return s.jsx(WB,{scope:r,content:b,viewport:w,onViewportChange:S,itemRefCallback:X,selectedItem:N,onItemLeave:re,itemTextRefCallback:z,focusSelectedItem:M,selectedItemText:k,position:n,isPositioned:O,searchRef:B,children:s.jsx(Yx,{as:cCe,allowPinchZoom:!0,children:s.jsx(Kx,{asChild:!0,trapped:x.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Ne(a,H=>{var he;(he=x.trigger)==null||he.focus({preventScroll:!0}),H.preventDefault()}),children:s.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(U,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:H=>H.preventDefault(),...g,...V,onPlaced:()=>E(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ne(g.onKeyDown,H=>{const he=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!he&&H.key.length===1&&Q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let te=R().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(H.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const W=H.target,G=te.indexOf(W);te=te.slice(G+1)}setTimeout(()=>I(te)),H.preventDefault()}})})})})})})});HB.displayName=lCe;var uCe="SelectItemAlignedPosition",qB=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ro(Il,r),o=Mo(Il,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=Qe(t,C=>d(C)),h=Qx(r),p=j.useRef(!1),y=j.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:g,focusSelectedItem:x}=o,b=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&g){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(i.dir!=="rtl"){const W=k.left-N.left,G=P.left-W,pe=C.left-G,K=C.width+pe,ce=Math.max(K,N.width),le=window.innerWidth-Ia,je=bh(G,[Ia,Math.max(Ia,le-ce)]);l.style.minWidth=K+"px",l.style.left=je+"px"}else{const W=N.right-k.right,G=window.innerWidth-P.right-W,pe=window.innerWidth-C.right-G,K=C.width+pe,ce=Math.max(K,N.width),le=window.innerWidth-Ia,je=bh(G,[Ia,Math.max(Ia,le-ce)]);l.style.minWidth=K+"px",l.style.right=je+"px"}const A=h(),R=window.innerHeight-Ia*2,O=m.scrollHeight,E=window.getComputedStyle(u),$=parseInt(E.borderTopWidth,10),I=parseInt(E.paddingTop,10),M=parseInt(E.borderBottomWidth,10),D=parseInt(E.paddingBottom,10),L=$+I+O+D+M,B=Math.min(v.offsetHeight*5,L),Q=window.getComputedStyle(m),X=parseInt(Q.paddingTop,10),re=parseInt(Q.paddingBottom,10),z=C.top+C.height/2-Ia,U=R-z,V=v.offsetHeight/2,H=v.offsetTop+V,he=$+I+H,J=L-he;if(he<=z){const W=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-m.offsetTop-m.offsetHeight,pe=Math.max(U,V+(W?re:0)+G+M),K=he+pe;l.style.height=K+"px"}else{const W=A.length>0&&v===A[0].ref.current;l.style.top="0px";const pe=Math.max(z,$+m.offsetTop+(W?X:0)+V)+J;l.style.height=pe+"px",m.scrollTop=he-z+m.offsetTop}l.style.margin=`${Ia}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,g,i.dir,n]);Vr(()=>b(),[b]);const[_,w]=j.useState();Vr(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=j.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(fCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx($e.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qB.displayName=uCe;var dCe="SelectPopperPosition",e_=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ia,...i}=e,o=Jx(r);return s.jsx(MS,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e_.displayName=dCe;var[fCe,nN]=Bd(Il,{}),t_="SelectViewport",KB=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Mo(t_,r),o=nN(t_,r),l=Qe(t,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Xx.Slot,{scope:r,children:s.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Ia*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),g=Math.max(m,v);if(g<y){const x=g+p,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});KB.displayName=t_;var GB="SelectGroup",[hCe,pCe]=Bd(GB),mCe=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Si();return s.jsx(hCe,{scope:r,id:a,children:s.jsx($e.div,{role:"group","aria-labelledby":a,...n,ref:t})})});mCe.displayName=GB;var YB="SelectLabel",XB=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pCe(YB,r);return s.jsx($e.div,{id:a.id,...n,ref:t})});XB.displayName=YB;var Xg="SelectItem",[vCe,QB]=Bd(Xg),JB=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ro(Xg,r),c=Mo(Xg,r),u=l.value===n,[d,f]=j.useState(i??""),[h,p]=j.useState(!1),y=Qe(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),m=Si(),v=j.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(vCe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:j.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Xx.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx($e.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:Ne(o.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:Ne(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Ne(o.onPointerMove,x=>{var b;v.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ne(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(tCe.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});JB.displayName=Xg;var jf="SelectItemText",ZB=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ro(jf,r),l=Mo(jf,r),c=QB(jf,r),u=iCe(jf,r),[d,f]=j.useState(null),h=Qe(t,g=>f(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Vr(()=>(m(y),()=>v(y)),[m,v,y]),s.jsxs(s.Fragment,{children:[s.jsx($e.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(i.children,o.valueNode):null]})});ZB.displayName=jf;var e5="SelectItemIndicator",t5=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QB(e5,r).isSelected?s.jsx($e.span,{"aria-hidden":!0,...n,ref:t}):null});t5.displayName=e5;var r_="SelectScrollUpButton",r5=j.forwardRef((e,t)=>{const r=Mo(r_,e.__scopeSelect),n=nN(r_,e.__scopeSelect),[a,i]=j.useState(!1),o=Qe(t,n.onScrollButtonChange);return Vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(a5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});r5.displayName=r_;var n_="SelectScrollDownButton",n5=j.forwardRef((e,t)=>{const r=Mo(n_,e.__scopeSelect),n=nN(n_,e.__scopeSelect),[a,i]=j.useState(!1),o=Qe(t,n.onScrollButtonChange);return Vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(a5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});n5.displayName=n_;var a5=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Mo("SelectScrollButton",r),o=j.useRef(null),l=Qx(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Vr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx($e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),gCe="SelectSeparator",i5=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx($e.div,{"aria-hidden":!0,...n,ref:t})});i5.displayName=gCe;var a_="SelectArrow",yCe=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Jx(r),i=Ro(a_,r),o=Mo(a_,r);return i.open&&o.position==="popper"?s.jsx($S,{...a,...n,ref:t}):null});yCe.displayName=a_;var xCe="SelectBubbleInput",s5=j.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=j.useRef(null),i=Qe(n,a),o=qy(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx($e.select,{...r,style:{...D$,...r.style},ref:i,defaultValue:t})});s5.displayName=xCe;function o5(e){return e===""||e===void 0}function l5(e){const t=Mr(e),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function c5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function bCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wCe=IB,u5=LB,jCe=BB,_Ce=zB,SCe=UB,d5=VB,CCe=KB,f5=XB,h5=JB,NCe=ZB,PCe=t5,p5=r5,m5=n5,v5=i5;const st=wCe,ot=jCe,nt=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(u5,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(_Ce,{asChild:!0,children:s.jsx(Ev,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=u5.displayName;const g5=j.forwardRef(({className:e,...t},r)=>s.jsx(p5,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(lW,{className:"h-4 w-4"})}));g5.displayName=p5.displayName;const y5=j.forwardRef(({className:e,...t},r)=>s.jsx(m5,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ev,{className:"h-4 w-4"})}));y5.displayName=m5.displayName;const at=j.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(SCe,{children:s.jsxs(d5,{ref:a,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(g5,{}),s.jsx(CCe,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(y5,{})]})}));at.displayName=d5.displayName;const ECe=j.forwardRef(({className:e,...t},r)=>s.jsx(f5,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ECe.displayName=f5.displayName;const Le=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h5,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(PCe,{children:s.jsx(Nl,{className:"h-4 w-4"})})}),s.jsx(NCe,{children:t})]}));Le.displayName=h5.displayName;const kCe=j.forwardRef(({className:e,...t},r)=>s.jsx(v5,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));kCe.displayName=v5.displayName;var Zx="Dialog",[x5,b5]=Nn(Zx),[ACe,ii]=x5(Zx),w5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,d]=Bn({prop:n,defaultProp:a??!1,onChange:i,caller:Zx});return s.jsx(ACe,{scope:t,triggerRef:l,contentRef:c,contentId:Si(),titleId:Si(),descriptionId:Si(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};w5.displayName=Zx;var j5="DialogTrigger",_5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(j5,r),i=Qe(t,a.triggerRef);return s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sN(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});_5.displayName=j5;var aN="DialogPortal",[OCe,S5]=x5(aN,{forceMount:void 0}),C5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ii(aN,t);return s.jsx(OCe,{scope:t,forceMount:r,children:j.Children.map(n,o=>s.jsx(zn,{present:r||i.open,children:s.jsx(xp,{asChild:!0,container:a,children:o})}))})};C5.displayName=aN;var Qg="DialogOverlay",N5=j.forwardRef((e,t)=>{const r=S5(Qg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii(Qg,e.__scopeDialog);return i.modal?s.jsx(zn,{present:n||i.open,children:s.jsx(RCe,{...a,ref:t})}):null});N5.displayName=Qg;var TCe=Cl("DialogOverlay.RemoveScroll"),RCe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(Qg,r);return s.jsx(Yx,{as:TCe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx($e.div,{"data-state":sN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dl="DialogContent",P5=j.forwardRef((e,t)=>{const r=S5(Dl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii(Dl,e.__scopeDialog);return s.jsx(zn,{present:n||i.open,children:i.modal?s.jsx(MCe,{...a,ref:t}):s.jsx($Ce,{...a,ref:t})})});P5.displayName=Dl;var MCe=j.forwardRef((e,t)=>{const r=ii(Dl,e.__scopeDialog),n=j.useRef(null),a=Qe(t,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return rN(i)},[]),s.jsx(E5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),$Ce=j.forwardRef((e,t)=>{const r=ii(Dl,e.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(E5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),E5=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ii(Dl,r),c=j.useRef(null),u=Qe(t,c);return tN(),s.jsxs(s.Fragment,{children:[s.jsx(Kx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(cd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(DCe,{titleId:l.titleId}),s.jsx(FCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),iN="DialogTitle",k5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(iN,r);return s.jsx($e.h2,{id:a.titleId,...n,ref:t})});k5.displayName=iN;var A5="DialogDescription",O5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(A5,r);return s.jsx($e.p,{id:a.descriptionId,...n,ref:t})});O5.displayName=A5;var T5="DialogClose",R5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(T5,r);return s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});R5.displayName=T5;function sN(e){return e?"open":"closed"}var M5="DialogTitleWarning",[ICe,$5]=f6(M5,{contentName:Dl,titleName:iN,docsSlug:"dialog"}),DCe=({titleId:e})=>{const t=$5(M5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LCe="DialogDescriptionWarning",FCe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$5(LCe).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},I5=w5,D5=_5,L5=C5,oN=N5,lN=P5,cN=k5,uN=O5,dN=R5;const br=I5,Ju=D5,BCe=L5,F5=j.forwardRef(({className:e,...t},r)=>s.jsx(oN,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F5.displayName=oN.displayName;const ur=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BCe,{children:[s.jsx(F5,{}),s.jsxs(lN,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(dN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(ki,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=lN.displayName;const dr=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dr.displayName="DialogHeader";const e0=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e0.displayName="DialogFooter";const fr=j.forwardRef(({className:e,...t},r)=>s.jsx(cN,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=cN.displayName;const zCe=j.forwardRef(({className:e,...t},r)=>s.jsx(uN,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));zCe.displayName=uN.displayName;const UCe=["R&D","Production","Sales","Support","Admin"],VCe=[2025,2026,2027,2028,2029,2030],WCe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function HCe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=Mi(),[o,l]=j.useState("orgchart"),[c,u]=j.useState(null),[d,f]=j.useState(!1),[h,p]=j.useState({}),y=w=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:w||"R&D",startYear:2026,annualCostLoaded:5e4};p(S),u(null),f(!0)},m=w=>{u(w),p(w),f(!0)},v=()=>{if(h.title&&h.department){if(c){const w=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(w)}else n(h);f(!1),p({}),u(null)}},g=t.payrollByYear.map(w=>({year:w.year,payroll:w.payroll/1e3,headcount:w.headcount})),x=e.roles.filter(w=>w.startYear>2025),b=VCe.slice(1).map(w=>({year:w,count:e.roles.filter(S=>S.startYear===w).length,cost:e.roles.filter(S=>S.startYear===w).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(w=>w.count>0);return s.jsx(Di,{tabKey:"organisation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),s.jsxs(PB,{type:"single",value:o,onValueChange:w=>w&&l(w),children:[s.jsx(J1,{value:"orgchart","aria-label":"Vue organigramme",children:s.jsx(dW,{className:"h-4 w-4"})}),s.jsx(J1,{value:"table","aria-label":"Vue tableau",children:s.jsx(mW,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fd,{pageTitle:"Organisation & RH",sections:WCe,fileName:"Organisation_RH"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y(),children:[s.jsx(cr,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),s.jsx(_d,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ct,{label:"Masse Salariale 2025",value:ee(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),s.jsx(ct,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),s.jsx(ct,{label:"Cot Moyen / ETP",value:ee(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),s.jsx(ct,{label:"Masse Salariale 2030",value:ee(((_=t.payrollByYear.find(w=>w.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),s.jsx("div",{id:"org-payroll-chart",children:s.jsx(Fe,{title:"volution de la Masse Salariale",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(GF,{data:g,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:w=>`${w}k`}),s.jsx(Ht,{formatter:(w,S)=>S==="payroll"?`${w.toFixed(0)}k`:w}),s.jsx(Jr,{}),s.jsx(na,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),s.jsx("div",{id:"org-hiring-plan",children:b.length>0&&s.jsx(Fe,{title:"Plan de Recrutement",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:w,count:S,cost:C})=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:w}),s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ee(C,!0)})]},w))})})}),s.jsx("div",{id:"org-team",children:o==="orgchart"?s.jsx(Fe,{title:"Organigramme",children:s.jsx(nSe,{roles:e.roles,onEdit:m,onRemove:a,onAddToTeam:y})}):s.jsx(Fe,{title:"quipe & Recrutements",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Poste"}),s.jsx(oe,{children:"Dpartement"}),s.jsx(oe,{children:"Dbut"}),s.jsx(oe,{className:"text-right",children:"Cot Annuel"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:e.roles.map(w=>s.jsxs(Ce,{className:w.startYear>2025?"bg-muted/20":"",children:[s.jsxs(Y,{className:"font-medium",children:[w.title,w.startYear>2025&&s.jsx(ke,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),s.jsx(Y,{children:s.jsx(ke,{variant:"outline",children:w.department})}),s.jsx(Y,{children:w.startYear}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(w.annualCostLoaded)}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>m(w),children:"Modifier"}),s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(w.id),children:"Suppr."})]})})]},w.id))})]})})})}),s.jsx(br,{open:d,onOpenChange:f,children:s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsx(fr,{children:c?"Modifier le poste":"Nouveau poste"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),s.jsx(_e,{value:h.title||"",onChange:w=>p({...h,title:w.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),s.jsxs(st,{value:h.department,onValueChange:w=>p({...h,department:w}),children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Slectionner un dpartement"})}),s.jsx(at,{children:UCe.map(w=>s.jsx(Le,{value:w,children:w},w))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),s.jsx(_e,{type:"number",value:h.startYear||2026,onChange:w=>p({...h,startYear:Number(w.target.value)}),min:2025,max:2030})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),s.jsx(_e,{type:"number",value:h.annualCostLoaded||5e4,onChange:w=>p({...h,annualCostLoaded:Number(w.target.value)}),step:1e3})]})]})]}),s.jsxs(e0,{children:[s.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),s.jsx(ae,{onClick:v,children:"Sauvegarder"})]})]})})]})})}const d2=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],f2=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],qCe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],KCe=[0,.02,.03,.05,.07,.1,.15,.2],GCe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function YCe(){var E,$,I;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:o,saveAll:l}=Mi(),[c,u]=j.useState(null),[d,f]=j.useState({}),{startYear:h,durationYears:p}=e.scenarioSettings,y=Array.from({length:p},(M,D)=>h+D),[m,v]=j.useState(h),g=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(D=>D.id===c?{...D,...d}:D);r(M),u(null),f({})}},_=()=>{u(null),f({})},w=y[0],S=y[y.length-1],C=((E=t.opexByYear.find(M=>M.year===w))==null?void 0:E.opex)||0,N=(($=t.opexByYear.find(M=>M.year===S))==null?void 0:$.opex)||0,P=((I=t.revenueByYear.find(M=>M.year===w))==null?void 0:I.revenue)||1,k=C/P,A=t.opexByYear.find(M=>M.year===m),R=A?d2.map((M,D)=>({name:M,value:A.byCategory[M]||0,color:qCe[D]})).filter(M=>M.value>0):[],O=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return s.jsx(Di,{tabKey:"charges",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ke,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fd,{pageTitle:"Structure des Charges",sections:GCe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:g,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),s.jsx(_d,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Fe,{title:"Mode de Calcul",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>i("detailed"),className:ne("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(pW,{className:ne("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ne("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),s.jsxs("button",{onClick:()=>i("simple"),className:ne("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[s.jsx(Pv,{className:ne("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:ne("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&s.jsxs(Fe,{title:"Configuration Simplifie",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{children:["Montant OPEX annuel de base (",w,")"]}),s.jsx(_e,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>o({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"volution annuelle (%)"}),s.jsxs(st,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>o({growthRate:Number(M)/100}),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:KCe.map(M=>s.jsxs(Le,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,D)=>{const L=e.simpleOpexConfig.baseAmount*Math.pow(1+e.simpleOpexConfig.growthRate,D);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:M}),s.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:ee(L,!0)})]},M)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[s.jsx(ct,{label:`OPEX ${w}`,value:ee(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),s.jsx(ct,{label:"Ratio OPEX / CA",value:Ir(k),subValue:w.toString()}),s.jsx(ct,{label:`OPEX ${S}`,value:ee(N,!0),subValue:"Projection",trend:"up"}),s.jsx(ct,{label:"Croissance OPEX",value:C>0?Ir(N/C-1):"N/A",subValue:`${w}-${S}`})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Fe,{title:"volution des Charges",id:"charges-chart",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Ld,{data:O,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:M=>`${M}k`}),s.jsx(Ht,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(Pr,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&R.length>0&&s.jsxs(Fe,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(st,{value:m.toString(),onValueChange:M=>v(parseInt(M)),children:[s.jsx(nt,{className:"w-24 h-8",children:s.jsx(ot,{})}),s.jsx(at,{children:y.map(M=>s.jsx(Le,{value:M.toString(),children:M},M))})]})}),s.jsx("div",{className:"h-56",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(D_e,{children:[s.jsx(js,{data:R,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:R.map((M,D)=>s.jsx(Np,{fill:M.color},`cell-${D}`))}),s.jsx(Ht,{formatter:M=>ee(M)})]})})}),s.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",m,": ",s.jsx("span",{className:"font-mono-numbers font-medium",children:ee((A==null?void 0:A.opex)||0,!0)})]})]}),e.opexMode==="simple"&&s.jsx(Fe,{title:"Rcapitulatif",id:"charges-breakdown",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),s.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:ee(e.simpleOpexConfig.baseAmount,!0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),s.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&s.jsx(Fe,{title:"Dtail des Charges",id:"charges-table",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Charge"}),s.jsx(oe,{children:"Catgorie"}),s.jsx(oe,{children:"Type d'volution"}),s.jsx(oe,{className:"text-right",children:"Cot Base"}),s.jsx(oe,{children:"Paramtre"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:e.expenses.map(M=>{var D,L;return s.jsx(Ce,{children:c===M.id?s.jsxs(s.Fragment,{children:[s.jsx(Y,{children:s.jsx(_e,{value:d.name||"",onChange:B=>f({...d,name:B.target.value}),className:"h-8"})}),s.jsx(Y,{children:s.jsxs(st,{value:d.category,onValueChange:B=>f({...d,category:B}),children:[s.jsx(nt,{className:"h-8 w-40",children:s.jsx(ot,{})}),s.jsx(at,{children:d2.map(B=>s.jsx(Le,{value:B,children:B},B))})]})}),s.jsx(Y,{children:s.jsxs(st,{value:d.evolutionType,onValueChange:B=>f({...d,evolutionType:B}),children:[s.jsx(nt,{className:"h-8 w-40",children:s.jsx(ot,{})}),s.jsx(at,{children:f2.map(B=>s.jsx(Le,{value:B.value,children:B.label},B.value))})]})}),s.jsx(Y,{children:s.jsx(_e,{type:"number",value:d.baseAnnualCost||0,onChange:B=>f({...d,baseAnnualCost:Number(B.target.value)}),className:"h-8 w-28 text-right"})}),s.jsxs(Y,{children:[d.evolutionType==="growth_rate"&&s.jsx(_e,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:B=>f({...d,growthRate:Number(B.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&s.jsx(_e,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:B=>f({...d,revenueRatio:Number(B.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"icon",variant:"ghost",onClick:b,children:s.jsx(Nl,{className:"h-4 w-4 text-accent"})}),s.jsx(ae,{size:"icon",variant:"ghost",onClick:_,children:s.jsx(ki,{className:"h-4 w-4 text-destructive"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&s.jsxs(C9,{children:[s.jsx(N9,{children:s.jsx(dh,{className:"h-3 w-3 text-muted-foreground"})}),s.jsx(eD,{children:s.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),s.jsx(Y,{children:s.jsx(ke,{variant:"outline",children:M.category})}),s.jsx(Y,{children:s.jsx(ke,{variant:"secondary",children:(D=f2.find(B=>B.value===M.evolutionType))==null?void 0:D.label})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(M.baseAnnualCost)}),s.jsxs(Y,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${Ir(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${Ir(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((L=M.steps)==null?void 0:L.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>x(M),children:s.jsx(yS,{className:"h-4 w-4"})}),s.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:s.jsx(Nr,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function XCe({customers:e,selectedId:t,onSelect:r,onRefresh:n,onCreate:a}){const[i,o]=j.useState(!1),[l,c]=j.useState({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),u=async()=>{if(!a||!l.company_name.trim())return;const d=await a({...l,address:null,postal_code:null,country:"France",latitude:null,longitude:null,notes:null});d&&(o(!1),c({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),r(d.id))};return s.jsxs(s.Fragment,{children:[s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Kt,{className:"text-lg",children:"Clients"}),s.jsxs("div",{className:"flex gap-1",children:[a&&s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>o(!0),children:s.jsx(cr,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:n,children:s.jsx(wW,{className:"h-4 w-4"})})]})]})}),s.jsxs(Pt,{className:"space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),e.map(d=>s.jsxs("button",{onClick:()=>r(d.id),className:ne("w-full text-left p-3 rounded-lg transition-colors",t===d.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium text-sm",children:d.company_name}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[d.city&&s.jsx("span",{children:d.city}),s.jsx(ke,{variant:"outline",className:"text-[10px]",children:d.pricing_tier})]})]},d.id))]})]}),s.jsx(br,{open:i,onOpenChange:o,children:s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsx(fr,{children:"Nouveau Client"})}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsx(_e,{placeholder:"Nom de l'entreprise *",value:l.company_name,onChange:d=>c(f=>({...f,company_name:d.target.value}))}),s.jsx(_e,{placeholder:"Nom du contact",value:l.contact_name,onChange:d=>c(f=>({...f,contact_name:d.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(_e,{placeholder:"Email",value:l.email,onChange:d=>c(f=>({...f,email:d.target.value}))}),s.jsx(_e,{placeholder:"Tlphone",value:l.phone,onChange:d=>c(f=>({...f,phone:d.target.value}))})]}),s.jsx(_e,{placeholder:"Ville",value:l.city,onChange:d=>c(f=>({...f,city:d.target.value}))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(st,{value:l.status,onValueChange:d=>c(f=>({...f,status:d})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"prospect",children:"Prospect"}),s.jsx(Le,{value:"active",children:"Actif"}),s.jsx(Le,{value:"inactive",children:"Inactif"})]})]}),s.jsxs(st,{value:l.pricing_tier,onValueChange:d=>c(f=>({...f,pricing_tier:d})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"bronze",children:"Bronze"}),s.jsx(Le,{value:"silver",children:"Silver"}),s.jsx(Le,{value:"gold",children:"Gold"})]})]})]})]}),s.jsxs(e0,{children:[s.jsx(ae,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsx(ae,{onClick:u,disabled:!l.company_name.trim(),children:"Crer"})]})]})})]})}function QCe({customer:e,orders:t}){const r=t.reduce((n,a)=>n+(a.total_amount||0),0);return s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs(Kt,{className:"flex items-center justify-between",children:[e.company_name,s.jsx(ke,{children:e.status})]})}),s.jsxs(Pt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsx("span",{className:"ml-2",children:e.contact_name||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"ml-2",children:e.email||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Ville:"}),s.jsx("span",{className:"ml-2",children:e.city||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"CA Total:"}),s.jsx("span",{className:"ml-2 font-mono-numbers",children:ee(r,!0)})]})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Commandes (",t.length,")"]}),s.jsx("div",{className:"space-y-1",children:t.slice(0,5).map(n=>s.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/30 rounded",children:[s.jsx("span",{children:n.order_reference}),s.jsx("span",{className:"font-mono-numbers",children:ee(n.total_amount,!0)})]},n.id))})]})]})]})}function JCe({customers:e}){const t=e.filter(r=>r.latitude&&r.longitude);return s.jsx("div",{className:"h-[400px] bg-muted/30 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(qw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsxs("p",{children:[t.length," clients golocaliss"]}),s.jsx("p",{className:"text-xs mt-1",children:"Carte interactive (Leaflet)"})]})})}function ZCe({tiers:e}){return s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.map(t=>s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs(Kt,{className:"flex items-center justify-between",children:[s.jsx(ke,{variant:t.tier==="gold"?"default":"outline",children:t.tier}),s.jsxs("span",{className:"text-2xl font-bold font-mono-numbers",children:["-",t.discount_percentage,"%"]})]})}),s.jsx(Pt,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Grille tarifaire"})})]},t.id)),e.length===0&&s.jsx("p",{className:"text-muted-foreground col-span-3 text-center py-8",children:"Aucune grille tarifaire configure"})]})}function eNe({appointments:e,customers:t}){const r=e.filter(n=>!n.is_completed&&new Date(n.appointment_date)>=new Date).slice(0,10);return s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs(Kt,{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-5 w-5"}),"Rendez-vous  venir"]})}),s.jsxs(Pt,{children:[r.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun rendez-vous planifi"}),s.jsx("div",{className:"space-y-2",children:r.map(n=>{const a=t.find(i=>i.id===n.customer_id);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:n.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==null?void 0:a.company_name,"  ",new Date(n.appointment_date).toLocaleDateString("fr-FR")]})]}),n.location&&s.jsx(ke,{variant:"outline",className:"text-xs",children:n.location})]},n.id)})})]})]})}function B5(){const{toast:e}=E$(),{user:t}=Ca(),[r,n]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState([]),[d,f]=j.useState([]),[h,p]=j.useState(!0),y=j.useCallback(async()=>{if(!t){p(!1);return}try{p(!0);const[b,_]=await Promise.all([ye.from("customers").select("*").order("company_name"),ye.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{p(!1)}},[t]);j.useEffect(()=>{y()},[y]);const m=j.useCallback(async b=>{if(!t)return null;try{const{data:_,error:w}=await ye.from("customers").insert({...b,user_id:t.id}).select().single();if(w)throw w;const S=_;return n(C=>[...C,S].sort((N,P)=>N.company_name.localeCompare(P.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),v=j.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:w}=await ye.from("customers").update(_).eq("id",b);if(w)throw w;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(w){return console.error("Failed to update customer:",w),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),g=j.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await ye.from("customers").delete().eq("id",b);if(_)throw _;return n(w=>w.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=j.useCallback(async b=>{if(!t)return null;try{const{data:_,error:w}=await ye.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(w)throw w;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:o,orders:c,pricingTiers:d,isLoading:h,refreshData:y,createCustomer:m,updateCustomer:v,deleteCustomer:g,createOrder:x,getCustomerInteractions:b=>a.filter(_=>_.customer_id===b),getCustomerAppointments:b=>o.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}function tNe(){const{customers:e,orders:t,appointments:r,pricingTiers:n,isLoading:a,refreshData:i,createCustomer:o,updateCustomer:l,deleteCustomer:c}=B5(),[u,d]=j.useState(null),f=e.find(g=>g.id===u),h=e.length,p=e.filter(g=>g.status==="active").length,y=t.reduce((g,x)=>g+(x.total_amount||0),0),m=t.filter(g=>["draft","confirmed","in_progress"].includes(g.status)).length,v=r.filter(g=>!g.is_completed&&new Date(g.appointment_date)>=new Date).length;return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, suivi commercial et commandes"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[s.jsx(ct,{label:"Total Clients",value:h}),s.jsx(ct,{label:"Clients Actifs",value:p,trend:p>0?"up":"neutral"}),s.jsx(ct,{label:"CA Total",value:`${(y/1e3).toFixed(0)} k`}),s.jsx(ct,{label:"Commandes en cours",value:m}),s.jsx(ct,{label:"RDV  venir",value:v})]}),s.jsxs(Ea,{defaultValue:"customers",className:"space-y-4",children:[s.jsxs(la,{children:[s.jsxs(ft,{value:"customers",children:[s.jsx(xu,{className:"h-4 w-4 mr-2"}),"Clients"]}),s.jsxs(ft,{value:"map",children:[s.jsx(qw,{className:"h-4 w-4 mr-2"}),"Carte"]}),s.jsxs(ft,{value:"pricing",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Grille Tarifaire"]}),s.jsxs(ft,{value:"agenda",children:[s.jsx(vu,{className:"h-4 w-4 mr-2"}),"Agenda"]})]}),s.jsx(gt,{value:"customers",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(XCe,{customers:e,selectedId:u,onSelect:d,onRefresh:i,onCreate:o})}),s.jsx("div",{className:"lg:col-span-2",children:f?s.jsx(QCe,{customer:f,orders:t.filter(g=>g.customer_id===u),onRefresh:i}):s.jsx(jt,{className:"h-full min-h-[400px] flex items-center justify-center",children:s.jsxs(Pt,{className:"text-center text-muted-foreground",children:[s.jsx(xu,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})}),s.jsx(gt,{value:"map",className:"space-y-4",children:s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs(Kt,{className:"flex items-center gap-2",children:[s.jsx(qw,{className:"h-5 w-5"}),"Localisation des clients"]})}),s.jsx(Pt,{children:s.jsx(JCe,{customers:e,selectedId:u,onSelectCustomer:d})})]})}),s.jsx(gt,{value:"pricing",className:"space-y-4",children:s.jsx(ZCe,{tiers:n,onRefresh:i})}),s.jsx(gt,{value:"agenda",className:"space-y-4",children:s.jsx(eNe,{appointments:r,customers:e,onRefresh:i})})]})]})}var t0="Switch",[rNe,IOe]=Nn(t0),[nNe,aNe]=rNe(t0),z5=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=j.useState(null),y=Qe(t,b=>p(b)),m=j.useRef(!1),v=h?d||!!h.closest("form"):!0,[g,x]=Bn({prop:a,defaultProp:i??!1,onChange:u,caller:t0});return s.jsxs(nNe,{scope:r,checked:g,disabled:l,children:[s.jsx($e.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":H5(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ne(e.onClick,b=>{x(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&s.jsx(W5,{control:h,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});z5.displayName=t0;var U5="SwitchThumb",V5=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=aNe(U5,r);return s.jsx($e.span,{"data-state":H5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});V5.displayName=U5;var iNe="SwitchBubbleInput",W5=j.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),l=Qe(o,i),c=qy(r),u=Iy(t);return j.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W5.displayName=iNe;function H5(e){return e?"checked":"unchecked"}var q5=z5,sNe=V5;const K5=j.forwardRef(({className:e,...t},r)=>s.jsx(q5,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(sNe,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));K5.displayName=q5.displayName;var r0="Popover",[G5,DOe]=Nn(r0,[md]),$p=md(),[oNe,$o]=G5(r0),Y5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=$p(t),c=j.useRef(null),[u,d]=j.useState(!1),[f,h]=Bn({prop:n,defaultProp:a??!1,onChange:i,caller:r0});return s.jsx(RS,{...l,children:s.jsx(oNe,{scope:t,contentId:Si(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:o,children:r})})};Y5.displayName=r0;var X5="PopoverAnchor",lNe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(X5,r),i=$p(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Dy,{...i,...n,ref:t})});lNe.displayName=X5;var Q5="PopoverTrigger",J5=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(Q5,r),i=$p(r),o=Qe(t,a.triggerRef),l=s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nz(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Dy,{asChild:!0,...i,children:l})});J5.displayName=Q5;var fN="PopoverPortal",[cNe,uNe]=G5(fN,{forceMount:void 0}),Z5=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=$o(fN,t);return s.jsx(cNe,{scope:t,forceMount:r,children:s.jsx(zn,{present:r||i.open,children:s.jsx(xp,{asChild:!0,container:a,children:n})})})};Z5.displayName=fN;var Zu="PopoverContent",ez=j.forwardRef((e,t)=>{const r=uNe(Zu,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=$o(Zu,e.__scopePopover);return s.jsx(zn,{present:n||i.open,children:i.modal?s.jsx(fNe,{...a,ref:t}):s.jsx(hNe,{...a,ref:t})})});ez.displayName=Zu;var dNe=Cl("PopoverContent.RemoveScroll"),fNe=j.forwardRef((e,t)=>{const r=$o(Zu,e.__scopePopover),n=j.useRef(null),a=Qe(t,n),i=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return rN(o)},[]),s.jsx(Yx,{as:dNe,allowPinchZoom:!0,children:s.jsx(tz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hNe=j.forwardRef((e,t)=>{const r=$o(Zu,e.__scopePopover),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(tz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tz=j.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=$o(Zu,r),p=$p(r);return tN(),s.jsx(Kx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(cd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(MS,{"data-state":nz(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rz="PopoverClose",pNe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(rz,r);return s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});pNe.displayName=rz;var mNe="PopoverArrow",vNe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$p(r);return s.jsx($S,{...a,...n,ref:t})});vNe.displayName=mNe;function nz(e){return e?"open":"closed"}var gNe=Y5,yNe=J5,xNe=Z5,az=ez;const iz=gNe,sz=yNe,hN=j.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(xNe,{children:s.jsx(az,{ref:a,align:t,sideOffset:r,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));hN.displayName=az.displayName;function bNe(){const{computed:e}=Mi(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return s.jsx(Fe,{title:"Plan de Trsorerie Mensuel",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return s.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return s.jsx(Fe,{title:`Trsorerie ${n}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),s.jsx("tbody",{children:a.map(i=>s.jsxs("tr",{className:ne("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(i.totalInflows,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:ee(i.totalOutflows,!0)}),s.jsxs("td",{className:ne("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",ee(i.netCashFlow,!0)]}),s.jsx("td",{className:ne("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:ee(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const Ib={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},Db={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},wNe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function jNe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(Ib),d=Array.from({length:n+2},(g,x)=>r+x),f=()=>{l(null),u({...Ib,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=g=>{l(g.id);const{id:x,...b}=g;u({...Ib,...b}),i(!0)},p=()=>{c.name.trim()&&(t(o?e.map(g=>g.id===o?{...g,...c}:g):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=g=>{t(e.filter(x=>x.id!==g))},m=g=>{if(g.inputMode==="fixed")return g.fixedPaymentAmount||0;const x=g.startDate.year*12+g.startDate.month,_=g.endDate.year*12+g.endDate.month-x;if(_<=0)return 0;if(g.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=g.interestRate;return C===0?g.principalAmount/S:g.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(g.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=g.interestRate/4;return C===0?g.principalAmount/S:g.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const w=g.interestRate/12;return w===0?g.principalAmount/_:g.principalAmount*w*Math.pow(1+w,_)/(Math.pow(1+w,_)-1)},v=g=>{const x=m(g),b=g.startDate.year*12+g.startDate.month,w=g.endDate.year*12+g.endDate.month-b;return w<=0?0:g.frequency==="annual"?x*Math.max(1,Math.round(w/12)):g.frequency==="quarterly"?x*Math.max(1,Math.round(w/3)):x*w};return s.jsxs(s.Fragment,{children:[s.jsx(Fe,{title:"Gestion des Prts",action:s.jsxs(ae,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(fW,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun prt configur"}),s.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Mode"}),s.jsx(oe,{className:"text-right",children:"Capital"}),s.jsx(oe,{className:"text-right",children:"Taux"}),s.jsx(oe,{children:"Frquence"}),s.jsx(oe,{children:"Priode"}),s.jsx(oe,{className:"text-right",children:"chance"}),s.jsx(oe,{className:"text-right",children:"Cot Total"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:e.map(g=>{const x=m(g),b=v(g);return s.jsxs(Ce,{children:[s.jsx(Y,{className:"font-medium",children:g.name}),s.jsx(Y,{children:s.jsx(ke,{variant:"outline",className:"text-xs",children:g.inputMode==="fixed"?s.jsxs(s.Fragment,{children:[s.jsx(GP,{className:"h-3 w-3 mr-1"}),"Fixe"]}):s.jsxs(s.Fragment,{children:[s.jsx(Pv,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),s.jsx(Y,{className:"text-right font-mono-numbers",children:g.inputMode==="calculated"?ee(g.principalAmount,!0):"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:g.inputMode==="calculated"?`${(g.interestRate*100).toFixed(1)}%`:"-"}),s.jsx(Y,{children:s.jsx(ke,{variant:"secondary",className:"text-xs",children:Db[g.frequency]})}),s.jsxs(Y,{className:"text-xs",children:[rl[g.startDate.month].slice(0,3)," ",g.startDate.year,"  ",rl[g.endDate.month].slice(0,3)," ",g.endDate.year]}),s.jsxs(Y,{className:"text-right font-mono-numbers font-medium",children:[ee(x),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:wNe[g.frequency]})]}),s.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b,!0)}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>h(g),children:s.jsx(yS,{className:"h-3 w-3"})}),s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(g.id),children:s.jsx(Nr,{className:"h-3 w-3"})})]})})]},g.id)})})]})})}),s.jsx(br,{open:a,onOpenChange:i,children:s.jsxs(ur,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:o?"Modifier le Prt":"Nouveau Prt"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Nom du prt"}),s.jsx(_e,{value:c.name,onChange:g=>u(x=>({...x,name:g.target.value})),placeholder:"Ex: BPI Innovation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Mode de saisie"}),s.jsx(Ea,{value:c.inputMode,onValueChange:g=>u(x=>({...x,inputMode:g})),children:s.jsxs(la,{className:"w-full",children:[s.jsxs(ft,{value:"calculated",className:"flex-1",children:[s.jsx(Pv,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),s.jsxs(ft,{value:"fixed",className:"flex-1",children:[s.jsx(GP,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Montant emprunt ()"}),s.jsx(_e,{type:"number",value:c.principalAmount,onChange:g=>u(x=>({...x,principalAmount:Number(g.target.value)}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Taux d'intrt annuel (%)"}),s.jsx(_e,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:g=>u(x=>({...x,interestRate:Number(g.target.value)/100}))})]})]}),c.inputMode==="fixed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Montant de l'chance ()"}),s.jsx(_e,{type:"number",value:c.fixedPaymentAmount||0,onChange:g=>u(x=>({...x,fixedPaymentAmount:Number(g.target.value)})),placeholder:"Montant fixe par priode"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",Db[c.frequency].toLowerCase(),")."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Frquence des chances"}),s.jsxs(st,{value:c.frequency,onValueChange:g=>u(x=>({...x,frequency:g})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"monthly",children:"Mensuel"}),s.jsx(Le,{value:"quarterly",children:"Trimestriel"}),s.jsx(Le,{value:"annual",children:"Annuel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Date de dbut"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(st,{value:c.startDate.month.toString(),onValueChange:g=>u(x=>({...x,startDate:{...x.startDate,month:Number(g)}})),children:[s.jsx(nt,{className:"flex-1",children:s.jsx(ot,{})}),s.jsx(at,{children:rl.map((g,x)=>s.jsx(Le,{value:x.toString(),children:g.slice(0,3)},x))})]}),s.jsxs(st,{value:c.startDate.year.toString(),onValueChange:g=>u(x=>({...x,startDate:{...x.startDate,year:Number(g)}})),children:[s.jsx(nt,{className:"w-24",children:s.jsx(ot,{})}),s.jsx(at,{children:d.map(g=>s.jsx(Le,{value:g.toString(),children:g},g))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Date de fin"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(st,{value:c.endDate.month.toString(),onValueChange:g=>u(x=>({...x,endDate:{...x.endDate,month:Number(g)}})),children:[s.jsx(nt,{className:"flex-1",children:s.jsx(ot,{})}),s.jsx(at,{children:rl.map((g,x)=>s.jsx(Le,{value:x.toString(),children:g.slice(0,3)},x))})]}),s.jsxs(st,{value:c.endDate.year.toString(),onValueChange:g=>u(x=>({...x,endDate:{...x.endDate,year:Number(g)}})),children:[s.jsx(nt,{className:"w-24",children:s.jsx(ot,{})}),s.jsx(at,{children:d.map(g=>s.jsx(Le,{value:g.toString(),children:g},g))})]})]})]})]}),c.name.trim()&&s.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[s.jsx("div",{className:"font-medium",children:"Aperu"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["chance ",Db[c.frequency].toLowerCase()," :"]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:ee(m({id:"",...c}))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),s.jsx("span",{className:"font-mono-numbers",children:ee(v({id:"",...c}),!0)})]})]})]}),s.jsxs(e0,{children:[s.jsx(ae,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),s.jsx(ae,{onClick:p,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function _Ne({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(f,h)=>n+h),o=j.useMemo(()=>{const f=new Map;return e.forEach(h=>{const p=f.get(h.productId)||[];p.push(h),f.set(h.productId,p)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const p=e.filter(g=>g.productId===f.id).reduce((g,x)=>g+x.percentageOfTotal,0),y=Math.max(0,100-p),m=Math.min(y,25),v={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:m,amount:f.devCost*m/100};t([...e,v])},u=(f,h)=>{t(e.map(p=>{if(p.id!==f)return p;const y={...p,...h},m=r.find(v=>v.id===y.productId);return m&&(y.amount=m.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return s.jsx(Fe,{title:"Dblocage CAPEX Produits",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Pl,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),s.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):s.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=o.get(f.id)||[],p=h.reduce((y,m)=>y+m.percentageOfTotal,0);return h.reduce((y,m)=>y+m.amount,0),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",ee(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:p===100?"default":"secondary",children:[p,"% planifi"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:p>=100,children:[s.jsx(cr,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Mois"}),s.jsx(oe,{children:"Anne"}),s.jsx(oe,{className:"text-right",children:"% du total"}),s.jsx(oe,{className:"text-right",children:"Montant"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:h.map(y=>s.jsxs(Ce,{children:[s.jsx(Y,{children:s.jsxs(st,{value:y.month.toString(),onValueChange:m=>u(y.id,{month:Number(m)}),children:[s.jsx(nt,{className:"h-8 w-28",children:s.jsx(ot,{})}),s.jsx(at,{children:rl.map((m,v)=>s.jsx(Le,{value:v.toString(),children:m},v))})]})}),s.jsx(Y,{children:s.jsxs(st,{value:y.year.toString(),onValueChange:m=>u(y.id,{year:Number(m)}),children:[s.jsx(nt,{className:"h-8 w-20",children:s.jsx(ot,{})}),s.jsx(at,{children:i.map(m=>s.jsx(Le,{value:m.toString(),children:m},m))})]})}),s.jsx(Y,{className:"text-right",children:s.jsx(_e,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:m=>u(y.id,{percentageOfTotal:Number(m.target.value)})})}),s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(y.amount,!0)}),s.jsx(Y,{children:s.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:s.jsx(Nr,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}var n0="Checkbox",[SNe,LOe]=Nn(n0),[CNe,pN]=SNe(n0);function NNe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Bn({prop:r,defaultProp:a??!1,onChange:c,caller:n0}),[y,m]=j.useState(null),[v,g]=j.useState(null),x=j.useRef(!1),b=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ho(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:g};return s.jsx(CNe,{scope:t,..._,children:PNe(f)?f(_):n})}var oz="CheckboxTrigger",lz=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=pN(oz,e),m=Qe(a,d),v=j.useRef(c);return j.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const x=()=>f(v.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[i,f]),s.jsx($e.button,{type:"button",role:"checkbox","aria-checked":ho(c)?"mixed":c,"aria-required":u,"data-state":hz(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ne(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ne(r,g=>{f(x=>ho(x)?!0:!x),y&&p&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});lz.displayName=oz;var mN=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(NNe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(lz,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(fz,{__scopeCheckbox:r})]})})});mN.displayName=n0;var cz="CheckboxIndicator",uz=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=pN(cz,r);return s.jsx(zn,{present:n||ho(i.checked)||i.checked===!0,children:s.jsx($e.span,{"data-state":hz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});uz.displayName=cz;var dz="CheckboxBubbleInput",fz=j.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=pN(dz,e),y=Qe(r,p),m=qy(i),v=Iy(n);j.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(m!==i&&w){const C=new Event("click",{bubbles:S});x.indeterminate=ho(i),w.call(x,ho(i)?!1:i),x.dispatchEvent(C)}},[h,m,i,a]);const g=j.useRef(ho(i)?!1:i);return s.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});fz.displayName=dz;function PNe(e){return typeof e=="function"}function ho(e){return e==="indeterminate"}function hz(e){return ho(e)?"indeterminate":e?"checked":"unchecked"}const Ll=j.forwardRef(({className:e,...t},r)=>s.jsx(mN,{ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(uz,{className:ne("flex items-center justify-center text-current"),children:s.jsx(Nl,{className:"h-4 w-4"})})}));Ll.displayName=mN.displayName;const Rm=[{key:"ca",name:"CA",color:"hsl(150, 60%, 40%)",type:"bar",defaultVisible:!1},{key:"cogs",name:"Achats matire",color:"hsl(38, 92%, 50%)",type:"bar",defaultVisible:!0},{key:"payroll",name:"Masse salariale",color:"hsl(210, 70%, 50%)",type:"bar",defaultVisible:!0},{key:"opex",name:"OPEX",color:"hsl(280, 60%, 50%)",type:"bar",defaultVisible:!0},{key:"capex",name:"CAPEX",color:"hsl(0, 0%, 45%)",type:"bar",defaultVisible:!0},{key:"loans",name:"chances prts",color:"hsl(0, 85%, 50%)",type:"bar",defaultVisible:!0},{key:"tresorerie",name:"Trsorerie",color:"hsl(150, 60%, 40%)",type:"line",defaultVisible:!0},{key:"cashFlow",name:"Cash Flow",color:"hsl(210, 90%, 55%)",type:"line",defaultVisible:!1}];function ENe({projection:e,startYear:t,durationYears:r}){const[n,a]=j.useState("annual"),[i,o]=j.useState(t),[l,c]=j.useState(()=>new Set(Rm.filter(v=>v.defaultVisible).map(v=>v.key))),u=Array.from({length:r},(v,g)=>t+g),d=v=>{c(g=>{const x=new Set(g);return x.has(v)?x.delete(v):x.add(v),x})},f=j.useMemo(()=>{const v=yd(e.months);return u.map(g=>{const x=v.get(g);if(!x)return{label:g.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const _=e.months.filter(S=>S.year===g).reduce((S,C)=>S+C.capexPayments,0),w=x.loanPayments;return{label:g.toString(),ca:x.revenue/1e3,cogs:x.cogs/1e3,payroll:x.payroll/1e3,opex:x.opex/1e3,capex:_/1e3,loans:w/1e3,tresorerie:x.treasuryEnd/1e3,cashFlow:x.netCashFlow/1e3}})},[e,u]),h=j.useMemo(()=>e.months.filter(v=>v.year===i).map(v=>({label:v.monthName.slice(0,3),ca:v.revenue/1e3,cogs:v.cogs/1e3,payroll:v.payroll/1e3,opex:v.opex/1e3,capex:v.capexPayments/1e3,loans:v.loanPayments/1e3,tresorerie:v.treasuryEnd/1e3,cashFlow:v.netCashFlow/1e3})),[e,i]),p=n==="annual"?h:f,y=Rm.filter(v=>v.type==="bar"&&l.has(v.key)),m=Rm.filter(v=>v.type==="line"&&l.has(v.key));return s.jsx(Fe,{title:"Suivi de Trsorerie Dtaill",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(iz,{children:[s.jsx(sz,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(fh,{className:"h-3.5 w-3.5 mr-1"}),"Sries"]})}),s.jsxs(hN,{className:"w-56",align:"end",children:[s.jsx("p",{className:"text-xs font-medium mb-2",children:"Sries affiches"}),s.jsx("div",{className:"space-y-2",children:Rm.map(v=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ll,{id:`series-${v.key}`,checked:l.has(v.key),onCheckedChange:()=>d(v.key)}),s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:v.color}}),s.jsx(we,{htmlFor:`series-${v.key}`,className:"text-xs cursor-pointer",children:v.name})]},v.key))})]})]}),s.jsxs(st,{value:n,onValueChange:v=>a(v),children:[s.jsx(nt,{className:"h-8 w-40",children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"full-period",children:"Toute la priode"}),s.jsx(Le,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&s.jsxs(st,{value:i.toString(),onValueChange:v=>o(Number(v)),children:[s.jsx(nt,{className:"h-8 w-24",children:s.jsx(ot,{})}),s.jsx(at,{children:u.map(v=>s.jsx(Le,{value:v.toString(),children:v},v))})]})]}),children:s.jsx("div",{className:"h-80",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Rp,{data:p,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"label"}),s.jsx(yr,{tickFormatter:v=>`${v}k`}),s.jsx(Ht,{formatter:v=>`${v.toFixed(0)}k`}),s.jsx(Jr,{}),y.map(v=>s.jsx(Pr,{dataKey:v.key,name:v.name,stackId:"costs",fill:v.color},v.key)),m.map(v=>s.jsx(In,{type:"monotone",dataKey:v.key,name:v.name,stroke:v.color,strokeWidth:3,dot:{r:4}},v.key))]})})})})}function kNe({projection:e,startYear:t,durationYears:r}){const[n,a]=j.useState("annual"),[i,o]=j.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=j.useMemo(()=>yd(e.months),[e]),u=j.useMemo(()=>e.months.filter(f=>f.year===i),[e,i]),d=(f,h,p,y)=>s.jsxs(Ce,{className:p,children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((m,v)=>s.jsx(Y,{className:ne("text-right font-mono-numbers",y&&m>0&&"text-destructive"),children:y&&m>0?`(${ee(m,!0)})`:ee(m,!0)},v))]});if(n==="monthly"){const f=u;return s.jsx(Fe,{title:"Dtail Prvisionnel",action:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(st,{value:n,onValueChange:h=>a(h),children:[s.jsx(nt,{className:"h-8 w-36",children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"annual",children:"Par anne"}),s.jsx(Le,{value:"monthly",children:"Par mois"})]})]}),s.jsxs(st,{value:i.toString(),onValueChange:h=>o(Number(h)),children:[s.jsx(nt,{className:"h-8 w-24",children:s.jsx(ot,{})}),s.jsx(at,{children:l.map(h=>s.jsx(Le,{value:h.toString(),children:h},h))})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>s.jsx(oe,{className:"text-right min-w-20",children:rl[h.month].slice(0,3)},h.month))]})}),s.jsxs(Bt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),s.jsxs(Ce,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,p)=>s.jsxs(Y,{className:ne("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",ee(h.netCashFlow,!0)]},p))]}),s.jsxs(Ce,{className:"bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,p)=>s.jsx(Y,{className:ne("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:ee(h.treasuryEnd,!0)},p))]})]})]})})})}return s.jsx(Fe,{title:"Dtail Prvisionnel",action:s.jsxs(st,{value:n,onValueChange:f=>a(f),children:[s.jsx(nt,{className:"h-8 w-36",children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"annual",children:"Par anne"}),s.jsx(Le,{value:"monthly",children:"Par mois"})]})]}),children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>s.jsx(oe,{className:"text-right min-w-24",children:f},f))]})}),s.jsxs(Bt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(p=>p.year===f).reduce((p,y)=>p+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),s.jsxs(Ce,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.netCashFlow)||0;return s.jsxs(Y,{className:ne("text-right font-mono-numbers font-bold",p<0?"text-destructive":"text-green-600"),children:[p>=0?"+":"",ee(p,!0)]},f)})]}),s.jsxs(Ce,{className:"bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.treasuryEnd)||0;return s.jsx(Y,{className:ne("text-right font-mono-numbers font-bold",p<0&&"text-destructive"),children:ee(p,!0)},f)})]})]})]})})})}const h2=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function p2({title:e,description:t,seasonality:r,onChange:n}){const a=(d,f)=>{n({...r,[d]:f})},i=()=>{n({0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0})},o=Object.values(r).map(d=>1+d),l=o.reduce((d,f)=>d+f,0),c=l>0?o.map(d=>d/l*12):Array(12).fill(1),u=Object.values(r).every(d=>d===0);return s.jsxs(Fe,{title:e,action:s.jsxs("div",{className:"flex items-center gap-2",children:[u&&s.jsx(ke,{variant:"secondary",className:"text-xs",children:"Rpartition uniforme"}),s.jsxs(ae,{variant:"ghost",size:"sm",onClick:i,disabled:u,children:[s.jsx(jW,{className:"h-3.5 w-3.5 mr-1"}),"Rinitialiser"]})]}),children:[t&&s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:t}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-4",children:Array.from({length:12},(d,f)=>f).map(d=>{const f=r[d]||0,p=(c[d]/12*100).toFixed(1);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{className:"text-xs",children:h2[d]}),s.jsxs("span",{className:ne("text-xs font-mono-numbers",f>0?"text-[hsl(var(--positive))]":f<0?"text-destructive":"text-muted-foreground"),children:[f>0?"+":"",(f*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[f*100],onValueChange:([y])=>a(d,y/100),min:-80,max:200,step:5}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[" ",p,"% annuel"]})]},d)})}),s.jsx("div",{className:"mt-4 flex gap-0.5 h-8 rounded overflow-hidden",children:c.map((d,f)=>s.jsx("div",{className:"flex items-end justify-center transition-all",style:{flex:d,backgroundColor:`hsl(var(--primary) / ${.3+d/Math.max(...c)*.7})`},children:s.jsx("span",{className:"text-[9px] font-mono-numbers text-primary-foreground/80",children:h2[f]})},f))})]})}function ANe({terms:e,onChange:t}){const r=e.reduce((l,c)=>l+c.percentage,0),n=Math.abs(r-100)<.1,a=()=>{const l=Math.max(0,100-r),c=e.length>0?Math.max(...e.map(u=>u.delayMonths))+1:0;t([...e,{delayMonths:c,percentage:l}])},i=l=>{t(e.filter((c,u)=>u!==l))},o=(l,c,u)=>{const d=e.map((f,h)=>h===l?{...f,[c]:u}:f);t(d)};return s.jsxs(Fe,{title:"Conditions de Paiement Fournisseur",action:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:n?"default":"destructive",className:"text-xs",children:["Total: ",r.toFixed(0),"%"]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(cr,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter chance"]})]}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Dfinissez comment les achats matire sont pays. Chaque ligne indique le dcalage en mois et le pourcentage du montant total."}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune condition configure  paiement comptant par dfaut."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-end",children:[s.jsx(we,{className:"text-xs",children:"Dlai (mois)"}),s.jsx(we,{className:"text-xs",children:"% du paiement"}),s.jsx("div",{className:"w-8"})]}),e.map((l,c)=>s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"M+"}),s.jsx(_e,{type:"number",min:0,max:12,value:l.delayMonths,onChange:u=>o(c,"delayMonths",parseInt(u.target.value)||0),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{type:"number",min:0,max:100,step:5,value:l.percentage,onChange:u=>o(c,"percentage",parseFloat(u.target.value)||0),className:ne("h-8 text-sm",!n&&"border-destructive")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"%"})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(c),children:s.jsx(Nr,{className:"h-3.5 w-3.5 text-destructive"})})]},c))]}),!n&&e.length>0&&s.jsxs("p",{className:"text-xs text-destructive mt-3",children:[" Le total doit tre gal  100%. Actuellement : ",r.toFixed(0),"%."]}),e.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[s.jsx(we,{className:"text-xs mb-2 block",children:"chancier de paiement"}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:e.sort((l,c)=>l.delayMonths-c.delayMonths).map((l,c)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full bg-primary/60 rounded-t transition-all",style:{height:`${l.percentage/100*48}px`}}),s.jsxs("span",{className:"text-[10px] text-muted-foreground mt-1",children:["M+",l.delayMonths]}),s.jsxs("span",{className:"text-[10px] font-bold font-mono-numbers",children:[l.percentage,"%"]})]},c))})]})]})}const Lb=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],ONe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],TNe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],RNe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function MNe(){var N;const{state:e,computed:t,saveAll:r,updateMonthlyTreasuryConfig:n}=Mi(),[a,i]=j.useState(()=>{const P=new Set;return Lb.forEach(k=>{k.defaultVisible&&P.add(k.id)}),P}),[o,l]=j.useState("annual"),{startYear:c,durationYears:u}=e.scenarioSettings,d=Array.from({length:u},(P,k)=>c+k),f=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:h}=t,p=j.useMemo(()=>{const P=yd(h.months);return d.map(k=>{const A=P.get(k);if(!A)return{year:k,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const R=t.treasuryProjection.years.find($=>$.year===k),O=(R==null?void 0:R.capex)||0,E=(R==null?void 0:R.depreciation)||0;return{year:A.year,revenue:A.revenue,cogs:A.cogs,grossMargin:A.grossMargin,payroll:A.payroll,opex:A.opex,capex:O,depreciation:E,ebitda:A.ebitda,operatingResult:A.ebitda-E,cashFlow:A.netCashFlow,treasuryStart:A.treasuryStart,treasuryEnd:A.treasuryEnd,fundingInjection:A.fundingInjection}})},[h,t.treasuryProjection,d]),y=p.map(P=>({year:P.year,tresorerie:P.treasuryEnd/1e3,cashFlow:P.cashFlow/1e3,levee:P.fundingInjection/1e3})),m=p.map(P=>({year:P.year,ca:P.revenue/1e3,margeBrute:P.grossMargin/1e3,ebitda:P.ebitda/1e3,resultat:P.operatingResult/1e3})),v=p[0],g=p[p.length-1],x=p.reduce((P,k)=>P+k.cashFlow,0),b=((N=h.breakEvenMonth)==null?void 0:N.year)||null,_=h.minTreasury,w=P=>{i(k=>{const A=new Set(k);return A.has(P)?A.delete(P):A.add(P),A})},S=Lb.filter(P=>a.has(P.id)),C=(P,k)=>k==="percent"?Ir(P):ee(P,!0);return s.jsx(Di,{tabKey:"previsionnel",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Ea,{value:o,onValueChange:P=>l(P),children:s.jsxs(la,{children:[s.jsxs(ft,{value:"annual",className:"flex items-center gap-2",children:[s.jsx(sI,{className:"h-4 w-4"}),"Vue Annuelle"]}),s.jsxs(ft,{value:"monthly",className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),s.jsxs(ft,{value:"params",className:"flex items-center gap-2",children:[s.jsx(fh,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),s.jsx(ke,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":"Global Canaux"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:f?"outline":"default",className:"text-xs",children:f?"Leve dsactive":"Leve active"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(configurable dans Scnarios)"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:"outline",className:"text-xs",children:[u," annes  ",S.length," indicateurs actifs"]}),s.jsx(Fd,{pageTitle:o==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:o==="monthly"?TNe:ONe,fileName:o==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),s.jsx(_d,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o==="params"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(jNe,{loans:e.monthlyTreasuryConfig.loans,onChange:P=>n({...e.monthlyTreasuryConfig,loans:P}),startYear:c,durationYears:u}),s.jsx(_Ne,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:P=>n({...e.monthlyTreasuryConfig,capexPayments:P}),products:e.products,startYear:c,durationYears:u})]}):o==="monthly"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(ENe,{projection:h,startYear:c,durationYears:u}),s.jsx(p2,{title:"Saisonnalit du CA",description:"Ajustez la rpartition mensuelle du chiffre d'affaires. Par dfaut, le CA est rparti uniformment (1/12e par mois).",seasonality:e.monthlyTreasuryConfig.revenueSeasonality,onChange:P=>n({...e.monthlyTreasuryConfig,revenueSeasonality:P})}),s.jsx(p2,{title:"Saisonnalit des Achats Matire",description:"Modulation mensuelle des achats. Les achats peuvent suivre la mme saisonnalit que le CA ou tre dcals (anticipation, stockage).",seasonality:e.monthlyTreasuryConfig.cogsSeasonality,onChange:P=>n({...e.monthlyTreasuryConfig,cogsSeasonality:P})}),s.jsx(ANe,{terms:e.monthlyTreasuryConfig.cogsPaymentTerms||[{delayMonths:0,percentage:100}],onChange:P=>n({...e.monthlyTreasuryConfig,cogsPaymentTerms:P})}),s.jsxs(Fe,{title:"Vrification Cohrence Annuelle",action:s.jsx(ke,{variant:"outline",className:"text-xs",children:"Plan Produit vs Trsorerie"}),children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Vrifiez que la somme annuelle du CA et des achats matire correspond aux donnes du Plan Produit / moteur financier."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-2",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"CA Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart CA"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Plan Produit"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Achats Trsorerie ( mois)"}),s.jsx("th",{className:"text-right py-2 px-2",children:"cart Achats"})]})}),s.jsx("tbody",{children:d.map(P=>{const k=t.revenueByYear.find(B=>B.year===P),A=(k==null?void 0:k.revenue)||0,R=(k==null?void 0:k.cogs)||0,O=h.months.filter(B=>B.year===P),E=O.reduce((B,Q)=>B+Q.revenue,0),$=O.reduce((B,Q)=>B+Q.cogs,0),I=E-A,M=$-R,D=Math.abs(I)<1,L=Math.abs(M)<R*.01+1;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-1.5 px-2 font-medium",children:P}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(A,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(E,!0)}),s.jsx("td",{className:ne("py-1.5 px-2 text-right font-mono-numbers",D?"text-[hsl(var(--positive))]":"text-destructive"),children:D?"":ee(I,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(R,!0)}),s.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee($,!0)}),s.jsx("td",{className:ne("py-1.5 px-2 text-right font-mono-numbers",L?"text-[hsl(var(--positive))]":"text-amber-600"),children:L?"":ee(M,!0)})]},P)})})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Note : les carts sur les achats peuvent tre normaux si des conditions de paiement avec dlais sont configures (report entre annes)."})]}),s.jsx(kNe,{projection:h,startYear:c,durationYears:u}),s.jsx(bNe,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[s.jsx(ct,{label:`CA ${(g==null?void 0:g.year)||""}`,value:ee((g==null?void 0:g.revenue)||0,!0),subValue:`vs ${ee((v==null?void 0:v.revenue)||0,!0)} en ${v==null?void 0:v.year}`,trend:"up"}),s.jsx(ct,{label:"Cash Flow Cumul",value:ee(x,!0),subValue:`${v==null?void 0:v.year}-${g==null?void 0:g.year}`,trend:x>=0?"up":"down"}),s.jsx(ct,{label:"Trsorerie Min",value:ee(_,!0),subValue:"Point bas projet",trend:_>=0?"neutral":"down"}),s.jsx(ct,{label:"Break-even",value:b?b.toString():"N/A",subValue:"Cash flow positif"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Fe,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:s.jsx("div",{className:"h-72",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Rp,{data:y,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(na,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(Pr,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),s.jsx(Fe,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:s.jsx("div",{className:"h-72",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Ld,{data:y,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Pr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),s.jsx(Fe,{title:"Soldes Intermdiaires de Gestion",children:s.jsx("div",{className:"h-72",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(KF,{data:m,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:P=>`${P}k`}),s.jsx(Ht,{formatter:P=>`${P.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(In,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),s.jsx(In,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),s.jsx(In,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),s.jsx(In,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),s.jsxs(Fe,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:s.jsxs(iz,{children:[s.jsx(sz,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(fh,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),s.jsx(hN,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(RNe).map(([P,k])=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:k}),Lb.filter(A=>A.category===P).map(A=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(we,{htmlFor:A.id,className:"text-sm cursor-pointer",children:A.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:A.description})]}),s.jsx(K5,{id:A.id,checked:a.has(A.id),onCheckedChange:()=>w(A.id)})]},A.id))]},P))]})})]}),children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),d.map(P=>s.jsx(oe,{className:"text-right min-w-24",children:P},P)),s.jsx(oe,{className:"text-right min-w-28",children:"volution"})]})}),s.jsx(Bt,{children:S.map(P=>{const k=p.map(E=>P.calculate(E)),A=k[0]||0,R=k[k.length-1]||0,O=A!==0?(R-A)/Math.abs(A):0;return s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:s.jsxs("div",{children:[s.jsx("span",{children:P.name}),s.jsx("span",{className:"block text-xs text-muted-foreground",children:P.description})]})}),k.map((E,$)=>s.jsx(Y,{className:ne("text-right font-mono-numbers",P.format==="currency"&&E<0&&"text-destructive"),children:C(E,P.format)},$)),s.jsx(Y,{className:"text-right",children:s.jsxs("div",{className:ne("flex items-center justify-end gap-1",O>0?"text-green-600":O<0?"text-destructive":"text-muted-foreground"),children:[O>0?s.jsx(Vl,{className:"h-3 w-3"}):O<0?s.jsx(jS,{className:"h-3 w-3"}):null,s.jsxs("span",{className:"font-mono-numbers text-sm",children:[O>0?"+":"",Ir(O)]})]})})]},P.id)})})]})}),S.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(dI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun indicateur slectionn"}),s.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),s.jsx(Fe,{title:"Compte de Rsultat Simplifi",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(P=>s.jsx(oe,{className:"text-right min-w-24",children:P},P))]})}),s.jsxs(Bt,{children:[s.jsxs(Ce,{className:"bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),p.map((P,k)=>s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(P.revenue,!0)},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.cogs,!0),")"]},k))]}),s.jsxs(Ce,{className:"border-t-2",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),p.map((P,k)=>s.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(P.grossMargin,!0)},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.payroll,!0),")"]},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.opex,!0),")"]},k))]}),s.jsxs(Ce,{className:"border-t-2 bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),p.map((P,k)=>s.jsx(Y,{className:ne("text-right font-mono-numbers font-medium",P.ebitda<0&&"text-destructive"),children:ee(P.ebitda,!0)},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(P.depreciation,!0),")"]},k))]}),s.jsxs(Ce,{className:"border-t-2 bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),p.map((P,k)=>s.jsx(Y,{className:ne("text-right font-mono-numbers font-bold",P.operatingResult<0&&"text-destructive"),children:ee(P.operatingResult,!0)},k))]})]})]})})}),s.jsx(Fe,{title:"Tableau des Flux de Trsorerie",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"sticky left-0 bg-background z-10",children:"Flux"}),d.map(P=>s.jsx(oe,{className:"text-right min-w-24",children:P},P))]})}),s.jsxs(Bt,{children:[s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),p.map((P,k)=>s.jsx(Y,{className:"text-right font-mono-numbers",children:ee(P.treasuryStart,!0)},k))]}),s.jsxs(Ce,{className:"bg-muted/30",children:[s.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-green-600",children:["+",ee(P.revenue,!0)]},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),p.map((P,k)=>s.jsxs(Y,{className:"text-right font-mono-numbers text-destructive",children:["-",ee(P.cogs+P.payroll+P.opex,!0)]},k))]}),s.jsxs(Ce,{children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),p.map((P,k)=>s.jsx(Y,{className:"text-right font-mono-numbers text-destructive",children:P.capex>0?`-${ee(P.capex,!0)}`:"-"},k))]}),s.jsxs(Ce,{className:"border-t",children:[s.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),p.map((P,k)=>s.jsxs(Y,{className:ne("text-right font-mono-numbers font-medium",P.cashFlow<0?"text-destructive":"text-green-600"),children:[P.cashFlow>=0?"+":"",ee(P.cashFlow,!0)]},k))]}),s.jsxs(Ce,{className:"bg-green-50 dark:bg-green-950/20",children:[s.jsx(Y,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),p.map((P,k)=>s.jsx(Y,{className:"text-right font-mono-numbers text-green-600",children:P.fundingInjection>0?`+${ee(P.fundingInjection,!0)}`:"-"},k))]}),s.jsxs(Ce,{className:"border-t-2 bg-primary/5",children:[s.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),p.map((P,k)=>s.jsx(Y,{className:ne("text-right font-mono-numbers font-bold",P.treasuryEnd<0&&"text-destructive"),children:ee(P.treasuryEnd,!0)},k))]})]})]})})})]})]})})}const m2=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function $Ne(){const{state:e}=Mi(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return s.jsx(Fe,{title:"Allocation des Fonds",children:s.jsx("div",{className:"space-y-3",children:m2.map(n=>{const a=1/m2.length,i=r*a;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:n.label}),s.jsx("span",{className:"font-mono-numbers",children:ee(i,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function INe(){var A,R,O;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=Mi(),{startYear:a,durationYears:i,initialCash:o}=e.scenarioSettings,l=Array.from({length:i},(E,$)=>a+$),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{monthlyTreasuryProjection:u}=t,d=j.useMemo(()=>{const E=yd(u.months);return l.map($=>{const I=E.get($);return I?{year:I.year,revenue:I.revenue,totalCosts:I.cogs+I.payroll+I.opex,cashFlow:I.netCashFlow,treasuryStart:I.treasuryStart,treasuryEnd:I.treasuryEnd,fundingInjection:I.fundingInjection,minTreasuryInYear:I.treasuryEnd}:{year:$,revenue:0,totalCosts:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0,minTreasuryInYear:0}})},[u,l]),f=c.amount,h=c.preMoneyValuation,p=h+f,y=f/p,m=u.minTreasury,v=Math.max(0,-m),g=v>0?f/v:1,x=((A=u.breakEvenMonth)==null?void 0:A.year)||null,b=d.map(E=>({year:E.year,revenue:E.revenue/1e3,costs:E.totalCosts/1e3,cashFlow:E.cashFlow/1e3,treasury:E.treasuryEnd/1e3,isNegative:E.treasuryEnd<0})),_=E=>{r([{...c,amount:E}])},w=E=>{r([{...c,preMoneyValuation:E}])},S=E=>{r([{...c,year:parseInt(E)}])},C=E=>{r([{...c,quarter:E}])},N=E=>{n({initialCash:E})},P=m<0,k=((R=u.breakEvenMonth)==null?void 0:R.year)||((O=d.find(E=>E.treasuryEnd<0))==null?void 0:O.year);return s.jsx(Di,{tabKey:"funding",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),P&&s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(yu,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",ee(m,!0)," en ",k]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(ct,{label:"Besoin Calcul",value:ee(v,!0),subValue:"max(0, -trso min)",trend:v>0?"down":void 0}),s.jsx(ct,{label:"Montant  Lever",value:ee(f,!0),subValue:"Ajustable ci-dessous"}),s.jsx(ct,{label:"Pre-Money",value:ee(h,!0),subValue:"Valorisation"}),s.jsx(ct,{label:"Post-Money",value:ee(p,!0),subValue:"Aprs leve"}),s.jsx(ct,{label:"Dilution",value:Ir(y),subValue:"Sur le round"})]}),s.jsx(Fe,{title:"Calibrage de la Leve",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(o,!0)})]}),s.jsx(Xr,{value:[o/1e3],onValueChange:([E])=>N(E*1e3),min:0,max:500,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"500k"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(f,!0)})]}),s.jsx(Xr,{value:[f/1e3],onValueChange:([E])=>_(E*1e3),min:0,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5M"})]}),f===0&&s.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(h,!0)})]}),s.jsx(Xr,{value:[h/1e3],onValueChange:([E])=>w(E*1e3),min:200,max:2e4,step:100}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"200k"}),s.jsx("span",{children:"20M"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Anne"]}),s.jsxs(st,{value:c.year.toString(),onValueChange:S,children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:l.map(E=>s.jsx(Le,{value:E.toString(),children:E},E))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),s.jsxs(st,{value:c.quarter,onValueChange:C,children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:hK.map(E=>s.jsx(Le,{value:E,children:E},E))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),s.jsx(ke,{variant:"secondary",children:"Auto"})]}),s.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:ee(v,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),s.jsx("span",{className:"font-mono-numbers",children:Ir(Math.min(g,2))})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:ne("h-2 rounded-full transition-all",g>=1?"bg-accent":g>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(g*100,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),s.jsx("div",{className:"text-lg font-bold",children:x||"N/A"})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),s.jsx("div",{className:ne("text-lg font-bold font-mono-numbers",m<0?"text-destructive":""),children:ee(m,!0)})]})]})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Fe,{title:"Projection Cash Flow & Trsorerie",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Rp,{data:b,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:E=>`${E}k`}),s.jsx(Ht,{formatter:E=>`${E.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(Pr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(In,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),s.jsx($Ne,{})]}),s.jsx(Fe,{title:"Projection Dtaille",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),s.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),s.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),s.jsx("tbody",{children:d.map(E=>s.jsxs("tr",{className:ne("border-b",E.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:E.year}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(E.revenue,!0)}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(E.totalCosts,!0)}),s.jsxs("td",{className:ne("py-2 px-3 text-right font-mono-numbers font-medium",E.cashFlow>=0?"text-accent":"text-destructive"),children:[E.cashFlow>=0?"+":"",ee(E.cashFlow,!0)]}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:E.fundingInjection>0?`+${ee(E.fundingInjection,!0)}`:"-"}),s.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(E.treasuryStart,!0)}),s.jsx("td",{className:ne("py-2 px-3 text-right font-mono-numbers font-bold",E.treasuryEnd<0?"text-destructive":""),children:ee(E.treasuryEnd,!0)})]},E.year))})]})})})]})})}const DNe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function LNe(){var A,R,O;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:o,saveAll:l}=Mi();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:d}=e.scenarioSettings,f=e.fundingRounds[e.fundingRounds.length-1],h=(f==null?void 0:f.amount)||0,p=Array.from({length:u},(E,$)=>c+$),y=(E,$)=>{const I=e.scenarioConfigs[E];if(e.revenueMode==="by-channel-global")return wh(e.globalRevenueConfig,$)*(1+I.volumeAdjustment)*(1+I.priceAdjustment);let M=0;return e.products.forEach(D=>{const L=D.volumesByChannel;if(L){const B=D.priceHT||D.priceTTC_B2C/(1+(D.vatRate||.2)),Q=D.coef_shop||1.6,X=D.coef_dist||1.3,re=D.coef_oem||1.4,z=B/Q/X,U=D.unitCost*re,V=Math.round((L.B2C[$]||0)*(1+I.volumeAdjustment)),H=Math.round((L.B2B[$]||0)*(1+I.volumeAdjustment)),he=Math.round((L.OEM[$]||0)*(1+I.volumeAdjustment));M+=V*B*(1+I.priceAdjustment),M+=H*z*(1+I.priceAdjustment),M+=he*U*(1+I.priceAdjustment)}else if(D.volumesByYear[$]){const B=Math.round(D.volumesByYear[$]*(1+I.volumeAdjustment));M+=B*D.priceHT*(1+I.priceAdjustment)}}),M},m=E=>{const $=p.map(D=>y(E,D)),I=$[$.length-1]||0,M=$[0]||0;return{revenueLastYear:I,totalRevenue:$.reduce((D,L)=>D+L,0),cagr:I>0&&M>0&&u>1?Math.pow(I/M,1/(u-1))-1:0}},v=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],g=p.map(E=>{const $={year:E};return v.forEach(I=>{$[I.id]=y(I.id,E)/1e3}),$}),x=v.map(E=>{const $=m(E.id);return{...E,...$,config:e.scenarioConfigs[E.id]}}),b=E=>{a({startYear:E})},_=E=>{a({durationYears:E})},w=E=>{a({initialCash:E})},S=E=>{if(f){const $=e.fundingRounds.map(I=>I.id===f.id?{...I,amount:E}:I);i($)}},{monthlyTreasuryProjection:C}=t,N=j.useMemo(()=>{const E=yd(C.months);return p.map($=>{const I=E.get($);return I?{year:I.year,revenue:I.revenue/1e3,cogs:I.cogs/1e3,payroll:I.payroll/1e3,opex:I.opex/1e3,grossMargin:I.grossMargin/1e3,ebitda:I.ebitda/1e3,cashFlow:I.netCashFlow/1e3,treasury:I.treasuryEnd/1e3}:{year:$,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,p]),P=C.minTreasury/1e3,k=((A=C.breakEvenMonth)==null?void 0:A.year)||"N/A";return s.jsx(Di,{tabKey:"scenarios",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),s.jsxs(ke,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fd,{pageTitle:"Scnarios",sections:DNe,fileName:"Scenarios"}),s.jsx(_d,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),s.jsx(Fe,{title:"Paramtres du Scnario",id:"scenario-settings",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(we,{children:"Anne de dbut"})]}),s.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(E=>s.jsx(ae,{size:"sm",variant:c===E?"default":"outline",onClick:()=>b(E),children:E},E))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gS,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(we,{children:"Dure (annes)"})]}),s.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(E=>s.jsxs(ae,{size:"sm",variant:u===E?"default":"outline",onClick:()=>_(E),children:[E," ans"]},E))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),s.jsxs(Fe,{title:"Paramtres Trsorerie",id:"treasury-params",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[s.jsx(Ll,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:E=>o(!E)}),s.jsx(we,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),s.jsx(ke,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pI,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(we,{children:"Trsorerie initiale (T0)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(d,!0)})]}),s.jsx(Xr,{value:[d/1e3],onValueChange:([E])=>w(E*1e3),min:0,max:1e3,step:10}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(we,{children:"Montant Lev"}),s.jsx(ke,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:(f==null?void 0:f.name)||"Tour de table"}),s.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(h,!0)})]}),s.jsx(Xr,{value:[h/1e3],onValueChange:([E])=>S(E*1e3),min:100,max:5e3,step:50}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"100k"}),s.jsx("span",{children:"5M"})]})]})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[s.jsx(ct,{label:"Cash Total T0",value:ee(d+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),s.jsx(ct,{label:"Point Bas Trso",value:ee(P*1e3,!0),subValue:"Sur la priode",trend:P<0?"down":void 0}),s.jsx(ct,{label:"Break-even",value:k.toString(),subValue:"Cash flow positif"}),s.jsx(ct,{label:"Trso Finale",value:ee((((R=N[N.length-1])==null?void 0:R.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(E=>s.jsxs("div",{className:ne("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===E.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(E.id),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold",children:E.name}),e.activeScenarioId===E.id&&s.jsx(ke,{children:"Actif"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:ee(E.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"font-mono-numbers font-semibold",children:Ir(E.cagr)})]})]}),s.jsxs("div",{className:"space-y-3",onClick:$=>$.stopPropagation(),children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:ne("font-mono-numbers",E.config.volumeAdjustment>0?"text-green-600":E.config.volumeAdjustment<0?"text-destructive":""),children:[E.config.volumeAdjustment>0?"+":"",(E.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[(E.config.volumeAdjustment+.5)*100],onValueChange:([$])=>n(E.id,{volumeAdjustment:$/100-.5}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:ne("font-mono-numbers",E.config.priceAdjustment>0?"text-green-600":E.config.priceAdjustment<0?"text-destructive":""),children:[E.config.priceAdjustment>0?"+":"",(E.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[(E.config.priceAdjustment+.2)*250],onValueChange:([$])=>n(E.id,{priceAdjustment:$/250-.2}),min:0,max:100,step:5})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:ne("font-mono-numbers",E.config.opexAdjustment<0?"text-green-600":E.config.opexAdjustment>0?"text-destructive":""),children:[E.config.opexAdjustment>0?"+":"",(E.config.opexAdjustment*100).toFixed(0),"%"]})]}),s.jsx(Xr,{value:[(E.config.opexAdjustment+.3)*166],onValueChange:([$])=>n(E.id,{opexAdjustment:$/166-.3}),min:0,max:100,step:5})]})]})]},E.id))}),s.jsx(Fe,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:s.jsx("div",{className:"h-80",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(KF,{data:g,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:E=>`${E}k`}),s.jsx(Ht,{formatter:E=>`${E.toFixed(0)}k`}),s.jsx(Jr,{}),v.map(E=>s.jsx(In,{type:"monotone",dataKey:E.id,name:E.name,stroke:E.color,strokeWidth:e.activeScenarioId===E.id?3:1,dot:{fill:E.color}},E.id))]})})})}),s.jsxs(Fe,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",s.jsx(ke,{variant:"outline",children:(O=v.find(E=>E.id===e.activeScenarioId))==null?void 0:O.name})," avec trso initiale ",ee(d,!0),!e.excludeFundingFromTreasury&&` + leve ${ee(h,!0)}`," "," ",s.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),s.jsx("div",{className:"h-80",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Rp,{data:N,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:E=>`${E}k`}),s.jsx(Ht,{formatter:E=>`${E.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(Pr,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),s.jsx(In,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(E=>s.jsx(Fe,{title:E.name,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:ee(E.revenueLastYear,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),s.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:Ir(E.cagr)})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Volumes"}),s.jsxs("span",{className:"font-mono-numbers",children:[E.config.volumeAdjustment>0?"+":"",(E.config.volumeAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Prix"}),s.jsxs("span",{className:"font-mono-numbers",children:[E.config.priceAdjustment>0?"+":"",(E.config.priceAdjustment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"OPEX"}),s.jsxs("span",{className:"font-mono-numbers",children:[E.config.opexAdjustment>0?"+":"",(E.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[E.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",E.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",E.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},E.id))})]})})}const Jg=e=>(e.salesB2B||0)+(e.salesB2C||0)+(e.salesOEM||0)||e.revenue,pz=e=>(e.stockVariation||0)+(e.purchasesGoods||0)+(e.transportCosts||0),mz=e=>Jg(e)-pz(e),vz=e=>(e.productionExercice||0)-(e.rawMaterials||0)-(e.subcontracting||0),vN=e=>mz(e)+vz(e),gz=e=>vN(e)-(e.otherPurchases||e.externalCosts||0),yz=e=>gz(e)+(e.operatingSubsidies||0)-(e.taxesAndDuties||0)-e.payroll,xz=e=>yz(e)+(e.otherOperatingIncome||0)-(e.otherOperatingExpenses||0)-e.depreciation,bz=e=>xz(e)+(e.financialIncome||0)-(e.financialExpenses||0),wz=e=>(e.exceptionalIncome||0)-(e.exceptionalExpenses||0),FNe=e=>bz(e)+wz(e)-(e.employeeParticipation||0)-(e.corporateTax||0),BNe=[{id:"h_ca",label:"CHIFFRE D'AFFAIRE",type:"calculated",calculate:Jg,bold:!0,highlight:!0},{id:"salesB2B",label:"Dont Ventes B2B",type:"input",field:"salesB2B",indent:2},{id:"salesB2C",label:"Dont Ventes B2C",type:"input",field:"salesB2C",indent:2},{id:"salesOEM",label:"Dont Ventes OEM",type:"input",field:"salesOEM",indent:2},{id:"sep1",label:"",type:"separator"},{id:"h_cogs",label:"- Cots d'achat des marchandises vendues",type:"calculated",calculate:pz,bold:!0,sign:"negative"},{id:"stockVariation",label:"Variation de stock",type:"input",field:"stockVariation",indent:2},{id:"purchasesGoods",label:"Achat de marchandises",type:"input",field:"purchasesGoods",indent:2},{id:"transportCosts",label:"Transport de marchandises",type:"input",field:"transportCosts",indent:2},{id:"sep2",label:"",type:"separator"},{id:"margeComm",label:"MARGE COMMERCIALE",type:"calculated",calculate:mz,bold:!0,highlight:!0},{id:"sep3",label:"",type:"separator"},{id:"prodExercice",label:"PRODUCTION DE L'EXERCICE",type:"input",field:"productionExercice"},{id:"rawMaterials",label:"- MP, appro. Consomms",type:"input",field:"rawMaterials",indent:1},{id:"subcontracting",label:"- Sous-traitance directe",type:"input",field:"subcontracting",indent:1},{id:"margeProd",label:"MARGE BRUTE DE PRODUCTION",type:"calculated",calculate:vz,bold:!0},{id:"sep4",label:"",type:"separator"},{id:"margeBrute",label:"MARGE (BRUTE GLOBALE) TOTALE",type:"calculated",calculate:vN,bold:!0,highlight:!0},{id:"otherPurchases",label:"- Autres achats & Charges externes",type:"input",field:"otherPurchases",sign:"negative"},{id:"sep5",label:"",type:"separator"},{id:"va",label:"VALEUR AJOUTE",type:"calculated",calculate:gz,bold:!0,highlight:!0},{id:"operatingSubsidies",label:"+ Subventions d'exploitation",type:"input",field:"operatingSubsidies",indent:1},{id:"taxesAndDuties",label:"- Impts, taxes et versements assimils",type:"input",field:"taxesAndDuties",indent:1,sign:"negative"},{id:"payroll",label:"- Charges de personnel",type:"input",field:"payroll",sign:"negative"},{id:"sep6",label:"",type:"separator"},{id:"ebe",label:"EXCDENT BRUT D'EXPLOITATION (EBE)",type:"calculated",calculate:yz,bold:!0,highlight:!0},{id:"otherOpIncome",label:"+ Autres produits de gestion courante",type:"input",field:"otherOperatingIncome",indent:1},{id:"depreciation",label:"- Dotations aux amortissements et aux provisions",type:"input",field:"depreciation",indent:1,sign:"negative"},{id:"otherOpExpenses",label:"- Autres charges de gestion courante",type:"input",field:"otherOperatingExpenses",indent:1,sign:"negative"},{id:"sep7",label:"",type:"separator"},{id:"rex",label:"RSULTAT D'EXPLOITATION",type:"calculated",calculate:xz,bold:!0,highlight:!0},{id:"financialIncome",label:"+ QP de rsultat positif & Produits Financiers",type:"input",field:"financialIncome",indent:1},{id:"financialExpenses",label:"- QP de rsultat ngatif & Charges Financires",type:"input",field:"financialExpenses",indent:1,sign:"negative"},{id:"sep8",label:"",type:"separator"},{id:"rcai",label:"RSULTAT COURANT AVANT IMPTS",type:"calculated",calculate:bz,bold:!0,highlight:!0},{id:"exceptionalIncome",label:"+ Produits exceptionnels",type:"input",field:"exceptionalIncome",indent:1},{id:"exceptionalExpenses",label:"- Charges exceptionnelles",type:"input",field:"exceptionalExpenses",indent:1,sign:"negative"},{id:"sep9",label:"",type:"separator"},{id:"rexcep",label:"RSULTAT EXCEPTIONNEL",type:"calculated",calculate:wz,bold:!0},{id:"employeeParticipation",label:"Participation des salaris",type:"input",field:"employeeParticipation",indent:1},{id:"corporateTax",label:"Impts sur les bnfices & CIR",type:"input",field:"corporateTax",indent:1},{id:"sep10",label:"",type:"separator"},{id:"rnet",label:"RSULTAT NET",type:"calculated",calculate:FNe,bold:!0,highlight:!0}];function zNe(e){return{year:e,revenue:0,grossMargin:0,payroll:0,externalCosts:0,depreciation:0}}function UNe({data:e,onChange:t}){const[r,n]=j.useState(new Date().getFullYear()),a=(c,u,d)=>{const f=[...e];f[c]={...f[c],[u]:d};const h=f[c],p=Jg(h);h.revenue=p;const y=vN(h);h.grossMargin=p>0?y/p:0,h.externalCosts=h.otherPurchases??h.externalCosts,t(f)},i=c=>{t(e.filter(u=>u.year!==c))},o=new Date().getFullYear(),l=Array.from({length:10},(c,u)=>o-9+u).filter(c=>!e.some(u=>u.year===c));return s.jsxs(Fe,{title:"Compte de Rsultat Historique",id:"valuation-historical",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-muted/30 rounded-lg border",children:[s.jsx("span",{className:"text-sm font-medium",children:"Ajouter une anne :"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:l.map(c=>s.jsx(ae,{size:"sm",variant:r===c?"default":"outline",className:"h-7 text-xs",onClick:()=>{if(n(c),!e.some(u=>u.year===c)){const u=[...e,zNe(c)].sort((d,f)=>d.year-f.year);t(u)}},children:c},c))})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Slectionnez une anne ci-dessus pour commencer la saisie."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-border",children:[s.jsx("th",{className:"text-left py-2 px-3 min-w-[280px] sticky left-0 bg-background z-10",children:"Poste"}),e.map(c=>s.jsx("th",{className:"text-center py-2 px-2 min-w-[140px]",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"font-bold",children:c.year}),s.jsx(ae,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-muted-foreground hover:text-destructive",onClick:()=>i(c.year),children:s.jsx(Nr,{className:"h-3 w-3"})})]})},c.year))]}),s.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[s.jsx("th",{}),e.map(c=>s.jsx("th",{colSpan:2,className:"text-center py-1 px-2",children:s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"flex-1 text-right pr-2",children:"Montant"}),s.jsx("span",{className:"w-14 text-right",children:"% CA"})]})},c.year))]})]}),s.jsx("tbody",{children:BNe.map(c=>c.type==="separator"?s.jsx("tr",{children:s.jsx("td",{colSpan:1+e.length*2,className:"h-1"})},c.id):s.jsxs("tr",{className:ne("border-b border-border/50",c.highlight&&"bg-muted/40"),children:[s.jsx("td",{className:ne("py-1.5 px-3 sticky left-0 bg-background z-10",c.highlight&&"bg-muted/40",c.bold&&"font-bold",c.indent===1&&"pl-6",c.indent===2&&"pl-10","text-xs"),children:c.label}),e.map((u,d)=>{const f=Jg(u);if(c.type==="calculated"&&c.calculate){const y=c.calculate(u),m=f>0?y/f:0;return s.jsx("td",{colSpan:2,className:ne("py-1.5 px-2"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:ne("flex-1 text-right font-mono-numbers pr-2",c.bold&&"font-bold",y<0&&"text-destructive",y>0&&c.highlight&&"text-accent"),children:ee(y,!0)}),s.jsx("span",{className:ne("w-14 text-right text-xs font-mono-numbers",m<0?"text-destructive":"text-muted-foreground"),children:f>0?`${(m*100).toFixed(0)}%`:"-"})]})},u.year)}const h=c.field?u[c.field]??0:0,p=f>0?h/f:0;return s.jsx("td",{colSpan:2,className:"py-1 px-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{type:"number",value:h||"",placeholder:"0",onChange:y=>{c.field&&a(d,c.field,Number(y.target.value)||0)},className:ne("h-7 text-right font-mono-numbers text-xs flex-1","border-transparent bg-transparent hover:border-border focus:border-primary focus:bg-background")}),s.jsx("span",{className:ne("w-14 text-right text-xs font-mono-numbers shrink-0",p<0?"text-destructive":"text-muted-foreground"),children:f>0&&h!==0?`${(p*100).toFixed(0)}%`:"-"})]})},u.year)})]},c.id))})]})})]})}const v2=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function VNe(e){return e.projectedRevenue*e.multiple}function WNe(e){return e.projectedEBITDA*e.multiple}function HNe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function qNe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,o])=>{const l=n[i]||0;a+=l*o}),t*a}function KNe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function GNe(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,o)=>i+o,0)*25e4;return t+a}function cc(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=VNe(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=WNe(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=HNe(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=qNe(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=KNe(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=GNe(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function YNe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const XNe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function QNe(){const{state:e,computed:t,updateHistoricalData:r,updateValuationConfig:n,saveAll:a}=Mi(),{startYear:i,durationYears:o}=e.scenarioSettings,l=Array.from({length:o},(z,U)=>i+U),c=e.valuationConfig,u=z=>n(z),d=c.selectedMethods,f=c.valuationBasis,h=c.historicalYear,p=c.projectedYear,y=c.mixWeight,m=c.averageYears,v=c.valuationParams,g=c.dilutionConfig,x=c.exitScenarios,b=(()=>{const z=e.historicalData[e.historicalData.length-1];return z?z.revenue*z.grossMargin-z.payroll-z.externalCosts:5e5})(),_=e.fundingRounds[e.fundingRounds.length-1],w=(_==null?void 0:_.amount)||15e5;T.useEffect(()=>{(g.totalRaise!==w||g.referenceEBITDA!==b)&&u({dilutionConfig:{...g,totalRaise:w,referenceEBITDA:b}})},[w,b]);const S=Math.max(2e5,g.referenceEBITDA*g.ebitdaMultiple),C=g.totalRaise*(1-g.ocRatio),N=S+C,P=N>0?C/N:0,k=e.historicalData.map(z=>z.year),A=[...k,...l],O=(()=>{const z=J=>{const te=e.historicalData.find(K=>K.year===J);if(!te)return{revenue:0,ebitda:0,ebit:0};const G=te.revenue*te.grossMargin-te.payroll-te.externalCosts,pe=G-te.depreciation;return{revenue:te.revenue,ebitda:G,ebit:pe}},U=J=>{const te=t.revenueByYear.find(Be=>Be.year===J),W=t.payrollByYear.find(Be=>Be.year===J),G=t.opexByYear.find(Be=>Be.year===J),pe=t.capexByYear.find(Be=>Be.year===J),K=(te==null?void 0:te.revenue)||0,le=K-((te==null?void 0:te.cogs)||0)-((W==null?void 0:W.payroll)||0)-((G==null?void 0:G.opex)||0),je=le-((pe==null?void 0:pe.depreciation)||0);return{revenue:K,ebitda:le,ebit:je}},V=J=>k.includes(J)?z(J):U(J);if(f==="average"){if(m.length===0)return{revenue:0,ebitda:0,ebit:0};const J=m.map(W=>V(W)),te=J.length;return{revenue:J.reduce((W,G)=>W+G.revenue,0)/te,ebitda:J.reduce((W,G)=>W+G.ebitda,0)/te,ebit:J.reduce((W,G)=>W+G.ebit,0)/te}}if(f==="historical")return z(h);if(f==="projected")return U(p);const H=z(h),he=U(p);return{revenue:H.revenue*(1-y)+he.revenue*y,ebitda:H.ebitda*(1-y)+he.ebitda*y,ebit:H.ebit*(1-y)+he.ebit*y}})(),$=(()=>{const z=[];if(d.includes("revenue_multiple")&&z.push(cc("revenue_multiple",{projectedRevenue:O.revenue,multiple:v.revenue_multiple.multiple})),d.includes("ebitda_multiple")&&z.push(cc("ebitda_multiple",{projectedEBITDA:O.ebitda,multiple:g.ebitdaMultiple})),d.includes("dcf")){const U=l.map(V=>{const H=t.revenueByYear.find(W=>W.year===V),he=t.payrollByYear.find(W=>W.year===V),J=t.opexByYear.find(W=>W.year===V),te=t.capexByYear.find(W=>W.year===V);return((H==null?void 0:H.revenue)||0)-((H==null?void 0:H.cogs)||0)-((he==null?void 0:he.payroll)||0)-((J==null?void 0:J.opex)||0)-((te==null?void 0:te.capex)||0)});z.push(cc("dcf",{cashFlows:U,discountRate:v.dcf.discountRate,terminalGrowthRate:v.dcf.terminalGrowthRate}))}return d.includes("scorecard")&&z.push(cc("scorecard",{baseValuation:v.scorecard.baseValuation,factors:{team:v.scorecard.team,market:v.scorecard.market,product:v.scorecard.product,competition:v.scorecard.competition,marketing:v.scorecard.marketing,fundingNeed:v.scorecard.fundingNeed}})),d.includes("berkus")&&z.push(cc("berkus",v.berkus)),d.includes("risk_factor")&&z.push(cc("risk_factor",{baseValuation:v.risk_factor.baseValuation,factors:{managementRisk:v.risk_factor.managementRisk,businessStage:v.risk_factor.businessStage,legislation:v.risk_factor.legislation,manufacturing:v.risk_factor.manufacturing,salesMarketing:v.risk_factor.salesMarketing,fundingCapital:v.risk_factor.fundingCapital,competition:v.risk_factor.competition,technology:v.risk_factor.technology,litigation:v.risk_factor.litigation,international:v.risk_factor.international,reputation:v.risk_factor.reputation,potentialExit:v.risk_factor.potentialExit}})),z})(),I=YNe($),M=z=>{const U=d.includes(z)?d.filter(V=>V!==z):[...d,z];u({selectedMethods:U})},D=z=>{const U=m.includes(z)?m.filter(V=>V!==z):[...m,z].sort();u({averageYears:U})},L=$.map(z=>{var U;return{name:((U=v2.find(V=>V.id===z.method))==null?void 0:U.name)||z.method,value:z.value/1e6,confidence:z.confidence}}),B=(z,U,V)=>z<=0||U<=0||V<=0?0:Math.pow(U/z,1/V)-1,Q=z=>{const U=t.revenueByYear.find(he=>he.year===z),V=t.payrollByYear.find(he=>he.year===z),H=t.opexByYear.find(he=>he.year===z);return U?U.revenue-U.cogs-((V==null?void 0:V.payroll)||0)-((H==null?void 0:H.opex)||0):0},X=Object.entries(x).map(([z,U])=>{const V=U.year,H=Q(V),he=H*U.exitMultiple,te=he*P,W=V-e.scenarioSettings.startYear,G=B(C,te,W),pe=C>0?te/C:0;return{scenario:z,year:V,exitMultiple:U.exitMultiple,probability:U.probability,ebitdaAtExit:H,exitValuation:he,investorReturn:te,irr:G,multiple:pe}}),re=l.map(z=>{const U=t.revenueByYear.find(pe=>pe.year===z),V=t.payrollByYear.find(pe=>pe.year===z),H=t.opexByYear.find(pe=>pe.year===z),he=t.capexByYear.find(pe=>pe.year===z),J=(U==null?void 0:U.revenue)||0,te=J-((U==null?void 0:U.cogs)||0),W=te-((V==null?void 0:V.payroll)||0)-((H==null?void 0:H.opex)||0),G=W-((he==null?void 0:he.depreciation)||0);return{year:z,revenue:J/1e3,grossMargin:te/1e3,ebitda:W/1e3,ebit:G/1e3}});return s.jsx(Di,{tabKey:"valuation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ke,{variant:"outline",className:"text-xs",children:[d.length," mthodes slectionnes"]}),s.jsxs(ke,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",ee(I,!0)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fd,{pageTitle:"Valorisation & Analyse",sections:XNe,fileName:"Valorisation"}),s.jsx(_d,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),(()=>{const z=Math.max(2e5,O.ebitda*g.ebitdaMultiple),U=g.totalRaise*(1-g.ocRatio),V=z+U,H=V>0?U/V:0,he=X.reduce((te,W)=>te+W.irr*W.probability,0),J=f==="average"?"moyenne":f==="historical"?"historique":f==="mixed"?"mixte":"projet";return s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[s.jsx(ct,{label:"Pre-Money (EBITDA)",value:ee(z,!0),subValue:`${g.ebitdaMultiple.toFixed(1)}x EBITDA ${J}`}),s.jsx(ct,{label:"Post-Money",value:ee(V,!0),subValue:`Leve: ${ee(g.totalRaise,!0)}`}),s.jsx(ct,{label:"Dilution Totale",value:Ir(H),subValue:"Part investisseur"}),s.jsx(ct,{label:"TRI moyen",value:Ir(he),subValue:"Pondr par probabilit"})]})})(),s.jsxs(Ea,{defaultValue:"historical",className:"space-y-4",children:[s.jsxs(la,{className:"flex flex-wrap",children:[s.jsx(ft,{value:"historical",children:"Historique Financier"}),s.jsx(ft,{value:"methods",children:"Mthodes de Valorisation"}),s.jsx(ft,{value:"dilution",children:"Simulation Dilution"}),s.jsx(ft,{value:"exit",children:"Scnarios de Sortie"})]}),s.jsx(gt,{value:"historical",className:"space-y-6",children:s.jsx(UNe,{data:e.historicalData,onChange:r})}),s.jsxs(gt,{value:"methods",className:"space-y-6",children:[s.jsxs(Fe,{title:"Base de Calcul",children:[s.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"},{value:"average",label:"Moyenne",desc:"Moyenne de plusieurs annes"}].map(z=>s.jsxs("button",{onClick:()=>u({valuationBasis:z.value}),className:ne("p-4 rounded-lg text-left transition-colors border-2",f===z.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium",children:z.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:z.desc})]},z.value))}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(f==="historical"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Anne historique de rfrence"}),s.jsx("div",{className:"flex gap-2",children:k.map(z=>s.jsx(ae,{size:"sm",variant:h===z?"default":"outline",onClick:()=>u({historicalYear:z}),children:z},z))})]}),(f==="projected"||f==="mixed")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Anne projete de rfrence"}),s.jsx("div",{className:"flex gap-2",children:l.filter((z,U)=>U>=Math.max(0,l.length-4)).map(z=>s.jsx(ae,{size:"sm",variant:p===z?"default":"outline",onClick:()=>u({projectedYear:z}),children:z},z))})]})]}),f==="average"&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx(we,{children:"Slectionnez les annes de rfrence pour le calcul de la moyenne"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:A.map(z=>{const U=m.includes(z),V=k.includes(z);return s.jsxs("label",{className:ne("flex items-center gap-2 px-3 py-2 rounded-lg border-2 cursor-pointer transition-colors",U?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsx(Ll,{checked:U,onCheckedChange:()=>D(z)}),s.jsx("span",{className:"text-sm font-medium",children:z}),s.jsx(ke,{variant:"outline",className:"text-[10px]",children:V?"Hist.":"Proj."})]},z)})}),m.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," anne",m.length>1?"s":""," slectionne",m.length>1?"s":""," : ",m.join(", ")]})]}),f==="mixed"&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pondration"}),s.jsxs("span",{children:[Math.round((1-y)*100),"% historique / ",Math.round(y*100),"% projet"]})]}),s.jsx(Xr,{value:[y*100],onValueChange:([z])=>u({mixWeight:z/100}),min:0,max:100,step:5})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(O.revenue,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBITDA de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ne("text-lg font-bold font-mono-numbers",O.ebitda<0&&"text-destructive"),children:ee(O.ebitda,!0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBIT de rfrence",f==="average"?" (moyenne)":""]}),s.jsx("div",{className:ne("text-lg font-bold font-mono-numbers",O.ebit<0&&"text-destructive"),children:ee(O.ebit,!0)})]})]})]}),s.jsxs(Fe,{title:"Slection des Mthodes",children:[s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:v2.filter(z=>z.id==="revenue_multiple"||z.id==="ebitda_multiple").map(z=>{const U=d.includes(z.id),V=$.find(H=>H.method===z.id);return s.jsxs("button",{onClick:()=>M(z.id),className:ne("p-4 rounded-lg text-left transition-all border-2",U?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:z.name}),U&&s.jsx(ke,{variant:"default",className:"text-xs",children:"Actif"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.description}),V&&s.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(V.value,!0)})]},z.id)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(we,{children:"Multiple CA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[v.revenue_multiple.multiple.toFixed(1),"x"]})]}),s.jsx(Xr,{value:[v.revenue_multiple.multiple],onValueChange:([z])=>u({valuationParams:{...v,revenue_multiple:{...v.revenue_multiple,multiple:z}}}),min:.5,max:10,step:.5}),d.includes("revenue_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",ee(O.revenue,!0),"  ",v.revenue_multiple.multiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:ee(O.revenue*v.revenue_multiple.multiple,!0)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(we,{children:"Multiple EBITDA"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[g.ebitdaMultiple.toFixed(1),"x"]})]}),s.jsx(Xr,{value:[g.ebitdaMultiple],onValueChange:([z])=>u({dilutionConfig:{...g,ebitdaMultiple:z}}),min:2,max:15,step:.5}),d.includes("ebitda_multiple")&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["= ",ee(O.ebitda,!0),"  ",g.ebitdaMultiple.toFixed(1)," = ",s.jsx("span",{className:"font-bold",children:ee(O.ebitda*g.ebitdaMultiple,!0)})]})]})]})]}),$.length>0&&s.jsx(Fe,{title:"Comparaison des Valorisations",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Ld,{data:L,layout:"vertical",children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{type:"number",tickFormatter:z=>`${z}M`}),s.jsx(yr,{type:"category",dataKey:"name",width:120}),s.jsx(Ht,{formatter:z=>`${z.toFixed(1)}M`}),s.jsx(Pr,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),s.jsx(gt,{value:"dilution",className:"space-y-6",children:s.jsx(HK,{config:g,onChange:z=>u({dilutionConfig:z})})}),s.jsxs(gt,{value:"exit",className:"space-y-6",children:[s.jsx(Fe,{title:"Paramtres des Scnarios de Sortie",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:z,label:U,color:V})=>s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:ne("font-medium",V),children:U}),s.jsx(ke,{variant:"outline",children:x[z].year})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Multiple EBITDA sortie"}),s.jsxs("span",{className:"font-mono-numbers font-bold",children:[x[z].exitMultiple,"x"]})]}),s.jsx(Xr,{value:[x[z].exitMultiple],onValueChange:([H])=>u({exitScenarios:{...x,[z]:{...x[z],exitMultiple:H}}}),min:2,max:15,step:.5})]})]},z))})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:X.map(z=>s.jsx(Fe,{title:z.scenario==="conservative"?"Prudent":z.scenario==="base"?"Base":"Ambitieux",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),s.jsx("p",{className:"text-xl font-bold",children:z.year})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),s.jsxs("p",{className:"text-xl font-bold",children:[z.exitMultiple,"x"]})]})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.ebitdaAtExit,!0)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.exitValuation,!0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),s.jsx("p",{className:"font-bold font-mono-numbers",children:ee(z.investorReturn,!0)})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"TRI"}),s.jsx("span",{className:ne("font-bold font-mono-numbers",z.irr>=.25?"text-green-600 dark:text-green-400":z.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:Ir(z.irr)})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm",children:"Multiple"}),s.jsxs("span",{className:"font-bold font-mono-numbers",children:[z.multiple.toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),s.jsx("span",{className:"text-muted-foreground",children:Ir(z.probability)})]})]})]})},z.scenario))}),s.jsx(Fe,{title:"volution Prvisionnelle P&L",children:s.jsx("div",{className:"h-64",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(GF,{data:re,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:z=>`${z}k`}),s.jsx(Ht,{formatter:z=>`${z.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(na,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),s.jsx(na,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),s.jsx(na,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function JNe(){return s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[s.jsx(Ty,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const ZNe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"};function ePe(){var O,E,$,I;const{state:e,computed:t}=Mi(),{monthlyTreasuryProjection:r}=t,{startYear:n,durationYears:a,initialCash:i}=e.scenarioSettings,o=n+a-1,l=Array.from({length:a},(M,D)=>n+D),c=j.useMemo(()=>{const M=yd(r.months);return l.map(D=>{const L=M.get(D);if(!L)return{year:D,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:0,treasuryEnd:0,ebitda:0,capex:0};const Q=r.months.filter(X=>X.year===D).reduce((X,re)=>X+re.capexPayments,0);return{...L,capex:Q}})},[r,l]),u=r.totalFundingRaised,d=i+u,f=r.minTreasury,h=((O=r.breakEvenMonth)==null?void 0:O.year)||"N/A",p=f<0,y=(E=c.find(M=>M.treasuryEnd<0))==null?void 0:E.year;j.useMemo(()=>{const M=r.months.filter(D=>D.netCashFlow<0);return M.length===0?0:Math.max(...M.map(D=>Math.abs(D.netCashFlow)))},[r]);const m=j.useMemo(()=>{const M=r.months.filter(D=>D.netCashFlow<0);return M.length===0?0:M.reduce((D,L)=>D+Math.abs(L.netCashFlow),0)/M.length},[r]),v=m>0?Math.round(d/m):99,g=c.reduce((M,D)=>M+D.revenue,0),x=c.reduce((M,D)=>M+D.payroll,0),b=c.reduce((M,D)=>M+D.opex,0),_=r.totalCapexPayments,w=c.reduce((M,D)=>M+D.cogs,0),S=x+b+_+w,C=Math.max(0,-f),N=u-C,P=c.map(M=>({year:M.year,"Cash Flow":M.netCashFlow/1e3,Trsorerie:M.treasuryEnd/1e3})),k=e.fundingRounds[e.fundingRounds.length-1],A=k?k.preMoneyValuation+k.amount:0,R=k?k.amount/A:0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(ke,{variant:"default",children:ZNe[e.activeScenarioId]}),s.jsxs(ke,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),s.jsxs(ke,{variant:"outline",className:"text-xs",children:[n,"  ",o," (",a," ans)"]}),s.jsxs(ke,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(vu,{className:"h-3 w-3"}),e.products.length," produits"]})]}),s.jsx(JNe,{})]}),p&&s.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[s.jsx(yu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",y,". Point bas: ",ee(f,!0),". Financement additionnel de ",ee(Math.abs(f),!0)," requis."]})]})]}),s.jsxs(Fe,{title:"Approche Cash",id:"cash-approach",children:[s.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(pI,{className:"h-4 w-4"}),"Cash Initial (T0)"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(i,!0)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(YP,{className:"h-4 w-4"}),"Montant Lev"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(u,!0)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.fundingRounds.length," tour(s)"]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-accent/10 border border-accent/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Av,{className:"h-4 w-4"}),"Trso Dpart"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(d,!0)})]}),s.jsxs("div",{className:ne("p-4 rounded-lg border",f<0?"bg-destructive/10 border-destructive/30":"bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[f<0?s.jsx(jS,{className:"h-4 w-4"}):s.jsx(Vl,{className:"h-4 w-4"}),"Point Bas"]}),s.jsx("div",{className:ne("text-2xl font-bold font-mono-numbers",f<0&&"text-destructive"),children:ee(f,!0)})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(vu,{className:"h-4 w-4"}),"Break-even"]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:h}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Runway: ",v>60?"60+":v," mois"]})]})]}),s.jsx("div",{className:"h-72",children:s.jsx(un,{width:"100%",height:"100%",children:s.jsxs(Rp,{data:P,children:[s.jsx(dn,{strokeDasharray:"3 3"}),s.jsx(gr,{dataKey:"year"}),s.jsx(yr,{tickFormatter:M=>`${M}k`}),s.jsx(Ht,{formatter:M=>`${M.toFixed(0)}k`}),s.jsx(Jr,{}),s.jsx(Pr,{dataKey:"Cash Flow",fill:"hsl(var(--accent))"}),s.jsx(In,{type:"monotone",dataKey:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})]}),s.jsx(Fe,{title:"Justification des Besoins",id:"needs-justification",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(KP,{className:"h-4 w-4"}),"Rpartition des Cots (",n,"-",o,")"]}),s.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:x,icon:xu,color:"hsl(var(--primary))"},{label:"COGS (Cot des ventes)",value:w,icon:Pl,color:"hsl(var(--chart-4))"},{label:"OPEX (Charges)",value:b,icon:KP,color:"hsl(var(--accent))"},{label:"CAPEX (R&D)",value:_,icon:Av,color:"hsl(var(--chart-1))"}].map(M=>{const D=M.icon,L=S>0?M.value/S*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(D,{className:"h-4 w-4",style:{color:M.color}}),s.jsx("span",{children:M.label})]}),s.jsx("span",{className:"font-mono-numbers font-medium",children:ee(M.value,!0)})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${L}%`,backgroundColor:M.color}})}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[L.toFixed(0),"%"]})]},M.label)}),s.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Cots"}),s.jsx("span",{className:"font-mono-numbers",children:ee(S,!0)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(YP,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),s.jsx(ke,{variant:"secondary",children:"Calcul"})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(C,!0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),s.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm",children:"Montant Lev"}),s.jsx(ke,{variant:"default",children:(k==null?void 0:k.name)||"Round"})]}),s.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(u,!0)})]}),s.jsxs("div",{className:ne("p-4 rounded-lg border-2",N>=0?"bg-chart-4/10 border-chart-4/30":"bg-destructive/10 border-destructive/30"),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:N>=0?"Marge de Scurit":"Dficit"}),s.jsxs("span",{className:ne("text-xl font-bold font-mono-numbers",N>=0?"text-chart-4":"text-destructive"),children:[N>=0?"+":"",ee(N,!0)]})]}),N>=0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",Ir(N/u)," sur le montant lev"]})]})]})]})]})}),s.jsx(Fe,{title:"Projection Dtaille",id:"detailed-projection",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/30",children:[s.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),s.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),s.jsx("tbody",{children:c.map(M=>s.jsxs("tr",{className:ne("border-b hover:bg-muted/20",M.treasuryEnd<0&&"bg-destructive/5"),children:[s.jsx("td",{className:"py-3 px-3 font-semibold",children:M.year}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(M.revenue,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.cogs,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(M.grossMargin,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.payroll,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.opex,!0)}),s.jsx("td",{className:ne("py-3 px-3 text-right font-mono-numbers font-medium",M.ebitda>=0?"text-chart-4":"text-destructive"),children:ee(M.ebitda,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(M.capex,!0)}),s.jsxs("td",{className:ne("py-3 px-3 text-right font-mono-numbers font-medium",M.netCashFlow>=0?"text-chart-4":"text-accent"),children:[M.netCashFlow>=0?"+":"",ee(M.netCashFlow,!0)]}),s.jsx("td",{className:ne("py-3 px-3 text-right font-mono-numbers font-bold",M.treasuryEnd<0&&"text-destructive"),children:ee(M.treasuryEnd,!0)})]},M.year))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[s.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(g,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(w,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(g-w,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(x,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(b,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(_,!0)}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),s.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee((($=c[c.length-1])==null?void 0:$.treasuryEnd)||0,!0)})]})})]})})}),s.jsxs(Fe,{title:"Valorisation & Tours",id:"valuation",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[s.jsx(ct,{label:"Pre-Money",value:ee((k==null?void 0:k.preMoneyValuation)||0,!0),subValue:(k==null?void 0:k.name)||"-"}),s.jsx(ct,{label:"Post-Money",value:ee(A,!0),subValue:"Aprs leve"}),s.jsx(ct,{label:"Dilution",value:Ir(R),subValue:"Part cde",trend:R>.25?"down":void 0}),s.jsx(ct,{label:"Multiple CA",value:g>0?`${(A/(((I=c[c.length-1])==null?void 0:I.revenue)||1)).toFixed(1)}x`:"-",subValue:`sur CA ${o}`})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map(M=>s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold",children:M.name}),s.jsx(ke,{variant:"outline",className:"text-xs mt-1",children:M.year})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xl font-bold font-mono-numbers text-primary",children:ee(M.amount,!0)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("span",{children:"Pre-money:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:ee(M.preMoneyValuation,!0)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{children:"Dilution:"}),s.jsx("span",{className:"font-mono-numbers ml-1",children:Ir(M.amount/(M.preMoneyValuation+M.amount))})]})]})]},M.id))})]})]})}var yt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(yt||(yt={}));var g2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(g2||(g2={}));const Re=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},xe=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof hs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hs.create=e=>new hs(e);const i_=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===Re.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,yt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${yt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yt.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${yt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:yt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,yt.assertNever(e)}return{message:r}};let tPe=i_;function rPe(){return tPe}const nPe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ee(e,t){const r=rPe(),n=nPe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===i_?void 0:i_].filter(a=>!!a)});e.common.issues.push(n)}class ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ze;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ia.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),_f=e=>({status:"dirty",value:e}),ka=e=>({status:"valid",value:e}),y2=e=>e.status==="aborted",x2=e=>e.status==="dirty",ed=e=>e.status==="valid",Zg=e=>typeof Promise<"u"&&e instanceof Promise;var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ie||(Ie={}));class wo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const b2=(e,t)=>{if(ed(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hs(e.common.issues);return this._error=r,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class mt{get description(){return this._def.description}_getType(t){return Is(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ia,ctx:{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},a=this._parseSync({data:t,path:n.path,parent:n});return b2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return ed(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>ed(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Zg(a)?a:Promise.resolve(a));return b2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:xe.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new rd({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return po.create(this,this._def)}nullable(){return nd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ei.create(this)}promise(){return ny.create(this,this._def)}or(t){return ty.create([this,t],this._def)}and(t){return ry.create(this,t,this._def)}transform(t){return new rd({...ut(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new o_({...ut(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new NPe({typeName:et.ZodBranded,type:this,...ut(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new l_({...ut(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return gN.create(this,t)}readonly(){return c_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aPe=/^c[^\s-]{8,}$/i,iPe=/^[0-9a-z]+$/,sPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lPe=/^[a-z0-9_-]{21}$/i,cPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fb;const hPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gPe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xPe=new RegExp(`^${jz}$`);function _z(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function bPe(e){return new RegExp(`^${_z(e)}$`)}function wPe(e){let t=`${jz}T${_z(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function jPe(e,t){return!!((t==="v4"||!t)&&hPe.test(e)||(t==="v6"||!t)&&mPe.test(e))}function _Pe(e,t){if(!cPe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function SPe(e,t){return!!((t==="v4"||!t)&&pPe.test(e)||(t==="v6"||!t)&&vPe.test(e))}class Js extends mt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Re.string,received:i.parsedType}),Ze}const n=new ia;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ee(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")dPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Fb||(Fb=new RegExp(fPe,"u")),Fb.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")oPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")lPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")aPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")iPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")sPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ee(a,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?wPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?xPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?bPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?uPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?jPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?_Pe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?SPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?gPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?yPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):yt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:xe.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new Js({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ie.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ie.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new Js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Js.create=e=>new Js({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});function CPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class cp extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Re.number,received:i.parsedType}),Ze}let n;const a=new ia;for(const i of this._def.checks)i.kind==="int"?yt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?CPe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_finite,message:i.message}),a.dirty()):yt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,a){return new cp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(a)}]})}_addCheck(t){return new cp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}cp.create=e=>new cp({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class up extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let n;const a=new ia;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):yt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:Re.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,a){return new up({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(a)}]})}_addCheck(t){return new up({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}up.create=e=>new up({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ut(e)});class w2 extends mt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.boolean,received:n.parsedType}),Ze}return ka(t.data)}}w2.create=e=>new w2({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class ey extends mt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Re.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_date}),Ze}const n=new ia;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):yt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ey({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ey.create=e=>new ey({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...ut(e)});class j2 extends mt{_parse(t){if(this._getType(t)!==Re.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.symbol,received:n.parsedType}),Ze}return ka(t.data)}}j2.create=e=>new j2({typeName:et.ZodSymbol,...ut(e)});class _2 extends mt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.undefined,received:n.parsedType}),Ze}return ka(t.data)}}_2.create=e=>new _2({typeName:et.ZodUndefined,...ut(e)});class S2 extends mt{_parse(t){if(this._getType(t)!==Re.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.null,received:n.parsedType}),Ze}return ka(t.data)}}S2.create=e=>new S2({typeName:et.ZodNull,...ut(e)});class C2 extends mt{constructor(){super(...arguments),this._any=!0}_parse(t){return ka(t.data)}}C2.create=e=>new C2({typeName:et.ZodAny,...ut(e)});class N2 extends mt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ka(t.data)}}N2.create=e=>new N2({typeName:et.ZodUnknown,...ut(e)});class jo extends mt{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:Re.never,received:r.parsedType}),Ze}}jo.create=e=>new jo({typeName:et.ZodNever,...ut(e)});class P2 extends mt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.void,received:n.parsedType}),Ze}return ka(t.data)}}P2.create=e=>new P2({typeName:et.ZodVoid,...ut(e)});class Ei extends mt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Re.array)return Ee(r,{code:xe.invalid_type,expected:Re.array,received:r.parsedType}),Ze;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ee(r,{code:o?xe.too_big:xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ee(r,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ee(r,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new wo(r,o,r.path,l)))).then(o=>ia.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new wo(r,o,r.path,l)));return ia.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ei({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new Ei({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new Ei({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ut(t)});function vc(e){if(e instanceof sr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=po.create(vc(n))}return new sr({...e._def,shape:()=>t})}else return e instanceof Ei?new Ei({...e._def,type:vc(e.element)}):e instanceof po?po.create(vc(e.unwrap())):e instanceof nd?nd.create(vc(e.unwrap())):e instanceof Fl?Fl.create(e.items.map(t=>vc(t))):e}class sr extends mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=yt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Re.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:xe.invalid_type,expected:Re.object,received:u.parsedType}),Ze}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof jo&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new wo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof jo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ee(a,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new wo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ia.mergeObjectSync(n,u)):ia.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new sr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new sr({...this._def,unknownKeys:"strip"})}passthrough(){return new sr({...this._def,unknownKeys:"passthrough"})}extend(t){return new sr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new sr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new sr({...this._def,catchall:t})}pick(t){const r={};for(const n of yt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new sr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of yt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new sr({...this._def,shape:()=>r})}deepPartial(){return vc(this)}partial(t){const r={};for(const n of yt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new sr({...this._def,shape:()=>r})}required(t){const r={};for(const n of yt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof po;)i=i._def.innerType;r[n]=i}return new sr({...this._def,shape:()=>r})}keyof(){return Sz(yt.objectKeys(this.shape))}}sr.create=(e,t)=>new sr({shape:()=>e,unknownKeys:"strip",catchall:jo.create(),typeName:et.ZodObject,...ut(t)});sr.strictCreate=(e,t)=>new sr({shape:()=>e,unknownKeys:"strict",catchall:jo.create(),typeName:et.ZodObject,...ut(t)});sr.lazycreate=(e,t)=>new sr({shape:e,unknownKeys:"strip",catchall:jo.create(),typeName:et.ZodObject,...ut(t)});class ty extends mt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new hs(l.ctx.common.issues));return Ee(r,{code:xe.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new hs(c));return Ee(r,{code:xe.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}ty.create=(e,t)=>new ty({options:e,typeName:et.ZodUnion,...ut(t)});function s_(e,t){const r=Is(e),n=Is(t);if(e===t)return{valid:!0,data:e};if(r===Re.object&&n===Re.object){const a=yt.objectKeys(t),i=yt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=s_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=s_(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Re.date&&n===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ry extends mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(y2(i)||y2(o))return Ze;const l=s_(i.value,o.value);return l.valid?((x2(i)||x2(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:xe.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ry.create=(e,t,r)=>new ry({left:e,right:t,typeName:et.ZodIntersection,...ut(r)});class Fl extends mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.array)return Ee(n,{code:xe.invalid_type,expected:Re.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Ee(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new wo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ia.mergeArray(r,o)):ia.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Fl({...this._def,rest:t})}}Fl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fl({items:e,typeName:et.ZodTuple,rest:null,...ut(t)})};class E2 extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.map)return Ee(n,{code:xe.invalid_type,expected:Re.map,received:n.parsedType}),Ze;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new wo(n,l,n.path,[u,"key"])),value:i._parse(new wo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}E2.create=(e,t,r)=>new E2({valueType:t,keyType:e,typeName:et.ZodMap,...ut(r)});class dp extends mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.set)return Ee(n,{code:xe.invalid_type,expected:Re.set,received:n.parsedType}),Ze;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ee(n,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ee(n,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new wo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new dp({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new dp({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}dp.create=(e,t)=>new dp({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...ut(t)});class k2 extends mt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}k2.create=(e,t)=>new k2({getter:e,typeName:et.ZodLazy,...ut(t)});class A2 extends mt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}A2.create=(e,t)=>new A2({value:e,typeName:et.ZodLiteral,...ut(t)});function Sz(e,t){return new td({values:e,typeName:et.ZodEnum,...ut(t)})}class td extends mt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:yt.joinValues(n),received:r.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:xe.invalid_enum_value,options:n}),Ze}return ka(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return td.create(t,{...this._def,...r})}exclude(t,r=this._def){return td.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}td.create=Sz;class O2 extends mt{_parse(t){const r=yt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const a=yt.objectValues(r);return Ee(n,{expected:yt.joinValues(a),received:n.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(yt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=yt.objectValues(r);return Ee(n,{received:n.data,code:xe.invalid_enum_value,options:a}),Ze}return ka(t.data)}get enum(){return this._def.values}}O2.create=(e,t)=>new O2({values:e,typeName:et.ZodNativeEnum,...ut(t)});class ny extends mt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ee(r,{code:xe.invalid_type,expected:Re.promise,received:r.parsedType}),Ze;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return ka(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ny.create=(e,t)=>new ny({type:e,typeName:et.ZodPromise,...ut(t)});class rd extends mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?_f(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?_f(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ed(o))return Ze;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ed(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);yt.assertNever(a)}}rd.create=(e,t,r)=>new rd({schema:e,typeName:et.ZodEffects,effect:t,...ut(r)});rd.createWithPreprocess=(e,t,r)=>new rd({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...ut(r)});class po extends mt{_parse(t){return this._getType(t)===Re.undefined?ka(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}po.create=(e,t)=>new po({innerType:e,typeName:et.ZodOptional,...ut(t)});class nd extends mt{_parse(t){return this._getType(t)===Re.null?ka(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nd.create=(e,t)=>new nd({innerType:e,typeName:et.ZodNullable,...ut(t)});class o_ extends mt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}o_.create=(e,t)=>new o_({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class l_ extends mt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}l_.create=(e,t)=>new l_({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class T2 extends mt{_parse(t){if(this._getType(t)!==Re.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Re.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}T2.create=e=>new T2({typeName:et.ZodNaN,...ut(e)});class NPe extends mt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gN extends mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),_f(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ze:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new gN({in:t,out:r,typeName:et.ZodPipeline})}}class c_ extends mt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ed(a)&&(a.value=Object.freeze(a.value)),a);return Zg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}c_.create=(e,t)=>new c_({innerType:e,typeName:et.ZodReadonly,...ut(t)});sr.lazycreate;var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const Hf=Js.create;jo.create;Ei.create;const Cz=sr.create;sr.strictCreate;ty.create;ry.create;Fl.create;td.create;ny.create;po.create;nd.create;var Ip=e=>e.type==="checkbox",cl=e=>e instanceof Date,gn=e=>e==null;const Nz=e=>typeof e=="object";var xr=e=>!gn(e)&&!Array.isArray(e)&&Nz(e)&&!cl(e),Pz=e=>xr(e)&&e.target?Ip(e.target)?e.target.checked:e.target.value:e,PPe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ez=(e,t)=>e.has(PPe(t)),EPe=e=>{const t=e.constructor&&e.constructor.prototype;return xr(t)&&t.hasOwnProperty("isPrototypeOf")},yN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(yN&&(e instanceof Blob||n))&&(r||xr(e)))if(t=r?[]:{},!r&&!EPe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Tr(e[a]));else return e;return t}var a0=e=>/^\w*$/.test(e),mr=e=>e===void 0,xN=e=>Array.isArray(e)?e.filter(Boolean):[],bN=e=>xN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(e,t,r)=>{if(!t||!xr(e))return r;const n=(a0(t)?[t]:bN(t)).reduce((a,i)=>gn(a)?a:a[i],e);return mr(n)||n===e?mr(e[t])?r:e[t]:n},Yn=e=>typeof e=="boolean",Ct=(e,t,r)=>{let n=-1;const a=a0(t)?[t]:bN(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=xr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ay={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wN=T.createContext(null);wN.displayName="HookFormContext";const i0=()=>T.useContext(wN),kPe=e=>{const{children:t,...r}=e;return T.createElement(wN.Provider,{value:r},t)};var kz=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ya.all&&(t._proxyFormState[o]=!n||Ya.all),r&&(r[o]=!0),e[o]}});return a};const jN=typeof window<"u"?T.useLayoutEffect:T.useEffect;function APe(e){const t=i0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=T.useState(r._formState),c=T.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return jN(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),T.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),T.useMemo(()=>kz(o,r,c.current,!1),[o,r])}var bi=e=>typeof e=="string",Az=(e,t,r,n,a)=>bi(e)?(n&&t.watch.add(e),Se(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Se(r,i))):(n&&(t.watchAll=!0),r),u_=e=>gn(e)||!Nz(e);function Gi(e,t,r=new WeakSet){if(u_(e)||u_(t))return e===t;if(cl(e)&&cl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(cl(o)&&cl(l)||xr(o)&&xr(l)||Array.isArray(o)&&Array.isArray(l)?!Gi(o,l,r):o!==l)return!1}}return!0}function OPe(e){const t=i0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=T.useRef(a),u=T.useRef(l),d=T.useRef(void 0);u.current=l;const f=T.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=T.useState(u.current?u.current(f):f);return jN(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const m=Az(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(m);Gi(v,d.current)||(p(v),d.current=v)}else p(m)}}}),[r,i,n,o]),T.useEffect(()=>r._removeUnmounted()),h}function TPe(e){const t=i0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Ez(a._names.array,r),c=T.useMemo(()=>Se(a._formValues,r,Se(a._defaultValues,r,o)),[a,r,o]),u=OPe({control:a,name:r,defaultValue:c,exact:!0}),d=APe({control:a,name:r,exact:!0}),f=T.useRef(e),h=T.useRef(a.register(r,{...e.rules,value:u,...Yn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=T.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Se(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Se(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Se(d.validatingFields,r)},error:{enumerable:!0,get:()=>Se(d.errors,r)}}),[d,r]),y=T.useCallback(x=>h.current.onChange({target:{value:Pz(x),name:r},type:ay.CHANGE}),[r]),m=T.useCallback(()=>h.current.onBlur({target:{value:Se(a._formValues,r),name:r},type:ay.BLUR}),[r,a._formValues]),v=T.useCallback(x=>{const b=Se(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),g=T.useMemo(()=>({name:r,value:u,...Yn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:m,ref:v}),[r,n,d.disabled,y,m,v,u]);return T.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Yn(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,w)=>{const S=Se(a._fields,_);S&&S._f&&(S._f.mount=w)};if(b(r,!0),x){const _=Tr(Se(a._options.defaultValues,r));Ct(a._defaultValues,r,_),mr(Se(a._formValues,r))&&Ct(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),T.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),T.useMemo(()=>({field:g,formState:d,fieldState:p}),[g,d,p])}const RPe=e=>e.render(TPe(e));var Oz=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},qf=e=>Array.isArray(e)?e:[e],R2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},On=e=>xr(e)&&!Object.keys(e).length,_N=e=>e.type==="file",Xa=e=>typeof e=="function",iy=e=>{if(!yN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Tz=e=>e.type==="select-multiple",SN=e=>e.type==="radio",MPe=e=>SN(e)||Ip(e),Bb=e=>iy(e)&&e.isConnected;function $Pe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mr(e)?n++:e[t[n++]];return e}function IPe(e){for(const t in e)if(e.hasOwnProperty(t)&&!mr(e[t]))return!1;return!0}function wr(e,t){const r=Array.isArray(t)?t:a0(t)?[t]:bN(t),n=r.length===1?e:$Pe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(xr(n)&&On(n)||Array.isArray(n)&&IPe(n))&&wr(e,r.slice(0,-1)),e}var Rz=e=>{for(const t in e)if(Xa(e[t]))return!0;return!1};function sy(e,t={}){const r=Array.isArray(e);if(xr(e)||r)for(const n in e)Array.isArray(e[n])||xr(e[n])&&!Rz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},sy(e[n],t[n])):gn(e[n])||(t[n]=!0);return t}function Mz(e,t,r){const n=Array.isArray(e);if(xr(e)||n)for(const a in e)Array.isArray(e[a])||xr(e[a])&&!Rz(e[a])?mr(t)||u_(r[a])?r[a]=Array.isArray(e[a])?sy(e[a],[]):{...sy(e[a])}:Mz(e[a],gn(t)?{}:t[a],r[a]):r[a]=!Gi(e[a],t[a]);return r}var uf=(e,t)=>Mz(e,t,sy(t));const M2={value:!1,isValid:!1},$2={value:!0,isValid:!0};var $z=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mr(e[0].attributes.value)?mr(e[0].value)||e[0].value===""?$2:{value:e[0].value,isValid:!0}:$2:M2}return M2},Iz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>mr(e)?e:t?e===""?NaN:e&&+e:r&&bi(e)?new Date(e):n?n(e):e;const I2={isValid:!1,value:null};var Dz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,I2):I2;function D2(e){const t=e.ref;return _N(t)?t.files:SN(t)?Dz(e.refs).value:Tz(t)?[...t.selectedOptions].map(({value:r})=>r):Ip(t)?$z(e.refs).value:Iz(mr(t.value)?e.ref.value:t.value,e)}var DPe=(e,t,r,n)=>{const a={};for(const i of e){const o=Se(t,i);o&&Ct(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},oy=e=>e instanceof RegExp,df=e=>mr(e)?e:oy(e)?e.source:xr(e)?oy(e.value)?e.value.source:e.value:e,L2=e=>({isOnSubmit:!e||e===Ya.onSubmit,isOnBlur:e===Ya.onBlur,isOnChange:e===Ya.onChange,isOnAll:e===Ya.all,isOnTouch:e===Ya.onTouched});const F2="AsyncFunction";var LPe=e=>!!e&&!!e.validate&&!!(Xa(e.validate)&&e.validate.constructor.name===F2||xr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===F2)),FPe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),B2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Kf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Se(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Kf(l,t))break}else if(xr(l)&&Kf(l,t))break}}};function z2(e,t,r){const n=Se(e,r);if(n||a0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Se(t,i),l=Se(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var BPe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return On(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ya.all))},zPe=(e,t,r)=>!e||!t||e===t||qf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),UPe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,VPe=(e,t)=>!xN(Se(e,t)).length&&wr(e,t),WPe=(e,t,r)=>{const n=qf(Se(e,r));return Ct(n,"root",t[r]),Ct(e,r,n),e},rv=e=>bi(e);function U2(e,t,r="validate"){if(rv(e)||Array.isArray(e)&&e.every(rv)||Yn(e)&&!e)return{type:r,message:rv(e)?e:"",ref:t}}var uc=e=>xr(e)&&!oy(e)?e:{value:e,message:""},V2=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:v,mount:g}=e._f,x=Se(r,m);if(!g||t.has(m))return{};const b=l?l[0]:o,_=R=>{a&&b.reportValidity&&(b.setCustomValidity(Yn(R)?"":R||""),b.reportValidity())},w={},S=SN(o),C=Ip(o),N=S||C,P=(v||_N(o))&&mr(o.value)&&mr(x)||iy(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,k=Oz.bind(null,m,n,w),A=(R,O,E,$=zi.maxLength,I=zi.minLength)=>{const M=R?O:E;w[m]={type:R?$:I,message:M,ref:o,...k(R?$:I,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(P||gn(x))||Yn(x)&&!x||C&&!$z(l).isValid||S&&!Dz(l).isValid)){const{value:R,message:O}=rv(c)?{value:!!c,message:c}:uc(c);if(R&&(w[m]={type:zi.required,message:O,ref:b,...k(zi.required,O)},!n))return _(O),w}if(!P&&(!gn(f)||!gn(h))){let R,O;const E=uc(h),$=uc(f);if(!gn(x)&&!isNaN(x)){const I=o.valueAsNumber||x&&+x;gn(E.value)||(R=I>E.value),gn($.value)||(O=I<$.value)}else{const I=o.valueAsDate||new Date(x),M=B=>new Date(new Date().toDateString()+" "+B),D=o.type=="time",L=o.type=="week";bi(E.value)&&x&&(R=D?M(x)>M(E.value):L?x>E.value:I>new Date(E.value)),bi($.value)&&x&&(O=D?M(x)<M($.value):L?x<$.value:I<new Date($.value))}if((R||O)&&(A(!!R,E.message,$.message,zi.max,zi.min),!n))return _(w[m].message),w}if((u||d)&&!P&&(bi(x)||i&&Array.isArray(x))){const R=uc(u),O=uc(d),E=!gn(R.value)&&x.length>+R.value,$=!gn(O.value)&&x.length<+O.value;if((E||$)&&(A(E,R.message,O.message),!n))return _(w[m].message),w}if(p&&!P&&bi(x)){const{value:R,message:O}=uc(p);if(oy(R)&&!x.match(R)&&(w[m]={type:zi.pattern,message:O,ref:o,...k(zi.pattern,O)},!n))return _(O),w}if(y){if(Xa(y)){const R=await y(x,r),O=U2(R,b);if(O&&(w[m]={...O,...k(zi.validate,O.message)},!n))return _(O.message),w}else if(xr(y)){let R={};for(const O in y){if(!On(R)&&!n)break;const E=U2(await y[O](x,r),b,O);E&&(R={...E,...k(O,E.message)},_(E.message),n&&(w[m]=R))}if(!On(R)&&(w[m]={ref:b,...R},!n))return w}}return _(!0),w};const HPe={mode:Ya.onSubmit,reValidateMode:Ya.onChange,shouldFocusError:!0};function qPe(e={}){let t={...HPe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=xr(t.defaultValues)||xr(t.values)?Tr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Tr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:R2(),state:R2()},p=t.criteriaMode===Ya.all,y=F=>q=>{clearTimeout(u),u=setTimeout(F,q)},m=async F=>{if(!t.disabled&&(d.isValid||f.isValid||F)){const q=t.resolver?On((await C()).errors):await P(n,!0);q!==r.isValid&&h.state.next({isValid:q})}},v=(F,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(l.mount)).forEach(Z=>{Z&&(q?Ct(r.validatingFields,Z,q):wr(r.validatingFields,Z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!On(r.validatingFields)}))},g=(F,q=[],Z,me,ie=!0,fe=!0)=>{if(me&&Z&&!t.disabled){if(o.action=!0,fe&&Array.isArray(Se(n,F))){const be=Z(Se(n,F),me.argA,me.argB);ie&&Ct(n,F,be)}if(fe&&Array.isArray(Se(r.errors,F))){const be=Z(Se(r.errors,F),me.argA,me.argB);ie&&Ct(r.errors,F,be),VPe(r.errors,F)}if((d.touchedFields||f.touchedFields)&&fe&&Array.isArray(Se(r.touchedFields,F))){const be=Z(Se(r.touchedFields,F),me.argA,me.argB);ie&&Ct(r.touchedFields,F,be)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=uf(a,i)),h.state.next({name:F,isDirty:A(F,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(i,F,q)},x=(F,q)=>{Ct(r.errors,F,q),h.state.next({errors:r.errors})},b=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},_=(F,q,Z,me)=>{const ie=Se(n,F);if(ie){const fe=Se(i,F,mr(Z)?Se(a,F):Z);mr(fe)||me&&me.defaultChecked||q?Ct(i,F,q?fe:D2(ie._f)):E(F,fe),o.mount&&m()}},w=(F,q,Z,me,ie)=>{let fe=!1,be=!1;const Ve={name:F};if(!t.disabled){if(!Z||me){(d.isDirty||f.isDirty)&&(be=r.isDirty,r.isDirty=Ve.isDirty=A(),fe=be!==Ve.isDirty);const Ge=Gi(Se(a,F),q);be=!!Se(r.dirtyFields,F),Ge?wr(r.dirtyFields,F):Ct(r.dirtyFields,F,!0),Ve.dirtyFields=r.dirtyFields,fe=fe||(d.dirtyFields||f.dirtyFields)&&be!==!Ge}if(Z){const Ge=Se(r.touchedFields,F);Ge||(Ct(r.touchedFields,F,Z),Ve.touchedFields=r.touchedFields,fe=fe||(d.touchedFields||f.touchedFields)&&Ge!==Z)}fe&&ie&&h.state.next(Ve)}return fe?Ve:{}},S=(F,q,Z,me)=>{const ie=Se(r.errors,F),fe=(d.isValid||f.isValid)&&Yn(q)&&r.isValid!==q;if(t.delayError&&Z?(c=y(()=>x(F,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?Ct(r.errors,F,Z):wr(r.errors,F)),(Z?!Gi(ie,Z):ie)||!On(me)||fe){const be={...me,...fe&&Yn(q)?{isValid:q}:{},errors:r.errors,name:F};r={...r,...be},h.state.next(be)}},C=async F=>{v(F,!0);const q=await t.resolver(i,t.context,DPe(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(F),q},N=async F=>{const{errors:q}=await C(F);if(F)for(const Z of F){const me=Se(q,Z);me?Ct(r.errors,Z,me):wr(r.errors,Z)}else r.errors=q;return q},P=async(F,q,Z={valid:!0})=>{for(const me in F){const ie=F[me];if(ie){const{_f:fe,...be}=ie;if(fe){const Ve=l.array.has(fe.name),Ge=ie._f&&LPe(ie._f);Ge&&d.validatingFields&&v([me],!0);const Jt=await V2(ie,l.disabled,i,p,t.shouldUseNativeValidation&&!q,Ve);if(Ge&&d.validatingFields&&v([me]),Jt[fe.name]&&(Z.valid=!1,q))break;!q&&(Se(Jt,fe.name)?Ve?WPe(r.errors,Jt,fe.name):Ct(r.errors,fe.name,Jt[fe.name]):wr(r.errors,fe.name))}!On(be)&&await P(be,q,Z)}}return Z.valid},k=()=>{for(const F of l.unMount){const q=Se(n,F);q&&(q._f.refs?q._f.refs.every(Z=>!Bb(Z)):!Bb(q._f.ref))&&H(F)}l.unMount=new Set},A=(F,q)=>!t.disabled&&(F&&q&&Ct(i,F,q),!Gi(B(),a)),R=(F,q,Z)=>Az(F,l,{...o.mount?i:mr(q)?a:bi(F)?{[F]:q}:q},Z,q),O=F=>xN(Se(o.mount?i:a,F,t.shouldUnregister?Se(a,F,[]):[])),E=(F,q,Z={})=>{const me=Se(n,F);let ie=q;if(me){const fe=me._f;fe&&(!fe.disabled&&Ct(i,F,Iz(q,fe)),ie=iy(fe.ref)&&gn(q)?"":q,Tz(fe.ref)?[...fe.ref.options].forEach(be=>be.selected=ie.includes(be.value)):fe.refs?Ip(fe.ref)?fe.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(ie)?be.checked=!!ie.find(Ve=>Ve===be.value):be.checked=ie===be.value||!!ie)}):fe.refs.forEach(be=>be.checked=be.value===ie):_N(fe.ref)?fe.ref.value="":(fe.ref.value=ie,fe.ref.type||h.state.next({name:F,values:Tr(i)})))}(Z.shouldDirty||Z.shouldTouch)&&w(F,ie,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(F)},$=(F,q,Z)=>{for(const me in q){if(!q.hasOwnProperty(me))return;const ie=q[me],fe=F+"."+me,be=Se(n,fe);(l.array.has(F)||xr(ie)||be&&!be._f)&&!cl(ie)?$(fe,ie,Z):E(fe,ie,Z)}},I=(F,q,Z={})=>{const me=Se(n,F),ie=l.array.has(F),fe=Tr(q);Ct(i,F,fe),ie?(h.array.next({name:F,values:Tr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&h.state.next({name:F,dirtyFields:uf(a,i),isDirty:A(F,fe)})):me&&!me._f&&!gn(fe)?$(F,fe,Z):E(F,fe,Z),B2(F,l)&&h.state.next({...r,name:F}),h.state.next({name:o.mount?F:void 0,values:Tr(i)})},M=async F=>{o.mount=!0;const q=F.target;let Z=q.name,me=!0;const ie=Se(n,Z),fe=Ge=>{me=Number.isNaN(Ge)||cl(Ge)&&isNaN(Ge.getTime())||Gi(Ge,Se(i,Z,Ge))},be=L2(t.mode),Ve=L2(t.reValidateMode);if(ie){let Ge,Jt;const Pn=q.type?D2(ie._f):Pz(F),Er=F.type===ay.BLUR||F.type===ay.FOCUS_OUT,ue=!FPe(ie._f)&&!t.resolver&&!Se(r.errors,Z)&&!ie._f.deps||UPe(Er,Se(r.touchedFields,Z),r.isSubmitted,Ve,be),ze=B2(Z,l,Er);Ct(i,Z,Pn),Er?(ie._f.onBlur&&ie._f.onBlur(F),c&&c(0)):ie._f.onChange&&ie._f.onChange(F);const bt=w(Z,Pn,Er),hr=!On(bt)||ze;if(!Er&&h.state.next({name:Z,type:F.type,values:Tr(i)}),ue)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Er&&m():Er||m()),hr&&h.state.next({name:Z,...ze?{}:bt});if(!Er&&ze&&h.state.next({...r}),t.resolver){const{errors:ht}=await C([Z]);if(fe(Pn),me){const lt=z2(r.errors,n,Z),En=z2(ht,n,lt.name||Z);Ge=En.error,Z=En.name,Jt=On(ht)}}else v([Z],!0),Ge=(await V2(ie,l.disabled,i,p,t.shouldUseNativeValidation))[Z],v([Z]),fe(Pn),me&&(Ge?Jt=!1:(d.isValid||f.isValid)&&(Jt=await P(n,!0)));me&&(ie._f.deps&&L(ie._f.deps),S(Z,Jt,Ge,bt))}},D=(F,q)=>{if(Se(r.errors,q)&&F.focus)return F.focus(),1},L=async(F,q={})=>{let Z,me;const ie=qf(F);if(t.resolver){const fe=await N(mr(F)?F:ie);Z=On(fe),me=F?!ie.some(be=>Se(fe,be)):Z}else F?(me=(await Promise.all(ie.map(async fe=>{const be=Se(n,fe);return await P(be&&be._f?{[fe]:be}:be)}))).every(Boolean),!(!me&&!r.isValid)&&m()):me=Z=await P(n);return h.state.next({...!bi(F)||(d.isValid||f.isValid)&&Z!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:Z}:{},errors:r.errors}),q.shouldFocus&&!me&&Kf(n,D,F?ie:l.mount),me},B=F=>{const q={...o.mount?i:a};return mr(F)?q:bi(F)?Se(q,F):F.map(Z=>Se(q,Z))},Q=(F,q)=>({invalid:!!Se((q||r).errors,F),isDirty:!!Se((q||r).dirtyFields,F),error:Se((q||r).errors,F),isValidating:!!Se(r.validatingFields,F),isTouched:!!Se((q||r).touchedFields,F)}),X=F=>{F&&qf(F).forEach(q=>wr(r.errors,q)),h.state.next({errors:F?r.errors:{}})},re=(F,q,Z)=>{const me=(Se(n,F,{_f:{}})._f||{}).ref,ie=Se(r.errors,F)||{},{ref:fe,message:be,type:Ve,...Ge}=ie;Ct(r.errors,F,{...Ge,...q,ref:me}),h.state.next({name:F,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&me&&me.focus&&me.focus()},z=(F,q)=>Xa(F)?h.state.subscribe({next:Z=>"values"in Z&&F(R(void 0,q),Z)}):R(F,q,!0),U=F=>h.state.subscribe({next:q=>{zPe(F.name,q.name,F.exact)&&BPe(q,F.formState||d,je,F.reRenderRoot)&&F.callback({values:{...i},...r,...q,defaultValues:a})}}).unsubscribe,V=F=>(o.mount=!0,f={...f,...F.formState},U({...F,formState:f})),H=(F,q={})=>{for(const Z of F?qf(F):l.mount)l.mount.delete(Z),l.array.delete(Z),q.keepValue||(wr(n,Z),wr(i,Z)),!q.keepError&&wr(r.errors,Z),!q.keepDirty&&wr(r.dirtyFields,Z),!q.keepTouched&&wr(r.touchedFields,Z),!q.keepIsValidating&&wr(r.validatingFields,Z),!t.shouldUnregister&&!q.keepDefaultValue&&wr(a,Z);h.state.next({values:Tr(i)}),h.state.next({...r,...q.keepDirty?{isDirty:A()}:{}}),!q.keepIsValid&&m()},he=({disabled:F,name:q})=>{(Yn(F)&&o.mount||F||l.disabled.has(q))&&(F?l.disabled.add(q):l.disabled.delete(q))},J=(F,q={})=>{let Z=Se(n,F);const me=Yn(q.disabled)||Yn(t.disabled);return Ct(n,F,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:F}},name:F,mount:!0,...q}}),l.mount.add(F),Z?he({disabled:Yn(q.disabled)?q.disabled:t.disabled,name:F}):_(F,!0,q.value),{...me?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:df(q.min),max:df(q.max),minLength:df(q.minLength),maxLength:df(q.maxLength),pattern:df(q.pattern)}:{},name:F,onChange:M,onBlur:M,ref:ie=>{if(ie){J(F,q),Z=Se(n,F);const fe=mr(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,be=MPe(fe),Ve=Z._f.refs||[];if(be?Ve.find(Ge=>Ge===fe):fe===Z._f.ref)return;Ct(n,F,{_f:{...Z._f,...be?{refs:[...Ve.filter(Bb),fe,...Array.isArray(Se(a,F))?[{}]:[]],ref:{type:fe.type,name:F}}:{ref:fe}}}),_(F,!1,void 0,fe)}else Z=Se(n,F,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(Ez(l.array,F)&&o.action)&&l.unMount.add(F)}}},te=()=>t.shouldFocusError&&Kf(n,D,l.mount),W=F=>{Yn(F)&&(h.state.next({disabled:F}),Kf(n,(q,Z)=>{const me=Se(n,Z);me&&(q.disabled=me._f.disabled||F,Array.isArray(me._f.refs)&&me._f.refs.forEach(ie=>{ie.disabled=me._f.disabled||F}))},0,!1))},G=(F,q)=>async Z=>{let me;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ie=Tr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:be}=await C();r.errors=fe,ie=Tr(be)}else await P(n);if(l.disabled.size)for(const fe of l.disabled)wr(ie,fe);if(wr(r.errors,"root"),On(r.errors)){h.state.next({errors:{}});try{await F(ie,Z)}catch(fe){me=fe}}else q&&await q({...r.errors},Z),te(),setTimeout(te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},pe=(F,q={})=>{Se(n,F)&&(mr(q.defaultValue)?I(F,Tr(Se(a,F))):(I(F,q.defaultValue),Ct(a,F,Tr(q.defaultValue))),q.keepTouched||wr(r.touchedFields,F),q.keepDirty||(wr(r.dirtyFields,F),r.isDirty=q.defaultValue?A(F,Tr(Se(a,F))):A()),q.keepError||(wr(r.errors,F),d.isValid&&m()),h.state.next({...r}))},K=(F,q={})=>{const Z=F?Tr(F):a,me=Tr(Z),ie=On(F),fe=ie?a:me;if(q.keepDefaultValues||(a=Z),!q.keepValues){if(q.keepDirtyValues){const be=new Set([...l.mount,...Object.keys(uf(a,i))]);for(const Ve of Array.from(be))Se(r.dirtyFields,Ve)?Ct(fe,Ve,Se(i,Ve)):I(Ve,Se(fe,Ve))}else{if(yN&&mr(F))for(const be of l.mount){const Ve=Se(n,be);if(Ve&&Ve._f){const Ge=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(iy(Ge)){const Jt=Ge.closest("form");if(Jt){Jt.reset();break}}}}if(q.keepFieldsRef)for(const be of l.mount)I(be,Se(fe,be));else n={}}i=t.shouldUnregister?q.keepDefaultValues?Tr(a):{}:Tr(fe),h.array.next({values:{...fe}}),h.state.next({values:{...fe}})}l={mount:q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ie?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Gi(F,a)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ie?{}:q.keepDirtyValues?q.keepDefaultValues&&i?uf(a,i):r.dirtyFields:q.keepDefaultValues&&F?uf(a,F):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ce=(F,q)=>K(Xa(F)?F(i):F,q),le=(F,q={})=>{const Z=Se(n,F),me=Z&&Z._f;if(me){const ie=me.refs?me.refs[0]:me.ref;ie.focus&&(ie.focus(),q.shouldSelect&&Xa(ie.select)&&ie.select())}},je=F=>{r={...r,...F}},Je={control:{register:J,unregister:H,getFieldState:Q,handleSubmit:G,setError:re,_subscribe:U,_runSchema:C,_focusError:te,_getWatch:R,_getDirty:A,_setValid:m,_setFieldArray:g,_setDisabledField:he,_setErrors:b,_getFieldArray:O,_reset:K,_resetDefaultValues:()=>Xa(t.defaultValues)&&t.defaultValues().then(F=>{ce(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:W,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return a},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:V,trigger:L,register:J,handleSubmit:G,watch:z,setValue:I,getValues:B,reset:ce,resetField:pe,clearErrors:X,unregister:H,setError:re,setFocus:le,getFieldState:Q};return{...Je,formControl:Je}}function W2(e={}){const t=T.useRef(void 0),r=T.useRef(void 0),[n,a]=T.useState({isDirty:!1,isValidating:!1,isLoading:Xa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=qPe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,jN(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),T.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),T.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),T.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),T.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),T.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),T.useEffect(()=>{e.values&&!Gi(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),T.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=kz(n,i),t.current}const H2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Se(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Lz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?H2(n.ref,r,e):n.refs&&n.refs.forEach(a=>H2(a,r,e))}},KPe=(e,t)=>{t.shouldUseNativeValidation&&Lz(e,t);const r={};for(const n in e){const a=Se(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(GPe(t.names||Object.keys(e),n)){const o=Object.assign({},Se(r,n));Ct(o,"root",i),Ct(r,n,o)}else Ct(r,n,i)}return r},GPe=(e,t)=>e.some(r=>r.startsWith(t+"."));var YPe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Oz(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},q2=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Lz({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:KPe(YPe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const K2=kPe,Fz=j.createContext({}),ff=({...e})=>s.jsx(Fz.Provider,{value:{name:e.name},children:s.jsx(RPe,{...e})}),s0=()=>{const e=j.useContext(Fz),t=j.useContext(Bz),{getFieldState:r,formState:n}=i0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Bz=j.createContext({}),gc=j.forwardRef(({className:e,...t},r)=>{const n=j.useId();return s.jsx(Bz.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ne("space-y-2",e),...t})})});gc.displayName="FormItem";const yc=j.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=s0();return s.jsx(we,{ref:r,className:ne(n&&"text-destructive",e),htmlFor:a,...t})});yc.displayName="FormLabel";const xc=j.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=s0();return s.jsx(A$,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});xc.displayName="FormControl";const XPe=j.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=s0();return s.jsx("p",{ref:r,id:n,className:ne("text-sm text-muted-foreground",e),...t})});XPe.displayName="FormDescription";const bc=j.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=s0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ne("text-sm font-medium text-destructive",e),...r,children:o}):null});bc.displayName="FormMessage";const QPe=Cz({email:Hf().trim().email({message:"Email invalide"}),password:Hf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),JPe=Cz({email:Hf().trim().email({message:"Email invalide"}),password:Hf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:Hf().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function ZPe(){const{user:e,loading:t,signIn:r,signUp:n}=Ca(),a=jp(),[i,o]=j.useState(!1);j.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=W2({resolver:q2(QPe),defaultValues:{email:"",password:""}}),c=W2({resolver:q2(JPe),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{o(!0);const{error:h}=await r(f.email,f.password);o(!1),h?h.message.includes("Invalid login credentials")?Yr({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?Yr({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):Yr({title:"Erreur",description:h.message,variant:"destructive"}):(Yr({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},d=async f=>{o(!0);const{error:h}=await n(f.email,f.password,f.displayName);o(!1),h?h.message.includes("already registered")?Yr({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):Yr({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):Yr({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:s.jsxs(jt,{className:"w-full max-w-md",children:[s.jsxs(qt,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(qS,{variant:"full",color:"dark"})}),s.jsx(Kt,{className:"whitespace-pre-line",children:"We engage, we move"}),s.jsx(kl,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),s.jsx(Pt,{children:s.jsxs(Ea,{defaultValue:"login",className:"w-full",children:[s.jsxs(la,{className:"grid w-full grid-cols-2",children:[s.jsx(ft,{value:"login",children:"Connexion"}),s.jsx(ft,{value:"signup",children:"Inscription"})]}),s.jsx(gt,{value:"login",className:"mt-4",children:s.jsx(K2,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[s.jsx(ff,{control:l.control,name:"email",render:({field:f})=>s.jsxs(gc,{children:[s.jsx(yc,{children:"Email"}),s.jsx(xc,{children:s.jsx(_e,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(bc,{})]})}),s.jsx(ff,{control:l.control,name:"password",render:({field:f})=>s.jsxs(gc,{children:[s.jsx(yc,{children:"Mot de passe"}),s.jsx(xc,{children:s.jsx(_e,{type:"password",placeholder:"",...f})}),s.jsx(bc,{})]})}),s.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),s.jsx(gt,{value:"signup",className:"mt-4",children:s.jsx(K2,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsx(ff,{control:c.control,name:"displayName",render:({field:f})=>s.jsxs(gc,{children:[s.jsx(yc,{children:"Nom complet"}),s.jsx(xc,{children:s.jsx(_e,{placeholder:"Jean Dupont",...f})}),s.jsx(bc,{})]})}),s.jsx(ff,{control:c.control,name:"email",render:({field:f})=>s.jsxs(gc,{children:[s.jsx(yc,{children:"Email"}),s.jsx(xc,{children:s.jsx(_e,{type:"email",placeholder:"vous@exemple.com",...f})}),s.jsx(bc,{})]})}),s.jsx(ff,{control:c.control,name:"password",render:({field:f})=>s.jsxs(gc,{children:[s.jsx(yc,{children:"Mot de passe"}),s.jsx(xc,{children:s.jsx(_e,{type:"password",placeholder:"",...f})}),s.jsx(bc,{})]})}),s.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&s.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const eEe=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function tEe(){const[e,t]=j.useState([]),[r,n]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{var o;try{const{data:l}=await ye.auth.getSession(),c=(o=l==null?void 0:l.session)==null?void 0:o.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await ye.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const p=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(p)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(o,l)=>{try{await ye.from("user_roles").upsert({user_id:o,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===o?{...u,role:l}:u)),Yr({title:"Rle mis  jour"})}catch{Yr({title:"Erreur",variant:"destructive"})}};return r?s.jsx(_i,{className:"h-6 w-6 animate-spin mx-auto"}):s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsx(Kt,{children:"Gestion des Utilisateurs"})}),s.jsx(Pt,{children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Email"}),s.jsx(oe,{children:"Rle"})]})}),s.jsxs(Bt,{children:[e.map(o=>s.jsxs(Ce,{children:[s.jsx(Y,{className:"font-medium",children:o.display_name||""}),s.jsx(Y,{className:"text-sm text-muted-foreground",children:o.email}),s.jsx(Y,{children:s.jsxs(st,{value:o.role,onValueChange:l=>i(o.id,l),children:[s.jsx(nt,{className:"w-32",children:s.jsx(ot,{})}),s.jsx(at,{children:eEe.map(l=>s.jsx(Le,{value:l,children:l},l))})]})})]},o.id)),e.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const G2=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],rEe=["hidden","read","write"],zb=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],nEe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},Ub={hidden:{label:"Masqu",icon:dI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:cW,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:kv,color:"bg-green-100 text-green-800"}};function aEe(){const{isAdmin:e,loading:t}=Ca(),r=jp(),[n,a]=j.useState({}),[i,o]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await ye.from("tab_permissions").select("*");if(h)throw h;const p={};G2.forEach(y=>{p[y]={},zb.forEach(m=>{p[y][m.key]="hidden"})}),f==null||f.forEach(y=>{p[y.role]&&(p[y.role][y.tab_key]=y.permission)}),a(p)}catch{}finally{o(!1)}},d=async(f,h,p)=>{c(`${f}:${h}`);try{await ye.from("tab_permissions").upsert({role:f,tab_key:h,permission:p},{onConflict:"role,tab_key"}),a(y=>({...y,[f]:{...y[f],[h]:p}})),Yr({title:"Permission mise  jour"})}catch{Yr({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hI,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),s.jsxs(Ea,{defaultValue:"users",className:"space-y-6",children:[s.jsxs(la,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(ft,{value:"users",className:"flex items-center gap-2",children:[s.jsx(xu,{className:"h-4 w-4"}),"Utilisateurs"]}),s.jsxs(ft,{value:"permissions",className:"flex items-center gap-2",children:[s.jsx(_W,{className:"h-4 w-4"}),"Permissions"]})]}),s.jsx(gt,{value:"users",children:s.jsx(tEe,{})}),s.jsx(gt,{value:"permissions",className:"space-y-6",children:s.jsxs(jt,{children:[s.jsxs(qt,{children:[s.jsx(Kt,{children:"Matrice des Permissions"}),s.jsx(kl,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),s.jsx(Pt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"w-32",children:"Rle"}),zb.map(f=>s.jsx(oe,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),s.jsx(Bt,{children:G2.map(f=>s.jsxs(Ce,{children:[s.jsx(Y,{children:s.jsx(ke,{variant:f==="admin"?"default":"secondary",children:nEe[f]})}),zb.map(h=>{var m;const p=((m=n[f])==null?void 0:m[h.key])||"hidden",y=`${f}:${h.key}`;return s.jsx(Y,{className:"text-center p-2",children:f==="admin"?s.jsxs(ke,{className:Ub.write.color,children:[s.jsx(kv,{className:"h-3 w-3 mr-1"}),Ub.write.label]}):s.jsxs(st,{value:p,onValueChange:v=>d(f,h.key,v),disabled:l===y,children:[s.jsx(nt,{className:"w-28",children:s.jsx(ot,{})}),s.jsx(at,{children:rEe.map(v=>{const{label:g,icon:x}=Ub[v];return s.jsx(Le,{value:v,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{className:"h-3 w-3"}),g]})},v)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const Vb=[50,100,200,500,1e3,2e3,5e3,1e4];function iEe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function CN(){const{user:e}=Ca(),[t,r]=j.useState([]),[n,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState([]),[f,h]=j.useState([]),[p,y]=j.useState(!0),[m,v]=j.useState(!1),g=j.useCallback(async()=>{if(e){m||y(!0);try{const[U,V,H,he,J,te]=await Promise.all([ye.from("costflow_references").select("*").order("code"),ye.from("costflow_products").select("*").order("name"),ye.from("costflow_bom").select("*"),ye.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),ye.from("costflow_suppliers").select("*").order("name"),ye.from("costflow_product_categories").select("*").order("name")]);U.data&&r(U.data.map(iEe)),V.data&&a(V.data.map(W=>({id:W.id,name:W.name,family:W.family||"Standard",main_supplier:W.main_supplier||"",coefficient:Number(W.coefficient)||1.3,price_ttc:Number(W.price_ttc)||0,default_volume:W.default_volume||500,comments:W.comments||"",category_id:W.category_id||null,created_at:W.created_at,updated_at:W.updated_at}))),H.data&&o(H.data.map(W=>({id:W.id,product_id:W.product_id,reference_id:W.reference_id,quantity:Number(W.quantity)||1}))),he.data&&c(he.data.map(W=>({id:W.id,reference_id:W.reference_id,file_name:W.file_name,file_path:W.file_path,file_size:W.file_size||0,version:W.version||1,uploaded_at:W.uploaded_at}))),J.data&&d(J.data.map(W=>({id:W.id,name:W.name,contact_name:W.contact_name||"",email:W.email||"",phone:W.phone||"",country:W.country||"France",comments:W.comments||"",created_at:W.created_at,updated_at:W.updated_at}))),te.data&&h(te.data.map(W=>({id:W.id,name:W.name,description:W.description||"",color:W.color||"#6366f1",created_at:W.created_at})))}catch(U){console.error("CostFlow fetch error:",U)}finally{y(!1),v(!0)}}},[e,m]);j.useEffect(()=>{g()},[g]);const x=async U=>{if(!e)return;const V=U.prices||{},{error:H}=await ye.from("costflow_references").insert({user_id:e.id,code:U.code,name:U.name,category:U.category||"Mcanique",revision:U.revision||"A",supplier:U.supplier||"",currency:U.currency||"EUR",comments:U.comments||"",price_vol_50:V[50]||0,price_vol_100:V[100]||0,price_vol_200:V[200]||0,price_vol_500:V[500]||0,price_vol_1000:V[1e3]||0,price_vol_2000:V[2e3]||0,price_vol_5000:V[5e3]||0,price_vol_10000:V[1e4]||0});H?(Pe.error("Erreur cration rfrence"),console.error(H)):(Pe.success("Rfrence cre"),g())},b=async(U,V)=>{if(!e)return;const H={};V.code!==void 0&&(H.code=V.code),V.name!==void 0&&(H.name=V.name),V.category!==void 0&&(H.category=V.category),V.revision!==void 0&&(H.revision=V.revision),V.supplier!==void 0&&(H.supplier=V.supplier),V.currency!==void 0&&(H.currency=V.currency),V.comments!==void 0&&(H.comments=V.comments),V.prices&&(H.price_vol_50=V.prices[50]??0,H.price_vol_100=V.prices[100]??0,H.price_vol_200=V.prices[200]??0,H.price_vol_500=V.prices[500]??0,H.price_vol_1000=V.prices[1e3]??0,H.price_vol_2000=V.prices[2e3]??0,H.price_vol_5000=V.prices[5e3]??0,H.price_vol_10000=V.prices[1e4]??0);const{error:he}=await ye.from("costflow_references").update(H).eq("id",U);he?(Pe.error("Erreur mise  jour"),console.error(he)):(Pe.success("Rfrence mise  jour"),g())},_=async U=>{const{error:V}=await ye.from("costflow_references").delete().eq("id",U);V?(Pe.error("Erreur suppression"),console.error(V)):(Pe.success("Rfrence supprime"),g())},w=async(U,V="skip")=>{if(!e||U.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const H={imported:0,skipped:0,updated:0,errors:[]},he=t.map(W=>W.code),J=U.filter(W=>!he.includes(W.code||"")),te=U.filter(W=>he.includes(W.code||""));if(J.length>0){const W=J.map(pe=>{const K=pe.prices||{};return{user_id:e.id,code:pe.code,name:pe.name||pe.code,category:pe.category||"Mcanique",revision:pe.revision||"A",supplier:pe.supplier||"",currency:pe.currency||"EUR",comments:pe.comments||"",price_vol_50:K[50]||0,price_vol_100:K[100]||0,price_vol_200:K[200]||0,price_vol_500:K[500]||0,price_vol_1000:K[1e3]||0,price_vol_2000:K[2e3]||0,price_vol_5000:K[5e3]||0,price_vol_10000:K[1e4]||0}}),{error:G}=await ye.from("costflow_references").insert(W);G?H.errors.push(`Erreur insertion : ${G.message}`):H.imported=J.length}if(te.length>0)if(V==="skip")H.skipped=te.length;else for(const W of te){const G=t.find(ce=>ce.code===W.code);if(!G)continue;const pe=W.prices||{},{error:K}=await ye.from("costflow_references").update({name:W.name||W.code,supplier:W.supplier||"",currency:W.currency||"EUR",comments:W.comments||"",price_vol_50:pe[50]||0,price_vol_100:pe[100]||0,price_vol_200:pe[200]||0,price_vol_500:pe[500]||0,price_vol_1000:pe[1e3]||0,price_vol_2000:pe[2e3]||0,price_vol_5000:pe[5e3]||0,price_vol_10000:pe[1e4]||0}).eq("id",G.id);K?H.errors.push(`Erreur mise  jour ${W.code}`):H.updated++}return g(),H},S=async U=>{if(!e)return;const{error:V}=await ye.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""});V?(Pe.error("Erreur cration produit"),console.error(V)):(Pe.success("Produit cr"),g())},C=async(U,V)=>{if(!e)return;const{error:H}=await ye.from("costflow_products").update(V).eq("id",U);H?(Pe.error("Erreur mise  jour"),console.error(H)):(Pe.success("Produit mis  jour"),g())},N=async U=>{const{error:V}=await ye.from("costflow_products").delete().eq("id",U);V?(Pe.error("Erreur suppression"),console.error(V)):(Pe.success("Produit supprim"),g())},P=async(U,V,H)=>{if(!e)return;const{error:he}=await ye.from("costflow_bom").insert({user_id:e.id,product_id:U,reference_id:V,quantity:H});he?(Pe.error("Erreur ajout nomenclature"),console.error(he)):g()},k=async(U,V)=>{const{error:H}=await ye.from("costflow_bom").update({quantity:V}).eq("id",U);H?(Pe.error("Erreur mise  jour"),console.error(H)):g()},A=async U=>{const{error:V}=await ye.from("costflow_bom").delete().eq("id",U);V?(Pe.error("Erreur suppression"),console.error(V)):g()},R=async(U,V)=>{if(!e)return;const H=`${e.id}/${U}/${Date.now()}_${V.name}`,{error:he}=await ye.storage.from("technical-plans").upload(H,V);if(he){Pe.error("Erreur upload fichier"),console.error(he);return}const J=l.filter(G=>G.reference_id===U),te=J.length>0?Math.max(...J.map(G=>G.version)):0,{error:W}=await ye.from("costflow_reference_files").insert({user_id:e.id,reference_id:U,file_name:V.name,file_path:H,file_size:V.size,version:te+1});W?(Pe.error("Erreur enregistrement fichier"),console.error(W)):(Pe.success("Fichier upload"),g())},O=async(U,V)=>{await ye.storage.from("technical-plans").remove([V]);const{error:H}=await ye.from("costflow_reference_files").delete().eq("id",U);H?(Pe.error("Erreur suppression fichier"),console.error(H)):g()},E=U=>{const{data:V}=ye.storage.from("technical-plans").getPublicUrl(U);return V.publicUrl},$=async U=>{const{data:V,error:H}=await ye.storage.from("technical-plans").createSignedUrl(U,3600);return H?(Pe.error("Erreur accs fichier"),null):V.signedUrl},I=(U,V)=>{const H=i.filter(W=>W.product_id===U),he=n.find(W=>W.id===U);if(!he)return 0;const J=Vb.reduce((W,G)=>Math.abs(G-V)<Math.abs(W-V)?G:W);let te=0;for(const W of H){const G=t.find(pe=>pe.id===W.reference_id);G&&(te+=W.quantity*(G.prices[J]||0))}return te*he.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:f,loading:p,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:w,createProduct:S,updateProduct:C,deleteProduct:N,createProductWithBom:async(U,V)=>{if(!e)return;const{data:H,error:he}=await ye.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""}).select("id").single();if(he||!H){Pe.error("Erreur cration produit"),console.error(he);return}const J=H.id;if(V.length>0){const te=V.map(G=>({user_id:e.id,product_id:J,reference_id:G.referenceId,quantity:G.quantity})),{error:W}=await ye.from("costflow_bom").insert(te);W&&(Pe.error("Erreur ajout nomenclature"),console.error(W))}Pe.success(`Produit "${U.name}" cr avec ${V.length} rfrence(s)`),g()},addBomEntry:P,updateBomEntry:k,removeBomEntry:A,uploadFile:R,deleteFile:O,getFileUrl:E,getSignedUrl:$,createSupplier:async U=>{if(!e)return;const{error:V}=await ye.from("costflow_suppliers").insert({user_id:e.id,name:U.name,contact_name:U.contact_name||"",email:U.email||"",phone:U.phone||"",country:U.country||"France",comments:U.comments||""});V?(Pe.error("Erreur cration fournisseur"),console.error(V)):(Pe.success("Fournisseur cr"),g())},updateSupplier:async(U,V)=>{if(!e)return;const{error:H}=await ye.from("costflow_suppliers").update(V).eq("id",U);H?(Pe.error("Erreur mise  jour fournisseur"),console.error(H)):(Pe.success("Fournisseur mis  jour"),g())},deleteSupplier:async U=>{const{error:V}=await ye.from("costflow_suppliers").delete().eq("id",U);V?(Pe.error("Erreur suppression fournisseur"),console.error(V)):(Pe.success("Fournisseur supprim"),g())},createProductCategory:async U=>{if(!e)return;const{error:V}=await ye.from("costflow_product_categories").insert({user_id:e.id,name:U.name,description:U.description||"",color:U.color||"#6366f1"});V?(Pe.error("Erreur cration catgorie"),console.error(V)):(Pe.success("Catgorie cre"),g())},updateProductCategory:async(U,V)=>{if(!e)return;const{error:H}=await ye.from("costflow_product_categories").update(V).eq("id",U);H?(Pe.error("Erreur mise  jour catgorie"),console.error(H)):(Pe.success("Catgorie mise  jour"),g())},deleteProductCategory:async U=>{await ye.from("costflow_products").update({category_id:null}).eq("category_id",U);const{error:V}=await ye.from("costflow_product_categories").delete().eq("id",U);V?(Pe.error("Erreur suppression catgorie"),console.error(V)):(Pe.success("Catgorie supprime"),g())},calculateProductCost:I,calculateProductCosts:U=>{const V={};for(const H of Vb)V[H]=I(U,H);return V},VOLUME_TIERS:Vb,refresh:g}}const Ti=j.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ti.displayName="Textarea";const sEe=ud("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zs=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ne(sEe({variant:t}),e),...r}));Zs.displayName="Alert";const oEe=j.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));oEe.displayName="AlertTitle";const eo=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));eo.displayName="AlertDescription";const Wb=["EUR","USD","GBP","CHF","CNY","JPY"],Mm=[50,100,200,500,1e3,2e3,5e3,1e4];function dc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function hf(e){return e.code.trim().length>0}function lEe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=j.useState([dc()]),[o,l]=j.useState(!1),[c,u]=j.useState("skip"),[d,f]=j.useState(null),h=j.useRef(null),p=j.useRef(null),y=a.filter(N=>hf(N)).length,m=a.filter(N=>N.code&&n.includes(N.code)).length,v=(N,P,k)=>{i(A=>{const R=[...A];return R[N]={...R[N],[P]:k},R[N].valid=hf(R[N]),R[N].isDuplicate=R[N].code?n.includes(R[N].code):!1,R})},g=(N,P,k)=>{i(A=>{const R=[...A];return R[N]={...R[N],prices:{...R[N].prices,[P]:k}},R})},x=N=>{i(P=>P.length===1?[dc()]:P.filter((k,A)=>A!==N))},b=()=>i(N=>[...N,dc()]),_=j.useCallback(N=>{const P=N.clipboardData.getData("text/plain");if(!P.includes("	")&&!P.includes(`
`))return;N.preventDefault();const k=P.split(`
`).map($=>$.trim()).filter($=>$.length>0),A=k[0].toLowerCase(),E=(A.includes("code")||A.includes("nom")||A.includes("name")?k.slice(1):k).map($=>{const I=$.split("	"),M=dc();return M.code=(I[0]||"").trim(),M.name=(I[1]||"").trim(),M.supplier=(I[2]||"").trim(),M.currency=Wb.includes((I[3]||"").trim().toUpperCase())?(I[3]||"EUR").trim().toUpperCase():"EUR",Mm.forEach((D,L)=>{const B=parseFloat((I[4+L]||"").replace(",","."));isNaN(B)||(M.prices[D]=B)}),M.unit=(I[12]||"pice").trim(),M.comments=(I[13]||"").trim(),M.valid=hf(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter($=>$.code||$.name);E.length>0&&i($=>$.length===1&&!$[0].code&&!$[0].name?E:[...$,...E])},[]),w=N=>{var A;const P=(A=N.target.files)==null?void 0:A[0];if(!P)return;const k=new FileReader;k.onload=R=>{var B;const O=(B=R.target)==null?void 0:B.result;if(!O)return;const E=O.includes("	")?"	":O.includes(";")?";":",",$=O.split(`
`).map(Q=>Q.trim()).filter(Q=>Q.length>0),I=$[0].toLowerCase(),L=(I.includes("code")||I.includes("nom")?$.slice(1):$).map(Q=>{const X=Q.split(E),re=dc();return re.code=(X[0]||"").trim(),re.name=(X[1]||"").trim(),re.supplier=(X[2]||"").trim(),re.currency=Wb.includes((X[3]||"").trim().toUpperCase())?(X[3]||"EUR").trim().toUpperCase():"EUR",Mm.forEach((z,U)=>{const V=parseFloat((X[4+U]||"").replace(",","."));isNaN(V)||(re.prices[z]=V)}),re.unit=(X[12]||"pice").trim(),re.comments=(X[13]||"").trim(),re.valid=hf(re),re.isDuplicate=re.code?n.includes(re.code):!1,re}).filter(Q=>Q.code||Q.name);L.length>0&&i(L)},k.readAsText(P),p.current&&(p.current.value="")},S=async()=>{const N=a.filter(A=>hf(A));if(N.length===0)return;l(!0);const P=N.map(A=>({code:A.code,name:A.name||A.code,supplier:A.supplier||"",currency:A.currency||"EUR",prices:A.prices||{},comments:A.comments||"",category:"Mcanique",revision:"A"})),k=await r(P,c);f(k),l(!1)},C=()=>{i([dc()]),f(null),t(!1)};return d?s.jsx(br,{open:e,onOpenChange:C,children:s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[s.jsx(oI,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:"default",className:"bg-green-600",children:d.imported}),s.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:"secondary",children:d.updated}),s.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:"outline",children:d.skipped}),s.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&s.jsx(Zs,{variant:"destructive",children:s.jsx(eo,{children:d.errors.map((N,P)=>s.jsx("div",{className:"text-xs",children:N},P))})})]}),s.jsx(ae,{onClick:C,className:"w-full",children:"Fermer"})]})}):s.jsx(br,{open:e,onOpenChange:C,children:s.jsxs(ur,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Importer des rfrences"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(la,{className:"w-full",children:[s.jsxs(ft,{value:"paste",className:"flex-1",children:[s.jsx(lI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(ft,{value:"file",className:"flex-1",children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(gt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(Zs,{children:[s.jsx(dh,{className:"h-4 w-4"}),s.jsxs(eo,{children:[s.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",s.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),m>0&&s.jsxs(Zs,{children:[s.jsx(yu,{className:"h-4 w-4"}),s.jsxs(eo,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:[m," code(s) dj existant(s)"]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(ae,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),s.jsx(ae,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),s.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),Mm.map(N=>s.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:N},N)),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:a.map((N,P)=>s.jsxs("tr",{className:`border-t ${N.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[s.jsx("td",{className:"px-1 py-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:`h-8 text-xs ${N.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:N.code,onChange:k=>v(P,"code",k.target.value)}),N.isDuplicate&&s.jsx(yu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(_e,{className:"h-8 text-xs",placeholder:"Nom...",value:N.name,onChange:k=>v(P,"name",k.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(_e,{className:"h-8 text-xs",value:N.supplier,onChange:k=>v(P,"supplier",k.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsxs(st,{value:N.currency,onValueChange:k=>v(P,"currency",k),children:[s.jsx(nt,{className:"h-8 text-xs",children:s.jsx(ot,{})}),s.jsx(at,{children:Wb.map(k=>s.jsx(Le,{value:k,children:k},k))})]})}),Mm.map(k=>s.jsx("td",{className:"px-1 py-1",children:s.jsx(_e,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:N.prices[k]??"",onChange:A=>g(P,k,parseFloat(A.target.value)||0),placeholder:"0"})},k)),s.jsx("td",{className:"px-1 py-1",children:s.jsx(_e,{className:"h-8 text-xs",value:N.unit,onChange:k=>v(P,"unit",k.target.value)})}),s.jsx("td",{className:"px-1 py-1",children:s.jsx(_e,{className:"h-8 text-xs",value:N.comments,onChange:k=>v(P,"comments",k.target.value)})}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>x(P),className:"text-destructive hover:text-destructive/80",children:s.jsx(ki,{className:"h-4 w-4"})})})]},P))})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),s.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&s.jsxs("span",{className:"text-xs text-yellow-600",children:[m," doublon(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),s.jsxs(gt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(Zs,{children:[s.jsx(dh,{className:"h-4 w-4"}),s.jsxs(eo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:p,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:w}),s.jsx(ae,{variant:"outline",onClick:()=>{var N;return(N=p.current)==null?void 0:N.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:C,children:[s.jsx(ki,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ae,{onClick:S,disabled:y===0||o,children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const cEe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],uEe=["EUR","USD","GBP","CHF","CNY","JPY"],dEe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),fEe=[50,100,200,500,1e3,2e3,5e3,1e4];function hEe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:o}){const[l,c]=j.useState(""),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,y]=j.useState(null),[m,v]=j.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),g=e.filter(w=>w.code.toLowerCase().includes(l.toLowerCase())||w.name.toLowerCase().includes(l.toLowerCase())||w.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),v({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=w=>{y(w),v({code:w.code,name:w.name,category:w.category,revision:w.revision,supplier:w.supplier,currency:w.currency,comments:w.comments,prices:{...w.prices}}),h(!0)},_=async()=>{if(!m.code||!m.name)return;const w={...m,supplier:m.supplier==="none"?"":m.supplier};p?await n(p.id,w):await r(w),h(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(bS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_e,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:w=>c(w.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>d(!0),children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(br,{open:f,onOpenChange:h,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{onClick:x,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),s.jsxs(ur,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(fr,{children:p?"Modifier la rfrence":"Nouvelle rfrence"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Code *"}),s.jsx(_e,{value:m.code,onChange:w=>v({...m,code:w.target.value}),placeholder:"REF-001"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Nom *"}),s.jsx(_e,{value:m.name,onChange:w=>v({...m,name:w.target.value}),placeholder:"Nom de la pice"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Catgorie"}),s.jsxs(st,{value:m.category,onValueChange:w=>v({...m,category:w}),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:cEe.map(w=>s.jsx(Le,{value:w,children:w},w))})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Rvision"}),s.jsxs(st,{value:m.revision,onValueChange:w=>v({...m,revision:w}),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:dEe.map(w=>s.jsx(Le,{value:w,children:w},w))})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Fournisseur"}),s.jsxs(st,{value:m.supplier,onValueChange:w=>v({...m,supplier:w}),children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Slectionner..."})}),s.jsxs(at,{children:[s.jsx(Le,{value:"none",children:"Aucun"}),t.map(w=>s.jsx(Le,{value:w.name,children:w.name},w.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Devise"}),s.jsxs(st,{value:m.currency,onValueChange:w=>v({...m,currency:w}),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:uEe.map(w=>s.jsx(Le,{value:w,children:w},w))})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs(we,{className:"text-sm font-semibold",children:["Grille de prix par volume (",m.currency,")"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:fEe.map(w=>s.jsxs("div",{children:[s.jsxs(we,{className:"text-xs text-muted-foreground",children:[w," units"]}),s.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:m.prices[w]||"",onChange:S=>v({...m,prices:{...m.prices,[w]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},w))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(we,{children:"Commentaires"}),s.jsx(Ti,{value:m.comments,onChange:w=>v({...m,comments:w.target.value}),rows:2})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:_,children:p?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Code"}),s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Catgorie"}),s.jsx(oe,{children:"Rv."}),s.jsx(oe,{children:"Fournisseur"}),s.jsx(oe,{children:"Devise"}),s.jsx(oe,{className:"text-right",children:"Prix @500"}),s.jsx(oe,{className:"text-right",children:"Prix @1000"}),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[g.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),g.map(w=>{var S,C;return s.jsxs(Ce,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(w),children:[s.jsx(Y,{className:"font-mono-numbers font-medium",children:w.code}),s.jsx(Y,{children:w.name}),s.jsx(Y,{children:s.jsx(ke,{variant:"secondary",children:w.category})}),s.jsx(Y,{children:w.revision}),s.jsx(Y,{children:w.supplier||"-"}),s.jsx(Y,{children:w.currency}),s.jsx(Y,{className:"text-right font-mono-numbers",children:((S=w.prices[500])==null?void 0:S.toFixed(2))||"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:((C=w.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),b(w)},children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),a(w.id)},children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},w.id)})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),s.jsx(lEe,{open:u,onOpenChange:d,onImport:i,existingCodes:e.map(w=>w.code)})]})}const pEe=[50,100,200,500,1e3,2e3,5e3,1e4];function mEe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const o=j.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];h&&await r(e.id,h),o.current&&(o.current.value="")},u=async f=>{const h=await a(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:i,children:s.jsx(iI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(ke,{variant:"secondary",children:e.category}),s.jsxs(ke,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&s.jsx(ke,{variant:"outline",children:e.supplier})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:pEe.map(f=>{var h;return s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),s.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Commentaires"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),s.jsxs("div",{children:[s.jsx("input",{ref:o,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[s.jsx(ts,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Fichier"}),s.jsx(oe,{children:"Version"}),s.jsx(oe,{children:"Taille"}),s.jsx(oe,{children:"Date"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:l.map(f=>s.jsxs(Ce,{children:[s.jsxs(Y,{className:"flex items-center gap-2",children:[s.jsx(gu,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),s.jsx(Y,{children:s.jsxs(ke,{variant:"outline",children:["v",f.version]})}),s.jsx(Y,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),s.jsx(Y,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>u(f),children:s.jsx(Ty,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const vEe=[50,100,200,500,1e3,2e3,5e3,1e4],gEe=["Standard","Premium","conomique","Custom"];function $m(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function yEe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,o]=j.useState(""),[l,c]=j.useState("Standard"),[u,d]=j.useState(""),[f,h]=j.useState([$m()]),[p,y]=j.useState(!1),[m,v]=j.useState(null),g=j.useRef(null),x=j.useCallback(O=>{if(!O.trim())return{found:!1,referenceId:null,referenceName:""};const E=r.find($=>$.code.toLowerCase()===O.trim().toLowerCase());return E?{found:!0,referenceId:E.id,referenceName:E.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(O,E,$)=>{h(I=>{const M=[...I];if(M[O]={...M[O],[E]:$},E==="refCode"){const D=x($);M[O]={...M[O],...D}}return M})},_=O=>{h(E=>E.length===1?[$m()]:E.filter(($,I)=>I!==O))},w=()=>h(O=>[...O,$m()]),S=j.useCallback(O=>{const E=O.clipboardData.getData("text/plain");if(!E.includes("	")&&!E.includes(`
`))return;O.preventDefault();const $=E.split(`
`).map(B=>B.trim()).filter(B=>B.length>0),I=$[0].toLowerCase(),L=(I.includes("code")||I.includes("ref")||I.includes("rfrence")?$.slice(1):$).map(B=>{const Q=B.split("	"),X=(Q[0]||"").trim(),re=parseFloat((Q[1]||"1").replace(",","."))||1,z=parseInt(Q[2]||"200")||200,U=x(X);return{refCode:X,quantity:re,volume:z,...U}}).filter(B=>B.refCode.length>0);L.length>0&&h(B=>B.length===1&&!B[0].refCode?L:[...B,...L])},[x]),C=O=>{var I;const E=(I=O.target.files)==null?void 0:I[0];if(!E)return;const $=new FileReader;$.onload=M=>{var U;const D=(U=M.target)==null?void 0:U.result;if(!D)return;const L=D.includes("	")?"	":D.includes(";")?";":",",B=D.split(`
`).map(V=>V.trim()).filter(V=>V.length>0),Q=B[0].toLowerCase(),z=(Q.includes("code")||Q.includes("ref")?B.slice(1):B).map(V=>{const H=V.split(L),he=(H[0]||"").trim(),J=parseFloat((H[1]||"1").replace(",","."))||1,te=parseInt(H[2]||"200")||200,W=x(he);return{refCode:he,quantity:J,volume:te,...W}}).filter(V=>V.refCode.length>0);z.length>0&&h(z)},$.readAsText(E),g.current&&(g.current.value="")},N=f.filter(O=>O.refCode.trim()&&O.found&&O.referenceId),P=f.filter(O=>O.refCode.trim()&&!O.found),k=N.length,A=async()=>{if(!(!i.trim()||k===0)){y(!0);try{const O=N.map(E=>({referenceId:E.referenceId,quantity:E.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},O),v({success:!0,productName:i,refCount:k,errors:P.map(E=>E.refCode)})}catch{v({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},R=()=>{o(""),c("Standard"),d(""),h([$m()]),v(null),t(!1)};return m?s.jsx(br,{open:e,onOpenChange:R,children:s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[m.success?s.jsx(oI,{className:"h-5 w-5 text-emerald-500"}):s.jsx(yu,{className:"h-5 w-5 text-destructive"}),m.success?"Produit cr":"Erreur"]})}),s.jsxs("div",{className:"space-y-3 py-4",children:[m.success&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm",children:["Le produit ",s.jsx("strong",{children:m.productName})," a t cr avec ",s.jsx("strong",{children:m.refCount})," rfrence(s)."]}),m.errors.length>0&&s.jsxs(Zs,{children:[s.jsx(yu,{className:"h-4 w-4"}),s.jsxs(eo,{children:[s.jsxs("span",{className:"font-medium",children:[m.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),s.jsx("span",{className:"text-xs ml-1",children:m.errors.join(", ")})]})]})]}),!m.success&&s.jsx("p",{className:"text-sm text-destructive",children:m.errors[0]})]}),s.jsx(ae,{onClick:R,className:"w-full",children:"Fermer"})]})}):s.jsx(br,{open:e,onOpenChange:R,children:s.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Importer des produits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),s.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(la,{className:"w-full",children:[s.jsxs(ft,{value:"paste",className:"flex-1",children:[s.jsx(lI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),s.jsxs(ft,{value:"file",className:"flex-1",children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),s.jsxs(gt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[s.jsxs(Zs,{children:[s.jsx(dh,{className:"h-4 w-4"}),s.jsxs(eo,{children:[s.jsx("strong",{children:"Comment utiliser :"}),s.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[s.jsxs("li",{children:["Saisissez le ",s.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),s.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),s.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),s.jsxs("li",{children:["Les rfrences ",s.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Nom du produit *"}),s.jsx(_e,{value:i,onChange:O=>o(O.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Famille *"}),s.jsxs(st,{value:l,onValueChange:c,children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:gEe.map(O=>s.jsx(Le,{value:O,children:O},O))})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Fournisseur"}),s.jsxs(st,{value:u,onValueChange:d,children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Slectionner..."})}),s.jsxs(at,{children:[s.jsx(Le,{value:" ",children:"Aucun"}),n.map(O=>s.jsx(Le,{value:O,children:O},O))]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[s.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),s.jsx("th",{className:"px-1 py-2 w-8"})]})}),s.jsx("tbody",{children:f.map((O,E)=>s.jsxs("tr",{className:`border-t ${O.refCode&&!O.found?"bg-destructive/5":""}`,children:[s.jsxs("td",{className:"px-2 py-1",children:[s.jsx(_e,{className:`h-8 text-xs ${O.refCode&&!O.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:O.refCode,onChange:$=>b(E,"refCode",$.target.value)}),O.found&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:O.referenceName})]}),s.jsx("td",{className:"px-2 py-1",children:s.jsx(_e,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:O.quantity,onChange:$=>b(E,"quantity",parseInt($.target.value)||1)})}),s.jsx("td",{className:"px-2 py-1",children:s.jsxs(st,{value:String(O.volume),onValueChange:$=>b(E,"volume",parseInt($)),children:[s.jsx(nt,{className:"h-8 text-xs",children:s.jsx(ot,{})}),s.jsx(at,{children:vEe.map($=>s.jsx(Le,{value:String($),children:$},$))})]})}),s.jsx("td",{className:"px-2 py-1",children:O.refCode&&(O.found?s.jsx(ke,{variant:"secondary",className:"text-xs",children:" Trouve"}):s.jsx(ke,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),s.jsx("td",{className:"px-1 py-1 text-center",children:s.jsx("button",{onClick:()=>_(E),className:"text-destructive hover:text-destructive/80",children:s.jsx(ki,{className:"h-4 w-4"})})})]},E))})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:w,children:"+ Ajouter une rfrence"}),s.jsxs("div",{className:"flex items-center gap-3",children:[P.length>0&&s.jsxs("span",{className:"text-xs text-destructive",children:[P.length," non trouve(s)"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[k," rfrence(s) valide(s)"]})]})]})]}),s.jsxs(gt,{value:"file",className:"space-y-4 mt-3",children:[s.jsxs(Zs,{children:[s.jsx(dh,{className:"h-4 w-4"}),s.jsxs(eo,{children:["Formats supports : ",s.jsx("strong",{children:".csv, .tsv"}),s.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),s.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),s.jsx("input",{ref:g,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),s.jsx(ae,{variant:"outline",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},children:"Choisir un fichier"})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:R,children:[s.jsx(ki,{className:"h-4 w-4 mr-1"})," Annuler"]}),s.jsxs(ae,{onClick:A,disabled:!i.trim()||k===0||p,children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Crer le produit (",k," rf.)"]})]})]})})}function xEe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:o,onImportProduct:l,calculateProductCosts:c}){const[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,y]=j.useState(!1),[m,v]=j.useState(null),[g,x]=j.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var P;const N=((P=r.find(k=>k.id===C.category_id))==null?void 0:P.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||N.toLowerCase().includes(u.toLowerCase())}),_=()=>{v(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},w=C=>{v(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{g.name&&(m?await a(m.id,g):await n(g),y(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(bS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_e,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>h(!0),children:[s.jsx(ts,{className:"h-4 w-4 mr-1"})," Importer"]}),s.jsxs(br,{open:p,onOpenChange:y,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{onClick:_,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),s.jsxs(ur,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:m?"Modifier le produit":"Nouveau produit"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(we,{children:"Nom *"}),s.jsx(_e,{value:g.name,onChange:C=>x({...g,name:C.target.value}),placeholder:"Nom du produit"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Catgorie"}),s.jsxs(st,{value:g.category_id||"none",onValueChange:C=>x({...g,category_id:C==="none"?null:C}),children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Aucune catgorie"})}),s.jsxs(at,{children:[s.jsx(Le,{value:"none",children:"Aucune"}),r.map(C=>s.jsx(Le,{value:C.id,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Fournisseur principal"}),s.jsx(_e,{value:g.main_supplier,onChange:C=>x({...g,main_supplier:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Coefficient (MO + assemblage)"}),s.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers",value:g.coefficient,onChange:C=>x({...g,coefficient:parseFloat(C.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Volume d'achat par dfaut"}),s.jsx(_e,{type:"number",className:"font-mono-numbers",value:g.default_volume,onChange:C=>x({...g,default_volume:parseInt(C.target.value)||500})})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Prix TTC public ()"}),s.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers bg-muted",value:g.price_ttc,readOnly:!0,disabled:!0,title:"Gr depuis l'onglet Pricing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gr depuis l'onglet Pricing"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(we,{children:"Commentaires"}),s.jsx(Ti,{value:g.comments,onChange:C=>x({...g,comments:C.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:S,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Produit"}),s.jsx(oe,{children:"Catgorie"}),s.jsx(oe,{children:"Fournisseur"}),s.jsx(oe,{className:"text-right",children:"Coef."}),s.jsx(oe,{className:"text-right",children:"Cot @500"}),s.jsx(oe,{className:"text-right",children:"Prix TTC"}),s.jsx(oe,{className:"text-right",children:"Marge"}),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[b.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const P=c(C.id)[500]||0,k=C.price_ttc>0?(C.price_ttc/1.2-P)/(C.price_ttc/1.2)*100:0;return s.jsxs(Ce,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>o(C),children:[s.jsx(Y,{className:"font-medium",children:C.name}),s.jsx(Y,{children:(()=>{const A=r.find(R=>R.id===C.category_id);return A?s.jsxs(ke,{variant:"outline",className:"gap-1",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:A.color}}),A.name]}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),s.jsx(Y,{children:C.main_supplier||"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),s.jsx(Y,{className:"text-right font-mono-numbers",children:P>0?`${P.toFixed(2)} `:"-"}),s.jsx(Y,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),s.jsx(Y,{className:`text-right font-mono-numbers font-medium ${k>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${k.toFixed(1)}%`:"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),w(C)},children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),i(C.id)},children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),s.jsx(yEe,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const pf=[50,100,200,500,1e3,2e3,5e3,1e4];function bEe({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:o,onBack:l}){const[c,u]=j.useState(""),[d,f]=j.useState(1),h=r.filter(b=>b.product_id===e.id),p=o(e.id),y=e.price_ttc/1.2,m=pf.map(b=>({volume:`${b}`,cost:p[b]||0,margin:y>0?Math.max(0,y-(p[b]||0)):0})),v=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},g=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!g.has(b.id));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:l,children:s.jsx(iI,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsxs(ke,{variant:"outline",children:["Coef. ",e.coefficient]}),s.jsxs(ke,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Code"}),s.jsx(oe,{children:"Rfrence"}),s.jsx(oe,{className:"text-right",children:"Qt"}),pf.map(b=>s.jsxs(oe,{className:"text-right text-xs",children:["@",b]},b)),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[h.map(b=>{const _=t.find(w=>w.id===b.reference_id);return _?s.jsxs(Ce,{children:[s.jsx(Y,{className:"font-mono-numbers",children:_.code}),s.jsx(Y,{children:_.name}),s.jsx(Y,{className:"text-right",children:s.jsx(_e,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:w=>a(b.id,parseFloat(w.target.value)||1)})}),pf.map(w=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:((_.prices[w]||0)*b.quantity).toFixed(2)},w)),s.jsx(Y,{children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),s.jsxs(Ce,{className:"font-semibold bg-muted/30",children:[s.jsxs(Y,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),pf.map(b=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(p[b]||0).toFixed(2)},b)),s.jsx(Y,{})]}),y>0&&s.jsxs(Ce,{className:"font-semibold",children:[s.jsx(Y,{colSpan:3,className:"text-right",children:"Marge ()"}),pf.map(b=>{const _=y-(p[b]||0);return s.jsx(Y,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),s.jsx(Y,{})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(we,{className:"text-xs",children:"Rfrence"}),s.jsxs(st,{value:c,onValueChange:u,children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Choisir une rfrence..."})}),s.jsx(at,{children:x.map(b=>s.jsxs(Le,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),s.jsxs("div",{className:"w-20",children:[s.jsx(we,{className:"text-xs",children:"Qt"}),s.jsx(_e,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),s.jsxs(ae,{size:"sm",onClick:v,disabled:!c,children:[s.jsx(cr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&s.jsxs("div",{className:"financial-card p-4",children:[s.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),s.jsx(un,{width:"100%",height:300,children:s.jsxs(Ld,{data:m,children:[s.jsx(dn,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(gr,{dataKey:"volume",tick:{fontSize:12}}),s.jsx(yr,{tick:{fontSize:12}}),s.jsx(Ht,{formatter:b=>`${b.toFixed(2)} `}),s.jsx(Pr,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&s.jsx(Pr,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function wEe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},f=p=>{l(p),u({name:p.name,description:p.description,color:p.color}),i(!0)},h=async()=>{c.name.trim()&&(o?await r(o.id,c):await t(c),i(!1))};return s.jsxs("div",{className:"financial-card p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"section-title flex items-center gap-2",children:[s.jsx(wS,{className:"h-4 w-4"})," Catgories de produits"]}),s.jsxs(br,{open:a,onOpenChange:i,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{size:"sm",onClick:d,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsx(fr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Nom *"}),s.jsx(_e,{value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Description"}),s.jsx(Ti,{value:c.description,onChange:p=>u({...c,description:p.target.value}),rows:2,placeholder:"Description optionnelle"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Couleur"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(_e,{value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:h,children:o?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Couleur"}),s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Description"}),s.jsx(oe,{})]})}),s.jsx(Bt,{children:e.map(p=>s.jsxs(Ce,{children:[s.jsx(Y,{children:s.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:p.color}})}),s.jsx(Y,{className:"font-medium",children:p.name}),s.jsx(Y,{className:"text-muted-foreground text-sm",children:p.description||"-"}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>f(p),children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))})]})]})}const li=[50,100,200,500,1e3,2e3,5e3,1e4];function jEe({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(new Set),[d,f]=j.useState(new Set),h=v=>{const g=new Set(c);g.has(v)?g.delete(v):g.add(v),u(g)},p=v=>{const g=new Set(d);g.has(v)?g.delete(v):g.add(v),f(g)},y=()=>{const v=e.filter(b=>c.size===0||c.has(b.id)),g=["Produit","Famille","Coef.",...li.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=v.map(b=>{const _=n(b.id),w=b.price_ttc/1.2,S=w>0?((w-(_[500]||0))/w*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...li.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([g,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),Pe.success("Donnes produits copies")},m=()=>{const v=t.filter(b=>d.size===0||d.has(b.id)),g=["Code","Nom","Catgorie","Fournisseur",...li.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=v.map(b=>[b.code,b.name,b.category,b.supplier,...li.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([g,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Pe.success("Donnes rfrences copies")};return s.jsxs(Ea,{defaultValue:"products",className:"space-y-4",children:[s.jsxs(la,{children:[s.jsx(ft,{value:"products",children:"Export Produits"}),s.jsx(ft,{value:"references",children:"Export Rfrences"}),s.jsx(ft,{value:"margins",children:"Analyse Marges"})]}),s.jsxs(gt,{value:"products",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),s.jsxs(ae,{variant:"outline",onClick:y,children:[a?s.jsx(Nl,{className:"h-4 w-4 mr-1"}):s.jsx(Hw,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"w-8"}),s.jsx(oe,{children:"Produit"}),s.jsx(oe,{children:"Famille"}),li.map(v=>s.jsxs(oe,{className:"text-right text-xs",children:["@",v]},v)),s.jsx(oe,{className:"text-right",children:"Prix TTC"})]})}),s.jsx(Bt,{children:e.map(v=>{const g=n(v.id);return s.jsxs(Ce,{className:"cursor-pointer",onClick:()=>h(v.id),children:[s.jsx(Y,{children:s.jsx("input",{type:"checkbox",checked:c.has(v.id),readOnly:!0})}),s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{children:s.jsx(ke,{variant:"secondary",children:v.family})}),li.map(x=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(g[x]||0).toFixed(2)},x)),s.jsx(Y,{className:"text-right font-mono-numbers",children:v.price_ttc.toFixed(2)})]},v.id)})})]})})]}),s.jsxs(gt,{value:"references",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),s.jsxs(ae,{variant:"outline",onClick:m,children:[o?s.jsx(Nl,{className:"h-4 w-4 mr-1"}):s.jsx(Hw,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"w-8"}),s.jsx(oe,{children:"Code"}),s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Fournisseur"}),li.map(v=>s.jsxs(oe,{className:"text-right text-xs",children:["@",v]},v)),s.jsx(oe,{children:"Devise"})]})}),s.jsx(Bt,{children:t.map(v=>s.jsxs(Ce,{className:"cursor-pointer",onClick:()=>p(v.id),children:[s.jsx(Y,{children:s.jsx("input",{type:"checkbox",checked:d.has(v.id),readOnly:!0})}),s.jsx(Y,{className:"font-mono-numbers",children:v.code}),s.jsx(Y,{children:v.name}),s.jsx(Y,{children:v.supplier||"-"}),li.map(g=>s.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(v.prices[g]||0).toFixed(2)},g)),s.jsx(Y,{children:v.currency})]},v.id))})]})})]}),s.jsx(gt,{value:"margins",className:"space-y-4",children:s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Produit"}),s.jsx(oe,{className:"text-right",children:"Prix HT"}),li.map(v=>s.jsxs(oe,{className:"text-right text-xs",children:["Marge @",v]},v))]})}),s.jsx(Bt,{children:e.map(v=>{const g=n(v.id),x=v.price_ttc/1.2;return s.jsxs(Ce,{children:[s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),li.map(b=>{const _=x>0?(x-(g[b]||0))/x*100:0;return s.jsx(Y,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},v.id)})})]})})})]})}const Y2={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function _Ee({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(null),[d,f]=j.useState(Y2),h=e.filter(v=>v.name.toLowerCase().includes(a.toLowerCase())||v.contact_name.toLowerCase().includes(a.toLowerCase())||v.email.toLowerCase().includes(a.toLowerCase())),p=()=>{u(null),f(Y2),l(!0)},y=v=>{u(v.id),f({name:v.name,contact_name:v.contact_name,email:v.email,phone:v.phone,country:v.country,comments:v.comments}),l(!0)},m=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(bS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_e,{placeholder:"Rechercher un fournisseur...",value:a,onChange:v=>i(v.target.value),className:"pl-9"})]}),s.jsxs(ae,{onClick:p,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Nom"}),s.jsx(oe,{children:"Contact"}),s.jsx(oe,{children:"Email"}),s.jsx(oe,{children:"Tlphone"}),s.jsx(oe,{children:"Pays"}),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[h.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(v=>s.jsxs(Ce,{children:[s.jsx(Y,{className:"font-medium",children:v.name}),s.jsx(Y,{children:v.contact_name||"-"}),s.jsx(Y,{children:v.email||"-"}),s.jsx(Y,{children:v.phone||"-"}),s.jsx(Y,{children:v.country}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(v),children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(v.id),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},v.id))]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),s.jsx(br,{open:o,onOpenChange:l,children:s.jsxs(ur,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(we,{children:"Nom *"}),s.jsx(_e,{value:d.name,onChange:v=>f({...d,name:v.target.value}),placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Contact"}),s.jsx(_e,{value:d.contact_name,onChange:v=>f({...d,contact_name:v.target.value}),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Email"}),s.jsx(_e,{type:"email",value:d.email,onChange:v=>f({...d,email:v.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Tlphone"}),s.jsx(_e,{value:d.phone,onChange:v=>f({...d,phone:v.target.value}),placeholder:"+33 ..."})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Pays"}),s.jsx(_e,{value:d.country,onChange:v=>f({...d,country:v.target.value}),placeholder:"France"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(we,{children:"Commentaires"}),s.jsx(Ti,{value:d.comments,onChange:v=>f({...d,comments:v.target.value}),rows:2})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:m,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function SEe(){const{user:e}=Ca(),[t,r]=j.useState([]),[n,a]=j.useState([]),[i,o]=j.useState(!0),l=j.useCallback(async()=>{if(e)try{const[m,v]=await Promise.all([ye.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),ye.from("costflow_meeting_tasks").select("*").order("sort_order")]);m.data&&r(m.data.map(g=>({id:g.id,meeting_date:g.meeting_date,title:g.title||"",content:g.content||"",created_at:g.created_at,updated_at:g.updated_at}))),v.data&&a(v.data.map(g=>({id:g.id,meeting_id:g.meeting_id,description:g.description,is_completed:g.is_completed||!1,sort_order:g.sort_order||0,created_at:g.created_at})))}catch(m){console.error("Meetings fetch error:",m)}finally{o(!1)}},[e]);return j.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async m=>{if(!e)return;const{error:v}=await ye.from("costflow_meetings").insert({user_id:e.id,meeting_date:m.meeting_date||new Date().toISOString().split("T")[0],title:m.title||"",content:m.content||""});v?(Pe.error("Erreur cration runion"),console.error(v)):(Pe.success("Runion cre"),l())},updateMeeting:async(m,v)=>{if(!e)return;const{error:g}=await ye.from("costflow_meetings").update(v).eq("id",m);g?(Pe.error("Erreur mise  jour runion"),console.error(g)):l()},deleteMeeting:async m=>{const{error:v}=await ye.from("costflow_meetings").delete().eq("id",m);v?(Pe.error("Erreur suppression runion"),console.error(v)):(Pe.success("Runion supprime"),l())},createTask:async(m,v)=>{if(!e)return;const g=n.filter(_=>_.meeting_id===m),x=g.length>0?Math.max(...g.map(_=>_.sort_order)):-1,{error:b}=await ye.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:m,description:v,sort_order:x+1});b?(Pe.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(m,v)=>{if(!e)return;const{error:g}=await ye.from("costflow_meeting_tasks").update(v).eq("id",m);g?(Pe.error("Erreur mise  jour tche"),console.error(g)):l()},deleteTask:async m=>{const{error:v}=await ye.from("costflow_meeting_tasks").delete().eq("id",m);v?(Pe.error("Erreur suppression tche"),console.error(v)):l()},getTasksForMeeting:m=>n.filter(v=>v.meeting_id===m),refresh:l}}function fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function CEe(e,t){const r=fn(e);return isNaN(t)?ps(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const zz=6048e5,NEe=864e5,Uz=6e4,Vz=36e5;let PEe={};function o0(){return PEe}function ad(e,t){var l,c,u,d;const r=o0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=fn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ly(e){return ad(e,{weekStartsOn:1})}function Wz(e){const t=fn(e),r=t.getFullYear(),n=ps(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ly(n),i=ps(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ly(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function cy(e){const t=fn(e);return t.setHours(0,0,0,0),t}function X2(e){const t=fn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function EEe(e,t){const r=cy(e),n=cy(t),a=+r-X2(r),i=+n-X2(n);return Math.round((a-i)/NEe)}function kEe(e){const t=Wz(e),r=ps(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ly(r)}function Hz(e,t){const r=t*7;return CEe(e,r)}function AEe(e){return ps(e,Date.now())}function d_(e,t){const r=cy(e),n=cy(t);return+r==+n}function OEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TEe(e){if(!OEe(e)&&typeof e!="number")return!1;const t=fn(e);return!isNaN(Number(t))}function REe(e,t){const r=fn(e.start),n=fn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(fn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function MEe(e){const t=fn(e),r=ps(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $Ee(e,t){const r=t==null?void 0:t.weekStartsOn,n=fn(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const IEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DEe=(e,t,r)=>{let n;const a=IEe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Zc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const LEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zEe={date:Zc({formats:LEe,defaultWidth:"full"}),time:Zc({formats:FEe,defaultWidth:"full"}),dateTime:Zc({formats:BEe,defaultWidth:"full"})},UEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VEe=(e,t,r,n)=>UEe[e];function mi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const WEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XEe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},QEe={ordinalNumber:XEe,era:mi({values:WEe,defaultWidth:"wide"}),quarter:mi({values:HEe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:qEe,defaultWidth:"wide"}),day:mi({values:KEe,defaultWidth:"wide"}),dayPeriod:mi({values:GEe,defaultWidth:"wide",formattingValues:YEe,defaultFormattingWidth:"wide"})};function vi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ZEe(l,f=>f.test(o)):JEe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function JEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ZEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function qz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const eke=/^(\d+)(th|st|nd|rd)?/i,tke=/\d+/i,rke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nke={any:[/^b/i,/^(a|c)/i]},ake={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ike={any:[/1/i,/2/i,/3/i,/4/i]},ske={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fke={ordinalNumber:qz({matchPattern:eke,parsePattern:tke,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:rke,defaultMatchWidth:"wide",parsePatterns:nke,defaultParseWidth:"any"}),quarter:vi({matchPatterns:ake,defaultMatchWidth:"wide",parsePatterns:ike,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:ske,defaultMatchWidth:"wide",parsePatterns:oke,defaultParseWidth:"any"}),day:vi({matchPatterns:lke,defaultMatchWidth:"wide",parsePatterns:cke,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:uke,defaultMatchWidth:"any",parsePatterns:dke,defaultParseWidth:"any"})},hke={code:"en-US",formatDistance:DEe,formatLong:zEe,formatRelative:VEe,localize:QEe,match:fke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pke(e){const t=fn(e);return EEe(t,MEe(t))+1}function mke(e){const t=fn(e),r=+ly(t)-+kEe(t);return Math.round(r/zz)+1}function Kz(e,t){var d,f,h,p;const r=fn(e),n=r.getFullYear(),a=o0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ps(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ad(o,t),c=ps(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ad(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function vke(e,t){var l,c,u,d;const r=o0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Kz(e,t),i=ps(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ad(i,t)}function gke(e,t){const r=fn(e),n=+ad(r,t)-+vke(r,t);return Math.round(n/zz)+1}function Nt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Es={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Nt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Nt(r+1,2)},d(e,t){return Nt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Nt(e.getHours()%12||12,t.length)},H(e,t){return Nt(e.getHours(),t.length)},m(e,t){return Nt(e.getMinutes(),t.length)},s(e,t){return Nt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Nt(a,t.length)}},fc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Es.y(e,t)},Y:function(e,t,r,n){const a=Kz(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Nt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Nt(i,t.length)},R:function(e,t){const r=Wz(e);return Nt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Nt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Nt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Nt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Es.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Nt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=gke(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Nt(a,t.length)},I:function(e,t,r){const n=mke(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Nt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Es.d(e,t)},D:function(e,t,r){const n=pke(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Nt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Nt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Nt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Nt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=fc.noon:n===0?a=fc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=fc.evening:n>=12?a=fc.afternoon:n>=4?a=fc.morning:a=fc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Es.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Es.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Nt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Nt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Es.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Es.s(e,t)},S:function(e,t){return Es.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Z2(n);case"XXXX":case"XX":return Yo(n);case"XXXXX":case"XXX":default:return Yo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Z2(n);case"xxxx":case"xx":return Yo(n);case"xxxxx":case"xxx":default:return Yo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+J2(n,":");case"OOOO":default:return"GMT"+Yo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+J2(n,":");case"zzzz":default:return"GMT"+Yo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Nt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Nt(n,t.length)}};function J2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Nt(i,2)}function Z2(e,t){return e%60===0?(e>0?"-":"+")+Nt(Math.abs(e)/60,2):Yo(e,t)}function Yo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Nt(Math.trunc(n/60),2),i=Nt(n%60,2);return r+a+t+i}const eR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Gz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yke=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return eR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eR(n,t)).replace("{{time}}",Gz(a,t))},xke={p:Gz,P:yke},bke=/^D+$/,wke=/^Y+$/,jke=["D","DD","YY","YYYY"];function _ke(e){return bke.test(e)}function Ske(e){return wke.test(e)}function Cke(e,t,r){const n=Nke(e,t,r);if(console.warn(n),jke.includes(e))throw new RangeError(n)}function Nke(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kke=/^'([^]*?)'?$/,Ake=/''/g,Oke=/[a-zA-Z]/;function Ba(e,t,r){var d,f,h,p,y,m,v,g;const n=o0(),a=(r==null?void 0:r.locale)??n.locale??hke,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,l=fn(e);if(!TEe(l))throw new RangeError("Invalid time value");let c=t.match(Eke).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=xke[b];return _(x,a.formatLong)}return x}).join("").match(Pke).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:Tke(x)};if(Q2[b])return{isToken:!0,value:x};if(b.match(Oke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ske(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&_ke(b))&&Cke(b,t,String(e));const _=Q2[b[0]];return _(l,b,a.localize,u)}).join("")}function Tke(e){const t=e.match(kke);return t?t[1].replace(Ake,"'"):e}function Rke(e){return d_(e,AEe(e))}function Mke(e,t){const n=Lke(e);let a;if(n.date){const c=Fke(n.date,2);a=Bke(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=zke(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Uke(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Im={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$ke=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ike=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dke=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lke(e){const t={},r=e.split(Im.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Im.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Im.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Im.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Fke(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Bke(e,t){if(t===null)return new Date(NaN);const r=e.match($ke);if(!r)return new Date(NaN);const n=!!r[4],a=mf(r[1]),i=mf(r[2])-1,o=mf(r[3]),l=mf(r[4]),c=mf(r[5])-1;if(n)return Kke(t,l,c)?Vke(t,l,c):new Date(NaN);{const u=new Date(0);return!Hke(t,i,o)||!qke(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function mf(e){return e?parseInt(e):1}function zke(e){const t=e.match(Ike);if(!t)return NaN;const r=Hb(t[1]),n=Hb(t[2]),a=Hb(t[3]);return Gke(r,n,a)?r*Vz+n*Uz+a*1e3:NaN}function Hb(e){return e&&parseFloat(e.replace(",","."))||0}function Uke(e){if(e==="Z")return 0;const t=e.match(Dke);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Yke(n,a)?r*(n*Vz+a*Uz):NaN}function Vke(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Wke=[31,null,31,30,31,30,31,31,30,31,30,31];function Yz(e){return e%400===0||e%4===0&&e%100!==0}function Hke(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Wke[t]||(Yz(e)?29:28))}function qke(e,t){return t>=1&&t<=(Yz(e)?366:365)}function Kke(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Gke(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Yke(e,t){return t>=0&&t<=59}function Xke(e,t){return Hz(e,-t)}const Qke={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Jke=(e,t,r)=>{let n;const a=Qke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},Zke={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},eAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tAe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rAe={date:Zc({formats:Zke,defaultWidth:"full"}),time:Zc({formats:eAe,defaultWidth:"full"}),dateTime:Zc({formats:tAe,defaultWidth:"full"})},nAe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},aAe=(e,t,r,n)=>nAe[e],iAe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},sAe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},oAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},lAe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},cAe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},uAe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},dAe=["MMM","MMMM"],fAe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&dAe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:uAe,era:mi({values:iAe,defaultWidth:"wide"}),quarter:mi({values:sAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:oAe,defaultWidth:"wide"}),day:mi({values:lAe,defaultWidth:"wide"}),dayPeriod:mi({values:cAe,defaultWidth:"wide"})},hAe=/^(\d+)(ime|re|me|er|e)?/i,pAe=/\d+/i,mAe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},vAe={any:[/^av/i,/^ap/i]},gAe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},yAe={any:[/1/i,/2/i,/3/i,/4/i]},xAe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},bAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},wAe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},jAe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},_Ae={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},SAe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},CAe={ordinalNumber:qz({matchPattern:hAe,parsePattern:pAe,valueCallback:e=>parseInt(e)}),era:vi({matchPatterns:mAe,defaultMatchWidth:"wide",parsePatterns:vAe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:gAe,defaultMatchWidth:"wide",parsePatterns:yAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:xAe,defaultMatchWidth:"wide",parsePatterns:bAe,defaultParseWidth:"any"}),day:vi({matchPatterns:wAe,defaultMatchWidth:"wide",parsePatterns:jAe,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:_Ae,defaultMatchWidth:"any",parsePatterns:SAe,defaultParseWidth:"any"})},Fc={code:"fr",formatDistance:Jke,formatLong:rAe,formatRelative:aAe,localize:fAe,match:CAe,options:{weekStartsOn:1,firstWeekContainsDate:4}};var NAe="Separator",tR="horizontal",PAe=["horizontal","vertical"],Xz=j.forwardRef((e,t)=>{const{decorative:r,orientation:n=tR,...a}=e,i=EAe(n)?n:tR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx($e.div,{"data-orientation":i,...l,...a,ref:t})});Xz.displayName=NAe;function EAe(e){return PAe.includes(e)}var Qz=Xz;const uy=j.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Qz,{ref:a,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));uy.displayName=Qz.displayName;function kAe(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:o,deleteTask:l,getTasksForMeeting:c}=SEe(),[u,d]=j.useState(null),[f,h]=j.useState(!1),[p,y]=j.useState(!1),[m,v]=j.useState(new Date().toISOString().split("T")[0]),[g,x]=j.useState(""),[b,_]=j.useState(""),[w,S]=j.useState(!1),[C,N]=j.useState(""),[P,k]=j.useState(""),A=e.find(L=>L.id===u),R=u?c(u):[],O=async()=>{g.trim()&&(await r({meeting_date:m,title:g}),x(""),v(new Date().toISOString().split("T")[0]),h(!1))},E=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},$=async()=>{!u||!P.trim()||(await i(u,P.trim()),k(""))},I=()=>{A&&(N(A.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},D=({tasks:L,inFullscreen:B=!1})=>s.jsxs("div",{className:"space-y-1.5",children:[L.map(Q=>s.jsxs("div",{className:"flex items-start gap-2 group",children:[s.jsx(Ll,{checked:Q.is_completed,onCheckedChange:X=>o(Q.id,{is_completed:!!X}),className:"mt-0.5"}),s.jsx("span",{className:`text-sm flex-1 ${Q.is_completed?"line-through text-muted-foreground":""}`,children:Q.description}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(Q.id),children:s.jsx(ki,{className:"h-3 w-3"})})]},Q.id)),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(_e,{placeholder:"Nouvelle tche",value:B?P:b,onChange:Q=>B?k(Q.target.value):_(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&(B?$():E()),className:"text-sm"}),s.jsx(ae,{size:"sm",onClick:B?$:E,disabled:!(B?P:b).trim(),children:s.jsx(cr,{className:"h-4 w-4"})})]})]});return t?s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[s.jsxs(jt,{className:"w-64 shrink-0 flex flex-col",children:[s.jsx(qt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Kt,{className:"text-sm font-medium",children:"Runions"}),s.jsxs(br,{open:f,onOpenChange:h,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[s.jsx(cr,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsx(fr,{children:"Nouvelle runion BE"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Date"}),s.jsx(_e,{type:"date",value:m,onChange:L=>v(L.target.value)})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Titre / Objet"}),s.jsx(_e,{placeholder:"Ex: Runion BE hebdomadaire",value:g,onChange:L=>x(L.target.value),onKeyDown:L=>L.key==="Enter"&&O()})]}),s.jsx(ae,{onClick:O,disabled:!g.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),s.jsxs(Pt,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(L=>{const B=L.id===u,Q=c(L.id).length,X=c(L.id).filter(re=>re.is_completed).length;return s.jsxs("button",{onClick:()=>d(L.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${B?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[s.jsx("div",{className:"font-medium truncate",children:Ba(new Date(L.meeting_date),"dd/MM/yyyy")}),s.jsx("div",{className:`text-xs truncate ${B?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.title||"Sans titre"}),Q>0&&s.jsxs("div",{className:`text-xs mt-0.5 ${B?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",X,"/",Q," tches"]})]},L.id)})]})]}),s.jsx(jt,{className:"flex-1 flex flex-col overflow-hidden",children:A?s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"pb-2 shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(Qm,{className:"h-5 w-5 text-primary"}),Ba(new Date(A.meeting_date),"EEEE d MMMM yyyy",{locale:Fc})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:A.title})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(A.id),d(null))},children:s.jsx(Nr,{className:"h-4 w-4"})})]})}),s.jsxs(Pt,{className:"flex-1 overflow-auto space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[s.jsx(gu,{className:"h-4 w-4"})," Compte-rendu"]}),s.jsxs("div",{className:"flex gap-1",children:[!w&&s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:I,children:"Modifier"}),s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:s.jsx(gW,{className:"h-3.5 w-3.5"})})]})]}),w?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:A.content||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(uy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),s.jsx(D,{tasks:R})]})]}),s.jsx(br,{open:p,onOpenChange:y,children:s.jsxs(ur,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"h-5 w-5 text-primary"}),A&&Ba(new Date(A.meeting_date),"EEEE d MMMM yyyy",{locale:Fc}),A&&s.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",A.title]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[s.jsx(gu,{className:"h-4 w-4"})," Compte-rendu"]}),!w&&s.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:I,children:"Modifier"})]}),w?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):s.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(A==null?void 0:A.content)||s.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),s.jsx(uy,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),s.jsx(D,{tasks:R,inFullscreen:!0})]})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Qm,{className:"h-12 w-12 mx-auto opacity-30"}),s.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function Jz(){const[e,t]=j.useState([]),[r,n]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(!0),c=j.useCallback(async()=>{try{const[b,_,w]=await Promise.all([ye.from("costflow_planning_colors").select("*").order("sort_order"),ye.from("costflow_planning_rows").select("*").order("sort_order"),ye.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(w.error)throw w.error;t(b.data||[]),n(_.data||[]),i(w.data||[])}catch(b){Pe.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);j.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await ye.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:o,createColor:async(b,_)=>{const w=await u();if(!w)return;const{data:S,error:C}=await ye.from("costflow_planning_colors").insert({user_id:w,name:b,color:_,sort_order:e.length}).select().single();if(C){Pe.error(C.message);return}t(N=>[...N,S])},updateColor:async(b,_)=>{const{error:w}=await ye.from("costflow_planning_colors").update(_).eq("id",b);if(w){Pe.error(w.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await ye.from("costflow_planning_colors").delete().eq("id",b);if(_){Pe.error(_.message);return}t(w=>w.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:w,error:S}=await ye.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){Pe.error(S.message);return}n(C=>[...C,w])},updateRow:async(b,_)=>{const{error:w}=await ye.from("costflow_planning_rows").update({label:_}).eq("id",b);if(w){Pe.error(w.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await ye.from("costflow_planning_rows").delete().eq("id",b);if(_){Pe.error(_.message);return}n(w=>w.filter(S=>S.id!==b)),i(w=>w.filter(S=>S.row_id!==b))},createBlock:async(b,_,w,S,C)=>{const N=await u();if(!N)return;const{data:P,error:k}=await ye.from("costflow_planning_blocks").insert({user_id:N,row_id:b,start_month:_,duration:w,color_id:S,label:C}).select().single();if(k){Pe.error(k.message);return}i(A=>[...A,P])},updateBlock:async(b,_)=>{const{error:w}=await ye.from("costflow_planning_blocks").update(_).eq("id",b);if(w){Pe.error(w.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await ye.from("costflow_planning_blocks").delete().eq("id",b);if(_){Pe.error(_.message);return}i(w=>w.filter(S=>S.id!==b))}}}function AAe(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),a=j.useCallback(async()=>{try{const{data:c,error:u}=await ye.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){Pe.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return j.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var p;const{data:d}=await ye.auth.getUser(),f=(p=d.user)==null?void 0:p.id;if(!f)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await ye.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){Pe.error(y.message);return}t(m=>m.map(v=>v.id===h.id?{...v,content:u,updated_at:new Date().toISOString()}:v))}else{const{data:y,error:m}=await ye.from("costflow_planning_notes").insert({user_id:f,block_id:c,content:u}).select().single();if(m){Pe.error(m.message);return}t(v=>[y,...v])}Pe.success("Note sauvegarde")}}}function OAe({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:o}){const[l,c]=j.useState("");if(j.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=o[r.start_month-1]||`M${r.start_month}`,d=r.start_month+r.duration-1,f=o[d-1]||`M${d}`;return s.jsx(br,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[n&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),s.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",f,")"]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ti,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs(ae,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[s.jsx(xS,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function TAe(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var NN="ScrollArea",[Zz,FOe]=Nn(NN),[RAe,Aa]=Zz(NN),eU=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=j.useState(null),[u,d]=j.useState(null),[f,h]=j.useState(null),[p,y]=j.useState(null),[m,v]=j.useState(null),[g,x]=j.useState(0),[b,_]=j.useState(0),[w,S]=j.useState(!1),[C,N]=j.useState(!1),P=Qe(t,A=>c(A)),k=xd(a);return s.jsx(RAe,{scope:r,type:n,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx($e.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});eU.displayName=NN;var tU="ScrollAreaViewport",rU=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Aa(tU,r),l=j.useRef(null),c=Qe(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx($e.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});rU.displayName=tU;var Li="ScrollAreaScrollbar",PN=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Aa(Li,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(MAe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx($Ae,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(nU,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(EN,{...n,ref:t}):null});PN.displayName=Li;var MAe=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Aa(Li,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(zn,{present:r||i,children:s.jsx(nU,{"data-state":i?"visible":"hidden",...n,ref:t})})}),$Ae=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Aa(Li,e.__scopeScrollArea),i=e.orientation==="horizontal",o=c0(()=>c("SCROLL_END"),100),[l,c]=TAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(zn,{present:r||l!=="hidden",children:s.jsx(EN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),nU=j.forwardRef((e,t)=>{const r=Aa(Li,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=j.useState(!1),l=e.orientation==="horizontal",c=c0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return id(r.viewport,c),id(r.content,c),s.jsx(zn,{present:n||i,children:s.jsx(EN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),EN=j.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Aa(Li,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lU(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return zAe(h,o.current,l,p)}return r==="horizontal"?s.jsx(IAe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=rR(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(DAe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=rR(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),IAe=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Aa(Li,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Qe(t,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(iU,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":l0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),uU(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:fy(o.paddingLeft),paddingEnd:fy(o.paddingRight)}})}})}),DAe=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Aa(Li,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Qe(t,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(iU,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":l0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),uU(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:fy(o.paddingTop),paddingEnd:fy(o.paddingBottom)}})}})}),[LAe,aU]=Zz(Li),iU=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Aa(Li,r),[y,m]=j.useState(null),v=Qe(t,P=>m(P)),g=j.useRef(null),x=j.useRef(""),b=p.viewport,_=n.content-n.viewport,w=Mr(d),S=Mr(c),C=c0(f,10);function N(P){if(g.current){const k=P.clientX-g.current.left,A=P.clientY-g.current.top;u({x:k,y:A})}}return j.useEffect(()=>{const P=k=>{const A=k.target;(y==null?void 0:y.contains(A))&&w(k,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,_,w]),j.useEffect(S,[n,S]),id(y,C),id(p.content,C),s.jsx(LAe,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Mr(i),onThumbPointerUp:Mr(o),onThumbPositionChange:S,onThumbPointerDown:Mr(l),children:s.jsx($e.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(P))}),onPointerMove:Ne(e.onPointerMove,N),onPointerUp:Ne(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),dy="ScrollAreaThumb",sU=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=aU(dy,e.__scopeScrollArea);return s.jsx(zn,{present:r||a.hasThumb,children:s.jsx(FAe,{ref:t,...n})})}),FAe=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Aa(dy,r),o=aU(dy,r),{onThumbPositionChange:l}=o,c=Qe(t,f=>o.onThumbChange(f)),u=j.useRef(void 0),d=c0(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=UAe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx($e.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});sU.displayName=dy;var kN="ScrollAreaCorner",oU=j.forwardRef((e,t)=>{const r=Aa(kN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(BAe,{...e,ref:t}):null});oU.displayName=kN;var BAe=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Aa(kN,r),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return id(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),id(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx($e.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function fy(e){return e?parseInt(e,10):0}function lU(e,t){const r=e/t;return isNaN(r)?0:r}function l0(e){const t=lU(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zAe(e,t,r,n="ltr"){const a=l0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return cU([c,u],f)(e)}function rR(e,t,r="ltr"){const n=l0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=bh(e,c);return cU([0,o],[0,l])(u)}function cU(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function uU(e,t){return e>0&&e<t}var UAe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function c0(e,t){const r=Mr(e),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function id(e,t){const r=Mr(t);Vr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var dU=eU,VAe=rU,WAe=oU;const fU=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dU,{ref:n,className:ne("relative overflow-hidden",e),...r,children:[s.jsx(VAe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(hU,{}),s.jsx(WAe,{})]}));fU.displayName=dU.displayName;const hU=j.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(PN,{ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(sU,{className:"relative flex-1 rounded-full bg-border"})}));hU.displayName=PN.displayName;function HAe({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:o,onOpenBlockNote:l}){const c=d=>i.find(f=>f.id===d),u=[...n].sort((d,f)=>d.start_month-f.start_month);return s.jsx(br,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-3xl max-h-[85vh]",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[s.jsx(gu,{className:"h-5 w-5"}),"Notes  ",r]})}),s.jsx(fU,{className:"max-h-[65vh] pr-2",children:u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):s.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=c(d.color_id),h=a.find(v=>v.block_id===d.id),p=o[d.start_month-1]||`M${d.start_month}`,y=d.start_month+d.duration-1,m=o[y-1]||`M${y}`;return s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(d)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f.color}}),s.jsx("span",{className:"font-medium text-sm",children:d.label||(f==null?void 0:f.name)||"Bloc"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[p,"  ",m]})]}),h?s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},d.id)})})})]})})}const pU=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function qAe(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:pU[(n-1)%12],globalIndex:n});return r}function mU(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:o,createRow:l,updateRow:c,deleteRow:u,createBlock:d,updateBlock:f,deleteBlock:h}=Jz(),{notes:p,getNotesForBlock:y,getNotesForBlocks:m,upsertNote:v}=AAe(),[g,x]=j.useState(1),[b,_]=j.useState(12),[w,S]=j.useState(""),[C,N]=j.useState(null),[P,k]=j.useState(""),[A,R]=j.useState(!1),[O,E]=j.useState(""),[$,I]=j.useState("#3b82f6"),[M,D]=j.useState(null),[L,B]=j.useState(!1),[Q,X]=j.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[re,z]=j.useState(null),[U,V]=j.useState(null),[H,he]=j.useState(!1),[J,te]=j.useState(null),[W,G]=j.useState(!1),[pe,K]=j.useState(null),ce=j.useRef(null),le=qAe(g,b),je=le.length;le.map(ue=>ue.label);const Be=ue=>e.find(ze=>ze.id===ue),Je=ue=>{const ze=[...ue].sort((ht,lt)=>ht.start_month-lt.start_month),bt=[],hr=[];for(const ht of ze){const lt=ht.start_month+ht.duration;let En=!1;for(let pn=0;pn<hr.length;pn++)if(ht.start_month>=hr[pn]){hr[pn]=lt,bt.push({blockId:ht.id,lane:pn}),En=!0;break}En||(bt.push({blockId:ht.id,lane:hr.length}),hr.push(lt))}return{lanes:bt,maxLane:hr.length}},F=()=>{w.trim()&&(l(w.trim()),S(""))},q=ue=>{P.trim()&&c(ue,P.trim()),N(null)},Z=(ue,ze)=>{var bt;X({row_id:ue,start_month:ze,duration:1,color_id:((bt=e[0])==null?void 0:bt.id)||"",label:""}),z(null),B(!0)},me=ue=>{X({row_id:ue.row_id,start_month:ue.start_month,duration:ue.duration,color_id:ue.color_id||"",label:ue.label}),z(ue.id),B(!0)},ie=()=>{const{row_id:ue,start_month:ze,duration:bt,color_id:hr,label:ht}=Q,lt=hr||null;re?f(re,{row_id:ue,start_month:ze,duration:bt,color_id:lt,label:ht}):d(ue,ze,bt,lt,ht),B(!1)},fe=()=>{O.trim()&&(M?i(M,{name:O.trim(),color:$}):a(O.trim(),$),E(""),I("#3b82f6"),D(null),R(!1))},be=ue=>{D(ue.id),E(ue.name),I(ue.color),R(!0)},Ve=ue=>{V(ue),he(!0)},Ge=(ue,ze)=>{ue.preventDefault();const bt=ce.current;if(!bt)return;const hr=bt.getBoundingClientRect(),ht=hr.width/je,lt=Math.floor((ue.clientX-hr.left)/ht)+g;K({blockId:ze.id,offsetMonth:lt-ze.start_month})},Jt=j.useCallback(ue=>{if(!pe||!ce.current)return;const ze=ce.current.getBoundingClientRect(),bt=ze.width/je;let ht=Math.floor((ue.clientX-ze.left)/bt)+g-pe.offsetMonth;const lt=r.find(En=>En.id===pe.blockId);lt&&(ht=Math.max(1,Math.min(ht,36-lt.duration)),ht!==lt.start_month&&f(pe.blockId,{start_month:ht}))},[pe,r,f,je,g]),Pn=j.useCallback(()=>{K(null)},[]);if(n)return s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const Er=Array.from({length:36},(ue,ze)=>{const bt=ze+1,hr=Math.floor(ze/12)+1,ht=`${pU[ze%12]} (A${hr})`;return{value:bt,label:ht}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Kt,{className:"text-sm font-medium",children:"Lgende des couleurs"}),s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{D(null),E(""),I("#3b82f6"),R(!0)},children:[s.jsx(cr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),s.jsx(Pt,{children:e.length===0?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):s.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(ue=>s.jsxs("div",{className:"flex items-center gap-2 group",children:[s.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:ue.color}}),s.jsx("span",{className:"text-sm",children:ue.name}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>be(ue),children:s.jsx(kv,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>o(ue.id),children:s.jsx(ki,{className:"h-3 w-3"})})]},ue.id))})})]}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Kt,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(_e,{placeholder:"Nouveau produit",value:w,onChange:ue=>S(ue.target.value),onKeyDown:ue=>ue.key==="Enter"&&F(),className:"h-7 text-xs w-48"}),s.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:F,disabled:!w.trim(),children:[s.jsx(cr,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(we,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),s.jsxs(st,{value:String(g),onValueChange:ue=>{const ze=Number(ue);x(ze),ze>b&&_(ze)},children:[s.jsx(nt,{className:"h-7 text-xs w-32",children:s.jsx(ot,{})}),s.jsx(at,{children:Er.map(ue=>s.jsx(Le,{value:String(ue.value),children:ue.label},ue.value))})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(we,{className:"text-xs whitespace-nowrap",children:"Fin :"}),s.jsxs(st,{value:String(b),onValueChange:ue=>{const ze=Number(ue);_(ze),ze<g&&x(ze)},children:[s.jsx(nt,{className:"h-7 text-xs w-32",children:s.jsx(ot,{})}),s.jsx(at,{children:Er.filter(ue=>ue.value>=g).map(ue=>s.jsx(Le,{value:String(ue.value),children:ue.label},ue.value))})]})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[je," mois affichs"]})]})]})}),s.jsx(Pt,{className:"overflow-x-auto p-0",children:s.jsxs("div",{className:"min-w-[900px]",onMouseMove:Jt,onMouseUp:Pn,onMouseLeave:Pn,children:[s.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${je}, 1fr)`},children:[s.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),le.map((ue,ze)=>s.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:ue.label},ze))]}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(ue=>{const ze=r.filter(lt=>lt.row_id===ue.id),{lanes:bt,maxLane:hr}=Je(ze),ht=Math.max(44,hr*32+12);return s.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${je}, 1fr)`,minHeight:ht},children:[s.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:ht},children:C===ue.id?s.jsx(_e,{value:P,onChange:lt=>k(lt.target.value),onBlur:()=>q(ue.id),onKeyDown:lt=>lt.key==="Enter"&&q(ue.id),autoFocus:!0,className:"h-6 text-xs"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"truncate flex-1 font-medium",children:ue.label}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{te({id:ue.id,label:ue.label}),G(!0)},title:"Voir toutes les notes",children:s.jsx(gu,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{N(ue.id),k(ue.label)},children:s.jsx(kv,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(ue.id)},children:s.jsx(Nr,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${je+2}`,minHeight:ht},ref:ce,children:[s.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${je}, 1fr)`},children:le.map((lt,En)=>s.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>Z(ue.id,lt.globalIndex)},En))}),ze.map(lt=>{const En=lt.start_month+lt.duration;if(En<=g||lt.start_month>b)return null;const pn=Be(lt.color_id),Dp=(pn==null?void 0:pn.color)||"#94a3b8",Lp=Math.max(lt.start_month,g),zd=Math.min(En,b+1),si=`${(Lp-g)/je*100}%`,u0=`${(zd-Lp)/je*100}%`,Ye=bt.find(An=>An.blockId===lt.id),Tt=4+((Ye==null?void 0:Ye.lane)||0)*32,kn=y(lt.id),Vn=kn.length>0&&kn[0].content.trim()!=="";return s.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:si,width:u0,backgroundColor:Dp,top:Tt,height:28,cursor:pe?"grabbing":"grab",zIndex:(pe==null?void 0:pe.blockId)===lt.id?10:1},onMouseDown:An=>Ge(An,lt),onDoubleClick:()=>me(lt),onClick:An=>{pe||(An.stopPropagation(),Ve(lt))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[s.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:lt.label||(pn==null?void 0:pn.name)||""}),Vn&&s.jsx(SW,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},lt.id)})]})]},ue.id)})]})})]}),s.jsx(br,{open:A,onOpenChange:R,children:s.jsxs(ur,{className:"max-w-sm",children:[s.jsx(dr,{children:s.jsx(fr,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Nom / Dfinition"}),s.jsx(_e,{value:O,onChange:ue=>E(ue.target.value),placeholder:"Ex: Sortie publique valide"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Couleur"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"color",value:$,onChange:ue=>I(ue.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),s.jsx(_e,{value:$,onChange:ue=>I(ue.target.value),className:"w-28 text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{onClick:fe,disabled:!O.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&s.jsx(ae,{variant:"destructive",onClick:()=>{o(M),R(!1)},children:"Supprimer"})]})]})]})}),s.jsx(br,{open:L,onOpenChange:B,children:s.jsxs(ur,{className:"max-w-sm",children:[s.jsx(dr,{children:s.jsx(fr,{children:re?"Modifier le bloc":"Nouveau bloc"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Label"}),s.jsx(_e,{value:Q.label,onChange:ue=>X(ze=>({...ze,label:ue.target.value})),placeholder:"Ex: Prototype"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Mois de dbut"}),s.jsxs(st,{value:String(Q.start_month),onValueChange:ue=>X(ze=>({...ze,start_month:Number(ue)})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:Er.map(ue=>s.jsx(Le,{value:String(ue.value),children:ue.label},ue.value))})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Dure (mois)"}),s.jsxs(st,{value:String(Q.duration),onValueChange:ue=>X(ze=>({...ze,duration:Number(ue)})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsx(at,{children:Array.from({length:24},(ue,ze)=>ze+1).map(ue=>s.jsxs(Le,{value:String(ue),children:[ue," mois"]},ue))})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Couleur"}),s.jsxs(st,{value:Q.color_id||"none",onValueChange:ue=>X(ze=>({...ze,color_id:ue==="none"?"":ue})),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"none",children:"Sans couleur"}),e.map(ue=>s.jsx(Le,{value:ue.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:ue.color}}),ue.name]})},ue.id))]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{onClick:ie,className:"flex-1",children:re?"Mettre  jour":"Crer"}),re&&s.jsx(ae,{variant:"destructive",onClick:()=>{h(re),B(!1)},children:"Supprimer"})]})]})]})}),s.jsx(OAe,{open:H,onOpenChange:he,block:U,color:U?Be(U.color_id):void 0,existingNote:U?y(U.id)[0]:void 0,onSave:v,monthLabels:Er.map(ue=>ue.label)}),J&&s.jsx(HAe,{open:W,onOpenChange:G,rowLabel:J.label,rowBlocks:r.filter(ue=>ue.row_id===J.id),notes:m(r.filter(ue=>ue.row_id===J.id).map(ue=>ue.id)),colors:e,monthLabels:Er.map(ue=>ue.label),onOpenBlockNote:Ve})]})}function KAe(){const e=CN(),[t,r]=j.useState(null),[n,a]=j.useState(null),[i,o]=j.useState("references");return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx(Di,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),s.jsxs(Ea,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(la,{children:[s.jsx(ft,{value:"references",children:" Rfrences"}),s.jsx(ft,{value:"products",children:" Produits"}),s.jsx(ft,{value:"suppliers",children:" Fournisseurs"}),s.jsx(ft,{value:"costs",children:" Cots & Export"}),s.jsx(ft,{value:"meetings",children:" Runions BE"}),s.jsx(ft,{value:"planning",children:" Planning Dev"})]}),s.jsx(gt,{value:"references",children:t?s.jsx(mEe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):s.jsx(hEe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),s.jsx(gt,{value:"products",children:n?s.jsx(bEe,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(xEe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),s.jsx(wEe,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),s.jsx(gt,{value:"suppliers",children:s.jsx(_Ee,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),s.jsx(gt,{value:"costs",children:s.jsx(jEe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),s.jsx(gt,{value:"meetings",children:s.jsx(kAe,{})}),s.jsx(gt,{value:"planning",children:s.jsx(mU,{})})]})]})})}function GAe(){const{user:e,userRole:t}=Ca(),[r,n]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(!0),c=t==="admin"||t==="finance",u=j.useCallback(async()=>{if(e){l(!0);try{const[v,g]=await Promise.all([ye.from("timetracking_categories").select("*").order("name"),ye.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);v.data&&n(v.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),g.data&&i(g.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(v){console.error("TimeTracking fetch error:",v)}finally{l(!1)}}},[e]);return j.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:o,canManageCategories:c,createCategory:async(v,g)=>{if(!e)return;const{error:x}=await ye.from("timetracking_categories").insert({user_id:e.id,name:v,color:g});x?(Pe.error("Erreur cration catgorie"),console.error(x)):(Pe.success("Catgorie cre"),u())},updateCategory:async(v,g)=>{const{error:x}=await ye.from("timetracking_categories").update(g).eq("id",v);x?(Pe.error("Erreur mise  jour catgorie"),console.error(x)):(Pe.success("Catgorie mise  jour"),u())},deleteCategory:async v=>{const{error:g}=await ye.from("timetracking_categories").delete().eq("id",v);g?(Pe.error("Erreur suppression catgorie"),console.error(g)):(Pe.success("Catgorie supprime"),u())},createEntry:async v=>{if(!e)return;const{error:g}=await ye.from("timetracking_entries").insert({user_id:e.id,date:v.date,category_id:v.category_id||null,task_description:v.task_description,duration_minutes:v.duration_minutes||0,comments:v.comments||""});g?(Pe.error("Erreur cration entre"),console.error(g)):(Pe.success("Temps enregistr"),u())},updateEntry:async(v,g)=>{const{error:x}=await ye.from("timetracking_entries").update(g).eq("id",v);x?(Pe.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async v=>{const{error:g}=await ye.from("timetracking_entries").delete().eq("id",v);g?(Pe.error("Erreur suppression"),console.error(g)):u()},refresh:u}}function qb(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function YAe({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,o]=j.useState(()=>ad(new Date,{weekStartsOn:1})),[l,c]=j.useState(new Date),[u,d]=j.useState(!1),[f,h]=j.useState(null),[p,y]=j.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),m=$Ee(i,{weekStartsOn:1}),v=REe({start:i,end:m}),g=j.useMemo(()=>e.filter(N=>d_(Mke(N.date),l)),[e,l]),x=j.useMemo(()=>{const N={};return v.forEach(P=>{const k=Ba(P,"yyyy-MM-dd");N[k]=e.filter(A=>A.date===k).reduce((A,R)=>A+R.duration_minutes,0)}),N},[e,v]),b=g.reduce((N,P)=>N+P.duration_minutes,0),_=N=>t.find(P=>P.id===N),w=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=N=>{h(N.id),y({task_description:N.task_description,category_id:N.category_id||"",duration_hours:Math.floor(N.duration_minutes/60),duration_minutes:N.duration_minutes%60,comments:N.comments}),d(!0)},C=async()=>{if(!p.task_description.trim())return;const N=p.duration_hours*60+p.duration_minutes,P={date:Ba(l,"yyyy-MM-dd"),task_description:p.task_description,category_id:p.category_id||null,duration_minutes:N,comments:p.comments};f?await n(f,P):await r(P),d(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o(Xke(i,1)),children:s.jsx(oW,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",Ba(i,"d MMMM",{locale:Fc})," au ",Ba(m,"d MMMM yyyy",{locale:Fc})]}),s.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o(Hz(i,1)),children:s.jsx(Ww,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map(N=>{const P=Ba(N,"yyyy-MM-dd"),k=x[P]||0,A=d_(N,l);return s.jsxs("button",{onClick:()=>c(N),className:`p-3 rounded-lg border text-center transition-colors ${A?"bg-primary text-primary-foreground border-primary":Rke(N)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[s.jsx("div",{className:"text-xs font-medium",children:Ba(N,"EEE",{locale:Fc})}),s.jsx("div",{className:"text-lg font-bold",children:Ba(N,"d")}),k>0&&s.jsx("div",{className:`text-xs mt-1 ${A?"text-primary-foreground/80":"text-muted-foreground"}`,children:qb(k)})]},P)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:Ba(l,"EEEE d MMMM yyyy",{locale:Fc})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(gS,{className:"h-3.5 w-3.5"}),"Total : ",qb(b)]})]}),s.jsxs(ae,{onClick:w,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{children:"Catgorie"}),s.jsx(oe,{children:"Tche"}),s.jsx(oe,{className:"text-right",children:"Dure"}),s.jsx(oe,{children:"Commentaire"}),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[g.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),g.map(N=>{const P=_(N.category_id);return s.jsxs(Ce,{children:[s.jsx(Y,{children:P?s.jsxs(ke,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),P.name]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(Y,{className:"font-medium",children:N.task_description}),s.jsx(Y,{className:"text-right font-mono-numbers",children:qb(N.duration_minutes)}),s.jsx(Y,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:N.comments||""}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>S(N),children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>a(N.id),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},N.id)})]})]})}),s.jsx(br,{open:u,onOpenChange:d,children:s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsx(fr,{children:f?"Modifier la tche":"Nouvelle tche"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Tche *"}),s.jsx(_e,{value:p.task_description,onChange:N=>y({...p,task_description:N.target.value}),placeholder:"Description de la tche..."})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Catgorie"}),s.jsxs(st,{value:p.category_id||"none",onValueChange:N=>y({...p,category_id:N==="none"?"":N}),children:[s.jsx(nt,{children:s.jsx(ot,{placeholder:"Slectionner..."})}),s.jsxs(at,{children:[s.jsx(Le,{value:"none",children:"Aucune"}),t.map(N=>s.jsx(Le,{value:N.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]})},N.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Dure"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{type:"number",min:0,max:23,className:"w-20 text-right",value:p.duration_hours,onChange:N=>y({...p,duration_hours:parseInt(N.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),s.jsx(_e,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:p.duration_minutes,onChange:N=>y({...p,duration_minutes:parseInt(N.target.value)||0})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Commentaire"}),s.jsx(Ti,{value:p.comments,onChange:N=>y({...p,comments:N.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:C,disabled:!p.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const XAe=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function QAe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(""),[d,f]=j.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),i(!0)},p=m=>{l(m.id),u(m.name),f(m.color),i(!0)},y=async()=>{c.trim()&&(o?await r(o,{name:c,color:d}):await t(c,d),i(!1))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),s.jsxs(ae,{onClick:h,children:[s.jsx(cr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),s.jsx("div",{className:"border rounded overflow-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"w-12",children:"Couleur"}),s.jsx(oe,{children:"Nom"}),s.jsx(oe,{})]})}),s.jsxs(Bt,{children:[e.length===0&&s.jsx(Ce,{children:s.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(m=>s.jsxs(Ce,{children:[s.jsx(Y,{children:s.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:m.color}})}),s.jsx(Y,{className:"font-medium",children:m.name}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>p(m),children:s.jsx(dd,{className:"h-3 w-3"})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:s.jsx(Nr,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))]})]})}),s.jsx(br,{open:a,onOpenChange:i,children:s.jsxs(ur,{className:"max-w-sm",children:[s.jsx(dr,{children:s.jsx(fr,{children:o?"Modifier la catgorie":"Nouvelle catgorie"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Nom *"}),s.jsx(_e,{value:c,onChange:m=>u(m.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Couleur"}),s.jsx("div",{className:"flex gap-2 mt-2",children:XAe.map(m=>s.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===m?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:m},onClick:()=>f(m)},m))})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ae,{onClick:y,disabled:!c.trim(),children:o?"Mettre  jour":"Crer"})})]})})]})}function JAe(){const e=GAe();return e.loading?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),s.jsxs(Ea,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(la,{children:[s.jsx(ft,{value:"entries",children:" Mes entres"}),e.canManageCategories&&s.jsx(ft,{value:"categories",children:" Catgories"})]}),s.jsx(gt,{value:"entries",children:s.jsx(YAe,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&s.jsx(gt,{value:"categories",children:s.jsx(QAe,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const nR="novaride_financial_state_v5";function ZAe(){const{user:e,isAdmin:t,getTabPermission:r}=Ca(),[n,a]=j.useState([]),[i,o]=j.useState(!0),l=j.useCallback(()=>!!e,[e,t]),c=j.useCallback(async()=>{if(!e){o(!1);return}try{const{data:m}=await ye.from("snapshots").select("*").order("created_at",{ascending:!1});m&&a(m.map(v=>({id:v.id,name:v.name,comment:v.comment,createdAt:v.created_at,stateData:JSON.stringify(v.state_data)})))}catch{}finally{o(!1)}},[e]);j.useEffect(()=>{c()},[c]);const u=j.useCallback(async(m,v)=>{if(!e)return!1;try{const g=localStorage.getItem(nR);if(!g)return!1;const{data:x,error:b}=await ye.from("snapshots").insert({user_id:e.id,name:m,comment:v,state_data:JSON.parse(g)}).select().single();if(b||!x)return!1;const _=x;return a(w=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...w]),Yr({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=j.useCallback(m=>{const v=n.find(g=>g.id===m);return v?(localStorage.setItem(nR,v.stateData),Yr({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=j.useCallback(async m=>!1,[]),h=j.useCallback(async m=>e?(await ye.from("snapshots").delete().eq("id",m),a(v=>v.filter(g=>g.id!==m)),!0):!1,[e]),p=j.useCallback(async(m,v)=>!1,[]),y=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:p,formatDate:y}}var vU="AlertDialog",[eOe,BOe]=Nn(vU,[b5]),_s=b5(),gU=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return s.jsx(I5,{...n,...r,modal:!0})};gU.displayName=vU;var tOe="AlertDialogTrigger",yU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return s.jsx(D5,{...a,...n,ref:t})});yU.displayName=tOe;var rOe="AlertDialogPortal",xU=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return s.jsx(L5,{...n,...r})};xU.displayName=rOe;var nOe="AlertDialogOverlay",bU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return s.jsx(oN,{...a,...n,ref:t})});bU.displayName=nOe;var eu="AlertDialogContent",[aOe,iOe]=eOe(eu),sOe=T$("AlertDialogContent"),wU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=_s(r),o=j.useRef(null),l=Qe(t,o),c=j.useRef(null);return s.jsx(ICe,{contentName:eu,titleName:jU,docsSlug:"alert-dialog",children:s.jsx(aOe,{scope:r,cancelRef:c,children:s.jsxs(lN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(sOe,{children:n}),s.jsx(lOe,{contentRef:o})]})})})});wU.displayName=eu;var jU="AlertDialogTitle",_U=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return s.jsx(cN,{...a,...n,ref:t})});_U.displayName=jU;var SU="AlertDialogDescription",CU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return s.jsx(uN,{...a,...n,ref:t})});CU.displayName=SU;var oOe="AlertDialogAction",NU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return s.jsx(dN,{...a,...n,ref:t})});NU.displayName=oOe;var PU="AlertDialogCancel",EU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=iOe(PU,r),i=_s(r),o=Qe(t,a);return s.jsx(dN,{...i,...n,ref:o})});EU.displayName=PU;var lOe=({contentRef:e})=>{const t=`\`${eu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${eu}\` by passing a \`${SU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${eu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},cOe=gU,uOe=yU,dOe=xU,kU=bU,AU=wU,OU=NU,TU=EU,RU=_U,MU=CU;const aR=cOe,iR=uOe,fOe=dOe,$U=j.forwardRef(({className:e,...t},r)=>s.jsx(kU,{className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$U.displayName=kU.displayName;const f_=j.forwardRef(({className:e,...t},r)=>s.jsxs(fOe,{children:[s.jsx($U,{}),s.jsx(AU,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));f_.displayName=AU.displayName;const h_=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});h_.displayName="AlertDialogHeader";const p_=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p_.displayName="AlertDialogFooter";const m_=j.forwardRef(({className:e,...t},r)=>s.jsx(RU,{ref:r,className:ne("text-lg font-semibold",e),...t}));m_.displayName=RU.displayName;const v_=j.forwardRef(({className:e,...t},r)=>s.jsx(MU,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));v_.displayName=MU.displayName;const g_=j.forwardRef(({className:e,...t},r)=>s.jsx(OU,{ref:r,className:ne(US(),e),...t}));g_.displayName=OU.displayName;const y_=j.forwardRef(({className:e,...t},r)=>s.jsx(TU,{ref:r,className:ne(US({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));y_.displayName=TU.displayName;function hOe(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=ZAe(),{getTabPermission:o,isAdmin:l}=Ca(),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),m=o("snapshots")==="write",v=async()=>{if(!c.trim()){Yr({title:"Nom requis",variant:"destructive"});return}p(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),p(!1)};return t?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx(Di,{tabKey:"snapshots",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ys,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),m&&s.jsxs(jt,{children:[s.jsxs(qt,{children:[s.jsxs(Kt,{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),s.jsx(kl,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),s.jsx(Pt,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Nom"}),s.jsx(_e,{value:c,onChange:g=>u(g.target.value),placeholder:"Ex: Budget V2 valid"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Commentaire (optionnel)"}),s.jsx(Ti,{value:d,onChange:g=>f(g.target.value),placeholder:"Notes...",rows:1})]}),s.jsxs(ae,{onClick:v,disabled:h,children:[h?s.jsx(_i,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(xS,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),s.jsxs(jt,{children:[s.jsxs(qt,{children:[s.jsxs(Kt,{className:"flex items-center gap-2",children:[s.jsx(uI,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),s.jsxs(kl,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),s.jsx(Pt,{children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):s.jsx("div",{className:"space-y-3",children:e.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:g.name}),s.jsx(ke,{variant:"outline",className:"text-xs",children:i(g.createdAt)})]}),g.comment&&s.jsx("p",{className:"text-sm text-muted-foreground",children:g.comment})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[m&&s.jsxs(aR,{children:[s.jsx(iR,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Ty,{className:"h-4 w-4 mr-1"}),"Charger"]})}),s.jsxs(f_,{children:[s.jsxs(h_,{children:[s.jsx(m_,{children:"Restaurer cette sauvegarde ?"}),s.jsxs(v_,{children:["Les donnes actuelles seront remplaces par  ",g.name," . Cette action rechargera la page."]})]}),s.jsxs(p_,{children:[s.jsx(y_,{children:"Annuler"}),s.jsx(g_,{onClick:()=>n(g.id),children:"Restaurer"})]})]})]}),l&&s.jsxs(aR,{children:[s.jsx(iR,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(Nr,{className:"h-4 w-4"})})}),s.jsxs(f_,{children:[s.jsxs(h_,{children:[s.jsxs(m_,{children:["Supprimer  ",g.name,"  ?"]}),s.jsx(v_,{children:"Cette action est irrversible."})]}),s.jsxs(p_,{children:[s.jsx(y_,{children:"Annuler"}),s.jsx(g_,{onClick:()=>a(g.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},g.id))})})]})]})})}const pOe=20;function mOe(){const{products:e,productCategories:t,references:r,bom:n,calculateProductCost:a,updateProduct:i}=CN(),[o,l]=j.useState(1.3),[c,u]=j.useState(1.8),[d,f]=j.useState([{id:"default-b2b",name:"B2B Standard",type:"b2b",tvaRate:20,intermediaries:[{label:"Distributeur",coefficient:1.3},{label:"Shop",coefficient:1.8}]},{id:"default-oem",name:"OEM",type:"oem",tvaRate:0,intermediaries:[{label:"Partenaire OEM",coefficient:1.4}]}]),[h,p]=j.useState("default-b2b"),[y,m]=j.useState(new Set),[v,g]=j.useState(!1),[x,b]=j.useState(""),[_,w]=j.useState("b2b"),[S,C]=j.useState({}),[N,P]=j.useState(new Set),[k,A]=j.useState(""),[R,O]=j.useState(!1),E=d.find(K=>K.id===h)||d[0],$=()=>{f(K=>K.map(ce=>{if(ce.id!==h)return ce;const le=[...ce.intermediaries];return le.length>=1&&(le[0]={...le[0],coefficient:o}),le.length>=2&&(le[1]={...le[1],coefficient:c}),{...ce,intermediaries:le}}))},I=j.useMemo(()=>{const K={},ce=[];for(const le of e)le.category_id?(K[le.category_id]||(K[le.category_id]=[]),K[le.category_id].push(le)):ce.push(le);return{grouped:K,uncategorized:ce}},[e]),M=K=>{m(ce=>{const le=new Set(ce);return le.has(K)?le.delete(K):le.add(K),le})},D=K=>S[K.id]!==void 0?S[K.id]:K.price_ttc,L=K=>{if(!E||K<=0)return null;const ce=(E==null?void 0:E.tvaRate)??pOe,le=K/(1+ce/100);let je=le;const Be=[],Je=[...E.intermediaries].reverse();for(const me of Je){const ie=je/me.coefficient;Be.unshift({label:me.label,coef:me.coefficient,buyPrice:ie,sellPrice:je}),je=ie}const F=je,q=[];let Z=F;for(const me of E.intermediaries){const ie=Z*me.coefficient,fe=ie-Z,be=Z>0?fe/Z*100:0;q.push({label:me.label,buyPrice:Z,coef:me.coefficient,sellPrice:ie,margin:fe,marginPct:be}),Z=ie}return{chain:q,ourB2BPrice:F,prixPublicHT:le,prixPublicTTC:K}},B=j.useCallback(async(K,ce)=>{await i(K,{price_ttc:ce}),C(le=>{const je={...le};return delete je[K],je})},[i]),Q=async()=>{const K=parseFloat(k);if(isNaN(K)||K<0)return;const ce=Array.from(N).map(le=>i(le,{price_ttc:K}));await Promise.all(ce),Pe.success(`Prix ${K.toFixed(2)}  TTC appliqu  ${N.size} produit(s)`),P(new Set),A(""),O(!1),C({})},X=K=>{P(ce=>{const le=new Set(ce);return le.has(K)?le.delete(K):le.add(K),le})},re=K=>{const ce=K==="__uncategorized"?I.uncategorized:I.grouped[K]||[],le=ce.every(je=>N.has(je.id));P(je=>{const Be=new Set(je);return ce.forEach(Je=>{le?Be.delete(Je.id):Be.add(Je.id)}),Be})},z=()=>{if(!x.trim())return;const K=_==="oem"?[{label:"Partenaire OEM",coefficient:1.4}]:[{label:"Distributeur",coefficient:o},{label:"Shop",coefficient:c}],ce={id:`rule-${Date.now()}`,name:x.trim(),type:_,tvaRate:20,intermediaries:K};f(le=>[...le,ce]),p(ce.id),g(!1),b("")},U=K=>{var ce;f(le=>le.filter(je=>je.id!==K)),h===K&&p(((ce=d[0])==null?void 0:ce.id)||"")},V=(K,ce,le,je)=>{f(Be=>Be.map(Je=>{if(Je.id!==K)return Je;const F=[...Je.intermediaries];return le==="coefficient"?F[ce]={...F[ce],coefficient:Number(je)||1}:F[ce]={...F[ce],label:String(je)},{...Je,intermediaries:F}}))},H=K=>{f(ce=>ce.map(le=>{if(le.id!==K)return le;const je=le.type==="oem"?1:2;return le.intermediaries.length>=je?le:{...le,intermediaries:[...le.intermediaries,{label:"Intermdiaire",coefficient:1.3}]}}))},he=(K,ce)=>{f(le=>le.map(je=>je.id!==K||je.intermediaries.length<=1?je:{...je,intermediaries:je.intermediaries.filter((Be,Je)=>Je!==ce)}))},J=K=>K.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),te=K=>{const ce=a(K.id,K.default_volume||500),le=D(K),je=L(le),Be=S[K.id]!==void 0,Je=N.has(K.id);return s.jsxs(Ce,{className:Je?"bg-primary/5":"",children:[s.jsx(Y,{className:"w-10",children:s.jsx(Ll,{checked:Je,onCheckedChange:()=>X(K.id)})}),s.jsx(Y,{className:"font-medium",children:K.name}),s.jsx(Y,{className:"text-right font-mono text-sm",children:ce>0?`${J(ce)} `:""}),s.jsx(Y,{className:"text-right font-mono text-sm font-semibold text-primary",children:je?`${J(je.ourB2BPrice)} `:""}),E==null?void 0:E.intermediaries.map((F,q)=>{const Z=je==null?void 0:je.chain[q];return s.jsx(Y,{className:"text-right font-mono text-sm",children:Z?`${J(Z.sellPrice)} `:""},q)}),s.jsx(Y,{className:"text-right font-mono text-sm",children:je?`${J(je.prixPublicHT)} `:""}),s.jsx(Y,{className:"w-36",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{type:"number",step:"0.01",className:"h-8 text-sm font-mono w-24 text-right",value:le||"",onChange:F=>{const q=parseFloat(F.target.value);C(Z=>({...Z,[K.id]:isNaN(q)?0:q}))},placeholder:"0.00"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(Y,{className:"text-right font-mono text-sm text-muted-foreground",children:je&&ce>0?`${J((je.ourB2BPrice-ce)/ce*100)}%`:""}),s.jsx(Y,{className:"w-10",children:Be&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary",onClick:()=>B(K.id,S[K.id]),title:"Enregistrer",children:s.jsx(Nl,{className:"h-3.5 w-3.5"})})})]},K.id)},W=(K,ce)=>{const le=K.length>0&&K.every(Be=>N.has(Be.id)),je=K.some(Be=>N.has(Be.id));return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lt,{children:[s.jsx(Ft,{children:s.jsxs(Ce,{children:[s.jsx(oe,{className:"w-10",children:s.jsx(Ll,{checked:le,onCheckedChange:()=>re(ce),className:je&&!le?"opacity-50":""})}),s.jsx(oe,{children:"Produit"}),s.jsx(oe,{className:"text-right",children:"Cot revient"}),s.jsx(oe,{className:"text-right",children:"Notre prix B2B HT"}),E==null?void 0:E.intermediaries.map((Be,Je)=>s.jsxs(oe,{className:"text-right",children:["Sortie ",Be.label]},Je)),s.jsx(oe,{className:"text-right",children:"Prix Public HT"}),s.jsx(oe,{className:"text-right",children:"Prix Public TTC"}),s.jsx(oe,{className:"text-right",children:"Notre marge"}),s.jsx(oe,{className:"w-10"})]})}),s.jsx(Bt,{children:K.map(te)})]})})},G=Object.keys(S).length>0,pe=async()=>{const K=Object.entries(S).map(([ce,le])=>i(ce,{price_ttc:le}));await Promise.all(K),Pe.success(`${Object.keys(S).length} prix mis  jour`),C({})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Stratgie tarifaire B2B, chane de distribution et marges par produit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[N.size>0&&s.jsxs(br,{open:R,onOpenChange:O,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Hw,{className:"h-4 w-4 mr-1"}),"Appliquer un prix (",N.size,")"]})}),s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsxs(fr,{children:["Appliquer un prix  ",N.size," produit(s)"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Produits slectionns :",s.jsx("ul",{className:"mt-1 list-disc pl-4",children:Array.from(N).map(K=>{const ce=e.find(le=>le.id===K);return ce?s.jsx("li",{children:ce.name},K):null})})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Prix Public TTC ()"}),s.jsx(_e,{type:"number",step:"0.01",value:k,onChange:K=>A(K.target.value),placeholder:"Ex: 299.00",className:"font-mono"})]}),s.jsxs(ae,{onClick:Q,className:"w-full",children:["Appliquer  ",N.size," produit(s)"]})]})]})]}),G&&s.jsxs(ae,{size:"sm",onClick:pe,children:[s.jsx(Nl,{className:"h-4 w-4 mr-1"}),"Enregistrer tout (",Object.keys(S).length,")"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsxs(Kt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(fh,{className:"h-4 w-4"}),"Coef. Distributeur"]})}),s.jsx(Pt,{children:s.jsx(_e,{type:"number",step:"0.01",value:o,onChange:K=>l(Number(K.target.value)||1),onBlur:$,className:"font-mono"})})]}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsxs(Kt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(fh,{className:"h-4 w-4"}),"Coef. Shop"]})}),s.jsx(Pt,{children:s.jsx(_e,{type:"number",step:"0.01",value:c,onChange:K=>u(Number(K.target.value)||1),onBlur:$,className:"font-mono"})})]}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsxs(Kt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(wS,{className:"h-4 w-4"}),"TVA"]})}),s.jsxs(Pt,{children:[s.jsxs("div",{className:"text-lg font-mono font-semibold",children:[(E==null?void 0:E.tvaRate)??20," %"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dfini dans la rgle active"})]})]}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsx(Kt,{className:"text-sm font-medium",children:"Chane active"})}),s.jsx(Pt,{children:s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Nous  ",E==null?void 0:E.intermediaries.map(K=>K.label).join("  "),"  Client final"]})})]})]}),s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Kt,{className:"text-lg",children:"Rgles de vente"}),s.jsx(kl,{children:"Configurez les canaux de distribution et leurs intermdiaires"})]}),s.jsxs(br,{open:v,onOpenChange:g,children:[s.jsx(Ju,{asChild:!0,children:s.jsxs(ae,{size:"sm",variant:"outline",children:[s.jsx(cr,{className:"h-4 w-4 mr-1"}),"Nouvelle rgle"]})}),s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsx(fr,{children:"Nouvelle rgle de vente"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Nom"}),s.jsx(_e,{value:x,onChange:K=>b(K.target.value),placeholder:"Ex: B2B Europe"})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Type"}),s.jsxs(st,{value:_,onValueChange:K=>w(K),children:[s.jsx(nt,{children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"b2b",children:"B2B (max 2 intermdiaires)"}),s.jsx(Le,{value:"oem",children:"OEM (max 1 intermdiaire)"})]})]})]}),s.jsx(ae,{onClick:z,className:"w-full",children:"Crer"})]})]})]})]})}),s.jsxs(Pt,{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(K=>s.jsxs(ke,{variant:K.id===h?"default":"outline",className:"cursor-pointer text-sm py-1.5 px-3",onClick:()=>p(K.id),children:[K.name,s.jsxs("span",{className:"ml-1 text-xs opacity-60",children:["(",K.type.toUpperCase(),")"]})]},K.id))}),E&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold",children:E.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{variant:"secondary",children:E.type==="oem"?"Max 1 intermdiaire":"Max 2 intermdiaires"}),d.length>1&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>U(E.id),children:s.jsx(Nr,{className:"h-3.5 w-3.5"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ke,{variant:"outline",className:"bg-primary/5",children:"Nous"}),E.intermediaries.map((K,ce)=>s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs(ke,{variant:"outline",children:[K.label," (",K.coefficient,")"]})]},ce)),s.jsx("span",{children:""}),s.jsx(ke,{variant:"outline",className:"bg-primary/5",children:"Client final"})]}),s.jsx(uy,{}),s.jsx("div",{className:"flex items-end gap-3 mb-2",children:s.jsxs("div",{className:"w-40",children:[s.jsx(we,{className:"text-xs",children:"Taux de TVA"}),s.jsxs(st,{value:String(E.tvaRate),onValueChange:K=>f(ce=>ce.map(le=>le.id===E.id?{...le,tvaRate:Number(K)}:le)),children:[s.jsx(nt,{className:"h-8 text-sm font-mono",children:s.jsx(ot,{})}),s.jsxs(at,{children:[s.jsx(Le,{value:"20",children:"20 %"}),s.jsx(Le,{value:"0",children:"0 % (exonr)"})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[E.intermediaries.map((K,ce)=>s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(we,{className:"text-xs",children:["Nom intermdiaire ",ce+1]}),s.jsx(_e,{value:K.label,onChange:le=>V(E.id,ce,"label",le.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"w-28",children:[s.jsx(we,{className:"text-xs",children:"Coefficient"}),s.jsx(_e,{type:"number",step:"0.01",value:K.coefficient,onChange:le=>V(E.id,ce,"coefficient",le.target.value),className:"h-8 text-sm font-mono"})]}),E.intermediaries.length>1&&s.jsx(ae,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>he(E.id,ce),children:s.jsx(Nr,{className:"h-3.5 w-3.5"})})]},ce)),E.intermediaries.length<(E.type==="oem"?1:2)&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>H(E.id),children:[s.jsx(cr,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter intermdiaire"]})]})]})]})]}),s.jsxs(jt,{children:[s.jsx(qt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(Pl,{className:"h-5 w-5"}),"Dtail des prix par catgorie"]}),s.jsxs(kl,{children:['Fixez le prix public TTC  le prix B2B (1er maillon) est calcul automatiquement via la chane "',E==null?void 0:E.name,'"']})]}),N.size>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.size," produit(s) slectionn(s)"]})]})}),s.jsx(Pt,{children:s.jsxs("div",{className:"space-y-4",children:[t.map(K=>{const ce=I.grouped[K.id]||[];if(ce.length===0)return null;const le=y.has(K.id);return s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>M(K.id),children:[le?s.jsx(Ev,{className:"h-4 w-4"}):s.jsx(Ww,{className:"h-4 w-4"}),s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:K.color}}),s.jsx("span",{className:"font-semibold",children:K.name}),s.jsxs(ke,{variant:"secondary",className:"ml-auto",children:[ce.length," produit",ce.length>1?"s":""]})]}),le&&W(ce,K.id)]},K.id)}),I.uncategorized.length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-muted/50 transition-colors text-left",onClick:()=>M("__uncategorized"),children:[y.has("__uncategorized")?s.jsx(Ev,{className:"h-4 w-4"}):s.jsx(Ww,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-muted-foreground",children:"Sans catgorie"}),s.jsx(ke,{variant:"secondary",className:"ml-auto",children:I.uncategorized.length})]}),y.has("__uncategorized")&&W(I.uncategorized,"__uncategorized")]}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Pl,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucun produit configur. Ajoutez des produits dans le module Production et BE."})]})]})})]})]})}function vOe(){return s.jsx(Di,{tabKey:"costflow",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Planning Dveloppement"}),s.jsx("p",{className:"text-muted-foreground",children:"Planification du dveloppement produit et suivi des phases"})]}),s.jsx(mU,{})]})})}const gOe="/assets/banner-nrc-udh-CghFnth9.jpg",yOe="/assets/savoir-faire-DO6sqzLN.jpg",xOe="/assets/ccd-gold-Cg4R7WZE.jpg",bOe="/assets/pulley-wheels-O2SueKz_.jpg",wOe="/assets/composants-hero-CnGsZ9u8.jpg",jOe="/assets/novaride-action-BP9cu6ww.jpg",_Oe=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function SOe(){const{products:e,references:t,productCategories:r,suppliers:n,bom:a}=CN(),{rows:i,blocks:o,colors:l}=Jz(),{customers:c,orders:u}=B5(),d=e.length,f=t.length,h=n.length,p=r.length,y=c.length,m=u.filter(w=>["draft","confirmed","in_progress"].includes(w.status)).length;a.length;const v=new Date().getMonth(),g=v+1,x=o.filter(w=>w.start_month<=g&&w.start_month+w.duration-1>=g),b=j.useMemo(()=>{const w=[];for(let S=0;S<6;S++){const C=(v+S)%12;w.push({label:_Oe[C],index:g+S})}return w},[v,g]),_=j.useMemo(()=>{const w={};return a.forEach(S=>{w[S.product_id]=(w[S.product_id]||0)+1}),Object.entries(w).sort(([,S],[,C])=>C-S).slice(0,5).map(([S,C])=>({product:e.find(N=>N.id===S),refCount:C})).filter(S=>S.product)},[a,e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden h-48 md:h-56",children:[s.jsx("img",{src:gOe,alt:"Novaride Engineering",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center px-8",children:s.jsxs("div",{children:[s.jsx(qS,{variant:"full",color:"light",className:"mb-2"}),s.jsx("p",{className:"text-white/80 text-lg font-light tracking-wide",children:"Tableau de bord oprationnel"}),s.jsx("p",{className:"text-white/50 text-sm mt-1",children:"We engage, we move"})]})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7",children:[s.jsx(Uo,{icon:Pl,label:"Produits",value:d,color:"text-primary"}),s.jsx(Uo,{icon:fI,label:"Rfrences",value:f,color:"text-blue-500"}),s.jsx(Uo,{icon:uW,label:"Fournisseurs",value:h,color:"text-amber-500"}),s.jsx(Uo,{icon:cI,label:"Catgories",value:p,color:"text-violet-500"}),s.jsx(Uo,{icon:xu,label:"Clients",value:y,color:"text-emerald-500"}),s.jsx(Uo,{icon:Vl,label:"Commandes actives",value:m,color:"text-rose-500"}),s.jsx(Uo,{icon:Vw,label:"Tches en cours",value:x.length,color:"text-cyan-500"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(jt,{className:"lg:col-span-2",children:[s.jsx(qt,{className:"pb-3",children:s.jsxs(Kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(Vw,{className:"h-5 w-5"}),"Planning dveloppement  6 prochains mois"]})}),s.jsx(Pt,{children:i.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune ligne de planning configure"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 pr-4 font-medium text-muted-foreground w-40",children:"Produit"}),b.map(w=>s.jsx("th",{className:"text-center py-2 px-1 font-medium text-muted-foreground min-w-[60px]",children:w.label},w.index))]})}),s.jsx("tbody",{children:i.slice(0,8).map(w=>{const S=o.filter(C=>C.row_id===w.id);return s.jsxs("tr",{className:"border-t border-border/50",children:[s.jsx("td",{className:"py-2 pr-4 font-medium truncate max-w-[160px]",children:w.label}),b.map(C=>{const N=S.find(P=>P.start_month<=C.index&&P.start_month+P.duration-1>=C.index);if(N){const P=l.find(A=>A.id===N.color_id),k=N.start_month===C.index;return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm flex items-center justify-center text-[10px] font-medium text-white truncate px-1",style:{backgroundColor:(P==null?void 0:P.color)||"#6366f1"},title:N.label,children:k?N.label:""})},C.index)}return s.jsx("td",{className:"py-2 px-0.5",children:s.jsx("div",{className:"h-6 rounded-sm bg-muted/30"})},C.index)})]},w.id)})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{className:"overflow-hidden",children:s.jsxs("div",{className:"relative h-36",children:[s.jsx("img",{src:xOe,alt:"CCD EVO",className:"w-full h-full object-cover object-center"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-3 left-4",children:[s.jsx("p",{className:"text-white text-sm font-semibold",children:"Engineering Excellence"}),s.jsx("p",{className:"text-white/60 text-xs",children:"Conception franaise premium"})]})]})}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsx(Kt,{className:"text-sm font-medium",children:"Top produits (nomenclature)"})}),s.jsx(Pt,{className:"space-y-2",children:_.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune nomenclature"}):_.map(({product:w,refCount:S})=>{const C=r.find(N=>N.id===w.category_id);return s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-border/30 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[C&&s.jsx("div",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:C.color}}),s.jsx("span",{className:"text-sm truncate",children:w.name})]}),s.jsxs(ke,{variant:"secondary",className:"text-xs ml-2 flex-shrink-0",children:[S," rf."]})]},w.id)})})]}),s.jsxs(jt,{children:[s.jsx(qt,{className:"pb-3",children:s.jsx(Kt,{className:"text-sm font-medium",children:"Catgories produit"})}),s.jsx(Pt,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(w=>{const S=e.filter(C=>C.category_id===w.id).length;return s.jsxs(ke,{variant:"outline",className:"gap-1.5",children:[s.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:w.color}}),w.name,s.jsxs("span",{className:"text-muted-foreground",children:["(",S,")"]})]},w.id)})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 h-32 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:yOe,alt:"Vision",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Vision"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:bOe,alt:"Transmission",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Transmission"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:wOe,alt:"Composants",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Composants"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:jOe,alt:"Performance",className:"w-full h-full object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),s.jsx("div",{className:"absolute bottom-2 left-3 text-white text-xs font-medium",children:"Performance"})]})]})]})}function Uo({icon:e,label:t,value:r,color:n}){return s.jsx(jt,{children:s.jsxs(Pt,{className:"p-4 flex flex-col items-center text-center gap-1.5",children:[s.jsx(e,{className:`h-5 w-5 ${n}`}),s.jsx("span",{className:"text-2xl font-bold font-mono",children:r}),s.jsx("span",{className:"text-[11px] text-muted-foreground leading-tight",children:t})]})})}const COe=()=>{const e=Wl();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},NOe=new Y9,POe=()=>s.jsx(Q9,{client:NOe,children:s.jsx(S9,{children:s.jsx(jX,{children:s.jsxs(CX,{children:[s.jsx(sH,{}),s.jsx(LH,{}),s.jsx(K7,{children:s.jsxs(F7,{children:[s.jsx(pr,{path:"/auth",element:s.jsx(ZPe,{})}),s.jsx(pr,{path:"/",element:s.jsx(an,{tabKey:"costflow",children:s.jsx(nn,{children:s.jsx(SOe,{})})})}),s.jsx(pr,{path:"/product",element:s.jsx(an,{tabKey:"product-plan",children:s.jsx(nn,{children:s.jsx(tSe,{})})})}),s.jsx(pr,{path:"/organisation",element:s.jsx(an,{tabKey:"organisation",children:s.jsx(nn,{children:s.jsx(HCe,{})})})}),s.jsx(pr,{path:"/charges",element:s.jsx(an,{tabKey:"charges",children:s.jsx(nn,{children:s.jsx(YCe,{})})})}),s.jsx(pr,{path:"/crm",element:s.jsx(an,{tabKey:"crm",children:s.jsx(nn,{children:s.jsx(tNe,{})})})}),s.jsx(pr,{path:"/previsionnel",element:s.jsx(an,{tabKey:"previsionnel",children:s.jsx(nn,{children:s.jsx(MNe,{})})})}),s.jsx(pr,{path:"/funding",element:s.jsx(an,{tabKey:"funding",children:s.jsx(nn,{children:s.jsx(INe,{})})})}),s.jsx(pr,{path:"/scenarios",element:s.jsx(an,{tabKey:"scenarios",children:s.jsx(nn,{children:s.jsx(LNe,{})})})}),s.jsx(pr,{path:"/valuation",element:s.jsx(an,{tabKey:"valuation",children:s.jsx(nn,{children:s.jsx(QNe,{})})})}),s.jsx(pr,{path:"/investment-summary",element:s.jsx(an,{tabKey:"investment-summary",children:s.jsx(nn,{children:s.jsx(ePe,{})})})}),s.jsx(pr,{path:"/pricing",element:s.jsx(an,{tabKey:"pricing",children:s.jsx(nn,{children:s.jsx(mOe,{})})})}),s.jsx(pr,{path:"/home",element:s.jsx(Fv,{to:"/",replace:!0})}),s.jsx(pr,{path:"/tableau-de-bord",element:s.jsx(Fv,{to:"/",replace:!0})}),s.jsx(pr,{path:"/costflow",element:s.jsx(an,{tabKey:"costflow",children:s.jsx(nn,{children:s.jsx(KAe,{})})})}),s.jsx(pr,{path:"/planning-dev",element:s.jsx(an,{tabKey:"costflow",children:s.jsx(nn,{children:s.jsx(vOe,{})})})}),s.jsx(pr,{path:"/timetracking",element:s.jsx(an,{tabKey:"timetracking",children:s.jsx(nn,{children:s.jsx(JAe,{})})})}),s.jsx(pr,{path:"/snapshots",element:s.jsx(an,{tabKey:"snapshots",children:s.jsx(nn,{children:s.jsx(hOe,{})})})}),s.jsx(pr,{path:"/permissions",element:s.jsx(an,{children:s.jsx(nn,{children:s.jsx(aEe,{})})})}),s.jsx(pr,{path:"*",element:s.jsx(COe,{})})]})})]})})})});P$(document.getElementById("root")).render(s.jsx(POe,{}));
