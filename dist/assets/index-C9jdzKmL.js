var yN=e=>{throw TypeError(e)};var s0=(e,t,r)=>t.has(e)||yN("Cannot "+r);var oe=(e,t,r)=>(s0(e,t,"read from private field"),r?r.call(e):t.get(e)),pt=(e,t,r)=>t.has(e)?yN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Je=(e,t,r,n)=>(s0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xr=(e,t,r)=>(s0(e,t,"access private method"),r);var Ip=(e,t,r,n)=>({set _(a){Je(e,t,a,r)},get _(){return oe(e,t,n)}});function hU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nR={exports:{}},iy={},aR={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=Symbol.for("react.element"),pU=Symbol.for("react.portal"),mU=Symbol.for("react.fragment"),vU=Symbol.for("react.strict_mode"),gU=Symbol.for("react.profiler"),yU=Symbol.for("react.provider"),xU=Symbol.for("react.context"),bU=Symbol.for("react.forward_ref"),wU=Symbol.for("react.suspense"),jU=Symbol.for("react.memo"),_U=Symbol.for("react.lazy"),xN=Symbol.iterator;function SU(e){return e===null||typeof e!="object"?null:(e=xN&&e[xN]||e["@@iterator"],typeof e=="function"?e:null)}var iR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sR=Object.assign,oR={};function ed(e,t,r){this.props=e,this.context=t,this.refs=oR,this.updater=r||iR}ed.prototype.isReactComponent={};ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lR(){}lR.prototype=ed.prototype;function h_(e,t,r){this.props=e,this.context=t,this.refs=oR,this.updater=r||iR}var p_=h_.prototype=new lR;p_.constructor=h_;sR(p_,ed.prototype);p_.isPureReactComponent=!0;var bN=Array.isArray,cR=Object.prototype.hasOwnProperty,m_={current:null},uR={key:!0,ref:!0,__self:!0,__source:!0};function dR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)cR.call(t,n)&&!uR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:up,type:e,key:i,ref:s,props:a,_owner:m_.current}}function CU(e,t){return{$$typeof:up,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v_(e){return typeof e=="object"&&e!==null&&e.$$typeof===up}function NU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wN=/\/+/g;function o0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NU(""+e.key):t.toString(36)}function Rm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case up:case pU:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+o0(s,0):n,bN(a)?(r="",e!=null&&(r=e.replace(wN,"$&/")+"/"),Rm(a,t,r,"",function(u){return u})):a!=null&&(v_(a)&&(a=CU(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(wN,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",bN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+o0(i,l);s+=Rm(i,t,r,c,a)}else if(c=SU(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+o0(i,l++),s+=Rm(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Lp(e,t,r){if(e==null)return e;var n=[],a=0;return Rm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function PU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},$m={transition:null},EU={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:$m,ReactCurrentOwner:m_};function fR(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Lp,forEach:function(e,t,r){Lp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Lp(e,function(){t++}),t},toArray:function(e){return Lp(e,function(t){return t})||[]},only:function(e){if(!v_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ed;ct.Fragment=mU;ct.Profiler=gU;ct.PureComponent=h_;ct.StrictMode=vU;ct.Suspense=wU;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EU;ct.act=fR;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=m_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cR.call(t,c)&&!uR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:up,type:e.type,key:a,ref:i,props:n,_owner:s}};ct.createContext=function(e){return e={$$typeof:xU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yU,_context:e},e.Consumer=e};ct.createElement=dR;ct.createFactory=function(e){var t=dR.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:bU,render:e}};ct.isValidElement=v_;ct.lazy=function(e){return{$$typeof:_U,_payload:{_status:-1,_result:e},_init:PU}};ct.memo=function(e,t){return{$$typeof:jU,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=$m.transition;$m.transition={};try{e()}finally{$m.transition=t}};ct.unstable_act=fR;ct.useCallback=function(e,t){return _n.current.useCallback(e,t)};ct.useContext=function(e){return _n.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};ct.useEffect=function(e,t){return _n.current.useEffect(e,t)};ct.useId=function(){return _n.current.useId()};ct.useImperativeHandle=function(e,t,r){return _n.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return _n.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return _n.current.useReducer(e,t,r)};ct.useRef=function(e){return _n.current.useRef(e)};ct.useState=function(e){return _n.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return _n.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return _n.current.useTransition()};ct.version="18.3.1";aR.exports=ct;var w=aR.exports;const T=xt(w),g_=hU({__proto__:null,default:T},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AU=w,kU=Symbol.for("react.element"),OU=Symbol.for("react.fragment"),TU=Object.prototype.hasOwnProperty,RU=AU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$U={key:!0,ref:!0,__self:!0,__source:!0};function hR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)TU.call(t,n)&&!$U.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:kU,type:e,key:i,ref:s,props:a,_owner:RU.current}}iy.Fragment=OU;iy.jsx=hR;iy.jsxs=hR;nR.exports=iy;var o=nR.exports,pR={exports:{}},sa={},mR={exports:{}},vR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var z=D.length;D.push(L);e:for(;0<z;){var X=z-1>>>1,G=D[X];if(0<a(G,L))D[X]=L,D[z]=G,z=X;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var L=D[0],z=D.pop();if(z!==L){D[0]=z;e:for(var X=0,G=D.length,F=G>>>1;X<F;){var J=2*(X+1)-1,U=D[J],V=J+1,W=D[V];if(0>a(U,z))V<G&&0>a(W,U)?(D[X]=W,D[V]=z,X=V):(D[X]=U,D[J]=z,X=J);else if(V<G&&0>a(W,z))D[X]=W,D[V]=z,X=V;else break e}}return L}function a(D,L){var z=D.sortIndex-L.sortIndex;return z!==0?z:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=D)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(D){if(m=!1,b(D),!y)if(r(c)!==null)y=!0,$(j);else{var L=r(u);L!==null&&M(_,L.startTime-D)}}function j(D,L){y=!1,m&&(m=!1,v(N),N=-1),p=!0;var z=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||D&&!k());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var G=X(f.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var J=r(u);J!==null&&M(_,J.startTime-L),F=!1}return F}finally{f=null,h=z,p=!1}}var S=!1,C=null,N=-1,P=5,E=-1;function k(){return!(e.unstable_now()-E<P)}function A(){if(C!==null){var D=e.unstable_now();E=D;var L=!0;try{L=C(!0,D)}finally{L?R():(S=!1,C=null)}}else S=!1}var R;if(typeof x=="function")R=function(){x(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,R=function(){I.postMessage(null)}}else R=function(){g(A,0)};function $(D){C=D,S||(S=!0,R())}function M(D,L){N=g(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,$(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return D()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=h;h=D;try{return L()}finally{h=z}},e.unstable_scheduleCallback=function(D,L,z){var X=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,D={id:d++,callback:L,priorityLevel:D,startTime:z,expirationTime:G,sortIndex:-1},z>X?(D.sortIndex=z,t(u,D),r(c)===null&&D===r(u)&&(m?(v(N),N=-1):m=!0,M(_,z-X))):(D.sortIndex=G,t(c,D),y||p||(y=!0,$(j))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var L=h;return function(){var z=h;h=L;try{return D.apply(this,arguments)}finally{h=z}}}})(vR);mR.exports=vR;var MU=mR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IU=w,aa=MU;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gR=new Set,Uf={};function Il(e,t){au(e,t),au(e+"Capture",t)}function au(e,t){for(Uf[e]=t,e=0;e<t.length;e++)gR.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vb=Object.prototype.hasOwnProperty,DU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jN={},_N={};function LU(e){return Vb.call(_N,e)?!0:Vb.call(jN,e)?!1:DU.test(e)?_N[e]=!0:(jN[e]=!0,!1)}function FU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BU(e,t,r,n){if(t===null||typeof t>"u"||FU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yr[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yr[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yr[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yr[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yr[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yr[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yr[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yr[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yr[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var y_=/[\-:]([a-z])/g;function x_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y_,x_);Yr[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y_,x_);Yr[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y_,x_);Yr[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yr[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yr[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function b_(e,t,r,n){var a=Yr.hasOwnProperty(t)?Yr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BU(t,r,a,n)&&(r=null),n||a===null?LU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ps=IU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fp=Symbol.for("react.element"),vc=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),Wb=Symbol.for("react.profiler"),yR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),j_=Symbol.for("react.forward_ref"),Hb=Symbol.for("react.suspense"),qb=Symbol.for("react.suspense_list"),__=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),bR=Symbol.for("react.offscreen"),SN=Symbol.iterator;function Id(e){return e===null||typeof e!="object"?null:(e=SN&&e[SN]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,l0;function uf(e){if(l0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);l0=t&&t[1]||""}return`
`+l0+e}var c0=!1;function u0(e,t){if(!e||c0)return"";c0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{c0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?uf(e):""}function zU(e){switch(e.tag){case 5:return uf(e.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return e=u0(e.type,!1),e;case 11:return e=u0(e.type.render,!1),e;case 1:return e=u0(e.type,!0),e;default:return""}}function Kb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gc:return"Fragment";case vc:return"Portal";case Wb:return"Profiler";case w_:return"StrictMode";case Hb:return"Suspense";case qb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xR:return(e.displayName||"Context")+".Consumer";case yR:return(e._context.displayName||"Context")+".Provider";case j_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case __:return t=e.displayName||null,t!==null?t:Kb(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return Kb(e(t))}catch{}}return null}function UU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kb(t);case 8:return t===w_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VU(e){var t=wR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bp(e){e._valueTracker||(e._valueTracker=VU(e))}function jR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gb(e,t){var r=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function CN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _R(e,t){t=t.checked,t!=null&&b_(e,"checked",t,!1)}function Yb(e,t){_R(e,t);var r=vo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xb(e,t.type,vo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xb(e,t,r){(t!=="number"||Zm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var df=Array.isArray;function Mc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(df(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vo(r)}}function SR(e,t){var r=vo(t.value),n=vo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function EN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function CR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zp,NR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zp=zp||document.createElement("div"),zp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WU=["Webkit","ms","Moz","O"];Object.keys(yf).forEach(function(e){WU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yf[t]=yf[e]})});function PR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yf.hasOwnProperty(e)&&yf[e]?(""+t).trim():t+"px"}function ER(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=PR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var HU=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zb(e,t){if(t){if(HU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function ew(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tw=null;function S_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rw=null,Ic=null,Dc=null;function AN(e){if(e=hp(e)){if(typeof rw!="function")throw Error(he(280));var t=e.stateNode;t&&(t=uy(t),rw(e.stateNode,e.type,t))}}function AR(e){Ic?Dc?Dc.push(e):Dc=[e]:Ic=e}function kR(){if(Ic){var e=Ic,t=Dc;if(Dc=Ic=null,AN(e),t)for(e=0;e<t.length;e++)AN(t[e])}}function OR(e,t){return e(t)}function TR(){}var d0=!1;function RR(e,t,r){if(d0)return e(t,r);d0=!0;try{return OR(e,t,r)}finally{d0=!1,(Ic!==null||Dc!==null)&&(TR(),kR())}}function Wf(e,t){var r=e.stateNode;if(r===null)return null;var n=uy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var nw=!1;if(ns)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){nw=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{nw=!1}function qU(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xf=!1,ev=null,tv=!1,aw=null,KU={onError:function(e){xf=!0,ev=e}};function GU(e,t,r,n,a,i,s,l,c){xf=!1,ev=null,qU.apply(KU,arguments)}function YU(e,t,r,n,a,i,s,l,c){if(GU.apply(this,arguments),xf){if(xf){var u=ev;xf=!1,ev=null}else throw Error(he(198));tv||(tv=!0,aw=u)}}function Dl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kN(e){if(Dl(e)!==e)throw Error(he(188))}function XU(e){var t=e.alternate;if(!t){if(t=Dl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return kN(a),e;if(i===n)return kN(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function MR(e){return e=XU(e),e!==null?IR(e):null}function IR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=IR(e);if(t!==null)return t;e=e.sibling}return null}var DR=aa.unstable_scheduleCallback,ON=aa.unstable_cancelCallback,QU=aa.unstable_shouldYield,JU=aa.unstable_requestPaint,or=aa.unstable_now,ZU=aa.unstable_getCurrentPriorityLevel,C_=aa.unstable_ImmediatePriority,LR=aa.unstable_UserBlockingPriority,rv=aa.unstable_NormalPriority,e8=aa.unstable_LowPriority,FR=aa.unstable_IdlePriority,sy=null,wi=null;function t8(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(sy,e,void 0,(e.current.flags&128)===128)}catch{}}var Qa=Math.clz32?Math.clz32:a8,r8=Math.log,n8=Math.LN2;function a8(e){return e>>>=0,e===0?32:31-(r8(e)/n8|0)|0}var Up=64,Vp=4194304;function ff(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=ff(l):(i&=s,i!==0&&(n=ff(i)))}else s=r&~a,s!==0?n=ff(s):i!==0&&(n=ff(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qa(t),a=1<<r,n|=e[r],t&=~a;return n}function i8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Qa(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=i8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function iw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BR(){var e=Up;return Up<<=1,!(Up&4194240)&&(Up=64),e}function f0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qa(t),e[t]=r}function o8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Qa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function N_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var St=0;function zR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var UR,P_,VR,WR,HR,sw=!1,Wp=[],ro=null,no=null,ao=null,Hf=new Map,qf=new Map,Ls=[],l8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TN(e,t){switch(e){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Hf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(t.pointerId)}}function Ld(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=hp(t),t!==null&&P_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function c8(e,t,r,n,a){switch(t){case"focusin":return ro=Ld(ro,e,t,r,n,a),!0;case"dragenter":return no=Ld(no,e,t,r,n,a),!0;case"mouseover":return ao=Ld(ao,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hf.set(i,Ld(Hf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qf.set(i,Ld(qf.get(i)||null,e,t,r,n,a)),!0}return!1}function qR(e){var t=Zo(e.target);if(t!==null){var r=Dl(t);if(r!==null){if(t=r.tag,t===13){if(t=$R(r),t!==null){e.blockedOn=t,HR(e.priority,function(){VR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ow(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tw=n,r.target.dispatchEvent(n),tw=null}else return t=hp(r),t!==null&&P_(t),e.blockedOn=r,!1;t.shift()}return!0}function RN(e,t,r){Mm(e)&&r.delete(t)}function u8(){sw=!1,ro!==null&&Mm(ro)&&(ro=null),no!==null&&Mm(no)&&(no=null),ao!==null&&Mm(ao)&&(ao=null),Hf.forEach(RN),qf.forEach(RN)}function Fd(e,t){e.blockedOn===t&&(e.blockedOn=null,sw||(sw=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,u8)))}function Kf(e){function t(a){return Fd(a,e)}if(0<Wp.length){Fd(Wp[0],e);for(var r=1;r<Wp.length;r++){var n=Wp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ro!==null&&Fd(ro,e),no!==null&&Fd(no,e),ao!==null&&Fd(ao,e),Hf.forEach(t),qf.forEach(t),r=0;r<Ls.length;r++)n=Ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ls.length&&(r=Ls[0],r.blockedOn===null);)qR(r),r.blockedOn===null&&Ls.shift()}var Lc=ps.ReactCurrentBatchConfig,av=!0;function d8(e,t,r,n){var a=St,i=Lc.transition;Lc.transition=null;try{St=1,E_(e,t,r,n)}finally{St=a,Lc.transition=i}}function f8(e,t,r,n){var a=St,i=Lc.transition;Lc.transition=null;try{St=4,E_(e,t,r,n)}finally{St=a,Lc.transition=i}}function E_(e,t,r,n){if(av){var a=ow(e,t,r,n);if(a===null)j0(e,t,n,iv,r),TN(e,n);else if(c8(a,e,t,r,n))n.stopPropagation();else if(TN(e,n),t&4&&-1<l8.indexOf(e)){for(;a!==null;){var i=hp(a);if(i!==null&&UR(i),i=ow(e,t,r,n),i===null&&j0(e,t,n,iv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else j0(e,t,n,null,r)}}var iv=null;function ow(e,t,r,n){if(iv=null,e=S_(n),e=Zo(e),e!==null)if(t=Dl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$R(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iv=e,null}function KR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZU()){case C_:return 1;case LR:return 4;case rv:case e8:return 16;case FR:return 536870912;default:return 16}default:return 16}}var Ks=null,A_=null,Im=null;function GR(){if(Im)return Im;var e,t=A_,r=t.length,n,a="value"in Ks?Ks.value:Ks.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Im=a.slice(e,1<n?1-n:void 0)}function Dm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hp(){return!0}function $N(){return!1}function oa(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hp:$N,this.isPropagationStopped=$N,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hp)},persist:function(){},isPersistent:Hp}),t}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k_=oa(td),fp=Zt({},td,{view:0,detail:0}),h8=oa(fp),h0,p0,Bd,oy=Zt({},fp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bd&&(Bd&&e.type==="mousemove"?(h0=e.screenX-Bd.screenX,p0=e.screenY-Bd.screenY):p0=h0=0,Bd=e),h0)},movementY:function(e){return"movementY"in e?e.movementY:p0}}),MN=oa(oy),p8=Zt({},oy,{dataTransfer:0}),m8=oa(p8),v8=Zt({},fp,{relatedTarget:0}),m0=oa(v8),g8=Zt({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),y8=oa(g8),x8=Zt({},td,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b8=oa(x8),w8=Zt({},td,{data:0}),IN=oa(w8),j8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S8[e])?!!t[e]:!1}function O_(){return C8}var N8=Zt({},fp,{key:function(e){if(e.key){var t=j8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O_,charCode:function(e){return e.type==="keypress"?Dm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P8=oa(N8),E8=Zt({},oy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DN=oa(E8),A8=Zt({},fp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O_}),k8=oa(A8),O8=Zt({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),T8=oa(O8),R8=Zt({},oy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$8=oa(R8),M8=[9,13,27,32],T_=ns&&"CompositionEvent"in window,bf=null;ns&&"documentMode"in document&&(bf=document.documentMode);var I8=ns&&"TextEvent"in window&&!bf,YR=ns&&(!T_||bf&&8<bf&&11>=bf),LN=" ",FN=!1;function XR(e,t){switch(e){case"keyup":return M8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yc=!1;function D8(e,t){switch(e){case"compositionend":return QR(t);case"keypress":return t.which!==32?null:(FN=!0,LN);case"textInput":return e=t.data,e===LN&&FN?null:e;default:return null}}function L8(e,t){if(yc)return e==="compositionend"||!T_&&XR(e,t)?(e=GR(),Im=A_=Ks=null,yc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YR&&t.locale!=="ko"?null:t.data;default:return null}}var F8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F8[e.type]:t==="textarea"}function JR(e,t,r,n){AR(n),t=sv(t,"onChange"),0<t.length&&(r=new k_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wf=null,Gf=null;function B8(e){c$(e,0)}function ly(e){var t=wc(e);if(jR(t))return e}function z8(e,t){if(e==="change")return t}var ZR=!1;if(ns){var v0;if(ns){var g0="oninput"in document;if(!g0){var zN=document.createElement("div");zN.setAttribute("oninput","return;"),g0=typeof zN.oninput=="function"}v0=g0}else v0=!1;ZR=v0&&(!document.documentMode||9<document.documentMode)}function UN(){wf&&(wf.detachEvent("onpropertychange",e$),Gf=wf=null)}function e$(e){if(e.propertyName==="value"&&ly(Gf)){var t=[];JR(t,Gf,e,S_(e)),RR(B8,t)}}function U8(e,t,r){e==="focusin"?(UN(),wf=t,Gf=r,wf.attachEvent("onpropertychange",e$)):e==="focusout"&&UN()}function V8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ly(Gf)}function W8(e,t){if(e==="click")return ly(t)}function H8(e,t){if(e==="input"||e==="change")return ly(t)}function q8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:q8;function Yf(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vb.call(t,a)||!ti(e[a],t[a]))return!1}return!0}function VN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WN(e,t){var r=VN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VN(r)}}function t$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r$(){for(var e=window,t=Zm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zm(e.document)}return t}function R_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K8(e){var t=r$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t$(r.ownerDocument.documentElement,r)){if(n!==null&&R_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=WN(r,i);var s=WN(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G8=ns&&"documentMode"in document&&11>=document.documentMode,xc=null,lw=null,jf=null,cw=!1;function HN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cw||xc==null||xc!==Zm(n)||(n=xc,"selectionStart"in n&&R_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jf&&Yf(jf,n)||(jf=n,n=sv(lw,"onSelect"),0<n.length&&(t=new k_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xc)))}function qp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bc={animationend:qp("Animation","AnimationEnd"),animationiteration:qp("Animation","AnimationIteration"),animationstart:qp("Animation","AnimationStart"),transitionend:qp("Transition","TransitionEnd")},y0={},n$={};ns&&(n$=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function cy(e){if(y0[e])return y0[e];if(!bc[e])return e;var t=bc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n$)return y0[e]=t[r];return e}var a$=cy("animationend"),i$=cy("animationiteration"),s$=cy("animationstart"),o$=cy("transitionend"),l$=new Map,qN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(e,t){l$.set(e,t),Il(t,[e])}for(var x0=0;x0<qN.length;x0++){var b0=qN[x0],Y8=b0.toLowerCase(),X8=b0[0].toUpperCase()+b0.slice(1);So(Y8,"on"+X8)}So(a$,"onAnimationEnd");So(i$,"onAnimationIteration");So(s$,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(o$,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hf));function KN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YU(n,t,void 0,e),e.currentTarget=null}function c$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;KN(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;KN(a,l,u),i=c}}}if(tv)throw e=aw,tv=!1,aw=null,e}function It(e,t){var r=t[pw];r===void 0&&(r=t[pw]=new Set);var n=e+"__bubble";r.has(n)||(u$(t,e,2,!1),r.add(n))}function w0(e,t,r){var n=0;t&&(n|=4),u$(r,e,n,t)}var Kp="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Kp]){e[Kp]=!0,gR.forEach(function(r){r!=="selectionchange"&&(Q8.has(r)||w0(r,!1,e),w0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kp]||(t[Kp]=!0,w0("selectionchange",!1,t))}}function u$(e,t,r,n){switch(KR(t)){case 1:var a=d8;break;case 4:a=f8;break;default:a=E_}r=a.bind(null,t,r,e),a=void 0,!nw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function j0(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Zo(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}RR(function(){var u=i,d=S_(r),f=[];e:{var h=l$.get(e);if(h!==void 0){var p=k_,y=e;switch(e){case"keypress":if(Dm(r)===0)break e;case"keydown":case"keyup":p=P8;break;case"focusin":y="focus",p=m0;break;case"focusout":y="blur",p=m0;break;case"beforeblur":case"afterblur":p=m0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=MN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k8;break;case a$:case i$:case s$:p=y8;break;case o$:p=T8;break;case"scroll":p=h8;break;case"wheel":p=$8;break;case"copy":case"cut":case"paste":p=b8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DN}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Wf(x,v),_!=null&&m.push(Qf(x,_,b)))),g)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==tw&&(y=r.relatedTarget||r.fromElement)&&(Zo(y)||y[as]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Zo(y):null,y!==null&&(g=Dl(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=MN,_="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=DN,_="onPointerLeave",v="onPointerEnter",x="pointer"),g=p==null?h:wc(p),b=y==null?h:wc(y),h=new m(_,x+"leave",p,r,d),h.target=g,h.relatedTarget=b,_=null,Zo(d)===u&&(m=new m(v,x+"enter",y,r,d),m.target=b,m.relatedTarget=g,_=m),g=_,p&&y)t:{for(m=p,v=y,x=0,b=m;b;b=Wl(b))x++;for(b=0,_=v;_;_=Wl(_))b++;for(;0<x-b;)m=Wl(m),x--;for(;0<b-x;)v=Wl(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Wl(m),v=Wl(v)}m=null}else m=null;p!==null&&GN(f,h,p,m,!1),y!==null&&g!==null&&GN(f,g,y,m,!0)}}e:{if(h=u?wc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=z8;else if(BN(h))if(ZR)j=H8;else{j=V8;var S=U8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=W8);if(j&&(j=j(e,u))){JR(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Xb(h,"number",h.value)}switch(S=u?wc(u):window,e){case"focusin":(BN(S)||S.contentEditable==="true")&&(xc=S,lw=u,jf=null);break;case"focusout":jf=lw=xc=null;break;case"mousedown":cw=!0;break;case"contextmenu":case"mouseup":case"dragend":cw=!1,HN(f,r,d);break;case"selectionchange":if(G8)break;case"keydown":case"keyup":HN(f,r,d)}var C;if(T_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else yc?XR(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(YR&&r.locale!=="ko"&&(yc||N!=="onCompositionStart"?N==="onCompositionEnd"&&yc&&(C=GR()):(Ks=d,A_="value"in Ks?Ks.value:Ks.textContent,yc=!0)),S=sv(u,N),0<S.length&&(N=new IN(N,e,null,r,d),f.push({event:N,listeners:S}),C?N.data=C:(C=QR(r),C!==null&&(N.data=C)))),(C=I8?D8(e,r):L8(e,r))&&(u=sv(u,"onBeforeInput"),0<u.length&&(d=new IN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}c$(f,t)})}function Qf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wf(e,r),i!=null&&n.unshift(Qf(e,i,a)),i=Wf(e,t),i!=null&&n.push(Qf(e,i,a))),e=e.return}return n}function Wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GN(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wf(r,i),c!=null&&s.unshift(Qf(r,c,l))):a||(c=Wf(r,i),c!=null&&s.push(Qf(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var J8=/\r\n?/g,Z8=/\u0000|\uFFFD/g;function YN(e){return(typeof e=="string"?e:""+e).replace(J8,`
`).replace(Z8,"")}function Gp(e,t,r){if(t=YN(t),YN(e)!==t&&r)throw Error(he(425))}function ov(){}var uw=null,dw=null;function fw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hw=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,XN=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof XN<"u"?function(e){return XN.resolve(null).then(e).catch(rV)}:hw;function rV(e){setTimeout(function(){throw e})}function _0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Kf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kf(t)}function io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rd=Math.random().toString(36).slice(2),hi="__reactFiber$"+rd,Jf="__reactProps$"+rd,as="__reactContainer$"+rd,pw="__reactEvents$"+rd,nV="__reactListeners$"+rd,aV="__reactHandles$"+rd;function Zo(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[as]||r[hi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=QN(e);e!==null;){if(r=e[hi])return r;e=QN(e)}return t}e=r,r=e.parentNode}return null}function hp(e){return e=e[hi]||e[as],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function uy(e){return e[Jf]||null}var mw=[],jc=-1;function Co(e){return{current:e}}function zt(e){0>jc||(e.current=mw[jc],mw[jc]=null,jc--)}function Tt(e,t){jc++,mw[jc]=e.current,e.current=t}var go={},on=Co(go),In=Co(!1),bl=go;function iu(e,t){var r=e.type.contextTypes;if(!r)return go;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dn(e){return e=e.childContextTypes,e!=null}function lv(){zt(In),zt(on)}function JN(e,t,r){if(on.current!==go)throw Error(he(168));Tt(on,t),Tt(In,r)}function d$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(he(108,UU(e)||"Unknown",a));return Zt({},r,n)}function cv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||go,bl=on.current,Tt(on,e),Tt(In,In.current),!0}function ZN(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=d$(e,t,bl),n.__reactInternalMemoizedMergedChildContext=e,zt(In),zt(on),Tt(on,e)):zt(In),Tt(In,r)}var Hi=null,dy=!1,S0=!1;function f$(e){Hi===null?Hi=[e]:Hi.push(e)}function iV(e){dy=!0,f$(e)}function No(){if(!S0&&Hi!==null){S0=!0;var e=0,t=St;try{var r=Hi;for(St=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hi=null,dy=!1}catch(a){throw Hi!==null&&(Hi=Hi.slice(e+1)),DR(C_,No),a}finally{St=t,S0=!1}}return null}var _c=[],Sc=0,uv=null,dv=0,pa=[],ma=0,wl=null,Gi=1,Yi="";function Vo(e,t){_c[Sc++]=dv,_c[Sc++]=uv,uv=e,dv=t}function h$(e,t,r){pa[ma++]=Gi,pa[ma++]=Yi,pa[ma++]=wl,wl=e;var n=Gi;e=Yi;var a=32-Qa(n)-1;n&=~(1<<a),r+=1;var i=32-Qa(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gi=1<<32-Qa(t)+a|r<<a|n,Yi=i+e}else Gi=1<<i|r<<a|n,Yi=e}function $_(e){e.return!==null&&(Vo(e,1),h$(e,1,0))}function M_(e){for(;e===uv;)uv=_c[--Sc],_c[Sc]=null,dv=_c[--Sc],_c[Sc]=null;for(;e===wl;)wl=pa[--ma],pa[ma]=null,Yi=pa[--ma],pa[ma]=null,Gi=pa[--ma],pa[ma]=null}var ea=null,Zn=null,Ht=!1,Ka=null;function p$(e,t){var r=ga(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ea=e,Zn=io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ea=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wl!==null?{id:Gi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ga(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ea=e,Zn=null,!0):!1;default:return!1}}function vw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gw(e){if(Ht){var t=Zn;if(t){var r=t;if(!eP(e,t)){if(vw(e))throw Error(he(418));t=io(r.nextSibling);var n=ea;t&&eP(e,t)?p$(n,r):(e.flags=e.flags&-4097|2,Ht=!1,ea=e)}}else{if(vw(e))throw Error(he(418));e.flags=e.flags&-4097|2,Ht=!1,ea=e}}}function tP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ea=e}function Yp(e){if(e!==ea)return!1;if(!Ht)return tP(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fw(e.type,e.memoizedProps)),t&&(t=Zn)){if(vw(e))throw m$(),Error(he(418));for(;t;)p$(e,t),t=io(t.nextSibling)}if(tP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zn=io(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=ea?io(e.stateNode.nextSibling):null;return!0}function m$(){for(var e=Zn;e;)e=io(e.nextSibling)}function su(){Zn=ea=null,Ht=!1}function I_(e){Ka===null?Ka=[e]:Ka.push(e)}var sV=ps.ReactCurrentBatchConfig;function zd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Xp(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rP(e){var t=e._init;return t(e._payload)}function v$(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=co(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,_){return x===null||x.tag!==6?(x=O0(b,v.mode,_),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,_){var j=b.type;return j===gc?d(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&rP(j)===x.type)?(_=a(x,b.props),_.ref=zd(v,x,b),_.return=v,_):(_=Wm(b.type,b.key,b.props,null,v.mode,_),_.ref=zd(v,x,b),_.return=v,_)}function u(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=T0(b,v.mode,_),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function d(v,x,b,_,j){return x===null||x.tag!==7?(x=gl(b,v.mode,_,j),x.return=v,x):(x=a(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=O0(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fp:return b=Wm(x.type,x.key,x.props,null,v.mode,b),b.ref=zd(v,null,x),b.return=v,b;case vc:return x=T0(x,v.mode,b),x.return=v,x;case Ts:var _=x._init;return f(v,_(x._payload),b)}if(df(x)||Id(x))return x=gl(x,v.mode,b,null),x.return=v,x;Xp(v,x)}return null}function h(v,x,b,_){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fp:return b.key===j?c(v,x,b,_):null;case vc:return b.key===j?u(v,x,b,_):null;case Ts:return j=b._init,h(v,x,j(b._payload),_)}if(df(b)||Id(b))return j!==null?null:d(v,x,b,_,null);Xp(v,b)}return null}function p(v,x,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(x,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fp:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,j);case vc:return v=v.get(_.key===null?b:_.key)||null,u(x,v,_,j);case Ts:var S=_._init;return p(v,x,b,S(_._payload),j)}if(df(_)||Id(_))return v=v.get(b)||null,d(x,v,_,j,null);Xp(x,_)}return null}function y(v,x,b,_){for(var j=null,S=null,C=x,N=x=0,P=null;C!==null&&N<b.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var E=h(v,C,b[N],_);if(E===null){C===null&&(C=P);break}e&&C&&E.alternate===null&&t(v,C),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E,C=P}if(N===b.length)return r(v,C),Ht&&Vo(v,N),j;if(C===null){for(;N<b.length;N++)C=f(v,b[N],_),C!==null&&(x=i(C,x,N),S===null?j=C:S.sibling=C,S=C);return Ht&&Vo(v,N),j}for(C=n(v,C);N<b.length;N++)P=p(C,v,N,b[N],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),x=i(P,x,N),S===null?j=P:S.sibling=P,S=P);return e&&C.forEach(function(k){return t(v,k)}),Ht&&Vo(v,N),j}function m(v,x,b,_){var j=Id(b);if(typeof j!="function")throw Error(he(150));if(b=j.call(b),b==null)throw Error(he(151));for(var S=j=null,C=x,N=x=0,P=null,E=b.next();C!==null&&!E.done;N++,E=b.next()){C.index>N?(P=C,C=null):P=C.sibling;var k=h(v,C,E.value,_);if(k===null){C===null&&(C=P);break}e&&C&&k.alternate===null&&t(v,C),x=i(k,x,N),S===null?j=k:S.sibling=k,S=k,C=P}if(E.done)return r(v,C),Ht&&Vo(v,N),j;if(C===null){for(;!E.done;N++,E=b.next())E=f(v,E.value,_),E!==null&&(x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return Ht&&Vo(v,N),j}for(C=n(v,C);!E.done;N++,E=b.next())E=p(C,v,N,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?N:E.key),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return e&&C.forEach(function(A){return t(v,A)}),Ht&&Vo(v,N),j}function g(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===gc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fp:e:{for(var j=b.key,S=x;S!==null;){if(S.key===j){if(j=b.type,j===gc){if(S.tag===7){r(v,S.sibling),x=a(S,b.props.children),x.return=v,v=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&rP(j)===S.type){r(v,S.sibling),x=a(S,b.props),x.ref=zd(v,S,b),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===gc?(x=gl(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=Wm(b.type,b.key,b.props,null,v.mode,_),_.ref=zd(v,x,b),_.return=v,v=_)}return s(v);case vc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=T0(b,v.mode,_),x.return=v,v=x}return s(v);case Ts:return S=b._init,g(v,x,S(b._payload),_)}if(df(b))return y(v,x,b,_);if(Id(b))return m(v,x,b,_);Xp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=a(x,b),x.return=v,v=x):(r(v,x),x=O0(b,v.mode,_),x.return=v,v=x),s(v)):r(v,x)}return g}var ou=v$(!0),g$=v$(!1),fv=Co(null),hv=null,Cc=null,D_=null;function L_(){D_=Cc=hv=null}function F_(e){var t=fv.current;zt(fv),e._currentValue=t}function yw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fc(e,t){hv=e,D_=Cc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function wa(e){var t=e._currentValue;if(D_!==e)if(e={context:e,memoizedValue:t,next:null},Cc===null){if(hv===null)throw Error(he(308));Cc=e,hv.dependencies={lanes:0,firstContext:e}}else Cc=Cc.next=e;return t}var el=null;function B_(e){el===null?el=[e]:el.push(e)}function y$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,B_(t)):(r.next=a.next,a.next=r),t.interleaved=r,is(e,n)}function is(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rs=!1;function z_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,is(e,r)}return a=n.interleaved,a===null?(t.next=t,B_(n)):(t.next=a.next,a.next=t),n.interleaved=t,is(e,r)}function Lm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N_(e,r)}}function nP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pv(e,t,r,n){var a=e.updateQueue;Rs=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Zt({},f,h);break e;case 2:Rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_l|=s,e.lanes=s,e.memoizedState=f}}function aP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(he(191,a));a.call(n)}}}var pp={},ji=Co(pp),Zf=Co(pp),eh=Co(pp);function tl(e){if(e===pp)throw Error(he(174));return e}function U_(e,t){switch(Tt(eh,t),Tt(Zf,e),Tt(ji,pp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jb(t,e)}zt(ji),Tt(ji,t)}function lu(){zt(ji),zt(Zf),zt(eh)}function b$(e){tl(eh.current);var t=tl(ji.current),r=Jb(t,e.type);t!==r&&(Tt(Zf,e),Tt(ji,r))}function V_(e){Zf.current===e&&(zt(ji),zt(Zf))}var Yt=Co(0);function mv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var C0=[];function W_(){for(var e=0;e<C0.length;e++)C0[e]._workInProgressVersionPrimary=null;C0.length=0}var Fm=ps.ReactCurrentDispatcher,N0=ps.ReactCurrentBatchConfig,jl=0,Qt=null,Nr=null,Ir=null,vv=!1,_f=!1,th=0,oV=0;function Qr(){throw Error(he(321))}function H_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ti(e[r],t[r]))return!1;return!0}function q_(e,t,r,n,a,i){if(jl=i,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fm.current=e===null||e.memoizedState===null?dV:fV,e=r(n,a),_f){i=0;do{if(_f=!1,th=0,25<=i)throw Error(he(301));i+=1,Ir=Nr=null,t.updateQueue=null,Fm.current=hV,e=r(n,a)}while(_f)}if(Fm.current=gv,t=Nr!==null&&Nr.next!==null,jl=0,Ir=Nr=Qt=null,vv=!1,t)throw Error(he(300));return e}function K_(){var e=th!==0;return th=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Qt.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function ja(){if(Nr===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Nr.next;var t=Ir===null?Qt.memoizedState:Ir.next;if(t!==null)Ir=t,Nr=e;else{if(e===null)throw Error(he(310));Nr=e,e={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Ir===null?Qt.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function rh(e,t){return typeof t=="function"?t(e):t}function P0(e){var t=ja(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=Nr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((jl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Qt.lanes|=d,_l|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,ti(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Qt.lanes|=i,_l|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function E0(e){var t=ja(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);ti(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function w$(){}function j$(e,t){var r=Qt,n=ja(),a=t(),i=!ti(n.memoizedState,a);if(i&&(n.memoizedState=a,Rn=!0),n=n.queue,G_(C$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,nh(9,S$.bind(null,r,n,a,t),void 0,null),Lr===null)throw Error(he(349));jl&30||_$(r,t,a)}return a}function _$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S$(e,t,r,n){t.value=r,t.getSnapshot=n,N$(t)&&P$(e)}function C$(e,t,r){return r(function(){N$(t)&&P$(e)})}function N$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ti(e,r)}catch{return!0}}function P$(e){var t=is(e,1);t!==null&&Ja(t,e,1,-1)}function iP(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:e},t.queue=e,e=e.dispatch=uV.bind(null,Qt,e),[t.memoizedState,e]}function nh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function E$(){return ja().memoizedState}function Bm(e,t,r,n){var a=ci();Qt.flags|=e,a.memoizedState=nh(1|t,r,void 0,n===void 0?null:n)}function fy(e,t,r,n){var a=ja();n=n===void 0?null:n;var i=void 0;if(Nr!==null){var s=Nr.memoizedState;if(i=s.destroy,n!==null&&H_(n,s.deps)){a.memoizedState=nh(t,r,i,n);return}}Qt.flags|=e,a.memoizedState=nh(1|t,r,i,n)}function sP(e,t){return Bm(8390656,8,e,t)}function G_(e,t){return fy(2048,8,e,t)}function A$(e,t){return fy(4,2,e,t)}function k$(e,t){return fy(4,4,e,t)}function O$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T$(e,t,r){return r=r!=null?r.concat([e]):null,fy(4,4,O$.bind(null,t,e),r)}function Y_(){}function R$(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $$(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function M$(e,t,r){return jl&21?(ti(r,t)||(r=BR(),Qt.lanes|=r,_l|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function lV(e,t){var r=St;St=r!==0&&4>r?r:4,e(!0);var n=N0.transition;N0.transition={};try{e(!1),t()}finally{St=r,N0.transition=n}}function I$(){return ja().memoizedState}function cV(e,t,r){var n=lo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},D$(e))L$(t,r);else if(r=y$(e,t,r,n),r!==null){var a=wn();Ja(r,e,n,a),F$(r,t,n)}}function uV(e,t,r){var n=lo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(D$(e))L$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,ti(l,s)){var c=t.interleaved;c===null?(a.next=a,B_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=y$(e,t,a,n),r!==null&&(a=wn(),Ja(r,e,n,a),F$(r,t,n))}}function D$(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function L$(e,t){_f=vv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N_(e,r)}}var gv={readContext:wa,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},dV={readContext:wa,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:wa,useEffect:sP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bm(4194308,4,O$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bm(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cV.bind(null,Qt,e),[n.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:iP,useDebugValue:Y_,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=iP(!1),t=e[0];return e=lV.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qt,a=ci();if(Ht){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),Lr===null)throw Error(he(349));jl&30||_$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sP(C$.bind(null,n,i,e),[e]),n.flags|=2048,nh(9,S$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ci(),t=Lr.identifierPrefix;if(Ht){var r=Yi,n=Gi;r=(n&~(1<<32-Qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=th++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fV={readContext:wa,useCallback:R$,useContext:wa,useEffect:G_,useImperativeHandle:T$,useInsertionEffect:A$,useLayoutEffect:k$,useMemo:$$,useReducer:P0,useRef:E$,useState:function(){return P0(rh)},useDebugValue:Y_,useDeferredValue:function(e){var t=ja();return M$(t,Nr.memoizedState,e)},useTransition:function(){var e=P0(rh)[0],t=ja().memoizedState;return[e,t]},useMutableSource:w$,useSyncExternalStore:j$,useId:I$,unstable_isNewReconciler:!1},hV={readContext:wa,useCallback:R$,useContext:wa,useEffect:G_,useImperativeHandle:T$,useInsertionEffect:A$,useLayoutEffect:k$,useMemo:$$,useReducer:E0,useRef:E$,useState:function(){return E0(rh)},useDebugValue:Y_,useDeferredValue:function(e){var t=ja();return Nr===null?t.memoizedState=e:M$(t,Nr.memoizedState,e)},useTransition:function(){var e=E0(rh)[0],t=ja().memoizedState;return[e,t]},useMutableSource:w$,useSyncExternalStore:j$,useId:I$,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Zt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hy={isMounted:function(e){return(e=e._reactInternals)?Dl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wn(),a=lo(e),i=Zi(n,a);i.payload=t,r!=null&&(i.callback=r),t=so(e,i,a),t!==null&&(Ja(t,e,a,n),Lm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wn(),a=lo(e),i=Zi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=so(e,i,a),t!==null&&(Ja(t,e,a,n),Lm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wn(),n=lo(e),a=Zi(r,n);a.tag=2,t!=null&&(a.callback=t),t=so(e,a,n),t!==null&&(Ja(t,e,n,r),Lm(t,e,n))}};function oP(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Yf(r,n)||!Yf(a,i):!0}function B$(e,t,r){var n=!1,a=go,i=t.contextType;return typeof i=="object"&&i!==null?i=wa(i):(a=Dn(t)?bl:on.current,n=t.contextTypes,i=(n=n!=null)?iu(e,a):go),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hy.enqueueReplaceState(t,t.state,null)}function bw(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wa(i):(i=Dn(t)?bl:on.current,a.context=iu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xw(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&hy.enqueueReplaceState(a,a.state,null),pv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cu(e,t){try{var r="",n=t;do r+=zU(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function A0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ww(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pV=typeof WeakMap=="function"?WeakMap:Map;function z$(e,t,r){r=Zi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xv||(xv=!0,Ow=n),ww(e,t)},r}function U$(e,t,r){r=Zi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ww(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ww(e,t),typeof n!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function cP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=EV.bind(null,e,t,r),t.then(e,e))}function uP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zi(-1,1),t.tag=2,so(r,t,1))),r.lanes|=1),e)}var mV=ps.ReactCurrentOwner,Rn=!1;function pn(e,t,r,n){t.child=e===null?g$(t,null,r,n):ou(t,e.child,r,n)}function fP(e,t,r,n,a){r=r.render;var i=t.ref;return Fc(t,a),n=q_(e,t,r,n,i,a),r=K_(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ss(e,t,a)):(Ht&&r&&$_(t),t.flags|=1,pn(e,t,n,a),t.child)}function hP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!nS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,V$(e,t,i,n,a)):(e=Wm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yf,r(s,n)&&e.ref===t.ref)return ss(e,t,a)}return t.flags|=1,e=co(i,n),e.ref=t.ref,e.return=t,t.child=e}function V$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Yf(i,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,ss(e,t,a)}return jw(e,t,r,n,a)}function W$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Pc,Kn),Kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(Pc,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Tt(Pc,Kn),Kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Tt(Pc,Kn),Kn|=n;return pn(e,t,a,r),t.child}function H$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jw(e,t,r,n,a){var i=Dn(r)?bl:on.current;return i=iu(t,i),Fc(t,a),r=q_(e,t,r,n,i,a),n=K_(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ss(e,t,a)):(Ht&&n&&$_(t),t.flags|=1,pn(e,t,r,a),t.child)}function pP(e,t,r,n,a){if(Dn(r)){var i=!0;cv(t)}else i=!1;if(Fc(t,a),t.stateNode===null)zm(e,t),B$(t,r,n),bw(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=wa(u):(u=Dn(r)?bl:on.current,u=iu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lP(t,s,n,u),Rs=!1;var h=t.memoizedState;s.state=h,pv(t,n,s,a),c=t.memoizedState,l!==n||h!==c||In.current||Rs?(typeof d=="function"&&(xw(t,r,d,n),c=t.memoizedState),(l=Rs||oP(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,x$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=wa(c):(c=Dn(r)?bl:on.current,c=iu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lP(t,s,n,c),Rs=!1,h=t.memoizedState,s.state=h,pv(t,n,s,a);var y=t.memoizedState;l!==f||h!==y||In.current||Rs?(typeof p=="function"&&(xw(t,r,p,n),y=t.memoizedState),(u=Rs||oP(t,r,u,n,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _w(e,t,r,n,i,a)}function _w(e,t,r,n,a,i){H$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&ZN(t,r,!1),ss(e,t,i);n=t.stateNode,mV.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ou(t,e.child,null,i),t.child=ou(t,null,l,i)):pn(e,t,l,i),t.memoizedState=n.state,a&&ZN(t,r,!0),t.child}function q$(e){var t=e.stateNode;t.pendingContext?JN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JN(e,t.context,!1),U_(e,t.containerInfo)}function mP(e,t,r,n,a){return su(),I_(a),t.flags|=256,pn(e,t,r,n),t.child}var Sw={dehydrated:null,treeContext:null,retryLane:0};function Cw(e){return{baseLanes:e,cachePool:null,transitions:null}}function K$(e,t,r){var n=t.pendingProps,a=Yt.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Tt(Yt,a&1),e===null)return gw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=vy(s,n,0,null),e=gl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cw(r),t.memoizedState=Sw,e):X_(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return vV(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=co(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=co(l,i):(i=gl(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Cw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Sw,n}return i=e.child,e=i.sibling,n=co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X_(e,t){return t=vy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qp(e,t,r,n){return n!==null&&I_(n),ou(t,e.child,null,r),e=X_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vV(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=A0(Error(he(422))),Qp(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=vy({mode:"visible",children:n.children},a,0,null),i=gl(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ou(t,e.child,null,s),t.child.memoizedState=Cw(s),t.memoizedState=Sw,i);if(!(t.mode&1))return Qp(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(he(419)),n=A0(i,n,void 0),Qp(e,t,s,n)}if(l=(s&e.childLanes)!==0,Rn||l){if(n=Lr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,is(e,a),Ja(n,e,a,-1))}return rS(),n=A0(Error(he(421))),Qp(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=AV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Zn=io(a.nextSibling),ea=t,Ht=!0,Ka=null,e!==null&&(pa[ma++]=Gi,pa[ma++]=Yi,pa[ma++]=wl,Gi=e.id,Yi=e.overflow,wl=t),t=X_(t,n.children),t.flags|=4096,t)}function vP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yw(e.return,t,r)}function k0(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function G$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(pn(e,t,n.children,r),n=Yt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vP(e,r,t);else if(e.tag===19)vP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Tt(Yt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&mv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),k0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&mv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}k0(t,!0,r,null,i);break;case"together":k0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ss(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_l|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gV(e,t,r){switch(t.tag){case 3:q$(t),su();break;case 5:b$(t);break;case 1:Dn(t.type)&&cv(t);break;case 4:U_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Tt(fv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Yt,Yt.current&1),t.flags|=128,null):r&t.child.childLanes?K$(e,t,r):(Tt(Yt,Yt.current&1),e=ss(e,t,r),e!==null?e.sibling:null);Tt(Yt,Yt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return G$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Tt(Yt,Yt.current),n)break;return null;case 22:case 23:return t.lanes=0,W$(e,t,r)}return ss(e,t,r)}var Y$,Nw,X$,Q$;Y$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nw=function(){};X$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,tl(ji.current);var i=null;switch(r){case"input":a=Gb(e,a),n=Gb(e,n),i=[];break;case"select":a=Zt({},a,{value:void 0}),n=Zt({},n,{value:void 0}),i=[];break;case"textarea":a=Qb(e,a),n=Qb(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ov)}Zb(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Q$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ud(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yV(e,t,r){var n=t.pendingProps;switch(M_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Dn(t.type)&&lv(),Jr(t),null;case 3:return n=t.stateNode,lu(),zt(In),zt(on),W_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ka!==null&&($w(Ka),Ka=null))),Nw(e,t),Jr(t),null;case 5:V_(t);var a=tl(eh.current);if(r=t.type,e!==null&&t.stateNode!=null)X$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return Jr(t),null}if(e=tl(ji.current),Yp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hi]=t,n[Jf]=i,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<hf.length;a++)It(hf[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":CN(n,i),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},It("invalid",n);break;case"textarea":PN(n,i),It("invalid",n)}Zb(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gp(n.textContent,l,e),a=["children",""+l]):Uf.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&It("scroll",n)}switch(r){case"input":Bp(n),NN(n,i,!0);break;case"textarea":Bp(n),EN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ov)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=CR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[hi]=t,e[Jf]=n,Y$(e,t,!1,!1),t.stateNode=e;e:{switch(s=ew(r,n),r){case"dialog":It("cancel",e),It("close",e),a=n;break;case"iframe":case"object":case"embed":It("load",e),a=n;break;case"video":case"audio":for(a=0;a<hf.length;a++)It(hf[a],e);a=n;break;case"source":It("error",e),a=n;break;case"img":case"image":case"link":It("error",e),It("load",e),a=n;break;case"details":It("toggle",e),a=n;break;case"input":CN(e,n),a=Gb(e,n),It("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Zt({},n,{value:void 0}),It("invalid",e);break;case"textarea":PN(e,n),a=Qb(e,n),It("invalid",e);break;default:a=n}Zb(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ER(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vf(e,c):typeof c=="number"&&Vf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",e):c!=null&&b_(e,i,c,s))}switch(r){case"input":Bp(e),NN(e,n,!1);break;case"textarea":Bp(e),EN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Mc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Mc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ov)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)Q$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=tl(eh.current),tl(ji.current),Yp(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(i=n.nodeValue!==r)&&(e=ea,e!==null))switch(e.tag){case 3:Gp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=t,t.stateNode=n}return Jr(t),null;case 13:if(zt(Yt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&Zn!==null&&t.mode&1&&!(t.flags&128))m$(),su(),t.flags|=98560,i=!1;else if(i=Yp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[hi]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),i=!1}else Ka!==null&&($w(Ka),Ka=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Yt.current&1?Er===0&&(Er=3):rS())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return lu(),Nw(e,t),e===null&&Xf(t.stateNode.containerInfo),Jr(t),null;case 10:return F_(t.type._context),Jr(t),null;case 17:return Dn(t.type)&&lv(),Jr(t),null;case 19:if(zt(Yt),i=t.memoizedState,i===null)return Jr(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Ud(i,!1);else{if(Er!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mv(e),s!==null){for(t.flags|=128,Ud(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tt(Yt,Yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&or()>uu&&(t.flags|=128,n=!0,Ud(i,!1),t.lanes=4194304)}else{if(!n)if(e=mv(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ud(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ht)return Jr(t),null}else 2*or()-i.renderingStartTime>uu&&r!==1073741824&&(t.flags|=128,n=!0,Ud(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=or(),t.sibling=null,r=Yt.current,Tt(Yt,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return tS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function xV(e,t){switch(M_(t),t.tag){case 1:return Dn(t.type)&&lv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),zt(In),zt(on),W_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V_(t),null;case 13:if(zt(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Yt),null;case 4:return lu(),null;case 10:return F_(t.type._context),null;case 22:case 23:return tS(),null;case 24:return null;default:return null}}var Jp=!1,tn=!1,bV=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Nc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nr(e,t,n)}else r.current=null}function Pw(e,t,r){try{r()}catch(n){nr(e,t,n)}}var gP=!1;function wV(e,t){if(uw=av,e=r$(),R_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dw={focusedElem:e,selectionRange:r},av=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Da(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){nr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return y=gP,gP=!1,y}function Sf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Pw(t,r,i)}a=a.next}while(a!==n)}}function py(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ew(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J$(e){var t=e.alternate;t!==null&&(e.alternate=null,J$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[Jf],delete t[pw],delete t[nV],delete t[aV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z$(e){return e.tag===5||e.tag===3||e.tag===4}function yP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ov));else if(n!==4&&(e=e.child,e!==null))for(Aw(e,t,r),e=e.sibling;e!==null;)Aw(e,t,r),e=e.sibling}function kw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kw(e,t,r),e=e.sibling;e!==null;)kw(e,t,r),e=e.sibling}var Hr=null,Va=!1;function Cs(e,t,r){for(r=r.child;r!==null;)eM(e,t,r),r=r.sibling}function eM(e,t,r){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(sy,r)}catch{}switch(r.tag){case 5:tn||Nc(r,t);case 6:var n=Hr,a=Va;Hr=null,Cs(e,t,r),Hr=n,Va=a,Hr!==null&&(Va?(e=Hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(Va?(e=Hr,r=r.stateNode,e.nodeType===8?_0(e.parentNode,r):e.nodeType===1&&_0(e,r),Kf(e)):_0(Hr,r.stateNode));break;case 4:n=Hr,a=Va,Hr=r.stateNode.containerInfo,Va=!0,Cs(e,t,r),Hr=n,Va=a;break;case 0:case 11:case 14:case 15:if(!tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Pw(r,t,s),a=a.next}while(a!==n)}Cs(e,t,r);break;case 1:if(!tn&&(Nc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nr(r,t,l)}Cs(e,t,r);break;case 21:Cs(e,t,r);break;case 22:r.mode&1?(tn=(n=tn)||r.memoizedState!==null,Cs(e,t,r),tn=n):Cs(e,t,r);break;default:Cs(e,t,r)}}function xP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bV),t.forEach(function(n){var a=kV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ta(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Hr=l.stateNode,Va=!1;break e;case 3:Hr=l.stateNode.containerInfo,Va=!0;break e;case 4:Hr=l.stateNode.containerInfo,Va=!0;break e}l=l.return}if(Hr===null)throw Error(he(160));eM(i,s,a),Hr=null,Va=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tM(t,e),t=t.sibling}function tM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ta(t,e),oi(e),n&4){try{Sf(3,e,e.return),py(3,e)}catch(m){nr(e,e.return,m)}try{Sf(5,e,e.return)}catch(m){nr(e,e.return,m)}}break;case 1:Ta(t,e),oi(e),n&512&&r!==null&&Nc(r,r.return);break;case 5:if(Ta(t,e),oi(e),n&512&&r!==null&&Nc(r,r.return),e.flags&32){var a=e.stateNode;try{Vf(a,"")}catch(m){nr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_R(a,i),ew(l,s);var u=ew(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?ER(a,f):d==="dangerouslySetInnerHTML"?NR(a,f):d==="children"?Vf(a,f):b_(a,d,f,u)}switch(l){case"input":Yb(a,i);break;case"textarea":SR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Mc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Mc(a,!!i.multiple,i.defaultValue,!0):Mc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Jf]=i}catch(m){nr(e,e.return,m)}}break;case 6:if(Ta(t,e),oi(e),n&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){nr(e,e.return,m)}}break;case 3:if(Ta(t,e),oi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kf(t.containerInfo)}catch(m){nr(e,e.return,m)}break;case 4:Ta(t,e),oi(e);break;case 13:Ta(t,e),oi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Z_=or())),n&4&&xP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(tn=(u=tn)||d,Ta(t,e),tn=u):Ta(t,e),oi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ne=e,d=e.child;d!==null;){for(f=Ne=d;Ne!==null;){switch(h=Ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sf(4,h,h.return);break;case 1:Nc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){nr(n,r,m)}}break;case 5:Nc(h,h.return);break;case 22:if(h.memoizedState!==null){wP(f);continue}}p!==null?(p.return=h,Ne=p):wP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=PR("display",s))}catch(m){nr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){nr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ta(t,e),oi(e),n&4&&xP(e);break;case 21:break;default:Ta(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z$(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vf(a,""),n.flags&=-33);var i=yP(e);kw(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=yP(e);Aw(e,l,s);break;default:throw Error(he(161))}}catch(c){nr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jV(e,t,r){Ne=e,rM(e)}function rM(e,t,r){for(var n=(e.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Jp;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||tn;l=Jp;var u=tn;if(Jp=s,(tn=c)&&!u)for(Ne=a;Ne!==null;)s=Ne,c=s.child,s.tag===22&&s.memoizedState!==null?jP(a):c!==null?(c.return=s,Ne=c):jP(a);for(;i!==null;)Ne=i,rM(i),i=i.sibling;Ne=a,Jp=l,tn=u}bP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ne=i):bP(e)}}function bP(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tn||py(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Da(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&aP(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}aP(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}tn||t.flags&512&&Ew(t)}catch(h){nr(t,t.return,h)}}if(t===e){Ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function wP(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function jP(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{py(4,t)}catch(c){nr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nr(t,a,c)}}var i=t.return;try{Ew(t)}catch(c){nr(t,i,c)}break;case 5:var s=t.return;try{Ew(t)}catch(c){nr(t,s,c)}}}catch(c){nr(t,t.return,c)}if(t===e){Ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ne=l;break}Ne=t.return}}var _V=Math.ceil,yv=ps.ReactCurrentDispatcher,Q_=ps.ReactCurrentOwner,xa=ps.ReactCurrentBatchConfig,ft=0,Lr=null,vr=null,Kr=0,Kn=0,Pc=Co(0),Er=0,ah=null,_l=0,my=0,J_=0,Cf=null,Tn=null,Z_=0,uu=1/0,Ui=null,xv=!1,Ow=null,oo=null,Zp=!1,Gs=null,bv=0,Nf=0,Tw=null,Um=-1,Vm=0;function wn(){return ft&6?or():Um!==-1?Um:Um=or()}function lo(e){return e.mode&1?ft&2&&Kr!==0?Kr&-Kr:sV.transition!==null?(Vm===0&&(Vm=BR()),Vm):(e=St,e!==0||(e=window.event,e=e===void 0?16:KR(e.type)),e):1}function Ja(e,t,r,n){if(50<Nf)throw Nf=0,Tw=null,Error(he(185));dp(e,r,n),(!(ft&2)||e!==Lr)&&(e===Lr&&(!(ft&2)&&(my|=r),Er===4&&Fs(e,Kr)),Ln(e,n),r===1&&ft===0&&!(t.mode&1)&&(uu=or()+500,dy&&No()))}function Ln(e,t){var r=e.callbackNode;s8(e,t);var n=nv(e,e===Lr?Kr:0);if(n===0)r!==null&&ON(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ON(r),t===1)e.tag===0?iV(_P.bind(null,e)):f$(_P.bind(null,e)),tV(function(){!(ft&6)&&No()}),r=null;else{switch(zR(n)){case 1:r=C_;break;case 4:r=LR;break;case 16:r=rv;break;case 536870912:r=FR;break;default:r=rv}r=uM(r,nM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nM(e,t){if(Um=-1,Vm=0,ft&6)throw Error(he(327));var r=e.callbackNode;if(Bc()&&e.callbackNode!==r)return null;var n=nv(e,e===Lr?Kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wv(e,n);else{t=n;var a=ft;ft|=2;var i=iM();(Lr!==e||Kr!==t)&&(Ui=null,uu=or()+500,vl(e,t));do try{NV();break}catch(l){aM(e,l)}while(!0);L_(),yv.current=i,ft=a,vr!==null?t=0:(Lr=null,Kr=0,t=Er)}if(t!==0){if(t===2&&(a=iw(e),a!==0&&(n=a,t=Rw(e,a))),t===1)throw r=ah,vl(e,0),Fs(e,n),Ln(e,or()),r;if(t===6)Fs(e,n);else{if(a=e.current.alternate,!(n&30)&&!SV(a)&&(t=wv(e,n),t===2&&(i=iw(e),i!==0&&(n=i,t=Rw(e,i))),t===1))throw r=ah,vl(e,0),Fs(e,n),Ln(e,or()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:Wo(e,Tn,Ui);break;case 3:if(Fs(e,n),(n&130023424)===n&&(t=Z_+500-or(),10<t)){if(nv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){wn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=hw(Wo.bind(null,e,Tn,Ui),t);break}Wo(e,Tn,Ui);break;case 4:if(Fs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Qa(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_V(n/1960))-n,10<n){e.timeoutHandle=hw(Wo.bind(null,e,Tn,Ui),n);break}Wo(e,Tn,Ui);break;case 5:Wo(e,Tn,Ui);break;default:throw Error(he(329))}}}return Ln(e,or()),e.callbackNode===r?nM.bind(null,e):null}function Rw(e,t){var r=Cf;return e.current.memoizedState.isDehydrated&&(vl(e,t).flags|=256),e=wv(e,t),e!==2&&(t=Tn,Tn=r,t!==null&&$w(t)),e}function $w(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function SV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ti(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fs(e,t){for(t&=~J_,t&=~my,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qa(t),n=1<<r;e[r]=-1,t&=~n}}function _P(e){if(ft&6)throw Error(he(327));Bc();var t=nv(e,0);if(!(t&1))return Ln(e,or()),null;var r=wv(e,t);if(e.tag!==0&&r===2){var n=iw(e);n!==0&&(t=n,r=Rw(e,n))}if(r===1)throw r=ah,vl(e,0),Fs(e,t),Ln(e,or()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,Tn,Ui),Ln(e,or()),null}function eS(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(uu=or()+500,dy&&No())}}function Sl(e){Gs!==null&&Gs.tag===0&&!(ft&6)&&Bc();var t=ft;ft|=1;var r=xa.transition,n=St;try{if(xa.transition=null,St=1,e)return e()}finally{St=n,xa.transition=r,ft=t,!(ft&6)&&No()}}function tS(){Kn=Pc.current,zt(Pc)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eV(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(M_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lv();break;case 3:lu(),zt(In),zt(on),W_();break;case 5:V_(n);break;case 4:lu();break;case 13:zt(Yt);break;case 19:zt(Yt);break;case 10:F_(n.type._context);break;case 22:case 23:tS()}r=r.return}if(Lr=e,vr=e=co(e.current,null),Kr=Kn=t,Er=0,ah=null,J_=my=_l=0,Tn=Cf=null,el!==null){for(t=0;t<el.length;t++)if(r=el[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}el=null}return e}function aM(e,t){do{var r=vr;try{if(L_(),Fm.current=gv,vv){for(var n=Qt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}vv=!1}if(jl=0,Ir=Nr=Qt=null,_f=!1,th=0,Q_.current=null,r===null||r.return===null){Er=1,ah=t,vr=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Kr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=uP(s);if(p!==null){p.flags&=-257,dP(p,s,l,i,t),p.mode&1&&cP(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){cP(i,u,t),rS();break e}c=Error(he(426))}}else if(Ht&&l.mode&1){var g=uP(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),dP(g,s,l,i,t),I_(cu(c,l));break e}}i=c=cu(c,l),Er!==4&&(Er=2),Cf===null?Cf=[i]:Cf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=z$(i,c,t);nP(i,v);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(oo===null||!oo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=U$(i,l,t);nP(i,_);break e}}i=i.return}while(i!==null)}oM(r)}catch(j){t=j,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function iM(){var e=yv.current;return yv.current=gv,e===null?gv:e}function rS(){(Er===0||Er===3||Er===2)&&(Er=4),Lr===null||!(_l&268435455)&&!(my&268435455)||Fs(Lr,Kr)}function wv(e,t){var r=ft;ft|=2;var n=iM();(Lr!==e||Kr!==t)&&(Ui=null,vl(e,t));do try{CV();break}catch(a){aM(e,a)}while(!0);if(L_(),ft=r,yv.current=n,vr!==null)throw Error(he(261));return Lr=null,Kr=0,Er}function CV(){for(;vr!==null;)sM(vr)}function NV(){for(;vr!==null&&!QU();)sM(vr)}function sM(e){var t=cM(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?oM(e):vr=t,Q_.current=null}function oM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xV(r,t),r!==null){r.flags&=32767,vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Er=6,vr=null;return}}else if(r=yV(r,t,Kn),r!==null){vr=r;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);Er===0&&(Er=5)}function Wo(e,t,r){var n=St,a=xa.transition;try{xa.transition=null,St=1,PV(e,t,r,n)}finally{xa.transition=a,St=n}return null}function PV(e,t,r,n){do Bc();while(Gs!==null);if(ft&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(o8(e,i),e===Lr&&(vr=Lr=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zp||(Zp=!0,uM(rv,function(){return Bc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xa.transition,xa.transition=null;var s=St;St=1;var l=ft;ft|=4,Q_.current=null,wV(e,r),tM(r,e),K8(dw),av=!!uw,dw=uw=null,e.current=r,jV(r),JU(),ft=l,St=s,xa.transition=i}else e.current=r;if(Zp&&(Zp=!1,Gs=e,bv=a),i=e.pendingLanes,i===0&&(oo=null),t8(r.stateNode),Ln(e,or()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(xv)throw xv=!1,e=Ow,Ow=null,e;return bv&1&&e.tag!==0&&Bc(),i=e.pendingLanes,i&1?e===Tw?Nf++:(Nf=0,Tw=e):Nf=0,No(),null}function Bc(){if(Gs!==null){var e=zR(bv),t=xa.transition,r=St;try{if(xa.transition=null,St=16>e?16:e,Gs===null)var n=!1;else{if(e=Gs,Gs=null,bv=0,ft&6)throw Error(he(331));var a=ft;for(ft|=4,Ne=e.current;Ne!==null;){var i=Ne,s=i.child;if(Ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:Sf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ne=f;else for(;Ne!==null;){d=Ne;var h=d.sibling,p=d.return;if(J$(d),d===u){Ne=null;break}if(h!==null){h.return=p,Ne=h;break}Ne=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Ne=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ne=s;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ne=v;break e}Ne=i.return}}var x=e.current;for(Ne=x;Ne!==null;){s=Ne;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ne=b;else e:for(s=x;Ne!==null;){if(l=Ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:py(9,l)}}catch(j){nr(l,l.return,j)}if(l===s){Ne=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ne=_;break e}Ne=l.return}}if(ft=a,No(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(sy,e)}catch{}n=!0}return n}finally{St=r,xa.transition=t}}return!1}function SP(e,t,r){t=cu(r,t),t=z$(e,t,1),e=so(e,t,1),t=wn(),e!==null&&(dp(e,1,t),Ln(e,t))}function nr(e,t,r){if(e.tag===3)SP(e,e,r);else for(;t!==null;){if(t.tag===3){SP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oo===null||!oo.has(n))){e=cu(r,e),e=U$(t,e,1),t=so(t,e,1),e=wn(),t!==null&&(dp(t,1,e),Ln(t,e));break}}t=t.return}}function EV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wn(),e.pingedLanes|=e.suspendedLanes&r,Lr===e&&(Kr&r)===r&&(Er===4||Er===3&&(Kr&130023424)===Kr&&500>or()-Z_?vl(e,0):J_|=r),Ln(e,t)}function lM(e,t){t===0&&(e.mode&1?(t=Vp,Vp<<=1,!(Vp&130023424)&&(Vp=4194304)):t=1);var r=wn();e=is(e,t),e!==null&&(dp(e,t,r),Ln(e,r))}function AV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lM(e,r)}function kV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),lM(e,r)}var cM;cM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,gV(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,Ht&&t.flags&1048576&&h$(t,dv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zm(e,t),e=t.pendingProps;var a=iu(t,on.current);Fc(t,r),a=q_(null,t,n,e,a,r);var i=K_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(n)?(i=!0,cv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z_(t),a.updater=hy,t.stateNode=a,a._reactInternals=t,bw(t,n,e,r),t=_w(null,t,n,!0,i,r)):(t.tag=0,Ht&&i&&$_(t),pn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=TV(n),e=Da(n,e),a){case 0:t=jw(null,t,n,e,r);break e;case 1:t=pP(null,t,n,e,r);break e;case 11:t=fP(null,t,n,e,r);break e;case 14:t=hP(null,t,n,Da(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),jw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),pP(e,t,n,a,r);case 3:e:{if(q$(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,a=i.element,x$(e,t),pv(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=cu(Error(he(423)),t),t=mP(e,t,n,r,a);break e}else if(n!==a){a=cu(Error(he(424)),t),t=mP(e,t,n,r,a);break e}else for(Zn=io(t.stateNode.containerInfo.firstChild),ea=t,Ht=!0,Ka=null,r=g$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(su(),n===a){t=ss(e,t,r);break e}pn(e,t,n,r)}t=t.child}return t;case 5:return b$(t),e===null&&gw(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,fw(n,a)?s=null:i!==null&&fw(n,i)&&(t.flags|=32),H$(e,t),pn(e,t,s,r),t.child;case 6:return e===null&&gw(t),null;case 13:return K$(e,t,r);case 4:return U_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ou(t,null,n,r):pn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),fP(e,t,n,a,r);case 7:return pn(e,t,t.pendingProps,r),t.child;case 8:return pn(e,t,t.pendingProps.children,r),t.child;case 12:return pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Tt(fv,n._currentValue),n._currentValue=s,i!==null)if(ti(i.value,s)){if(i.children===a.children&&!In.current){t=ss(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Zi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(he(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),yw(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}pn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Fc(t,r),a=wa(a),n=n(a),t.flags|=1,pn(e,t,n,r),t.child;case 14:return n=t.type,a=Da(n,t.pendingProps),a=Da(n.type,a),hP(e,t,n,a,r);case 15:return V$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),zm(e,t),t.tag=1,Dn(n)?(e=!0,cv(t)):e=!1,Fc(t,r),B$(t,n,a),bw(t,n,a,r),_w(null,t,n,!0,e,r);case 19:return G$(e,t,r);case 22:return W$(e,t,r)}throw Error(he(156,t.tag))};function uM(e,t){return DR(e,t)}function OV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(e,t,r,n){return new OV(e,t,r,n)}function nS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TV(e){if(typeof e=="function")return nS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j_)return 11;if(e===__)return 14}return 2}function co(e,t){var r=e.alternate;return r===null?(r=ga(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wm(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")nS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case gc:return gl(r.children,a,i,t);case w_:s=8,a|=8;break;case Wb:return e=ga(12,r,t,a|2),e.elementType=Wb,e.lanes=i,e;case Hb:return e=ga(13,r,t,a),e.elementType=Hb,e.lanes=i,e;case qb:return e=ga(19,r,t,a),e.elementType=qb,e.lanes=i,e;case bR:return vy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yR:s=10;break e;case xR:s=9;break e;case j_:s=11;break e;case __:s=14;break e;case Ts:s=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=ga(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function gl(e,t,r,n){return e=ga(7,e,n,t),e.lanes=r,e}function vy(e,t,r,n){return e=ga(22,e,n,t),e.elementType=bR,e.lanes=r,e.stateNode={isHidden:!1},e}function O0(e,t,r){return e=ga(6,e,null,t),e.lanes=r,e}function T0(e,t,r){return t=ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f0(0),this.expirationTimes=f0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function aS(e,t,r,n,a,i,s,l,c){return e=new RV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ga(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z_(i),e}function $V(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dM(e){if(!e)return go;e=e._reactInternals;e:{if(Dl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Dn(r))return d$(e,r,t)}return t}function fM(e,t,r,n,a,i,s,l,c){return e=aS(r,n,!0,e,a,i,s,l,c),e.context=dM(null),r=e.current,n=wn(),a=lo(r),i=Zi(n,a),i.callback=t??null,so(r,i,a),e.current.lanes=a,dp(e,a,n),Ln(e,n),e}function gy(e,t,r,n){var a=t.current,i=wn(),s=lo(a);return r=dM(r),t.context===null?t.context=r:t.pendingContext=r,t=Zi(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=so(a,t,s),e!==null&&(Ja(e,a,s,i),Lm(e,a,s)),s}function jv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iS(e,t){CP(e,t),(e=e.alternate)&&CP(e,t)}function MV(){return null}var hM=typeof reportError=="function"?reportError:function(e){console.error(e)};function sS(e){this._internalRoot=e}yy.prototype.render=sS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));gy(e,t,null,null)};yy.prototype.unmount=sS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sl(function(){gy(null,e,null,null)}),t[as]=null}};function yy(e){this._internalRoot=e}yy.prototype.unstable_scheduleHydration=function(e){if(e){var t=WR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ls.length&&t!==0&&t<Ls[r].priority;r++);Ls.splice(r,0,e),r===0&&qR(e)}};function oS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NP(){}function IV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=jv(s);i.call(u)}}var s=fM(t,n,e,0,null,!1,!1,"",NP);return e._reactRootContainer=s,e[as]=s.current,Xf(e.nodeType===8?e.parentNode:e),Sl(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=jv(c);l.call(u)}}var c=aS(e,0,!1,null,null,!1,!1,"",NP);return e._reactRootContainer=c,e[as]=c.current,Xf(e.nodeType===8?e.parentNode:e),Sl(function(){gy(t,c,r,n)}),c}function by(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=jv(s);l.call(c)}}gy(t,s,e,a)}else s=IV(r,t,e,a,n);return jv(s)}UR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ff(t.pendingLanes);r!==0&&(N_(t,r|1),Ln(t,or()),!(ft&6)&&(uu=or()+500,No()))}break;case 13:Sl(function(){var n=is(e,1);if(n!==null){var a=wn();Ja(n,e,1,a)}}),iS(e,1)}};P_=function(e){if(e.tag===13){var t=is(e,134217728);if(t!==null){var r=wn();Ja(t,e,134217728,r)}iS(e,134217728)}};VR=function(e){if(e.tag===13){var t=lo(e),r=is(e,t);if(r!==null){var n=wn();Ja(r,e,t,n)}iS(e,t)}};WR=function(){return St};HR=function(e,t){var r=St;try{return St=e,t()}finally{St=r}};rw=function(e,t,r){switch(t){case"input":if(Yb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=uy(n);if(!a)throw Error(he(90));jR(n),Yb(n,a)}}}break;case"textarea":SR(e,r);break;case"select":t=r.value,t!=null&&Mc(e,!!r.multiple,t,!1)}};OR=eS;TR=Sl;var DV={usingClientEntryPoint:!1,Events:[hp,wc,uy,AR,kR,eS]},Vd={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LV={bundleType:Vd.bundleType,version:Vd.version,rendererPackageName:Vd.rendererPackageName,rendererConfig:Vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MR(e),e===null?null:e.stateNode},findFiberByHostInstance:Vd.findFiberByHostInstance||MV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{sy=em.inject(LV),wi=em}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DV;sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oS(t))throw Error(he(200));return $V(e,t,null,r)};sa.createRoot=function(e,t){if(!oS(e))throw Error(he(299));var r=!1,n="",a=hM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=aS(e,1,!1,null,null,r,!1,n,a),e[as]=t.current,Xf(e.nodeType===8?e.parentNode:e),new sS(t)};sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=MR(t),e=e===null?null:e.stateNode,e};sa.flushSync=function(e){return Sl(e)};sa.hydrate=function(e,t,r){if(!xy(t))throw Error(he(200));return by(null,e,t,!0,r)};sa.hydrateRoot=function(e,t,r){if(!oS(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=hM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=fM(t,null,e,1,r??null,a,!1,i,s),e[as]=t.current,Xf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new yy(t)};sa.render=function(e,t,r){if(!xy(t))throw Error(he(200));return by(null,e,t,!1,r)};sa.unmountComponentAtNode=function(e){if(!xy(e))throw Error(he(40));return e._reactRootContainer?(Sl(function(){by(null,null,e,!1,function(){e._reactRootContainer=null,e[as]=null})}),!0):!1};sa.unstable_batchedUpdates=eS;sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xy(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return by(e,t,r,!1,n)};sa.version="18.3.1-next-f1338f8080-20240426";function pM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pM)}catch(e){console.error(e)}}pM(),pR.exports=sa;var Ll=pR.exports;const mM=xt(Ll);var vM,PP=Ll;vM=PP.createRoot,PP.hydrateRoot;const FV=1,BV=1e6;let R0=0;function zV(){return R0=(R0+1)%Number.MAX_SAFE_INTEGER,R0.toString()}const $0=new Map,EP=e=>{if($0.has(e))return;const t=setTimeout(()=>{$0.delete(e),Pf({type:"REMOVE_TOAST",toastId:e})},BV);$0.set(e,t)},UV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?EP(r):e.toasts.forEach(n=>{EP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Hm=[];let qm={toasts:[]};function Pf(e){qm=UV(qm,e),Hm.forEach(t=>{t(qm)})}function qr({...e}){const t=zV(),r=a=>Pf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Pf({type:"DISMISS_TOAST",toastId:t});return Pf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function gM(){const[e,t]=w.useState(qm);return w.useEffect(()=>(Hm.push(t),()=>{const r=Hm.indexOf(t);r>-1&&Hm.splice(r,1)}),[e]),{...e,toast:qr,dismiss:r=>Pf({type:"DISMISS_TOAST",toastId:r})}}function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function AP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yM(...e){return t=>{let r=!1;const n=e.map(a=>{const i=AP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():AP(e[a],null)}}}}function Ge(...e){return w.useCallback(yM(...e),e)}function VV(e,t){const r=w.createContext(t),n=i=>{const{children:s,...l}=i,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=w.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cn(e,t=[]){let r=[];function n(i,s){const l=w.createContext(s),c=r.length;r=[...r,s];const u=f=>{var v;const{scope:h,children:p,...y}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=w.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=w.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,WV(a,...t)]}function WV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Cl(e){const t=HV(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,l=w.Children.toArray(i),c=l.find(qV);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var xM=Cl("Slot");function HV(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=GV(a),l=KV(i,a.props);return a.type!==w.Fragment&&(l.ref=n?yM(n,s):s),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bM=Symbol("radix.slottable");function wM(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=bM,t}function qV(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bM}function KV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function GV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wy(e){const t=e+"CollectionProvider",[r,n]=Cn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:v}=m,x=T.useRef(null),b=T.useRef(new Map).current;return o.jsx(a,{scope:g,itemMap:b,collectionRef:x,children:v})};s.displayName=t;const l=e+"CollectionSlot",c=Cl(l),u=T.forwardRef((m,g)=>{const{scope:v,children:x}=m,b=i(l,v),_=Ge(g,b.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cl(d),p=T.forwardRef((m,g)=>{const{scope:v,children:x,...b}=m,_=T.useRef(null),j=Ge(g,_),S=i(d,v);return T.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:j,children:x})});p.displayName=d;function y(m){const g=i(e+"CollectionConsumer",m);return T.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},y,n]}var YV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=YV.reduce((e,t)=>{const r=Cl(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function jM(e,t){e&&Ll.flushSync(()=>e.dispatchEvent(t))}function Pr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function XV(e,t=globalThis==null?void 0:globalThis.document){const r=Pr(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var QV="DismissableLayer",Mw="dismissableLayer.update",JV="dismissableLayer.pointerDownOutside",ZV="dismissableLayer.focusOutside",kP,_M=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=w.useContext(_M),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),y=Ge(t,C=>f(C)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,j=t6(C=>{const N=C.target,P=[...u.branches].some(E=>E.contains(N));!_||P||(a==null||a(C),s==null||s(C),C.defaultPrevented||l==null||l())},h),S=r6(C=>{const N=C.target;[...u.branches].some(E=>E.contains(N))||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},h);return XV(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kP)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OP())},[d,u]),w.useEffect(()=>{const C=()=>p({});return document.addEventListener(Mw,C),()=>document.removeEventListener(Mw,C)},[]),o.jsx(Te.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,S.onFocusCapture),onBlurCapture:je(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,j.onPointerDownCapture)})});nd.displayName=QV;var e6="DismissableLayerBranch",SM=w.forwardRef((e,t)=>{const r=w.useContext(_M),n=w.useRef(null),a=Ge(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Te.div,{...e,ref:a})});SM.displayName=e6;function t6(e,t=globalThis==null?void 0:globalThis.document){const r=Pr(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){CM(JV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function r6(e,t=globalThis==null?void 0:globalThis.document){const r=Pr(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&CM(ZV,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function OP(){const e=new CustomEvent(Mw);document.dispatchEvent(e)}function CM(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?jM(a,i):a.dispatchEvent(i)}var n6=nd,a6=SM,Fr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},i6="Portal",mp=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=w.useState(!1);Fr(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?mM.createPortal(o.jsx(Te.div,{...n,ref:t}),s):null});mp.displayName=i6;function s6(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Bn=e=>{const{present:t,children:r}=e,n=o6(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=Ge(n.ref,l6(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};Bn.displayName="Presence";function o6(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[l,c]=s6(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=tm(n.current);i.current=l==="mounted"?u:"none"},[l]),Fr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=tm(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Fr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=tm(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=tm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function tm(e){return(e==null?void 0:e.animationName)||"none"}function l6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var c6=g_[" useInsertionEffect ".trim().toString()]||Fr;function Fn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=u6({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=d6(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else i(d)},[l,e,i,s]);return[c,u]}function u6({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return c6(()=>{i.current=t},[t]),w.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function d6(e){return typeof e=="function"}var NM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f6="VisuallyHidden",jy=w.forwardRef((e,t)=>o.jsx(Te.span,{...e,ref:t,style:{...NM,...e.style}}));jy.displayName=f6;var h6=jy,lS="ToastProvider",[cS,p6,m6]=wy("Toast"),[PM,nOe]=Cn("Toast",[m6]),[v6,_y]=PM(lS),EM=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${lS}\`. Expected non-empty \`string\`.`),o.jsx(cS.Provider,{scope:t,children:o.jsx(v6,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};EM.displayName=lS;var AM="ToastViewport",g6=["F8"],Iw="toast.viewportPause",Dw="toast.viewportResume",kM=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=g6,label:a="Notifications ({hotkey})",...i}=e,s=_y(AM,r),l=p6(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Ge(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;w.useEffect(()=>{const g=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),w.useEffect(()=>{const g=c.current,v=f.current;if(y&&g&&v){const x=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(Iw);v.dispatchEvent(S),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(Dw);v.dispatchEvent(S),s.isClosePausedRef.current=!1}},_=S=>{!g.contains(S.relatedTarget)&&b()},j=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,s.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,j=[_,...k6(_)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return w.useEffect(()=>{const g=f.current;if(g){const v=x=>{var j,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,P=x.shiftKey;if(x.target===g&&P){(j=u.current)==null||j.focus();return}const A=m({tabbingDirection:P?"backwards":"forwards"}),R=A.findIndex(O=>O===N);M0(A.slice(R+1))?x.preventDefault():P?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,m]),o.jsxs(a6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Lw,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});M0(g)}}),o.jsx(cS.Slot,{scope:r,children:o.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),y&&o.jsx(Lw,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});M0(g)}})]})});kM.displayName=AM;var OM="ToastFocusProxy",Lw=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=_y(OM,r);return o.jsx(jy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Lw.displayName=OM;var vp="Toast",y6="toast.swipeStart",x6="toast.swipeMove",b6="toast.swipeCancel",w6="toast.swipeEnd",TM=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=Fn({prop:n,defaultProp:a??!0,onChange:i,caller:vp});return o.jsx(Bn,{present:r||l,children:o.jsx(S6,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:Pr(e.onPause),onResume:Pr(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});TM.displayName=vp;var[j6,_6]=PM(vp,{onClose(){}}),S6=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=_y(vp,r),[g,v]=w.useState(null),x=Ge(t,O=>v(O)),b=w.useRef(null),_=w.useRef(null),j=a||m.duration,S=w.useRef(0),C=w.useRef(j),N=w.useRef(0),{onToastAdd:P,onToastRemove:E}=m,k=Pr(()=>{var I;(g==null?void 0:g.contains(document.activeElement))&&((I=m.viewport)==null||I.focus()),s()}),A=w.useCallback(O=>{!O||O===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(k,O))},[k]);w.useEffect(()=>{const O=m.viewport;if(O){const I=()=>{A(C.current),u==null||u()},$=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(N.current),c==null||c()};return O.addEventListener(Iw,$),O.addEventListener(Dw,I),()=>{O.removeEventListener(Iw,$),O.removeEventListener(Dw,I)}}},[m.viewport,j,c,u,A]),w.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(j)},[i,j,m.isClosePausedRef,A]),w.useEffect(()=>(P(),()=>E()),[P,E]);const R=w.useMemo(()=>g?FM(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(C6,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),o.jsx(j6,{scope:r,onClose:k,children:Ll.createPortal(o.jsx(cS.ItemSlot,{scope:r,children:o.jsx(n6,{asChild:!0,onEscapeKeyDown:je(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:je(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:je(e.onPointerMove,O=>{if(!b.current)return;const I=O.clientX-b.current.x,$=O.clientY-b.current.y,M=!!_.current,D=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,z=D?L(0,I):0,X=D?0:L(0,$),G=O.pointerType==="touch"?10:2,F={x:z,y:X},J={originalEvent:O,delta:F};M?(_.current=F,rm(x6,f,J,{discrete:!1})):TP(F,m.swipeDirection,G)?(_.current=F,rm(y6,d,J,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(I)>G||Math.abs($)>G)&&(b.current=null)}),onPointerUp:je(e.onPointerUp,O=>{const I=_.current,$=O.target;if($.hasPointerCapture(O.pointerId)&&$.releasePointerCapture(O.pointerId),_.current=null,b.current=null,I){const M=O.currentTarget,D={originalEvent:O,delta:I};TP(I,m.swipeDirection,m.swipeThreshold)?rm(w6,p,D,{discrete:!0}):rm(b6,h,D,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),C6=e=>{const{__scopeToast:t,children:r,...n}=e,a=_y(vp,t),[i,s]=w.useState(!1),[l,c]=w.useState(!1);return E6(()=>s(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(mp,{asChild:!0,children:o.jsx(jy,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},N6="ToastTitle",RM=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});RM.displayName=N6;var P6="ToastDescription",$M=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});$M.displayName=P6;var MM="ToastAction",IM=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(LM,{altText:r,asChild:!0,children:o.jsx(uS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MM}\`. Expected non-empty \`string\`.`),null)});IM.displayName=MM;var DM="ToastClose",uS=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=_6(DM,r);return o.jsx(LM,{asChild:!0,children:o.jsx(Te.button,{type:"button",...n,ref:t,onClick:je(e.onClick,a.onClose)})})});uS.displayName=DM;var LM=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function FM(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),A6(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...FM(n))}}),t}function rm(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?jM(a,i):a.dispatchEvent(i)}var TP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function E6(e=()=>{}){const t=Pr(e);Fr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function A6(e){return e.nodeType===e.ELEMENT_NODE}function k6(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function M0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var O6=EM,BM=kM,zM=TM,UM=RM,VM=$M,WM=IM,HM=uS;function qM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qM(e))&&(n&&(n+=" "),n+=t);return n}const RP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$P=Ke,ad=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $P(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=RP(d)||RP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...u,f,h]:u},[]);return $P(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>w.createElement("svg",{ref:c,...R6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:KM("lucide",a),...l},[...s.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement($6,{ref:i,iconNode:t,className:KM(`lucide-${T6(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ee("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Ee("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ee("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ee("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Ee("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=Ee("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Ee("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vS="-",iW=e=>{const t=oW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(vS);return l[0]===""&&l.length!==1&&l.shift(),aI(l,t)||sW(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},aI=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?aI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(vS);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},zP=/^\[(.+)\]$/,sW=e=>{if(zP.test(e)){const t=zP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oW=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return cW(Object.entries(e.classGroups),r).forEach(([i,s])=>{Bw(s,n,i,t)}),n},Bw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:UP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(lW(a)){Bw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Bw(s,UP(t,i),r,n)})})},UP=(e,t)=>{let r=e;return t.split(vS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lW=e=>e.isThemeGetter,cW=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[r,a]}):e,uW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},iI="!",dW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let v=l[g];if(u===0){if(v===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(v==="/"){f=g;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(iI),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},fW=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},hW=e=>({cache:uW(e.cacheSize),parseClassName:dW(e),...iW(e)}),pW=/\s+/,mW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(pW);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const g=fW(d).join(":"),v=f?g+iI:g,x=v+m;if(i.includes(x))continue;i.push(x);const b=a(m,y);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function vW(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sI(t))&&(n&&(n+=" "),n+=r);return n}const sI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sI(e[n]))&&(r&&(r+=" "),r+=t);return r};function gW(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=hW(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=mW(c,r);return a(c,d),d}return function(){return i(vW.apply(null,arguments))}}const Mt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},oI=/^\[(?:([a-z-]+):)?(.+)\]$/i,yW=/^\d+\/\d+$/,xW=new Set(["px","full","screen"]),bW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_W=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>zc(e)||xW.has(e)||yW.test(e),Ns=e=>od(e,"length",TW),zc=e=>!!e&&!Number.isNaN(Number(e)),D0=e=>od(e,"number",zc),Wd=e=>!!e&&Number.isInteger(Number(e)),CW=e=>e.endsWith("%")&&zc(e.slice(0,-1)),et=e=>oI.test(e),Ps=e=>bW.test(e),NW=new Set(["length","size","percentage"]),PW=e=>od(e,NW,lI),EW=e=>od(e,"position",lI),AW=new Set(["image","url"]),kW=e=>od(e,AW,$W),OW=e=>od(e,"",RW),Hd=()=>!0,od=(e,t,r)=>{const n=oI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},TW=e=>wW.test(e)&&!jW.test(e),lI=()=>!1,RW=e=>_W.test(e),$W=e=>SW.test(e),MW=()=>{const e=Mt("colors"),t=Mt("spacing"),r=Mt("blur"),n=Mt("brightness"),a=Mt("borderColor"),i=Mt("borderRadius"),s=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),u=Mt("grayscale"),d=Mt("hueRotate"),f=Mt("invert"),h=Mt("gap"),p=Mt("gradientColorStops"),y=Mt("gradientColorStopPositions"),m=Mt("inset"),g=Mt("margin"),v=Mt("opacity"),x=Mt("padding"),b=Mt("saturate"),_=Mt("scale"),j=Mt("sepia"),S=Mt("skew"),C=Mt("space"),N=Mt("translate"),P=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",et,t],A=()=>[et,t],R=()=>["",Li,Ns],O=()=>["auto",zc,et],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",et],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[zc,et];return{cacheSize:500,separator:":",theme:{colors:[Hd],spacing:[Li,Ns],blur:["none","",Ps,et],brightness:X(),borderColor:[e],borderRadius:["none","","full",Ps,et],borderSpacing:A(),borderWidth:R(),contrast:X(),grayscale:L(),hueRotate:X(),invert:L(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[CW,Ns],inset:k(),margin:k(),opacity:X(),padding:A(),saturate:X(),scale:X(),sepia:L(),skew:X(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),et]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wd,et]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Wd,et]}],"grid-cols":[{"grid-cols":[Hd]}],"col-start-end":[{col:["auto",{span:["full",Wd,et]},et]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Hd]}],"row-start-end":[{row:["auto",{span:[Wd,et]},et]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,t]}],"min-w":[{"min-w":[et,t,"min","max","fit"]}],"max-w":[{"max-w":[et,t,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",D0]}],"font-family":[{font:[Hd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",zc,D0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,Ns]}],"underline-offset":[{"underline-offset":["auto",Li,et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),EW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Li,et]}],"outline-w":[{outline:[Li,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Li,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ps,OW]}],"shadow-color":[{shadow:[Hd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ps,et]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Wd,et]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,Ns,D0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IW=gW(MW);function ie(...e){return IW(Ke(e))}const DW=O6,cI=w.forwardRef(({className:e,...t},r)=>o.jsx(BM,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cI.displayName=BM.displayName;const LW=ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uI=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(zM,{ref:n,className:ie(LW({variant:t}),e),...r}));uI.displayName=zM.displayName;const FW=w.forwardRef(({className:e,...t},r)=>o.jsx(WM,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));FW.displayName=WM.displayName;const dI=w.forwardRef(({className:e,...t},r)=>o.jsx(HM,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Ai,{className:"h-4 w-4"})}));dI.displayName=HM.displayName;const fI=w.forwardRef(({className:e,...t},r)=>o.jsx(UM,{ref:r,className:ie("text-sm font-semibold",e),...t}));fI.displayName=UM.displayName;const hI=w.forwardRef(({className:e,...t},r)=>o.jsx(VM,{ref:r,className:ie("text-sm opacity-90",e),...t}));hI.displayName=VM.displayName;function BW(){const{toasts:e}=gM();return o.jsxs(DW,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return o.jsxs(uI,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(fI,{children:r}),n&&o.jsx(hI,{children:n})]}),a,o.jsx(dI,{})]},t)}),o.jsx(cI,{})]})}var VP=["light","dark"],zW="(prefers-color-scheme: dark)",UW=w.createContext(void 0),VW={setTheme:e=>{},themes:[]},WW=()=>{var e;return(e=w.useContext(UW))!=null?e:VW};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?VP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,g=!0)=>{let v=s?s[y]:y,x=m?y+"|| ''":`'${v}'`,b="";return a&&g&&!m&&VP.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${zW}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var HW=e=>{switch(e){case"success":return GW;case"info":return XW;case"warning":return YW;case"error":return QW;default:return null}},qW=Array(12).fill(0),KW=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},qW.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),GW=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YW=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XW=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QW=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JW=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZW=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},zw=1,eH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zw++,i=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,s=n.then(async c=>{if(i=["resolve",c],T.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(rH(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>s.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||zw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},On=new eH,tH=(e,t)=>{let r=(t==null?void 0:t.id)||zw++;return On.addToast({title:e,...t,id:r}),r},rH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nH=tH,aH=()=>On.toasts,iH=()=>On.getActiveToasts(),Ce=Object.assign(nH,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:aH,getToasts:iH});function sH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}sH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nm(e){return e.label!==void 0}var oH=3,lH="32px",cH="16px",WP=4e3,uH=356,dH=14,fH=20,hH=200;function Ra(...e){return e.filter(Boolean).join(" ")}function pH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var mH=e=>{var t,r,n,a,i,s,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:C,closeButton:N,style:P,cancelButtonStyle:E,actionButtonStyle:k,className:A="",descriptionClassName:R="",duration:O,position:I,gap:$,loadingIcon:M,expandByDefault:D,classNames:L,icons:z,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:G}=e,[F,J]=T.useState(null),[U,V]=T.useState(null),[W,de]=T.useState(!1),[Q,te]=T.useState(!1),[q,H]=T.useState(!1),[ve,ge]=T.useState(!1),[Ae,Le]=T.useState(!1),[Ye,$t]=T.useState(0),[Gt,B]=T.useState(0),K=T.useRef(p.duration||O||WP),Z=T.useRef(null),ne=T.useRef(null),ue=b===0,ce=b+1<=v,ye=p.type,Ie=p.dismissible!==!1,lt=p.className||"",$r=p.descriptionClassName||"",dn=T.useMemo(()=>x.findIndex(qe=>qe.toastId===p.id)||0,[x,p.id]),wr=T.useMemo(()=>{var qe;return(qe=p.closeButton)!=null?qe:N},[p.closeButton,N]),se=T.useMemo(()=>p.duration||O||WP,[p.duration,O]),Be=T.useRef(0),bt=T.useRef(0),ir=T.useRef(0),dt=T.useRef(null),[nt,Nn]=I.split("-"),fn=T.useMemo(()=>x.reduce((qe,wt,Et)=>Et>=dn?qe:qe+wt.height,0),[x,dn]),$p=ZW(),Mp=p.invert||h,Md=ye==="loading";bt.current=T.useMemo(()=>dn*$+fn,[dn,fn]),T.useEffect(()=>{K.current=se},[se]),T.useEffect(()=>{de(!0)},[]),T.useEffect(()=>{let qe=ne.current;if(qe){let wt=qe.getBoundingClientRect().height;return B(wt),g(Et=>[{toastId:p.id,height:wt,position:p.position},...Et]),()=>g(Et=>Et.filter(Pn=>Pn.toastId!==p.id))}},[g,p.id]),T.useLayoutEffect(()=>{if(!W)return;let qe=ne.current,wt=qe.style.height;qe.style.height="auto";let Et=qe.getBoundingClientRect().height;qe.style.height=wt,B(Et),g(Pn=>Pn.find(Un=>Un.toastId===p.id)?Pn.map(Un=>Un.toastId===p.id?{...Un,height:Et}:Un):[{toastId:p.id,height:Et,position:p.position},...Pn])},[W,p.title,p.description,g,p.id]);let si=T.useCallback(()=>{te(!0),$t(bt.current),g(qe=>qe.filter(wt=>wt.toastId!==p.id)),setTimeout(()=>{S(p)},hH)},[p,S,g,bt]);T.useEffect(()=>{if(p.promise&&ye==="loading"||p.duration===1/0||p.type==="loading")return;let qe;return j||m||G&&$p?(()=>{if(ir.current<Be.current){let wt=new Date().getTime()-Be.current;K.current=K.current-wt}ir.current=new Date().getTime()})():K.current!==1/0&&(Be.current=new Date().getTime(),qe=setTimeout(()=>{var wt;(wt=p.onAutoClose)==null||wt.call(p,p),si()},K.current)),()=>clearTimeout(qe)},[j,m,p,ye,G,$p,si]),T.useEffect(()=>{p.delete&&si()},[si,p.delete]);function i0(){var qe,wt,Et;return z!=null&&z.loading?T.createElement("div",{className:Ra(L==null?void 0:L.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":ye==="loading"},z.loading):M?T.createElement("div",{className:Ra(L==null?void 0:L.loader,(wt=p==null?void 0:p.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":ye==="loading"},M):T.createElement(KW,{className:Ra(L==null?void 0:L.loader,(Et=p==null?void 0:p.classNames)==null?void 0:Et.loader),visible:ye==="loading"})}return T.createElement("li",{tabIndex:0,ref:ne,className:Ra(A,lt,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ye],(r=p==null?void 0:p.classNames)==null?void 0:r[ye]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":W,"data-promise":!!p.promise,"data-swiped":Ae,"data-removed":Q,"data-visible":ce,"data-y-position":nt,"data-x-position":Nn,"data-index":b,"data-front":ue,"data-swiping":q,"data-dismissible":Ie,"data-type":ye,"data-invert":Mp,"data-swipe-out":ve,"data-swipe-direction":U,"data-expanded":!!(j||D&&W),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Q?Ye:bt.current}px`,"--initial-height":D?"auto":`${Gt}px`,...P,...p.style},onDragEnd:()=>{H(!1),J(null),dt.current=null},onPointerDown:qe=>{Md||!Ie||(Z.current=new Date,$t(bt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(H(!0),dt.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,wt,Et,Pn;if(ve||!Ie)return;dt.current=null;let Un=Number(((qe=ne.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((wt=ne.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Do=new Date().getTime()-((Et=Z.current)==null?void 0:Et.getTime()),Oa=F==="x"?Un:En,Ss=Math.abs(Oa)/Do;if(Math.abs(Oa)>=fH||Ss>.11){$t(bt.current),(Pn=p.onDismiss)==null||Pn.call(p,p),V(F==="x"?Un>0?"right":"left":En>0?"down":"up"),si(),ge(!0),Le(!1);return}H(!1),J(null)},onPointerMove:qe=>{var wt,Et,Pn,Un;if(!dt.current||!Ie||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;let En=qe.clientY-dt.current.y,Do=qe.clientX-dt.current.x,Oa=(Et=e.swipeDirections)!=null?Et:pH(I);!F&&(Math.abs(Do)>1||Math.abs(En)>1)&&J(Math.abs(Do)>Math.abs(En)?"x":"y");let Ss={x:0,y:0};F==="y"?(Oa.includes("top")||Oa.includes("bottom"))&&(Oa.includes("top")&&En<0||Oa.includes("bottom")&&En>0)&&(Ss.y=En):F==="x"&&(Oa.includes("left")||Oa.includes("right"))&&(Oa.includes("left")&&Do<0||Oa.includes("right")&&Do>0)&&(Ss.x=Do),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&Le(!0),(Pn=ne.current)==null||Pn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Un=ne.current)==null||Un.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},wr&&!p.jsx?T.createElement("button",{"aria-label":X,"data-disabled":Md,"data-close-button":!0,onClick:Md||!Ie?()=>{}:()=>{var qe;si(),(qe=p.onDismiss)==null||qe.call(p,p)},className:Ra(L==null?void 0:L.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=z==null?void 0:z.close)!=null?i:JW):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,ye||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:Ra(L==null?void 0:L.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||i0():null,p.type!=="loading"?p.icon||(z==null?void 0:z[ye])||HW(ye):null):null,T.createElement("div",{"data-content":"",className:Ra(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},T.createElement("div",{"data-title":"",className:Ra(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:Ra(R,$r,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&nm(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:qe=>{var wt,Et;nm(p.cancel)&&Ie&&((Et=(wt=p.cancel).onClick)==null||Et.call(wt,qe),si())},className:Ra(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&nm(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:qe=>{var wt,Et;nm(p.action)&&((Et=(wt=p.action).onClick)==null||Et.call(wt,qe),!qe.defaultPrevented&&si())},className:Ra(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function HP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function vH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?cH:lH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var gH=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=oH,toastOptions:m,dir:g=HP(),gap:v=dH,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=T.useState([]),N=T.useMemo(()=>Array.from(new Set([n].concat(S.filter(G=>G.position).map(G=>G.position)))),[S,n]),[P,E]=T.useState([]),[k,A]=T.useState(!1),[R,O]=T.useState(!1),[I,$]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=T.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=T.useRef(null),z=T.useRef(!1),X=T.useCallback(G=>{C(F=>{var J;return(J=F.find(U=>U.id===G.id))!=null&&J.delete||On.dismiss(G.id),F.filter(({id:U})=>U!==G.id)})},[]);return T.useEffect(()=>On.subscribe(G=>{if(G.dismiss){C(F=>F.map(J=>J.id===G.id?{...J,delete:!0}:J));return}setTimeout(()=>{mM.flushSync(()=>{C(F=>{let J=F.findIndex(U=>U.id===G.id);return J!==-1?[...F.slice(0,J),{...F[J],...G},...F.slice(J+1)]:[G,...F]})})})}),[]),T.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:F})=>{$(F?"dark":"light")})}catch{G.addListener(({matches:J})=>{try{$(J?"dark":"light")}catch(U){console.error(U)}})}},[d]),T.useEffect(()=>{S.length<=1&&A(!1)},[S]),T.useEffect(()=>{let G=F=>{var J,U;a.every(V=>F[V]||F.code===V)&&(A(!0),(J=M.current)==null||J.focus()),F.code==="Escape"&&(document.activeElement===M.current||(U=M.current)!=null&&U.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),T.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[M.current]),T.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((G,F)=>{var J;let[U,V]=G.split("-");return S.length?T.createElement("ol",{key:G,dir:g==="auto"?HP():g,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":U,"data-lifted":k&&S.length>1&&!i,"data-x-position":V,style:{"--front-toast-height":`${((J=P[0])==null?void 0:J.height)||0}px`,"--width":`${uH}px`,"--gap":`${v}px`,...p,...vH(c,u)},onBlur:W=>{z.current&&!W.currentTarget.contains(W.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=W.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter(W=>!W.position&&F===0||W.position===G).map((W,de)=>{var Q,te;return T.createElement(mH,{key:W.id,icons:b,index:de,toast:W,defaultRichColors:f,duration:(Q=m==null?void 0:m.duration)!=null?Q:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(te=m==null?void 0:m.closeButton)!=null?te:s,interacting:R,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:S.filter(q=>q.position==W.position),heights:P.filter(q=>q.position==W.position),setHeights:E,expandByDefault:i,gap:v,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const yH=({...e})=>{const{theme:t="system"}=WW();return o.jsx(gH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var xH=g_[" useId ".trim().toString()]||(()=>{}),bH=0;function Si(e){const[t,r]=w.useState(xH());return Fr(()=>{e||r(n=>n??String(bH++))},[e]),e||(t?`radix-${t}`:"")}const wH=["top","right","bottom","left"],yo=Math.min,Xn=Math.max,Cv=Math.round,am=Math.floor,Ci=e=>({x:e,y:e}),jH={left:"right",right:"left",bottom:"top",top:"bottom"},_H={start:"end",end:"start"};function Uw(e,t,r){return Xn(e,yo(t,r))}function os(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function ld(e){return e.split("-")[1]}function gS(e){return e==="x"?"y":"x"}function yS(e){return e==="y"?"height":"width"}const SH=new Set(["top","bottom"]);function gi(e){return SH.has(ls(e))?"y":"x"}function xS(e){return gS(gi(e))}function CH(e,t,r){r===void 0&&(r=!1);const n=ld(e),a=xS(e),i=yS(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Nv(s)),[s,Nv(s)]}function NH(e){const t=Nv(e);return[Vw(e),t,Vw(t)]}function Vw(e){return e.replace(/start|end/g,t=>_H[t])}const qP=["left","right"],KP=["right","left"],PH=["top","bottom"],EH=["bottom","top"];function AH(e,t,r){switch(e){case"top":case"bottom":return r?t?KP:qP:t?qP:KP;case"left":case"right":return t?PH:EH;default:return[]}}function kH(e,t,r,n){const a=ld(e);let i=AH(ls(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Vw)))),i}function Nv(e){return e.replace(/left|right|bottom|top/g,t=>jH[t])}function OH(e){return{top:0,right:0,bottom:0,left:0,...e}}function pI(e){return typeof e!="number"?OH(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function GP(e,t,r){let{reference:n,floating:a}=e;const i=gi(t),s=xS(t),l=yS(s),c=ls(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ld(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const TH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=GP(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:v}=l[m],{x,y:b,data:_,reset:j}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[g]:{...p[g],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=GP(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function lh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=os(t,e),y=pI(p),g=l[h?f==="floating"?"reference":"floating":f],v=Pv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Pv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-j.top+y.top)/_.y,bottom:(j.bottom-v.bottom+y.bottom)/_.y,left:(v.left-j.left+y.left)/_.x,right:(j.right-v.right+y.right)/_.x}}const RH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=os(e,t)||{};if(u==null)return{};const f=pI(d),h={x:r,y:n},p=xS(a),y=yS(p),m=await s.getDimensions(u),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[p]-h[p]-i.floating[y],j=h[p]-i.reference[p],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const N=_/2-j/2,P=C/2-m[y]/2-1,E=yo(f[v],P),k=yo(f[x],P),A=E,R=C-m[y]-k,O=C/2-m[y]/2+N,I=Uw(A,O,R),$=!c.arrow&&ld(a)!=null&&O!==I&&i.reference[y]/2-(O<A?E:k)-m[y]/2<0,M=$?O<A?O-A:O-R:0;return{[p]:h[p]+M,data:{[p]:I,centerOffset:O-I-M,...$&&{alignmentOffset:M}},reset:$}}}),$H=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=os(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=ls(a),x=gi(l),b=ls(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!m?[Nv(l)]:NH(l)),S=y!=="none";!h&&S&&j.push(...kH(l,m,y,_));const C=[l,...j],N=await lh(t,g),P=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(N[v]),f){const O=CH(a,s,_);P.push(N[O[0]],N[O[1]])}if(E=[...E,{placement:a,overflows:P}],!P.every(O=>O<=0)){var k,A;const O=(((k=i.flip)==null?void 0:k.index)||0)+1,I=C[O];if(I&&(!(f==="alignment"?x!==gi(I):!1)||E.every(D=>D.overflows[0]>0&&gi(D.placement)===x)))return{data:{index:O,overflows:E},reset:{placement:I}};let $=(A=E.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!$)switch(p){case"bestFit":{var R;const M=(R=E.filter(D=>{if(S){const L=gi(D.placement);return L===x||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:R[0];M&&($=M);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function YP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XP(e){return wH.some(t=>e[t]>=0)}const MH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=os(e,t);switch(n){case"referenceHidden":{const i=await lh(t,{...a,elementContext:"reference"}),s=YP(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:XP(s)}}}case"escaped":{const i=await lh(t,{...a,altBoundary:!0}),s=YP(i,r.floating);return{data:{escapedOffsets:s,escaped:XP(s)}}}default:return{}}}}},mI=new Set(["left","top"]);async function IH(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=ls(r),l=ld(r),c=gi(r)==="y",u=mI.has(s)?-1:1,d=i&&c?-1:1,f=os(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const DH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await IH(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},LH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...c}=os(e,t),u={x:r,y:n},d=await lh(t,c),f=gi(ls(a)),h=gS(f);let p=u[h],y=u[f];if(i){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[g],b=p-d[v];p=Uw(x,p,b)}if(s){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+d[g],b=y-d[v];y=Uw(x,y,b)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:s}}}}}},FH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=os(e,t),d={x:r,y:n},f=gi(a),h=gS(f);let p=d[h],y=d[f];const m=os(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+g.mainAxis,j=i.reference[h]+i.reference[b]-g.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var v,x;const b=h==="y"?"width":"height",_=mI.has(ls(a)),j=i.reference[f]-i.floating[b]+(_&&((v=s.offset)==null?void 0:v[f])||0)+(_?0:g.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((x=s.offset)==null?void 0:x[f])||0)-(_?g.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:p,[f]:y}}}},BH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...u}=os(e,t),d=await lh(t,u),f=ls(a),h=ld(a),p=gi(a)==="y",{width:y,height:m}=i.floating;let g,v;f==="top"||f==="bottom"?(g=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,g=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,_=yo(m-d[g],x),j=yo(y-d[v],b),S=!t.middlewareData.shift;let C=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const E=Xn(d.left,0),k=Xn(d.right,0),A=Xn(d.top,0),R=Xn(d.bottom,0);p?N=y-2*(E!==0||k!==0?E+k:Xn(d.left,d.right)):C=m-2*(A!==0||R!==0?A+R:Xn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const P=await s.getDimensions(l.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Cy(){return typeof window<"u"}function cd(e){return vI(e)?(e.nodeName||"").toLowerCase():"#document"}function ta(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ri(e){var t;return(t=(vI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vI(e){return Cy()?e instanceof Node||e instanceof ta(e).Node:!1}function ri(e){return Cy()?e instanceof Element||e instanceof ta(e).Element:!1}function ki(e){return Cy()?e instanceof HTMLElement||e instanceof ta(e).HTMLElement:!1}function QP(e){return!Cy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ta(e).ShadowRoot}const zH=new Set(["inline","contents"]);function yp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zH.has(a)}const UH=new Set(["table","td","th"]);function VH(e){return UH.has(cd(e))}const WH=[":popover-open",":modal"];function Ny(e){return WH.some(t=>{try{return e.matches(t)}catch{return!1}})}const HH=["transform","translate","scale","rotate","perspective"],qH=["transform","translate","scale","rotate","perspective","filter"],KH=["paint","layout","strict","content"];function bS(e){const t=wS(),r=ri(e)?ni(e):e;return HH.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qH.some(n=>(r.willChange||"").includes(n))||KH.some(n=>(r.contain||"").includes(n))}function GH(e){let t=xo(e);for(;ki(t)&&!mu(t);){if(bS(t))return t;if(Ny(t))return null;t=xo(t)}return null}function wS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YH=new Set(["html","body","#document"]);function mu(e){return YH.has(cd(e))}function ni(e){return ta(e).getComputedStyle(e)}function Py(e){return ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xo(e){if(cd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QP(e)&&e.host||Ri(e);return QP(t)?t.host:t}function gI(e){const t=xo(e);return mu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&yp(t)?t:gI(t)}function ch(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=gI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=ta(a);if(i){const l=Ww(s);return t.concat(s,s.visualViewport||[],yp(a)?a:[],l&&r?ch(l):[])}return t.concat(a,ch(a,[],r))}function Ww(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yI(e){const t=ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ki(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=Cv(r)!==i||Cv(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function jS(e){return ri(e)?e:e.contextElement}function Uc(e){const t=jS(e);if(!ki(t))return Ci(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=yI(t);let s=(i?Cv(r.width):r.width)/n,l=(i?Cv(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const XH=Ci(0);function xI(e){const t=ta(e);return!wS()||!t.visualViewport?XH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QH(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ta(e)?!1:t}function Nl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=jS(e);let s=Ci(1);t&&(n?ri(n)&&(s=Uc(n)):s=Uc(e));const l=QH(i,r,n)?xI(i):Ci(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=ta(i),p=n&&ri(n)?ta(n):n;let y=h,m=Ww(y);for(;m&&n&&p!==y;){const g=Uc(m),v=m.getBoundingClientRect(),x=ni(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,_=v.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=_,y=ta(m),m=Ww(y)}}return Pv({width:d,height:f,x:c,y:u})}function _S(e,t){const r=Py(e).scrollLeft;return t?t.left+r:Nl(Ri(e)).left+r}function bI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:_S(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function JH(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Ri(n),l=t?Ny(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const d=Ci(0),f=ki(n);if((f||!f&&!i)&&((cd(n)!=="body"||yp(s))&&(c=Py(n)),ki(n))){const p=Nl(n);u=Uc(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?bI(s,c,!0):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function ZH(e){return Array.from(e.getClientRects())}function eq(e){const t=Ri(e),r=Py(e),n=e.ownerDocument.body,a=Xn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Xn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+_S(e);const l=-r.scrollTop;return ni(n).direction==="rtl"&&(s+=Xn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}function tq(e,t){const r=ta(e),n=Ri(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const u=wS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:l,y:c}}const rq=new Set(["absolute","fixed"]);function nq(e,t){const r=Nl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ki(e)?Uc(e):Ci(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function JP(e,t,r){let n;if(t==="viewport")n=tq(e,r);else if(t==="document")n=eq(Ri(e));else if(ri(t))n=nq(t,r);else{const a=xI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Pv(n)}function wI(e,t){const r=xo(e);return r===t||!ri(r)||mu(r)?!1:ni(r).position==="fixed"||wI(r,t)}function aq(e,t){const r=t.get(e);if(r)return r;let n=ch(e,[],!1).filter(l=>ri(l)&&cd(l)!=="body"),a=null;const i=ni(e).position==="fixed";let s=i?xo(e):e;for(;ri(s)&&!mu(s);){const l=ni(s),c=bS(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&rq.has(a.position)||yp(s)&&!c&&wI(e,s))?n=n.filter(d=>d!==s):a=l,s=xo(s)}return t.set(e,n),n}function iq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?Ny(t)?[]:aq(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=JP(t,d,a);return u.top=Xn(f.top,u.top),u.right=yo(f.right,u.right),u.bottom=yo(f.bottom,u.bottom),u.left=Xn(f.left,u.left),u},JP(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sq(e){const{width:t,height:r}=yI(e);return{width:t,height:r}}function oq(e,t,r){const n=ki(t),a=Ri(t),i=r==="fixed",s=Nl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=_S(a)}if(n||!n&&!i)if((cd(t)!=="body"||yp(a))&&(l=Py(t)),n){const p=Nl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?bI(a,l):Ci(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function L0(e){return ni(e).position==="static"}function ZP(e,t){if(!ki(e)||ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ri(e)===r&&(r=r.ownerDocument.body),r}function jI(e,t){const r=ta(e);if(Ny(e))return r;if(!ki(e)){let a=xo(e);for(;a&&!mu(a);){if(ri(a)&&!L0(a))return a;a=xo(a)}return r}let n=ZP(e,t);for(;n&&VH(n)&&L0(n);)n=ZP(n,t);return n&&mu(n)&&L0(n)&&!bS(n)?r:n||GH(e)||r}const lq=async function(e){const t=this.getOffsetParent||jI,r=this.getDimensions,n=await r(e.floating);return{reference:oq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cq(e){return ni(e).direction==="rtl"}const uq={convertOffsetParentRelativeRectToViewportRelativeRect:JH,getDocumentElement:Ri,getClippingRect:iq,getOffsetParent:jI,getElementRects:lq,getClientRects:ZH,getDimensions:sq,getScale:Uc,isElement:ri,isRTL:cq};function _I(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dq(e,t){let r=null,n;const a=Ri(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=am(f),m=am(a.clientWidth-(d+h)),g=am(a.clientHeight-(f+p)),v=am(d),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Xn(0,yo(1,c))||1};let _=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!_I(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return s(!0),i}function fq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=jS(e),d=a||i?[...u?ch(u):[],...ch(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?dq(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?Nl(e):null;c&&g();function g(){const v=Nl(e);m&&!_I(m,v)&&r(),m=v,y=requestAnimationFrame(g)}return r(),()=>{var v;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const hq=DH,pq=LH,mq=$H,vq=BH,gq=MH,eE=RH,yq=FH,xq=(e,t,r)=>{const n=new Map,a={platform:uq,...r},i={...a.platform,_c:n};return TH(e,t,{...a,platform:i})};var bq=typeof document<"u",wq=function(){},Gm=bq?w.useLayoutEffect:wq;function Ev(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ev(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Ev(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tE(e,t){const r=SI(e);return Math.round(t*r)/r}function F0(e){const t=w.useRef(e);return Gm(()=>{t.current=e}),t}function jq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(n);Ev(h,n)||p(n);const[y,m]=w.useState(null),[g,v]=w.useState(null),x=w.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),b=w.useCallback(D=>{D!==C.current&&(C.current=D,v(D))},[]),_=i||y,j=s||g,S=w.useRef(null),C=w.useRef(null),N=w.useRef(d),P=c!=null,E=F0(c),k=F0(a),A=F0(u),R=w.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:h};k.current&&(D.platform=k.current),xq(S.current,C.current,D).then(L=>{const z={...L,isPositioned:A.current!==!1};O.current&&!Ev(N.current,z)&&(N.current=z,Ll.flushSync(()=>{f(z)}))})},[h,t,r,k,A]);Gm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const O=w.useRef(!1);Gm(()=>(O.current=!0,()=>{O.current=!1}),[]),Gm(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(E.current)return E.current(_,j,R);R()}},[_,j,R,E,P]);const I=w.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),$=w.useMemo(()=>({reference:_,floating:j}),[_,j]),M=w.useMemo(()=>{const D={position:r,left:0,top:0};if(!$.floating)return D;const L=tE($.floating,d.x),z=tE($.floating,d.y);return l?{...D,transform:"translate("+L+"px, "+z+"px)",...SI($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:z}},[r,l,$.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:R,refs:I,elements:$,floatingStyles:M}),[d,R,I,$,M])}const _q=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eE({element:n.current,padding:a}).fn(r):{}:n?eE({element:n,padding:a}).fn(r):{}}}},Sq=(e,t)=>({...hq(e),options:[e,t]}),Cq=(e,t)=>({...pq(e),options:[e,t]}),Nq=(e,t)=>({...yq(e),options:[e,t]}),Pq=(e,t)=>({...mq(e),options:[e,t]}),Eq=(e,t)=>({...vq(e),options:[e,t]}),Aq=(e,t)=>({...gq(e),options:[e,t]}),kq=(e,t)=>({..._q(e),options:[e,t]});var Oq="Arrow",CI=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(Te.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});CI.displayName=Oq;var Tq=CI;function Ey(e){const[t,r]=w.useState(void 0);return Fr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var SS="Popper",[NI,ud]=Cn(SS),[Rq,PI]=NI(SS),EI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return o.jsx(Rq,{scope:t,anchor:n,onAnchorChange:a,children:r})};EI.displayName=SS;var AI="PopperAnchor",kI=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=PI(AI,r),s=w.useRef(null),l=Ge(t,s);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:o.jsx(Te.div,{...a,ref:l})});kI.displayName=AI;var CS="PopperContent",[$q,Mq]=NI(CS),OI=w.forwardRef((e,t)=>{var W,de,Q,te,q,H;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=PI(CS,r),[v,x]=w.useState(null),b=Ge(t,ve=>x(ve)),[_,j]=w.useState(null),S=Ey(_),C=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,P=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],A=k.length>0,R={padding:E,boundary:k.filter(Dq),altBoundary:A},{refs:O,floatingStyles:I,placement:$,isPositioned:M,middlewareData:D}=jq({strategy:"fixed",placement:P,whileElementsMounted:(...ve)=>fq(...ve,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Sq({mainAxis:a+N,alignmentAxis:s}),c&&Cq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nq():void 0,...R}),c&&Pq({...R}),Eq({...R,apply:({elements:ve,rects:ge,availableWidth:Ae,availableHeight:Le})=>{const{width:Ye,height:$t}=ge.reference,Gt=ve.floating.style;Gt.setProperty("--radix-popper-available-width",`${Ae}px`),Gt.setProperty("--radix-popper-available-height",`${Le}px`),Gt.setProperty("--radix-popper-anchor-width",`${Ye}px`),Gt.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),_&&kq({element:_,padding:l}),Lq({arrowWidth:C,arrowHeight:N}),h&&Aq({strategy:"referenceHidden",...R})]}),[L,z]=$I($),X=Pr(y);Fr(()=>{M&&(X==null||X())},[M,X]);const G=(W=D.arrow)==null?void 0:W.x,F=(de=D.arrow)==null?void 0:de.y,J=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[U,V]=w.useState();return Fr(()=>{v&&V(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:M?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(te=D.transformOrigin)==null?void 0:te.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((H=D.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx($q,{scope:r,placedSide:L,onArrowChange:j,arrowX:G,arrowY:F,shouldHideArrow:J,children:o.jsx(Te.div,{"data-side":L,"data-align":z,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});OI.displayName=CS;var TI="PopperArrow",Iq={top:"bottom",right:"left",bottom:"top",left:"right"},RI=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Mq(TI,n),s=Iq[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Tq,{...a,ref:r,style:{...a.style,display:"block"}})})});RI.displayName=TI;function Dq(e){return e!==null}var Lq=e=>({name:"transformOrigin",options:e,fn(t){var g,v,x;const{placement:r,rects:n,middlewareData:a}=t,s=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=$I(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=s?f:`${h}px`,m=`${-c}px`):u==="top"?(y=s?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x:y,y:m}}}});function $I(e){const[t,r="center"]=e.split("-");return[t,r]}var NS=EI,Ay=kI,PS=OI,ES=RI,[ky,aOe]=Cn("Tooltip",[ud]),Oy=ud(),MI="TooltipProvider",Fq=700,Hw="tooltip.open",[Bq,AS]=ky(MI),II=e=>{const{__scopeTooltip:t,delayDuration:r=Fq,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Bq,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};II.displayName=MI;var uh="Tooltip",[zq,Ty]=ky(uh),DI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=e,c=AS(uh,e.__scopeTooltip),u=Oy(t),[d,f]=w.useState(null),h=Si(),p=w.useRef(0),y=s??c.disableHoverableContent,m=l??c.delayDuration,g=w.useRef(!1),[v,x]=Fn({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Hw))):c.onClose(),i==null||i(C)},caller:uh}),b=w.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),j=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},m)},[m,x]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(NS,{...u,children:o.jsx(zq,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:w.useCallback(()=>{y?j():(window.clearTimeout(p.current),p.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};DI.displayName=uh;var qw="TooltipTrigger",LI=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ty(qw,r),i=AS(qw,r),s=Oy(r),l=w.useRef(null),c=Ge(t,l,a.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Ay,{asChild:!0,...s,children:o.jsx(Te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:je(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:je(e.onBlur,a.onClose),onClick:je(e.onClick,a.onClose)})})});LI.displayName=qw;var Uq="TooltipPortal",[iOe,Vq]=ky(Uq,{forceMount:void 0}),vu="TooltipContent",FI=w.forwardRef((e,t)=>{const r=Vq(vu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=Ty(vu,e.__scopeTooltip);return o.jsx(Bn,{present:n||s.open,children:s.disableHoverableContent?o.jsx(BI,{side:a,...i,ref:t}):o.jsx(Wq,{side:a,...i,ref:t})})}),Wq=w.forwardRef((e,t)=>{const r=Ty(vu,e.__scopeTooltip),n=AS(vu,e.__scopeTooltip),a=w.useRef(null),i=Ge(t,a),[s,l]=w.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{l(null),f(!1)},[f]),p=w.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},x=Yq(v,g.getBoundingClientRect()),b=Xq(v,x),_=Qq(m.getBoundingClientRect()),j=Zq([...b,..._]);l(j),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const y=g=>p(g,d),m=g=>p(g,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),w.useEffect(()=>{if(s){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),b=!Jq(v,s);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,h]),o.jsx(BI,{...e,ref:i})}),[Hq,qq]=ky(uh,{isInside:!1}),Kq=wM("TooltipContent"),BI=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=Ty(vu,r),u=Oy(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(Hw,d),()=>document.removeEventListener(Hw,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(PS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Kq,{children:n}),o.jsx(Hq,{scope:r,isInside:!0,children:o.jsx(h6,{id:c.contentId,role:"tooltip",children:a||n})})]})})});FI.displayName=vu;var zI="TooltipArrow",Gq=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Oy(r);return qq(zI,r).isInside?null:o.jsx(ES,{...a,...n,ref:t})});Gq.displayName=zI;function Yq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Qq(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Jq(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Zq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),e9(t)}function e9(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var t9=II,r9=DI,n9=LI,UI=FI;const a9=t9,i9=r9,s9=n9,VI=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(UI,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));VI.displayName=UI.displayName;var Ry=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$y=typeof window>"u"||"Deno"in globalThis;function La(){}function o9(e,t){return typeof e=="function"?e(t):e}function l9(e){return typeof e=="number"&&e>=0&&e!==1/0}function c9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kw(e,t){return typeof e=="function"?e(t):e}function u9(e,t){return typeof e=="function"?e(t):e}function rE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==kS(s,t.options))return!1}else if(!fh(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function nE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(dh(t.options.mutationKey)!==dh(i))return!1}else if(!fh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function kS(e,t){return((t==null?void 0:t.queryKeyHashFn)||dh)(e)}function dh(e){return JSON.stringify(e,(t,r)=>Gw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function fh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>fh(e[r],t[r])):!1}function WI(e,t){if(e===t)return e;const r=aE(e)&&aE(t);if(r||Gw(e)&&Gw(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),s=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<s;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=WI(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===s&&u===a?e:l}return t}function aE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gw(e){if(!iE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iE(e){return Object.prototype.toString.call(e)==="[object Object]"}function d9(e){return new Promise(t=>{setTimeout(t,e)})}function f9(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?WI(e,t):t}function h9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function p9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var OS=Symbol();function HI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===OS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ul,Us,Xc,Y2,m9=(Y2=class extends Ry{constructor(){super();pt(this,ul);pt(this,Us);pt(this,Xc);Je(this,Xc,t=>{if(!$y&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){oe(this,Us)||this.setEventListener(oe(this,Xc))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,Us))==null||t.call(this),Je(this,Us,void 0))}setEventListener(t){var r;Je(this,Xc,t),(r=oe(this,Us))==null||r.call(this),Je(this,Us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){oe(this,ul)!==t&&(Je(this,ul,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof oe(this,ul)=="boolean"?oe(this,ul):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ul=new WeakMap,Us=new WeakMap,Xc=new WeakMap,Y2),qI=new m9,Qc,Vs,Jc,X2,v9=(X2=class extends Ry{constructor(){super();pt(this,Qc,!0);pt(this,Vs);pt(this,Jc);Je(this,Jc,t=>{if(!$y&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){oe(this,Vs)||this.setEventListener(oe(this,Jc))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,Vs))==null||t.call(this),Je(this,Vs,void 0))}setEventListener(t){var r;Je(this,Jc,t),(r=oe(this,Vs))==null||r.call(this),Je(this,Vs,t(this.setOnline.bind(this)))}setOnline(t){oe(this,Qc)!==t&&(Je(this,Qc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return oe(this,Qc)}},Qc=new WeakMap,Vs=new WeakMap,Jc=new WeakMap,X2),Av=new v9;function g9(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function y9(e){return Math.min(1e3*2**e,3e4)}function KI(e){return(e??"online")==="online"?Av.isOnline():!0}var GI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function B0(e){return e instanceof GI}function YI(e){let t=!1,r=0,n=!1,a;const i=g9(),s=m=>{var g;n||(h(new GI(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>qI.isFocused()&&(e.networkMode==="always"||Av.isOnline())&&e.canRun(),d=()=>KI(e.networkMode)&&e.canRun(),f=m=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=v=>{(n||u())&&m(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var S;if(n)return;const x=e.retry??($y?0:3),b=e.retryDelay??y9,_=typeof b=="function"?b(r,v):b,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!j){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),d9(_).then(()=>u()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var x9=e=>setTimeout(e,0);function b9(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=x9;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var vn=b9(),dl,Q2,XI=(Q2=class{constructor(){pt(this,dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l9(this.gcTime)&&Je(this,dl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($y?1/0:5*60*1e3))}clearGcTimeout(){oe(this,dl)&&(clearTimeout(oe(this,dl)),Je(this,dl,void 0))}},dl=new WeakMap,Q2),Zc,fl,ha,hl,Zr,lp,pl,za,zi,J2,w9=(J2=class extends XI{constructor(t){super();pt(this,za);pt(this,Zc);pt(this,fl);pt(this,ha);pt(this,hl);pt(this,Zr);pt(this,lp);pt(this,pl);Je(this,pl,!1),Je(this,lp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Je(this,hl,t.client),Je(this,ha,oe(this,hl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Je(this,Zc,_9(this.options)),this.state=t.state??oe(this,Zc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=oe(this,Zr))==null?void 0:t.promise}setOptions(t){this.options={...oe(this,lp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,ha).remove(this)}setData(t,r){const n=f9(this.state.data,t,this.options);return Xr(this,za,zi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xr(this,za,zi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=oe(this,Zr))==null?void 0:n.promise;return(a=oe(this,Zr))==null||a.cancel(t),r?r.then(La).catch(La):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Zc))}isActive(){return this.observers.some(t=>u9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Kw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!c9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,Zr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,Zr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),oe(this,ha).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(oe(this,Zr)&&(oe(this,pl)?oe(this,Zr).cancel({revert:!0}):oe(this,Zr).cancelRetry()),this.scheduleGc()),oe(this,ha).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xr(this,za,zi).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Zr))return oe(this,Zr).continueRetry(),oe(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Je(this,pl,!0),n.signal)})},i=()=>{const h=HI(this.options,r),y=(()=>{const m={client:oe(this,hl),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return Je(this,pl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:oe(this,hl),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Je(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Xr(this,za,zi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,y,m,g;B0(h)&&h.silent||Xr(this,za,zi).call(this,{type:"error",error:h}),B0(h)||((y=(p=oe(this,ha).config).onError)==null||y.call(p,h,this),(g=(m=oe(this,ha).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Je(this,Zr,YI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,y,m,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(p=oe(this,ha).config).onSuccess)==null||y.call(p,h,this),(g=(m=oe(this,ha).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Xr(this,za,zi).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Xr(this,za,zi).call(this,{type:"pause"})},onContinue:()=>{Xr(this,za,zi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),oe(this,Zr).start()}},Zc=new WeakMap,fl=new WeakMap,ha=new WeakMap,hl=new WeakMap,Zr=new WeakMap,lp=new WeakMap,pl=new WeakMap,za=new WeakSet,zi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...j9(n.data,this.options),fetchMeta:t.meta??null};case"success":return Je(this,fl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return B0(a)&&a.revert&&oe(this,fl)?{...oe(this,fl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),vn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),oe(this,ha).notify({query:this,type:"updated",action:t})})},J2);function j9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ui,Z2,S9=(Z2=class extends Ry{constructor(t={}){super();pt(this,ui);this.config=t,Je(this,ui,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??kS(a,r);let s=this.get(i);return s||(s=new w9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){oe(this,ui).has(t.queryHash)||(oe(this,ui).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=oe(this,ui).get(t.queryHash);r&&(t.destroy(),r===t&&oe(this,ui).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return oe(this,ui).get(t)}getAll(){return[...oe(this,ui).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>rE(t,n)):r}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ui=new WeakMap,Z2),di,hn,ml,fi,As,eR,C9=(eR=class extends XI{constructor(t){super();pt(this,fi);pt(this,di);pt(this,hn);pt(this,ml);this.mutationId=t.mutationId,Je(this,hn,t.mutationCache),Je(this,di,[]),this.state=t.state||N9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){oe(this,di).includes(t)||(oe(this,di).push(t),this.clearGcTimeout(),oe(this,hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Je(this,di,oe(this,di).filter(r=>r!==t)),this.scheduleGc(),oe(this,hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){oe(this,di).length||(this.state.status==="pending"?this.scheduleGc():oe(this,hn).remove(this))}continue(){var t;return((t=oe(this,ml))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,l,c,u,d,f,h,p,y,m,g,v,x,b,_,j,S,C,N;const r=()=>{Xr(this,fi,As).call(this,{type:"continue"})};Je(this,ml,YI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{Xr(this,fi,As).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{Xr(this,fi,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,hn).canRun(this)}));const n=this.state.status==="pending",a=!oe(this,ml).canStart();try{if(n)r();else{Xr(this,fi,As).call(this,{type:"pending",variables:t,isPaused:a}),await((s=(i=oe(this,hn).config).onMutate)==null?void 0:s.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Xr(this,fi,As).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const P=await oe(this,ml).start();return await((d=(u=oe(this,hn).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((y=(p=oe(this,hn).config).onSettled)==null?void 0:y.call(p,P,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,P,null,t,this.state.context)),Xr(this,fi,As).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(v=oe(this,hn).config).onError)==null?void 0:x.call(v,P,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context)),await((S=(j=oe(this,hn).config).onSettled)==null?void 0:S.call(j,void 0,P,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,P,t,this.state.context)),P}finally{Xr(this,fi,As).call(this,{type:"error",error:P})}}finally{oe(this,hn).runNext(this)}}},di=new WeakMap,hn=new WeakMap,ml=new WeakMap,fi=new WeakSet,As=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vn.batch(()=>{oe(this,di).forEach(n=>{n.onMutationUpdate(t)}),oe(this,hn).notify({mutation:this,type:"updated",action:t})})},eR);function N9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qi,Ua,cp,tR,P9=(tR=class extends Ry{constructor(t={}){super();pt(this,qi);pt(this,Ua);pt(this,cp);this.config=t,Je(this,qi,new Set),Je(this,Ua,new Map),Je(this,cp,0)}build(t,r,n){const a=new C9({mutationCache:this,mutationId:++Ip(this,cp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){oe(this,qi).add(t);const r=im(t);if(typeof r=="string"){const n=oe(this,Ua).get(r);n?n.push(t):oe(this,Ua).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(oe(this,qi).delete(t)){const r=im(t);if(typeof r=="string"){const n=oe(this,Ua).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&oe(this,Ua).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=im(t);if(typeof r=="string"){const n=oe(this,Ua).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=im(t);if(typeof r=="string"){const a=(n=oe(this,Ua).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{oe(this,qi).forEach(t=>{this.notify({type:"removed",mutation:t})}),oe(this,qi).clear(),oe(this,Ua).clear()})}getAll(){return Array.from(oe(this,qi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nE(r,n))}findAll(t={}){return this.getAll().filter(r=>nE(t,r))}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vn.batch(()=>Promise.all(t.map(r=>r.continue().catch(La))))}},qi=new WeakMap,Ua=new WeakMap,cp=new WeakMap,tR);function im(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sE(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=HI(t.options,t.fetchOptions),x=async(b,_,j)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return g(k),k})(),N=await v(C),{maxPages:P}=t.options,E=j?p9:h9;return{pages:E(b.pages,N,P),pageParams:E(b.pageParams,_,P)}};if(a&&i.length){const b=a==="backward",_=b?E9:oE,j={pages:i,pageParams:s},S=_(n,j);l=await x(j,S,b)}else{const b=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:oE(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function oE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function E9(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var er,Ws,Hs,eu,tu,qs,ru,nu,rR,A9=(rR=class{constructor(e={}){pt(this,er);pt(this,Ws);pt(this,Hs);pt(this,eu);pt(this,tu);pt(this,qs);pt(this,ru);pt(this,nu);Je(this,er,e.queryCache||new S9),Je(this,Ws,e.mutationCache||new P9),Je(this,Hs,e.defaultOptions||{}),Je(this,eu,new Map),Je(this,tu,new Map),Je(this,qs,0)}mount(){Ip(this,qs)._++,oe(this,qs)===1&&(Je(this,ru,qI.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,er).onFocus())})),Je(this,nu,Av.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,er).onOnline())})))}unmount(){var e,t;Ip(this,qs)._--,oe(this,qs)===0&&((e=oe(this,ru))==null||e.call(this),Je(this,ru,void 0),(t=oe(this,nu))==null||t.call(this),Je(this,nu,void 0))}isFetching(e){return oe(this,er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,Ws).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=oe(this,er).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Kw(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return oe(this,er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=oe(this,er).get(n.queryHash),i=a==null?void 0:a.state.data,s=o9(t,i);if(s!==void 0)return oe(this,er).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return vn.batch(()=>oe(this,er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=oe(this,er);vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=oe(this,er);return vn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=vn.batch(()=>oe(this,er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(La).catch(La)}invalidateQueries(e,t={}){return vn.batch(()=>(oe(this,er).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=vn.batch(()=>oe(this,er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(La)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(La)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=oe(this,er).build(this,t);return r.isStaleByTime(Kw(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(La).catch(La)}fetchInfiniteQuery(e){return e.behavior=sE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(La).catch(La)}ensureInfiniteQueryData(e){return e.behavior=sE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Av.isOnline()?oe(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,er)}getMutationCache(){return oe(this,Ws)}getDefaultOptions(){return oe(this,Hs)}setDefaultOptions(e){Je(this,Hs,e)}setQueryDefaults(e,t){oe(this,eu).set(dh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,eu).values()],r={};return t.forEach(n=>{fh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){oe(this,tu).set(dh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,tu).values()],r={};return t.forEach(n=>{fh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,Hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===OS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,Hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,er).clear(),oe(this,Ws).clear()}},er=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,eu=new WeakMap,tu=new WeakMap,qs=new WeakMap,ru=new WeakMap,nu=new WeakMap,rR),k9=w.createContext(void 0),O9=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(k9.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const lE="popstate";function T9(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return Yw("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kv(a)}return $9(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R9(){return Math.random().toString(36).substr(2,8)}function cE(e,t){return{usr:e.state,key:e.key,idx:t}}function Yw(e,t,r,n){return r===void 0&&(r=null),hh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dd(t):t,{state:r,key:t&&t.key||n||R9()})}function kv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $9(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=Ys.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(hh({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Ys.Pop;let g=d(),v=g==null?null:g-u;u=g,c&&c({action:l,location:m.location,delta:v})}function h(g,v){l=Ys.Push;let x=Yw(m.location,g,v);u=d()+1;let b=cE(x,u),_=m.createHref(x);try{s.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(g,v){l=Ys.Replace;let x=Yw(m.location,g,v);u=d();let b=cE(x,u),_=m.createHref(x);s.replaceState(b,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function y(g){let v=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof g=="string"?g:kv(g);return x=x.replace(/ $/,"%20"),Jt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return l},get location(){return e(a,s)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lE,f),c=g,()=>{a.removeEventListener(lE,f),c=null}},createHref(g){return t(a,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(g){return s.go(g)}};return m}var uE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uE||(uE={}));function M9(e,t,r){return r===void 0&&(r="/"),I9(e,t,r,!1)}function I9(e,t,r,n){let a=typeof t=="string"?dd(t):t,i=gu(a.pathname||"/",r);if(i==null)return null;let s=JI(e);D9(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=G9(i);l=q9(s[c],u,n)}return l}function JI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Jt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=uo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JI(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:W9(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of ZI(i.path))a(i,s,c)}),t}function ZI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=ZI(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function D9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:H9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const L9=/^:[\w-]+$/,F9=3,B9=2,z9=1,U9=10,V9=-2,dE=e=>e==="*";function W9(e,t){let r=e.split("/"),n=r.length;return r.some(dE)&&(n+=V9),t&&(n+=B9),r.filter(a=>!dE(a)).reduce((a,i)=>a+(L9.test(i)?F9:i===""?z9:U9),n)}function H9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function q9(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:uo([i,f.pathname]),pathnameBase:J9(uo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=uo([i,f.pathnameBase]))}return s}function Ov(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=K9(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function K9(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),QI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function G9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return QI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Y9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?dd(e):e;return{pathname:r?r.startsWith("/")?r:X9(r,t):t,search:Z9(n),hash:e7(a)}}function X9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function z0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function TS(e,t){let r=Q9(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function RS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=dd(e):(a=hh({},e),Jt(!a.pathname||!a.pathname.includes("?"),z0("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),z0("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),z0("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Y9(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const uo=e=>e.join("/").replace(/\/\/+/g,"/"),J9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eD=["post","put","patch","delete"];new Set(eD);const r7=["get",...eD];new Set(r7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}const My=w.createContext(null),tD=w.createContext(null),ms=w.createContext(null),Iy=w.createContext(null),Po=w.createContext({outlet:null,matches:[],isDataRoute:!1}),rD=w.createContext(null);function n7(e,t){let{relative:r}=t===void 0?{}:t;fd()||Jt(!1);let{basename:n,navigator:a}=w.useContext(ms),{hash:i,pathname:s,search:l}=Dy(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:uo([n,s])),a.createHref({pathname:c,search:l,hash:i})}function fd(){return w.useContext(Iy)!=null}function Fl(){return fd()||Jt(!1),w.useContext(Iy).location}function nD(e){w.useContext(ms).static||w.useLayoutEffect(e)}function xp(){let{isDataRoute:e}=w.useContext(Po);return e?v7():a7()}function a7(){fd()||Jt(!1);let e=w.useContext(My),{basename:t,future:r,navigator:n}=w.useContext(ms),{matches:a}=w.useContext(Po),{pathname:i}=Fl(),s=JSON.stringify(TS(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return nD(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=RS(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:uo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function Dy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(ms),{matches:a}=w.useContext(Po),{pathname:i}=Fl(),s=JSON.stringify(TS(a,n.v7_relativeSplatPath));return w.useMemo(()=>RS(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function i7(e,t){return s7(e,t)}function s7(e,t,r,n){fd()||Jt(!1);let{navigator:a}=w.useContext(ms),{matches:i}=w.useContext(Po),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Fl(),d;if(t){var f;let g=typeof t=="string"?dd(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Jt(!1),d=g}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=M9(e,{pathname:p}),m=d7(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:uo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:uo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&m?w.createElement(Iy.Provider,{value:{location:ph({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ys.Pop}},m):m}function o7(){let e=m7(),t=t7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const l7=w.createElement(o7,null);class c7 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Po.Provider,{value:this.props.routeContext},w.createElement(rD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u7(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(My);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Po.Provider,{value:t},n)}function d7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Jt(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,y=!1,m=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||l7,c&&(u<0&&h===0?(y=!0,g=null):u===h&&(y=!0,g=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),x=()=>{let b;return p?b=m:y?b=g:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(u7,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(c7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var aD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aD||{}),Tv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tv||{});function f7(e){let t=w.useContext(My);return t||Jt(!1),t}function h7(e){let t=w.useContext(tD);return t||Jt(!1),t}function p7(e){let t=w.useContext(Po);return t||Jt(!1),t}function iD(e){let t=p7(),r=t.matches[t.matches.length-1];return r.route.id||Jt(!1),r.route.id}function m7(){var e;let t=w.useContext(rD),r=h7(Tv.UseRouteError),n=iD(Tv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function v7(){let{router:e}=f7(aD.UseNavigateStable),t=iD(Tv.UseNavigateStable),r=w.useRef(!1);return nD(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ph({fromRouteId:t},i)))},[e,t])}function g7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fE(e){let{to:t,replace:r,state:n,relative:a}=e;fd()||Jt(!1);let{future:i,static:s}=w.useContext(ms),{matches:l}=w.useContext(Po),{pathname:c}=Fl(),u=xp(),d=RS(t,TS(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Ur(e){Jt(!1)}function y7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ys.Pop,navigator:i,static:s=!1,future:l}=e;fd()&&Jt(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:s,future:ph({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=dd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,m=w.useMemo(()=>{let g=gu(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:y},navigationType:a}},[c,d,f,h,p,y,a]);return m==null?null:w.createElement(ms.Provider,{value:u},w.createElement(Iy.Provider,{children:r,value:m}))}function x7(e){let{children:t,location:r}=e;return i7(Xw(t),r)}new Promise(()=>{});function Xw(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Xw(n.props.children,i));return}n.type!==Ur&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Xw(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(this,arguments)}function sD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function b7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w7(e,t){return e.button===0&&(!t||t==="_self")&&!b7(e)}const j7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],S7="6";try{window.__reactRouterVersion=S7}catch{}const C7=w.createContext({isTransitioning:!1}),N7="startTransition",hE=g_[N7];function P7(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=T9({window:a,v5Compat:!0}));let s=i.current,[l,c]=w.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&hE?hE(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.useEffect(()=>g7(n),[n]),w.createElement(y7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const E7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k7=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=sD(t,j7),{basename:p}=w.useContext(ms),y,m=!1;if(typeof u=="string"&&A7.test(u)&&(y=u,E7))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=gu(_.pathname,p);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:m=!0}catch{}let g=n7(u,{relative:a}),v=T7(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||v(b)}return w.createElement("a",Rv({},h,{href:y||g,onClick:m||i?n:x,ref:r,target:c}))}),$s=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=t,f=sD(t,_7),h=Dy(c,{relative:f.relative}),p=Fl(),y=w.useContext(tD),{navigator:m,basename:g}=w.useContext(ms),v=y!=null&&R7(h)&&u===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=gu(_,g)||_);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!s&&b.startsWith(x)&&b.charAt(j)==="/",C=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),N={isActive:S,isPending:C,isTransitioning:v},P=S?n:void 0,E;typeof i=="function"?E=i(N):E=[i,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(N):l;return w.createElement(k7,Rv({},f,{"aria-current":P,className:E,ref:r,style:k,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var Qw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qw||(Qw={}));var pE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pE||(pE={}));function O7(e){let t=w.useContext(My);return t||Jt(!1),t}function T7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=xp(),u=Fl(),d=Dy(e,{relative:s});return w.useCallback(f=>{if(w7(f,r)){f.preventDefault();let h=n!==void 0?n:kv(u)===kv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,d,n,a,r,e,i,s,l])}function R7(e,t){t===void 0&&(t={});let r=w.useContext(C7);r==null&&Jt(!1);let{basename:n}=O7(Qw.useViewTransitionState),a=Dy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gu(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=gu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ov(a.pathname,s)!=null||Ov(a.pathname,i)!=null}const $7=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],M7=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],I7=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],D7=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function L7(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,s=i+a;return t>=i&&t<s?r+n.devCost/a:r},0)}function F7(e,t,r){let n=0,a=0;return e.forEach(i=>{const s=i.volumesByChannel;if(s){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,d=i.coef_oem||1.4,f=l/c/u,h=i.unitCost*d,p=Math.round((s.B2C[t]||0)*(1+r.volumeAdjustment));n+=p*l*(1+r.priceAdjustment),a+=p*i.unitCost;const y=Math.round((s.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*f*(1+r.priceAdjustment),a+=y*i.unitCost;const m=Math.round((s.OEM[t]||0)*(1+r.volumeAdjustment));n+=m*h*(1+r.priceAdjustment),a+=m*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function B7(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function z7(e,t,r,n,a,i,s="detailed",l){if(s==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let d=u.baseAnnualCost;const f=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":d=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),f);break;case"linked_to_revenue":d=n*(u.revenueRatio||0);break;case"linked_to_volume":d=a*(u.volumeRatio||0);break;case"step":const p=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();p&&(d=p.newAnnualCost);break}d=d*(1+i.opexAdjustment),c+=d}),c}function U7(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function V7(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,s=a.launchYear,l=s+i;if(t>=s&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function W7(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),s=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+s+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function H7(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function q7(e,t,r,n,a,i,s,l,c="detailed",u){const d=[];let f=a,h=a,p=a,y=0,m=null,g=0,v=0,x=0;const b=H7(e);for(let C=0;C<s;C++){const N=i+C,P=f,{revenue:E,cogs:k}=F7(e,N,l),{payroll:A,headcount:R}=B7(t,N),O=W7(e,N,l),I=z7(r,N,i,E,O,l,c,u),$=U7(e,N),{total:M,byProduct:D}=V7(e,N);v+=$,x+=M;const L=E-k,z=E>0?L/E:0,X=L-A-I,G=E>0?X/E:0,F=X-M,J=k+A+I+$,U=E-J,V=n.filter(Ae=>Ae.year===N),W=V.reduce((Ae,Le)=>Ae+Le.amount,0);g+=W;const de=U/4,Q={Q1:0,Q2:0,Q3:0,Q4:0};let te=P,q=P;["Q1","Q2","Q3","Q4"].forEach(Ae=>{const Ye=V.filter($t=>$t.quarter===Ae).reduce(($t,Gt)=>$t+Gt.amount,0);q+=de+Ye,Q[Ae]=q,q<te&&(te=q)});const ve=P+U+W;f=ve,te<h&&(h=te);const ge=a+d.reduce((Ae,Le)=>Ae+Le.cashFlow,0)+U;ge<p&&(p=ge),U<0&&Math.abs(U)>y&&(y=Math.abs(U)),m===null&&U>0&&(m=N),d.push({year:N,revenue:E,fundingInjection:W,cogs:k,payroll:A,opex:I,capex:$,grossMargin:L,grossMarginRate:z,ebitda:X,ebitdaMargin:G,depreciation:M,depreciationByProduct:D,operatingResult:F,totalCosts:J,cashFlow:U,treasuryStart:P,treasuryEnd:ve,quarterlyTreasury:Q,minTreasuryInYear:te,headcount:R})}const _=Math.max(0,-p),j=y/12,S=j>0?Math.floor(a/j):999;return{years:d,initialCash:a,totalFundingRaised:g,fundingNeed:_,minTreasury:h,breakEvenYear:m,maxBurn:y,runway:S,productAmortizations:b,totalCapex:v,totalDepreciation:x}}const K7=["Q1","Q2","Q3","Q4"],rl=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function mE(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function G7(){return{revenueSeasonality:mE(),cogsSeasonality:mE(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function vE(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function Y7(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=J7(l);if(!u)return;const{year:d,month:f}=u;d>=t&&d<a&&n.push({loanId:e.id,loanName:e.name,year:d,month:f,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,s=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<s;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<s;c++){const u=Math.floor(c/12),d=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:d,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((s-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(s<=i)return n;if(e.frequency==="monthly"){const l=s-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=d*c,g=u-m;d-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((s-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=i+f*3,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=d*c,g=u-m;d-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((s-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let d=e.principalAmount;for(let f=0;f<l;f++){const h=e.startDate.year+f,p=e.startDate.month;if(h<t||h>=a)continue;const y=d*c,m=u-y;d-=m,n.push({loanId:e.id,loanName:e.name,year:h,month:p,principal:Math.max(0,m),interest:y,total:u,isManuallyModified:!1})}}return n}function X7(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function Q7(e,t,r,n,a,i,s=!1){var _,j;const l=[];let c=n,u=n,d=null,f=null,h=0,p=0,y=0,m=0;const g=vE(e.revenueSeasonality),v=vE(e.cogsSeasonality),x=[];e.loans.forEach(S=>{x.push(...Y7(S,a,i))});const b=e.capexPayments||[];for(let S=0;S<i;S++){const C=a+S,N=t.annualRevenue[C]||0,P=t.annualCogs[C]||0,E=t.annualPayroll[C]||0,k=t.annualOpex[C]||0,A=N/12,R=P/12,O=E/12,I=k/12;for(let $=0;$<12;$++){const M=$,D=c,L=A*g[$];let z=0;if(!s){const Ae=X7(M);$%3===0&&r.forEach(Ye=>{Ye.year===C&&Ye.quarter===Ae&&(z+=Ye.amount,h+=Ye.amount)})}const X=`${C}-${M.toString().padStart(2,"0")}`,G=((_=e.otherInflows[X])==null?void 0:_.amount)||0,F=L+z+G,J=R*v[$];let U=0;const V=[];e.variableCharges.forEach(Ae=>{const Le=L*Ae.rateOfRevenue;U+=Le,V.push({name:Ae.name,amount:Le})}),p+=U;const W=x.filter(Ae=>Ae.year===C&&Ae.month===M),de=W.reduce((Ae,Le)=>Ae+Le.total,0);y+=de;const Q=b.filter(Ae=>Ae.year===C&&Ae.month===M),te=Q.reduce((Ae,Le)=>Ae+Le.amount,0);m+=te;const q=((j=e.otherOutflows[X])==null?void 0:j.amount)||0,H=J+O+I+U+de+te+q,ve=F-H,ge=D+ve;ge<u&&(u=ge,d={year:C,month:M}),f===null&&ve>0&&l.length>0&&l.slice(-3).some(Le=>Le.netCashFlow<0)&&(f={year:C,month:M}),l.push({year:C,month:M,monthName:rl[$],revenue:L,fundingInjection:z,otherInflows:G,totalInflows:F,cogs:J,payroll:O,opex:I,variableCharges:U,loanPayments:de,capexPayments:te,otherOutflows:q,totalOutflows:H,treasuryStart:D,netCashFlow:ve,treasuryEnd:ge,loanPaymentDetails:W,variableChargeDetails:V,capexPaymentDetails:Q}),c=ge}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:d,breakEvenMonth:f,totalVariableCharges:p,totalLoanPayments:y,totalCapexPayments:m}}function J7(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function Ly(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const dr=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dr.displayName="Card";const ln=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));ln.displayName="CardHeader";const cn=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));cn.displayName="CardTitle";const mh=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));mh.displayName="CardDescription";const fr=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));fr.displayName="CardContent";const Z7=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));Z7.displayName="CardFooter";function st({label:e,value:t,subValue:r,trend:n,className:a}){return o.jsx(dr,{className:ie("",a),children:o.jsxs(fr,{className:"pt-4 pb-3",children:[o.jsx("div",{className:"kpi-label mb-1",children:e}),o.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&o.jsx(sd,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&o.jsx(mS,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function Ue({title:e,children:t,id:r,className:n,action:a}){return o.jsxs(dr,{className:ie("",n),id:r,children:[o.jsxs(ln,{className:"pb-3 flex flex-row items-center justify-between",children:[o.jsx(cn,{className:"text-lg",children:e}),a]}),o.jsx(fr,{children:t})]})}const be=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";function vh(e,[t,r]){return Math.min(r,Math.max(t,e))}var eK=w.createContext(void 0);function hd(e){const t=w.useContext(eK);return e||t||"ltr"}function Fy(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oD=["PageUp","PageDown"],lD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pd="Slider",[Jw,tK,rK]=wy(pd),[uD,sOe]=Cn(pd,[rK]),[nK,By]=uD(pd),dD=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,g=w.useRef(new Set),v=w.useRef(0),b=s==="horizontal"?aK:iK,[_=[],j]=Fn({prop:d,defaultProp:u,onChange:k=>{var R;(R=[...g.current][v.current])==null||R.focus(),f(k)}}),S=w.useRef(_);function C(k){const A=uK(_,k);E(k,A)}function N(k){E(k,v.current)}function P(){const k=S.current[v.current];_[v.current]!==k&&h(_)}function E(k,A,{commit:R}={commit:!1}){const O=pK(i),I=mK(Math.round((k-n)/i)*i+n,O),$=vh(I,[n,a]);j((M=[])=>{const D=lK(M,$,A);if(hK(D,c*i)){v.current=D.indexOf($);const L=String(D)!==String(M);return L&&R&&h(D),L?D:M}else return M})}return o.jsx(nK,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:s,form:y,children:o.jsx(Jw.Provider,{scope:e.__scopeSlider,children:o.jsx(Jw.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:je(m.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,_.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:A})=>{if(!l){const I=oD.includes(k.key)||k.shiftKey&&lD.includes(k.key)?10:1,$=v.current,M=_[$],D=i*I*A;E(M+D,$,{commit:!0})}}})})})})});dD.displayName=pd;var[fD,hD]=uD(pd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aK=w.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=w.useState(null),p=Ge(t,b=>h(b)),y=w.useRef(void 0),m=hd(a),g=m==="ltr",v=g&&!i||!g&&i;function x(b){const _=y.current||f.getBoundingClientRect(),j=[0,_.width],C=$S(j,v?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return o.jsx(fD,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(pD,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);s==null||s(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=cD[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),iK=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=w.useRef(null),f=Ge(t,d),h=w.useRef(void 0),p=!a;function y(m){const g=h.current||d.current.getBoundingClientRect(),v=[0,g.height],b=$S(v,p?[n,r]:[r,n]);return h.current=g,b(m-g.top)}return o.jsx(fD,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(pD,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);i==null||i(g)},onSlideMove:m=>{const g=y(m.clientY);s==null||s(g)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const v=cD[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:v?-1:1})}})})}),pD=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=By(pd,r);return o.jsx(Te.span,{...u,ref:t,onKeyDown:je(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):oD.concat(lD).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:je(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:je(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:je(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),mD="SliderTrack",vD=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=By(mD,r);return o.jsx(Te.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});vD.displayName=mD;var Zw="SliderRange",gD=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=By(Zw,r),i=hD(Zw,r),s=w.useRef(null),l=Ge(t,s),c=a.values.length,u=a.values.map(h=>bD(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Te.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});gD.displayName=Zw;var e1="SliderThumb",yD=w.forwardRef((e,t)=>{const r=tK(e.__scopeSlider),[n,a]=w.useState(null),i=Ge(t,l=>a(l)),s=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(sK,{...e,ref:i,index:s})}),sK=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,s=By(e1,r),l=hD(e1,r),[c,u]=w.useState(null),d=Ge(t,x=>u(x)),f=c?s.form||!!c.closest("form"):!0,h=Ey(c),p=s.values[n],y=p===void 0?0:bD(p,s.min,s.max),m=cK(n,s.values.length),g=h==null?void 0:h[l.size],v=g?dK(g,y,l.direction):0;return w.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[o.jsx(Jw.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Te.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:je(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),f&&o.jsx(xD,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:p},n)]})});yD.displayName=e1;var oK="RadioBubbleInput",xD=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=w.useRef(null),i=Ge(a,n),s=Fy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Te.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});xD.displayName=oK;function lK(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function bD(e,t,r){const i=100/(r-t)*(e-t);return vh(i,[0,100])}function cK(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function uK(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function dK(e,t,r){const n=e/2,i=$S([0,50],[0,n]);return(n-i(t)*r)*r}function fK(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function hK(e,t){if(t>0){const r=fK(e);return Math.min(...r)>=t}return!0}function $S(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pK(e){return(String(e).split(".")[1]||"").length}function mK(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var wD=dD,vK=vD,gK=gD,yK=yD;const gn=w.forwardRef(({className:e,...t},r)=>o.jsxs(wD,{ref:r,className:ie("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(vK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(gK,{className:"absolute h-full bg-primary"})}),o.jsx(yK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));gn.displayName=wD.displayName;const MS=ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?xM:"button";return o.jsx(s,{className:ie(MS({variant:t,size:r,className:e})),ref:i,...a})});ae.displayName="Button";function ee(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function Ar(e){return`${(e*100).toFixed(1)}%`}const $v={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function gh(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function t1(e,t){const r=e.marginRates||$v.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function xK(e,t){return gh(e,t)-t1(e,t)}const U0=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function bK({config:e,onChange:t,years:r}){const n=e.marginRates||$v.marginRates,a=e.growthRates||$v.growthRates,i=(p,y,m)=>{t({...e,[p]:{...e[p],[y]:m}})},s=(p,y)=>{t({...e,marginRates:{...n,[p]:y}})},l=(p,y)=>{t({...e,growthRates:{...a,[p]:y}})},c=p=>{const y=r[0],m=e[p][y]||0;if(m<=0)return;const g=a[p],v={...e[p]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),t({...e,[p]:v})},u=()=>{let p={...e};U0.forEach(({key:y})=>{const m=e[y][r[0]]||0;if(m<=0)return;const g=a[y],v={...e[y]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),p={...p,[y]:v}}),t(p)},d=r.reduce((p,y)=>p+gh(e,y),0),f=r.reduce((p,y)=>p+t1(e,y),0),h=d>0?f/d:0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ue,{title:"Paramtres par Canal",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:U0.map(p=>o.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[o.jsx("div",{className:"font-medium text-sm",children:p.label}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de croissance"}),o.jsxs("span",{className:"font-mono",children:[(a[p.key]*100).toFixed(0),"%"]})]}),o.jsx(gn,{value:[a[p.key]*100],onValueChange:([y])=>l(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de marge"}),o.jsxs("span",{className:"font-mono",children:[(n[p.key]*100).toFixed(0),"%"]})]}),o.jsx(gn,{value:[n[p.key]*100],onValueChange:([y])=>s(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(p.key),children:[o.jsx(BP,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},p.key))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(ae,{variant:"default",size:"sm",onClick:u,children:[o.jsx(BP,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),o.jsx(Ue,{title:"CA Global par Canal",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(p=>o.jsx("th",{className:"text-center py-2 px-3",children:p},p)),o.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),o.jsxs("tbody",{children:[U0.map(p=>o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:[p.label,o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[p.key]*100).toFixed(0),"%)"]})]}),r.map(y=>o.jsx("td",{className:"py-2 px-3 text-center",children:o.jsx(be,{type:"number",value:e[p.key][y]||0,onChange:m=>i(p.key,y,Number(m.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(r.reduce((y,m)=>y+(e[p.key][m]||0),0),!0)})]},p.key)),o.jsxs("tr",{className:"font-semibold border-t",children:[o.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(gh(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(d,!0)})]}),o.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",o.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:ee(t1(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:ee(f,!0)})]})]})]})})})]})}var pi=function(){return pi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pi.apply(this,arguments)};function md(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wK(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function jK(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const _K=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class IS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class SK extends IS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gE extends IS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yE extends IS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var r1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(r1||(r1={}));class CK{constructor(t,{headers:r={},customFetch:n,region:a=r1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=_K(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wK(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let g=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(g=s.signal,d.addEventListener("abort",()=>s.abort())):g=s.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:g}).catch(j=>{throw new SK(j)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new gE(v);if(!v.ok)throw new yE(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof yE||l instanceof gE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var NK=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},PK=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&g&&g.length>1&&(c=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new NK(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},EK=class extends PK{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const xE=new RegExp("[,()]");var lc=class extends EK{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},AK=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new lc({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new lc({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new lc({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new lc({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new lc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},kK=class jD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new AK(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new lc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class OK{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TK="2.93.3",RK=`realtime-js/${TK}`,$K="1.0.0",_D="2.0.0",bE=_D,n1=1e4,MK=1e3,IK=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var Sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sr||(Sr={}));var Wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wa||(Wa={}));var a1;(function(e){e.websocket="websocket"})(a1||(a1={}));var Xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xo||(Xo={}));class DK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class SD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const wE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=LK(s,e,t,a),i),{}):{}},LK=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?CD(i,s):i1(s)},CD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return UK(t,r)}switch(e){case At.bool:return FK(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return BK(t);case At.json:case At.jsonb:return zK(t);case At.timestamp:return VK(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return i1(t);default:return i1(t)}},i1=e=>e,FK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UK=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>CD(t,l))}return e},VK=e=>typeof e=="string"?e.replace(" ","T"):e,ND=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class V0{constructor(t,r,n={},a=n1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jE||(jE={}));class Ef{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ef.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Ef.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ef.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),y=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _E;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_E||(_E={}));var Af;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Af||(Af={}));var Vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vi||(Vi={}));class Ec{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new V0(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new SD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Ef(this),this.broadcastEndpointURL=ND(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Sr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Af.PRESENCE]&&this.bindings[Af.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Vi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Vi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Vi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<g;x++){const b=m[x],{filter:{event:_,schema:j,table:S,filter:C}}=b,N=p&&p[x];if(N&&N.event===_&&Ec.isFilterValueEqual(N.schema,j)&&Ec.isFilterValueEqual(N.table,S)&&Ec.isFilterValueEqual(N.filter,C))v.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Sr.errored,t==null||t(Vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Vi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Sr.errored,t==null||t(Vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Sr.joined&&t===Af.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new V0(this,Wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new V0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wa;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var y,m,g,v,x,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Sr.closed}_isJoined(){return this.state===Sr.joined}_isJoining(){return this.state===Sr.joining}_isLeaving(){return this.state===Sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ec.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wa.close,{},t)}_onError(t){this._on(Wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wE(t.columns,t.old_record)),r}}const W0=()=>{},sm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WK=[1e3,2e3,5e3,1e4],HK=1e4,qK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=n1,this.transport=null,this.heartbeatIntervalMs=sm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=W0,this.ref=0,this.reconnectTimer=null,this.vsn=bE,this.logger=W0,this.conn=null,this.sendBuffer=[],this.serializer=new DK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${a1.websocket}`,this.httpEndpoint=ND(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OK.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Xo.Connecting;case Ms.open:return Xo.Open;case Ms.closing:return Xo.Closing;default:return Xo.Closed}}isConnected(){return this.connectionState()===Xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ec(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(MK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:RK};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:n1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:sm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:W0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>WK[y-1]||HK,this.vsn){case $K:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case _D:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var yh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GK(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function YK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=GK(e.baseUrl,n,a),c=await YK(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new yh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function om(e){return e.join("")}var QK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:om(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${om(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${om(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${om(e.namespace)}`}),!0}catch(t){if(t instanceof yh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof yh&&r.status===409)return;throw r}}};function Hl(e){return e.join("")}var JK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof yh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof yh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ZK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new QK(this.client,t),this.tableOps=new JK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},zy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Uy(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lm=class extends zy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},PD=class extends zy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const eG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},s1=e=>{if(Array.isArray(e))return e.map(r=>s1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=s1(n)}),t},rG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function nG(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aG(e){var t=nG(e,"string");return xh(t)=="symbol"?t:t+""}function iG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const CE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new lm(CE(s),i,l,n))}).catch(()=>{if(n==="vectors"){const s=i+"";t(new lm(a.statusText||`HTTP ${i} error`,i,s,n))}else{const s=i+"";t(new lm(a.statusText||`HTTP ${i} error`,i,s,n))}});else{const s=i+"";t(new lm(a.statusText||`HTTP ${i} error`,i,s,n))}}else t(new PD(CE(e),e,n))},oG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?He(He({},a),r):(tG(n)?(a.headers=He({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),He(He({},a),r))};async function qd(e,t,r,n,a,i,s){return new Promise((l,c)=>{e(r,oG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>sG(u,c,n,s))})}function ED(e="storage"){return{get:async(t,r,n,a)=>qd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>qd(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>qd(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>qd(t,"HEAD",r,He(He({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>qd(t,"DELETE",r,a,i,n,e)}}const lG=ED("storage"),{get:bh,post:Fa,put:o1,head:cG,remove:DS}=lG,Qn=ED("vectors");var vd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=eG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Uy(r))return{data:null,error:r};throw r}}},uG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Uy(t))return{data:null,error:t};throw t}}};let AD;AD=Symbol.toStringTag;var dG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[AD]="BlobDownloadBuilder",this.promise=null}asStream(){return new uG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Uy(t))return{data:null,error:t};throw t}}};const fG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hG=class extends vd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const s=He(He({},NE),n);let l=He(He({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=He(He({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?o1:Fa)(a.fetch,`${a.url}/object/${d}`,i,He({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=He({upsert:NE.upsert},n),d=He(He({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await o1(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=He({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Fa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new zy("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Fa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Fa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Fa(n.fetch,`${n.url}/object/sign/${a}`,He({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Fa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(s=>He(He({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>bh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new dG(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>s1(await bh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await cG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Uy(n)&&n instanceof PD){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await DS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=He(He(He({},fG),t),{},{prefix:e||""});return await Fa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=He({},e);return await Fa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const pG="2.93.3",bp={"X-Client-Info":`storage-js/${pG}`};var mG=class extends vd{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),s=He(He({},bp),t);super(i,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await bh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await bh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Fa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await o1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await DS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vG=class extends vd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},bp),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await bh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await DS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!rG(e))throw new zy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ZK({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},gG=class extends vd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},bp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},yG=class extends vd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},bp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},xG=class extends vd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},bp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},bG=class extends xG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},wG=class extends gG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new jG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},jG=class extends yG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},_G=class extends mG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new hG(this.url,this.headers,e,this.fetch)}get vectors(){return new bG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vG(this.url+"/iceberg",this.headers,this.fetch)}};const kD="2.93.3",cc=30*1e3,l1=3,H0=l1*cc,SG="http://localhost:9999",CG="supabase.auth.token",NG={"X-Client-Info":`gotrue-js/${kD}`},c1="X-Supabase-Api-Version",OD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EG=10*60*1e3;class wh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AG extends wh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kG(e){return $e(e)&&e.name==="AuthApiError"}class Qo extends wh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vs extends wh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Wn extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(e){return $e(e)&&e.name==="AuthSessionMissingError"}class ql extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cm extends vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class um extends vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OG(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class PE extends vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TG extends vs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class u1 extends vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function K0(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class EE extends vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class d1 extends vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AE=` 	
\r=`.split(""),RG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<AE.length;t+=1)e[AE[t].charCodeAt(0)]=-2;for(let t=0;t<Mv.length;t+=1)e[Mv[t].charCodeAt(0)]=t;return e})();function kE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mv[n]),t.queuedBits-=6}}function TD(e,t,r){const n=RG[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OE(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{IG(s,n,r)};for(let s=0;s<e.length;s+=1)TD(e.charCodeAt(s),a,i);return t.join("")}function $G(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$G(n,t)}}function IG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)TD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function DG(e){const t=[];return MG(e,r=>t.push(r)),new Uint8Array(t)}function nl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>kE(a,r,n)),kE(null,r,n),t.join("")}function LG(e){return Math.round(Date.now()/1e3)+e}function FG(){return Symbol("auth-callback")}const Vr=()=>typeof window<"u"&&typeof document<"u",Lo={tested:!1,writable:!1},RD=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lo.tested)return Lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lo.tested=!0,Lo.writable=!0}catch{Lo.tested=!0,Lo.writable=!1}return Lo.writable};function BG(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const $D=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zr=async(e,t)=>{await e.removeItem(t)};class Vy{constructor(){this.promise=new Vy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vy.promiseConstructor=Promise;function dm(e){const t=e.split(".");if(t.length!==3)throw new d1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PG.test(t[n]))throw new d1("JWT not in base64url format");return{header:JSON.parse(OE(t[0])),payload:JSON.parse(OE(t[1])),signature:Vc(t[2]),raw:{header:t[0],payload:t[1]}}}async function UG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VG(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function WG(e){return("0"+e.toString(16)).substr(-2)}function HG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,WG).join("")}async function qG(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function KG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qG(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kl(e,t,r=!1){const n=HG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uc(e,`${t}-code-verifier`,a);const i=await KG(n);return[i,n===i?"plain":"s256"]}const GG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YG(e){const t=e.headers.get(c1);if(!t||!t.match(GG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gl(e){if(!JG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function G0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function TE(e){return JSON.parse(JSON.stringify(e))}const Ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eY=[502,503,504];async function RE(e){var t;if(!zG(e))throw new u1(Ho(e),0);if(eY.includes(e.status))throw new u1(Ho(e),e.status);let r;try{r=await e.json()}catch(i){throw new Qo(Ho(i),i)}let n;const a=YG(e);if(a&&a.getTime()>=OD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EE(Ho(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new EE(Ho(r),e.status,r.weak_password.reasons);throw new AG(Ho(r),e.status||500,n)}const tY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function We(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[c1]||(i[c1]=OD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await rY(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function rY(e,t,r,n,a,i){const s=tY(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new u1(Ho(c),0)}if(l.ok||await RE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await RE(c)}}function Ma(e){var t;let r=null;iY(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=LG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $E(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nY(e){return{data:e,error:null}}function aY(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=md(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function ME(e){return e}function iY(e){return e.access_token&&e.refresh_token&&e.expires_in}const Y0=["global","local","others"];class sY{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$D(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Y0[0]){if(Y0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Y0.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bs})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=md(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aY,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bs})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ME});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gl(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bs})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gl(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bs})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gl(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bs})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gl(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gl(t.userId),Gl(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ME});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($e(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}}function IE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yl={debug:!!(globalThis&&RD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oY extends MD{}async function lY(e,t,r){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function cY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ID(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uY(e){return parseInt(e,16)}function dY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function fY(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=ID(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${g}
${v}`}class mr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Iv extends mr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function hY({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new mr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(DD(s)){if(i.rp.id!==s)return new mr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pY({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(DD(n)){if(r.rpId!==n)return new mr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vY=new mY;function gY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=md(e,["challenge","user","excludeCredentials"]),i=Vc(t).buffer,s=Object.assign(Object.assign({},r),{id:Vc(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function yY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=md(e,["challenge","allowCredentials"]),a=Vc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Vc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function xY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:nl(new Uint8Array(e.response.attestationObject)),clientDataJSON:nl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nl(new Uint8Array(a.authenticatorData)),clientDataJSON:nl(new Uint8Array(a.clientDataJSON)),signature:nl(new Uint8Array(a.signature)),userHandle:a.userHandle?nl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function DE(){var e,t;return!!(Vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:hY({error:t,options:e})}}}async function jY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:pY({error:t,options:e})}}}const _Y={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=Dv(l,s):n[i]=Dv(s)}else n[i]=s}return n}function CY(e,t){return Dv(_Y,e,t||{})}function NY(e,t){return Dv(SY,e,t||{})}class PY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??vY.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,y=((s=p==null?void 0:p.user_metadata)===null||s===void 0?void 0:s.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=CY(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await wY({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=NY(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await jY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return $e(l)?{data:null,error:l}:{data:null,error:new Qo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn authentication")};try{if(!DE())return{data:null,error:new Qo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new Qo("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn registration")};try{if(!DE())return{data:null,error:new Qo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new Qo("Unexpected error in register",s)}}}}cY();const EY={url:SG,storageKey:CG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function LE(e,t,r){return await r()}const Xl={};class jh{get jwks(){var t,r;return(r=(t=Xl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xl[this.storageKey]=Object.assign(Object.assign({},Xl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xl[this.storageKey]=Object.assign(Object.assign({},Xl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},EY),t);if(this.storageKey=i.storageKey,this.instanceID=(r=jh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Vr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$D(i.fetch),this.lock=i.lock||LE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lY:this.lock=LE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:RD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=IE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=IE(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Vr()&&(r=BG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OG(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?this._returnResult({error:r}):this._returnResult({error:new Qo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ma}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if($e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Kl(this.storage,this.storageKey)),i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ma})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ma})}else throw new cm("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await zr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$E})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$E})}else throw new cm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ql;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:x}=t;let b;if(Vr())if(typeof g=="object")b=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=ID(j[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const P=await b.request({method:"eth_chainId"});C=uY(P)}const N={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=fY(N),y=await b.request({method:"personal_sign",params:[dY(p),S]})}try{const{data:m,error:g}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ma});if(g)throw g;if(!m||!m.session||!m.user){const v=new ql;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if($e(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:x,options:b}=t;let _;if(Vr())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:v}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:nl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ma});if(v)throw v;if(!g||!g.session||!g.user){const x=new ql;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if($e(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new TG;const{data:i,error:s}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ma});if(await zr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new ql;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ma}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ql;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kl(this.storage,this.storageKey));const{error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new cm("You must provide either an email or phone number.")}catch(l){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ma});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if($e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Kl(this.storage,this.storageKey));const u=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:nY});return!((i=u.data)===null||i===void 0)&&i.url&&Vr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wn;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if($e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new cm("You must provide either an email or phone number and a type")}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<H0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Fo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=G0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=ZG(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bs}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wn}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Bs})})}catch(r){if($e(r))return q0(r)&&(await this._removeSession(),await zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Wn;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Kl(this.storage,this.storageKey));const{data:u,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Bs});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=dm(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new um("No browser detected.");if(t.error||t.error_description||t.error_code)throw new um(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new PE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new um("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new PE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new um("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=cc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if($e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!q0(i))return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(kG(l)&&(l.status===404||l.status===401||l.status===403)||q0(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=FG(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Kl(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($e(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ma}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ql}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await zr(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VG(async a=>(a>0&&await UG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(a,i)=>{const s=200*Math.pow(2,a);return i&&K0(i)&&Date.now()+s-n<cc})}catch(n){if(this._debug(r,"error",n),$e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Fo(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await uc(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:G0()}else if(a&&!a.user&&!a.user){const s=await Fo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await zr(this.storage,this.storageKey+"-user"),await uc(this.storage,this.storageKey,a)):a.user=G0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<H0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${H0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),K0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vy;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Wn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),$e(i)){const s={data:null,error:i};return K0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=TE(a);await uc(this.storage,this.storageKey,i)}else{const a=TE(r);await uc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zr(this.storage,this.storageKey),await zr(this.storage,this.storageKey+"-code-verifier"),await zr(this.storage,this.storageKey+"-user"),this.userStorage&&await zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/cc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cc}ms, refresh threshold is ${l1} ticks`),a<=l1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof MD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Kl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xY(t.webauthn.credential_response):bY(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gY(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yY(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:p}=dm(t);let y=null;p.aal&&(y=p.aal);let m=y;const{data:{user:g},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const b=p.amr||[];return{data:{currentLevel:y,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if($e(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=dm(s.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const s=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const s=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await We(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(t){if($e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await We(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+EG>a)return n;const{data:i,error:s}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=dm(n);r!=null&&r.allowExpired||XG(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=QG(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,DG(`${l}.${c}`)))throw new d1("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}}jh.nextInstanceID={};const AY=jh,kY="2.93.3";let pf="";typeof Deno<"u"?pf="deno":typeof document<"u"?pf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pf="react-native":pf="node";const OY={"X-Client-Info":`supabase-js-${pf}/${kY}`},TY={headers:OY},RY={schema:"public"},$Y={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MY={};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function IY(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e){var t=IY(e,"string");return _h(t)=="symbol"?t:t+""}function LY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const FY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BY=()=>Headers,zY=(e,t,r)=>{const n=FY(r),a=BY();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,tr(tr({},s),{},{headers:u}))}};function UY(e){return e.endsWith("/")?e:e+"/"}function VY(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:tr(tr({},c),a),auth:tr(tr({},u),i),realtime:tr(tr({},d),s),storage:{},global:tr(tr(tr({},f),l),{},{headers:tr(tr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function WY(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UY(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var HY=class extends AY{constructor(e){super(e)}},qY=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=WY(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:RY,realtime:MY,auth:tr(tr({},$Y),{},{storageKey:s}),global:TY},c=VY(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=zY(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(tr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new kK(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new _G(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new CK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HY({url:this.authUrl.href,headers:tr(tr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KK(this.realtimeUrl.href,tr(tr({},e),{},{params:tr(tr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KY=(e,t,r)=>new qY(e,t,r);function GY(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}GY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YY="https://twkcoxagbajvopzzinor.supabase.co",XY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",pe=KY(YY,XY,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),LD=w.createContext(void 0);function QY({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,s]=w.useState("lecteur"),[l,c]=w.useState({});w.useEffect(()=>{const{data:{subscription:g}}=pe.auth.onAuthStateChange((v,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>d(),0))});return pe.auth.getSession().then(({data:{session:v}})=>{r((v==null?void 0:v.user)??null),a(!1),v!=null&&v.user&&(u(v.user.id),d())}),()=>g.unsubscribe()},[]);const u=async g=>{try{const{data:v}=await pe.from("user_roles").select("role").eq("user_id",g).single();v&&s(v.role)}catch{s("lecteur")}},d=async()=>{try{const{data:g}=await pe.from("tab_permissions").select("*");if(g){const v={};g.forEach(x=>{v[x.role]||(v[x.role]={}),v[x.role][x.tab_key]=x.permission}),c(v)}}catch{}},f=async(g,v)=>{const{error:x}=await pe.auth.signInWithPassword({email:g,password:v});return{error:x}},h=async(g,v,x)=>{const{error:b}=await pe.auth.signUp({email:g,password:v,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},p=async()=>{await pe.auth.signOut(),r(null)},y=i==="admin",m=g=>{if(y)return"write";const v=l[i];return v&&v[g]||"write"};return o.jsx(LD.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:f,signUp:h,signOut:p,getTabPermission:m},children:e})}function Ca(){const e=w.useContext(LD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const f1="novaride_financial_state_v5";function JY(){try{const e=localStorage.getItem(f1);if(e)return JSON.parse(e)}catch{}return ZY()}function ZY(){return{products:$7,roles:M7,expenses:I7,fundingRounds:D7,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:$v,opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:G7()}}const FD=w.createContext(void 0);function eX({children:e}){const{user:t}=Ca(),[r,n]=w.useState(JY),[a,i]=w.useState(!1);w.useRef(null),w.useEffect(()=>{!t||a||(async()=>{try{const{data:A}=await pe.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(A!=null&&A.state_data){const R=A.state_data;n({...R,hasUnsavedChanges:!1}),localStorage.setItem(f1,JSON.stringify(R))}}catch(A){console.warn("Failed to load from cloud:",A)}finally{i(!0)}})()},[t,a]),w.useCallback(()=>{n(A=>({...A,hasUnsavedChanges:!0}))},[]);const s=w.useCallback(A=>{n(R=>({...R,products:A,hasUnsavedChanges:!0}))},[]),l=w.useCallback(A=>{n(R=>({...R,products:[...R.products,A],hasUnsavedChanges:!0}))},[]),c=w.useCallback(A=>{n(R=>({...R,products:R.products.filter(O=>O.id!==A),hasUnsavedChanges:!0}))},[]),u=w.useCallback(A=>{n(R=>({...R,roles:A,hasUnsavedChanges:!0}))},[]),d=w.useCallback(A=>{n(R=>({...R,roles:[...R.roles,A],hasUnsavedChanges:!0}))},[]),f=w.useCallback(A=>{n(R=>({...R,roles:R.roles.filter(O=>O.id!==A),hasUnsavedChanges:!0}))},[]),h=w.useCallback(A=>{n(R=>({...R,expenses:A,hasUnsavedChanges:!0}))},[]),p=w.useCallback(A=>{n(R=>({...R,expenses:[...R.expenses,A],hasUnsavedChanges:!0}))},[]),y=w.useCallback(A=>{n(R=>({...R,expenses:R.expenses.filter(O=>O.id!==A),hasUnsavedChanges:!0}))},[]),m=w.useCallback(A=>{n(R=>({...R,fundingRounds:A,hasUnsavedChanges:!0}))},[]),g=w.useCallback(A=>{n(R=>({...R,scenarioSettings:{...R.scenarioSettings,...A},hasUnsavedChanges:!0}))},[]),v=w.useCallback(A=>{n(R=>({...R,activeScenarioId:A}))},[]),x=w.useCallback((A,R)=>{n(O=>({...O,scenarioConfigs:{...O.scenarioConfigs,[A]:{...O.scenarioConfigs[A],...R}},hasUnsavedChanges:!0}))},[]),b=w.useCallback(A=>{n(R=>({...R,revenueMode:A,hasUnsavedChanges:!0}))},[]),_=w.useCallback(A=>{n(R=>({...R,globalRevenueConfig:A,hasUnsavedChanges:!0}))},[]),j=w.useCallback(A=>{n(R=>({...R,opexMode:A,hasUnsavedChanges:!0}))},[]),S=w.useCallback(A=>{n(R=>({...R,simpleOpexConfig:{...R.simpleOpexConfig,...A},hasUnsavedChanges:!0}))},[]),C=w.useCallback(A=>{n(R=>({...R,excludeFundingFromTreasury:A,hasUnsavedChanges:!0}))},[]),N=w.useCallback(A=>{n(R=>({...R,historicalData:A,hasUnsavedChanges:!0}))},[]),P=w.useCallback(A=>{n(R=>({...R,monthlyTreasuryConfig:A,hasUnsavedChanges:!0}))},[]),E=w.useCallback(async()=>{try{const A={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(f1,JSON.stringify(A)),n(A),t){const{hasUnsavedChanges:R,...O}=A;await pe.from("financial_scenarios").upsert({user_id:t.id,state_data:O},{onConflict:"user_id"})}qr({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{qr({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),k=w.useMemo(()=>{const{products:A,roles:R,expenses:O,fundingRounds:I,scenarioSettings:$,scenarioConfigs:M,activeScenarioId:D,opexMode:L,simpleOpexConfig:z,excludeFundingFromTreasury:X,monthlyTreasuryConfig:G}=r,{startYear:F,durationYears:J,initialCash:U}=$,V=M[D],W=Array.from({length:J},(ne,ue)=>F+ue),de=A.reduce((ne,ue)=>ne+ue.devCost,0),Q=W.map(ne=>{if(r.revenueMode==="by-channel-global"){const ye=gh(r.globalRevenueConfig,ne),Ie=xK(r.globalRevenueConfig,ne);return{year:ne,revenue:ye,cogs:Ie}}let ue=0,ce=0;return A.forEach(ye=>{const Ie=Math.round((ye.volumesByYear[ne]||0)*(1+V.volumeAdjustment));ue+=Ie*ye.priceHT*(1+V.priceAdjustment),ce+=Ie*ye.unitCost}),{year:ne,revenue:ue,cogs:ce}}),te=W.map(ne=>{const ue=R.filter(ce=>ce.startYear<=ne);return{year:ne,payroll:ue.reduce((ce,ye)=>ce+ye.annualCostLoaded,0),headcount:ue.length}}),q=W.map((ne,ue)=>{let ce=0;const ye={};return L==="simple"?ce=z.baseAmount*Math.pow(1+z.growthRate,ue):O.forEach(Ie=>{var dn,wr;if(Ie.startYear>ne)return;let lt=Ie.baseAnnualCost;const $r=ne-Ie.startYear;if(Ie.evolutionType==="growth_rate")lt*=Math.pow(1+(Ie.growthRate||0),$r);else if(Ie.evolutionType==="linked_to_revenue")lt=(((dn=Q[ue])==null?void 0:dn.revenue)||0)*(Ie.revenueRatio||0);else if(Ie.evolutionType==="step"){const se=(wr=Ie.steps)==null?void 0:wr.filter(Be=>Be.year<=ne).pop();se&&(lt=se.newAnnualCost)}lt*=1+V.opexAdjustment,ce+=lt,ye[Ie.category]=(ye[Ie.category]||0)+lt}),{year:ne,opex:ce,byCategory:ye}}),H=W.map(ne=>({year:ne,capex:A.filter(ue=>ue.launchYear===ne).reduce((ue,ce)=>ue+ce.devCost,0),depreciation:L7(A,ne)})),ve=F,ge=R.filter(ne=>ne.startYear<=ve).length,Ae=R.filter(ne=>ne.startYear<=ve).reduce((ne,ue)=>ne+ue.annualCostLoaded,0),Le=I.map(ne=>({...ne,quarter:ne.quarter||"Q1"})),Ye=q7(A,R,O,Le,U,F,J,V,L,z),$t={},Gt={},B={},K={};Q.forEach(ne=>{$t[ne.year]=ne.revenue,Gt[ne.year]=ne.cogs}),te.forEach(ne=>{B[ne.year]=ne.payroll}),q.forEach(ne=>{K[ne.year]=ne.opex});const Z=Q7(G,{annualRevenue:$t,annualCogs:Gt,annualPayroll:B,annualOpex:K},I,U,F,J,X);return{totalDevCost:de,revenueByYear:Q,payrollByYear:te,opexByYear:q,capexByYear:H,totalHeadcount:ge,currentPayroll:Ae,treasuryProjection:Ye,monthlyTreasuryProjection:Z}},[r]);return o.jsx(FD.Provider,{value:{state:r,computed:k,updateProducts:s,addProduct:l,removeProduct:c,updateRoles:u,addRole:d,removeRole:f,updateExpenses:h,addExpense:p,removeExpense:y,updateFundingRounds:m,updateScenarioSettings:g,setActiveScenario:v,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,setOpexMode:j,updateSimpleOpexConfig:S,setExcludeFundingFromTreasury:C,updateHistoricalData:N,updateMonthlyTreasuryConfig:P,saveAll:E},children:e})}function $i(){const e=w.useContext(FD);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function Lv({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return o.jsx("div",{className:ie("flex items-center gap-2",r),children:o.jsxs("span",{className:ie("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",o.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const tX=[{items:[{to:"/home",label:"Accueil",icon:W6,tabKey:"home"}]},{label:"Prvisionnel",items:[{to:"/",label:"Plan Produit",icon:gp,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:pu,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:Z6,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:XM,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:M6,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:YM,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:sd,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:fu,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:J6,tabKey:"crm"},{to:"/costflow",label:"Production et BE",icon:B6,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:dS,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:eI,tabKey:"snapshots"}]}];function Vn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=Ca(),a=xp(),[i,s]=w.useState(!1),l=async()=>{await t(),a("/auth")},c=tX.map(u=>({...u,items:u.items.filter(d=>n(d.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return o.jsxs("div",{className:"flex min-h-screen",children:[o.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>s(!i),children:i?o.jsx(Ai,{className:"h-5 w-5"}):o.jsx(Q6,{className:"h-5 w-5"})}),o.jsxs("aside",{className:ie("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[o.jsx(Lv,{variant:"compact",color:"light"}),o.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),o.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,d)=>o.jsxs("div",{className:ie(d>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&o.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(f=>{const h=f.icon;return o.jsxs($s,{to:f.to,end:f.to==="/",onClick:()=>s(!1),className:({isActive:p})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",p?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(h,{className:"h-4 w-4"}),f.label]},f.to)})]},d)),r&&o.jsxs($s,{to:"/permissions",onClick:()=>s(!1),className:({isActive:u})=>ie("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(rI,{className:"h-4 w-4"}),"Administration"]})]}),o.jsx("div",{className:"p-4 border-t border-sidebar-border",children:o.jsxs(ae,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[o.jsx(Y6,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&o.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>s(!1)}),o.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function An({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=Ca();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?o.jsx(fE,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(fE,{to:"/auth",replace:!0})}const rX=ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...r}){return o.jsx("div",{className:ie(rX({variant:t}),e),...r})}const nX="/placeholder.svg",aX="/placeholder.svg",iX="/placeholder.svg";function sX(){const e=[{label:"CA 2025",value:"880k",trend:"+35%"},{label:"Marge Brute",value:"70%",trend:null},{label:"Effectif",value:"~10",trend:null},{label:"Leve cible",value:"2M",trend:null}],t=[{icon:oh,title:"Transmission Haut de Gamme",description:"Spcialisation sur les composants de transmission premium pour vlos (chapes, galets, plateaux, cassettes)"},{icon:U6,title:"Stratgie Multicanal",description:"Distribution B2C, B2B France/International et OEM avec des partenariats stratgiques"},{icon:aW,title:"Innovation & Design",description:"ADN d'ingnierie combinant performance CeramicSpeed, robustesse Hope et modularit Wolf Tooth"}],r=[{year:"2026",items:["B2B France: Diversification rseau","B2B International: 3-4 pays partenaires","B2C: Acclration e-commerce","OEM: 1er contrat pilote"]},{year:"2027",items:["Force de vente ddie","3-4 distributeurs internationaux","Marketplaces US/Asie","2-3 contrats OEM significatifs"]},{year:"2028",items:["Rseau direct consolid","5-6 pays actifs","25-30% CA en B2C global","4-5 contrats OEM rguliers"]}],n=[{brand:"CeramicSpeed",trait:"Performance"},{brand:"Cane Creek",trait:"Ingnierie"},{brand:"Hope",trait:"Robustesse"},{brand:"Wolf Tooth",trait:"Modularit"},{brand:"Garbaruk",trait:"Design CNC"},{brand:"Chris King",trait:"Durabilit"}];return o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("section",{className:"relative h-[60vh] min-h-[500px] overflow-hidden",children:[o.jsx("img",{src:nX,alt:"Novaride - Performance, Design, Reliability",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-8 md:px-16",children:[o.jsx(Lv,{variant:"full",color:"light",className:"mb-6"}),o.jsx("h1",{className:"text-white text-3xl md:text-5xl font-bold max-w-xl leading-tight mb-4",children:"All is in the details."}),o.jsx("p",{className:"text-white/80 text-lg md:text-xl max-w-lg mb-8",children:"Performance, design, reliability and fair price w/ No compromise."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx($s,{to:"/product",children:o.jsxs(ae,{size:"lg",className:"bg-primary hover:bg-primary/90",children:["Explorer le Plan",o.jsx(I0,{className:"ml-2 h-5 w-5"})]})}),o.jsx($s,{to:"/investment-summary",children:o.jsx(ae,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:"Synthse Investisseur"})})]})]})]}),o.jsx("section",{className:"bg-sidebar text-sidebar-foreground py-6 px-8",children:o.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-6",children:e.map((a,i)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold font-mono-numbers text-white",children:a.value}),o.jsxs("div",{className:"text-sm text-sidebar-foreground/70 flex items-center justify-center gap-2",children:[a.label,a.trend&&o.jsx(Me,{variant:"secondary",className:"text-xs bg-green-600/20 text-green-400",children:a.trend})]})]},i))})}),o.jsx("section",{className:"py-16 px-8",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx(Me,{variant:"outline",className:"mb-4",children:"Vision"}),o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"La rfrence pour la transmission haut de gamme"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"NOVARIDE combine le meilleur de l'industrie cycliste premium pour crer une gamme de composants de transmission qui rpond aux exigences des cyclistes les plus exigeants."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.map((a,i)=>o.jsxs(Me,{variant:"secondary",className:"text-xs",children:[a.trait," ",o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",a.brand,")"]})]},i))}),o.jsx($s,{to:"/valuation",children:o.jsxs(ae,{variant:"outline",children:["Voir la valorisation",o.jsx(I0,{className:"ml-2 h-4 w-4"})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:aX,alt:"Vision Novaride",className:"rounded-lg shadow-2xl"}),o.jsx("div",{className:"absolute -bottom-6 -left-6",children:o.jsx("img",{src:iX,alt:"CCD EVO Product",className:"h-32 w-auto bg-white p-4 rounded-lg shadow-xl"})})]})]})})}),o.jsx("section",{className:"py-16 px-8 bg-muted/30",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(Me,{variant:"outline",className:"mb-4",children:"Stratgie"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Produit & Offre"}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-xl mx-auto",children:"Nous identifions des produits logiques et les adaptons avec notre vision."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((a,i)=>{const s=a.icon;return o.jsx(dr,{className:"bg-card hover:shadow-lg transition-shadow",children:o.jsxs(fr,{className:"pt-6",children:[o.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:o.jsx(s,{className:"h-6 w-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:a.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})},i)})})]})}),o.jsx("section",{className:"py-16 px-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(Me,{variant:"outline",className:"mb-4",children:"Roadmap Commerciale"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Plan de Dveloppement 2026-2028"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((a,i)=>o.jsxs(dr,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary to-accent"}),o.jsxs(fr,{className:"pt-6",children:[o.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:a.year}),o.jsx("ul",{className:"space-y-2",children:a.items.map((s,l)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[o.jsx(I0,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),o.jsx("span",{children:s})]},l))})]})]},i))})]})}),o.jsx("section",{className:"py-16 px-8 bg-sidebar text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  explorer le business plan ?"}),o.jsx("p",{className:"text-white/70 mb-8 max-w-xl mx-auto",children:"Accdez  l'ensemble des projections financires, scnarios et valorisation pour accompagner la leve de fonds de NOVARIDE."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx($s,{to:"/",children:o.jsxs(ae,{size:"lg",className:"bg-white text-sidebar hover:bg-white/90",children:[o.jsx(gp,{className:"mr-2 h-5 w-5"}),"Plan Produit"]})}),o.jsx($s,{to:"/organisation",children:o.jsxs(ae,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[o.jsx(pu,{className:"mr-2 h-5 w-5"}),"Organisation"]})}),o.jsx($s,{to:"/funding",children:o.jsxs(ae,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[o.jsx(YM,{className:"mr-2 h-5 w-5"}),"Financement"]})})]})]})}),o.jsx("footer",{className:"py-8 px-8 border-t",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Lv,{variant:"compact",color:"dark",className:"text-xl"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:" 2025 NOVARIDE - Innovation franaise"})]}),o.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground",children:o.jsx("a",{href:"https://novatoride.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground",children:"Site officiel"})})]})})]})}function gs({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return o.jsx("div",{className:ie("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[o.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&o.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function gd({onSave:e,hasUnsavedChanges:t}){return o.jsxs(ae,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[o.jsx(hS,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Ut=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ie("w-full caption-bottom text-sm",e),...t})}));Ut.displayName="Table";const Vt=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ie("[&_tr]:border-b",e),...t}));Vt.displayName="TableHeader";const Wt=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ie("[&_tr:last-child]:border-0",e),...t}));Wt.displayName="TableBody";const oX=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oX.displayName="TableFooter";const we=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));we.displayName="TableRow";const le=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableHead";const Y=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const lX=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));lX.displayName="TableCaption";function cX({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return o.jsxs(Ue,{title:"Pricing Produits",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Prix TTC B2C"}),o.jsx(le,{className:"text-right",children:"Prix HT"}),o.jsx(le,{className:"text-right",children:"Cot Unitaire"}),o.jsx(le,{className:"text-right",children:"Marge"}),o.jsx(le,{className:"text-right",children:"Dev Cost"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(i=>o.jsxs(we,{children:[o.jsx(Y,{children:o.jsx(be,{value:i.name,onChange:s=>t({...i,name:s.target.value}),className:"h-8 w-40"})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:o.jsx(be,{type:"number",value:i.priceTTC_B2C,onChange:s=>{const l=Number(s.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.priceHT)}),o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.unitCost)}),o.jsxs(Y,{className:"text-right font-mono-numbers",children:[((1-i.unitCost/i.priceHT)*100).toFixed(0),"%"]}),o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(i.devCost,!0)}),o.jsx(Y,{children:o.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:o.jsx(un,{className:"h-4 w-4"})})})]},i.id))})]})}),o.jsxs(ae,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var uX=Array.isArray,zn=uX,dX=typeof Dp=="object"&&Dp&&Dp.Object===Object&&Dp,BD=dX,fX=BD,hX=typeof self=="object"&&self&&self.Object===Object&&self,pX=fX||hX||Function("return this")(),Mi=pX,mX=Mi,vX=mX.Symbol,wp=vX,BE=wp,zD=Object.prototype,gX=zD.hasOwnProperty,yX=zD.toString,Kd=BE?BE.toStringTag:void 0;function xX(e){var t=gX.call(e,Kd),r=e[Kd];try{e[Kd]=void 0;var n=!0}catch{}var a=yX.call(e);return n&&(t?e[Kd]=r:delete e[Kd]),a}var bX=xX,wX=Object.prototype,jX=wX.toString;function _X(e){return jX.call(e)}var SX=_X,zE=wp,CX=bX,NX=SX,PX="[object Null]",EX="[object Undefined]",UE=zE?zE.toStringTag:void 0;function AX(e){return e==null?e===void 0?EX:PX:UE&&UE in Object(e)?CX(e):NX(e)}var ys=AX;function kX(e){return e!=null&&typeof e=="object"}var xs=kX,OX=ys,TX=xs,RX="[object Symbol]";function $X(e){return typeof e=="symbol"||TX(e)&&OX(e)==RX}var yd=$X,MX=zn,IX=yd,DX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LX=/^\w*$/;function FX(e,t){if(MX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||IX(e)?!0:LX.test(e)||!DX.test(e)||t!=null&&e in Object(t)}var LS=FX;function BX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Eo=BX;const xd=xt(Eo);var zX=ys,UX=Eo,VX="[object AsyncFunction]",WX="[object Function]",HX="[object GeneratorFunction]",qX="[object Proxy]";function KX(e){if(!UX(e))return!1;var t=zX(e);return t==WX||t==HX||t==VX||t==qX}var FS=KX;const ze=xt(FS);var GX=Mi,YX=GX["__core-js_shared__"],XX=YX,X0=XX,VE=function(){var e=/[^.]+$/.exec(X0&&X0.keys&&X0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QX(e){return!!VE&&VE in e}var JX=QX,ZX=Function.prototype,eQ=ZX.toString;function tQ(e){if(e!=null){try{return eQ.call(e)}catch{}try{return e+""}catch{}}return""}var UD=tQ,rQ=FS,nQ=JX,aQ=Eo,iQ=UD,sQ=/[\\^$.*+?()[\]{}|]/g,oQ=/^\[object .+?Constructor\]$/,lQ=Function.prototype,cQ=Object.prototype,uQ=lQ.toString,dQ=cQ.hasOwnProperty,fQ=RegExp("^"+uQ.call(dQ).replace(sQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hQ(e){if(!aQ(e)||nQ(e))return!1;var t=rQ(e)?fQ:oQ;return t.test(iQ(e))}var pQ=hQ;function mQ(e,t){return e==null?void 0:e[t]}var vQ=mQ,gQ=pQ,yQ=vQ;function xQ(e,t){var r=yQ(e,t);return gQ(r)?r:void 0}var Bl=xQ,bQ=Bl,wQ=bQ(Object,"create"),Wy=wQ,WE=Wy;function jQ(){this.__data__=WE?WE(null):{},this.size=0}var _Q=jQ;function SQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var CQ=SQ,NQ=Wy,PQ="__lodash_hash_undefined__",EQ=Object.prototype,AQ=EQ.hasOwnProperty;function kQ(e){var t=this.__data__;if(NQ){var r=t[e];return r===PQ?void 0:r}return AQ.call(t,e)?t[e]:void 0}var OQ=kQ,TQ=Wy,RQ=Object.prototype,$Q=RQ.hasOwnProperty;function MQ(e){var t=this.__data__;return TQ?t[e]!==void 0:$Q.call(t,e)}var IQ=MQ,DQ=Wy,LQ="__lodash_hash_undefined__";function FQ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=DQ&&t===void 0?LQ:t,this}var BQ=FQ,zQ=_Q,UQ=CQ,VQ=OQ,WQ=IQ,HQ=BQ;function bd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bd.prototype.clear=zQ;bd.prototype.delete=UQ;bd.prototype.get=VQ;bd.prototype.has=WQ;bd.prototype.set=HQ;var qQ=bd;function KQ(){this.__data__=[],this.size=0}var GQ=KQ;function YQ(e,t){return e===t||e!==e&&t!==t}var BS=YQ,XQ=BS;function QQ(e,t){for(var r=e.length;r--;)if(XQ(e[r][0],t))return r;return-1}var Hy=QQ,JQ=Hy,ZQ=Array.prototype,eJ=ZQ.splice;function tJ(e){var t=this.__data__,r=JQ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eJ.call(t,r,1),--this.size,!0}var rJ=tJ,nJ=Hy;function aJ(e){var t=this.__data__,r=nJ(t,e);return r<0?void 0:t[r][1]}var iJ=aJ,sJ=Hy;function oJ(e){return sJ(this.__data__,e)>-1}var lJ=oJ,cJ=Hy;function uJ(e,t){var r=this.__data__,n=cJ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var dJ=uJ,fJ=GQ,hJ=rJ,pJ=iJ,mJ=lJ,vJ=dJ;function wd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wd.prototype.clear=fJ;wd.prototype.delete=hJ;wd.prototype.get=pJ;wd.prototype.has=mJ;wd.prototype.set=vJ;var qy=wd,gJ=Bl,yJ=Mi,xJ=gJ(yJ,"Map"),zS=xJ,HE=qQ,bJ=qy,wJ=zS;function jJ(){this.size=0,this.__data__={hash:new HE,map:new(wJ||bJ),string:new HE}}var _J=jJ;function SJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var CJ=SJ,NJ=CJ;function PJ(e,t){var r=e.__data__;return NJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ky=PJ,EJ=Ky;function AJ(e){var t=EJ(this,e).delete(e);return this.size-=t?1:0,t}var kJ=AJ,OJ=Ky;function TJ(e){return OJ(this,e).get(e)}var RJ=TJ,$J=Ky;function MJ(e){return $J(this,e).has(e)}var IJ=MJ,DJ=Ky;function LJ(e,t){var r=DJ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var FJ=LJ,BJ=_J,zJ=kJ,UJ=RJ,VJ=IJ,WJ=FJ;function jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jd.prototype.clear=BJ;jd.prototype.delete=zJ;jd.prototype.get=UJ;jd.prototype.has=VJ;jd.prototype.set=WJ;var US=jd,VD=US,HJ="Expected a function";function VS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HJ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(VS.Cache||VD),r}VS.Cache=VD;var WD=VS;const qJ=xt(WD);var KJ=WD,GJ=500;function YJ(e){var t=KJ(e,function(n){return r.size===GJ&&r.clear(),n}),r=t.cache;return t}var XJ=YJ,QJ=XJ,JJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZJ=/\\(\\)?/g,eZ=QJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(JJ,function(r,n,a,i){t.push(a?i.replace(ZJ,"$1"):n||r)}),t}),tZ=eZ;function rZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var WS=rZ,qE=wp,nZ=WS,aZ=zn,iZ=yd,sZ=1/0,KE=qE?qE.prototype:void 0,GE=KE?KE.toString:void 0;function HD(e){if(typeof e=="string")return e;if(aZ(e))return nZ(e,HD)+"";if(iZ(e))return GE?GE.call(e):"";var t=e+"";return t=="0"&&1/e==-sZ?"-0":t}var oZ=HD,lZ=oZ;function cZ(e){return e==null?"":lZ(e)}var qD=cZ,uZ=zn,dZ=LS,fZ=tZ,hZ=qD;function pZ(e,t){return uZ(e)?e:dZ(e,t)?[e]:fZ(hZ(e))}var KD=pZ,mZ=yd,vZ=1/0;function gZ(e){if(typeof e=="string"||mZ(e))return e;var t=e+"";return t=="0"&&1/e==-vZ?"-0":t}var Gy=gZ,yZ=KD,xZ=Gy;function bZ(e,t){t=yZ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xZ(t[r++])];return r&&r==n?e:void 0}var HS=bZ,wZ=HS;function jZ(e,t,r){var n=e==null?void 0:wZ(e,t);return n===void 0?r:n}var GD=jZ;const ra=xt(GD);function _Z(e){return e==null}var SZ=_Z;const Fe=xt(SZ);var CZ=ys,NZ=zn,PZ=xs,EZ="[object String]";function AZ(e){return typeof e=="string"||!NZ(e)&&PZ(e)&&CZ(e)==EZ}var kZ=AZ;const Pl=xt(kZ);var YD={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=Symbol.for("react.element"),KS=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Jy=Symbol.for("react.provider"),Zy=Symbol.for("react.context"),OZ=Symbol.for("react.server_context"),ex=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),rx=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),TZ=Symbol.for("react.offscreen"),XD;XD=Symbol.for("react.module.reference");function Na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qS:switch(e=e.type,e){case Yy:case Qy:case Xy:case tx:case rx:return e;default:switch(e=e&&e.$$typeof,e){case OZ:case Zy:case ex:case ax:case nx:case Jy:return e;default:return t}}case KS:return t}}}Ct.ContextConsumer=Zy;Ct.ContextProvider=Jy;Ct.Element=qS;Ct.ForwardRef=ex;Ct.Fragment=Yy;Ct.Lazy=ax;Ct.Memo=nx;Ct.Portal=KS;Ct.Profiler=Qy;Ct.StrictMode=Xy;Ct.Suspense=tx;Ct.SuspenseList=rx;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return Na(e)===Zy};Ct.isContextProvider=function(e){return Na(e)===Jy};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qS};Ct.isForwardRef=function(e){return Na(e)===ex};Ct.isFragment=function(e){return Na(e)===Yy};Ct.isLazy=function(e){return Na(e)===ax};Ct.isMemo=function(e){return Na(e)===nx};Ct.isPortal=function(e){return Na(e)===KS};Ct.isProfiler=function(e){return Na(e)===Qy};Ct.isStrictMode=function(e){return Na(e)===Xy};Ct.isSuspense=function(e){return Na(e)===tx};Ct.isSuspenseList=function(e){return Na(e)===rx};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yy||e===Qy||e===Xy||e===tx||e===rx||e===TZ||typeof e=="object"&&e!==null&&(e.$$typeof===ax||e.$$typeof===nx||e.$$typeof===Jy||e.$$typeof===Zy||e.$$typeof===ex||e.$$typeof===XD||e.getModuleId!==void 0)};Ct.typeOf=Na;YD.exports=Ct;var RZ=YD.exports,$Z=ys,MZ=xs,IZ="[object Number]";function DZ(e){return typeof e=="number"||MZ(e)&&$Z(e)==IZ}var QD=DZ;const LZ=xt(QD);var FZ=QD;function BZ(e){return FZ(e)&&e!=+e}var zZ=BZ;const _d=xt(zZ);var yn=function(t){return t===0?0:t>0?1:-1},al=function(t){return Pl(t)&&t.indexOf("%")===t.length-1},fe=function(t){return LZ(t)&&!_d(t)},UZ=function(t){return Fe(t)},kr=function(t){return fe(t)||Pl(t)},VZ=0,Ao=function(t){var r=++VZ;return"".concat(t||"").concat(r)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Pl(t))return n;var i;if(al(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return _d(i)&&(i=n),a&&i>r&&(i=r),i},zs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},WZ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xt=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Fv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ra(n,t))===r})}var HZ=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,s=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,s+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*s!==n*n?(r*i-n*a)/(r*s-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},qZ=function(t,r){return fe(t)&&fe(r)?t-r:Pl(t)&&Pl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Wc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}var KZ=["viewBox","children"],GZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YE=["points","pathLength"],Q0={svg:KZ,polygon:YE,polyline:YE},GS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!xd(n))return null;var a={};return Object.keys(n).forEach(function(i){GS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},YZ=function(t,r,n){return function(a){return t(r,n,a),null}},bo=function(t,r,n){if(!xd(t)||h1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];GS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=YZ(s,r,n))}),a},XZ=["children"],QZ=["children"];function XE(e,t){if(e==null)return{};var r=JZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var QE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ts=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JE=null,J0=null,YS=function e(t){if(t===JE&&Array.isArray(J0))return J0;var r=[];return w.Children.forEach(t,function(n){Fe(n)||(RZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),J0=r,JE=t,r};function jn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ts(a)}):n=[ts(t)],YS(e).forEach(function(a){var i=ra(a,"type.displayName")||ra(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Gn(e,t){var r=jn(e,t);return r&&r[0]}var ZE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},ZZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eee=function(t){return t&&t.type&&Pl(t.type)&&ZZ.indexOf(t.type)>=0},JD=function(t){return t&&p1(t)==="object"&&"clipDot"in t},tee=function(t,r,n,a){var i,s=(i=Q0==null?void 0:Q0[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ze(t)&&(a&&s.includes(r)||GZ.includes(r))||n&&GS.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!xd(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;tee((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},m1=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!eA(i,s))return!1}return!0},eA=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},a=n.children,i=XE(n,XZ),s=r.props||{},l=s.children,c=XE(s,QZ);return a&&l?Wc(i,c)&&m1(a,l):!a&&!l?Wc(i,c):!1}return!1},tA=function(t,r){var n=[],a={};return YS(t).forEach(function(i,s){if(eee(i))n.push(i);else if(i){var l=ts(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},ree=function(t){var r=t&&t.type;return r&&QE[r]?QE[r]:null},nee=function(t,r){return YS(r).indexOf(t)},aee=["children","width","height","viewBox","className","style","title","desc"];function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function iee(e,t){if(e==null)return{};var r=see(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function see(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=iee(e,aee),d=a||{width:r,height:n,x:0,y:0},f=Ke("recharts-surface",i);return T.createElement("svg",v1({},Oe(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var oee=["children","className"];function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}function lee(e,t){if(e==null)return{};var r=cee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ze=T.forwardRef(function(e,t){var r=e.children,n=e.className,a=lee(e,oee),i=Ke("recharts-layer",n);return T.createElement("g",y1({className:i},Oe(a,!0),{ref:t}),r)}),Za=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function uee(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var dee=uee,fee=dee;function hee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:fee(e,t,r)}var pee=hee,mee="\\ud800-\\udfff",vee="\\u0300-\\u036f",gee="\\ufe20-\\ufe2f",yee="\\u20d0-\\u20ff",xee=vee+gee+yee,bee="\\ufe0e\\ufe0f",wee="\\u200d",jee=RegExp("["+wee+mee+xee+bee+"]");function _ee(e){return jee.test(e)}var ZD=_ee;function See(e){return e.split("")}var Cee=See,e3="\\ud800-\\udfff",Nee="\\u0300-\\u036f",Pee="\\ufe20-\\ufe2f",Eee="\\u20d0-\\u20ff",Aee=Nee+Pee+Eee,kee="\\ufe0e\\ufe0f",Oee="["+e3+"]",x1="["+Aee+"]",b1="\\ud83c[\\udffb-\\udfff]",Tee="(?:"+x1+"|"+b1+")",t3="[^"+e3+"]",r3="(?:\\ud83c[\\udde6-\\uddff]){2}",n3="[\\ud800-\\udbff][\\udc00-\\udfff]",Ree="\\u200d",a3=Tee+"?",i3="["+kee+"]?",$ee="(?:"+Ree+"(?:"+[t3,r3,n3].join("|")+")"+i3+a3+")*",Mee=i3+a3+$ee,Iee="(?:"+[t3+x1+"?",x1,r3,n3,Oee].join("|")+")",Dee=RegExp(b1+"(?="+b1+")|"+Iee+Mee,"g");function Lee(e){return e.match(Dee)||[]}var Fee=Lee,Bee=Cee,zee=ZD,Uee=Fee;function Vee(e){return zee(e)?Uee(e):Bee(e)}var Wee=Vee,Hee=pee,qee=ZD,Kee=Wee,Gee=qD;function Yee(e){return function(t){t=Gee(t);var r=qee(t)?Kee(t):void 0,n=r?r[0]:t.charAt(0),a=r?Hee(r,1).join(""):t.slice(1);return n[e]()+a}}var Xee=Yee,Qee=Xee,Jee=Qee("toUpperCase"),Zee=Jee;const ix=xt(Zee);function Ot(e){return function(){return e}}const s3=Math.cos,zv=Math.sin,ai=Math.sqrt,Uv=Math.PI,sx=2*Uv,w1=Math.PI,j1=2*w1,qo=1e-6,ete=j1-qo;function o3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class rte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o3:tte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qo)if(!(Math.abs(f*c-u*d)>qo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,y=a-l,m=c*c+u*u,g=p*p+y*y,v=Math.sqrt(m),x=Math.sqrt(h),b=i*Math.tan((w1-Math.acos((m+h-g)/(2*v*x)))/2),_=b/x,j=b/v;Math.abs(_-1)>qo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qo||Math.abs(this._y1-d)>qo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%j1+j1),h>ete?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>qo&&this._append`A${n},${n},0,${+(h>=w1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function XS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new rte(t)}function QS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l3(e){this._context=e}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ox(e){return new l3(e)}function c3(e){return e[0]}function u3(e){return e[1]}function d3(e,t){var r=Ot(!0),n=null,a=ox,i=null,s=XS(l);e=typeof e=="function"?e:e===void 0?c3:Ot(e),t=typeof t=="function"?t:t===void 0?u3:Ot(t);function l(c){var u,d=(c=QS(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function fm(e,t,r){var n=null,a=Ot(!0),i=null,s=ox,l=null,c=XS(u);e=typeof e=="function"?e:e===void 0?c3:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?u3:Ot(+r);function u(f){var h,p,y,m=(f=QS(f)).length,g,v=!1,x,b=new Array(m),_=new Array(m);for(i==null&&(l=s(x=c())),h=0;h<=m;++h){if(!(h<m&&a(g=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):b[h],r?+r(g,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return d3().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ot(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ot(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ot(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class f3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nte(e){return new f3(e,!0)}function ate(e){return new f3(e,!1)}const JS={draw(e,t){const r=ai(t/Uv);e.moveTo(r,0),e.arc(0,0,r,0,sx)}},ite={draw(e,t){const r=ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},h3=ai(1/3),ste=h3*2,ote={draw(e,t){const r=ai(t/ste),n=r*h3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},lte={draw(e,t){const r=ai(t),n=-r/2;e.rect(n,n,r,r)}},cte=.8908130915292852,p3=zv(Uv/10)/zv(7*Uv/10),ute=zv(sx/10)*p3,dte=-s3(sx/10)*p3,fte={draw(e,t){const r=ai(t*cte),n=ute*r,a=dte*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=sx*i/5,l=s3(s),c=zv(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Z0=ai(3),hte={draw(e,t){const r=-ai(t/(Z0*3));e.moveTo(0,r*2),e.lineTo(-Z0*r,-r),e.lineTo(Z0*r,-r),e.closePath()}},ca=-.5,ua=ai(3)/2,_1=1/ai(12),pte=(_1/2+1)*3,mte={draw(e,t){const r=ai(t/pte),n=r/2,a=r*_1,i=n,s=r*_1+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(ca*n-ua*a,ua*n+ca*a),e.lineTo(ca*i-ua*s,ua*i+ca*s),e.lineTo(ca*l-ua*c,ua*l+ca*c),e.lineTo(ca*n+ua*a,ca*a-ua*n),e.lineTo(ca*i+ua*s,ca*s-ua*i),e.lineTo(ca*l+ua*c,ca*c-ua*l),e.closePath()}};function vte(e,t){let r=null,n=XS(a);e=typeof e=="function"?e:Ot(e||JS),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Vv(){}function Wv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function m3(e){this._context=e}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gte(e){return new m3(e)}function v3(e){this._context=e}v3.prototype={areaStart:Vv,areaEnd:Vv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yte(e){return new v3(e)}function g3(e){this._context=e}g3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xte(e){return new g3(e)}function y3(e){this._context=e}y3.prototype={areaStart:Vv,areaEnd:Vv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bte(e){return new y3(e)}function rA(e){return e<0?-1:1}function nA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(rA(i)+rA(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function aA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function eb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Hv(e){this._context=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eb(this,this._t0,aA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,eb(this,aA(this,r=nA(this,e,t)),r);break;default:eb(this,this._t0,r=nA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function x3(e){this._context=new b3(e)}(x3.prototype=Object.create(Hv.prototype)).point=function(e,t){Hv.prototype.point.call(this,t,e)};function b3(e){this._context=e}b3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function wte(e){return new Hv(e)}function jte(e){return new x3(e)}function w3(e){this._context=e}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iA(e),a=iA(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iA(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _te(e){return new w3(e)}function lx(e,t){this._context=e,this._t=t}lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Ste(e){return new lx(e,.5)}function Cte(e){return new lx(e,0)}function Nte(e){return new lx(e,1)}function yu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function S1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Pte(e,t){return e[t]}function Ete(e){const t=[];return t.key=e,t}function Ate(){var e=Ot([]),t=S1,r=yu,n=Pte;function a(i){var s=Array.from(e.apply(this,arguments),Ete),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=QS(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ot(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?S1:typeof i=="function"?i:Ot(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??yu,a):r},a}function kte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}yu(e,t)}}function Ote(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}yu(e,t)}}function Tte(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;p+=g-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,yu(e,t)}}function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}var Rte=["type","size","sizeType"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(this,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){$te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t,r){return t=Mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Ite(e,"string");return Sh(t)=="symbol"?t:t+""}function Ite(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t){if(e==null)return{};var r=Lte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var j3={symbolCircle:JS,symbolCross:ite,symbolDiamond:ote,symbolSquare:lte,symbolStar:fte,symbolTriangle:hte,symbolWye:mte},Fte=Math.PI/180,Bte=function(t){var r="symbol".concat(ix(t));return j3[r]||JS},zte=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Fte;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ute=function(t,r){j3["symbol".concat(ix(t))]=r},cx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=Dte(t,Rte),u=oA(oA({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=Bte(n),v=vte().type(g).size(zte(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,y=Oe(u,!0);return h===+h&&p===+p&&i===+i?T.createElement("path",C1({},y,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};cx.registerSymbol=Ute;function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S3(n.key),n)}}function qte(e,t,r){return t&&Hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kte(e,t,r){return t=qv(t),Gte(e,_3()?Reflect.construct(t,r||[],qv(e).constructor):t.apply(e,r))}function Gte(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(e)}function Yte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(e)}function Xte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P1(e,t)}function Ch(e,t,r){return t=S3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3(e){var t=Qte(e,"string");return xu(t)=="symbol"?t:t+""}function Qte(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da=32,ZS=function(e){function t(){return Wte(this,t),Kte(this,t,arguments)}return Xte(t,e),qte(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=da/2,s=da/6,l=da/3,c=n.inactive?a:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:da,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(da,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=Vte({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(cx,{fill:c,cx:i,cy:i,size:da,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:da,height:da},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,g=Ke(Ch(Ch({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ze(p.value)?null:p.value;Za(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return T.createElement("li",N1({className:g,style:f,key:"legend-item-".concat(y)},bo(n.props,p,y)),T.createElement(g1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,y):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);Ch(ZS,"displayName","Legend");Ch(ZS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jte=qy;function Zte(){this.__data__=new Jte,this.size=0}var ere=Zte;function tre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rre=tre;function nre(e){return this.__data__.get(e)}var are=nre;function ire(e){return this.__data__.has(e)}var sre=ire,ore=qy,lre=zS,cre=US,ure=200;function dre(e,t){var r=this.__data__;if(r instanceof ore){var n=r.__data__;if(!lre||n.length<ure-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cre(n)}return r.set(e,t),this.size=r.size,this}var fre=dre,hre=qy,pre=ere,mre=rre,vre=are,gre=sre,yre=fre;function Sd(e){var t=this.__data__=new hre(e);this.size=t.size}Sd.prototype.clear=pre;Sd.prototype.delete=mre;Sd.prototype.get=vre;Sd.prototype.has=gre;Sd.prototype.set=yre;var C3=Sd,xre="__lodash_hash_undefined__";function bre(e){return this.__data__.set(e,xre),this}var wre=bre;function jre(e){return this.__data__.has(e)}var _re=jre,Sre=US,Cre=wre,Nre=_re;function Kv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sre;++t<r;)this.add(e[t])}Kv.prototype.add=Kv.prototype.push=Cre;Kv.prototype.has=Nre;var N3=Kv;function Pre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var P3=Pre;function Ere(e,t){return e.has(t)}var E3=Ere,Are=N3,kre=P3,Ore=E3,Tre=1,Rre=2;function $re(e,t,r,n,a,i){var s=r&Tre,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Rre?new Are:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var g=s?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!kre(t,function(v,x){if(!Ore(p,x)&&(y===v||a(y,v,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var A3=$re,Mre=Mi,Ire=Mre.Uint8Array,Dre=Ire;function Lre(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Fre=Lre;function Bre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eC=Bre,cA=wp,uA=Dre,zre=BS,Ure=A3,Vre=Fre,Wre=eC,Hre=1,qre=2,Kre="[object Boolean]",Gre="[object Date]",Yre="[object Error]",Xre="[object Map]",Qre="[object Number]",Jre="[object RegExp]",Zre="[object Set]",ene="[object String]",tne="[object Symbol]",rne="[object ArrayBuffer]",nne="[object DataView]",dA=cA?cA.prototype:void 0,tb=dA?dA.valueOf:void 0;function ane(e,t,r,n,a,i,s){switch(r){case nne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rne:return!(e.byteLength!=t.byteLength||!i(new uA(e),new uA(t)));case Kre:case Gre:case Qre:return zre(+e,+t);case Yre:return e.name==t.name&&e.message==t.message;case Jre:case ene:return e==t+"";case Xre:var l=Vre;case Zre:var c=n&Hre;if(l||(l=Wre),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=qre,s.set(e,t);var d=Ure(l(e),l(t),n,a,i,s);return s.delete(e),d;case tne:if(tb)return tb.call(e)==tb.call(t)}return!1}var ine=ane;function sne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var k3=sne,one=k3,lne=zn;function cne(e,t,r){var n=t(e);return lne(e)?n:one(n,r(e))}var une=cne;function dne(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var fne=dne;function hne(){return[]}var pne=hne,mne=fne,vne=pne,gne=Object.prototype,yne=gne.propertyIsEnumerable,fA=Object.getOwnPropertySymbols,xne=fA?function(e){return e==null?[]:(e=Object(e),mne(fA(e),function(t){return yne.call(e,t)}))}:vne,bne=xne;function wne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jne=wne,_ne=ys,Sne=xs,Cne="[object Arguments]";function Nne(e){return Sne(e)&&_ne(e)==Cne}var Pne=Nne,hA=Pne,Ene=xs,O3=Object.prototype,Ane=O3.hasOwnProperty,kne=O3.propertyIsEnumerable,One=hA(function(){return arguments}())?hA:function(e){return Ene(e)&&Ane.call(e,"callee")&&!kne.call(e,"callee")},tC=One,Gv={exports:{}};function Tne(){return!1}var Rne=Tne;Gv.exports;(function(e,t){var r=Mi,n=Rne,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Gv,Gv.exports);var T3=Gv.exports,$ne=9007199254740991,Mne=/^(?:0|[1-9]\d*)$/;function Ine(e,t){var r=typeof e;return t=t??$ne,!!t&&(r=="number"||r!="symbol"&&Mne.test(e))&&e>-1&&e%1==0&&e<t}var rC=Ine,Dne=9007199254740991;function Lne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dne}var nC=Lne,Fne=ys,Bne=nC,zne=xs,Une="[object Arguments]",Vne="[object Array]",Wne="[object Boolean]",Hne="[object Date]",qne="[object Error]",Kne="[object Function]",Gne="[object Map]",Yne="[object Number]",Xne="[object Object]",Qne="[object RegExp]",Jne="[object Set]",Zne="[object String]",eae="[object WeakMap]",tae="[object ArrayBuffer]",rae="[object DataView]",nae="[object Float32Array]",aae="[object Float64Array]",iae="[object Int8Array]",sae="[object Int16Array]",oae="[object Int32Array]",lae="[object Uint8Array]",cae="[object Uint8ClampedArray]",uae="[object Uint16Array]",dae="[object Uint32Array]",Dt={};Dt[nae]=Dt[aae]=Dt[iae]=Dt[sae]=Dt[oae]=Dt[lae]=Dt[cae]=Dt[uae]=Dt[dae]=!0;Dt[Une]=Dt[Vne]=Dt[tae]=Dt[Wne]=Dt[rae]=Dt[Hne]=Dt[qne]=Dt[Kne]=Dt[Gne]=Dt[Yne]=Dt[Xne]=Dt[Qne]=Dt[Jne]=Dt[Zne]=Dt[eae]=!1;function fae(e){return zne(e)&&Bne(e.length)&&!!Dt[Fne(e)]}var hae=fae;function pae(e){return function(t){return e(t)}}var R3=pae,Yv={exports:{}};Yv.exports;(function(e,t){var r=BD,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Yv,Yv.exports);var mae=Yv.exports,vae=hae,gae=R3,pA=mae,mA=pA&&pA.isTypedArray,yae=mA?gae(mA):vae,$3=yae,xae=jne,bae=tC,wae=zn,jae=T3,_ae=rC,Sae=$3,Cae=Object.prototype,Nae=Cae.hasOwnProperty;function Pae(e,t){var r=wae(e),n=!r&&bae(e),a=!r&&!n&&jae(e),i=!r&&!n&&!a&&Sae(e),s=r||n||a||i,l=s?xae(e.length,String):[],c=l.length;for(var u in e)(t||Nae.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_ae(u,c)))&&l.push(u);return l}var Eae=Pae,Aae=Object.prototype;function kae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Aae;return e===r}var Oae=kae;function Tae(e,t){return function(r){return e(t(r))}}var M3=Tae,Rae=M3,$ae=Rae(Object.keys,Object),Mae=$ae,Iae=Oae,Dae=Mae,Lae=Object.prototype,Fae=Lae.hasOwnProperty;function Bae(e){if(!Iae(e))return Dae(e);var t=[];for(var r in Object(e))Fae.call(e,r)&&r!="constructor"&&t.push(r);return t}var zae=Bae,Uae=FS,Vae=nC;function Wae(e){return e!=null&&Vae(e.length)&&!Uae(e)}var jp=Wae,Hae=Eae,qae=zae,Kae=jp;function Gae(e){return Kae(e)?Hae(e):qae(e)}var ux=Gae,Yae=une,Xae=bne,Qae=ux;function Jae(e){return Yae(e,Qae,Xae)}var Zae=Jae,vA=Zae,eie=1,tie=Object.prototype,rie=tie.hasOwnProperty;function nie(e,t,r,n,a,i){var s=r&eie,l=vA(e),c=l.length,u=vA(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:rie.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=s;++f<c;){h=l[f];var v=e[h],x=t[h];if(n)var b=s?n(x,v,h,t,e,i):n(v,x,h,e,t,i);if(!(b===void 0?v===x||a(v,x,r,n,i):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var aie=nie,iie=Bl,sie=Mi,oie=iie(sie,"DataView"),lie=oie,cie=Bl,uie=Mi,die=cie(uie,"Promise"),fie=die,hie=Bl,pie=Mi,mie=hie(pie,"Set"),I3=mie,vie=Bl,gie=Mi,yie=vie(gie,"WeakMap"),xie=yie,E1=lie,A1=zS,k1=fie,O1=I3,T1=xie,D3=ys,Cd=UD,gA="[object Map]",bie="[object Object]",yA="[object Promise]",xA="[object Set]",bA="[object WeakMap]",wA="[object DataView]",wie=Cd(E1),jie=Cd(A1),_ie=Cd(k1),Sie=Cd(O1),Cie=Cd(T1),Ko=D3;(E1&&Ko(new E1(new ArrayBuffer(1)))!=wA||A1&&Ko(new A1)!=gA||k1&&Ko(k1.resolve())!=yA||O1&&Ko(new O1)!=xA||T1&&Ko(new T1)!=bA)&&(Ko=function(e){var t=D3(e),r=t==bie?e.constructor:void 0,n=r?Cd(r):"";if(n)switch(n){case wie:return wA;case jie:return gA;case _ie:return yA;case Sie:return xA;case Cie:return bA}return t});var Nie=Ko,rb=C3,Pie=A3,Eie=ine,Aie=aie,jA=Nie,_A=zn,SA=T3,kie=$3,Oie=1,CA="[object Arguments]",NA="[object Array]",hm="[object Object]",Tie=Object.prototype,PA=Tie.hasOwnProperty;function Rie(e,t,r,n,a,i){var s=_A(e),l=_A(t),c=s?NA:jA(e),u=l?NA:jA(t);c=c==CA?hm:c,u=u==CA?hm:u;var d=c==hm,f=u==hm,h=c==u;if(h&&SA(e)){if(!SA(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new rb),s||kie(e)?Pie(e,t,r,n,a,i):Eie(e,t,c,r,n,a,i);if(!(r&Oie)){var p=d&&PA.call(e,"__wrapped__"),y=f&&PA.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return i||(i=new rb),a(m,g,r,n,i)}}return h?(i||(i=new rb),Aie(e,t,r,n,a,i)):!1}var $ie=Rie,Mie=$ie,EA=xs;function L3(e,t,r,n,a){return e===t?!0:e==null||t==null||!EA(e)&&!EA(t)?e!==e&&t!==t:Mie(e,t,r,n,L3,a)}var aC=L3,Iie=C3,Die=aC,Lie=1,Fie=2;function Bie(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Iie;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Die(d,u,Lie|Fie,n,f):h))return!1}}return!0}var zie=Bie,Uie=Eo;function Vie(e){return e===e&&!Uie(e)}var F3=Vie,Wie=F3,Hie=ux;function qie(e){for(var t=Hie(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Wie(a)]}return t}var Kie=qie;function Gie(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var B3=Gie,Yie=zie,Xie=Kie,Qie=B3;function Jie(e){var t=Xie(e);return t.length==1&&t[0][2]?Qie(t[0][0],t[0][1]):function(r){return r===e||Yie(r,e,t)}}var Zie=Jie;function ese(e,t){return e!=null&&t in Object(e)}var tse=ese,rse=KD,nse=tC,ase=zn,ise=rC,sse=nC,ose=Gy;function lse(e,t,r){t=rse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=ose(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&sse(a)&&ise(s,a)&&(ase(e)||nse(e)))}var cse=lse,use=tse,dse=cse;function fse(e,t){return e!=null&&dse(e,t,use)}var hse=fse,pse=aC,mse=GD,vse=hse,gse=LS,yse=F3,xse=B3,bse=Gy,wse=1,jse=2;function _se(e,t){return gse(e)&&yse(t)?xse(bse(e),t):function(r){var n=mse(r,e);return n===void 0&&n===t?vse(r,e):pse(t,n,wse|jse)}}var Sse=_se;function Cse(e){return e}var Nd=Cse;function Nse(e){return function(t){return t==null?void 0:t[e]}}var Pse=Nse,Ese=HS;function Ase(e){return function(t){return Ese(t,e)}}var kse=Ase,Ose=Pse,Tse=kse,Rse=LS,$se=Gy;function Mse(e){return Rse(e)?Ose($se(e)):Tse(e)}var Ise=Mse,Dse=Zie,Lse=Sse,Fse=Nd,Bse=zn,zse=Ise;function Use(e){return typeof e=="function"?e:e==null?Fse:typeof e=="object"?Bse(e)?Lse(e[0],e[1]):Dse(e):zse(e)}var Ii=Use;function Vse(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var z3=Vse;function Wse(e){return e!==e}var Hse=Wse;function qse(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Kse=qse,Gse=z3,Yse=Hse,Xse=Kse;function Qse(e,t,r){return t===t?Xse(e,t,r):Gse(e,Yse,r)}var Jse=Qse,Zse=Jse;function eoe(e,t){var r=e==null?0:e.length;return!!r&&Zse(e,t,0)>-1}var toe=eoe;function roe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var noe=roe;function aoe(){}var ioe=aoe,nb=I3,soe=ioe,ooe=eC,loe=1/0,coe=nb&&1/ooe(new nb([,-0]))[1]==loe?function(e){return new nb(e)}:soe,uoe=coe,doe=N3,foe=toe,hoe=noe,poe=E3,moe=uoe,voe=eC,goe=200;function yoe(e,t,r){var n=-1,a=foe,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=hoe;else if(i>=goe){var u=t?null:moe(e);if(u)return voe(u);s=!1,a=poe,c=new doe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var xoe=yoe,boe=Ii,woe=xoe;function joe(e,t){return e&&e.length?woe(e,boe(t)):[]}var _oe=joe;const AA=xt(_oe);function U3(e,t,r){return t===!0?AA(e,r):ze(t)?AA(e,t):e}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var Soe=["ref"];function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function Noe(e,t,r){return t&&OA(e.prototype,t),r&&OA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Poe(e,t,r){return t=Xv(t),Eoe(e,V3()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function Eoe(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aoe(e)}function Aoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(e)}function koe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(e,t)}function dx(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=Ooe(e,"string");return bu(t)=="symbol"?t:t+""}function Ooe(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Toe(e,t){if(e==null)return{};var r=Roe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $oe(e){return e.value}function Moe(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=Toe(t,Soe);return T.createElement(ZS,r)}var TA=1,Gr=function(e){function t(){var r;Coe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Poe(this,t,[].concat(a)),dx(r,"lastBoundingBox",{width:-1,height:-1}),r}return koe(t,e),Noe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>TA||Math.abs(a.height-this.lastBoundingBox.height)>TA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fi(Fi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Fi(Fi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Moe(i,Fi(Fi({},this.props),{},{payload:U3(d,u,$oe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Fi(Fi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&fe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);dx(Gr,"displayName","Legend");dx(Gr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RA=wp,Ioe=tC,Doe=zn,$A=RA?RA.isConcatSpreadable:void 0;function Loe(e){return Doe(e)||Ioe(e)||!!($A&&e&&e[$A])}var Foe=Loe,Boe=k3,zoe=Foe;function H3(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=zoe),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?H3(l,t-1,r,n,a):Boe(a,l):n||(a[a.length]=l)}return a}var q3=H3;function Uoe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Voe=Uoe,Woe=Voe,Hoe=Woe(),qoe=Hoe,Koe=qoe,Goe=ux;function Yoe(e,t){return e&&Koe(e,t,Goe)}var K3=Yoe,Xoe=jp;function Qoe(e,t){return function(r,n){if(r==null)return r;if(!Xoe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var Joe=Qoe,Zoe=K3,ele=Joe,tle=ele(Zoe),iC=tle,rle=iC,nle=jp;function ale(e,t){var r=-1,n=nle(e)?Array(e.length):[];return rle(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var G3=ale;function ile(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sle=ile,MA=yd;function ole(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=MA(e),s=t!==void 0,l=t===null,c=t===t,u=MA(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var lle=ole,cle=lle;function ule(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=cle(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var dle=ule,ab=WS,fle=HS,hle=Ii,ple=G3,mle=sle,vle=R3,gle=dle,yle=Nd,xle=zn;function ble(e,t,r){t.length?t=ab(t,function(i){return xle(i)?function(s){return fle(s,i.length===1?i[0]:i)}:i}):t=[yle];var n=-1;t=ab(t,vle(hle));var a=ple(e,function(i,s,l){var c=ab(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return mle(a,function(i,s){return gle(i,s,r)})}var wle=ble;function jle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _le=jle,Sle=_le,IA=Math.max;function Cle(e,t,r){return t=IA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=IA(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Sle(e,this,l)}}var Nle=Cle;function Ple(e){return function(){return e}}var Ele=Ple,Ale=Bl,kle=function(){try{var e=Ale(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Y3=kle,Ole=Ele,DA=Y3,Tle=Nd,Rle=DA?function(e,t){return DA(e,"toString",{configurable:!0,enumerable:!1,value:Ole(t),writable:!0})}:Tle,$le=Rle,Mle=800,Ile=16,Dle=Date.now;function Lle(e){var t=0,r=0;return function(){var n=Dle(),a=Ile-(n-r);if(r=n,a>0){if(++t>=Mle)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Fle=Lle,Ble=$le,zle=Fle,Ule=zle(Ble),Vle=Ule,Wle=Nd,Hle=Nle,qle=Vle;function Kle(e,t){return qle(Hle(e,t,Wle),e+"")}var Gle=Kle,Yle=BS,Xle=jp,Qle=rC,Jle=Eo;function Zle(e,t,r){if(!Jle(r))return!1;var n=typeof t;return(n=="number"?Xle(r)&&Qle(t,r.length):n=="string"&&t in r)?Yle(r[t],e):!1}var fx=Zle,ece=q3,tce=wle,rce=Gle,LA=fx,nce=rce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&LA(e,t[0],t[1])?t=[]:r>2&&LA(t[0],t[1],t[2])&&(t=[t[0]]),tce(e,ece(t,1),[])}),ace=nce;const sC=xt(ace);function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}function ice(e,t){return cce(e)||lce(e,t)||oce(e,t)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function cce(e){if(Array.isArray(e))return e}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t,r){return t=dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=fce(e,"string");return Nh(t)=="symbol"?t:t+""}function fce(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hce(e){return Array.isArray(e)&&kr(e[0])&&kr(e[1])?e.join(" ~ "):e}var pce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(d&&d.length){var A={padding:0,margin:0},R=(h?sC(d,h):d).map(function(O,I){if(O.type==="none")return null;var $=ib({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),M=O.formatter||f||hce,D=O.value,L=O.name,z=D,X=L;if(M&&z!=null&&X!=null){var G=M(D,L,O,I,d);if(Array.isArray(G)){var F=ice(G,2);z=F[0],X=F[1]}else z=G}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:$},kr(X)?T.createElement("span",{className:"recharts-tooltip-item-name"},X):null,kr(X)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},z),T.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:A},R)}return null},_=ib({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=ib({margin:0},u),S=!Fe(m),C=S?m:"",N=Ke("recharts-default-tooltip",p),P=Ke("recharts-tooltip-label",y);S&&g&&d!==void 0&&d!==null&&(C=g(m,d));var E=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",$1({className:N,style:_},E),T.createElement("p",{className:P,style:j},T.isValidElement(C)?C:"".concat(C)),b())};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function pm(e,t,r){return t=mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mce(e){var t=vce(e,"string");return Ph(t)=="symbol"?t:t+""}function vce(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd="recharts-tooltip-wrapper",gce={visibility:"hidden"};function yce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ke(Gd,pm(pm(pm(pm({},"".concat(Gd,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Gd,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Gd,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Gd,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function zA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&fe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function xce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=zA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=zA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=xce({translateX:d,translateY:f,useTranslate3d:l})):u=gce,{cssProperties:u,cssClasses:yce({translateX:d,translateY:f,coordinate:r})}}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){I1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q3(n.key),n)}}function _ce(e,t,r){return t&&jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sce(e,t,r){return t=Qv(t),Cce(e,X3()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function Cce(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nce(e)}function Nce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X3=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function Pce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(e,t)}function I1(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=Ece(e,"string");return wu(t)=="symbol"?t:t+""}function Ece(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WA=1,Ace=function(e){function t(){var r;wce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Sce(this,t,[].concat(a)),I1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Pce(t,e),_ce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WA||Math.abs(n.height-this.state.lastBoundingBox.height)>WA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,b=bce({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=b.cssClasses,j=b.cssProperties,S=VA(VA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(w.PureComponent),kce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ba={isSsr:kce(),get:function(t){return ba[t]},set:function(t,r){if(typeof t=="string")ba[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ba[a]=t[a]})}}};function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){oC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z3(n.key),n)}}function Rce(e,t,r){return t&&Tce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ce(e,t,r){return t=Jv(t),Mce(e,J3()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function Mce(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(e)}function Ice(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J3=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function Dce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(e,t)}function oC(e,t,r){return t=Z3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z3(e){var t=Lce(e,"string");return ju(t)=="symbol"?t:t+""}function Lce(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fce(e){return e.dataKey}function Bce(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(pce,t)}var Ft=function(e){function t(){return Oce(this,t),$ce(this,t,arguments)}return Dce(t,e),Rce(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,g=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=y??[];f&&j.length&&(j=U3(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,Fce));var S=j.length>0;return T.createElement(Ace,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},Bce(u,qA(qA({},this.props),{},{payload:j})))}}])}(w.PureComponent);oC(Ft,"displayName","Tooltip");oC(Ft,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zce=Mi,Uce=function(){return zce.Date.now()},Vce=Uce,Wce=/\s/;function Hce(e){for(var t=e.length;t--&&Wce.test(e.charAt(t)););return t}var qce=Hce,Kce=qce,Gce=/^\s+/;function Yce(e){return e&&e.slice(0,Kce(e)+1).replace(Gce,"")}var Xce=Yce,Qce=Xce,KA=Eo,Jce=yd,GA=NaN,Zce=/^[-+]0x[0-9a-f]+$/i,eue=/^0b[01]+$/i,tue=/^0o[0-7]+$/i,rue=parseInt;function nue(e){if(typeof e=="number")return e;if(Jce(e))return GA;if(KA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Qce(e);var r=eue.test(e);return r||tue.test(e)?rue(e.slice(2),r?2:8):Zce.test(e)?GA:+e}var eL=nue,aue=Eo,sb=Vce,YA=eL,iue="Expected a function",sue=Math.max,oue=Math.min;function lue(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(iue);t=YA(t)||0,aue(r)&&(d=!!r.leading,f="maxWait"in r,i=f?sue(YA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var C=n,N=a;return n=a=void 0,u=S,s=e.apply(N,C),s}function y(S){return u=S,l=setTimeout(v,t),d?p(S):s}function m(S){var C=S-c,N=S-u,P=t-C;return f?oue(P,i-N):P}function g(S){var C=S-c,N=S-u;return c===void 0||C>=t||C<0||f&&N>=i}function v(){var S=sb();if(g(S))return x(S);l=setTimeout(v,m(S))}function x(S){return l=void 0,h&&n?p(S):(n=a=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?s:x(sb())}function j(){var S=sb(),C=g(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),s}return j.cancel=b,j.flush=_,j}var cue=lue,uue=cue,due=Eo,fue="Expected a function";function hue(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(fue);return due(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),uue(e,t,{leading:n,maxWait:t,trailing:a})}var pue=hue;const tL=xt(pue);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return t=vue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=gue(e,"string");return Eh(t)=="symbol"?t:t+""}function gue(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yue(e,t){return jue(e)||wue(e,t)||bue(e,t)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function jue(e){if(Array.isArray(e))return e}var nn=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,j=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),N=yue(C,2),P=N[0],E=N[1],k=w.useCallback(function(R,O){E(function(I){var $=Math.round(R),M=Math.round(O);return I.containerWidth===$&&I.containerHeight===M?I:{containerWidth:$,containerHeight:M}})},[]);w.useEffect(function(){var R=function(L){var z,X=L[0].contentRect,G=X.width,F=X.height;k(G,F),(z=S.current)===null||z===void 0||z.call(S,G,F)};m>0&&(R=tL(R,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(R),I=j.current.getBoundingClientRect(),$=I.width,M=I.height;return k($,M),O.observe(j.current),function(){O.disconnect()}},[k,m]);var A=w.useMemo(function(){var R=P.containerWidth,O=P.containerHeight;if(R<0||O<0)return null;Za(al(s)||al(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Za(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=al(s)?R:s,$=al(c)?O:c;r&&r>0&&(I?$=I/r:$&&(I=$*r),h&&$>h&&($=h)),Za(I>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,$,s,c,d,f,r);var M=!Array.isArray(p)&&ts(p.type).endsWith("Chart");return T.Children.map(p,function(D){return T.isValidElement(D)?w.cloneElement(D,mm({width:I,height:$},M?{style:mm({height:"100%",width:"100%",maxHeight:$,maxWidth:I},D.props.style)}:{})):D})},[r,p,c,h,f,d,P,s]);return T.createElement("div",{id:g?"".concat(g):void 0,className:Ke("recharts-responsive-container",v),style:mm(mm({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},A)}),_p=function(t){return null};_p.displayName="Cell";function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){_ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t,r){return t=Sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sue(e){var t=Cue(e,"string");return Ah(t)=="symbol"?t:t+""}function Cue(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ql={widthCache:{},cacheCount:0},Nue=2e3,Pue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZA="recharts_measurement_span";function Eue(e){var t=L1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var kf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ba.isSsr)return{width:0,height:0};var n=Eue(r),a=JSON.stringify({text:t,copyStyle:n});if(Ql.widthCache[a])return Ql.widthCache[a];try{var i=document.getElementById(ZA);i||(i=document.createElement("span"),i.setAttribute("id",ZA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=L1(L1({},Pue),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ql.widthCache[a]=c,++Ql.cacheCount>Nue&&(Ql.cacheCount=0,Ql.widthCache={}),c}catch{return{width:0,height:0}}},Aue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function Zv(e,t){return Rue(e)||Tue(e,t)||Oue(e,t)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(e,t){if(e){if(typeof e=="string")return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}function ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Rue(e){if(Array.isArray(e))return e}function $ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iue(n.key),n)}}function Mue(e,t,r){return t&&tk(e.prototype,t),r&&tk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iue(e){var t=Due(e,"string");return kh(t)=="symbol"?t:t+""}function Due(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bue=Object.keys(rL),Ac="NaN";function zue(e,t){return e*rL[t]}var vm=function(){function e(t,r){$ue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Lue.test(r)&&(this.num=NaN,this.unit=""),Bue.includes(r)&&(this.num=zue(t,r),this.unit="px")}return Mue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Fue.exec(r))!==null&&n!==void 0?n:[],i=Zv(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function nL(e){if(e.includes(Ac))return Ac;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=rk.exec(t))!==null&&r!==void 0?r:[],a=Zv(n,4),i=a[1],s=a[2],l=a[3],c=vm.parse(i??""),u=vm.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ac;t=t.replace(rk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=nk.exec(t))!==null&&f!==void 0?f:[],p=Zv(h,4),y=p[1],m=p[2],g=p[3],v=vm.parse(y??""),x=vm.parse(g??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return Ac;t=t.replace(nk,b.toString())}return t}var ak=/\(([^()]*)\)/;function Uue(e){for(var t=e;t.includes("(");){var r=ak.exec(t),n=Zv(r,2),a=n[1];t=t.replace(ak,nL(a))}return t}function Vue(e){var t=e.replace(/\s+/g,"");return t=Uue(t),t=nL(t),t}function Wue(e){try{return Vue(e)}catch{return Ac}}function ob(e){var t=Wue(e.slice(5,-1));return t===Ac?"":t}var Hue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],que=["dx","dy","angle","className","breakAll"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function ik(e,t){if(e==null)return{};var r=Kue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sk(e,t){return Que(e)||Xue(e,t)||Yue(e,t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yue(e,t){if(e){if(typeof e=="string")return ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(e,t)}}function ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Que(e){if(Array.isArray(e))return e}var aL=/[ \f\n\r\t\v\u2028\u2029]+/,iL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Fe(r)||(n?i=r.toString().split(""):i=r.toString().split(aL));var s=i.map(function(c){return{word:c,width:kf(c,a).width}}),l=n?0:kf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Jue=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=fe(s),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function($,M){var D=M.word,L=M.width,z=$[$.length-1];if(z&&(a==null||i||z.width+L+n<Number(a)))z.words.push(D),z.width+=L+n;else{var X={words:[D],width:L};$.push(X)}return $},[])},p=h(r),y=function(I){return I.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return p;for(var m="",g=function(I){var $=f.slice(0,I),M=iL({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,D=h(M),L=D.length>s||y(D).width>Number(a);return[L,D]},v=0,x=f.length-1,b=0,_;v<=x&&b<=f.length-1;){var j=Math.floor((v+x)/2),S=j-1,C=g(S),N=sk(C,2),P=N[0],E=N[1],k=g(j),A=sk(k,1),R=A[0];if(!P&&!R&&(v=j+1),P&&R&&(x=j-1),!P&&R){_=E;break}b++}return _||p},lk=function(t){var r=Fe(t)?[]:t.toString().split(aL);return[{words:r}]},Zue=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!ba.isSsr){var c,u,d=iL({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return lk(a);return Jue({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return lk(a)},ck="#808080",El=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?ck:g,x=ik(t,Hue),b=w.useMemo(function(){return Zue({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,j=x.dy,S=x.angle,C=x.className,N=x.breakAll,P=ik(x,que);if(!kr(n)||!kr(i))return null;var E=n+(fe(_)?_:0),k=i+(fe(j)?j:0),A;switch(m){case"start":A=ob("calc(".concat(u,")"));break;case"middle":A=ob("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=ob("calc(".concat(b.length-1," * -").concat(l,")"));break}var R=[];if(f){var O=b[0].width,I=x.width;R.push("scale(".concat((fe(I)?I/O:1)/O,")"))}return S&&R.push("rotate(".concat(S,", ").concat(E,", ").concat(k,")")),R.length&&(P.transform=R.join(" ")),T.createElement("text",F1({},Oe(P,!0),{x:E,y:k,className:Ke("recharts-text",C),textAnchor:p,fill:v.includes("url")?ck:v}),b.map(function($,M){var D=$.words.join(N?"":" ");return T.createElement("tspan",{x:E,dy:M===0?A:l,key:"".concat(D,"-").concat(M)},D)}))};function fo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ede(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lC(e){let t,r,n;e.length!==2?(t=fo,r=(l,c)=>fo(e(l),c),n=(l,c)=>e(l)-c):(t=e===fo||e===ede?e:tde,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function tde(){return 0}function sL(e){return e===null?NaN:+e}function*rde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nde=lC(fo),Sp=nde.right;lC(sL).center;class uk extends Map{constructor(t,r=sde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(dk(this,t))}has(t){return super.has(dk(this,t))}set(t,r){return super.set(ade(this,t),r)}delete(t){return super.delete(ide(this,t))}}function dk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ade({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ide({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ode(e=fo){if(e===fo)return oL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function oL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lde=Math.sqrt(50),cde=Math.sqrt(10),ude=Math.sqrt(2);function eg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=lde?10:i>=cde?5:i>=ude?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?eg(e,t,r*2):[l,c,u]}function B1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?eg(t,e,r):eg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function z1(e,t,r){return t=+t,e=+e,r=+r,eg(e,t,r)[2]}function U1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?z1(t,e,r):z1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function fk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?oL:ode(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));lL(e,t,p,y,a)}const i=e[t];let s=r,l=n;for(Yd(e,r,t),a(e[n],i)>0&&Yd(e,r,n);s<l;){for(Yd(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Yd(e,r,l):(++l,Yd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Yd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dde(e,t,r){if(e=Float64Array.from(rde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return hk(e);if(t>=1)return fk(e);var n,a=(n-1)*t,i=Math.floor(a),s=fk(lL(e,i).subarray(0,i+1)),l=hk(e.subarray(i+1));return s+(l-s)*(a-i)}}function fde(e,t,r=sL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function hde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V1=Symbol("implicit");function cC(){var e=new uk,t=[],r=[],n=V1;function a(i){let s=e.get(i);if(s===void 0){if(n!==V1)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new uk;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cC(t,r).unknown(n)},Pa.apply(a,arguments),a}function Oh(){var e=cC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,s=i*(1-c),l&&(y=Math.round(y),s=Math.round(s));var g=hde(h).map(function(v){return y+i*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Oh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pa.apply(f(),arguments)}function cL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cL(t())},e}function Of(){return cL(Oh.apply(null,arguments).paddingInner(1))}function uC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cp(){}var Th=.7,tg=1/Th,Hc="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pde=/^#([0-9a-f]{3,8})$/,mde=new RegExp(`^rgb\\(${Hc},${Hc},${Hc}\\)$`),vde=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),gde=new RegExp(`^rgba\\(${Hc},${Hc},${Hc},${Rh}\\)$`),yde=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${Rh}\\)$`),xde=new RegExp(`^hsl\\(${Rh},${Ni},${Ni}\\)$`),bde=new RegExp(`^hsla\\(${Rh},${Ni},${Ni},${Rh}\\)$`),pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uC(Cp,$h,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mk,formatHex:mk,formatHex8:wde,formatHsl:jde,formatRgb:vk,toString:vk});function mk(){return this.rgb().formatHex()}function wde(){return this.rgb().formatHex8()}function jde(){return dL(this).formatHsl()}function vk(){return this.rgb().formatRgb()}function $h(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gk(t):r===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mde.exec(e))?new $n(t[1],t[2],t[3],1):(t=vde.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gde.exec(e))?gm(t[1],t[2],t[3],t[4]):(t=yde.exec(e))?gm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xde.exec(e))?bk(t[1],t[2]/100,t[3]/100,1):(t=bde.exec(e))?bk(t[1],t[2]/100,t[3]/100,t[4]):pk.hasOwnProperty(e)?gk(pk[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function gk(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function gm(e,t,r,n){return n<=0&&(e=t=r=NaN),new $n(e,t,r,n)}function _de(e){return e instanceof Cp||(e=$h(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function W1(e,t,r,n){return arguments.length===1?_de(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uC($n,W1,uL(Cp,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Th:Math.pow(Th,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(yl(this.r),yl(this.g),yl(this.b),rg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yk,formatHex:yk,formatHex8:Sde,formatRgb:xk,toString:xk}));function yk(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function Sde(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function xk(){const e=rg(this.opacity);return`${e===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${e===1?")":`, ${e})`}`}function rg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=yl(e),(e<16?"0":"")+e.toString(16)}function bk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ga(e,t,r,n)}function dL(e){if(e instanceof Ga)return new Ga(e.h,e.s,e.l,e.opacity);if(e instanceof Cp||(e=$h(e)),!e)return new Ga;if(e instanceof Ga)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Ga(s,l,c,e.opacity)}function Cde(e,t,r,n){return arguments.length===1?dL(e):new Ga(e,t,r,n??1)}function Ga(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uC(Ga,Cde,uL(Cp,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new Ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Th:Math.pow(Th,e),new Ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new $n(lb(e>=240?e-240:e+120,a,n),lb(e,a,n),lb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ga(wk(this.h),ym(this.s),ym(this.l),rg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rg(this.opacity);return`${e===1?"hsl(":"hsla("}${wk(this.h)}, ${ym(this.s)*100}%, ${ym(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wk(e){return e=(e||0)%360,e<0?e+360:e}function ym(e){return Math.max(0,Math.min(1,e||0))}function lb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dC=e=>()=>e;function Nde(e,t){return function(r){return e+r*t}}function Pde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ede(e){return(e=+e)==1?fL:function(t,r){return r-t?Pde(t,r,e):dC(isNaN(t)?r:t)}}function fL(e,t){var r=t-e;return r?Nde(e,r):dC(isNaN(e)?t:e)}const jk=function e(t){var r=Ede(t);function n(a,i){var s=r((a=W1(a)).r,(i=W1(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=fL(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Ade(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function kde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ode(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Pd(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function Tde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ng(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Rde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var H1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cb=new RegExp(H1.source,"g");function $de(e){return function(){return e}}function Mde(e){return function(t){return e(t)+""}}function Ide(e,t){var r=H1.lastIndex=cb.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=H1.exec(e))&&(a=cb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:ng(n,a)})),r=cb.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?Mde(c[0].x):$de(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Pd(e,t){var r=typeof t,n;return t==null||r==="boolean"?dC(t):(r==="number"?ng:r==="string"?(n=$h(t))?(t=n,jk):Ide:t instanceof $h?jk:t instanceof Date?Tde:kde(t)?Ade:Array.isArray(t)?Ode:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Rde:ng)(e,t)}function fC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Dde(e,t){t===void 0&&(t=e,e=Pd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function Lde(e){return function(){return e}}function ag(e){return+e}var _k=[0,1];function bn(e){return e}function q1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lde(isNaN(t)?NaN:.5)}function Fde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Bde(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=q1(a,n),i=r(s,i)):(n=q1(n,a),i=r(i,s)),function(l){return i(n(l))}}function zde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=q1(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Sp(e,l,1,n)-1;return i[c](a[c](l))}}function Np(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hx(){var e=_k,t=_k,r=Pd,n,a,i,s=bn,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==bn&&(s=Fde(e[0],e[h-1])),l=h>2?zde:Bde,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),ng)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ag),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=fC,d()},f.clamp=function(h){return arguments.length?(s=h?!0:bn,d()):s!==bn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function hC(){return hx()(bn,bn)}function Ude(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ig(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _u(e){return e=ig(Math.abs(e)),e?e[1]:NaN}function Vde(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Wde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Hde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mh(e){if(!(t=Hde.exec(e)))throw new Error("invalid format: "+e);var t;return new pC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mh.prototype=pC.prototype;function pC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var hL;function Kde(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(hL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ig(e,Math.max(0,t+i-1))[0]}function Sk(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Ck={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ude,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Sk(e*100,t),r:Sk,s:Kde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nk(e){return e}var Pk=Array.prototype.map,Ek=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gde(e){var t=e.grouping===void 0||e.thousands===void 0?Nk:Vde(Pk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Nk:Wde(Pk.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mh(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,g=f.zero,v=f.width,x=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):Ck[j]||(b===void 0&&(b=12),_=!0,j="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=m==="$"?n:/[%p]/.test(j)?s:"",N=Ck[j],P=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(k){var A=S,R=C,O,I,$;if(j==="c")R=N(k)+R,k="";else{k=+k;var M=k<0||1/k<0;if(k=isNaN(k)?c:N(Math.abs(k),b),_&&(k=qde(k)),M&&+k==0&&y!=="+"&&(M=!1),A=(M?y==="("?y:l:y==="-"||y==="("?"":y)+A,R=(j==="s"?Ek[8+hL/3]:"")+R+(M&&y==="("?")":""),P){for(O=-1,I=k.length;++O<I;)if($=k.charCodeAt(O),48>$||$>57){R=($===46?a+k.slice(O+1):k.slice(O))+R,k=k.slice(0,O);break}}}x&&!g&&(k=t(k,1/0));var D=A.length+k.length+R.length,L=D<v?new Array(v-D+1).join(h):"";switch(x&&g&&(k=t(L+k,L.length?v-R.length:1/0),L=""),p){case"<":k=A+k+R+L;break;case"=":k=A+L+k+R;break;case"^":k=L.slice(0,D=L.length>>1)+A+k+R+L.slice(D);break;default:k=L+A+k+R;break}return i(k)}return E.toString=function(){return f+""},E}function d(f,h){var p=u((f=Mh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(_u(h)/3)))*3,m=Math.pow(10,-y),g=Ek[8+y/3];return function(v){return p(m*v)+g}}return{format:u,formatPrefix:d}}var xm,mC,pL;Yde({thousands:",",grouping:[3],currency:["$",""]});function Yde(e){return xm=Gde(e),mC=xm.format,pL=xm.formatPrefix,xm}function Xde(e){return Math.max(0,-_u(Math.abs(e)))}function Qde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_u(t)/3)))*3-_u(Math.abs(e)))}function Jde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_u(t)-_u(e))+1}function mL(e,t,r,n){var a=U1(e,t,r),i;switch(n=Mh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Qde(a,s))&&(n.precision=i),pL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Jde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Xde(a))&&(n.precision=i-(n.type==="%")*2);break}}return mC(n)}function ko(e){var t=e.domain;return e.ticks=function(r){var n=t();return B1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=z1(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function sg(){var e=hC();return e.copy=function(){return Np(e,sg())},Pa.apply(e,arguments),ko(e)}function vL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ag),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vL(e).unknown(t)},e=arguments.length?Array.from(e,ag):[0,1],ko(r)}function gL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Ak(e){return Math.log(e)}function kk(e){return Math.exp(e)}function Zde(e){return-Math.log(-e)}function efe(e){return-Math.exp(-e)}function tfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rfe(e){return e===10?tfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ok(e){return(t,r)=>-e(-t,r)}function vC(e){const t=e(Ak,kk),r=t.domain;let n=10,a,i;function s(){return a=nfe(n),i=rfe(n),r()[0]<0?(a=Ok(a),i=Ok(i),e(Zde,efe)):e(Ak,kk),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<g&&(v=B1(u,d,g))}else v=B1(h,p,Math.min(p-h,g)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Mh(c)).precision==null&&(c.trim=!0),c=mC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function yL(){const e=vC(hx()).domain([1,10]);return e.copy=()=>Np(e,yL()).base(e.base()),Pa.apply(e,arguments),e}function Tk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gC(e){var t=1,r=e(Tk(t),Rk(t));return r.constant=function(n){return arguments.length?e(Tk(t=+n),Rk(t)):t},ko(r)}function xL(){var e=gC(hx());return e.copy=function(){return Np(e,xL()).constant(e.constant())},Pa.apply(e,arguments)}function $k(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function afe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ife(e){return e<0?-e*e:e*e}function yC(e){var t=e(bn,bn),r=1;function n(){return r===1?e(bn,bn):r===.5?e(afe,ife):e($k(r),$k(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ko(t)}function xC(){var e=yC(hx());return e.copy=function(){return Np(e,xC()).exponent(e.exponent())},Pa.apply(e,arguments),e}function sfe(){return xC.apply(null,arguments).exponent(.5)}function Mk(e){return Math.sign(e)*e*e}function ofe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bL(){var e=hC(),t=[0,1],r=!1,n;function a(i){var s=ofe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(Mk(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ag)).map(Mk)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pa.apply(a,arguments),ko(a)}function wL(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=fde(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Sp(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(fo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wL().domain(e).range(t).unknown(n)},Pa.apply(i,arguments)}function jL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Sp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return jL().domain([e,t]).range(a).unknown(i)},Pa.apply(ko(s),arguments)}function _L(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Sp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _L().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}const ub=new Date,db=new Date;function Rr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>Rr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(ub.setTime(+i),db.setTime(+s),e(ub),e(db),Math.floor(r(ub,db))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const og=Rr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);og.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):og);og.range;const Xi=1e3,ya=Xi*60,Qi=ya*60,cs=Qi*24,bC=cs*7,Ik=cs*30,fb=cs*365,sl=Rr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCSeconds());sl.range;const wC=Rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getMinutes());wC.range;const jC=Rr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCMinutes());jC.range;const _C=Rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi-e.getMinutes()*ya)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getHours());_C.range;const SC=Rr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCHours());SC.range;const Pp=Rr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/cs,e=>e.getDate()-1);Pp.range;const px=Rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>e.getUTCDate()-1);px.range;const SL=Rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>Math.floor(e/cs));SL.range;function zl(e){return Rr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ya)/bC)}const mx=zl(0),lg=zl(1),lfe=zl(2),cfe=zl(3),Su=zl(4),ufe=zl(5),dfe=zl(6);mx.range;lg.range;lfe.range;cfe.range;Su.range;ufe.range;dfe.range;function Ul(e){return Rr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bC)}const vx=Ul(0),cg=Ul(1),ffe=Ul(2),hfe=Ul(3),Cu=Ul(4),pfe=Ul(5),mfe=Ul(6);vx.range;cg.range;ffe.range;hfe.range;Cu.range;pfe.range;mfe.range;const CC=Rr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CC.range;const NC=Rr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NC.range;const us=Rr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());us.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});us.range;const ds=Rr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ds.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ds.range;function CL(e,t,r,n,a,i){const s=[[sl,1,Xi],[sl,5,5*Xi],[sl,15,15*Xi],[sl,30,30*Xi],[i,1,ya],[i,5,5*ya],[i,15,15*ya],[i,30,30*ya],[a,1,Qi],[a,3,3*Qi],[a,6,6*Qi],[a,12,12*Qi],[n,1,cs],[n,2,2*cs],[r,1,bC],[t,1,Ik],[t,3,3*Ik],[e,1,fb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=lC(([,,g])=>g).right(s,h);if(p===s.length)return e.every(U1(u/fb,d/fb,f));if(p===0)return og.every(Math.max(U1(u,d,f),1));const[y,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[vfe,gfe]=CL(ds,NC,vx,SL,SC,jC),[yfe,xfe]=CL(us,CC,mx,Pp,_C,wC);function hb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bfe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Qd(a),d=Jd(a),f=Qd(i),h=Jd(i),p=Qd(s),y=Jd(s),m=Qd(l),g=Jd(l),v=Qd(c),x=Jd(c),b={a:M,A:D,b:L,B:z,c:null,d:Uk,e:Uk,f:Vfe,g:Zfe,G:the,H:Bfe,I:zfe,j:Ufe,L:NL,m:Wfe,M:Hfe,p:X,q:G,Q:Hk,s:qk,S:qfe,u:Kfe,U:Gfe,V:Yfe,w:Xfe,W:Qfe,x:null,X:null,y:Jfe,Y:ehe,Z:rhe,"%":Wk},_={a:F,A:J,b:U,B:V,c:null,d:Vk,e:Vk,f:she,g:vhe,G:yhe,H:nhe,I:ahe,j:ihe,L:EL,m:ohe,M:lhe,p:W,q:de,Q:Hk,s:qk,S:che,u:uhe,U:dhe,V:fhe,w:hhe,W:phe,x:null,X:null,y:mhe,Y:ghe,Z:xhe,"%":Wk},j={a:E,A:k,b:A,B:R,c:O,d:Bk,e:Bk,f:Ife,g:Fk,G:Lk,H:zk,I:zk,j:Tfe,L:Mfe,m:Ofe,M:Rfe,p:P,q:kfe,Q:Lfe,s:Ffe,S:$fe,u:Cfe,U:Nfe,V:Pfe,w:Sfe,W:Efe,x:I,X:$,y:Fk,Y:Lk,Z:Afe,"%":Dfe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(Q,te){return function(q){var H=[],ve=-1,ge=0,Ae=Q.length,Le,Ye,$t;for(q instanceof Date||(q=new Date(+q));++ve<Ae;)Q.charCodeAt(ve)===37&&(H.push(Q.slice(ge,ve)),(Ye=Dk[Le=Q.charAt(++ve)])!=null?Le=Q.charAt(++ve):Ye=Le==="e"?" ":"0",($t=te[Le])&&(Le=$t(q,Ye)),H.push(Le),ge=ve+1);return H.push(Q.slice(ge,ve)),H.join("")}}function C(Q,te){return function(q){var H=Xd(1900,void 0,1),ve=N(H,Q,q+="",0),ge,Ae;if(ve!=q.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(te&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(ge=pb(Xd(H.y,0,1)),Ae=ge.getUTCDay(),ge=Ae>4||Ae===0?cg.ceil(ge):cg(ge),ge=px.offset(ge,(H.V-1)*7),H.y=ge.getUTCFullYear(),H.m=ge.getUTCMonth(),H.d=ge.getUTCDate()+(H.w+6)%7):(ge=hb(Xd(H.y,0,1)),Ae=ge.getDay(),ge=Ae>4||Ae===0?lg.ceil(ge):lg(ge),ge=Pp.offset(ge,(H.V-1)*7),H.y=ge.getFullYear(),H.m=ge.getMonth(),H.d=ge.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ae="Z"in H?pb(Xd(H.y,0,1)).getUTCDay():hb(Xd(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ae+5)%7:H.w+H.U*7-(Ae+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,pb(H)):hb(H)}}function N(Q,te,q,H){for(var ve=0,ge=te.length,Ae=q.length,Le,Ye;ve<ge;){if(H>=Ae)return-1;if(Le=te.charCodeAt(ve++),Le===37){if(Le=te.charAt(ve++),Ye=j[Le in Dk?te.charAt(ve++):Le],!Ye||(H=Ye(Q,q,H))<0)return-1}else if(Le!=q.charCodeAt(H++))return-1}return H}function P(Q,te,q){var H=u.exec(te.slice(q));return H?(Q.p=d.get(H[0].toLowerCase()),q+H[0].length):-1}function E(Q,te,q){var H=p.exec(te.slice(q));return H?(Q.w=y.get(H[0].toLowerCase()),q+H[0].length):-1}function k(Q,te,q){var H=f.exec(te.slice(q));return H?(Q.w=h.get(H[0].toLowerCase()),q+H[0].length):-1}function A(Q,te,q){var H=v.exec(te.slice(q));return H?(Q.m=x.get(H[0].toLowerCase()),q+H[0].length):-1}function R(Q,te,q){var H=m.exec(te.slice(q));return H?(Q.m=g.get(H[0].toLowerCase()),q+H[0].length):-1}function O(Q,te,q){return N(Q,t,te,q)}function I(Q,te,q){return N(Q,r,te,q)}function $(Q,te,q){return N(Q,n,te,q)}function M(Q){return s[Q.getDay()]}function D(Q){return i[Q.getDay()]}function L(Q){return c[Q.getMonth()]}function z(Q){return l[Q.getMonth()]}function X(Q){return a[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function F(Q){return s[Q.getUTCDay()]}function J(Q){return i[Q.getUTCDay()]}function U(Q){return c[Q.getUTCMonth()]}function V(Q){return l[Q.getUTCMonth()]}function W(Q){return a[+(Q.getUTCHours()>=12)]}function de(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var te=S(Q+="",b);return te.toString=function(){return Q},te},parse:function(Q){var te=C(Q+="",!1);return te.toString=function(){return Q},te},utcFormat:function(Q){var te=S(Q+="",_);return te.toString=function(){return Q},te},utcParse:function(Q){var te=C(Q+="",!0);return te.toString=function(){return Q},te}}}var Dk={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,wfe=/^%/,jfe=/[\\^$*+?|[\]().{}]/g;function gt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function _fe(e){return e.replace(jfe,"\\$&")}function Qd(e){return new RegExp("^(?:"+e.map(_fe).join("|")+")","i")}function Jd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Sfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Nfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Efe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Lk(e,t,r){var n=Br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Fk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Afe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ofe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Bk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tfe(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Rfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $fe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Mfe(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ife(e,t,r){var n=Br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dfe(e,t,r){var n=wfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Lfe(e,t,r){var n=Br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ffe(e,t,r){var n=Br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Uk(e,t){return gt(e.getDate(),t,2)}function Bfe(e,t){return gt(e.getHours(),t,2)}function zfe(e,t){return gt(e.getHours()%12||12,t,2)}function Ufe(e,t){return gt(1+Pp.count(us(e),e),t,3)}function NL(e,t){return gt(e.getMilliseconds(),t,3)}function Vfe(e,t){return NL(e,t)+"000"}function Wfe(e,t){return gt(e.getMonth()+1,t,2)}function Hfe(e,t){return gt(e.getMinutes(),t,2)}function qfe(e,t){return gt(e.getSeconds(),t,2)}function Kfe(e){var t=e.getDay();return t===0?7:t}function Gfe(e,t){return gt(mx.count(us(e)-1,e),t,2)}function PL(e){var t=e.getDay();return t>=4||t===0?Su(e):Su.ceil(e)}function Yfe(e,t){return e=PL(e),gt(Su.count(us(e),e)+(us(e).getDay()===4),t,2)}function Xfe(e){return e.getDay()}function Qfe(e,t){return gt(lg.count(us(e)-1,e),t,2)}function Jfe(e,t){return gt(e.getFullYear()%100,t,2)}function Zfe(e,t){return e=PL(e),gt(e.getFullYear()%100,t,2)}function ehe(e,t){return gt(e.getFullYear()%1e4,t,4)}function the(e,t){var r=e.getDay();return e=r>=4||r===0?Su(e):Su.ceil(e),gt(e.getFullYear()%1e4,t,4)}function rhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function Vk(e,t){return gt(e.getUTCDate(),t,2)}function nhe(e,t){return gt(e.getUTCHours(),t,2)}function ahe(e,t){return gt(e.getUTCHours()%12||12,t,2)}function ihe(e,t){return gt(1+px.count(ds(e),e),t,3)}function EL(e,t){return gt(e.getUTCMilliseconds(),t,3)}function she(e,t){return EL(e,t)+"000"}function ohe(e,t){return gt(e.getUTCMonth()+1,t,2)}function lhe(e,t){return gt(e.getUTCMinutes(),t,2)}function che(e,t){return gt(e.getUTCSeconds(),t,2)}function uhe(e){var t=e.getUTCDay();return t===0?7:t}function dhe(e,t){return gt(vx.count(ds(e)-1,e),t,2)}function AL(e){var t=e.getUTCDay();return t>=4||t===0?Cu(e):Cu.ceil(e)}function fhe(e,t){return e=AL(e),gt(Cu.count(ds(e),e)+(ds(e).getUTCDay()===4),t,2)}function hhe(e){return e.getUTCDay()}function phe(e,t){return gt(cg.count(ds(e)-1,e),t,2)}function mhe(e,t){return gt(e.getUTCFullYear()%100,t,2)}function vhe(e,t){return e=AL(e),gt(e.getUTCFullYear()%100,t,2)}function ghe(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function yhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cu(e):Cu.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function xhe(){return"+0000"}function Wk(){return"%"}function Hk(e){return+e}function qk(e){return Math.floor(+e/1e3)}var Jl,kL,OL;bhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bhe(e){return Jl=bfe(e),kL=Jl.format,Jl.parse,OL=Jl.utcFormat,Jl.utcParse,Jl}function whe(e){return new Date(e)}function jhe(e){return e instanceof Date?+e:+new Date(+e)}function PC(e,t,r,n,a,i,s,l,c,u){var d=hC(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?y:s(S)<S?m:i(S)<S?g:n(S)<S?a(S)<S?v:x:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,jhe)):h().map(whe)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(gL(C,S)):d},d.copy=function(){return Np(d,PC(e,t,r,n,a,i,s,l,c,u))},d}function _he(){return Pa.apply(PC(yfe,xfe,us,CC,mx,Pp,_C,wC,sl,kL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function She(){return Pa.apply(PC(vfe,gfe,ds,NC,vx,px,SC,jC,sl,OL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gx(){var e=0,t=1,r,n,a,i,s=bn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),u):[s(0),s(1)]}}return u.range=d(Pd),u.rangeRound=d(fC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Oo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TL(){var e=ko(gx()(bn));return e.copy=function(){return Oo(e,TL())},bs.apply(e,arguments)}function RL(){var e=vC(gx()).domain([1,10]);return e.copy=function(){return Oo(e,RL()).base(e.base())},bs.apply(e,arguments)}function $L(){var e=gC(gx());return e.copy=function(){return Oo(e,$L()).constant(e.constant())},bs.apply(e,arguments)}function EC(){var e=yC(gx());return e.copy=function(){return Oo(e,EC()).exponent(e.exponent())},bs.apply(e,arguments)}function Che(){return EC.apply(null,arguments).exponent(.5)}function ML(){var e=[],t=bn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>dde(e,i/n))},r.copy=function(){return ML(t).domain(e)},bs.apply(r,arguments)}function yx(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=bn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(g){var v,x,b;return arguments.length?([v,x,b]=g,u=Dde(m,[v,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Pd),p.rangeRound=y(fC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function IL(){var e=ko(yx()(bn));return e.copy=function(){return Oo(e,IL())},bs.apply(e,arguments)}function DL(){var e=vC(yx()).domain([.1,1,10]);return e.copy=function(){return Oo(e,DL()).base(e.base())},bs.apply(e,arguments)}function LL(){var e=gC(yx());return e.copy=function(){return Oo(e,LL()).constant(e.constant())},bs.apply(e,arguments)}function AC(){var e=yC(yx());return e.copy=function(){return Oo(e,AC()).exponent(e.exponent())},bs.apply(e,arguments)}function Nhe(){return AC.apply(null,arguments).exponent(.5)}const Kk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oh,scaleDiverging:IL,scaleDivergingLog:DL,scaleDivergingPow:AC,scaleDivergingSqrt:Nhe,scaleDivergingSymlog:LL,scaleIdentity:vL,scaleImplicit:V1,scaleLinear:sg,scaleLog:yL,scaleOrdinal:cC,scalePoint:Of,scalePow:xC,scaleQuantile:wL,scaleQuantize:jL,scaleRadial:bL,scaleSequential:TL,scaleSequentialLog:RL,scaleSequentialPow:EC,scaleSequentialQuantile:ML,scaleSequentialSqrt:Che,scaleSequentialSymlog:$L,scaleSqrt:sfe,scaleSymlog:xL,scaleThreshold:_L,scaleTime:_he,scaleUtc:She,tickFormat:mL},Symbol.toStringTag,{value:"Module"}));var Phe=yd;function Ehe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!Phe(s):r(s,l)))var l=s,c=i}return c}var xx=Ehe;function Ahe(e,t){return e>t}var FL=Ahe,khe=xx,Ohe=FL,The=Nd;function Rhe(e){return e&&e.length?khe(e,The,Ohe):void 0}var $he=Rhe;const Xs=xt($he);function Mhe(e,t){return e<t}var BL=Mhe,Ihe=xx,Dhe=BL,Lhe=Nd;function Fhe(e){return e&&e.length?Ihe(e,Lhe,Dhe):void 0}var Bhe=Fhe;const bx=xt(Bhe);var zhe=WS,Uhe=Ii,Vhe=G3,Whe=zn;function Hhe(e,t){var r=Whe(e)?zhe:Vhe;return r(e,Uhe(t))}var qhe=Hhe,Khe=q3,Ghe=qhe;function Yhe(e,t){return Khe(Ghe(e,t),1)}var Xhe=Yhe;const Qhe=xt(Xhe);var Jhe=aC;function Zhe(e,t){return Jhe(e,t)}var epe=Zhe;const wo=xt(epe);var Ed=1e9,tpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OC,Kt=!0,_a="[DecimalError] ",xl=_a+"Invalid argument: ",kC=_a+"Exponent out of range: ",Ad=Math.floor,Go=Math.pow,rpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Mr=1e7,Lt=7,zL=9007199254740991,ug=Ad(zL/Lt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return rs(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return Pt(rs(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return gr(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(_a+"NaN");if(r.s<1)throw Error(_a+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(Kt=!1,t=rs(Ih(r,i),Ih(e,i),i),Kt=!0,Pt(t,a))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WL(t,e):UL(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_a+"NaN");return r.s?(Kt=!1,t=rs(r,e,0,1).times(e),Kt=!0,r.minus(t)):Pt(new n(r),a)};Pe.naturalExponential=Pe.exp=function(){return VL(this)};Pe.naturalLogarithm=Pe.ln=function(){return Ih(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UL(t,e):WL(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xl+e);if(t=gr(a)+1,n=a.d.length-1,r=n*Lt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_a+"NaN")}for(e=gr(l),Kt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=yi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ad((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(rs(l,i,s+2)).times(.5),yi(i.d).slice(0,s)===(t=yi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Pt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Kt=!0,Pt(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Mr|0,t=l/Mr|0;i[a]=(i[a]+t)%Mr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Kt?Pt(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Oi(e,0,Ed),t===void 0?t=n.rounding:Oi(t,0,8),Pt(r,e+gr(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Al(n,!0):(Oi(e,0,Ed),t===void 0?t=a.rounding:Oi(t,0,8),n=Pt(new a(n),e+1,t),r=Al(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Al(a):(Oi(e,0,Ed),t===void 0?t=i.rounding:Oi(t,0,8),n=Pt(new i(a),e+gr(a)+1,t),r=Al(n.abs(),!1,e+gr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),gr(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jn);if(l=new c(l),!l.s){if(e.s<1)throw Error(_a+"Infinity");return l}if(l.eq(Jn))return l;if(n=c.precision,e.eq(Jn))return Pt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=zL){for(a=new c(Jn),t=Math.ceil(n/Lt+4),Kt=!1;r%2&&(a=a.times(l),Yk(a.d,t)),r=Ad(r/2),r!==0;)l=l.times(l),Yk(l.d,t);return Kt=!0,e.s<0?new c(Jn).div(a):Pt(a,n)}}else if(i<0)throw Error(_a+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Kt=!1,a=e.times(Ih(l,n+u)),Kt=!0,a=VL(a),a.s=i,a};Pe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=gr(a),n=Al(a,r<=i.toExpNeg||r>=i.toExpPos)):(Oi(e,1,Ed),t===void 0?t=i.rounding:Oi(t,0,8),a=Pt(new i(a),e,t),r=gr(a),n=Al(a,e<=r||r<=i.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Oi(e,1,Ed),t===void 0?t=n.rounding:Oi(t,0,8)),Pt(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),r=e.constructor;return Al(e,t<=r.toExpNeg||t>=r.toExpPos)};function UL(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kt?Pt(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Lt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Mr|0,c[i]%=Mr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Kt?Pt(t,f):t}function Oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xl+e)}function yi(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Lt-n.length,r&&(i+=Is(r)),i+=n;s=e[t],n=s+"",r=Lt-n.length,r&&(i+=Is(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var rs=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Mr|0,s=i/Mr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Mr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,p,y,m,g,v,x,b,_,j,S,C,N,P=n.constructor,E=n.s==a.s?1:-1,k=n.d,A=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(_a+"Division by zero");for(c=n.e-a.e,C=A.length,j=k.length,p=new P(E),y=p.d=[],u=0;A[u]==(k[u]||0);)++u;if(A[u]>(k[u]||0)&&--c,i==null?x=i=P.precision:s?x=i+(gr(n)-gr(a))+1:x=i,x<0)return new P(0);if(x=x/Lt+2|0,u=0,C==1)for(d=0,A=A[0],x++;(u<j||d)&&x--;u++)b=d*Mr+(k[u]||0),y[u]=b/A|0,d=b%A|0;else{for(d=Mr/(A[0]+1)|0,d>1&&(A=e(A,d),k=e(k,d),C=A.length,j=k.length),_=C,m=k.slice(0,C),g=m.length;g<C;)m[g++]=0;N=A.slice(),N.unshift(0),S=A[0],A[1]>=Mr/2&&++S;do d=0,l=t(A,m,C,g),l<0?(v=m[0],C!=g&&(v=v*Mr+(m[1]||0)),d=v/S|0,d>1?(d>=Mr&&(d=Mr-1),f=e(A,d),h=f.length,g=m.length,l=t(f,m,h,g),l==1&&(d--,r(f,C<h?N:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),l==-1&&(g=m.length,l=t(A,m,C,g),l<1&&(d++,r(m,C<g?N:A,g))),g=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[g++]=k[_]||0:(m=[k[_]],g=1);while((_++<j||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,Pt(p,s?i+gr(p)+1:i)}}();function VL(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(gr(e)>16)throw Error(kC+gr(e));if(!e.s)return new d(Jn);for(t==null?(Kt=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Go(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Jn),d.precision=l;;){if(a=Pt(a.times(e),l),r=r.times(++c),s=i.plus(rs(a,r,l)),yi(s.d).slice(0,l)===yi(i.d).slice(0,l)){for(;u--;)i=Pt(i.times(i),l);return d.precision=f,t==null?(Kt=!0,Pt(i,f)):i}i=s}}function gr(e){for(var t=e.e*Lt,r=e.d[0];r>=10;r/=10)t++;return t}function mb(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(_a+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function Ih(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(_a+(p.s?"NaN":"-Infinity"));if(p.eq(Jn))return new m(0);if(t==null?(Kt=!1,u=g):u=t,p.eq(10))return t==null&&(Kt=!0),mb(m,u);if(u+=h,m.precision=u,r=yi(y),n=r.charAt(0),i=gr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=yi(p.d),n=r.charAt(0),f++;i=gr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=mb(m,u+2,g).times(i+""),p=Ih(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(Kt=!0,Pt(p,g)):p;for(l=s=p=rs(p.minus(Jn),p.plus(Jn),u),d=Pt(p.times(p),u),a=3;;){if(s=Pt(s.times(d),u),c=l.plus(rs(s,new m(a),u)),yi(c.d).slice(0,u)===yi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(mb(m,u+2,g).times(i+""))),l=rs(l,new m(f),u),m.precision=g,t==null?(Kt=!0,Pt(l,g)):l;l=c,a+=2}}function Gk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ad(r/Lt),e.d=[],n=(r+1)%Lt,r<0&&(n+=Lt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Lt;n<a;)e.d.push(+t.slice(n,n+=Lt));t=t.slice(n),n=Lt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>ug||e.e<-ug))throw Error(kC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Lt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Lt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Lt,a=n-Lt+s}if(r!==void 0&&(i=Go(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Go(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=gr(e),f.length=1,t=t-i-1,f[0]=Go(10,(Lt-t%Lt)%Lt),e.e=Ad(-t/Lt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Go(10,Lt-n),f[d]=a>0?(u/Go(10,s-a)%Go(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Mr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Mr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Kt&&(e.e>ug||e.e<-ug))throw Error(kC+gr(e));return e}function WL(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kt?Pt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Lt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Mr-1;--c[i],c[a]+=Mr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Kt?Pt(t,p):t):new h(0)}function Al(e,t,r){var n,a=gr(e),i=yi(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Is(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Is(-a-1)+i,r&&(n=r-s)>0&&(i+=Is(n))):a>=s?(i+=Is(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Is(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Is(n))),e.s<0?"-"+i:i}function Yk(e,t){if(e.length>t)return e.length=t,!0}function HL(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Gk(s,i.toString())}else if(typeof i!="string")throw Error(xl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,rpe.test(i))Gk(s,i);else throw Error(xl+i)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=HL,a.config=a.set=npe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function npe(e){if(!e||typeof e!="object")throw Error(_a+"Object expected");var t,r,n,a=["precision",1,Ed,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ad(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xl+r+": "+n);return this}var OC=HL(tpe);Jn=new OC(1);const Nt=OC;function ape(e){return lpe(e)||ope(e)||spe(e)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function ope(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lpe(e){if(Array.isArray(e))return K1(e)}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cpe=function(t){return t},qL={"@@functional/placeholder":!0},KL=function(t){return t===qL},Xk=function(t){return function r(){return arguments.length===0||arguments.length===1&&KL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},upe=function e(t,r){return t===1?r:Xk(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==qL}).length;return s>=t?r.apply(void 0,a):e(t-s,Xk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return KL(f)?c.shift():f});return r.apply(void 0,ape(d).concat(c))}))})},wx=function(t){return upe(t.length,t)},G1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},dpe=wx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cpe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Y1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},GL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function hpe(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function ppe(e,t,r){for(var n=new Nt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var mpe=wx(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),vpe=wx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),gpe=wx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const jx={rangeStep:ppe,getDigitCount:hpe,interpolateNumber:mpe,uninterpolateNumber:vpe,uninterpolateTruncation:gpe};function X1(e){return bpe(e)||xpe(e)||YL(e)||ype()}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bpe(e){if(Array.isArray(e))return Q1(e)}function Dh(e,t){return _pe(e)||jpe(e,t)||YL(e,t)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(e,t)}}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function _pe(e){if(Array.isArray(e))return e}function XL(e){var t=Dh(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function QL(e,t,r){if(e.lte(0))return new Nt(0);var n=jx.getDigitCount(e.toNumber()),a=new Nt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Nt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new Nt(Math.ceil(c))}function Spe(e,t,r){var n=1,a=new Nt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nt(10).pow(jx.getDigitCount(e)-1),a=new Nt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nt(Math.floor(e)))}else e===0?a=new Nt(Math.floor((t-1)/2)):r||(a=new Nt(Math.floor(e)));var s=Math.floor((t-1)/2),l=fpe(dpe(function(c){return a.add(new Nt(c-s).mul(n)).toNumber()}),G1);return l(0,t)}function JL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var i=QL(new Nt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Nt(0):(s=new Nt(e).add(t).div(2),s=s.sub(new Nt(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Nt(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?JL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Nt(l).mul(i)),tickMax:s.add(new Nt(c).mul(i))})}function Cpe(e){var t=Dh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=XL([r,n]),c=Dh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(X1(G1(0,a-1).map(function(){return 1/0}))):[].concat(X1(G1(0,a-1).map(function(){return-1/0})),[d]);return r>n?Y1(f):f}if(u===d)return Spe(u,a,i);var h=JL(u,d,s,i),p=h.step,y=h.tickMin,m=h.tickMax,g=jx.rangeStep(y,m.add(new Nt(.1).mul(p)),p);return r>n?Y1(g):g}function Npe(e,t){var r=Dh(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=XL([n,a]),l=Dh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=QL(new Nt(u).sub(c).div(d-1),i,0),h=[].concat(X1(jx.rangeStep(new Nt(c),new Nt(u).sub(new Nt(.99).mul(f)),f)),[u]);return n>a?Y1(h):h}var Ppe=GL(Cpe),Epe=GL(Npe),Ape="Invariant failed";function kl(e,t){throw new Error(Ape)}var kpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function Ope(e,t){return Mpe(e)||$pe(e,t)||Rpe(e,t)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Mpe(e){if(Array.isArray(e))return e}function Ipe(e,t){if(e==null)return{};var r=Dpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t4(n.key),n)}}function Bpe(e,t,r){return t&&Fpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zpe(e,t,r){return t=fg(t),Upe(e,ZL()?Reflect.construct(t,r||[],fg(e).constructor):t.apply(e,r))}function Upe(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vpe(e)}function Vpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(e)}function Wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J1(e,t)}function J1(e,t){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(e,t)}function e4(e,t,r){return t=t4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4(e){var t=Hpe(e,"string");return Nu(t)=="symbol"?t:t+""}function Hpe(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kd=function(e){function t(){return Lpe(this,t),zpe(this,t,arguments)}return Wpe(t,e),Bpe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Ipe(n,kpe),p=Oe(h,!1);this.props.direction==="x"&&d.type!=="number"&&kl();var y=c.map(function(m){var g=u(m,l),v=g.x,x=g.y,b=g.value,_=g.errorVal;if(!_)return null;var j=[],S,C;if(Array.isArray(_)){var N=Ope(_,2);S=N[0],C=N[1]}else S=C=_;if(i==="vertical"){var P=d.scale,E=x+a,k=E+s,A=E-s,R=P(b-S),O=P(b+C);j.push({x1:O,y1:k,x2:O,y2:A}),j.push({x1:R,y1:E,x2:O,y2:E}),j.push({x1:R,y1:k,x2:R,y2:A})}else if(i==="horizontal"){var I=f.scale,$=v+a,M=$-s,D=$+s,L=I(b-S),z=I(b+C);j.push({x1:M,y1:z,x2:D,y2:z}),j.push({x1:$,y1:L,x2:$,y2:z}),j.push({x1:M,y1:L,x2:D,y2:L})}return T.createElement(Ze,dg({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),j.map(function(X){return T.createElement("line",dg({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return T.createElement(Ze,{className:"recharts-errorBars"},y)}}])}(T.Component);e4(kd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});e4(kd,"displayName","ErrorBar");function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qpe(e,t,r){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kpe(e){var t=Gpe(e,"string");return Lh(t)=="symbol"?t:t+""}function Gpe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Gn(r,Gr);if(!s)return null;var l=Gr.defaultProps,c=l!==void 0?Bo(Bo({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Bo(Bo({},h),f.props):{},y=p.dataKey,m=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:c.iconType||g||"square",color:TC(f),value:m||y,payload:p}}),Bo(Bo(Bo({},c),Gr.getWithHeight(s,a)),{},{payload:u,item:s})};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function Zk(e){return Jpe(e)||Qpe(e)||Xpe(e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(e,t){if(e){if(typeof e=="string")return Z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(e,t)}}function Qpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jpe(e){if(Array.isArray(e))return Z1(e)}function Z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qc(e,t,r){return t=Zpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zpe(e){var t=eme(e,"string");return Fh(t)=="symbol"?t:t+""}function eme(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e,t,r){return Fe(e)||Fe(t)?r:kr(t)?ra(e,t,r):ze(t)?t(e):r}function Tf(e,t,r,n){var a=Qhe(e,function(l){return Bt(l,t)});if(r==="number"){var i=a.filter(function(l){return fe(l)||parseFloat(l)});return i.length?[bx(i),Xs(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Fe(l)}):a;return s.map(function(l){return kr(l)||l instanceof Date?l:""})}var tme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(yn(f-d)!==yn(h-f)){var y=[];if(yn(h-f)===yn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+c[1]-c[0];y[0]=Math.min(f,(g+f)/2),y[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},TC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},rme=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,g=y.cateAxisId,v=m.filter(function(C){return ts(C.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?ar(ar({},x),v[0].props):v[0].props,_=b.barSize,j=b[g];s[j]||(s[j]=[]);var S=Fe(_)?r:_;s[j].push({item:v[0],stackList:v.slice(1),barSize:Fe(S)?void 0:xn(S,n,0)})}}return s},nme=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=xn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,y=s.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,g={offset:m-u,size:0};d=s.reduce(function(_,j){var S={item:j.item,position:{offset:g.offset+g.size+u,size:h?p:j.barSize}},C=[].concat(Zk(_),[S]);return g=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:g})}),C},f)}else{var v=xn(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var x=(a-2*v-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=s.reduce(function(_,j,S){var C=[].concat(Zk(_),[{item:j.item,position:{offset:v+(x+u)*S+(x-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},f)}return d},ame=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=r4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&fe(t[p]))return ar(ar({},t),{},qc({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&fe(t[y]))return ar(ar({},t),{},qc({},y,t[y]+(h||0)))}return t},ime=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},n4=function(t,r,n,a,i){var s=r.props.children,l=jn(s,kd).filter(function(u){return ime(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Bt(d,n);if(Fe(f))return u;var h=Array.isArray(f)?[bx(f),Xs(f)]:[f,f],p=c.reduce(function(y,m){var g=Bt(d,m,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},sme=function(t,r,n,a,i){var s=r.map(function(l){return n4(t,l,n,i,a)}).filter(function(l){return!Fe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},a4=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&n4(t,c,u,a)||Tf(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},i4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},s4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Ji=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?yn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!_d(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},vb=new WeakMap,bm=function(t,r){if(typeof r!="function")return t;vb.has(t)||vb.set(t,new WeakMap);var n=vb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},o4=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Oh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:sg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Of(),realScaleType:"point"}:i==="category"?{scale:Oh(),realScaleType:"band"}:{scale:sg(),realScaleType:"linear"};if(Pl(a)){var c="scale".concat(ix(a));return{scale:(Kk[c]||Of)(),realScaleType:Kk[c]?c:"point"}}return ze(a)?{scale:a}:{scale:Of(),realScaleType:"point"}},tO=1e-4,l4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-tO,s=Math.max(a[0],a[1])+tO,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},ome=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},lme=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(i[0]=n),(!fe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},cme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=_d(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},ume=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=_d(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},dme={sign:cme,expand:kte,none:yu,silhouette:Ote,wiggle:Tte,positive:ume},fme=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=dme[n],s=Ate().keys(a).value(function(l,c){return+Bt(l,c,0)}).order(S1).offset(i);return s(t)},hme=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ar(ar({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return f;var v=y[n],x=f[v]||{hasStack:!1,stackGroups:{}};if(kr(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[Ao("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ar(ar({},f),{},qc({},v,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var v=p.stackGroups[g];return ar(ar({},m),{},qc({},g,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:fme(t,v.items,i)}))},y)}return ar(ar({},f),{},qc({},h,p))},d)},c4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Ppe(u,i,l);return t.domain([bx(d),Xs(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Epe(f,i,l);return{niceTicks:h}}return null};function Pu(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(a[t.dataKey])){var l=Fv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Bt(a,Fe(s)?t.dataKey:s);return Fe(c)?null:t.scale(c)}var rO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bt(s,r.dataKey,r.domain[l]);return Fe(c)?null:r.scale(c)-i/2+a},pme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},mme=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(kr(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},vme=function(t){return t.reduce(function(r,n){return[bx(n.concat([r[0]]).filter(fe)),Xs(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},u4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=vme(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},nO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ej=function(t,r,n){if(ze(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(nO.test(t[0])){var i=+nO.exec(t[0])[1];a[0]=r[0]-i}else ze(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(aO.test(t[1])){var s=+aO.exec(t[1])[1];a[1]=r[1]+s}else ze(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=sC(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},iO=function(t,r,n){return!t||!t.length||wo(t,ra(n,"type.defaultProps.domain"))?r:t},d4=function(t,r){var n=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return ar(ar({},Oe(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:TC(t),value:Bt(r,a),type:c,payload:r,chartType:u,hide:d})};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){f4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4(e,t,r){return t=gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gme(e){var t=yme(e,"string");return Bh(t)=="symbol"?t:t+""}function yme(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xme(e,t){return _me(e)||jme(e,t)||wme(e,t)||bme()}function bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wme(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function _me(e){if(Array.isArray(e))return e}var pg=Math.PI/180,Sme=function(t){return t*180/Math.PI},Rt=function(t,r,n,a){return{x:t+Math.cos(-pg*a)*n,y:r+Math.sin(-pg*a)*n}},h4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cme=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=xn(t.cx,s,s/2),f=xn(t.cy,l,l/2),h=h4(s,l,n),p=xn(t.innerRadius,h,0),y=xn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,v){var x=r[v],b=x.domain,_=x.reversed,j;if(Fe(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[p,y]),_&&(j=[j[1],j[0]]);else{j=x.range;var S=j,C=xme(S,2);c=C[0],u=C[1]}var N=o4(x,i),P=N.realScaleType,E=N.scale;E.domain(b).range(j),l4(E);var k=c4(E,Wi(Wi({},x),{},{realScaleType:P})),A=Wi(Wi(Wi({},x),k),{},{range:j,radius:y,realScaleType:P,scale:E,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Wi(Wi({},g),{},f4({},v,A))},{})},Nme=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Pme=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=Nme({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Sme(u),angleInRadian:u}},Eme=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Ame=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},lO=function(t,r){var n=t.x,a=t.y,i=Pme({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Eme(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Wi(Wi({},r),{},{radius:s,angle:Ame(p,r)}):null},p4=function(t){return!w.isValidElement(t)&&!ze(t)&&typeof t!="boolean"?t.className:""};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}var kme=["offset"];function Ome(e){return Mme(e)||$me(e)||Rme(e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e,t){if(e){if(typeof e=="string")return tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(e,t)}}function $me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mme(e){if(Array.isArray(e))return tj(e)}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ime(e,t){if(e==null)return{};var r=Dme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return t=Fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fme(e){var t=Bme(e,"string");return zh(t)=="symbol"?t:t+""}function Bme(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(this,arguments)}var zme=function(t){var r=t.value,n=t.formatter,a=Fe(t.children)?r:t.children;return ze(n)?n(a):a},Ume=function(t,r){var n=yn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Vme=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,g=(f+h)/2,v=Ume(p,y),x=v>=0?1:-1,b,_;a==="insideStart"?(b=p+x*s,_=m):a==="insideEnd"?(b=y-x*s,_=!m):a==="end"&&(b=y+x*s,_=m),_=v<=0?_:!_;var j=Rt(u,d,g,b),S=Rt(u,d,g,b+(_?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Fe(t.id)?Ao("recharts-radial-line-"):t.id;return T.createElement("text",Uh({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:N,d:C})),T.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Wme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Rt(s,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=Rt(s,l,g,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Hme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,g=m*a,v=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return _r(_r({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return _r(_r({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return _r(_r({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _r(_r({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?_r({x:l+g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?_r({x:l+u-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?_r({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?_r({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?_r({x:l+g,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?_r({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:y},C):i==="insideBottomLeft"?_r({x:l+g,y:c+d-h,textAnchor:x,verticalAnchor:p},C):i==="insideBottomRight"?_r({x:l+u-g,y:c+d-h,textAnchor:v,verticalAnchor:p},C):xd(i)&&(fe(i.x)||al(i.x))&&(fe(i.y)||al(i.y))?_r({x:l+xn(i.x,u),y:c+xn(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):_r({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},qme=function(t){return"cx"in t&&fe(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=Ime(e,kme),a=_r({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Fe(l)&&Fe(c)&&!w.isValidElement(u)&&!ze(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(ze(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=zme(a);var y=qme(i),m=Oe(a,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Vme(a,p,m);var g=y?Wme(a):Hme(a);return T.createElement(El,Uh({className:Ke("recharts-label",f)},m,g,{breakAll:h}),p)}Dr.displayName="Label";var m4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(fe(m)&&fe(g)){if(fe(f)&&fe(h))return{x:f,y:h,width:m,height:g};if(fe(p)&&fe(y))return{x:p,y,width:m,height:g}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Kme=function(t,r){return t?t===!0?T.createElement(Dr,{key:"label-implicit",viewBox:r}):kr(t)?T.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Dr?w.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):ze(t)?T.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):xd(t)?T.createElement(Dr,Uh({viewBox:r},t,{key:"label-implicit"})):null:null},Gme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=m4(t),s=jn(a,Dr).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=Kme(t.label,r||i);return[l].concat(Ome(s))};Dr.parseViewBox=m4;Dr.renderCallByParent=Gme;function Yme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Xme=Yme;const Qme=xt(Xme);function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}var Jme=["valueAccessor"],Zme=["data","dataKey","clockWise","id","textBreakAll"];function eve(e){return ave(e)||nve(e)||rve(e)||tve()}function tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rve(e,t){if(e){if(typeof e=="string")return rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(e,t)}}function nve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ave(e){if(Array.isArray(e))return rj(e)}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){ive(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ive(e,t,r){return t=sve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sve(e){var t=ove(e,"string");return Vh(t)=="symbol"?t:t+""}function ove(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fO(e,t){if(e==null)return{};var r=lve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cve=function(t){return Array.isArray(t.value)?Qme(t.value):t.value};function ei(e){var t=e.valueAccessor,r=t===void 0?cve:t,n=fO(e,Jme),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=fO(n,Zme);return!a||!a.length?null:T.createElement(Ze,{className:"recharts-label-list"},a.map(function(d,f){var h=Fe(i)?r(d,f):Bt(d&&d.payload,i),p=Fe(l)?{}:{id:"".concat(l,"-").concat(f)};return T.createElement(Dr,mg({},Oe(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Dr.parseViewBox(Fe(s)?d:dO(dO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ei.displayName="LabelList";function uve(e,t){return e?e===!0?T.createElement(ei,{key:"labelList-implicit",data:t}):T.isValidElement(e)||ze(e)?T.createElement(ei,{key:"labelList-implicit",data:t,content:e}):xd(e)?T.createElement(ei,mg({data:t},e,{key:"labelList-implicit"})):null:null}function dve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=jn(n,ei).map(function(s,l){return w.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=uve(e.label,t);return[i].concat(eve(a))}ei.renderCallByParent=dve;function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nj.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fve(e,t,r){return t=hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=pve(e,"string");return Wh(t)=="symbol"?t:t+""}function pve(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mve=function(t,r){var n=yn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},wm=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/pg,h=u?i:i+s*f,p=Rt(r,n,d,h),y=Rt(r,n,a,h),m=u?i-s*f:i,g=Rt(r,n,d*Math.cos(f*pg),m);return{center:p,circleTangency:y,lineTangency:g,theta:f}},v4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=mve(s,l),u=s+c,d=Rt(r,n,i,s),f=Rt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Rt(r,n,a,s),y=Rt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},vve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=yn(d-u),h=wm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=wm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=g.circleTangency,x=g.lineTangency,b=g.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):v4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=wm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=S.circleTangency,N=S.lineTangency,P=S.theta,E=wm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=E.circleTangency,A=E.lineTangency,R=E.theta,O=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(O<0&&s===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},gve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g4=function(t){var r=pO(pO({},gve),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Ke("recharts-sector",h),y=s-i,m=xn(l,y,0,!0),g;return m>0&&Math.abs(d-f)<360?g=vve({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=v4({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),T.createElement("path",nj({},Oe(r,!0),{className:p,d:g,role:"img"}))};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(this,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){yve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yve(e,t,r){return t=xve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xve(e){var t=bve(e,"string");return Hh(t)=="symbol"?t:t+""}function bve(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gO={curveBasisClosed:yte,curveBasisOpen:xte,curveBasis:gte,curveBumpX:nte,curveBumpY:ate,curveLinearClosed:bte,curveLinear:ox,curveMonotoneX:wte,curveMonotoneY:jte,curveNatural:_te,curveStep:Ste,curveStepAfter:Nte,curveStepBefore:Cte},jm=function(t){return t.x===+t.x&&t.y===+t.y},Zd=function(t){return t.x},ef=function(t){return t.y},wve=function(t,r){if(ze(t))return t;var n="curve".concat(ix(t));return(n==="curveMonotone"||n==="curveBump")&&r?gO["".concat(n).concat(r==="vertical"?"Y":"X")]:gO[n]||ox},jve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=wve(n,l),f=u?i.filter(function(m){return jm(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return jm(m)}):s,y=f.map(function(m,g){return vO(vO({},m),{},{base:p[g]})});return l==="vertical"?h=fm().y(ef).x1(Zd).x0(function(m){return m.base.x}):h=fm().x(Zd).y1(ef).y0(function(m){return m.base.y}),h.defined(jm).curve(d),h(y)}return l==="vertical"&&fe(s)?h=fm().y(ef).x1(Zd).x0(s):fe(s)?h=fm().x(Zd).y1(ef).y0(s):h=d3().x(Zd).y(ef),h.defined(jm).curve(d),h(f)},ho=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?jve(t):a;return w.createElement("path",aj({},Oe(t,!1),Bv(t),{className:Ke("recharts-curve",r),d:s,ref:i}))},y4={exports:{}},_ve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sve=_ve,Cve=Sve;function x4(){}function b4(){}b4.resetWarningCache=x4;var Nve=function(){function e(n,a,i,s,l,c){if(c!==Cve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:b4,resetWarningCache:x4};return r.PropTypes=r,r};y4.exports=Nve();var Pve=y4.exports;const yt=xt(Pve);var Eve=Object.getOwnPropertyNames,Ave=Object.getOwnPropertySymbols,kve=Object.prototype.hasOwnProperty;function yO(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function _m(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function xO(e){return Eve(e).concat(Ave(e))}var Ove=Object.hasOwn||function(e,t){return kve.call(e,t)};function Vl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tve="__v",Rve="__o",$ve="_owner",bO=Object.getOwnPropertyDescriptor,wO=Object.keys;function Mve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Ive(e,t){return Vl(e.getTime(),t.getTime())}function Dve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Lve(e,t){return e===t}function jO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Fve=Vl;function Bve(e,t,r){var n=wO(e),a=n.length;if(wO(t).length!==a)return!1;for(;a-- >0;)if(!w4(e,t,r,n[a]))return!1;return!0}function tf(e,t,r){var n=xO(e),a=n.length;if(xO(t).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!w4(e,t,r,i)||(s=bO(e,i),l=bO(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function zve(e,t){return Vl(e.valueOf(),t.valueOf())}function Uve(e,t){return e.source===t.source&&e.flags===t.flags}function _O(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,l;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Vve(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Wve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function w4(e,t,r,n){return(n===$ve||n===Rve||n===Tve)&&(e.$$typeof||t.$$typeof)?!0:Ove(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Hve="[object Arguments]",qve="[object Boolean]",Kve="[object Date]",Gve="[object Error]",Yve="[object Map]",Xve="[object Number]",Qve="[object Object]",Jve="[object RegExp]",Zve="[object Set]",ege="[object String]",tge="[object URL]",rge=Array.isArray,SO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CO=Object.assign,nge=Object.prototype.toString.call.bind(Object.prototype.toString);function age(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(y,m,g):v==="function"?a(y,m,g):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return l(y,m,g);if(rge(y))return t(y,m,g);if(SO!=null&&SO(y))return f(y,m,g);if(x===Date)return r(y,m,g);if(x===RegExp)return u(y,m,g);if(x===Map)return i(y,m,g);if(x===Set)return d(y,m,g);var b=nge(y);return b===Kve?r(y,m,g):b===Jve?u(y,m,g):b===Yve?i(y,m,g):b===Zve?d(y,m,g):b===Qve?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):b===tge?h(y,m,g):b===Gve?n(y,m,g):b===Hve?l(y,m,g):b===qve||b===Xve||b===ege?c(y,m,g):!1}}function ige(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?tf:Mve,areDatesEqual:Ive,areErrorsEqual:Dve,areFunctionsEqual:Lve,areMapsEqual:n?yO(jO,tf):jO,areNumbersEqual:Fve,areObjectsEqual:n?tf:Bve,arePrimitiveWrappersEqual:zve,areRegExpsEqual:Uve,areSetsEqual:n?yO(_O,tf):_O,areTypedArraysEqual:n?tf:Vve,areUrlsEqual:Wve};if(r&&(a=CO({},a,r(a))),t){var i=_m(a.areArraysEqual),s=_m(a.areMapsEqual),l=_m(a.areObjectsEqual),c=_m(a.areSetsEqual);a=CO({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function sge(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function oge(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var lge=To();To({strict:!0});To({circular:!0});To({circular:!0,strict:!0});To({createInternalComparator:function(){return Vl}});To({strict:!0,createInternalComparator:function(){return Vl}});To({circular:!0,createInternalComparator:function(){return Vl}});To({circular:!0,createInternalComparator:function(){return Vl},strict:!0});function To(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,l=ige(e),c=age(l),u=n?n(c):sge(c);return oge({circular:r,comparator:c,createState:a,equals:u,strict:s})}function cge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function NO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):cge(a)};requestAnimationFrame(n)}function ij(e){"@babel/helpers - typeof";return ij=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ij(e)}function uge(e){return pge(e)||hge(e)||fge(e)||dge()}function dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pge(e){if(Array.isArray(e))return e}function mge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=uge(s),c=l[0],u=l.slice(1);if(typeof c=="number"){NO(a.bind(null,u),c);return}a(c),NO(a.bind(null,u));return}ij(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){j4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j4(e,t,r){return t=vge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vge(e){var t=gge(e,"string");return qh(t)==="symbol"?t:String(t)}function gge(e,t){if(qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},xge=function(t){return t},bge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rf=function(t,r){return Object.keys(r).reduce(function(n,a){return AO(AO({},n),{},j4({},a,t(a,r[a])))},{})},kO=function(t,r,n){return t.map(function(a){return"".concat(bge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function wge(e,t){return Sge(e)||_ge(e,t)||_4(e,t)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Sge(e){if(Array.isArray(e))return e}function Cge(e){return Ege(e)||Pge(e)||_4(e)||Nge()}function Nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4(e,t){if(e){if(typeof e=="string")return sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sj(e,t)}}function Pge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ege(e){if(Array.isArray(e))return sj(e)}function sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vg=1e-4,S4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},C4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},OO=function(t,r){return function(n){var a=S4(t,r);return C4(a,n)}},Age=function(t,r){return function(n){var a=S4(t,r),i=[].concat(Cge(a.map(function(s,l){return s*l}).slice(1)),[0]);return C4(i,n)}},TO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=wge(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=OO(a,s),h=OO(i,l),p=Age(a,s),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var j=f(b)-x,S=p(b);if(Math.abs(j-x)<vg||S<vg)return h(b);b=y(b-j/S)}return h(b)};return m.isStepper=!1,m},kge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<vg&&Math.abs(m)<vg?[f,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},Oge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TO(a);case"spring":return kge();default:if(a.split("(")[0]==="cubic-bezier")return TO(a)}return typeof a=="function"?a:null};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function RO(e){return $ge(e)||Rge(e)||N4(e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ge(e){if(Array.isArray(e))return lj(e)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oj(e,t,r){return t=Mge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mge(e){var t=Ige(e,"string");return Kh(t)==="symbol"?t:String(t)}function Ige(e,t){if(Kh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dge(e,t){return Bge(e)||Fge(e,t)||N4(e,t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4(e,t){if(e){if(typeof e=="string")return lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lj(e,t)}}function lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Bge(e){if(Array.isArray(e))return e}var gg=function(t,r,n){return t+(r-t)*n},cj=function(t){var r=t.from,n=t.to;return r!==n},zge=function e(t,r,n){var a=Rf(function(i,s){if(cj(s)){var l=t(s.from,s.to,s.velocity),c=Dge(l,2),u=c[0],d=c[1];return Wr(Wr({},s),{},{from:u,velocity:d})}return s},r);return n<1?Rf(function(i,s){return cj(s)?Wr(Wr({},s),{},{velocity:gg(s.velocity,a[i].velocity,n),from:gg(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Uge=function(e,t,r,n,a){var i=yge(e,t),s=i.reduce(function(g,v){return Wr(Wr({},g),{},oj({},v,[e[v],t[v]]))},{}),l=i.reduce(function(g,v){return Wr(Wr({},g),{},oj({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Rf(function(v,x){return x.from},l)},p=function(){return!Object.values(l).filter(cj).length},y=function(v){u||(u=v);var x=v-u,b=x/r.dt;l=zge(r,l,b),a(Wr(Wr(Wr({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var x=(v-d)/n,b=Rf(function(j,S){return gg.apply(void 0,RO(S).concat([r(x)]))},s);if(a(Wr(Wr(Wr({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=Rf(function(j,S){return gg.apply(void 0,RO(S).concat([r(1)]))},s);a(Wr(Wr(Wr({},e),t),_))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}var Vge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wge(e,t){if(e==null)return{};var r=Hge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hge(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gb(e){return Yge(e)||Gge(e)||Kge(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(e,t){if(e){if(typeof e=="string")return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mf(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function Jge(e,t,r){return t&&Qge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P4(e){var t=Zge(e,"string");return Eu(t)==="symbol"?t:String(t)}function Zge(e,t){if(Eu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}function dj(e,t){return dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dj(e,t)}function tye(e){var t=rye();return function(){var n=yg(e),a;if(t){var i=yg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return fj(this,a)}}function fj(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hj(e)}function hj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}var Sa=function(e){eye(r,e);var t=tye(r);function r(n,a){var i;Xge(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(hj(i)),i.changeStyle=i.changeStyle.bind(hj(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),fj(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},fj(i);i.state={style:c?mf({},c,u):u}}else i.state={style:{}};return i}return Jge(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var p={style:c?mf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(lge(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var g={style:c?mf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation($a($a({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Uge(s,l,Oge(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,v){if(v===0)return m;var x=g.duration,b=g.easing,_=b===void 0?"ease":b,j=g.style,S=g.properties,C=g.onAnimationEnd,N=v>0?s[v-1]:g,P=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(gb(m),[i.runJSAnimation.bind(i,{from:N.style,to:j,duration:x,easing:_}),x]);var E=kO(P,x,_),k=$a($a($a({},N.style),j),{},{transition:E});return[].concat(gb(m),[k,x,C]).filter(xge)};return this.manager.start([c].concat(gb(s.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=mge());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?mf({},l,c):c,g=kO(Object.keys(m),s,u);y.start([d,i,$a($a({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Wge(a,Vge),u=w.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,v=y.className,x=w.cloneElement(p,$a($a({},c),{},{style:$a($a({},g),d),className:v}));return x};return u===1?f(w.Children.only(i)):T.createElement("div",null,w.Children.map(i,function(h){return f(h)}))}}]),r}(w.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function nye(e,t){return oye(e)||sye(e,t)||iye(e,t)||aye()}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(e,t){if(e){if(typeof e=="string")return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(e,t)}}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function oye(e){if(Array.isArray(e))return e}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t,r){return t=cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cye(e){var t=uye(e,"string");return Gh(t)=="symbol"?t:t+""}function uye(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FO=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},dye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},fye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RC=function(t){var r=LO(LO({},fye),t),n=w.useRef(),a=w.useState(-1),i=nye(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ke("recharts-rectangle",p);return x?T.createElement(Sa,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(_){var j=_.width,S=_.height,C=_.x,N=_.y;return T.createElement(Sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},T.createElement("path",xg({},Oe(r,!0),{className:b,d:FO(C,N,j,S,h),ref:n})))}):T.createElement("path",xg({},Oe(r,!0),{className:b,d:FO(c,u,d,f,h)}))},hye=["points","className","baseLinePoints","connectNulls"];function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function pye(e,t){if(e==null)return{};var r=mye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BO(e){return xye(e)||yye(e)||gye(e)||vye()}function vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gye(e,t){if(e){if(typeof e=="string")return pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pj(e,t)}}function yye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xye(e){if(Array.isArray(e))return pj(e)}function pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zO=function(t){return t&&t.x===+t.x&&t.y===+t.y},bye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){zO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),zO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$f=function(t,r){var n=bye(t);r&&(n=[n.reduce(function(i,s){return[].concat(BO(i),BO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},wye=function(t,r,n){var a=$f(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat($f(r.reverse(),n).slice(1))},jye=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=pye(t,hye);if(!r||!r.length)return null;var l=Ke("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=wye(r,a,i);return T.createElement("g",{className:l},T.createElement("path",kc({},Oe(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?T.createElement("path",kc({},Oe(s,!0),{fill:"none",d:$f(r,i)})):null,c?T.createElement("path",kc({},Oe(s,!0),{fill:"none",d:$f(a,i)})):null)}var d=$f(r,i);return T.createElement("path",kc({},Oe(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(this,arguments)}var Ep=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Ke("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",mj({},Oe(t,!1),Bv(t),{className:s,cx:r,cy:n,r:a})):null};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}var _ye=["x","y","top","left","width","height","className"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(this,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cye(e,t,r){return t=Nye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Pye(e,"string");return Yh(t)=="symbol"?t:t+""}function Pye(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eye(e,t){if(e==null)return{};var r=Aye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kye=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Oye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=Eye(t,_ye),g=Sye({x:n,y:i,top:l,left:u,width:f,height:p},m);return!fe(n)||!fe(i)||!fe(f)||!fe(p)||!fe(l)||!fe(u)?null:T.createElement("path",vj({},Oe(g,!0),{className:Ke("recharts-cross",y),d:kye(n,i,f,p,l,u)}))},Tye=xx,Rye=FL,$ye=Ii;function Mye(e,t){return e&&e.length?Tye(e,$ye(t),Rye):void 0}var Iye=Mye;const Dye=xt(Iye);var Lye=xx,Fye=Ii,Bye=BL;function zye(e,t){return e&&e.length?Lye(e,Fye(t),Bye):void 0}var Uye=zye;const Vye=xt(Uye);var Wye=["cx","cy","angle","ticks","axisLine"],Hye=["ticks","tick","angle","tickFormatter","stroke"];function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){_x(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WO(e,t){if(e==null)return{};var r=qye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A4(n.key),n)}}function Gye(e,t,r){return t&&HO(e.prototype,t),r&&HO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yye(e,t,r){return t=bg(t),Xye(e,E4()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function Xye(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gj(e,t)}function _x(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=Zye(e,"string");return Au(t)=="symbol"?t:t+""}function Zye(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sx=function(e){function t(){return Kye(this,t),Yye(this,t,arguments)}return Jye(t,e),Gye(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Rt(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Dye(l,function(d){return d.coordinate||0}),u=Vye(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=WO(n,Wye),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=Rt(a,i,d[0],s),h=Rt(a,i,d[1],s),p=zo(zo(zo({},Oe(u,!1)),{},{fill:"none"},Oe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",Mf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=WO(a,Hye),f=this.getTickTextAnchor(),h=Oe(d,!1),p=Oe(s,!1),y=i.map(function(m,g){var v=n.getTickValueCoord(m),x=zo(zo(zo(zo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:m});return T.createElement(Ze,Mf({className:Ke("recharts-polar-radius-axis-tick",p4(s)),key:"tick-".concat(m.coordinate)},bo(n.props,m,g)),t.renderTickItem(s,x,c?c(m.value,g):m.value))});return T.createElement(Ze,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:T.createElement(Ze,{className:Ke("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return T.isValidElement(n)?s=T.cloneElement(n,a):ze(n)?s=n(a):s=T.createElement(El,Mf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(w.PureComponent);_x(Sx,"displayName","PolarRadiusAxis");_x(Sx,"axisType","radiusAxis");_x(Sx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O4(n.key),n)}}function txe(e,t,r){return t&&KO(e.prototype,t),r&&KO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rxe(e,t,r){return t=wg(t),nxe(e,k4()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function nxe(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axe(e)}function axe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function ixe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yj(e,t)}function Cx(e,t,r){return t=O4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4(e){var t=sxe(e,"string");return ku(t)=="symbol"?t:t+""}function sxe(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oxe=Math.PI/180,GO=1e-5,Nx=function(e){function t(){return exe(this,t),rxe(this,t,arguments)}return ixe(t,e),txe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Rt(i,s,l,n.coordinate),h=Rt(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*oxe),s;return i>GO?s=a==="outer"?"start":"end":i<-GO?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Uo(Uo({},Oe(this.props,!1)),{},{fill:"none"},Oe(l,!1));if(c==="circle")return T.createElement(Ep,Jo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return Rt(a,i,s,h.coordinate)});return T.createElement(jye,Jo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Oe(this.props,!1),f=Oe(s,!1),h=Uo(Uo({},d),{},{fill:"none"},Oe(l,!1)),p=i.map(function(y,m){var g=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=Uo(Uo(Uo({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:g.x2,y:g.y2});return T.createElement(Ze,Jo({className:Ke("recharts-polar-angle-axis-tick",p4(s)),key:"tick-".concat(y.coordinate)},bo(n.props,y,m)),l&&T.createElement("line",Jo({className:"recharts-polar-angle-axis-tick-line"},h,g)),s&&t.renderTickItem(s,x,c?c(y.value,m):y.value))});return T.createElement(Ze,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:T.createElement(Ze,{className:Ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return T.isValidElement(n)?s=T.cloneElement(n,a):ze(n)?s=n(a):s=T.createElement(El,Jo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(w.PureComponent);Cx(Nx,"displayName","PolarAngleAxis");Cx(Nx,"axisType","angleAxis");Cx(Nx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lxe=M3,cxe=lxe(Object.getPrototypeOf,Object),uxe=cxe,dxe=ys,fxe=uxe,hxe=xs,pxe="[object Object]",mxe=Function.prototype,vxe=Object.prototype,T4=mxe.toString,gxe=vxe.hasOwnProperty,yxe=T4.call(Object);function xxe(e){if(!hxe(e)||dxe(e)!=pxe)return!1;var t=fxe(e);if(t===null)return!0;var r=gxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&T4.call(r)==yxe}var bxe=xxe;const wxe=xt(bxe);var jxe=ys,_xe=xs,Sxe="[object Boolean]";function Cxe(e){return e===!0||e===!1||_xe(e)&&jxe(e)==Sxe}var Nxe=Cxe;const Pxe=xt(Nxe);function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(this,arguments)}function Exe(e,t){return Txe(e)||Oxe(e,t)||kxe(e,t)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Txe(e){if(Array.isArray(e))return e}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Rxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rxe(e,t,r){return t=$xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Mxe(e,"string");return Xh(t)=="symbol"?t:t+""}function Mxe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JO=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Ixe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dxe=function(t){var r=QO(QO({},Ixe),t),n=w.useRef(),a=w.useState(-1),i=Exe(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Ke("recharts-trapezoid",p);return v?T.createElement(Sa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,C=b.x,N=b.y;return T.createElement(Sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},T.createElement("path",jg({},Oe(r,!0),{className:x,d:JO(C,N,_,j,S),ref:n})))}):T.createElement("g",null,T.createElement("path",jg({},Oe(r,!0),{className:x,d:JO(c,u,d,f,h)})))},Lxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Fxe(e,t){if(e==null)return{};var r=Bxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t,r){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=Vxe(e,"string");return Qh(t)=="symbol"?t:t+""}function Vxe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wxe(e,t){return _g(_g({},t),e)}function Hxe(e,t){return e==="symbols"}function eT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(RC,r);case"trapezoid":return T.createElement(Dxe,r);case"sector":return T.createElement(g4,r);case"symbols":if(Hxe(t))return T.createElement(cx,r);break;default:return null}}function qxe(e){return w.isValidElement(e)?e.props:e}function Sg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Wxe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Fxe(e,Lxe),u;if(w.isValidElement(t))u=w.cloneElement(t,_g(_g({},c),qxe(t)));else if(ze(t))u=t(c);else if(wxe(t)&&!Pxe(t)){var d=a(t,c);u=T.createElement(eT,{shapeType:r,elementProps:d})}else{var f=c;u=T.createElement(eT,{shapeType:r,elementProps:f})}return l?T.createElement(Ze,{className:s},u):u}function Px(e,t){return t!=null&&"trapezoids"in e.props}function Ex(e,t){return t!=null&&"sectors"in e.props}function Jh(e,t){return t!=null&&"points"in e.props}function Kxe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Gxe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Yxe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Xxe(e,t){var r;return Px(e,t)?r=Kxe:Ex(e,t)?r=Gxe:Jh(e,t)&&(r=Yxe),r}function Qxe(e,t){var r;return Px(e,t)?r="trapezoids":Ex(e,t)?r="sectors":Jh(e,t)&&(r="points"),r}function Jxe(e,t){if(Px(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ex(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jh(e,t)?t.payload:{}}function Zxe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Qxe(r,t),i=Jxe(r,t),s=n.filter(function(c,u){var d=wo(i,c),f=r.props[a].filter(function(y){var m=Xxe(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var Ym;function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$4(n.key),n)}}function t0e(e,t,r){return t&&rT(e.prototype,t),r&&rT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r0e(e,t,r){return t=Cg(t),n0e(e,R4()?Reflect.construct(t,r||[],Cg(e).constructor):t.apply(e,r))}function n0e(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a0e(e)}function a0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(e)}function i0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xj(e,t)}function va(e,t,r){return t=$4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $4(e){var t=s0e(e,"string");return Ou(t)=="symbol"?t:t+""}function s0e(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws=function(e){function t(r){var n;return e0e(this,t),n=r0e(this,t,[r]),va(n,"pieRef",null),va(n,"sectorRefs",[]),va(n,"id",Ao("recharts-pie-")),va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(a)&&a()}),va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return i0e(t,e),t0e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Oe(this.props,!1),f=Oe(s,!1),h=Oe(l,!1),p=s&&s.offsetRadius||20,y=n.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,x=Rt(m.cx,m.cy,m.outerRadius+p,v),b=kt(kt(kt(kt({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=kt(kt(kt(kt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Rt(m.cx,m.cy,m.outerRadius,v),x]}),j=c;return Fe(c)&&Fe(u)?j="value":Fe(c)&&(j=u),T.createElement(Ze,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,b,Bt(m,j)))});return T.createElement(Ze,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,y=kt(kt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(Ze,Oc({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},bo(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),T.createElement(Sg,Oc({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return T.createElement(Sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(b,_){var j=h&&h[_],S=_>0?ra(b,"paddingAngle",0):0;if(j){var C=Xt(j.endAngle-j.startAngle,b.endAngle-b.startAngle),N=kt(kt({},b),{},{startAngle:x+S,endAngle:x+C(m)+S});g.push(N),x=N.endAngle}else{var P=b.endAngle,E=b.startAngle,k=Xt(0,P-E),A=k(m),R=kt(kt({},b),{},{startAngle:x+S,endAngle:x+A+S});g.push(R),x=R.endAngle}}),T.createElement(Ze,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!wo(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!s||!s.length||!fe(u)||!fe(d)||!fe(f)||!fe(h))return null;var m=Ke("recharts-pie",l);return T.createElement(Ze,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),Dr.renderCallByParent(this.props,null,!1),(!p||y)&&ei.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);if(ze(n))return n(a);var s=Ke("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(ho,Oc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);var s=i;if(ze(n)&&(s=n(a),T.isValidElement(s)))return s;var l=Ke("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return T.createElement(El,Oc({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(w.PureComponent);Ym=ws;va(ws,"displayName","Pie");va(ws,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});va(ws,"parseDeltaAngle",function(e,t){var r=yn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});va(ws,"getRealPieData",function(e){var t=e.data,r=e.children,n=Oe(e,!1),a=jn(r,_p);return t&&t.length?t.map(function(i,s){return kt(kt(kt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return kt(kt({},n),i.props)}):[]});va(ws,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=h4(a,i),l=n+xn(e.cx,a,a/2),c=r+xn(e.cy,i,i/2),u=xn(e.innerRadius,s,0),d=xn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});va(ws,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?kt(kt({},t.type.defaultProps),t.props):t.props,a=Ym.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Ym.parseCoordinateOfPie(n,r),m=Ym.parseDeltaAngle(s,l),g=Math.abs(m),v=u;Fe(u)&&Fe(f)?(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Fe(u)&&(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var x=a.filter(function(N){return Bt(N,v,0)!==0}).length,b=(g>=360?x:x-1)*c,_=g-x*p-b,j=a.reduce(function(N,P){var E=Bt(P,v,0);return N+(fe(E)?E:0)},0),S;if(j>0){var C;S=a.map(function(N,P){var E=Bt(N,v,0),k=Bt(N,d,P),A=(fe(E)?E:0)/j,R;P?R=C.endAngle+yn(m)*c*(E!==0?1:0):R=s;var O=R+yn(m)*((E!==0?p:0)+A*_),I=(R+O)/2,$=(y.innerRadius+y.outerRadius)/2,M=[{name:k,value:E,payload:N,dataKey:v,type:h}],D=Rt(y.cx,y.cy,$,I);return C=kt(kt(kt({percent:A,cornerRadius:i,name:k,tooltipPayload:M,midAngle:I,middleRadius:$,tooltipPosition:D},N),y),{},{value:Bt(N,v),startAngle:R,endAngle:O,payload:N,paddingAngle:yn(m)*c}),C})}return kt(kt({},y),{},{sectors:S,data:a})});var o0e=Math.ceil,l0e=Math.max;function c0e(e,t,r,n){for(var a=-1,i=l0e(o0e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var u0e=c0e,d0e=eL,nT=1/0,f0e=17976931348623157e292;function h0e(e){if(!e)return e===0?e:0;if(e=d0e(e),e===nT||e===-nT){var t=e<0?-1:1;return t*f0e}return e===e?e:0}var M4=h0e,p0e=u0e,m0e=fx,yb=M4;function v0e(e){return function(t,r,n){return n&&typeof n!="number"&&m0e(t,r,n)&&(r=n=void 0),t=yb(t),r===void 0?(r=t,t=0):r=yb(r),n=n===void 0?t<r?1:-1:yb(n),p0e(t,r,n,e)}}var g0e=v0e,y0e=g0e,x0e=y0e(),b0e=x0e;const Ng=xt(b0e);function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=j0e(e,"string");return Zh(t)=="symbol"?t:t+""}function j0e(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0e=["Webkit","Moz","O","ms"],S0e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=_0e.reduce(function(i,s){return iT(iT({},i),{},I4({},s+n,r))},{});return a[t]=r,a};function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function N0e(e,t,r){return t&&oT(e.prototype,t),r&&oT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P0e(e,t,r){return t=Eg(t),E0e(e,D4()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function E0e(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0e(e)}function A0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function k0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bj(e,t)}function qn(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=O0e(e,"string");return Tu(t)=="symbol"?t:t+""}function O0e(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Of().domain(Ng(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},lT=function(t){return t.changedTouches&&!!t.changedTouches.length},Ru=function(e){function t(r){var n;return C0e(this,t),n=P0e(this,t,[r]),qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qn(n,"handleSlideDragStart",function(a){var i=lT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return k0e(t,e),N0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),y=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Bt(i[n],l,n);return ze(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var g=this.getIndex({startX:s+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=lT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),v[s]=u+x;var b=this.getIndex(v),_=b.startIndex,j=b.endIndex,S=function(){var N=g.length-1;return s==="startX"&&(l>c?_%m===0:j%m===0)||l<c&&j===N||s==="endX"&&(l>c?j%m===0:_%m===0)||l>c&&j===N};this.setState(qn(qn({},s,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(qn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?T.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),x=xb(xb({},Oe(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=y[g])===null||s===void 0?void 0:s.name);return T.createElement(Ze,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return T.createElement(Ze,{className:"recharts-brush-texts"},T.createElement(El,Pg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},y),this.getTextOfTick(a)),T.createElement(El,Pg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!fe(l)||!fe(c)||!fe(u)||!fe(d)||u<=0||d<=0)return null;var b=Ke("recharts-brush",i),_=T.Children.count(s)===1,j=S0e("userSelect","none");return T.createElement(Ze,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return T.isValidElement(n)?i=T.cloneElement(n,a):ze(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return xb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?T0e({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(w.PureComponent);qn(Ru,"displayName","Brush");qn(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R0e=iC;function $0e(e,t){var r;return R0e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var M0e=$0e,I0e=P3,D0e=Ii,L0e=M0e,F0e=zn,B0e=fx;function z0e(e,t,r){var n=F0e(e)?I0e:L0e;return r&&B0e(e,t,r)&&(t=void 0),n(e,D0e(t))}var U0e=z0e;const V0e=xt(U0e);var Pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},cT=Y3;function W0e(e,t,r){t=="__proto__"&&cT?cT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var H0e=W0e,q0e=H0e,K0e=K3,G0e=Ii;function Y0e(e,t){var r={};return t=G0e(t),K0e(e,function(n,a,i){q0e(r,a,t(n,a,i))}),r}var X0e=Y0e;const Q0e=xt(X0e);function J0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Z0e=J0e,ebe=iC;function tbe(e,t){var r=!0;return ebe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var rbe=tbe,nbe=Z0e,abe=rbe,ibe=Ii,sbe=zn,obe=fx;function lbe(e,t,r){var n=sbe(e)?nbe:abe;return r&&obe(e,t,r)&&(t=void 0),n(e,ibe(t))}var cbe=lbe;const F4=xt(cbe);var ube=["x","y"];function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(this,arguments)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t,r){return t=fbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fbe(e){var t=hbe(e,"string");return ep(t)=="symbol"?t:t+""}function hbe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pbe(e,t){if(e==null)return{};var r=mbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vbe(e,t){var r=e.x,n=e.y,a=pbe(e,ube),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return rf(rf(rf(rf(rf({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function dT(e){return T.createElement(Sg,wj({shapeType:"rectangle",propTransformer:vbe,activeClassName:"recharts-active-bar"},e))}var gbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=fe(n)||UZ(n);return i?t(n,a):(i||kl(),r)}},ybe=["value","background"],B4;function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function xbe(e,t){if(e==null)return{};var r=bbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U4(n.key),n)}}function jbe(e,t,r){return t&&hT(e.prototype,t),r&&hT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _be(e,t,r){return t=kg(t),Sbe(e,z4()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function Sbe(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cbe(e)}function Cbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function Nbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jj(e,t)}function jj(e,t){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jj(e,t)}function Qs(e,t,r){return t=U4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=Pbe(e,"string");return $u(t)=="symbol"?t:t+""}function Pbe(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qt=function(e){function t(){var r;wbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_be(this,t,[].concat(a)),Qs(r,"state",{isAnimationFinished:!1}),Qs(r,"id",Ao("recharts-bar-")),Qs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Qs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Nbe(t,e),jbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Oe(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:s,m=pr(pr(pr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return T.createElement(Ze,Ag({className:"recharts-bar-rectangle"},bo(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(dT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return T.createElement(Sa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(g,v){var x=h&&h[v];if(x){var b=Xt(x.x,g.x),_=Xt(x.y,g.y),j=Xt(x.width,g.width),S=Xt(x.height,g.height);return pr(pr({},g),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(s==="horizontal"){var C=Xt(0,g.height),N=C(y);return pr(pr({},g),{},{y:g.y+g.height-N,height:N})}var P=Xt(0,g.width),E=P(y);return pr(pr({},g),{},{width:E})});return T.createElement(Ze,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!wo(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=Oe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=xbe(u,ybe);if(!f)return null;var p=pr(pr(pr(pr(pr({},h),{},{fill:"#eee"},f),c),bo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(dT,Ag({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=jn(d,kd);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(g,v){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Bt(g,v)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Ze,y,f.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Ke("recharts-bar",s),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,j=Fe(m)?this.id:m;return T.createElement(Ze,{className:v},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(j)},T.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,T.createElement(Ze,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!p||g)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);B4=qt;Qs(qt,"displayName","Bar");Qs(qt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qs(qt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=ome(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?pr(pr({},m),r.props):r.props,v=g.dataKey,x=g.children,b=g.minPointSize,_=y==="horizontal"?s:i,j=u?_.scale.domain():null,S=pme({numericAxis:_}),C=jn(x,_p),N=f.map(function(P,E){var k,A,R,O,I,$;u?k=lme(u[d+E],j):(k=Bt(P,v),Array.isArray(k)||(k=[S,k]));var M=gbe(b,B4.defaultProps.minPointSize)(k[1],E);if(y==="horizontal"){var D,L=[s.scale(k[0]),s.scale(k[1])],z=L[0],X=L[1];A=rO({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:E}),R=(D=X??z)!==null&&D!==void 0?D:void 0,O=p.size;var G=z-X;if(I=Number.isNaN(G)?0:G,$={x:A,y:s.y,width:O,height:s.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var F=yn(I||M)*(Math.abs(M)-Math.abs(I));R-=F,I+=F}}else{var J=[i.scale(k[0]),i.scale(k[1])],U=J[0],V=J[1];if(A=U,R=rO({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:P,index:E}),O=V-U,I=p.size,$={x:i.x,y:R,width:i.width,height:I},Math.abs(M)>0&&Math.abs(O)<Math.abs(M)){var W=yn(O||M)*(Math.abs(M)-Math.abs(O));O+=W}}return pr(pr(pr({},P),{},{x:A,y:R,width:O,height:I,value:u?k:k[1],payload:P,background:$},C&&C[E]&&C[E].props),{},{tooltipPayload:[d4(r,P)],tooltipPosition:{x:A+O/2,y:R+I/2}})});return pr({data:N,layout:y},h)});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V4(n.key),n)}}function Abe(e,t,r){return t&&pT(e.prototype,t),r&&pT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ax(e,t,r){return t=V4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=kbe(e,"string");return tp(t)=="symbol"?t:t+""}function kbe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kx=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gn(u,qt);return d.reduce(function(p,y){var m=r[y],g=m.orientation,v=m.domain,x=m.padding,b=x===void 0?{}:x,_=m.mirror,j=m.reversed,S="".concat(g).concat(_?"Mirror":""),C,N,P,E,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=v[1]-v[0],R=1/0,O=m.categoricalDomain.sort(qZ);if(O.forEach(function(J,U){U>0&&(R=Math.min((J||0)-(O[U-1]||0),R))}),Number.isFinite(R)){var I=R/A,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=I*$/2),m.padding==="no-gap"){var M=xn(t.barCategoryGap,I*$),D=I*$/2;C=D-M-(D-M)/$*M}}}a==="xAxis"?N=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:N=m.range,j&&(N=[N[1],N[0]]);var L=o4(m,i,h),z=L.scale,X=L.realScaleType;z.domain(v).range(N),l4(z);var G=c4(z,Ha(Ha({},m),{},{realScaleType:X}));a==="xAxis"?(k=g==="top"&&!_||g==="bottom"&&_,P=n.left,E=f[S]-k*m.height):a==="yAxis"&&(k=g==="left"&&!_||g==="right"&&_,P=f[S]-k*m.width,E=n.top);var F=Ha(Ha(Ha({},m),G),{},{realScaleType:X,x:P,y:E,scale:z,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return F.bandSize=hg(F,G),!m.hide&&a==="xAxis"?f[S]+=(k?-1:1)*F.height:m.hide||(f[S]+=(k?-1:1)*F.width),Ha(Ha({},p),{},Ax({},y,F))},{})},W4=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Obe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return W4({x:r,y:n},{x:a,y:i})},H4=function(){function e(t){Ebe(this,e),this.scale=t}return Abe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ax(H4,"EPS",1e-4);var $C=function(t){var r=Object.keys(t).reduce(function(n,a){return Ha(Ha({},n),{},Ax({},a,H4.create(t[a])))},{});return Ha(Ha({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return Q0e(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return F4(a,function(i,s){return r[s].isInRange(i)})}})};function Tbe(e){return(e%180+180)%180}var Rbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Tbe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},$be=Ii,Mbe=jp,Ibe=ux;function Dbe(e){return function(t,r,n){var a=Object(t);if(!Mbe(t)){var i=$be(r);t=Ibe(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var Lbe=Dbe,Fbe=M4;function Bbe(e){var t=Fbe(e),r=t%1;return t===t?r?t-r:t:0}var zbe=Bbe,Ube=z3,Vbe=Ii,Wbe=zbe,Hbe=Math.max;function qbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Wbe(r);return a<0&&(a=Hbe(n+a,0)),Ube(e,Vbe(t),a)}var Kbe=qbe,Gbe=Lbe,Ybe=Kbe,Xbe=Gbe(Ybe),Qbe=Xbe;const Jbe=xt(Qbe);var Zbe=qJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),MC=w.createContext(void 0),IC=w.createContext(void 0),q4=w.createContext(void 0),K4=w.createContext({}),G4=w.createContext(void 0),Y4=w.createContext(0),X4=w.createContext(0),vT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Zbe(i);return T.createElement(MC.Provider,{value:n},T.createElement(IC.Provider,{value:a},T.createElement(K4.Provider,{value:i},T.createElement(q4.Provider,{value:d},T.createElement(G4.Provider,{value:s},T.createElement(Y4.Provider,{value:u},T.createElement(X4.Provider,{value:c},l)))))))},ewe=function(){return w.useContext(G4)},Q4=function(t){var r=w.useContext(MC);r==null&&kl();var n=r[t];return n==null&&kl(),n},twe=function(){var t=w.useContext(MC);return zs(t)},rwe=function(){var t=w.useContext(IC),r=Jbe(t,function(n){return F4(n.domain,Number.isFinite)});return r||zs(t)},J4=function(t){var r=w.useContext(IC);r==null&&kl();var n=r[t];return n==null&&kl(),n},nwe=function(){var t=w.useContext(q4);return t},awe=function(){return w.useContext(K4)},DC=function(){return w.useContext(X4)},LC=function(){return w.useContext(Y4)};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function iwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function swe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eF(n.key),n)}}function owe(e,t,r){return t&&swe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lwe(e,t,r){return t=Og(t),cwe(e,Z4()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function cwe(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uwe(e)}function uwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_j(e,t)}function _j(e,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_j(e,t)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){FC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FC(e,t,r){return t=eF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=fwe(e,"string");return Mu(t)=="symbol"?t:t+""}function fwe(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hwe(e,t){return gwe(e)||vwe(e,t)||mwe(e,t)||pwe()}function pwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mwe(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gwe(e){if(Array.isArray(e))return e}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sj.apply(this,arguments)}var ywe=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):ze(t)?n=t(r):n=T.createElement("line",Sj({},r,{className:"recharts-reference-line-line"})),n},xwe=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:s});if(Pi(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?g.reverse():g}if(r){var v=u.x,x=t.x.apply(v,{position:s});if(Pi(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:s})});return Pi(u,"discard")&&V0e(j,function(S){return!t.isInRange(S)})?null:j}return null};function bwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=ewe(),d=Q4(a),f=J4(i),h=nwe();if(!u||!h)return null;Za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$C({x:d.scale,y:f.scale}),y=kr(t),m=kr(r),g=n&&n.length===2,v=xwe(p,y,m,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var x=hwe(v,2),b=x[0],_=b.x,j=b.y,S=x[1],C=S.x,N=S.y,P=Pi(e,"hidden")?"url(#".concat(u,")"):void 0,E=yT(yT({clipPath:P},Oe(e,!0)),{},{x1:_,y1:j,x2:C,y2:N});return T.createElement(Ze,{className:Ke("recharts-reference-line",l)},ywe(s,E),Dr.renderCallByParent(e,Obe({x1:_,y1:j,x2:C,y2:N})))}var BC=function(e){function t(){return iwe(this,t),lwe(this,t,arguments)}return dwe(t,e),owe(t,[{key:"render",value:function(){return T.createElement(bwe,this.props)}}])}(T.Component);FC(BC,"displayName","ReferenceLine");FC(BC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(this,arguments)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function _we(e,t,r){return t&&jwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Swe(e,t,r){return t=Tg(t),Cwe(e,tF()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function Cwe(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(e)}function Nwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function Pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nj(e,t)}function Ox(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=Ewe(e,"string");return Iu(t)=="symbol"?t:t+""}function Ewe(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Awe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=$C({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Pi(t,"discard")&&!s.isInRange(l)?null:l},Tx=function(e){function t(){return wwe(this,t),Swe(this,t,arguments)}return Pwe(t,e),_we(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=kr(a),d=kr(i);if(Za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Awe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,g=y.className,v=Pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=wT(wT({clipPath:v},Oe(this.props,!0)),{},{cx:h,cy:p});return T.createElement(Ze,{className:Ke("recharts-reference-dot",g)},t.renderDot(m,x),Dr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(T.Component);Ox(Tx,"displayName","ReferenceDot");Ox(Tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ox(Tx,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ze(e)?r=e(t):r=T.createElement(Ep,Cj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pj.apply(this,arguments)}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Owe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function Twe(e,t,r){return t&&Owe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rwe(e,t,r){return t=Rg(t),$we(e,nF()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function $we(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(e)}function Mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function Iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ej(e,t)}function Rx(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(e){var t=Dwe(e,"string");return Du(t)=="symbol"?t:t+""}function Dwe(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lwe=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=$C({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Pi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:W4(p,y)},$x=function(e){function t(){return kwe(this,t),Rwe(this,t,arguments)}return Iwe(t,e),Twe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Za(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=kr(a),h=kr(i),p=kr(s),y=kr(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var g=Lwe(f,h,p,y,this.props);if(!g&&!m)return null;var v=Pi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(Ze,{className:Ke("recharts-reference-area",c)},t.renderRect(m,_T(_T({clipPath:v},Oe(this.props,!0)),g)),Dr.renderCallByParent(this.props,g))}}])}(T.Component);Rx($x,"displayName","ReferenceArea");Rx($x,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rx($x,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ze(e)?r=e(t):r=T.createElement(RC,Pj({},t,{className:"recharts-reference-area-rect"})),r});function iF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Fwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Rbe(n,r)}function Bwe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function $g(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function zwe(e,t){return iF(e,t+1)}function Uwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:iF(n,u)};var m=c,g,v=function(){return g===void 0&&(g=r(y,m)),g},x=y.coordinate,b=c===0||$g(e,x,v,d,l);b||(c=0,d=s,u+=1),b&&(d=x+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){Vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vwe(e,t,r){return t=Wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Hwe(e,"string");return rp(t)=="symbol"?t:t+""}function Hwe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===s-1){var g=e*(p.coordinate+e*m()/2-c);i[h]=p=en(en({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=en(en({},p),{},{tickCoord:p.coordinate});var v=$g(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+a),i[h]=en(en({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function Kwe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=en(en({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=$g(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=en(en({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(x){var b=s[x],_,j=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*j()/2-c);s[x]=b=en(en({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[x]=b=en(en({},b),{},{tickCoord:b.coordinate});var C=$g(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),s[x]=en(en({},b),{},{isShow:!0}))},g=0;g<y;g++)m(g);return s}function zC(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(fe(c)||ba.isSsr)return zwe(a,typeof c=="number"&&fe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?kf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var j=ze(u)?u(b.value,_):b.value;return p==="width"?Fwe(kf(j,{fontSize:t,letterSpacing:r}),y,f):kf(j,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?yn(a[1].coordinate-a[0].coordinate):1,v=Bwe(i,g,p);return c==="equidistantPreserveStart"?Uwe(g,v,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=Kwe(g,v,m,a,s,c==="preserveStartEnd"):h=qwe(g,v,m,a,s),h.filter(function(x){return x.isShow}))}var Gwe=["viewBox"],Ywe=["viewBox"],Xwe=["ticks"];function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){UC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bb(e,t){if(e==null)return{};var r=Qwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function Zwe(e,t,r){return t&&NT(e.prototype,t),r&&NT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=Mg(t),t1e(e,sF()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Aj(e,t)}function UC(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=a1e(e,"string");return Lu(t)=="symbol"?t:t+""}function a1e(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od=function(e){function t(r){var n;return Jwe(this,t),n=e1e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return n1e(t,e),Zwe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=bb(n,Gwe),l=this.props,c=l.viewBox,u=bb(l,Ywe);return!Wc(i,c)||!Wc(s,u)||!Wc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,g,v,x,b=f?-1:1,_=n.tickSize||d,j=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=s+ +!f*c,m=g-b*_,x=m-b*h,v=j;break;case"left":m=g=n.coordinate,y=i+ +!f*l,p=y-b*_,v=p-b*h,x=j;break;case"right":m=g=n.coordinate,y=i+ +f*l,p=y+b*_,v=p+b*h,x=j;break;default:p=y=n.coordinate,g=s+ +f*c,m=g+b*_,x=m+b*h,v=j;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=jr(jr(jr({},Oe(this.props,!1)),Oe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=jr(jr({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=jr(jr({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return T.createElement("line",Tc({},f,{className:Ke("recharts-cartesian-axis-line",ra(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=zC(jr(jr({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Oe(this.props,!1),v=Oe(d,!1),x=jr(jr({},g),{},{fill:"none"},Oe(c,!1)),b=p.map(function(_,j){var S=s.getTickLineCoord(_),C=S.line,N=S.tick,P=jr(jr(jr(jr({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:u},v),N),{},{index:j,payload:_,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(Ze,Tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},bo(s.props,_,j)),c&&T.createElement("line",Tc({},x,C,{className:Ke("recharts-cartesian-axis-tick-line",ra(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ze(f)?f(_.value,j):_.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=bb(f,Xwe),y=h;return ze(c)&&(y=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!y||!y.length?null:T.createElement(Ze,{className:Ke("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Ke(a.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?s=T.cloneElement(n,jr(jr({},a),{},{className:l})):ze(n)?s=n(jr(jr({},a),{},{className:l})):s=T.createElement(El,Tc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(w.Component);UC(Od,"displayName","CartesianAxis");UC(Od,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var i1e=["x1","y1","x2","y2","key"],s1e=["offset"];function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){o1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t,r){return t=l1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l1e(e){var t=c1e(e,"string");return Ol(t)=="symbol"?t:t+""}function c1e(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function ET(e,t){if(e==null)return{};var r=u1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var d1e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lF(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=ET(t,i1e),u=Oe(c,!1);u.offset;var d=ET(u,s1e);r=T.createElement("line",ol({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function f1e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=rn(rn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return lF(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function h1e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=rn(rn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return lF(a,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function p1e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+s-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function m1e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var v1e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return s4(zC(rn(rn(rn({},Od.defaultProps),n),{},{ticks:Ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},g1e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return s4(zC(rn(rn(rn({},Od.defaultProps),n),{},{ticks:Ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Zl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function an(e){var t,r,n,a,i,s,l=DC(),c=LC(),u=awe(),d=rn(rn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Zl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Zl.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Zl.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,x=twe(),b=rwe();if(!fe(p)||p<=0||!fe(y)||y<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||v1e,j=d.horizontalCoordinatesGenerator||g1e,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&ze(j)){var N=g&&g.length,P=j({yAxis:b?rn(rn({},b),{},{ticks:N?g:b.ticks}):void 0,width:l,height:c,offset:u},N?!0:m);Za(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(P),"]")),Array.isArray(P)&&(S=P)}if((!C||!C.length)&&ze(_)){var E=v&&v.length,k=_({xAxis:x?rn(rn({},x),{},{ticks:E?v:x.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);Za(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(k),"]")),Array.isArray(k)&&(C=k)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(d1e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(f1e,ol({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),T.createElement(h1e,ol({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),T.createElement(p1e,ol({},d,{horizontalPoints:S})),T.createElement(m1e,ol({},d,{verticalPoints:C})))}an.displayName="CartesianGrid";var y1e=["type","layout","connectNulls","ref"],x1e=["key"];function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function AT(e,t){if(e==null)return{};var r=b1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ec(e){return S1e(e)||_1e(e)||j1e(e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(e,t){if(e){if(typeof e=="string")return kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(e,t)}}function _1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S1e(e){if(Array.isArray(e))return kj(e)}function kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function N1e(e,t,r){return t&&OT(e.prototype,t),r&&OT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P1e(e,t,r){return t=Ig(t),E1e(e,cF()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function E1e(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(e)}function A1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function k1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}function Oj(e,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oj(e,t)}function qa(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=O1e(e,"string");return Fu(t)=="symbol"?t:t+""}function O1e(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn=function(e){function t(){var r;C1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=P1e(this,t,[].concat(a)),qa(r,"state",{isAnimationFinished:!0,totalLength:0}),qa(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),qa(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>f){p=[].concat(ec(c.slice(0,y)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ec(t.repeat(c,d)),ec(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),qa(r,"id",Ao("recharts-line-")),qa(r,"pathRef",function(s){r.mainCurve=s}),qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return k1e(t,e),N1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=jn(d,kd);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Bt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Ze,p,f.map(function(y){return T.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Oe(this.props,!1),h=Oe(c,!0),p=u.map(function(m,g){var v=Hn(Hn(Hn({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,v)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return T.createElement(Ze,If({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=AT(l,y1e),h=Hn(Hn(Hn({},Oe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return T.createElement(ho,If({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=s.animateNewValues,m=s.width,g=s.height,v=this.state,x=v.prevPoints,b=v.totalLength;return T.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var S=x.length/l.length,C=l.map(function(A,R){var O=Math.floor(R*S);if(x[O]){var I=x[O],$=Xt(I.x,A.x),M=Xt(I.y,A.y);return Hn(Hn({},A),{},{x:$(j),y:M(j)})}if(y){var D=Xt(m*2,A.x),L=Xt(g/2,A.y);return Hn(Hn({},A),{},{x:D(j),y:L(j)})}return Hn(Hn({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(C,n,a)}var N=Xt(0,b),P=N(j),E;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});E=i.getStrokeDasharray(P,b,k)}else E=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!wo(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=Ke("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=_||j,C=Fe(g)?this.id:g,N=(n=Oe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,E=P===void 0?3:P,k=N.strokeWidth,A=k===void 0?2:k,R=JD(s)?s:{},O=R.clipDot,I=O===void 0?!0:O,$=E*2+A;return T.createElement(Ze,{className:b},_||j?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(C)},T.createElement("rect",{x:_?h:h-p/2,y:j?f:f-y/2,width:_?p:p*2,height:j?y:y*2})),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(C)},T.createElement("rect",{x:h-$/2,y:f-$/2,width:p+$,height:y+$}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||s)&&this.renderDots(S,I,C),(!m||v)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ec(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(ec(s),ec(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(T.isValidElement(n))i=T.cloneElement(n,a);else if(ze(n))i=n(a);else{var s=a.key,l=AT(a,x1e),c=Ke("recharts-line-dot",typeof n!="boolean"?n.className:"");i=T.createElement(Ep,If({key:s},l,{className:c}))}return i}}])}(w.PureComponent);qa(Mn,"displayName","Line");qa(Mn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ba.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa(Mn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=Bt(h,s);return d==="horizontal"?{x:Pu({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Fe(y)?null:n.scale(y),value:y,payload:h}:{x:Fe(y)?null:r.scale(y),y:Pu({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Hn({points:f,layout:d},u)});var T1e=["layout","type","stroke","connectNulls","isRange","ref"],R1e=["key"],dF;function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function fF(e,t){if(e==null)return{};var r=$1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(this,arguments)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){xi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function I1e(e,t,r){return t&&RT(e.prototype,t),r&&RT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D1e(e,t,r){return t=Dg(t),L1e(e,hF()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function L1e(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1e(e)}function F1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function B1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tj(e,t)}function Tj(e,t){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tj(e,t)}function xi(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=z1e(e,"string");return Bu(t)=="symbol"?t:t+""}function z1e(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var na=function(e){function t(){var r;M1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=D1e(this,t,[].concat(a)),xi(r,"state",{isAnimationFinished:!0}),xi(r,"id",Ao("recharts-area-")),xi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(s)&&s()}),xi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(s)&&s()}),r}return B1e(t,e),I1e(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Oe(this.props,!1),p=Oe(u,!0),y=d.map(function(g,v){var x=ks(ks(ks({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return T.createElement(Ze,ll({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=Xs(s.map(function(h){return h.y||0}));return fe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Xs(i.map(function(h){return h.y||0})),f)),fe(f)?T.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=Xs(s.map(function(h){return h.x||0}));return fe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Xs(i.map(function(h){return h.x||0})),f)),fe(f)?T.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=fF(l,T1e);return T.createElement(Ze,{clipPath:i?"url(#clipPath-".concat(s,")"):null},T.createElement(ho,ll({},Oe(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&T.createElement(ho,ll({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&T.createElement(ho,ll({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return T.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(m){var b=m.length/l.length,_=l.map(function(N,P){var E=Math.floor(P*b);if(m[E]){var k=m[E],A=Xt(k.x,N.x),R=Xt(k.y,N.y);return ks(ks({},N),{},{x:A(x),y:R(x)})}return N}),j;if(fe(c)&&typeof c=="number"){var S=Xt(g,c);j=S(x)}else if(Fe(c)||_d(c)){var C=Xt(g,0);j=C(x)}else j=c.map(function(N,P){var E=Math.floor(P*b);if(g[E]){var k=g[E],A=Xt(k.x,N.x),R=Xt(k.y,N.y);return ks(ks({},N),{},{x:A(x),y:R(x)})}return N});return i.renderAreaStatically(_,j,n,a)}return T.createElement(Ze,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),T.createElement(Ze,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!wo(d,s)||!wo(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=Ke("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,C=Fe(g)?this.id:g,N=(n=Oe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,E=P===void 0?3:P,k=N.strokeWidth,A=k===void 0?2:k,R=JD(s)?s:{},O=R.clipDot,I=O===void 0?!0:O,$=E*2+A;return T.createElement(Ze,{className:b},_||j?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(C)},T.createElement("rect",{x:_?d:d-p/2,y:j?u:u-y/2,width:_?p:p*2,height:j?y:y*2})),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(C)},T.createElement("rect",{x:d-$/2,y:u-$/2,width:p+$,height:y+$}))):null,x?null:this.renderArea(S,C),(s||x)&&this.renderDots(S,I,C),(!m||v)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);dF=na;xi(na,"displayName","Area");xi(na,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xi(na,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(fe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});xi(na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,m=dF.getBaseValue(t,r,n,a),g=p==="horizontal",v=!1,x=f.map(function(_,j){var S;y?S=u[d+j]:(S=Bt(_,c),Array.isArray(S)?v=!0:S=[m,S]);var C=S[1]==null||y&&Bt(_,c)==null;return g?{x:Pu({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:Pu({axis:a,ticks:s,bandSize:l,entry:_,index:j}),value:S,payload:_}}),b;return y||v?b=x.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=g?a.scale(m):n.scale(m),ks({points:x,baseLine:b,layout:p,isRange:v},h)});xi(na,"renderDotItem",function(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=Ke("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=fF(t,R1e);r=T.createElement(Ep,ll({},i,{key:a,className:n}))}return r});function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function U1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gF(n.key),n)}}function W1e(e,t,r){return t&&V1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H1e(e,t,r){return t=Lg(t),q1e(e,mF()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function q1e(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1e(e)}function K1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function G1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rj(e,t)}function vF(e,t,r){return t=gF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=Y1e(e,"string");return zu(t)=="symbol"?t:t+""}function Y1e(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mx=function(e){function t(){return U1e(this,t),H1e(this,t,arguments)}return G1e(t,e),W1e(t,[{key:"render",value:function(){return null}}])}(w.Component);vF(Mx,"displayName","ZAxis");vF(Mx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var X1e=["option","isActive"];function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function Q1e(e,t){if(e==null)return{};var r=J1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z1e(e){var t=e.option,r=e.isActive,n=Q1e(e,X1e);return typeof t=="string"?w.createElement(Sg,Df({option:w.createElement(cx,Df({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(Sg,Df({option:t,isActive:r,shapeType:"symbols"},n))}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xF(n.key),n)}}function tje(e,t,r){return t&&MT(e.prototype,t),r&&MT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rje(e,t,r){return t=Fg(t),nje(e,yF()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function nje(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aje(e)}function aje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function ije(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}function $j(e,t){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$j(e,t)}function Js(e,t,r){return t=xF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xF(e){var t=sje(e,"string");return Uu(t)=="symbol"?t:t+""}function sje(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ix=function(e){function t(){var r;eje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rje(this,t,[].concat(a)),Js(r,"state",{isAnimationFinished:!1}),Js(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Js(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Js(r,"id",Ao("recharts-scatter-")),r}return ije(t,e),tje(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.activeShape,c=i.activeIndex,u=Oe(this.props,!1);return n.map(function(d,f){var h=c===f,p=h?l:s,y=fa(fa({},u),d);return T.createElement(Ze,Lf({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},bo(a.props,d,f),{role:"img"}),T.createElement(Z1e,Lf({option:p,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return T.createElement(Sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=i.map(function(m,g){var v=f&&f[g];if(v){var x=Xt(v.cx,m.cx),b=Xt(v.cy,m.cy),_=Xt(v.size,m.size);return fa(fa({},m),{},{cx:x(p),cy:b(p),size:_(p)})}var j=Xt(0,m.size);return fa(fa({},m),{},{size:j(p)})});return T.createElement(Ze,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,s=this.state.prevPoints;return i&&a&&a.length&&(!s||!wo(s,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,s=a.xAxis,l=a.yAxis,c=a.children,u=jn(c,kd);return u?u.map(function(d,f){var h=d.props,p=h.direction,y=h.dataKey;return T.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(i[f]),data:i,xAxis:s,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:Bt(g,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,s=n.lineType,l=n.lineJointType,c=Oe(this.props,!1),u=Oe(i,!1),d,f;if(s==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var h=HZ(a),p=h.xmin,y=h.xmax,m=h.a,g=h.b,v=function(_){return m*_+g};d=[{x:p,y:v(p)},{x:y,y:v(y)}]}var x=fa(fa(fa({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return T.isValidElement(i)?f=T.cloneElement(i,x):ze(i)?f=i(x):f=T.createElement(ho,Lf({},x,{type:l})),T.createElement(Ze,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,s=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,y=n.id,m=n.isAnimationActive;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Ke("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,j=Fe(y)?this.id:y;return T.createElement(Ze,{className:v,clipPath:_?"url(#clipPath-".concat(j,")"):null},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(j)},T.createElement("rect",{x:x?d:d-h/2,y:b?f:f-p/2,width:x?h:h*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),T.createElement(Ze,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(w.PureComponent);Js(Ix,"displayName","Scatter");Js(Ix,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Js(Ix,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,s=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=jn(a.props.children,_p),f=Fe(t.dataKey)?a.props.dataKey:t.dataKey,h=Fe(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:Mx.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var j=Bt(b,f),S=Bt(b,h),C=!Fe(p)&&Bt(b,p)||"-",N=[{name:Fe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:f,type:u},{name:Fe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:p,type:u});var P=Pu({axis:t,ticks:s,bandSize:g,entry:b,index:_,dataKey:f}),E=Pu({axis:r,ticks:l,bandSize:v,entry:b,index:_,dataKey:h}),k=C!=="-"?n.scale(C):m,A=Math.sqrt(Math.max(k,0)/Math.PI);return fa(fa({},b),{},{cx:P,cy:E,x:P-A,y:E-A,xAxis:t,yAxis:r,zAxis:n,width:2*A,height:2*A,size:k,node:{x:j,y:S,z:C},tooltipPayload:N,tooltipPosition:{x:P,y:E},payload:b},d&&d[_]&&d[_].props)});return fa({points:x},c)});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function cje(e,t,r){return t&&lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uje(e,t,r){return t=Bg(t),dje(e,bF()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function dje(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(e)}function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function hje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mj(e,t)}function wF(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=pje(e,"string");return Vu(t)=="symbol"?t:t+""}function pje(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(this,arguments)}function mje(e){var t=e.xAxisId,r=DC(),n=LC(),a=Q4(t);return a==null?null:w.createElement(Od,Ij({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ji(s,!0)}}))}var lr=function(e){function t(){return oje(this,t),uje(this,t,arguments)}return hje(t,e),cje(t,[{key:"render",value:function(){return w.createElement(mje,this.props)}}])}(w.Component);wF(lr,"displayName","XAxis");wF(lr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function yje(e,t,r){return t&&gje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xje(e,t,r){return t=zg(t),bje(e,_F()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function bje(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(e)}function wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function jje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dj(e,t)}function SF(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=_je(e,"string");return Wu(t)=="symbol"?t:t+""}function _je(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lj.apply(this,arguments)}var Sje=function(t){var r=t.yAxisId,n=DC(),a=LC(),i=J4(r);return i==null?null:w.createElement(Od,Lj({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ji(l,!0)}}))},cr=function(e){function t(){return vje(this,t),xje(this,t,arguments)}return jje(t,e),yje(t,[{key:"render",value:function(){return w.createElement(Sje,this.props)}}])}(w.Component);SF(cr,"displayName","YAxis");SF(cr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IT(e){return Eje(e)||Pje(e)||Nje(e)||Cje()}function Cje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nje(e,t){if(e){if(typeof e=="string")return Fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fj(e,t)}}function Pje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eje(e){if(Array.isArray(e))return Fj(e)}function Fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bj=function(t,r,n,a,i){var s=jn(t,BC),l=jn(t,Tx),c=[].concat(IT(s),IT(l)),u=jn(t,$x),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[d]===n&&Pi(g.props,"extendDomain")&&fe(g.props[f])){var v=g.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&Pi(g.props,"extendDomain")&&fe(g.props[p])&&fe(g.props[y])){var v=g.props[p],x=g.props[y];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,g){return fe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},NF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,x,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];g.fn.apply(g.context,x)}else{var _=g.length,j;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,d);break;case 3:g[b].fn.call(g[b].context,d,f);break;case 4:g[b].fn.call(g[b].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(v-1);j<v;j++)x[j-1]=arguments[j];g[b].fn.apply(g[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(NF);var Aje=NF.exports;const kje=xt(Aje);var wb=new kje,jb="recharts.syncMouseEvents";function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function Rje(e,t,r){return t&&Tje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _b(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=$je(e,"string");return np(t)=="symbol"?t:t+""}function $je(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mje=function(){function e(){Oje(this,e),_b(this,"activeIndex",0),_b(this,"coordinateList",[]),_b(this,"layout","horizontal")}return Rje(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ije(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function Dje(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function EF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Rt(t,r,n,a),l=Rt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Lje(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Rt(l,c,u,f),p=Rt(l,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return EF(t);return[{x:n,y:a},{x:i,y:s}]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Fje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fje(e,t,r){return t=Bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bje(e){var t=zje(e,"string");return ap(t)=="symbol"?t:t+""}function zje(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uje(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var y,m=ho;if(h==="ScatterChart")y=s,m=Oye;else if(h==="BarChart")y=Dje(f,s,c,d),m=RC;else if(f==="radial"){var g=EF(s),v=g.cx,x=g.cy,b=g.radius,_=g.startAngle,j=g.endAngle;y={cx:v,cy:x,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},m=g4}else y={points:Lje(f,s,c)},m=ho;var S=Sm(Sm(Sm(Sm({stroke:"#ccc",pointerEvents:"none"},c),y),Oe(p,!1)),{},{payload:l,payloadIndex:u,className:Ke("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,S):w.createElement(m,S)}var Vje=["item"],Wje=["children","className","width","height","style","compact","title","desc"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function LT(e,t){return Kje(e)||qje(e,t)||kF(e,t)||Hje()}function Hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Kje(e){if(Array.isArray(e))return e}function FT(e,t){if(e==null)return{};var r=Gje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function Qje(e,t,r){return t&&Xje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jje(e,t,r){return t=Ug(t),Zje(e,AF()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function Zje(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(e)}function e_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function t_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zj(e,t)}function qu(e){return a_e(e)||n_e(e)||kF(e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(e,t){if(e){if(typeof e=="string")return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}}function n_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a_e(e){if(Array.isArray(e))return Uj(e)}function Uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ve(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=i_e(e,"string");return Hu(t)=="symbol"?t:t+""}function i_e(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s_e={xAxis:["bottom","top"],yAxis:["left","right"]},o_e={width:"100%",height:"100%"},TF={x:0,y:0};function Cm(e){return e}var l_e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},c_e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return re(re(re({},a),Rt(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return re(re(re({},a),Rt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return TF},Dx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(qu(l),qu(u)):l},[]);return s.length>0?s:t&&t.length&&fe(a)&&fe(i)?t.slice(a,i+1):[]};function RF(e){return e==="number"?[0,"auto"]:void 0}var Vj=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Dx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=Fv(p,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(qu(c),[d4(u,h)]):c},[])},zT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=l_e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=tme(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Vj(t,r,d,f),p=c_e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},u_e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=i4(d,i);return n.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?re(re({},m.type.defaultProps),m.props):m.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,j=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,N=v.includeHidden,P=v[s];if(y[P])return y;var E=Dx(t.data,{graphicalItems:a.filter(function(G){var F,J=s in G.props?G.props[s]:(F=G.type.defaultProps)===null||F===void 0?void 0:F[s];return J===P}),dataStartIndex:c,dataEndIndex:u}),k=E.length,A,R,O;Ije(v.domain,_,x)&&(A=ej(v.domain,null,_),p&&(x==="number"||S!=="auto")&&(O=Tf(E,b,"category")));var I=RF(x);if(!A||A.length===0){var $,M=($=v.domain)!==null&&$!==void 0?$:I;if(b){if(A=Tf(E,b,x),x==="category"&&p){var D=WZ(A);j&&D?(R=A,A=Ng(0,k)):j||(A=iO(M,A,m).reduce(function(G,F){return G.indexOf(F)>=0?G:[].concat(qu(G),[F])},[]))}else if(x==="category")j?A=A.filter(function(G){return G!==""&&!Fe(G)}):A=iO(M,A,m).reduce(function(G,F){return G.indexOf(F)>=0||F===""||Fe(F)?G:[].concat(qu(G),[F])},[]);else if(x==="number"){var L=sme(E,a.filter(function(G){var F,J,U=s in G.props?G.props[s]:(F=G.type.defaultProps)===null||F===void 0?void 0:F[s],V="hide"in G.props?G.props.hide:(J=G.type.defaultProps)===null||J===void 0?void 0:J.hide;return U===P&&(N||!V)}),b,i,d);L&&(A=L)}p&&(x==="number"||S!=="auto")&&(O=Tf(E,b,"category"))}else p?A=Ng(0,k):l&&l[P]&&l[P].hasStack&&x==="number"?A=h==="expand"?[0,1]:u4(l[P].stackGroups,c,u):A=a4(E,a.filter(function(G){var F=s in G.props?G.props[s]:G.type.defaultProps[s],J="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return F===P&&(N||!J)}),x,d,!0);if(x==="number")A=Bj(f,A,P,i,C),M&&(A=ej(M,A,_));else if(x==="category"&&M){var z=M,X=A.every(function(G){return z.indexOf(G)>=0});X&&(A=z)}}return re(re({},y),{},Ve({},P,re(re({},v),{},{axisType:i,domain:A,categoricalDomain:O,duplicateDomain:R,originalDomain:(g=v.domain)!==null&&g!==void 0?g:I,isCategorical:p,layout:d})))},{})},d_e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Dx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=i4(d,i),m=-1;return n.reduce(function(g,v){var x=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,b=x[s],_=RF("number");if(!g[b]){m++;var j;return y?j=Ng(0,p):l&&l[b]&&l[b].hasStack?(j=u4(l[b].stackGroups,c,u),j=Bj(f,j,b,i)):(j=ej(_,a4(h,n.filter(function(S){var C,N,P=s in S.props?S.props[s]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[s],E="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===b&&!E}),"number",d),a.defaultProps.allowDataOverflow),j=Bj(f,j,b,i)),re(re({},g),{},Ve({},b,re(re({axisType:i},a.defaultProps),{},{hide:!0,orientation:ra(s_e,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:_,isCategorical:y,layout:d})))}return g},{})},f_e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=jn(d,i),p={};return h&&h.length?p=u_e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=d_e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},h_e=function(t){var r=zs(t),n=Ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hg(r,n)}},UT=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gn(r,Ru),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},p_e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ts(r&&r.type);return n&&n.indexOf("Bar")>=0})},VT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},m_e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Gn(f,Ru),y=Gn(f,Gr),m=Object.keys(c).reduce(function(j,S){var C=c[S],N=C.orientation;return!C.mirror&&!C.hide?re(re({},j),{},Ve({},N,j[N]+C.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(j,S){var C=s[S],N=C.orientation;return!C.mirror&&!C.hide?re(re({},j),{},Ve({},N,ra(j,"".concat(N))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),v=re(re({},g),m),x=v.bottom;p&&(v.bottom+=p.props.height||Ru.defaultProps.height),y&&r&&(v=ame(v,a,n,r));var b=u-v.left-v.right,_=d-v.top-v.bottom;return re(re({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},v_e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ap=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,j=x.offset,S=x.updateId,C=x.dataStartIndex,N=x.dataEndIndex,P=v.barSize,E=v.layout,k=v.barGap,A=v.barCategoryGap,R=v.maxBarSize,O=VT(E),I=O.numericAxisName,$=O.cateAxisName,M=p_e(b),D=[];return b.forEach(function(L,z){var X=Dx(v.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:N}),G=L.type.defaultProps!==void 0?re(re({},L.type.defaultProps),L.props):L.props,F=G.dataKey,J=G.maxBarSize,U=G["".concat(I,"Id")],V=G["".concat($,"Id")],W={},de=c.reduce(function(K,Z){var ne=x["".concat(Z.axisType,"Map")],ue=G["".concat(Z.axisType,"Id")];ne&&ne[ue]||Z.axisType==="zAxis"||kl();var ce=ne[ue];return re(re({},K),{},Ve(Ve({},Z.axisType,ce),"".concat(Z.axisType,"Ticks"),Ji(ce)))},W),Q=de[$],te=de["".concat($,"Ticks")],q=_&&_[U]&&_[U].hasStack&&mme(L,_[U].stackGroups),H=ts(L.type).indexOf("Bar")>=0,ve=hg(Q,te),ge=[],Ae=M&&rme({barSize:P,stackGroups:_,totalSize:v_e(de,$)});if(H){var Le,Ye,$t=Fe(J)?R:J,Gt=(Le=(Ye=hg(Q,te,!0))!==null&&Ye!==void 0?Ye:$t)!==null&&Le!==void 0?Le:0;ge=nme({barGap:k,barCategoryGap:A,bandSize:Gt!==ve?Gt:ve,sizeList:Ae[V],maxBarSize:$t}),Gt!==ve&&(ge=ge.map(function(K){return re(re({},K),{},{position:re(re({},K.position),{},{offset:K.position.offset-Gt/2})})}))}var B=L&&L.type&&L.type.getComposedData;B&&D.push({props:re(re({},B(re(re({},de),{},{displayedData:X,props:v,dataKey:F,item:L,bandSize:ve,barPosition:ge,offset:j,stackedData:q,layout:E,dataStartIndex:C,dataEndIndex:N}))),{},Ve(Ve(Ve({key:L.key||"item-".concat(z)},I,de[I]),$,de[$]),"animationId",S)),childIndex:nee(L,v.children),item:L})}),D},p=function(v,x){var b=v.props,_=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!ZE({props:b}))return null;var C=b.children,N=b.layout,P=b.stackOffset,E=b.data,k=b.reverseStackOrder,A=VT(N),R=A.numericAxisName,O=A.cateAxisName,I=jn(C,n),$=hme(E,I,"".concat(R,"Id"),"".concat(O,"Id"),P,k),M=c.reduce(function(G,F){var J="".concat(F.axisType,"Map");return re(re({},G),{},Ve({},J,f_e(b,re(re({},F),{},{graphicalItems:I,stackGroups:F.axisType===R&&$,dataStartIndex:_,dataEndIndex:j}))))},{}),D=m_e(re(re({},M),{},{props:b,graphicalItems:I}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(G){M[G]=d(b,M[G],D,G.replace("Map",""),r)});var L=M["".concat(O,"Map")],z=h_e(L),X=h(b,re(re({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:I,stackGroups:$,offset:D}));return re(re({formattedGraphicalItems:X,graphicalItems:I,offset:D,stackGroups:$},z),M)},y=function(g){function v(x){var b,_,j;return Yje(this,v),j=Jje(this,v,[x]),Ve(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(j,"accessibilityManager",new Mje),Ve(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,N=C.dataStartIndex,P=C.dataEndIndex,E=C.updateId;j.setState(re({legendBBox:S},p({props:j.props,dataStartIndex:N,dataEndIndex:P,updateId:E},re(re({},j.state),{},{legendBBox:S}))))}}),Ve(j,"handleReceiveSyncEvent",function(S,C,N){if(j.props.syncId===S){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Ve(j,"handleBrushChange",function(S){var C=S.startIndex,N=S.endIndex;if(C!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var P=j.state.updateId;j.setState(function(){return re({dataStartIndex:C,dataEndIndex:N},p({props:j.props,dataStartIndex:C,dataEndIndex:N,updateId:P},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),Ve(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var N=re(re({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var P=j.props.onMouseEnter;ze(P)&&P(N,S)}}),Ve(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),N=C?re(re({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var P=j.props.onMouseMove;ze(P)&&P(N,S)}),Ve(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ve(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ve(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ve(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var N=j.props.onMouseLeave;ze(N)&&N(C,S)}),Ve(j,"handleOuterEvent",function(S){var C=ree(S),N=ra(j.props,"".concat(C));if(C&&ze(N)){var P,E;/.*touch.*/i.test(C)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),N((P=E)!==null&&P!==void 0?P:{},S)}}),Ve(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var N=re(re({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var P=j.props.onClick;ze(P)&&P(N,S)}}),Ve(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ve(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ve(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ve(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&wb.emit(jb,j.props.syncId,S,j.eventEmitterSymbol)}),Ve(j,"applySyncEvent",function(S){var C=j.props,N=C.layout,P=C.syncMethod,E=j.state.updateId,k=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(re({dataStartIndex:k,dataEndIndex:A},p({props:j.props,dataStartIndex:k,dataEndIndex:A,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,O=S.chartY,I=S.activeTooltipIndex,$=j.state,M=$.offset,D=$.tooltipTicks;if(!M)return;if(typeof P=="function")I=P(D,S);else if(P==="value"){I=-1;for(var L=0;L<D.length;L++)if(D[L].value===S.activeLabel){I=L;break}}var z=re(re({},M),{},{x:M.left,y:M.top}),X=Math.min(R,z.x+z.width),G=Math.min(O,z.y+z.height),F=D[I]&&D[I].value,J=Vj(j.state,j.props.data,I),U=D[I]?{x:N==="horizontal"?D[I].coordinate:X,y:N==="horizontal"?G:D[I].coordinate}:TF;j.setState(re(re({},S),{},{activeLabel:F,activeCoordinate:U,activePayload:J,activeTooltipIndex:I}))}else j.setState(S)}),Ve(j,"renderCursor",function(S){var C,N=j.state,P=N.isTooltipActive,E=N.activeCoordinate,k=N.activePayload,A=N.offset,R=N.activeTooltipIndex,O=N.tooltipAxisBandSize,I=j.getTooltipEventType(),$=(C=S.props.active)!==null&&C!==void 0?C:P,M=j.props.layout,D=S.key||"_recharts-cursor";return T.createElement(Uje,{key:D,activeCoordinate:E,activePayload:k,activeTooltipIndex:R,chartName:r,element:S,isActive:$,layout:M,offset:A,tooltipAxisBandSize:O,tooltipEventType:I})}),Ve(j,"renderPolarAxis",function(S,C,N){var P=ra(S,"type.axisType"),E=ra(j.state,"".concat(P,"Map")),k=S.type.defaultProps,A=k!==void 0?re(re({},k),S.props):S.props,R=E&&E[A["".concat(P,"Id")]];return w.cloneElement(S,re(re({},R),{},{className:Ke(P,R.className),key:S.key||"".concat(C,"-").concat(N),ticks:Ji(R,!0)}))}),Ve(j,"renderPolarGrid",function(S){var C=S.props,N=C.radialLines,P=C.polarAngles,E=C.polarRadius,k=j.state,A=k.radiusAxisMap,R=k.angleAxisMap,O=zs(A),I=zs(R),$=I.cx,M=I.cy,D=I.innerRadius,L=I.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(P)?P:Ji(I,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(E)?E:Ji(O,!0).map(function(z){return z.coordinate}),cx:$,cy:M,innerRadius:D,outerRadius:L,key:S.key||"polar-grid",radialLines:N})}),Ve(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,N=C.children,P=C.width,E=C.height,k=j.props.margin||{},A=P-(k.left||0)-(k.right||0),R=r4({children:N,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!R)return null;var O=R.item,I=FT(R,Vje);return w.cloneElement(O,re(re({},I),{},{chartWidth:P,chartHeight:E,margin:k,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ve(j,"renderTooltip",function(){var S,C=j.props,N=C.children,P=C.accessibilityLayer,E=Gn(N,Ft);if(!E)return null;var k=j.state,A=k.isTooltipActive,R=k.activeCoordinate,O=k.activePayload,I=k.activeLabel,$=k.offset,M=(S=E.props.active)!==null&&S!==void 0?S:A;return w.cloneElement(E,{viewBox:re(re({},$),{},{x:$.left,y:$.top}),active:M,label:I,payload:M?O:[],coordinate:R,accessibilityLayer:P})}),Ve(j,"renderBrush",function(S){var C=j.props,N=C.margin,P=C.data,E=j.state,k=E.offset,A=E.dataStartIndex,R=E.dataEndIndex,O=E.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:bm(j.handleBrushChange,S.props.onChange),data:P,x:fe(S.props.x)?S.props.x:k.left,y:fe(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(N.bottom||0),width:fe(S.props.width)?S.props.width:k.width,startIndex:A,endIndex:R,updateId:"brush-".concat(O)})}),Ve(j,"renderReferenceElement",function(S,C,N){if(!S)return null;var P=j,E=P.clipPathId,k=j.state,A=k.xAxisMap,R=k.yAxisMap,O=k.offset,I=S.type.defaultProps||{},$=S.props,M=$.xAxisId,D=M===void 0?I.xAxisId:M,L=$.yAxisId,z=L===void 0?I.yAxisId:L;return w.cloneElement(S,{key:S.key||"".concat(C,"-").concat(N),xAxis:A[D],yAxis:R[z],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:E})}),Ve(j,"renderActivePoints",function(S){var C=S.item,N=S.activePoint,P=S.basePoint,E=S.childIndex,k=S.isRange,A=[],R=C.props.key,O=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,I=O.activeDot,$=O.dataKey,M=re(re({index:E,dataKey:$,cx:N.x,cy:N.y,r:4,fill:TC(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Oe(I,!1)),Bv(I));return A.push(v.renderActiveDot(I,M,"".concat(R,"-activePoint-").concat(E))),P?A.push(v.renderActiveDot(I,re(re({},M),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(E))):k&&A.push(null),A}),Ve(j,"renderGraphicChild",function(S,C,N){var P=j.filterFormatItem(S,C,N);if(!P)return null;var E=j.getTooltipEventType(),k=j.state,A=k.isTooltipActive,R=k.tooltipAxis,O=k.activeTooltipIndex,I=k.activeLabel,$=j.props.children,M=Gn($,Ft),D=P.props,L=D.points,z=D.isRange,X=D.baseLine,G=P.item.type.defaultProps!==void 0?re(re({},P.item.type.defaultProps),P.item.props):P.item.props,F=G.activeDot,J=G.hide,U=G.activeBar,V=G.activeShape,W=!!(!J&&A&&M&&(F||U||V)),de={};E!=="axis"&&M&&M.props.trigger==="click"?de={onClick:bm(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(de={onMouseLeave:bm(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:bm(j.handleItemMouseEnter,S.props.onMouseEnter)});var Q=w.cloneElement(S,re(re({},P.props),de));function te(Z){return typeof R.dataKey=="function"?R.dataKey(Z.payload):null}if(W)if(O>=0){var q,H;if(R.dataKey&&!R.allowDuplicatedCategory){var ve=typeof R.dataKey=="function"?te:"payload.".concat(R.dataKey.toString());q=Fv(L,ve,I),H=z&&X&&Fv(X,ve,I)}else q=L==null?void 0:L[O],H=z&&X&&X[O];if(V||U){var ge=S.props.activeIndex!==void 0?S.props.activeIndex:O;return[w.cloneElement(S,re(re(re({},P.props),de),{},{activeIndex:ge})),null,null]}if(!Fe(q))return[Q].concat(qu(j.renderActivePoints({item:P,activePoint:q,basePoint:H,childIndex:O,isRange:z})))}else{var Ae,Le=(Ae=j.getItemByXY(j.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:Q},Ye=Le.graphicalItem,$t=Ye.item,Gt=$t===void 0?S:$t,B=Ye.childIndex,K=re(re(re({},P.props),de),{},{activeIndex:B});return[w.cloneElement(Gt,K),null,null]}return z?[Q,null,null]:[Q,null]}),Ve(j,"renderCustomized",function(S,C,N){return w.cloneElement(S,re(re({key:"recharts-customized-".concat(N)},j.props),j.state))}),Ve(j,"renderMap",{CartesianGrid:{handler:Cm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Cm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Cm},YAxis:{handler:Cm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Ao("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=tL(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return t_e(v,g),Qje(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,C=b.layout,N=Gn(_,Ft);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=Vj(this.state,j,P,E),A=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+S)/2,O=C==="horizontal",I=O?{x:A,y:R}:{y:A,x:R},$=this.state.formattedGraphicalItems.find(function(D){var L=D.item;return L.type.name==="Scatter"});$&&(I=re(re({},I),$.props.points[P].tooltipPosition),k=$.props.points[P].tooltipPayload);var M={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:E,activePayload:k,activeCoordinate:I};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){m1([Gn(b.children,Ft)],[Gn(this.props.children,Ft)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Gn(this.props.children,Ft);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Aue(j),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},N=j.width/_.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,N);if(!P)return null;var E=this.state,k=E.xAxisMap,A=E.yAxisMap,R=this.getTooltipEventType(),O=zT(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&k&&A){var I=zs(k).scale,$=zs(A).scale,M=I&&I.invert?I.invert(C.chartX):null,D=$&&$.invert?$.invert(C.chartY):null;return re(re({},C),{},{xValue:M,yValue:D},O)}return O?re(re({},C),O):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/j,N=_/j;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,E=C>=P.left&&C<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return E?{x:C,y:N}:null}var k=this.state,A=k.angleAxisMap,R=k.radiusAxisMap;if(A&&R){var O=zs(A);return lO({x:C,y:N},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=Gn(b,Ft),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Bv(this.props,this.handleOuterEvent);return re(re({},C),S)}},{key:"addListener",value:function(){wb.on(jb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wb.removeListener(jb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,C=0,N=S.length;C<N;C++){var P=S[C];if(P.item===b||P.props.key===b.key||_===ts(P.item.type)&&j===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,C=_.height,N=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:j,y:S,height:C,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=LT(j,2),C=S[0],N=S[1];return re(re({},_),{},Ve({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=LT(j,2),C=S[0],N=S[1];return re(re({},_),{},Ve({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var C=0,N=j.length;C<N;C++){var P=j[C],E=P.props,k=P.item,A=k.type.defaultProps!==void 0?re(re({},k.type.defaultProps),k.props):k.props,R=ts(k.type);if(R==="Bar"){var O=(E.data||[]).find(function(D){return dye(b,D)});if(O)return{graphicalItem:P,payload:O}}else if(R==="RadialBar"){var I=(E.data||[]).find(function(D){return lO(b,D)});if(I)return{graphicalItem:P,payload:I}}else if(Px(P,S)||Ex(P,S)||Jh(P,S)){var $=Zxe({graphicalItem:P,activeTooltipItem:S,itemData:A.data}),M=A.activeIndex===void 0?$:A.activeIndex;return{graphicalItem:re(re({},P),{},{childIndex:M}),payload:Jh(P,S)?A.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!ZE(this))return null;var _=this.props,j=_.children,S=_.className,C=_.width,N=_.height,P=_.style,E=_.compact,k=_.title,A=_.desc,R=FT(_,Wje),O=Oe(R,!1);if(E)return T.createElement(vT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(g1,Rc({},O,{width:C,height:N,title:k,desc:A}),this.renderClipPath(),tA(j,this.renderMap)));if(this.props.accessibilityLayer){var I,$;O.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,O.role=($=this.props.role)!==null&&$!==void 0?$:"application",O.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},O.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return T.createElement(vT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",Rc({className:Ke("recharts-wrapper",S),style:re({position:"relative",cursor:"default",width:C,height:N},P)},M,{ref:function(L){b.container=L}}),T.createElement(g1,Rc({},O,{width:C,height:N,title:k,desc:A,style:o_e}),this.renderClipPath(),tA(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Ve(y,"displayName",r),Ve(y,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ve(y,"getDerivedStateFromProps",function(g,v){var x=g.dataKey,b=g.data,_=g.children,j=g.width,S=g.height,C=g.layout,N=g.stackOffset,P=g.margin,E=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var A=UT(g);return re(re(re({},A),{},{updateId:0},p(re(re({props:g},A),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||N!==v.prevStackOffset||!Wc(P,v.prevMargin)){var R=UT(g),O={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},I=re(re({},zT(v,b,C)),{},{updateId:v.updateId+1}),$=re(re(re({},R),O),I);return re(re(re({},$),p(re({props:g},$),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(!m1(_,v.prevChildren)){var M,D,L,z,X=Gn(_,Ru),G=X&&(M=(D=X.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:E,F=X&&(L=(z=X.props)===null||z===void 0?void 0:z.endIndex)!==null&&L!==void 0?L:k,J=G!==E||F!==k,U=!Fe(b),V=U&&!J?v.updateId:v.updateId+1;return re(re({updateId:V},p(re(re({props:g},v),{},{updateId:V,dataStartIndex:G,dataEndIndex:F}),v)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:F})}return null}),Ve(y,"renderActiveDot",function(g,v,x){var b;return w.isValidElement(g)?b=w.cloneElement(g,v):ze(g)?b=g(v):b=T.createElement(Ep,v),T.createElement(Ze,{className:"recharts-active-dot",key:x},b)});var m=w.forwardRef(function(v,x){return T.createElement(y,Rc({},v,{ref:x}))});return m.displayName=y.displayName,m},$F=Ap({chartName:"LineChart",GraphicalChild:Mn,axisComponents:[{axisType:"xAxis",AxisComp:lr},{axisType:"yAxis",AxisComp:cr}],formatAxisMap:kx}),Td=Ap({chartName:"BarChart",GraphicalChild:qt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lr},{axisType:"yAxis",AxisComp:cr}],formatAxisMap:kx}),g_e=Ap({chartName:"PieChart",GraphicalChild:ws,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nx},{axisType:"radiusAxis",AxisComp:Sx}],formatAxisMap:Cme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),MF=Ap({chartName:"AreaChart",GraphicalChild:na,axisComponents:[{axisType:"xAxis",AxisComp:lr},{axisType:"yAxis",AxisComp:cr}],formatAxisMap:kx}),kp=Ap({chartName:"ComposedChart",GraphicalChild:[Mn,na,qt,Ix],axisComponents:[{axisType:"xAxis",AxisComp:lr},{axisType:"yAxis",AxisComp:cr},{axisType:"zAxis",AxisComp:Mx}],formatAxisMap:kx});function y_e({products:e,years:t}){const r=t.map(a=>{const i={year:a};return e.forEach(s=>{const l=s.volumesByYear[a]||0;i[s.name]=l*s.priceHT/1e3}),i}),n=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)"];return o.jsx(Ue,{title:"CA par Produit",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(Td,{data:r,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:a=>`${a}k`}),o.jsx(Ft,{formatter:a=>`${a.toFixed(0)}k`}),o.jsx(Gr,{}),e.map((a,i)=>o.jsx(qt,{dataKey:a.name,stackId:"a",fill:n[i%n.length]},a.id))]})})})})}function Rd({pageTitle:e,fileName:t}){const r=()=>{window.print()};return o.jsxs(ae,{variant:"outline",size:"sm",onClick:r,children:[o.jsx(Sy,{className:"h-4 w-4 mr-1"}),"PDF"]})}const x_e=w.createContext(!1);function js({children:e,tabKey:t}){const{getTabPermission:r}=Ca(),a=r(t)==="read";return o.jsx(x_e.Provider,{value:a,children:o.jsxs("div",{className:a?"read-only-mode":"",children:[a&&o.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}var Sb="rovingFocusGroup.onEntryFocus",b_e={bubbles:!1,cancelable:!0},Op="RovingFocusGroup",[Wj,IF,w_e]=wy(Op),[j_e,Lx]=Cn(Op,[w_e]),[__e,S_e]=j_e(Op),DF=w.forwardRef((e,t)=>o.jsx(Wj.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Wj.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(C_e,{...e,ref:t})})}));DF.displayName=Op;var C_e=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),p=Ge(t,h),y=hd(i),[m,g]=Fn({prop:s,defaultProp:l??null,onChange:c,caller:Op}),[v,x]=w.useState(!1),b=Pr(u),_=IF(r),j=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Sb,b),()=>N.removeEventListener(Sb,b)},[b]),o.jsx(__e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:w.useCallback(N=>g(N),[g]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:w.useCallback(()=>C(N=>N-1),[]),children:o.jsx(Te.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{j.current=!0}),onFocus:je(e.onFocus,N=>{const P=!j.current;if(N.target===N.currentTarget&&P&&!v){const E=new CustomEvent(Sb,b_e);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const k=_().filter($=>$.focusable),A=k.find($=>$.active),R=k.find($=>$.id===m),I=[A,R,...k].filter(Boolean).map($=>$.ref.current);BF(I,d)}}j.current=!1}),onBlur:je(e.onBlur,()=>x(!1))})})}),LF="RovingFocusGroupItem",FF=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=Si(),u=i||c,d=S_e(LF,r),f=d.currentTabStopId===u,h=IF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Wj.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(Te.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:je(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:je(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:je(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=E_e(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=d.loop?A_e(b,_+1):b.slice(_+1)}setTimeout(()=>BF(b))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});FF.displayName=LF;var N_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function E_e(e,t,r){const n=P_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return N_e[n]}function BF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function A_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zF=DF,UF=FF,Fx="Tabs",[k_e,oOe]=Cn(Fx,[Lx]),VF=Lx(),[O_e,VC]=k_e(Fx),WF=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=hd(l),[f,h]=Fn({prop:n,onChange:a,defaultProp:i??"",caller:Fx});return o.jsx(O_e,{scope:r,baseId:Si(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Te.div,{dir:d,"data-orientation":s,...u,ref:t})})});WF.displayName=Fx;var HF="TabsList",qF=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=VC(HF,r),s=VF(r);return o.jsx(zF,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});qF.displayName=HF;var KF="TabsTrigger",GF=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=VC(KF,r),l=VF(r),c=QF(s.baseId,n),u=JF(s.baseId,n),d=n===s.value;return o.jsx(UF,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:je(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:je(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});GF.displayName=KF;var YF="TabsContent",XF=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=VC(YF,r),c=QF(l.baseId,n),u=JF(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Bn,{present:a||d,children:({present:h})=>o.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});XF.displayName=YF;function QF(e,t){return`${e}-trigger-${t}`}function JF(e,t){return`${e}-content-${t}`}var T_e=WF,ZF=qF,eB=GF,tB=XF;const Ea=T_e,la=w.forwardRef(({className:e,...t},r)=>o.jsx(ZF,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));la.displayName=ZF.displayName;const ut=w.forwardRef(({className:e,...t},r)=>o.jsx(eB,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ut.displayName=eB.displayName;const mt=w.forwardRef(({className:e,...t},r)=>o.jsx(tB,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mt.displayName=tB.displayName;const R_e=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function $_e(){var x;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:s,updateGlobalRevenueConfig:l}=$i(),c=e.scenarioSettings,u=Array.from({length:c.durationYears},(b,_)=>c.startYear+_),d=b=>{n(b)},f=b=>{const _=e.products.map(j=>j.id===b.id?b:j);r(_)},h=(b,_,j)=>{const S=e.products.map(C=>C.id!==b?C:{...C,volumesByYear:{...C.volumesByYear,[_]:j}});r(S)},p=t.totalDevCost,y=u[u.length-1],m=((x=t.revenueByYear.find(b=>b.year===y))==null?void 0:x.revenue)||0,g=t.revenueByYear.length>0?t.revenueByYear.reduce((b,_)=>b+(_.revenue>0?(_.revenue-_.cogs)/_.revenue:0),0)/t.revenueByYear.length:0,v=u.map(b=>{const _=t.revenueByYear.find(j=>j.year===b);return{year:b,revenue:((_==null?void 0:_.revenue)||0)/1e3,cogs:((_==null?void 0:_.cogs)||0)/1e3,margin:(((_==null?void 0:_.revenue)||0)-((_==null?void 0:_.cogs)||0))/1e3}});return o.jsx(js,{tabKey:"product-plan",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ae,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>s("by-product"),children:[o.jsx(q6,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),o.jsxs(ae,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>s("by-channel-global"),children:[o.jsx(oh,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Me,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Dtail produits":"Global canaux"}),o.jsx(Rd,{pageTitle:"Plan Produit",sections:R_e,fileName:"Plan_Produit"}),o.jsx(gd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(st,{label:"Investissement R&D",value:ee(p,!0),subValue:`${e.products.filter(b=>b.devCost>0).length} produits`}),o.jsx(st,{label:`CA ${y}`,value:ee(m,!0),subValue:"Projection",trend:"up"}),o.jsx(st,{label:"Marge Brute Moy.",value:Ar(g),subValue:"Sur la priode"}),o.jsx(st,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),o.jsx("div",{id:"product-revenue-chart",children:o.jsx(Ue,{title:"Projection du Chiffre d'Affaires",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(Td,{data:v,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:b=>`${b}k`}),o.jsx(Ft,{formatter:b=>`${b.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),o.jsx(qt,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),o.jsxs(Ea,{defaultValue:"visualization",className:"space-y-4",children:[o.jsxs(la,{children:[o.jsxs(ut,{value:"visualization",children:[o.jsx(I6,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),o.jsxs(ut,{value:"pricing",children:[o.jsx(_v,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),o.jsxs(ut,{value:"volumes",children:[o.jsx(gp,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&o.jsx(mt,{value:"visualization",children:o.jsx(bK,{config:e.globalRevenueConfig,onChange:l,years:u})}),e.revenueMode==="by-product"&&o.jsx(mt,{value:"visualization",children:o.jsx("div",{id:"product-revenue-viz",children:o.jsx(y_e,{products:e.products,years:u})})}),o.jsx(mt,{value:"pricing",children:e.revenueMode==="by-product"?o.jsx("div",{id:"product-pricing",children:o.jsx(cX,{products:e.products,onUpdateProduct:f,onAddProduct:d,onRemoveProduct:a})}):o.jsx(Ue,{title:"Pricing Produits",children:o.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[o.jsx(oh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),o.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,o.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),o.jsx(mt,{value:"volumes",children:o.jsx("div",{id:"product-volumes",children:o.jsxs(Ue,{title:"Volumes par Anne",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Saisissez les volumes de vente prvisionnels par produit et par anne."}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Cot Unit."}),u.map(b=>o.jsx(le,{className:"text-center",children:b},b)),o.jsx(le,{className:"text-right",children:"CA Total"})]})}),o.jsx(Wt,{children:e.products.map(b=>{const _=u.reduce((j,S)=>{const C=b.volumesByYear[S]||0;return j+C*b.priceHT},0);return o.jsxs(we,{children:[o.jsxs(Y,{children:[o.jsx("div",{className:"font-medium",children:b.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lancement: ",b.launchYear]})]}),o.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b.unitCost)}),u.map(j=>o.jsx(Y,{className:"text-center",children:j>=b.launchYear?o.jsx(be,{type:"number",value:b.volumesByYear[j]||0,onChange:S=>h(b.id,j,Number(S.target.value)),className:"h-8 w-20 mx-auto text-center"}):o.jsx("span",{className:"text-muted-foreground",children:"-"})},j)),o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(_,!0)})]},b.id)})})]})})]})})})]})]})})}const M_e=["R&D","Production","Sales","Support","Admin"];function I_e({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return o.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:M_e.map(a=>{const i=e.filter(s=>s.department===a);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Me,{variant:"outline",children:a}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>n(a),children:o.jsx(Or,{className:"h-3 w-3"})})]}),o.jsx("div",{className:"space-y-2",children:i.map(s=>o.jsx(dr,{className:"bg-muted/30",children:o.jsxs(fr,{className:"p-3",children:[o.jsx("div",{className:"text-sm font-medium",children:s.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.startYear,"  ",(s.annualCostLoaded/1e3).toFixed(0),"k"]}),o.jsxs("div",{className:"flex gap-1 mt-2",children:[o.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(s),children:o.jsx(fS,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(s.id),children:o.jsx(un,{className:"h-3 w-3"})})]})]})},s.id))})]},a)})})}var rB="Toggle",WC=w.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[s,l]=Fn({prop:r,onChange:a,defaultProp:n??!1,caller:rB});return o.jsx(Te.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:je(e.onClick,()=>{e.disabled||l(!s)})})});WC.displayName=rB;var nB=WC,Ro="ToggleGroup",[aB,lOe]=Cn(Ro,[Lx]),iB=Lx(),HC=T.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return o.jsx(D_e,{...a,ref:t})}if(r==="multiple"){const a=n;return o.jsx(L_e,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ro}\``)});HC.displayName=Ro;var[sB,oB]=aB(Ro),D_e=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,l]=Fn({prop:r,defaultProp:n??"",onChange:a,caller:Ro});return o.jsx(sB,{scope:e.__scopeToggleGroup,type:"single",value:T.useMemo(()=>s?[s]:[],[s]),onItemActivate:l,onItemDeactivate:T.useCallback(()=>l(""),[l]),children:o.jsx(lB,{...i,ref:t})})}),L_e=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,l]=Fn({prop:r,defaultProp:n??[],onChange:a,caller:Ro}),c=T.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=T.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(sB,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:o.jsx(lB,{...i,ref:t})})});HC.displayName=Ro;var[F_e,B_e]=aB(Ro),lB=T.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:s,loop:l=!0,...c}=e,u=iB(r),d=hd(s),f={role:"group",dir:d,...c};return o.jsx(F_e,{scope:r,rovingFocus:a,disabled:n,children:a?o.jsx(zF,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:o.jsx(Te.div,{...f,ref:t})}):o.jsx(Te.div,{...f,ref:t})})}),Vg="ToggleGroupItem",cB=T.forwardRef((e,t)=>{const r=oB(Vg,e.__scopeToggleGroup),n=B_e(Vg,e.__scopeToggleGroup),a=iB(e.__scopeToggleGroup),i=r.value.includes(e.value),s=n.disabled||e.disabled,l={...e,pressed:i,disabled:s},c=T.useRef(null);return n.rovingFocus?o.jsx(UF,{asChild:!0,...a,focusable:!s,active:i,ref:c,children:o.jsx(WT,{...l,ref:t})}):o.jsx(WT,{...l,ref:t})});cB.displayName=Vg;var WT=T.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=oB(Vg,r),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?s:void 0;return o.jsx(WC,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),uB=HC,dB=cB;const fB=ad("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),z_e=w.forwardRef(({className:e,variant:t,size:r,...n},a)=>o.jsx(nB,{ref:a,className:ie(fB({variant:t,size:r,className:e})),...n}));z_e.displayName=nB.displayName;const hB=w.createContext({size:"default",variant:"default"}),pB=w.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>o.jsx(uB,{ref:i,className:ie("flex items-center justify-center gap-1",e),...a,children:o.jsx(hB.Provider,{value:{variant:t,size:r},children:n})}));pB.displayName=uB.displayName;const Hj=w.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const s=w.useContext(hB);return o.jsx(dB,{ref:i,className:ie(fB({variant:s.variant||r,size:s.size||n}),e),...a,children:t})});Hj.displayName=dB.displayName;var Cb=0;function qC(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HT()),document.body.insertAdjacentElement("beforeend",e[1]??HT()),Cb++,()=>{Cb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cb--}},[])}function HT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nb="focusScope.autoFocusOnMount",Pb="focusScope.autoFocusOnUnmount",qT={bubbles:!1,cancelable:!0},U_e="FocusScope",Bx=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=w.useState(null),u=Pr(a),d=Pr(i),f=w.useRef(null),h=Ge(t,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Os(f.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Os(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Os(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),w.useEffect(()=>{if(l){GT.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Nb,qT);l.addEventListener(Nb,u),l.dispatchEvent(v),v.defaultPrevented||(V_e(G_e(mB(l)),{select:!0}),document.activeElement===m&&Os(l))}return()=>{l.removeEventListener(Nb,u),setTimeout(()=>{const v=new CustomEvent(Pb,qT);l.addEventListener(Pb,d),l.dispatchEvent(v),v.defaultPrevented||Os(m??document.body,{select:!0}),l.removeEventListener(Pb,d),GT.remove(p)},0)}}},[l,u,d,p]);const y=w.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const x=m.currentTarget,[b,_]=W_e(x);b&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&Os(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),r&&Os(_,{select:!0})):v===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Te.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});Bx.displayName=U_e;function V_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Os(n,{select:t}),document.activeElement!==r)return}function W_e(e){const t=mB(e),r=KT(t,e),n=KT(t.reverse(),e);return[r,n]}function mB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function KT(e,t){for(const r of e)if(!H_e(r,{upTo:t}))return r}function H_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function q_e(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&q_e(e)&&t&&e.select()}}var GT=K_e();function K_e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=YT(e,t),e.unshift(t)},remove(t){var r;e=YT(e,t),(r=e[0])==null||r.resume()}}}function YT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function G_e(e){return e.filter(t=>t.tagName!=="A")}var Y_e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tc=new WeakMap,Nm=new WeakMap,Pm={},Eb=0,vB=function(e){return e&&(e.host||vB(e.parentNode))},X_e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=vB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Q_e=function(e,t,r,n){var a=X_e(t,Array.isArray(e)?e:[e]);Pm[r]||(Pm[r]=new WeakMap);var i=Pm[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(tc.get(h)||0)+1,g=(i.get(h)||0)+1;tc.set(h,m),i.set(h,g),s.push(h),m===1&&y&&Nm.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),Eb++,function(){s.forEach(function(f){var h=tc.get(f)-1,p=i.get(f)-1;tc.set(f,h),i.set(f,p),h||(Nm.has(f)||f.removeAttribute(n),Nm.delete(f)),p||f.removeAttribute(r)}),Eb--,Eb||(tc=new WeakMap,tc=new WeakMap,Nm=new WeakMap,Pm={})}},KC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Y_e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Q_e(n,a,r,"aria-hidden")):function(){return null}},Xm="right-scroll-bar-position",Qm="width-before-scroll-bar",J_e="with-scroll-bars-hidden",Z_e="--removed-body-scroll-bar-size";function Ab(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eSe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var tSe=typeof window<"u"?w.useLayoutEffect:w.useEffect,XT=new WeakMap;function rSe(e,t){var r=eSe(null,function(n){return e.forEach(function(a){return Ab(a,n)})});return tSe(function(){var n=XT.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||Ab(l,null)}),i.forEach(function(l){a.has(l)||Ab(l,s)})}XT.set(r,e)},[e]),r}function nSe(e){return e}function aSe(e,t){t===void 0&&(t=nSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function iSe(e){e===void 0&&(e={});var t=aSe(null);return t.options=pi({async:!0,ssr:!1},e),t}var gB=function(e){var t=e.sideCar,r=md(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,pi({},r))};gB.isSideCarExport=!0;function sSe(e,t){return e.useMedium(t),gB}var yB=iSe(),kb=function(){},zx=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:kb,onWheelCapture:kb,onTouchMoveCapture:kb}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,_=md(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=rSe([r,t]),C=pi(pi({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:yB,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),s?w.cloneElement(w.Children.only(l),pi(pi({},C),{ref:S})):w.createElement(x,pi({},C,{className:c,ref:S}),l))});zx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zx.classNames={fullWidth:Qm,zeroRight:Xm};var oSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oSe();return t&&e.setAttribute("nonce",t),e}function cSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=lSe())&&(cSe(t,r),uSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fSe=function(){var e=dSe();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xB=function(){var e=fSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},hSe={left:0,top:0,right:0,gap:0},Ob=function(e){return parseInt(e||"",10)||0},pSe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ob(r),Ob(n),Ob(a)]},mSe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hSe;var t=pSe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},vSe=xB(),Kc="data-scroll-locked",gSe=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(J_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Kc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xm," .").concat(Xm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qm," .").concat(Qm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Kc,`] {
    `).concat(Z_e,": ").concat(l,`px;
  }
`)},QT=function(){var e=parseInt(document.body.getAttribute(Kc)||"0",10);return isFinite(e)?e:0},ySe=function(){w.useEffect(function(){return document.body.setAttribute(Kc,(QT()+1).toString()),function(){var e=QT()-1;e<=0?document.body.removeAttribute(Kc):document.body.setAttribute(Kc,e.toString())}},[])},xSe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;ySe();var i=w.useMemo(function(){return mSe(a)},[a]);return w.createElement(vSe,{styles:gSe(i,!t,a,r?"":"!important")})},qj=!1;if(typeof window<"u")try{var Em=Object.defineProperty({},"passive",{get:function(){return qj=!0,!0}});window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch{qj=!1}var rc=qj?{passive:!1}:!1,bSe=function(e){return e.tagName==="TEXTAREA"},bB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!bSe(e)&&r[t]==="visible")},wSe=function(e){return bB(e,"overflowY")},jSe=function(e){return bB(e,"overflowX")},JT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wB(e,n);if(a){var i=jB(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_Se=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},SSe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wB=function(e,t){return e==="v"?wSe(t):jSe(t)},jB=function(e,t){return e==="v"?_Se(t):SSe(t)},CSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},NSe=function(e,t,r,n,a){var i=CSe(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var p=jB(e,l),y=p[0],m=p[1],g=p[2],v=m-g-i*y;(y||v)&&wB(e,l)&&(f+=v,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Am=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ZT=function(e){return[e.deltaX,e.deltaY]},e2=function(e){return e&&"current"in e?e.current:e},PSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ESe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ASe=0,nc=[];function kSe(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(ASe++)[0],i=w.useState(xB)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=jK([e.lockRef.current],(e.shards||[]).map(e2),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=Am(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-v[0],_="deltaY"in m?m.deltaY:x[1]-v[1],j,S=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var N=JT(C,S);if(!N)return!0;if(N?j=C:(j=C==="v"?"h":"v",N=JT(C,S)),!N)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=j),!j)return!0;var P=n.current||j;return NSe(P,g,m,P==="h"?b:_,!0)},[]),c=w.useCallback(function(m){var g=m;if(!(!nc.length||nc[nc.length-1]!==i)){var v="deltaY"in g?ZT(g):Am(g),x=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&PSe(j.delta,v)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(s.current.shards||[]).map(e2).filter(Boolean).filter(function(j){return j.contains(g.target)}),_=b.length>0?l(g,b[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=w.useCallback(function(m,g,v,x){var b={name:m,delta:g,target:v,should:x,shadowParent:OSe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(m){r.current=Am(m),n.current=void 0},[]),f=w.useCallback(function(m){u(m.type,ZT(m),m.target,l(m,e.lockRef.current))},[]),h=w.useCallback(function(m){u(m.type,Am(m),m.target,l(m,e.lockRef.current))},[]);w.useEffect(function(){return nc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,rc),document.addEventListener("touchmove",c,rc),document.addEventListener("touchstart",d,rc),function(){nc=nc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,rc),document.removeEventListener("touchmove",c,rc),document.removeEventListener("touchstart",d,rc)}},[]);var p=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(i,{styles:ESe(a)}):null,p?w.createElement(xSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TSe=sSe(yB,kSe);var Ux=w.forwardRef(function(e,t){return w.createElement(zx,pi({},e,{ref:t,sideCar:TSe}))});Ux.classNames=zx.classNames;var RSe=[" ","Enter","ArrowUp","ArrowDown"],$Se=[" ","Enter"],Tl="Select",[Vx,Wx,MSe]=wy(Tl),[$d,cOe]=Cn(Tl,[MSe,ud]),Hx=ud(),[ISe,$o]=$d(Tl),[DSe,LSe]=$d(Tl),_B=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=Hx(t),[g,v]=w.useState(null),[x,b]=w.useState(null),[_,j]=w.useState(!1),S=hd(u),[C,N]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:Tl}),[P,E]=Fn({prop:s,defaultProp:l,onChange:c,caller:Tl}),k=w.useRef(null),A=g?y||!!g.closest("form"):!0,[R,O]=w.useState(new Set),I=Array.from(R).map($=>$.props.value).join(";");return o.jsx(NS,{...m,children:o.jsxs(ISe,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Si(),value:P,onValueChange:E,open:C,onOpenChange:N,dir:S,triggerPointerDownPosRef:k,disabled:h,children:[o.jsx(Vx.Provider,{scope:t,children:o.jsx(DSe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{O(M=>new Set(M).add($))},[]),onNativeOptionRemove:w.useCallback($=>{O(M=>{const D=new Set(M);return D.delete($),D})},[]),children:r})}),A?o.jsxs(KB,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:$=>E($.target.value),disabled:h,form:y,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},I):null]})})};_B.displayName=Tl;var SB="SelectTrigger",CB=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Hx(r),s=$o(SB,r),l=s.disabled||n,c=Ge(t,s.onTriggerChange),u=Wx(r),d=w.useRef("touch"),[f,h,p]=YB(m=>{const g=u().filter(b=>!b.disabled),v=g.find(b=>b.value===s.value),x=XB(g,m,v);x!==void 0&&s.onValueChange(x.value)}),y=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Ay,{asChild:!0,...i,children:o.jsx(Te.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":GB(s.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:je(a.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:je(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&RSe.includes(m.key)&&(y(),m.preventDefault())})})})});CB.displayName=SB;var NB="SelectValue",PB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=e,c=$o(NB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ge(t,c.onValueNodeChange);return Fr(()=>{u(d)},[u,d]),o.jsx(Te.span,{...l,ref:f,style:{pointerEvents:"none"},children:GB(c.value)?o.jsx(o.Fragment,{children:s}):i})});PB.displayName=NB;var FSe="SelectIcon",EB=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Te.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});EB.displayName=FSe;var BSe="SelectPortal",AB=e=>o.jsx(mp,{asChild:!0,...e});AB.displayName=BSe;var Rl="SelectContent",kB=w.forwardRef((e,t)=>{const r=$o(Rl,e.__scopeSelect),[n,a]=w.useState();if(Fr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ll.createPortal(o.jsx(OB,{scope:e.__scopeSelect,children:o.jsx(Vx.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(TB,{...e,ref:t})});kB.displayName=Rl;var Ia=10,[OB,Mo]=$d(Rl),zSe="SelectContentImpl",USe=Cl("SelectContent.RemoveScroll"),TB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,x=$o(Rl,r),[b,_]=w.useState(null),[j,S]=w.useState(null),C=Ge(t,W=>_(W)),[N,P]=w.useState(null),[E,k]=w.useState(null),A=Wx(r),[R,O]=w.useState(!1),I=w.useRef(!1);w.useEffect(()=>{if(b)return KC(b)},[b]),qC();const $=w.useCallback(W=>{const[de,...Q]=A().map(H=>H.ref.current),[te]=Q.slice(-1),q=document.activeElement;for(const H of W)if(H===q||(H==null||H.scrollIntoView({block:"nearest"}),H===de&&j&&(j.scrollTop=0),H===te&&j&&(j.scrollTop=j.scrollHeight),H==null||H.focus(),document.activeElement!==q))return},[A,j]),M=w.useCallback(()=>$([N,b]),[$,N,b]);w.useEffect(()=>{R&&M()},[R,M]);const{onOpenChange:D,triggerPointerDownPosRef:L}=x;w.useEffect(()=>{if(b){let W={x:0,y:0};const de=te=>{var q,H;W={x:Math.abs(Math.round(te.pageX)-(((q=L.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(te.pageY)-(((H=L.current)==null?void 0:H.y)??0))}},Q=te=>{W.x<=10&&W.y<=10?te.preventDefault():b.contains(te.target)||D(!1),document.removeEventListener("pointermove",de),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,D,L]),w.useEffect(()=>{const W=()=>D(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[D]);const[z,X]=YB(W=>{const de=A().filter(q=>!q.disabled),Q=de.find(q=>q.ref.current===document.activeElement),te=XB(de,W,Q);te&&setTimeout(()=>te.ref.current.focus())}),G=w.useCallback((W,de,Q)=>{const te=!I.current&&!Q;(x.value!==void 0&&x.value===de||te)&&(P(W),te&&(I.current=!0))},[x.value]),F=w.useCallback(()=>b==null?void 0:b.focus(),[b]),J=w.useCallback((W,de,Q)=>{const te=!I.current&&!Q;(x.value!==void 0&&x.value===de||te)&&k(W)},[x.value]),U=n==="popper"?Kj:RB,V=U===Kj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(OB,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:G,selectedItem:N,onItemLeave:F,itemTextRefCallback:J,focusSelectedItem:M,selectedItemText:E,position:n,isPositioned:R,searchRef:z,children:o.jsx(Ux,{as:USe,allowPinchZoom:!0,children:o.jsx(Bx,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:je(a,W=>{var de;(de=x.trigger)==null||de.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(U,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...v,...V,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:je(v.onKeyDown,W=>{const de=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!de&&W.key.length===1&&X(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let te=A().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(W.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const q=W.target,H=te.indexOf(q);te=te.slice(H+1)}setTimeout(()=>$(te)),W.preventDefault()}})})})})})})});TB.displayName=zSe;var VSe="SelectItemAlignedPosition",RB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=$o(Rl,r),s=Mo(Rl,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Ge(t,C=>d(C)),h=Wx(r),p=w.useRef(!1),y=w.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=s,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&g&&v){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(i.dir!=="rtl"){const q=E.left-N.left,H=P.left-q,ve=C.left-H,ge=C.width+ve,Ae=Math.max(ge,N.width),Le=window.innerWidth-Ia,Ye=vh(H,[Ia,Math.max(Ia,Le-Ae)]);l.style.minWidth=ge+"px",l.style.left=Ye+"px"}else{const q=N.right-E.right,H=window.innerWidth-P.right-q,ve=window.innerWidth-C.right-H,ge=C.width+ve,Ae=Math.max(ge,N.width),Le=window.innerWidth-Ia,Ye=vh(H,[Ia,Math.max(Ia,Le-Ae)]);l.style.minWidth=ge+"px",l.style.right=Ye+"px"}const k=h(),A=window.innerHeight-Ia*2,R=m.scrollHeight,O=window.getComputedStyle(u),I=parseInt(O.borderTopWidth,10),$=parseInt(O.paddingTop,10),M=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),L=I+$+R+D+M,z=Math.min(g.offsetHeight*5,L),X=window.getComputedStyle(m),G=parseInt(X.paddingTop,10),F=parseInt(X.paddingBottom,10),J=C.top+C.height/2-Ia,U=A-J,V=g.offsetHeight/2,W=g.offsetTop+V,de=I+$+W,Q=L-de;if(de<=J){const q=k.length>0&&g===k[k.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-m.offsetTop-m.offsetHeight,ve=Math.max(U,V+(q?F:0)+H+M),ge=de+ve;l.style.height=ge+"px"}else{const q=k.length>0&&g===k[0].ref.current;l.style.top="0px";const ve=Math.max(J,I+m.offsetTop+(q?G:0)+V)+Q;l.style.height=ve+"px",m.scrollTop=de-J+m.offsetTop}l.style.margin=`${Ia}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,g,v,i.dir,n]);Fr(()=>b(),[b]);const[_,j]=w.useState();Fr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return o.jsx(HSe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Te.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});RB.displayName=VSe;var WSe="SelectPopperPosition",Kj=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ia,...i}=e,s=Hx(r);return o.jsx(PS,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kj.displayName=WSe;var[HSe,GC]=$d(Rl,{}),Gj="SelectViewport",$B=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Mo(Gj,r),s=GC(Gj,r),l=Ge(t,i.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Vx.Slot,{scope:r,children:o.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Ia*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),v=Math.max(m,g);if(v<y){const x=v+p,b=Math.min(y,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});$B.displayName=Gj;var MB="SelectGroup",[qSe,KSe]=$d(MB),GSe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Si();return o.jsx(qSe,{scope:r,id:a,children:o.jsx(Te.div,{role:"group","aria-labelledby":a,...n,ref:t})})});GSe.displayName=MB;var IB="SelectLabel",DB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=KSe(IB,r);return o.jsx(Te.div,{id:a.id,...n,ref:t})});DB.displayName=IB;var Wg="SelectItem",[YSe,LB]=$d(Wg),FB=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,l=$o(Wg,r),c=Mo(Wg,r),u=l.value===n,[d,f]=w.useState(i??""),[h,p]=w.useState(!1),y=Ge(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),m=Si(),g=w.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(YSe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:w.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(Vx.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Te.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:y,onFocus:je(s.onFocus,()=>p(!0)),onBlur:je(s.onBlur,()=>p(!1)),onClick:je(s.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:je(s.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:je(s.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:je(s.onPointerMove,x=>{var b;g.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:je(s.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||($Se.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});FB.displayName=Wg;var vf="SelectItemText",BB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=$o(vf,r),l=Mo(vf,r),c=LB(vf,r),u=LSe(vf,r),[d,f]=w.useState(null),h=Ge(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Fr(()=>(m(y),()=>g(y)),[m,g,y]),o.jsxs(o.Fragment,{children:[o.jsx(Te.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ll.createPortal(i.children,s.valueNode):null]})});BB.displayName=vf;var zB="SelectItemIndicator",UB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return LB(zB,r).isSelected?o.jsx(Te.span,{"aria-hidden":!0,...n,ref:t}):null});UB.displayName=zB;var Yj="SelectScrollUpButton",VB=w.forwardRef((e,t)=>{const r=Mo(Yj,e.__scopeSelect),n=GC(Yj,e.__scopeSelect),[a,i]=w.useState(!1),s=Ge(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(HB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});VB.displayName=Yj;var Xj="SelectScrollDownButton",WB=w.forwardRef((e,t)=>{const r=Mo(Xj,e.__scopeSelect),n=GC(Xj,e.__scopeSelect),[a,i]=w.useState(!1),s=Ge(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(HB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WB.displayName=Xj;var HB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Mo("SelectScrollButton",r),s=w.useRef(null),l=Wx(r),c=w.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Fr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Te.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:je(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),XSe="SelectSeparator",qB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Te.div,{"aria-hidden":!0,...n,ref:t})});qB.displayName=XSe;var Qj="SelectArrow",QSe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hx(r),i=$o(Qj,r),s=Mo(Qj,r);return i.open&&s.position==="popper"?o.jsx(ES,{...a,...n,ref:t}):null});QSe.displayName=Qj;var JSe="SelectBubbleInput",KB=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=Ge(n,a),s=Fy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Te.select,{...r,style:{...NM,...r.style},ref:i,defaultValue:t})});KB.displayName=JSe;function GB(e){return e===""||e===void 0}function YB(e){const t=Pr(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function XB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=ZSe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ZSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eCe=_B,QB=CB,tCe=PB,rCe=EB,nCe=AB,JB=kB,aCe=$B,ZB=DB,e5=FB,iCe=BB,sCe=UB,t5=VB,r5=WB,n5=qB;const at=eCe,it=tCe,tt=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(QB,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(rCe,{asChild:!0,children:o.jsx(QM,{className:"h-4 w-4 opacity-50"})})]}));tt.displayName=QB.displayName;const a5=w.forwardRef(({className:e,...t},r)=>o.jsx(t5,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(F6,{className:"h-4 w-4"})}));a5.displayName=t5.displayName;const i5=w.forwardRef(({className:e,...t},r)=>o.jsx(r5,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(QM,{className:"h-4 w-4"})}));i5.displayName=r5.displayName;const rt=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(nCe,{children:o.jsxs(JB,{ref:a,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(a5,{}),o.jsx(aCe,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(i5,{})]})}));rt.displayName=JB.displayName;const oCe=w.forwardRef(({className:e,...t},r)=>o.jsx(ZB,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oCe.displayName=ZB.displayName;const De=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(e5,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(sCe,{children:o.jsx(ih,{className:"h-4 w-4"})})}),o.jsx(iCe,{children:t})]}));De.displayName=e5.displayName;const lCe=w.forwardRef(({className:e,...t},r)=>o.jsx(n5,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));lCe.displayName=n5.displayName;var qx="Dialog",[s5,o5]=Cn(qx),[cCe,ii]=s5(qx),l5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:qx});return o.jsx(cCe,{scope:t,triggerRef:l,contentRef:c,contentId:Si(),titleId:Si(),descriptionId:Si(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};l5.displayName=qx;var c5="DialogTrigger",u5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(c5,r),i=Ge(t,a.triggerRef);return o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":QC(a.open),...n,ref:i,onClick:je(e.onClick,a.onOpenToggle)})});u5.displayName=c5;var YC="DialogPortal",[uCe,d5]=s5(YC,{forceMount:void 0}),f5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ii(YC,t);return o.jsx(uCe,{scope:t,forceMount:r,children:w.Children.map(n,s=>o.jsx(Bn,{present:r||i.open,children:o.jsx(mp,{asChild:!0,container:a,children:s})}))})};f5.displayName=YC;var Hg="DialogOverlay",h5=w.forwardRef((e,t)=>{const r=d5(Hg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii(Hg,e.__scopeDialog);return i.modal?o.jsx(Bn,{present:n||i.open,children:o.jsx(fCe,{...a,ref:t})}):null});h5.displayName=Hg;var dCe=Cl("DialogOverlay.RemoveScroll"),fCe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(Hg,r);return o.jsx(Ux,{as:dCe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Te.div,{"data-state":QC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$l="DialogContent",p5=w.forwardRef((e,t)=>{const r=d5($l,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii($l,e.__scopeDialog);return o.jsx(Bn,{present:n||i.open,children:i.modal?o.jsx(hCe,{...a,ref:t}):o.jsx(pCe,{...a,ref:t})})});p5.displayName=$l;var hCe=w.forwardRef((e,t)=>{const r=ii($l,e.__scopeDialog),n=w.useRef(null),a=Ge(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return KC(i)},[]),o.jsx(m5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),pCe=w.forwardRef((e,t)=>{const r=ii($l,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(m5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),m5=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=ii($l,r),c=w.useRef(null),u=Ge(t,c);return qC(),o.jsxs(o.Fragment,{children:[o.jsx(Bx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(nd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":QC(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(vCe,{titleId:l.titleId}),o.jsx(yCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),XC="DialogTitle",v5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(XC,r);return o.jsx(Te.h2,{id:a.titleId,...n,ref:t})});v5.displayName=XC;var g5="DialogDescription",y5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(g5,r);return o.jsx(Te.p,{id:a.descriptionId,...n,ref:t})});y5.displayName=g5;var x5="DialogClose",b5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(x5,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});b5.displayName=x5;function QC(e){return e?"open":"closed"}var w5="DialogTitleWarning",[mCe,j5]=VV(w5,{contentName:$l,titleName:XC,docsSlug:"dialog"}),vCe=({titleId:e})=>{const t=j5(w5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},gCe="DialogDescriptionWarning",yCe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j5(gCe).contentName}}.`;return w.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},_5=l5,S5=u5,C5=f5,JC=h5,ZC=p5,eN=v5,tN=y5,rN=b5;const Tr=_5,Kx=S5,xCe=C5,N5=w.forwardRef(({className:e,...t},r)=>o.jsx(JC,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));N5.displayName=JC.displayName;const yr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(xCe,{children:[o.jsx(N5,{}),o.jsxs(ZC,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(rN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ai,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yr.displayName=ZC.displayName;const xr=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xr.displayName="DialogHeader";const Gx=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gx.displayName="DialogFooter";const br=w.forwardRef(({className:e,...t},r)=>o.jsx(eN,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));br.displayName=eN.displayName;const bCe=w.forwardRef(({className:e,...t},r)=>o.jsx(tN,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));bCe.displayName=tN.displayName;const wCe=["R&D","Production","Sales","Support","Admin"],jCe=[2025,2026,2027,2028,2029,2030],_Ce=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function SCe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=$i(),[s,l]=w.useState("orgchart"),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,p]=w.useState({}),y=j=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:j||"R&D",startYear:2026,annualCostLoaded:5e4};p(S),u(null),f(!0)},m=j=>{u(j),p(j),f(!0)},g=()=>{if(h.title&&h.department){if(c){const j=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(j)}else n(h);f(!1),p({}),u(null)}},v=t.payrollByYear.map(j=>({year:j.year,payroll:j.payroll/1e3,headcount:j.headcount})),x=e.roles.filter(j=>j.startYear>2025),b=jCe.slice(1).map(j=>({year:j,count:e.roles.filter(S=>S.startYear===j).length,cost:e.roles.filter(S=>S.startYear===j).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(j=>j.count>0);return o.jsx(js,{tabKey:"organisation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),o.jsxs(pB,{type:"single",value:s,onValueChange:j=>j&&l(j),children:[o.jsx(Hj,{value:"orgchart","aria-label":"Vue organigramme",children:o.jsx(V6,{className:"h-4 w-4"})}),o.jsx(Hj,{value:"table","aria-label":"Vue tableau",children:o.jsx(G6,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rd,{pageTitle:"Organisation & RH",sections:_Ce,fileName:"Organisation_RH"}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y(),children:[o.jsx(Or,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),o.jsx(gd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(st,{label:"Masse Salariale 2025",value:ee(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),o.jsx(st,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),o.jsx(st,{label:"Cot Moyen / ETP",value:ee(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),o.jsx(st,{label:"Masse Salariale 2030",value:ee(((_=t.payrollByYear.find(j=>j.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),o.jsx("div",{id:"org-payroll-chart",children:o.jsx(Ue,{title:"volution de la Masse Salariale",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(MF,{data:v,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:j=>`${j}k`}),o.jsx(Ft,{formatter:(j,S)=>S==="payroll"?`${j.toFixed(0)}k`:j}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),o.jsx("div",{id:"org-hiring-plan",children:b.length>0&&o.jsx(Ue,{title:"Plan de Recrutement",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:j,count:S,cost:C})=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-lg font-semibold",children:j}),o.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:ee(C,!0)})]},j))})})}),o.jsx("div",{id:"org-team",children:s==="orgchart"?o.jsx(Ue,{title:"Organigramme",children:o.jsx(I_e,{roles:e.roles,onEdit:m,onRemove:a,onAddToTeam:y})}):o.jsx(Ue,{title:"quipe & Recrutements",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Poste"}),o.jsx(le,{children:"Dpartement"}),o.jsx(le,{children:"Dbut"}),o.jsx(le,{className:"text-right",children:"Cot Annuel"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.roles.map(j=>o.jsxs(we,{className:j.startYear>2025?"bg-muted/20":"",children:[o.jsxs(Y,{className:"font-medium",children:[j.title,j.startYear>2025&&o.jsx(Me,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),o.jsx(Y,{children:o.jsx(Me,{variant:"outline",children:j.department})}),o.jsx(Y,{children:j.startYear}),o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(j.annualCostLoaded)}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>m(j),children:"Modifier"}),o.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(j.id),children:"Suppr."})]})})]},j.id))})]})})})}),o.jsx(Tr,{open:d,onOpenChange:f,children:o.jsxs(yr,{children:[o.jsx(xr,{children:o.jsx(br,{children:c?"Modifier le poste":"Nouveau poste"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),o.jsx(be,{value:h.title||"",onChange:j=>p({...h,title:j.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),o.jsxs(at,{value:h.department,onValueChange:j=>p({...h,department:j}),children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Slectionner un dpartement"})}),o.jsx(rt,{children:wCe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),o.jsx(be,{type:"number",value:h.startYear||2026,onChange:j=>p({...h,startYear:Number(j.target.value)}),min:2025,max:2030})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),o.jsx(be,{type:"number",value:h.annualCostLoaded||5e4,onChange:j=>p({...h,annualCostLoaded:Number(j.target.value)}),step:1e3})]})]})]}),o.jsxs(Gx,{children:[o.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),o.jsx(ae,{onClick:g,children:"Sauvegarder"})]})]})})]})})}var CCe="Label",P5=w.forwardRef((e,t)=>o.jsx(Te.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));P5.displayName=CCe;var E5=P5;const NCe=ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=w.forwardRef(({className:e,...t},r)=>o.jsx(E5,{ref:r,className:ie(NCe(),e),...t}));_e.displayName=E5.displayName;const t2=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],r2=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],PCe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],ECe=[0,.02,.03,.05,.07,.1,.15,.2],ACe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function kCe(){var O,I,$;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:s,saveAll:l}=$i(),[c,u]=w.useState(null),[d,f]=w.useState({}),{startYear:h,durationYears:p}=e.scenarioSettings,y=Array.from({length:p},(M,D)=>h+D),[m,g]=w.useState(h),v=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),f(M)},b=()=>{if(c&&d){const M=e.expenses.map(D=>D.id===c?{...D,...d}:D);r(M),u(null),f({})}},_=()=>{u(null),f({})},j=y[0],S=y[y.length-1],C=((O=t.opexByYear.find(M=>M.year===j))==null?void 0:O.opex)||0,N=((I=t.opexByYear.find(M=>M.year===S))==null?void 0:I.opex)||0,P=(($=t.revenueByYear.find(M=>M.year===j))==null?void 0:$.revenue)||1,E=C/P,k=t.opexByYear.find(M=>M.year===m),A=k?t2.map((M,D)=>({name:M,value:k.byCategory[M]||0,color:PCe[D]})).filter(M=>M.value>0):[],R=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return o.jsx(js,{tabKey:"charges",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Me,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rd,{pageTitle:"Structure des Charges",sections:ACe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&o.jsxs(ae,{variant:"outline",size:"sm",onClick:v,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),o.jsx(gd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(Ue,{title:"Mode de Calcul",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>i("detailed"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(K6,{className:ie("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:ie("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),o.jsxs("button",{onClick:()=>i("simple"),className:ie("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(_v,{className:ie("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:ie("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&o.jsxs(Ue,{title:"Configuration Simplifie",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(_e,{children:["Montant OPEX annuel de base (",j,")"]}),o.jsx(be,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>s({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"volution annuelle (%)"}),o.jsxs(at,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>s({growthRate:Number(M)/100}),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:ECe.map(M=>o.jsxs(De,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,D)=>{const L=e.simpleOpexConfig.baseAmount*Math.pow(1+e.simpleOpexConfig.growthRate,D);return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:M}),o.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:ee(L,!0)})]},M)})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[o.jsx(st,{label:`OPEX ${j}`,value:ee(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),o.jsx(st,{label:"Ratio OPEX / CA",value:Ar(E),subValue:j.toString()}),o.jsx(st,{label:`OPEX ${S}`,value:ee(N,!0),subValue:"Projection",trend:"up"}),o.jsx(st,{label:"Croissance OPEX",value:C>0?Ar(N/C-1):"N/A",subValue:`${j}-${S}`})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"volution des Charges",id:"charges-chart",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(Td,{data:R,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:M=>`${M}k`}),o.jsx(Ft,{formatter:M=>`${M.toFixed(0)}k`}),o.jsx(qt,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&A.length>0&&o.jsxs(Ue,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(at,{value:m.toString(),onValueChange:M=>g(parseInt(M)),children:[o.jsx(tt,{className:"w-24 h-8",children:o.jsx(it,{})}),o.jsx(rt,{children:y.map(M=>o.jsx(De,{value:M.toString(),children:M},M))})]})}),o.jsx("div",{className:"h-56",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(g_e,{children:[o.jsx(ws,{data:A,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:A.map((M,D)=>o.jsx(_p,{fill:M.color},`cell-${D}`))}),o.jsx(Ft,{formatter:M=>ee(M)})]})})}),o.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",m,": ",o.jsx("span",{className:"font-mono-numbers font-medium",children:ee((k==null?void 0:k.opex)||0,!0)})]})]}),e.opexMode==="simple"&&o.jsx(Ue,{title:"Rcapitulatif",id:"charges-breakdown",children:o.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),o.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:ee(e.simpleOpexConfig.baseAmount,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),o.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&o.jsx(Ue,{title:"Dtail des Charges",id:"charges-table",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Charge"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Type d'volution"}),o.jsx(le,{className:"text-right",children:"Cot Base"}),o.jsx(le,{children:"Paramtre"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.expenses.map(M=>{var D,L;return o.jsx(we,{children:c===M.id?o.jsxs(o.Fragment,{children:[o.jsx(Y,{children:o.jsx(be,{value:d.name||"",onChange:z=>f({...d,name:z.target.value}),className:"h-8"})}),o.jsx(Y,{children:o.jsxs(at,{value:d.category,onValueChange:z=>f({...d,category:z}),children:[o.jsx(tt,{className:"h-8 w-40",children:o.jsx(it,{})}),o.jsx(rt,{children:t2.map(z=>o.jsx(De,{value:z,children:z},z))})]})}),o.jsx(Y,{children:o.jsxs(at,{value:d.evolutionType,onValueChange:z=>f({...d,evolutionType:z}),children:[o.jsx(tt,{className:"h-8 w-40",children:o.jsx(it,{})}),o.jsx(rt,{children:r2.map(z=>o.jsx(De,{value:z.value,children:z.label},z.value))})]})}),o.jsx(Y,{children:o.jsx(be,{type:"number",value:d.baseAnnualCost||0,onChange:z=>f({...d,baseAnnualCost:Number(z.target.value)}),className:"h-8 w-28 text-right"})}),o.jsxs(Y,{children:[d.evolutionType==="growth_rate"&&o.jsx(be,{type:"number",step:"0.01",value:(d.growthRate||0)*100,onChange:z=>f({...d,growthRate:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),d.evolutionType==="linked_to_revenue"&&o.jsx(be,{type:"number",step:"0.01",value:(d.revenueRatio||0)*100,onChange:z=>f({...d,revenueRatio:Number(z.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{size:"icon",variant:"ghost",onClick:b,children:o.jsx(ih,{className:"h-4 w-4 text-accent"})}),o.jsx(ae,{size:"icon",variant:"ghost",onClick:_,children:o.jsx(Ai,{className:"h-4 w-4 text-destructive"})})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Y,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&o.jsxs(i9,{children:[o.jsx(s9,{children:o.jsx(sh,{className:"h-3 w-3 text-muted-foreground"})}),o.jsx(VI,{children:o.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),o.jsx(Y,{children:o.jsx(Me,{variant:"outline",children:M.category})}),o.jsx(Y,{children:o.jsx(Me,{variant:"secondary",children:(D=r2.find(z=>z.value===M.evolutionType))==null?void 0:D.label})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(M.baseAnnualCost)}),o.jsxs(Y,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${Ar(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${Ar(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((L=M.steps)==null?void 0:L.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>x(M),children:o.jsx(fS,{className:"h-4 w-4"})}),o.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:o.jsx(un,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function OCe({customers:e,selectedId:t,onSelect:r,onRefresh:n,onCreate:a}){const[i,s]=w.useState(!1),[l,c]=w.useState({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),u=async()=>{if(!a||!l.company_name.trim())return;const d=await a({...l,address:null,postal_code:null,country:"France",latitude:null,longitude:null,notes:null});d&&(s(!1),c({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),r(d.id))};return o.jsxs(o.Fragment,{children:[o.jsxs(dr,{children:[o.jsx(ln,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(cn,{className:"text-lg",children:"Clients"}),o.jsxs("div",{className:"flex gap-1",children:[a&&o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>s(!0),children:o.jsx(Or,{className:"h-4 w-4"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:n,children:o.jsx(eW,{className:"h-4 w-4"})})]})]})}),o.jsxs(fr,{className:"space-y-1",children:[e.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),e.map(d=>o.jsxs("button",{onClick:()=>r(d.id),className:ie("w-full text-left p-3 rounded-lg transition-colors",t===d.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium text-sm",children:d.company_name}),o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[d.city&&o.jsx("span",{children:d.city}),o.jsx(Me,{variant:"outline",className:"text-[10px]",children:d.pricing_tier})]})]},d.id))]})]}),o.jsx(Tr,{open:i,onOpenChange:s,children:o.jsxs(yr,{children:[o.jsx(xr,{children:o.jsx(br,{children:"Nouveau Client"})}),o.jsxs("div",{className:"space-y-3 py-2",children:[o.jsx(be,{placeholder:"Nom de l'entreprise *",value:l.company_name,onChange:d=>c(f=>({...f,company_name:d.target.value}))}),o.jsx(be,{placeholder:"Nom du contact",value:l.contact_name,onChange:d=>c(f=>({...f,contact_name:d.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(be,{placeholder:"Email",value:l.email,onChange:d=>c(f=>({...f,email:d.target.value}))}),o.jsx(be,{placeholder:"Tlphone",value:l.phone,onChange:d=>c(f=>({...f,phone:d.target.value}))})]}),o.jsx(be,{placeholder:"Ville",value:l.city,onChange:d=>c(f=>({...f,city:d.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(at,{value:l.status,onValueChange:d=>c(f=>({...f,status:d})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"prospect",children:"Prospect"}),o.jsx(De,{value:"active",children:"Actif"}),o.jsx(De,{value:"inactive",children:"Inactif"})]})]}),o.jsxs(at,{value:l.pricing_tier,onValueChange:d=>c(f=>({...f,pricing_tier:d})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"bronze",children:"Bronze"}),o.jsx(De,{value:"silver",children:"Silver"}),o.jsx(De,{value:"gold",children:"Gold"})]})]})]})]}),o.jsxs(Gx,{children:[o.jsx(ae,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),o.jsx(ae,{onClick:u,disabled:!l.company_name.trim(),children:"Crer"})]})]})})]})}function TCe({customer:e,orders:t}){const r=t.reduce((n,a)=>n+(a.total_amount||0),0);return o.jsxs(dr,{children:[o.jsx(ln,{children:o.jsxs(cn,{className:"flex items-center justify-between",children:[e.company_name,o.jsx(Me,{children:e.status})]})}),o.jsxs(fr,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("span",{className:"ml-2",children:e.contact_name||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("span",{className:"ml-2",children:e.email||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Ville:"}),o.jsx("span",{className:"ml-2",children:e.city||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"CA Total:"}),o.jsx("span",{className:"ml-2 font-mono-numbers",children:ee(r,!0)})]})]}),t.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Commandes (",t.length,")"]}),o.jsx("div",{className:"space-y-1",children:t.slice(0,5).map(n=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/30 rounded",children:[o.jsx("span",{children:n.order_reference}),o.jsx("span",{className:"font-mono-numbers",children:ee(n.total_amount,!0)})]},n.id))})]})]})]})}function RCe({customers:e}){const t=e.filter(r=>r.latitude&&r.longitude);return o.jsx("div",{className:"h-[400px] bg-muted/30 rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(Fw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsxs("p",{children:[t.length," clients golocaliss"]}),o.jsx("p",{className:"text-xs mt-1",children:"Carte interactive (Leaflet)"})]})})}function $Ce({tiers:e}){return o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.map(t=>o.jsxs(dr,{children:[o.jsx(ln,{children:o.jsxs(cn,{className:"flex items-center justify-between",children:[o.jsx(Me,{variant:t.tier==="gold"?"default":"outline",children:t.tier}),o.jsxs("span",{className:"text-2xl font-bold font-mono-numbers",children:["-",t.discount_percentage,"%"]})]})}),o.jsx(fr,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Grille tarifaire"})})]},t.id)),e.length===0&&o.jsx("p",{className:"text-muted-foreground col-span-3 text-center py-8",children:"Aucune grille tarifaire configure"})]})}function MCe({appointments:e,customers:t}){const r=e.filter(n=>!n.is_completed&&new Date(n.appointment_date)>=new Date).slice(0,10);return o.jsxs(dr,{children:[o.jsx(ln,{children:o.jsxs(cn,{className:"flex items-center gap-2",children:[o.jsx(du,{className:"h-5 w-5"}),"Rendez-vous  venir"]})}),o.jsxs(fr,{children:[r.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun rendez-vous planifi"}),o.jsx("div",{className:"space-y-2",children:r.map(n=>{const a=t.find(i=>i.id===n.customer_id);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:n.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==null?void 0:a.company_name,"  ",new Date(n.appointment_date).toLocaleDateString("fr-FR")]})]}),n.location&&o.jsx(Me,{variant:"outline",className:"text-xs",children:n.location})]},n.id)})})]})]})}function ICe(){const{toast:e}=gM(),{user:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(!0),y=w.useCallback(async()=>{if(!t){p(!1);return}try{p(!0);const[b,_]=await Promise.all([pe.from("customers").select("*").order("company_name"),pe.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{p(!1)}},[t]);w.useEffect(()=>{y()},[y]);const m=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await pe.from("customers").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return n(C=>[...C,S].sort((N,P)=>N.company_name.localeCompare(P.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),g=w.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:j}=await pe.from("customers").update(_).eq("id",b);if(j)throw j;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(j){return console.error("Failed to update customer:",j),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),v=w.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await pe.from("customers").delete().eq("id",b);if(_)throw _;return n(j=>j.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await pe.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:s,orders:c,pricingTiers:d,isLoading:h,refreshData:y,createCustomer:m,updateCustomer:g,deleteCustomer:v,createOrder:x,getCustomerInteractions:b=>a.filter(_=>_.customer_id===b),getCustomerAppointments:b=>s.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}function DCe(){const{customers:e,orders:t,appointments:r,pricingTiers:n,isLoading:a,refreshData:i,createCustomer:s,updateCustomer:l,deleteCustomer:c}=ICe(),[u,d]=w.useState(null),f=e.find(v=>v.id===u),h=e.length,p=e.filter(v=>v.status==="active").length,y=t.reduce((v,x)=>v+(x.total_amount||0),0),m=t.filter(v=>["draft","confirmed","in_progress"].includes(v.status)).length,g=r.filter(v=>!v.is_completed&&new Date(v.appointment_date)>=new Date).length;return a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, suivi commercial et commandes"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[o.jsx(st,{label:"Total Clients",value:h}),o.jsx(st,{label:"Clients Actifs",value:p,trend:p>0?"up":"neutral"}),o.jsx(st,{label:"CA Total",value:`${(y/1e3).toFixed(0)} k`}),o.jsx(st,{label:"Commandes en cours",value:m}),o.jsx(st,{label:"RDV  venir",value:g})]}),o.jsxs(Ea,{defaultValue:"customers",className:"space-y-4",children:[o.jsxs(la,{children:[o.jsxs(ut,{value:"customers",children:[o.jsx(pu,{className:"h-4 w-4 mr-2"}),"Clients"]}),o.jsxs(ut,{value:"map",children:[o.jsx(Fw,{className:"h-4 w-4 mr-2"}),"Carte"]}),o.jsxs(ut,{value:"pricing",children:[o.jsx(sd,{className:"h-4 w-4 mr-2"}),"Grille Tarifaire"]}),o.jsxs(ut,{value:"agenda",children:[o.jsx(du,{className:"h-4 w-4 mr-2"}),"Agenda"]})]}),o.jsx(mt,{value:"customers",className:"space-y-4",children:o.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(OCe,{customers:e,selectedId:u,onSelect:d,onRefresh:i,onCreate:s})}),o.jsx("div",{className:"lg:col-span-2",children:f?o.jsx(TCe,{customer:f,orders:t.filter(v=>v.customer_id===u),onRefresh:i}):o.jsx(dr,{className:"h-full min-h-[400px] flex items-center justify-center",children:o.jsxs(fr,{className:"text-center text-muted-foreground",children:[o.jsx(pu,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})}),o.jsx(mt,{value:"map",className:"space-y-4",children:o.jsxs(dr,{children:[o.jsx(ln,{children:o.jsxs(cn,{className:"flex items-center gap-2",children:[o.jsx(Fw,{className:"h-5 w-5"}),"Localisation des clients"]})}),o.jsx(fr,{children:o.jsx(RCe,{customers:e,selectedId:u,onSelectCustomer:d})})]})}),o.jsx(mt,{value:"pricing",className:"space-y-4",children:o.jsx($Ce,{tiers:n,onRefresh:i})}),o.jsx(mt,{value:"agenda",className:"space-y-4",children:o.jsx(MCe,{appointments:r,customers:e,onRefresh:i})})]})]})}var Yx="Switch",[LCe,uOe]=Cn(Yx),[FCe,BCe]=LCe(Yx),A5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),y=Ge(t,b=>p(b)),m=w.useRef(!1),g=h?d||!!h.closest("form"):!0,[v,x]=Fn({prop:a,defaultProp:i??!1,onChange:u,caller:Yx});return o.jsxs(FCe,{scope:r,checked:v,disabled:l,children:[o.jsx(Te.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":R5(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:je(e.onClick,b=>{x(_=>!_),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&o.jsx(T5,{control:h,bubbles:!m.current,name:n,value:c,checked:v,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});A5.displayName=Yx;var k5="SwitchThumb",O5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=BCe(k5,r);return o.jsx(Te.span,{"data-state":R5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});O5.displayName=k5;var zCe="SwitchBubbleInput",T5=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=w.useRef(null),l=Ge(s,i),c=Fy(r),u=Ey(t);return w.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});T5.displayName=zCe;function R5(e){return e?"checked":"unchecked"}var $5=A5,UCe=O5;const M5=w.forwardRef(({className:e,...t},r)=>o.jsx($5,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(UCe,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));M5.displayName=$5.displayName;var Xx="Checkbox",[VCe,dOe]=Cn(Xx),[WCe,nN]=VCe(Xx);function HCe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Fn({prop:r,defaultProp:a??!1,onChange:c,caller:Xx}),[y,m]=w.useState(null),[g,v]=w.useState(null),x=w.useRef(!1),b=y?!!s||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:po(a)?!1:a,isFormControl:b,bubbleInput:g,setBubbleInput:v};return o.jsx(WCe,{scope:t,..._,children:qCe(f)?f(_):n})}var I5="CheckboxTrigger",D5=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=nN(I5,e),m=Ge(a,d),g=w.useRef(c);return w.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>f(g.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,f]),o.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":po(c)?"mixed":c,"aria-required":u,"data-state":U5(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:je(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:je(r,v=>{f(x=>po(x)?!0:!x),y&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});D5.displayName=I5;var aN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(HCe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(D5,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(z5,{__scopeCheckbox:r})]})})});aN.displayName=Xx;var L5="CheckboxIndicator",F5=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=nN(L5,r);return o.jsx(Bn,{present:n||po(i.checked)||i.checked===!0,children:o.jsx(Te.span,{"data-state":U5(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});F5.displayName=L5;var B5="CheckboxBubbleInput",z5=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=nN(B5,e),y=Ge(r,p),m=Fy(i),g=Ey(n);w.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(m!==i&&j){const C=new Event("click",{bubbles:S});x.indeterminate=po(i),j.call(x,po(i)?!1:i),x.dispatchEvent(C)}},[h,m,i,a]);const v=w.useRef(po(i)?!1:i);return o.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});z5.displayName=B5;function qCe(e){return typeof e=="function"}function po(e){return e==="indeterminate"}function U5(e){return po(e)?"indeterminate":e?"checked":"unchecked"}const Qx=w.forwardRef(({className:e,...t},r)=>o.jsx(aN,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(F5,{className:ie("flex items-center justify-center text-current"),children:o.jsx(ih,{className:"h-4 w-4"})})}));Qx.displayName=aN.displayName;var Jx="Popover",[V5,fOe]=Cn(Jx,[ud]),Tp=ud(),[KCe,Io]=V5(Jx),W5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,l=Tp(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:Jx});return o.jsx(NS,{...l,children:o.jsx(KCe,{scope:t,contentId:Si(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:s,children:r})})};W5.displayName=Jx;var H5="PopoverAnchor",GCe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(H5,r),i=Tp(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(Ay,{...i,...n,ref:t})});GCe.displayName=H5;var q5="PopoverTrigger",K5=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(q5,r),i=Tp(r),s=Ge(t,a.triggerRef),l=o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":J5(a.open),...n,ref:s,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(Ay,{asChild:!0,...i,children:l})});K5.displayName=q5;var iN="PopoverPortal",[YCe,XCe]=V5(iN,{forceMount:void 0}),G5=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Io(iN,t);return o.jsx(YCe,{scope:t,forceMount:r,children:o.jsx(Bn,{present:r||i.open,children:o.jsx(mp,{asChild:!0,container:a,children:n})})})};G5.displayName=iN;var Ku="PopoverContent",Y5=w.forwardRef((e,t)=>{const r=XCe(Ku,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Io(Ku,e.__scopePopover);return o.jsx(Bn,{present:n||i.open,children:i.modal?o.jsx(JCe,{...a,ref:t}):o.jsx(ZCe,{...a,ref:t})})});Y5.displayName=Ku;var QCe=Cl("PopoverContent.RemoveScroll"),JCe=w.forwardRef((e,t)=>{const r=Io(Ku,e.__scopePopover),n=w.useRef(null),a=Ge(t,n),i=w.useRef(!1);return w.useEffect(()=>{const s=n.current;if(s)return KC(s)},[]),o.jsx(Ux,{as:QCe,allowPinchZoom:!0,children:o.jsx(X5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZCe=w.forwardRef((e,t)=>{const r=Io(Ku,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(X5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),X5=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Io(Ku,r),p=Tp(r);return qC(),o.jsx(Bx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(PS,{"data-state":J5(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Q5="PopoverClose",eNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Io(Q5,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});eNe.displayName=Q5;var tNe="PopoverArrow",rNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tp(r);return o.jsx(ES,{...a,...n,ref:t})});rNe.displayName=tNe;function J5(e){return e?"open":"closed"}var nNe=W5,aNe=K5,iNe=G5,Z5=Y5;const sNe=nNe,oNe=aNe,ez=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(iNe,{children:o.jsx(Z5,{ref:a,align:t,sideOffset:r,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ez.displayName=Z5.displayName;function lNe(){const{computed:e}=$i(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return o.jsx(Ue,{title:"Plan de Trsorerie Mensuel",children:o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return o.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return o.jsx(Ue,{title:`Trsorerie ${n}`,children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),o.jsx("tbody",{children:a.map(i=>o.jsxs("tr",{className:ie("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:ee(i.totalInflows,!0)}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:ee(i.totalOutflows,!0)}),o.jsxs("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",ee(i.netCashFlow,!0)]}),o.jsx("td",{className:ie("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:ee(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const Tb={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},Rb={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},cNe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function uNe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(Tb),d=Array.from({length:n+2},(v,x)=>r+x),f=()=>{l(null),u({...Tb,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=v=>{l(v.id);const{id:x,...b}=v;u({...Tb,...b}),i(!0)},p=()=>{c.name.trim()&&(t(s?e.map(v=>v.id===s?{...v,...c}:v):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=v=>{t(e.filter(x=>x.id!==v))},m=v=>{if(v.inputMode==="fixed")return v.fixedPaymentAmount||0;const x=v.startDate.year*12+v.startDate.month,_=v.endDate.year*12+v.endDate.month-x;if(_<=0)return 0;if(v.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=v.interestRate;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(v.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=v.interestRate/4;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const j=v.interestRate/12;return j===0?v.principalAmount/_:v.principalAmount*j*Math.pow(1+j,_)/(Math.pow(1+j,_)-1)},g=v=>{const x=m(v),b=v.startDate.year*12+v.startDate.month,j=v.endDate.year*12+v.endDate.month-b;return j<=0?0:v.frequency==="annual"?x*Math.max(1,Math.round(j/12)):v.frequency==="quarterly"?x*Math.max(1,Math.round(j/3)):x*j};return o.jsxs(o.Fragment,{children:[o.jsx(Ue,{title:"Gestion des Prts",action:o.jsxs(ae,{variant:"outline",size:"sm",onClick:f,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(H6,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun prt configur"}),o.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Mode"}),o.jsx(le,{className:"text-right",children:"Capital"}),o.jsx(le,{className:"text-right",children:"Taux"}),o.jsx(le,{children:"Frquence"}),o.jsx(le,{children:"Priode"}),o.jsx(le,{className:"text-right",children:"chance"}),o.jsx(le,{className:"text-right",children:"Cot Total"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(v=>{const x=m(v),b=g(v);return o.jsxs(we,{children:[o.jsx(Y,{className:"font-medium",children:v.name}),o.jsx(Y,{children:o.jsx(Me,{variant:"outline",className:"text-xs",children:v.inputMode==="fixed"?o.jsxs(o.Fragment,{children:[o.jsx(DP,{className:"h-3 w-3 mr-1"}),"Fixe"]}):o.jsxs(o.Fragment,{children:[o.jsx(_v,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?ee(v.principalAmount,!0):"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?`${(v.interestRate*100).toFixed(1)}%`:"-"}),o.jsx(Y,{children:o.jsx(Me,{variant:"secondary",className:"text-xs",children:Rb[v.frequency]})}),o.jsxs(Y,{className:"text-xs",children:[rl[v.startDate.month].slice(0,3)," ",v.startDate.year,"  ",rl[v.endDate.month].slice(0,3)," ",v.endDate.year]}),o.jsxs(Y,{className:"text-right font-mono-numbers font-medium",children:[ee(x),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:cNe[v.frequency]})]}),o.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:ee(b,!0)}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>h(v),children:o.jsx(fS,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(v.id),children:o.jsx(un,{className:"h-3 w-3"})})]})})]},v.id)})})]})})}),o.jsx(Tr,{open:a,onOpenChange:i,children:o.jsxs(yr,{className:"max-w-lg",children:[o.jsx(xr,{children:o.jsx(br,{children:s?"Modifier le Prt":"Nouveau Prt"})}),o.jsxs("div",{className:"space-y-4 py-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Nom du prt"}),o.jsx(be,{value:c.name,onChange:v=>u(x=>({...x,name:v.target.value})),placeholder:"Ex: BPI Innovation"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Mode de saisie"}),o.jsx(Ea,{value:c.inputMode,onValueChange:v=>u(x=>({...x,inputMode:v})),children:o.jsxs(la,{className:"w-full",children:[o.jsxs(ut,{value:"calculated",className:"flex-1",children:[o.jsx(_v,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),o.jsxs(ut,{value:"fixed",className:"flex-1",children:[o.jsx(DP,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Montant emprunt ()"}),o.jsx(be,{type:"number",value:c.principalAmount,onChange:v=>u(x=>({...x,principalAmount:Number(v.target.value)}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Taux d'intrt annuel (%)"}),o.jsx(be,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:v=>u(x=>({...x,interestRate:Number(v.target.value)/100}))})]})]}),c.inputMode==="fixed"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Montant de l'chance ()"}),o.jsx(be,{type:"number",value:c.fixedPaymentAmount||0,onChange:v=>u(x=>({...x,fixedPaymentAmount:Number(v.target.value)})),placeholder:"Montant fixe par priode"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",Rb[c.frequency].toLowerCase(),")."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Frquence des chances"}),o.jsxs(at,{value:c.frequency,onValueChange:v=>u(x=>({...x,frequency:v})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"monthly",children:"Mensuel"}),o.jsx(De,{value:"quarterly",children:"Trimestriel"}),o.jsx(De,{value:"annual",children:"Annuel"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Date de dbut"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(at,{value:c.startDate.month.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,month:Number(v)}})),children:[o.jsx(tt,{className:"flex-1",children:o.jsx(it,{})}),o.jsx(rt,{children:rl.map((v,x)=>o.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(at,{value:c.startDate.year.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,year:Number(v)}})),children:[o.jsx(tt,{className:"w-24",children:o.jsx(it,{})}),o.jsx(rt,{children:d.map(v=>o.jsx(De,{value:v.toString(),children:v},v))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Date de fin"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(at,{value:c.endDate.month.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,month:Number(v)}})),children:[o.jsx(tt,{className:"flex-1",children:o.jsx(it,{})}),o.jsx(rt,{children:rl.map((v,x)=>o.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(at,{value:c.endDate.year.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,year:Number(v)}})),children:[o.jsx(tt,{className:"w-24",children:o.jsx(it,{})}),o.jsx(rt,{children:d.map(v=>o.jsx(De,{value:v.toString(),children:v},v))})]})]})]})]}),c.name.trim()&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[o.jsx("div",{className:"font-medium",children:"Aperu"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:["chance ",Rb[c.frequency].toLowerCase()," :"]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:ee(m({id:"",...c}))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),o.jsx("span",{className:"font-mono-numbers",children:ee(g({id:"",...c}),!0)})]})]})]}),o.jsxs(Gx,{children:[o.jsx(ae,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),o.jsx(ae,{onClick:p,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function dNe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(f,h)=>n+h),s=w.useMemo(()=>{const f=new Map;return e.forEach(h=>{const p=f.get(h.productId)||[];p.push(h),f.set(h.productId,p)}),f},[e]),l=r.filter(f=>f.devCost>0),c=f=>{const p=e.filter(v=>v.productId===f.id).reduce((v,x)=>v+x.percentageOfTotal,0),y=Math.max(0,100-p),m=Math.min(y,25),g={id:`capex-${Date.now()}`,productId:f.id,productName:f.name,year:f.launchYear,month:0,percentageOfTotal:m,amount:f.devCost*m/100};t([...e,g])},u=(f,h)=>{t(e.map(p=>{if(p.id!==f)return p;const y={...p,...h},m=r.find(g=>g.id===y.productId);return m&&(y.amount=m.devCost*y.percentageOfTotal/100),y}))},d=f=>{t(e.filter(h=>h.id!==f))};return o.jsx(Ue,{title:"Dblocage CAPEX Produits",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(gp,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):o.jsx("div",{className:"space-y-6",children:l.map(f=>{const h=s.get(f.id)||[],p=h.reduce((y,m)=>y+m.percentageOfTotal,0);return h.reduce((y,m)=>y+m.amount,0),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:f.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",ee(f.devCost,!0),"  Lancement : ",f.launchYear]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{variant:p===100?"default":"secondary",children:[p,"% planifi"]}),o.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>c(f),disabled:p>=100,children:[o.jsx(Or,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Mois"}),o.jsx(le,{children:"Anne"}),o.jsx(le,{className:"text-right",children:"% du total"}),o.jsx(le,{className:"text-right",children:"Montant"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:h.map(y=>o.jsxs(we,{children:[o.jsx(Y,{children:o.jsxs(at,{value:y.month.toString(),onValueChange:m=>u(y.id,{month:Number(m)}),children:[o.jsx(tt,{className:"h-8 w-28",children:o.jsx(it,{})}),o.jsx(rt,{children:rl.map((m,g)=>o.jsx(De,{value:g.toString(),children:m},g))})]})}),o.jsx(Y,{children:o.jsxs(at,{value:y.year.toString(),onValueChange:m=>u(y.id,{year:Number(m)}),children:[o.jsx(tt,{className:"h-8 w-20",children:o.jsx(it,{})}),o.jsx(rt,{children:i.map(m=>o.jsx(De,{value:m.toString(),children:m},m))})]})}),o.jsx(Y,{className:"text-right",children:o.jsx(be,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:m=>u(y.id,{percentageOfTotal:Number(m.target.value)})})}),o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(y.amount,!0)}),o.jsx(Y,{children:o.jsx(ae,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(y.id),children:o.jsx(un,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},f.id)})})})}function fNe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("full-period"),[i,s]=w.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=w.useMemo(()=>{const f=Ly(e.months);return l.map(h=>{const p=f.get(h);if(!p)return{label:h.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const m=e.months.filter(v=>v.year===h).reduce((v,x)=>v+x.capexPayments,0),g=p.loanPayments;return{label:h.toString(),ca:p.revenue/1e3,cogs:p.cogs/1e3,payroll:p.payroll/1e3,opex:p.opex/1e3,capex:m/1e3,loans:g/1e3,tresorerie:p.treasuryEnd/1e3,cashFlow:p.netCashFlow/1e3}})},[e,l]),u=w.useMemo(()=>e.months.filter(f=>f.year===i).map(f=>({label:f.monthName.slice(0,3),ca:f.revenue/1e3,cogs:f.cogs/1e3,payroll:f.payroll/1e3,opex:f.opex/1e3,capex:f.capexPayments/1e3,loans:f.loanPayments/1e3,tresorerie:f.treasuryEnd/1e3,cashFlow:f.netCashFlow/1e3})),[e,i]),d=n==="annual"?u:c;return o.jsx(Ue,{title:"Suivi de Trsorerie Dtaill",action:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(at,{value:n,onValueChange:f=>a(f),children:[o.jsx(tt,{className:"h-8 w-40",children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"full-period",children:"Toute la priode"}),o.jsx(De,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&o.jsxs(at,{value:i.toString(),onValueChange:f=>s(Number(f)),children:[o.jsx(tt,{className:"h-8 w-24",children:o.jsx(it,{})}),o.jsx(rt,{children:l.map(f=>o.jsx(De,{value:f.toString(),children:f},f))})]})]}),children:o.jsx("div",{className:"h-80",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(kp,{data:d,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"label"}),o.jsx(cr,{tickFormatter:f=>`${f}k`}),o.jsx(Ft,{formatter:f=>`${f.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cogs",name:"Achats matire",stackId:"costs",fill:"hsl(38, 92%, 50%)"}),o.jsx(qt,{dataKey:"payroll",name:"Masse salariale",stackId:"costs",fill:"hsl(210, 70%, 50%)"}),o.jsx(qt,{dataKey:"opex",name:"OPEX",stackId:"costs",fill:"hsl(280, 60%, 50%)"}),o.jsx(qt,{dataKey:"capex",name:"CAPEX",stackId:"costs",fill:"hsl(0, 0%, 45%)"}),o.jsx(qt,{dataKey:"loans",name:"chances prts",stackId:"costs",fill:"hsl(0, 85%, 50%)"}),o.jsx(Mn,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",stroke:"hsl(150, 60%, 40%)",strokeWidth:3,dot:{r:4}})]})})})})}function hNe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,s]=w.useState(t),l=Array.from({length:r},(f,h)=>t+h),c=w.useMemo(()=>Ly(e.months),[e]),u=w.useMemo(()=>e.months.filter(f=>f.year===i),[e,i]),d=(f,h,p,y)=>o.jsxs(we,{className:p,children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:f}),h.map((m,g)=>o.jsx(Y,{className:ie("text-right font-mono-numbers",y&&m>0&&"text-destructive"),children:y&&m>0?`(${ee(m,!0)})`:ee(m,!0)},g))]});if(n==="monthly"){const f=u;return o.jsx(Ue,{title:"Dtail Prvisionnel",action:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(at,{value:n,onValueChange:h=>a(h),children:[o.jsx(tt,{className:"h-8 w-36",children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"annual",children:"Par anne"}),o.jsx(De,{value:"monthly",children:"Par mois"})]})]}),o.jsxs(at,{value:i.toString(),onValueChange:h=>s(Number(h)),children:[o.jsx(tt,{className:"h-8 w-24",children:o.jsx(it,{})}),o.jsx(rt,{children:l.map(h=>o.jsx(De,{value:h.toString(),children:h},h))})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(h=>o.jsx(le,{className:"text-right min-w-20",children:rl[h.month].slice(0,3)},h.month))]})}),o.jsxs(Wt,{children:[d("CA (encaissements)",f.map(h=>h.revenue),"bg-muted/30"),d("Achats matire (COGS)",f.map(h=>h.cogs),"",!0),d("Masse salariale",f.map(h=>h.payroll),"",!0),d("OPEX",f.map(h=>h.opex),"",!0),d("Charges variables",f.map(h=>h.variableCharges),"",!0),d("chances prts",f.map(h=>h.loanPayments),"",!0),d("CAPEX produits",f.map(h=>h.capexPayments),"",!0),o.jsxs(we,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),f.map((h,p)=>o.jsxs(Y,{className:ie("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",ee(h.netCashFlow,!0)]},p))]}),o.jsxs(we,{className:"bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),f.map((h,p)=>o.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:ee(h.treasuryEnd,!0)},p))]})]})]})})})}return o.jsx(Ue,{title:"Dtail Prvisionnel",action:o.jsxs(at,{value:n,onValueChange:f=>a(f),children:[o.jsx(tt,{className:"h-8 w-36",children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"annual",children:"Par anne"}),o.jsx(De,{value:"monthly",children:"Par mois"})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(f=>o.jsx(le,{className:"text-right min-w-24",children:f},f))]})}),o.jsxs(Wt,{children:[d("CA (encaissements)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.revenue)||0}),"bg-muted/30"),d("Achats matire (COGS)",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.cogs)||0}),"",!0),d("Masse salariale",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.payroll)||0}),"",!0),d("OPEX",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.opex)||0}),"",!0),d("Charges variables",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.variableCharges)||0}),"",!0),d("chances prts",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.loanPayments)||0}),"",!0),d("CAPEX produits",l.map(f=>e.months.filter(p=>p.year===f).reduce((p,y)=>p+y.capexPayments,0)),"",!0),d("Leves de fonds",l.map(f=>{var h;return((h=c.get(f))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),o.jsxs(we,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.netCashFlow)||0;return o.jsxs(Y,{className:ie("text-right font-mono-numbers font-bold",p<0?"text-destructive":"text-green-600"),children:[p>=0?"+":"",ee(p,!0)]},f)})]}),o.jsxs(we,{className:"bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(f=>{const h=c.get(f),p=(h==null?void 0:h.treasuryEnd)||0;return o.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",p<0&&"text-destructive"),children:ee(p,!0)},f)})]})]})]})})})}const $b=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],pNe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],mNe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],vNe={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function gNe(){var P;const{state:e,computed:t,saveAll:r,setExcludeFundingFromTreasury:n,updateMonthlyTreasuryConfig:a}=$i(),[i,s]=w.useState(()=>{const E=new Set;return $b.forEach(k=>{k.defaultVisible&&E.add(k.id)}),E}),[l,c]=w.useState("annual"),{startYear:u,durationYears:d}=e.scenarioSettings,f=Array.from({length:d},(E,k)=>u+k),h=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:p}=t,y=w.useMemo(()=>{const E=Ly(p.months);return f.map(k=>{const A=E.get(k);if(!A)return{year:k,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const R=t.treasuryProjection.years.find($=>$.year===k),O=(R==null?void 0:R.capex)||0,I=(R==null?void 0:R.depreciation)||0;return{year:A.year,revenue:A.revenue,cogs:A.cogs,grossMargin:A.grossMargin,payroll:A.payroll,opex:A.opex,capex:O,depreciation:I,ebitda:A.ebitda,operatingResult:A.ebitda-I,cashFlow:A.netCashFlow,treasuryStart:A.treasuryStart,treasuryEnd:A.treasuryEnd,fundingInjection:A.fundingInjection}})},[p,t.treasuryProjection,f]),m=y.map(E=>({year:E.year,tresorerie:E.treasuryEnd/1e3,cashFlow:E.cashFlow/1e3,levee:E.fundingInjection/1e3})),g=y.map(E=>({year:E.year,ca:E.revenue/1e3,margeBrute:E.grossMargin/1e3,ebitda:E.ebitda/1e3,resultat:E.operatingResult/1e3})),v=y[0],x=y[y.length-1],b=y.reduce((E,k)=>E+k.cashFlow,0),_=((P=p.breakEvenMonth)==null?void 0:P.year)||null,j=p.minTreasury,S=E=>{s(k=>{const A=new Set(k);return A.has(E)?A.delete(E):A.add(E),A})},C=$b.filter(E=>i.has(E.id)),N=(E,k)=>k==="percent"?Ar(E):ee(E,!0);return o.jsx(js,{tabKey:"previsionnel",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(Ea,{value:l,onValueChange:E=>c(E),children:o.jsxs(la,{children:[o.jsxs(ut,{value:"annual",className:"flex items-center gap-2",children:[o.jsx(XM,{className:"h-4 w-4"}),"Vue Annuelle"]}),o.jsxs(ut,{value:"monthly",className:"flex items-center gap-2",children:[o.jsx(Km,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),o.jsxs(ut,{value:"params",className:"flex items-center gap-2",children:[o.jsx(FP,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),o.jsx(Me,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":"Global Canaux"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qx,{id:"exclude-funding",checked:h,onCheckedChange:E=>n(E===!0)}),o.jsx(_e,{htmlFor:"exclude-funding",className:"text-sm cursor-pointer",children:"Ne pas intgrer le montant  lever dans la trsorerie"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{variant:"outline",className:"text-xs",children:[d," annes  ",C.length," indicateurs actifs"]}),o.jsx(Rd,{pageTitle:l==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:l==="monthly"?mNe:pNe,fileName:l==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),o.jsx(gd,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),l==="params"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(uNe,{loans:e.monthlyTreasuryConfig.loans,onChange:E=>a({...e.monthlyTreasuryConfig,loans:E}),startYear:u,durationYears:d}),o.jsx(dNe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:E=>a({...e.monthlyTreasuryConfig,capexPayments:E}),products:e.products,startYear:u,durationYears:d})]}):l==="monthly"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(fNe,{projection:p,startYear:u,durationYears:d}),o.jsx(hNe,{projection:p,startYear:u,durationYears:d}),o.jsx(lNe,{})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[o.jsx(st,{label:`CA ${(x==null?void 0:x.year)||""}`,value:ee((x==null?void 0:x.revenue)||0,!0),subValue:`vs ${ee((v==null?void 0:v.revenue)||0,!0)} en ${v==null?void 0:v.year}`,trend:"up"}),o.jsx(st,{label:"Cash Flow Cumul",value:ee(b,!0),subValue:`${v==null?void 0:v.year}-${x==null?void 0:x.year}`,trend:b>=0?"up":"down"}),o.jsx(st,{label:"Trsorerie Min",value:ee(j,!0),subValue:"Point bas projet",trend:j>=0?"neutral":"down"}),o.jsx(st,{label:"Break-even",value:_?_.toString():"N/A",subValue:"Cash flow positif"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:o.jsx("div",{className:"h-72",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(kp,{data:m,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx(qt,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),o.jsx(Ue,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:o.jsx("div",{className:"h-72",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(Td,{data:m,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),o.jsx(Ue,{title:"Soldes Intermdiaires de Gestion",children:o.jsx("div",{className:"h-72",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs($F,{data:g,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(Mn,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx(Mn,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),o.jsx(Mn,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),o.jsx(Mn,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),o.jsxs(Ue,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:o.jsxs(sNe,{children:[o.jsx(oNe,{asChild:!0,children:o.jsxs(ae,{variant:"outline",size:"sm",children:[o.jsx(FP,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),o.jsx(ez,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries(vNe).map(([E,k])=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:k}),$b.filter(A=>A.category===E).map(A=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[o.jsx(_e,{htmlFor:A.id,className:"text-sm cursor-pointer",children:A.name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:A.description})]}),o.jsx(M5,{id:A.id,checked:i.has(A.id),onCheckedChange:()=>S(A.id)})]},A.id))]},E))]})})]}),children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),f.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E)),o.jsx(le,{className:"text-right min-w-28",children:"volution"})]})}),o.jsx(Wt,{children:C.map(E=>{const k=y.map(I=>E.calculate(I)),A=k[0]||0,R=k[k.length-1]||0,O=A!==0?(R-A)/Math.abs(A):0;return o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:o.jsxs("div",{children:[o.jsx("span",{children:E.name}),o.jsx("span",{className:"block text-xs text-muted-foreground",children:E.description})]})}),k.map((I,$)=>o.jsx(Y,{className:ie("text-right font-mono-numbers",E.format==="currency"&&I<0&&"text-destructive"),children:N(I,E.format)},$)),o.jsx(Y,{className:"text-right",children:o.jsxs("div",{className:ie("flex items-center justify-end gap-1",O>0?"text-green-600":O<0?"text-destructive":"text-muted-foreground"),children:[O>0?o.jsx(sd,{className:"h-3 w-3"}):O<0?o.jsx(mS,{className:"h-3 w-3"}):null,o.jsxs("span",{className:"font-mono-numbers text-sm",children:[O>0?"+":"",Ar(O)]})]})})]},E.id)})})]})}),C.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(tI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"Aucun indicateur slectionn"}),o.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),o.jsx(Ue,{title:"Compte de Rsultat Simplifi",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),f.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E))]})}),o.jsxs(Wt,{children:[o.jsxs(we,{className:"bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(E.revenue,!0)},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(E.cogs,!0),")"]},k))]}),o.jsxs(we,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:ee(E.grossMargin,!0)},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(E.payroll,!0),")"]},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(E.opex,!0),")"]},k))]}),o.jsxs(we,{className:"border-t-2 bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),y.map((E,k)=>o.jsx(Y,{className:ie("text-right font-mono-numbers font-medium",E.ebitda<0&&"text-destructive"),children:ee(E.ebitda,!0)},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",ee(E.depreciation,!0),")"]},k))]}),o.jsxs(we,{className:"border-t-2 bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),y.map((E,k)=>o.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",E.operatingResult<0&&"text-destructive"),children:ee(E.operatingResult,!0)},k))]})]})]})})}),o.jsx(Ue,{title:"Tableau des Flux de Trsorerie",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Flux"}),f.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E))]})}),o.jsxs(Wt,{children:[o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers",children:ee(E.treasuryStart,!0)},k))]}),o.jsxs(we,{className:"bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-green-600",children:["+",ee(E.revenue,!0)]},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-destructive",children:["-",ee(E.cogs+E.payroll+E.opex,!0)]},k))]}),o.jsxs(we,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers text-destructive",children:E.capex>0?`-${ee(E.capex,!0)}`:"-"},k))]}),o.jsxs(we,{className:"border-t",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),y.map((E,k)=>o.jsxs(Y,{className:ie("text-right font-mono-numbers font-medium",E.cashFlow<0?"text-destructive":"text-green-600"),children:[E.cashFlow>=0?"+":"",ee(E.cashFlow,!0)]},k))]}),o.jsxs(we,{className:"bg-green-50 dark:bg-green-950/20",children:[o.jsx(Y,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers text-green-600",children:E.fundingInjection>0?`+${ee(E.fundingInjection,!0)}`:"-"},k))]}),o.jsxs(we,{className:"border-t-2 bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),y.map((E,k)=>o.jsx(Y,{className:ie("text-right font-mono-numbers font-bold",E.treasuryEnd<0&&"text-destructive"),children:ee(E.treasuryEnd,!0)},k))]})]})]})})})]})]})})}const n2=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function yNe(){const{state:e}=$i(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return o.jsx(Ue,{title:"Allocation des Fonds",children:o.jsx("div",{className:"space-y-3",children:n2.map(n=>{const a=1/n2.length,i=r*a;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:n.label}),o.jsx("span",{className:"font-mono-numbers",children:ee(i,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function xNe(){var N;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=$i(),{startYear:a,durationYears:i,initialCash:s}=e.scenarioSettings,l=Array.from({length:i},(P,E)=>a+E),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{treasuryProjection:u}=t,d=c.amount,f=c.preMoneyValuation,h=f+d,p=d/h,y=u.fundingNeed,m=y>0?d/y:1,g=u.years.map(P=>({year:P.year,revenue:P.revenue/1e3,costs:P.totalCosts/1e3,cashFlow:P.cashFlow/1e3,treasury:P.treasuryEnd/1e3,isNegative:P.treasuryEnd<0})),v=P=>{r([{...c,amount:P}])},x=P=>{r([{...c,preMoneyValuation:P}])},b=P=>{r([{...c,year:parseInt(P)}])},_=P=>{r([{...c,quarter:P}])},j=P=>{n({initialCash:P})},S=u.minTreasury<0,C=(N=u.years.find(P=>P.minTreasuryInYear===u.minTreasury))==null?void 0:N.year;return o.jsx(js,{tabKey:"funding",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),S&&o.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(hu,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),o.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",ee(u.minTreasury,!0)," en ",C]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(st,{label:"Besoin Calcul",value:ee(y,!0),subValue:"max(0, -trso min)",trend:y>0?"down":void 0}),o.jsx(st,{label:"Montant  Lever",value:ee(d,!0),subValue:"Ajustable ci-dessous"}),o.jsx(st,{label:"Pre-Money",value:ee(f,!0),subValue:"Valorisation"}),o.jsx(st,{label:"Post-Money",value:ee(h,!0),subValue:"Aprs leve"}),o.jsx(st,{label:"Dilution",value:Ar(p),subValue:"Sur le round"})]}),o.jsx(Ue,{title:"Calibrage de la Leve",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(s,!0)})]}),o.jsx(gn,{value:[s/1e3],onValueChange:([P])=>j(P*1e3),min:0,max:500,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"500k"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(d,!0)})]}),o.jsx(gn,{value:[d/1e3],onValueChange:([P])=>v(P*1e3),min:0,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"5M"})]}),d===0&&o.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(f,!0)})]}),o.jsx(gn,{value:[f/1e3],onValueChange:([P])=>x(P*1e3),min:200,max:2e4,step:100}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"200k"}),o.jsx("span",{children:"20M"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(du,{className:"h-4 w-4"}),"Anne"]}),o.jsxs(at,{value:c.year.toString(),onValueChange:b,children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:l.map(P=>o.jsx(De,{value:P.toString(),children:P},P))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),o.jsxs(at,{value:c.quarter,onValueChange:_,children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:K7.map(P=>o.jsx(De,{value:P,children:P},P))})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),o.jsx(Me,{variant:"secondary",children:"Auto"})]}),o.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:ee(y,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),o.jsx("span",{className:"font-mono-numbers",children:Ar(Math.min(m,2))})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:ie("h-2 rounded-full transition-all",m>=1?"bg-accent":m>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(m*100,100)}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),o.jsx("div",{className:"text-lg font-bold",children:u.breakEvenYear||"N/A"})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",u.minTreasury<0?"text-destructive":""),children:ee(u.minTreasury,!0)})]})]})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"Projection Cash Flow & Trsorerie",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(kp,{data:g,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:P=>`${P}k`}),o.jsx(Ft,{formatter:P=>`${P.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx(Mn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),o.jsx(yNe,{})]}),o.jsx(Ue,{title:"Projection Dtaille",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),o.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),o.jsx("tbody",{children:u.years.map(P=>o.jsxs("tr",{className:ie("border-b",P.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-2 px-3 font-medium",children:P.year}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(P.revenue,!0)}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:ee(P.totalCosts,!0)}),o.jsxs("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-medium",P.cashFlow>=0?"text-accent":"text-destructive"),children:[P.cashFlow>=0?"+":"",ee(P.cashFlow,!0)]}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:P.fundingInjection>0?`+${ee(P.fundingInjection,!0)}`:"-"}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:ee(P.treasuryStart,!0)}),o.jsx("td",{className:ie("py-2 px-3 text-right font-mono-numbers font-bold",P.treasuryEnd<0?"text-destructive":""),children:ee(P.treasuryEnd,!0)})]},P.year))})]})})})]})})}const bNe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function wNe(){var k,A,R;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:s,saveAll:l}=$i();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:d}=e.scenarioSettings,f=e.fundingRounds[e.fundingRounds.length-1],h=(f==null?void 0:f.amount)||0,p=Array.from({length:u},(O,I)=>c+I),y=(O,I)=>{const $=e.scenarioConfigs[O];if(e.revenueMode==="by-channel-global")return gh(e.globalRevenueConfig,I)*(1+$.volumeAdjustment)*(1+$.priceAdjustment);let M=0;return e.products.forEach(D=>{const L=D.volumesByChannel;if(L){const z=D.priceHT||D.priceTTC_B2C/(1+(D.vatRate||.2)),X=D.coef_shop||1.6,G=D.coef_dist||1.3,F=D.coef_oem||1.4,J=z/X/G,U=D.unitCost*F,V=Math.round((L.B2C[I]||0)*(1+$.volumeAdjustment)),W=Math.round((L.B2B[I]||0)*(1+$.volumeAdjustment)),de=Math.round((L.OEM[I]||0)*(1+$.volumeAdjustment));M+=V*z*(1+$.priceAdjustment),M+=W*J*(1+$.priceAdjustment),M+=de*U*(1+$.priceAdjustment)}else if(D.volumesByYear[I]){const z=Math.round(D.volumesByYear[I]*(1+$.volumeAdjustment));M+=z*D.priceHT*(1+$.priceAdjustment)}}),M},m=O=>{const I=p.map(D=>y(O,D)),$=I[I.length-1]||0,M=I[0]||0;return{revenueLastYear:$,totalRevenue:I.reduce((D,L)=>D+L,0),cagr:$>0&&M>0&&u>1?Math.pow($/M,1/(u-1))-1:0}},g=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],v=p.map(O=>{const I={year:O};return g.forEach($=>{I[$.id]=y($.id,O)/1e3}),I}),x=g.map(O=>{const I=m(O.id);return{...O,...I,config:e.scenarioConfigs[O.id]}}),b=O=>{a({startYear:O})},_=O=>{a({durationYears:O})},j=O=>{a({initialCash:O})},S=O=>{if(f){const I=e.fundingRounds.map($=>$.id===f.id?{...$,amount:O}:$);i(I)}},{monthlyTreasuryProjection:C}=t,N=w.useMemo(()=>{const O=Ly(C.months);return p.map(I=>{const $=O.get(I);return $?{year:$.year,revenue:$.revenue/1e3,cogs:$.cogs/1e3,payroll:$.payroll/1e3,opex:$.opex/1e3,grossMargin:$.grossMargin/1e3,ebitda:$.ebitda/1e3,cashFlow:$.netCashFlow/1e3,treasury:$.treasuryEnd/1e3}:{year:I,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,p]),P=C.minTreasury/1e3,E=((k=C.breakEvenMonth)==null?void 0:k.year)||"N/A";return o.jsx(js,{tabKey:"scenarios",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs(Me,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rd,{pageTitle:"Scnarios",sections:bNe,fileName:"Scenarios"}),o.jsx(gd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(Ue,{title:"Paramtres du Scnario",id:"scenario-settings",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(du,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(_e,{children:"Anne de dbut"})]}),o.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(O=>o.jsx(ae,{size:"sm",variant:c===O?"default":"outline",onClick:()=>b(O),children:O},O))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dS,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(_e,{children:"Dure (annes)"})]}),o.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(O=>o.jsxs(ae,{size:"sm",variant:u===O?"default":"outline",onClick:()=>_(O),children:[O," ans"]},O))}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),o.jsxs(Ue,{title:"Paramtres Trsorerie",id:"treasury-params",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[o.jsx(Qx,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:O=>s(!O)}),o.jsx(_e,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),o.jsx(Me,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(nI,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(_e,{children:"Trsorerie initiale (T0)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(d,!0)})]}),o.jsx(gn,{value:[d/1e3],onValueChange:([O])=>j(O*1e3),min:0,max:1e3,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(sd,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(_e,{children:"Montant Lev"}),o.jsx(Me,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:(f==null?void 0:f.name)||"Tour de table"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:ee(h,!0)})]}),o.jsx(gn,{value:[h/1e3],onValueChange:([O])=>S(O*1e3),min:100,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"100k"}),o.jsx("span",{children:"5M"})]})]})]})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[o.jsx(st,{label:"Cash Total T0",value:ee(d+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),o.jsx(st,{label:"Point Bas Trso",value:ee(P*1e3,!0),subValue:"Sur la priode",trend:P<0?"down":void 0}),o.jsx(st,{label:"Break-even",value:E.toString(),subValue:"Cash flow positif"}),o.jsx(st,{label:"Trso Finale",value:ee((((A=N[N.length-1])==null?void 0:A.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(O=>o.jsxs("div",{className:ie("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===O.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(O.id),children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"font-semibold",children:O.name}),e.activeScenarioId===O.id&&o.jsx(Me,{children:"Actif"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:ee(O.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:Ar(O.cagr)})]})]}),o.jsxs("div",{className:"space-y-3",onClick:I=>I.stopPropagation(),children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:ie("font-mono-numbers",O.config.volumeAdjustment>0?"text-green-600":O.config.volumeAdjustment<0?"text-destructive":""),children:[O.config.volumeAdjustment>0?"+":"",(O.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsx(gn,{value:[(O.config.volumeAdjustment+.5)*100],onValueChange:([I])=>n(O.id,{volumeAdjustment:I/100-.5}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:ie("font-mono-numbers",O.config.priceAdjustment>0?"text-green-600":O.config.priceAdjustment<0?"text-destructive":""),children:[O.config.priceAdjustment>0?"+":"",(O.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsx(gn,{value:[(O.config.priceAdjustment+.2)*250],onValueChange:([I])=>n(O.id,{priceAdjustment:I/250-.2}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:ie("font-mono-numbers",O.config.opexAdjustment<0?"text-green-600":O.config.opexAdjustment>0?"text-destructive":""),children:[O.config.opexAdjustment>0?"+":"",(O.config.opexAdjustment*100).toFixed(0),"%"]})]}),o.jsx(gn,{value:[(O.config.opexAdjustment+.3)*166],onValueChange:([I])=>n(O.id,{opexAdjustment:I/166-.3}),min:0,max:100,step:5})]})]})]},O.id))}),o.jsx(Ue,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:o.jsx("div",{className:"h-80",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs($F,{data:v,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:O=>`${O}k`}),o.jsx(Ft,{formatter:O=>`${O.toFixed(0)}k`}),o.jsx(Gr,{}),g.map(O=>o.jsx(Mn,{type:"monotone",dataKey:O.id,name:O.name,stroke:O.color,strokeWidth:e.activeScenarioId===O.id?3:1,dot:{fill:O.color}},O.id))]})})})}),o.jsxs(Ue,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",o.jsx(Me,{variant:"outline",children:(R=g.find(O=>O.id===e.activeScenarioId))==null?void 0:R.name})," avec trso initiale ",ee(d,!0),!e.excludeFundingFromTreasury&&` + leve ${ee(h,!0)}`," "," ",o.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),o.jsx("div",{className:"h-80",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(kp,{data:N,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:O=>`${O}k`}),o.jsx(Ft,{formatter:O=>`${O.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),o.jsx(Mn,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(O=>o.jsx(Ue,{title:O.name,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:ee(O.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:Ar(O.cagr)})]})]}),o.jsxs("div",{className:"pt-4 border-t space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:"font-mono-numbers",children:[O.config.volumeAdjustment>0?"+":"",(O.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:"font-mono-numbers",children:[O.config.priceAdjustment>0?"+":"",(O.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:"font-mono-numbers",children:[O.config.opexAdjustment>0?"+":"",(O.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[O.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",O.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",O.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},O.id))})]})})}function jNe({data:e,onChange:t}){const r=(n,a,i)=>{const s=[...e];s[n]={...s[n],[a]:i},t(s)};return o.jsx(Ue,{title:"Donnes Historiques",id:"valuation-historical",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),o.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Marge Brute %"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Masse Salariale"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Charges Ext."})]})}),o.jsx("tbody",{children:e.map((n,a)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 px-3 font-medium",children:n.year}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(be,{type:"number",value:n.revenue,onChange:i=>r(a,"revenue",Number(i.target.value)),className:"h-8 w-28 text-right"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(be,{type:"number",value:(n.grossMargin*100).toFixed(0),onChange:i=>r(a,"grossMargin",Number(i.target.value)/100),className:"h-8 w-20 text-right",step:"1"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(be,{type:"number",value:n.payroll,onChange:i=>r(a,"payroll",Number(i.target.value)),className:"h-8 w-28 text-right"})}),o.jsx("td",{className:"py-2 px-3 text-right",children:o.jsx(be,{type:"number",value:n.externalCosts,onChange:i=>r(a,"externalCosts",Number(i.target.value)),className:"h-8 w-28 text-right"})})]},n.year))})]})})})}const _Ne={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function SNe({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*(1-e.ocRatio),a=r+n,i=a>0?n/a:0;return o.jsx(Ue,{title:"Simulation de Dilution",id:"valuation-dilution",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(_e,{children:["Multiple EBITDA: ",e.ebitdaMultiple.toFixed(1),"x"]}),o.jsx(gn,{value:[e.ebitdaMultiple],onValueChange:([s])=>t({...e,ebitdaMultiple:s}),min:2,max:15,step:.5})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(_e,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%"]}),o.jsx(gn,{value:[e.ocRatio*100],onValueChange:([s])=>t({...e,ocRatio:s/100}),min:0,max:50,step:5})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(r,!0)})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:ee(a,!0)})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:Ar(i)})]})]})]})})}const a2=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function CNe(e){return e.projectedRevenue*e.multiple}function NNe(e){return e.projectedEBITDA*e.multiple}function PNe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function ENe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,s])=>{const l=n[i]||0;a+=l*s}),t*a}function ANe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function kNe(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,s)=>i+s,0)*25e4;return t+a}function ac(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=CNe(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=NNe(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=PNe(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=ENe(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=ANe(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=kNe(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function ONe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const i2=[2025,2026,2027,2028,2029,2030],TNe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function RNe(){const{state:e,computed:t,updateHistoricalData:r,saveAll:n}=$i(),[a,i]=w.useState(["revenue_multiple","ebitda_multiple"]),[s,l]=w.useState("projected"),[c,u]=w.useState(2024),[d,f]=w.useState(2028),[h,p]=w.useState(.5),[y,m]=w.useState({revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}}),g=e.fundingRounds[e.fundingRounds.length-1],v=(g==null?void 0:g.amount)||15e5,x=(()=>{const F=e.historicalData[e.historicalData.length-1];return F?F.revenue*F.grossMargin-F.payroll-F.externalCosts:5e5})(),[b,_]=w.useState({..._Ne,totalRaise:v,referenceEBITDA:x});T.useEffect(()=>{_(F=>({...F,totalRaise:v,referenceEBITDA:x}))},[v,x]);const j=Math.max(2e5,b.referenceEBITDA*b.ebitdaMultiple),S=b.totalRaise*(1-b.ocRatio),C=j+S,N=C>0?S/C:0,[P,E]=w.useState({conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}),k=e.historicalData.map(F=>F.year),R=(()=>{const F=U=>{const V=e.historicalData.find(te=>te.year===U);if(!V)return{revenue:0,ebitda:0,ebit:0};const de=V.revenue*V.grossMargin-V.payroll-V.externalCosts,Q=de-V.depreciation;return{revenue:V.revenue,ebitda:de,ebit:Q}},J=U=>{const V=t.revenueByYear.find(ge=>ge.year===U),W=t.payrollByYear.find(ge=>ge.year===U),de=t.opexByYear.find(ge=>ge.year===U),Q=t.capexByYear.find(ge=>ge.year===U),te=(V==null?void 0:V.revenue)||0,H=te-((V==null?void 0:V.cogs)||0)-((W==null?void 0:W.payroll)||0)-((de==null?void 0:de.opex)||0),ve=H-((Q==null?void 0:Q.depreciation)||0);return{revenue:te,ebitda:H,ebit:ve}};if(s==="historical")return F(c);if(s==="projected")return J(d);{const U=F(c),V=J(d);return{revenue:U.revenue*(1-h)+V.revenue*h,ebitda:U.ebitda*(1-h)+V.ebitda*h,ebit:U.ebit*(1-h)+V.ebit*h}}})(),I=(()=>{const F=[];if(a.includes("revenue_multiple")&&F.push(ac("revenue_multiple",{projectedRevenue:R.revenue,multiple:y.revenue_multiple.multiple})),a.includes("ebitda_multiple")&&F.push(ac("ebitda_multiple",{projectedEBITDA:R.ebitda,multiple:y.ebitda_multiple.multiple})),a.includes("dcf")){const J=i2.map(U=>{const V=t.revenueByYear.find(te=>te.year===U),W=t.payrollByYear.find(te=>te.year===U),de=t.opexByYear.find(te=>te.year===U),Q=t.capexByYear.find(te=>te.year===U);return((V==null?void 0:V.revenue)||0)-((V==null?void 0:V.cogs)||0)-((W==null?void 0:W.payroll)||0)-((de==null?void 0:de.opex)||0)-((Q==null?void 0:Q.capex)||0)});F.push(ac("dcf",{cashFlows:J,discountRate:y.dcf.discountRate,terminalGrowthRate:y.dcf.terminalGrowthRate}))}return a.includes("scorecard")&&F.push(ac("scorecard",{baseValuation:y.scorecard.baseValuation,factors:{team:y.scorecard.team,market:y.scorecard.market,product:y.scorecard.product,competition:y.scorecard.competition,marketing:y.scorecard.marketing,fundingNeed:y.scorecard.fundingNeed}})),a.includes("berkus")&&F.push(ac("berkus",y.berkus)),a.includes("risk_factor")&&F.push(ac("risk_factor",{baseValuation:y.risk_factor.baseValuation,factors:{managementRisk:y.risk_factor.managementRisk,businessStage:y.risk_factor.businessStage,legislation:y.risk_factor.legislation,manufacturing:y.risk_factor.manufacturing,salesMarketing:y.risk_factor.salesMarketing,fundingCapital:y.risk_factor.fundingCapital,competition:y.risk_factor.competition,technology:y.risk_factor.technology,litigation:y.risk_factor.litigation,international:y.risk_factor.international,reputation:y.risk_factor.reputation,potentialExit:y.risk_factor.potentialExit}})),F})(),$=ONe(I),M=F=>{i(J=>J.includes(F)?J.filter(U=>U!==F):[...J,F])},D=I.map(F=>{var J;return{name:((J=a2.find(U=>U.id===F.method))==null?void 0:J.name)||F.method,value:F.value/1e6,confidence:F.confidence}}),L=(F,J,U)=>F<=0||J<=0||U<=0?0:Math.pow(J/F,1/U)-1,z=F=>{const J=t.revenueByYear.find(W=>W.year===F),U=t.payrollByYear.find(W=>W.year===F),V=t.opexByYear.find(W=>W.year===F);return J?J.revenue-J.cogs-((U==null?void 0:U.payroll)||0)-((V==null?void 0:V.opex)||0):0},X=Object.entries(P).map(([F,J])=>{const U=J.year,V=z(U),W=V*J.exitMultiple,Q=W*N,te=U-e.scenarioSettings.startYear,q=L(S,Q,te),H=S>0?Q/S:0;return{scenario:F,year:U,exitMultiple:J.exitMultiple,probability:J.probability,ebitdaAtExit:V,exitValuation:W,investorReturn:Q,irr:q,multiple:H}}),G=i2.map(F=>{const J=t.revenueByYear.find(H=>H.year===F),U=t.payrollByYear.find(H=>H.year===F),V=t.opexByYear.find(H=>H.year===F),W=t.capexByYear.find(H=>H.year===F),de=(J==null?void 0:J.revenue)||0,Q=de-((J==null?void 0:J.cogs)||0),te=Q-((U==null?void 0:U.payroll)||0)-((V==null?void 0:V.opex)||0),q=te-((W==null?void 0:W.depreciation)||0);return{year:F,revenue:de/1e3,grossMargin:Q/1e3,ebitda:te/1e3,ebit:q/1e3}});return o.jsx(js,{tabKey:"valuation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Me,{variant:"outline",className:"text-xs",children:[a.length," mthodes slectionnes"]}),o.jsxs(Me,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",ee($,!0)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rd,{pageTitle:"Valorisation & Analyse",sections:TNe,fileName:"Valorisation"}),o.jsx(gd,{onSave:n,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[o.jsx(st,{label:"Pre-Money (EBITDA)",value:ee(j,!0),subValue:`${b.ebitdaMultiple.toFixed(1)}x EBITDA`}),o.jsx(st,{label:"Post-Money",value:ee(C,!0),subValue:"Aprs leve"}),o.jsx(st,{label:"Dilution Totale",value:Ar(N),subValue:"Part investisseur"}),o.jsx(st,{label:"TRI moyen",value:Ar(X.reduce((F,J)=>F+J.irr*J.probability,0)),subValue:"Pondr par probabilit"})]}),o.jsxs(Ea,{defaultValue:"historical",className:"space-y-4",children:[o.jsxs(la,{className:"flex flex-wrap",children:[o.jsx(ut,{value:"historical",children:"Historique Financier"}),o.jsx(ut,{value:"methods",children:"Mthodes de Valorisation"}),o.jsx(ut,{value:"dilution",children:"Simulation Dilution"}),o.jsx(ut,{value:"exit",children:"Scnarios de Sortie"})]}),o.jsx(mt,{value:"historical",className:"space-y-6",children:o.jsx(jNe,{data:e.historicalData,onChange:r})}),o.jsxs(mt,{value:"methods",className:"space-y-6",children:[o.jsxs(Ue,{title:"Base de Calcul",children:[o.jsx("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"}].map(F=>o.jsxs("button",{onClick:()=>l(F.value),className:ie("p-4 rounded-lg text-left transition-colors border-2",s===F.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium",children:F.label}),o.jsx("div",{className:"text-xs text-muted-foreground",children:F.desc})]},F.value))}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(s==="historical"||s==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Anne historique de rfrence"}),o.jsx("div",{className:"flex gap-2",children:k.map(F=>o.jsx(ae,{size:"sm",variant:c===F?"default":"outline",onClick:()=>u(F),children:F},F))})]}),(s==="projected"||s==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Anne projete de rfrence"}),o.jsx("div",{className:"flex gap-2",children:[2027,2028,2029,2030].map(F=>o.jsx(ae,{size:"sm",variant:d===F?"default":"outline",onClick:()=>f(F),children:F},F))})]})]}),s==="mixed"&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Pondration"}),o.jsxs("span",{children:[Math.round((1-h)*100),"% historique / ",Math.round(h*100),"% projet"]})]}),o.jsx(gn,{value:[h*100],onValueChange:([F])=>p(F/100),min:0,max:100,step:5})]}),o.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"CA de rfrence"}),o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(R.revenue,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"EBITDA de rfrence"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",R.ebitda<0&&"text-destructive"),children:ee(R.ebitda,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"EBIT de rfrence"}),o.jsx("div",{className:ie("text-lg font-bold font-mono-numbers",R.ebit<0&&"text-destructive"),children:ee(R.ebit,!0)})]})]})]}),o.jsx(Ue,{title:"Slection des Mthodes",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:a2.map(F=>{const J=a.includes(F.id),U=I.find(V=>V.method===F.id);return o.jsxs("button",{onClick:()=>M(F.id),className:ie("p-4 rounded-lg text-left transition-all border-2",J?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:F.name}),J&&o.jsx(Me,{variant:"default",className:"text-xs",children:"Actif"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:F.description}),U&&o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:ee(U.value,!0)})]},F.id)})})}),I.length>0&&o.jsx(Ue,{title:"Comparaison des Valorisations",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(Td,{data:D,layout:"vertical",children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{type:"number",tickFormatter:F=>`${F}M`}),o.jsx(cr,{type:"category",dataKey:"name",width:120}),o.jsx(Ft,{formatter:F=>`${F.toFixed(1)}M`}),o.jsx(qt,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),o.jsx(mt,{value:"dilution",className:"space-y-6",children:o.jsx(SNe,{config:b,onChange:_})}),o.jsxs(mt,{value:"exit",className:"space-y-6",children:[o.jsx(Ue,{title:"Paramtres des Scnarios de Sortie",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:F,label:J,color:U})=>o.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:ie("font-medium",U),children:J}),o.jsx(Me,{variant:"outline",children:P[F].year})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Multiple EBITDA sortie"}),o.jsxs("span",{className:"font-mono-numbers font-bold",children:[P[F].exitMultiple,"x"]})]}),o.jsx(gn,{value:[P[F].exitMultiple],onValueChange:([V])=>E(W=>({...W,[F]:{...W[F],exitMultiple:V}})),min:2,max:15,step:.5})]})]},F))})}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:X.map(F=>o.jsx(Ue,{title:F.scenario==="conservative"?"Prudent":F.scenario==="base"?"Base":"Ambitieux",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),o.jsx("p",{className:"text-xl font-bold",children:F.year})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),o.jsxs("p",{className:"text-xl font-bold",children:[F.exitMultiple,"x"]})]})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:ee(F.ebitdaAtExit,!0)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:ee(F.exitValuation,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:ee(F.investorReturn,!0)})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"TRI"}),o.jsx("span",{className:ie("font-bold font-mono-numbers",F.irr>=.25?"text-green-600 dark:text-green-400":F.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:Ar(F.irr)})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm",children:"Multiple"}),o.jsxs("span",{className:"font-bold font-mono-numbers",children:[F.multiple.toFixed(1),"x"]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),o.jsx("span",{className:"text-muted-foreground",children:Ar(F.probability)})]})]})]})},F.scenario))}),o.jsx(Ue,{title:"volution Prvisionnelle P&L",children:o.jsx("div",{className:"h-64",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(MF,{data:G,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:F=>`${F}k`}),o.jsx(Ft,{formatter:F=>`${F.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),o.jsx(na,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),o.jsx(na,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function $Ne(){return o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[o.jsx(Sy,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const MNe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"};function INe(){var A,R,O,I;const{state:e,computed:t}=$i(),{treasuryProjection:r}=t,{startYear:n,durationYears:a,initialCash:i}=e.scenarioSettings,s=n+a-1,l=r.totalFundingRaised,c=i+l,u=r.years,d=r.minTreasury,f=r.breakEvenYear||"N/A",h=d<0,p=(A=u.find($=>$.treasuryEnd<0))==null?void 0:A.year;r.maxBurn/12;const y=r.runway,m=u.reduce(($,M)=>$+M.revenue,0),g=u.reduce(($,M)=>$+M.payroll,0),v=u.reduce(($,M)=>$+M.opex,0),x=r.totalCapex,b=u.reduce(($,M)=>$+M.cogs,0),_=r.totalDepreciation,j=g+v+x+b,S=r.fundingNeed,C=l-S,N=u.map($=>({year:$.year,"Cash Flow":$.cashFlow/1e3,Trsorerie:$.treasuryEnd/1e3})),P=e.fundingRounds[e.fundingRounds.length-1],E=P?P.preMoneyValuation+P.amount:0,k=P?P.amount/E:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Me,{variant:"default",children:MNe[e.activeScenarioId]}),o.jsxs(Me,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs(Me,{variant:"outline",className:"text-xs",children:[n,"  ",s," (",a," ans)"]}),o.jsxs(Me,{variant:"secondary",className:"text-xs gap-1",children:[o.jsx(du,{className:"h-3 w-3"}),e.products.length," produits  ",((R=u[u.length-1])==null?void 0:R.headcount)||0," ETP"]})]}),o.jsx($Ne,{})]}),h&&o.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(hu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",p,". Point bas: ",ee(d,!0),". Financement additionnel de ",ee(Math.abs(d),!0)," requis."]})]})]}),o.jsxs(Ue,{title:"Approche Cash",id:"cash-approach",children:[o.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(nI,{className:"h-4 w-4"}),"Cash Initial (T0)"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(i,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(LP,{className:"h-4 w-4"}),"Montant Lev"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(l,!0)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.fundingRounds.length," tour(s)"]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-accent/10 border border-accent/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(oh,{className:"h-4 w-4"}),"Trso Dpart"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(c,!0)})]}),o.jsxs("div",{className:ie("p-4 rounded-lg border",d<0?"bg-destructive/10 border-destructive/30":"bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[d<0?o.jsx(mS,{className:"h-4 w-4"}):o.jsx(sd,{className:"h-4 w-4"}),"Point Bas"]}),o.jsx("div",{className:ie("text-2xl font-bold font-mono-numbers",d<0&&"text-destructive"),children:ee(d,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(du,{className:"h-4 w-4"}),"Break-even"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:f}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Runway: ",y>60?"60+":y," mois"]})]})]}),o.jsx("div",{className:"h-72",children:o.jsx(nn,{width:"100%",height:"100%",children:o.jsxs(kp,{data:N,children:[o.jsx(an,{strokeDasharray:"3 3"}),o.jsx(lr,{dataKey:"year"}),o.jsx(cr,{tickFormatter:$=>`${$}k`}),o.jsx(Ft,{formatter:$=>`${$.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx(Mn,{type:"monotone",dataKey:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx(Ue,{title:"Justification des Besoins",id:"needs-justification",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(MP,{className:"h-4 w-4"}),"Rpartition des Cots (",n,"-",s,")"]}),o.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:g,icon:pu,color:"hsl(var(--primary))"},{label:"COGS (Cot des ventes)",value:b,icon:gp,color:"hsl(var(--chart-4))"},{label:"OPEX (Charges)",value:v,icon:MP,color:"hsl(var(--accent))"},{label:"CAPEX (R&D)",value:x,icon:oh,color:"hsl(var(--chart-1))"}].map($=>{const M=$.icon,D=j>0?$.value/j*100:0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(M,{className:"h-4 w-4",style:{color:$.color}}),o.jsx("span",{children:$.label})]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:ee($.value,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${D}%`,backgroundColor:$.color}})}),o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[D.toFixed(0),"%"]})]},$.label)}),o.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[o.jsx("span",{children:"Total Cots"}),o.jsx("span",{className:"font-mono-numbers",children:ee(j,!0)})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(LP,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),o.jsx(Me,{variant:"secondary",children:"Calcul"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:ee(S,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),o.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Montant Lev"}),o.jsx(Me,{variant:"default",children:(P==null?void 0:P.name)||"Round"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:ee(l,!0)})]}),o.jsxs("div",{className:ie("p-4 rounded-lg border-2",C>=0?"bg-chart-4/10 border-chart-4/30":"bg-destructive/10 border-destructive/30"),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:C>=0?"Marge de Scurit":"Dficit"}),o.jsxs("span",{className:ie("text-xl font-bold font-mono-numbers",C>=0?"text-chart-4":"text-destructive"),children:[C>=0?"+":"",ee(C,!0)]})]}),C>=0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",Ar(C/l)," sur le montant lev"]})]})]})]})]})}),o.jsx(Ue,{title:"Projection Dtaille",id:"detailed-projection",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b bg-muted/30",children:[o.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),o.jsx("tbody",{children:u.map($=>o.jsxs("tr",{className:ie("border-b hover:bg-muted/20",$.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-3 px-3 font-semibold",children:$.year}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee($.revenue,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee($.cogs,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee($.grossMargin,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee($.payroll,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee($.opex,!0)}),o.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",$.ebitda>=0?"text-chart-4":"text-destructive"),children:ee($.ebitda,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee($.depreciation,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:ee($.capex,!0)}),o.jsxs("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-medium",$.cashFlow>=0?"text-chart-4":"text-accent"),children:[$.cashFlow>=0?"+":"",ee($.cashFlow,!0)]}),o.jsx("td",{className:ie("py-3 px-3 text-right font-mono-numbers font-bold",$.treasuryEnd<0&&"text-destructive"),children:ee($.treasuryEnd,!0)})]},$.year))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[o.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(m,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(b,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(m-b,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(g,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(v,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(_,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(x,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:ee(((O=u[u.length-1])==null?void 0:O.treasuryEnd)||0,!0)})]})})]})})}),o.jsxs(Ue,{title:"Valorisation & Tours",id:"valuation",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[o.jsx(st,{label:"Pre-Money",value:ee((P==null?void 0:P.preMoneyValuation)||0,!0),subValue:(P==null?void 0:P.name)||"-"}),o.jsx(st,{label:"Post-Money",value:ee(E,!0),subValue:"Aprs leve"}),o.jsx(st,{label:"Dilution",value:Ar(k),subValue:"Part cde",trend:k>.25?"down":void 0}),o.jsx(st,{label:"Multiple CA",value:m>0?`${(E/(((I=u[u.length-1])==null?void 0:I.revenue)||1)).toFixed(1)}x`:"-",subValue:`sur CA ${s}`})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map($=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold",children:$.name}),o.jsx(Me,{variant:"outline",className:"text-xs mt-1",children:$.year})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"text-xl font-bold font-mono-numbers text-primary",children:ee($.amount,!0)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("span",{children:"Pre-money:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:ee($.preMoneyValuation,!0)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{children:"Dilution:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:Ar($.amount/($.preMoneyValuation+$.amount))})]})]})]},$.id))})]})]})}var vt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(vt||(vt={}));var s2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(s2||(s2={}));const ke=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ds=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},me=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof fs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}fs.create=e=>new fs(e);const Jj=(e,t)=>{let r;switch(e.code){case me.invalid_type:e.received===ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,vt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${vt.joinValues(e.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${vt.joinValues(e.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${vt.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:vt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case me.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case me.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=t.defaultError,vt.assertNever(e)}return{message:r}};let DNe=Jj;function LNe(){return DNe}const FNe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Se(e,t){const r=LNe(),n=FNe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jj?void 0:Jj].filter(a=>!!a)});e.common.issues.push(n)}class ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Xe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return ia.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Xe;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const Xe=Object.freeze({status:"aborted"}),gf=e=>({status:"dirty",value:e}),Aa=e=>({status:"valid",value:e}),o2=e=>e.status==="aborted",l2=e=>e.status==="dirty",Gu=e=>e.status==="valid",qg=e=>typeof Promise<"u"&&e instanceof Promise;var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));class jo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const c2=(e,t)=>{if(Gu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fs(e.common.issues);return this._error=r,this._error}}};function ot(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ht{get description(){return this._def.description}_getType(t){return Ds(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ia,ctx:{common:t.parent.common,data:t.data,parsedType:Ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(qg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ds(t)},a=this._parseSync({data:t,path:n.path,parent:n});return c2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ds(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Gu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Gu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ds(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(qg(a)?a:Promise.resolve(a));return c2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),l=()=>i.addIssue({code:me.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Xu({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mo.create(this,this._def)}nullable(){return Qu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ei.create(this)}promise(){return Xg.create(this,this._def)}or(t){return Gg.create([this,t],this._def)}and(t){return Yg.create(this,t,this._def)}transform(t){return new Xu({...ot(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new e_({...ot(this._def),innerType:this,defaultValue:r,typeName:Qe.ZodDefault})}brand(){return new lPe({typeName:Qe.ZodBranded,type:this,...ot(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new t_({...ot(this._def),innerType:this,catchValue:r,typeName:Qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sN.create(this,t)}readonly(){return r_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const BNe=/^c[^\s-]{8,}$/i,zNe=/^[0-9a-z]+$/,UNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WNe=/^[a-z0-9_-]{21}$/i,HNe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KNe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GNe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mb;const YNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,QNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZNe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ePe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tPe=new RegExp(`^${tz}$`);function rz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function rPe(e){return new RegExp(`^${rz(e)}$`)}function nPe(e){let t=`${tz}T${rz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function aPe(e,t){return!!((t==="v4"||!t)&&YNe.test(e)||(t==="v6"||!t)&&QNe.test(e))}function iPe(e,t){if(!HNe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function sPe(e,t){return!!((t==="v4"||!t)&&XNe.test(e)||(t==="v6"||!t)&&JNe.test(e))}class Zs extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.string,received:i.parsedType}),Xe}const n=new ia;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(t,a),s?Se(a,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Se(a,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")KNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"email",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Mb||(Mb=new RegExp(GNe,"u")),Mb.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"emoji",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")VNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"uuid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")WNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"nanoid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")BNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")zNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid2",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")UNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ulid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Se(a,{validation:"url",code:me.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"regex",code:me.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?nPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?tPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?rPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?qNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"duration",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?aPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ip",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?iPe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"jwt",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?sPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cidr",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ZNe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ePe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64url",code:me.invalid_string,message:i.message}),n.dirty()):vt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:me.invalid_string,...Re.errToObj(n)})}_addCheck(t){return new Zs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Re.errToObj(r)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zs.create=e=>new Zs({checks:[],typeName:Qe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ot(e)});function oPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class ip extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.number,received:i.parsedType}),Xe}let n;const a=new ia;for(const i of this._def.checks)i.kind==="int"?vt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:me.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?oPe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_finite,message:i.message}),a.dirty()):vt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new ip({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new ip({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ip.create=e=>new ip({checks:[],typeName:Qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ot(e)});class sp extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let n;const a=new ia;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):vt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:ke.bigint,received:r.parsedType}),Xe}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new sp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new sp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sp.create=e=>new sp({checks:[],typeName:Qe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ot(e)});class u2 extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.boolean,received:n.parsedType}),Xe}return Aa(t.data)}}u2.create=e=>new u2({typeName:Qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ot(e)});class Kg extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.date,received:i.parsedType}),Xe}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_date}),Xe}const n=new ia;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):vt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Kg.create=e=>new Kg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qe.ZodDate,...ot(e)});class d2 extends ht{_parse(t){if(this._getType(t)!==ke.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.symbol,received:n.parsedType}),Xe}return Aa(t.data)}}d2.create=e=>new d2({typeName:Qe.ZodSymbol,...ot(e)});class f2 extends ht{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.undefined,received:n.parsedType}),Xe}return Aa(t.data)}}f2.create=e=>new f2({typeName:Qe.ZodUndefined,...ot(e)});class h2 extends ht{_parse(t){if(this._getType(t)!==ke.null){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.null,received:n.parsedType}),Xe}return Aa(t.data)}}h2.create=e=>new h2({typeName:Qe.ZodNull,...ot(e)});class p2 extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return Aa(t.data)}}p2.create=e=>new p2({typeName:Qe.ZodAny,...ot(e)});class m2 extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Aa(t.data)}}m2.create=e=>new m2({typeName:Qe.ZodUnknown,...ot(e)});class _o extends ht{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:ke.never,received:r.parsedType}),Xe}}_o.create=e=>new _o({typeName:Qe.ZodNever,...ot(e)});class v2 extends ht{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.void,received:n.parsedType}),Xe}return Aa(t.data)}}v2.create=e=>new v2({typeName:Qe.ZodVoid,...ot(e)});class Ei extends ht{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ke.array)return Se(r,{code:me.invalid_type,expected:ke.array,received:r.parsedType}),Xe;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(Se(r,{code:s?me.too_big:me.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Se(r,{code:me.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Se(r,{code:me.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new jo(r,s,r.path,l)))).then(s=>ia.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new jo(r,s,r.path,l)));return ia.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ei({...this._def,minLength:{value:t,message:Re.toString(r)}})}max(t,r){return new Ei({...this._def,maxLength:{value:t,message:Re.toString(r)}})}length(t,r){return new Ei({...this._def,exactLength:{value:t,message:Re.toString(r)}})}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...ot(t)});function dc(e){if(e instanceof rr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=mo.create(dc(n))}return new rr({...e._def,shape:()=>t})}else return e instanceof Ei?new Ei({...e._def,type:dc(e.element)}):e instanceof mo?mo.create(dc(e.unwrap())):e instanceof Qu?Qu.create(dc(e.unwrap())):e instanceof Ml?Ml.create(e.items.map(t=>dc(t))):e}class rr extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=vt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ke.object){const u=this._getOrReturnCtx(t);return Se(u,{code:me.invalid_type,expected:ke.object,received:u.parsedType}),Xe}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof _o&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new jo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof _o){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Se(a,{code:me.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new jo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ia.mergeObjectSync(n,u)):ia.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new rr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Re.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(t){return new rr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new rr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new rr({...this._def,catchall:t})}pick(t){const r={};for(const n of vt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new rr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of vt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new rr({...this._def,shape:()=>r})}deepPartial(){return dc(this)}partial(t){const r={};for(const n of vt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new rr({...this._def,shape:()=>r})}required(t){const r={};for(const n of vt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof mo;)i=i._def.innerType;r[n]=i}return new rr({...this._def,shape:()=>r})}keyof(){return nz(vt.objectKeys(this.shape))}}rr.create=(e,t)=>new rr({shape:()=>e,unknownKeys:"strip",catchall:_o.create(),typeName:Qe.ZodObject,...ot(t)});rr.strictCreate=(e,t)=>new rr({shape:()=>e,unknownKeys:"strict",catchall:_o.create(),typeName:Qe.ZodObject,...ot(t)});rr.lazycreate=(e,t)=>new rr({shape:e,unknownKeys:"strip",catchall:_o.create(),typeName:Qe.ZodObject,...ot(t)});class Gg extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new fs(l.ctx.common.issues));return Se(r,{code:me.invalid_union,unionErrors:s}),Xe}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new fs(c));return Se(r,{code:me.invalid_union,unionErrors:l}),Xe}}get options(){return this._def.options}}Gg.create=(e,t)=>new Gg({options:e,typeName:Qe.ZodUnion,...ot(t)});function Zj(e,t){const r=Ds(e),n=Ds(t);if(e===t)return{valid:!0,data:e};if(r===ke.object&&n===ke.object){const a=vt.objectKeys(t),i=vt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),s={...e,...t};for(const l of i){const c=Zj(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===ke.array&&n===ke.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],c=Zj(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ke.date&&n===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Yg extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(o2(i)||o2(s))return Xe;const l=Zj(i.value,s.value);return l.valid?((l2(i)||l2(s))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:me.invalid_intersection_types}),Xe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yg.create=(e,t,r)=>new Yg({left:e,right:t,typeName:Qe.ZodIntersection,...ot(r)});class Ml extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.array)return Se(n,{code:me.invalid_type,expected:ke.array,received:n.parsedType}),Xe;if(n.data.length<this._def.items.length)return Se(n,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new jo(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>ia.mergeArray(r,s)):ia.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Ml({...this._def,rest:t})}}Ml.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ml({items:e,typeName:Qe.ZodTuple,rest:null,...ot(t)})};class g2 extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.map)return Se(n,{code:me.invalid_type,expected:ke.map,received:n.parsedType}),Xe;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new jo(n,l,n.path,[u,"key"])),value:i._parse(new jo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Xe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Xe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}g2.create=(e,t,r)=>new g2({valueType:t,keyType:e,typeName:Qe.ZodMap,...ot(r)});class op extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.set)return Se(n,{code:me.invalid_type,expected:ke.set,received:n.parsedType}),Xe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Se(n,{code:me.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Se(n,{code:me.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Xe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new jo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new op({...this._def,minSize:{value:t,message:Re.toString(r)}})}max(t,r){return new op({...this._def,maxSize:{value:t,message:Re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}op.create=(e,t)=>new op({valueType:e,minSize:null,maxSize:null,typeName:Qe.ZodSet,...ot(t)});class y2 extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}y2.create=(e,t)=>new y2({getter:e,typeName:Qe.ZodLazy,...ot(t)});class x2 extends ht{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:t.data}}get value(){return this._def.value}}x2.create=(e,t)=>new x2({value:e,typeName:Qe.ZodLiteral,...ot(t)});function nz(e,t){return new Yu({values:e,typeName:Qe.ZodEnum,...ot(t)})}class Yu extends ht{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:vt.joinValues(n),received:r.parsedType,code:me.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:me.invalid_enum_value,options:n}),Xe}return Aa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yu.create=nz;class b2 extends ht{_parse(t){const r=vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const a=vt.objectValues(r);return Se(n,{expected:vt.joinValues(a),received:n.parsedType,code:me.invalid_type}),Xe}if(this._cache||(this._cache=new Set(vt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=vt.objectValues(r);return Se(n,{received:n.data,code:me.invalid_enum_value,options:a}),Xe}return Aa(t.data)}get enum(){return this._def.values}}b2.create=(e,t)=>new b2({values:e,typeName:Qe.ZodNativeEnum,...ot(t)});class Xg extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.promise&&r.common.async===!1)return Se(r,{code:me.invalid_type,expected:ke.promise,received:r.parsedType}),Xe;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return Aa(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xg.create=(e,t)=>new Xg({type:e,typeName:Qe.ZodPromise,...ot(t)});class Xu extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{Se(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Xe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Xe:c.status==="dirty"||r.value==="dirty"?gf(c.value):c});{if(r.value==="aborted")return Xe;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Xe:l.status==="dirty"||r.value==="dirty"?gf(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Xe:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Xe:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gu(s))return Xe;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Gu(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):Xe);vt.assertNever(a)}}Xu.create=(e,t,r)=>new Xu({schema:e,typeName:Qe.ZodEffects,effect:t,...ot(r)});Xu.createWithPreprocess=(e,t,r)=>new Xu({schema:t,effect:{type:"preprocess",transform:e},typeName:Qe.ZodEffects,...ot(r)});class mo extends ht{_parse(t){return this._getType(t)===ke.undefined?Aa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mo.create=(e,t)=>new mo({innerType:e,typeName:Qe.ZodOptional,...ot(t)});class Qu extends ht{_parse(t){return this._getType(t)===ke.null?Aa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qu.create=(e,t)=>new Qu({innerType:e,typeName:Qe.ZodNullable,...ot(t)});class e_ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}e_.create=(e,t)=>new e_({innerType:e,typeName:Qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ot(t)});class t_ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return qg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}t_.create=(e,t)=>new t_({innerType:e,typeName:Qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ot(t)});class w2 extends ht{_parse(t){if(this._getType(t)!==ke.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.nan,received:n.parsedType}),Xe}return{status:"valid",value:t.data}}}w2.create=e=>new w2({typeName:Qe.ZodNaN,...ot(e)});class lPe extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sN extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Xe:i.status==="dirty"?(r.dirty(),gf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Xe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new sN({in:t,out:r,typeName:Qe.ZodPipeline})}}class r_ extends ht{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Gu(a)&&(a.value=Object.freeze(a.value)),a);return qg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}r_.create=(e,t)=>new r_({innerType:e,typeName:Qe.ZodReadonly,...ot(t)});rr.lazycreate;var Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const Ff=Zs.create;_o.create;Ei.create;const az=rr.create;rr.strictCreate;Gg.create;Yg.create;Ml.create;Yu.create;Xg.create;mo.create;Qu.create;var Rp=e=>e.type==="checkbox",cl=e=>e instanceof Date,mn=e=>e==null;const iz=e=>typeof e=="object";var ur=e=>!mn(e)&&!Array.isArray(e)&&iz(e)&&!cl(e),sz=e=>ur(e)&&e.target?Rp(e.target)?e.target.checked:e.target.value:e,cPe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oz=(e,t)=>e.has(cPe(t)),uPe=e=>{const t=e.constructor&&e.constructor.prototype;return ur(t)&&t.hasOwnProperty("isPrototypeOf")},oN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(oN&&(e instanceof Blob||n))&&(r||ur(e)))if(t=r?[]:{},!r&&!uPe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Cr(e[a]));else return e;return t}var Zx=e=>/^\w*$/.test(e),sr=e=>e===void 0,lN=e=>Array.isArray(e)?e.filter(Boolean):[],cN=e=>lN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(e,t,r)=>{if(!t||!ur(e))return r;const n=(Zx(t)?[t]:cN(t)).reduce((a,i)=>mn(a)?a:a[i],e);return sr(n)||n===e?sr(e[t])?r:e[t]:n},Yn=e=>typeof e=="boolean",jt=(e,t,r)=>{let n=-1;const a=Zx(t)?[t]:cN(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=ur(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Qg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uN=T.createContext(null);uN.displayName="HookFormContext";const e0=()=>T.useContext(uN),dPe=e=>{const{children:t,...r}=e;return T.createElement(uN.Provider,{value:r},t)};var lz=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Ya.all&&(t._proxyFormState[s]=!n||Ya.all),r&&(r[s]=!0),e[s]}});return a};const dN=typeof window<"u"?T.useLayoutEffect:T.useEffect;function fPe(e){const t=e0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[s,l]=T.useState(r._formState),c=T.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return dN(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),T.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),T.useMemo(()=>lz(s,r,c.current,!1),[s,r])}var bi=e=>typeof e=="string",cz=(e,t,r,n,a)=>bi(e)?(n&&t.watch.add(e),xe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xe(r,i))):(n&&(t.watchAll=!0),r),n_=e=>mn(e)||!iz(e);function Ki(e,t,r=new WeakSet){if(n_(e)||n_(t))return e===t;if(cl(e)&&cl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(cl(s)&&cl(l)||ur(s)&&ur(l)||Array.isArray(s)&&Array.isArray(l)?!Ki(s,l,r):s!==l)return!1}}return!0}function hPe(e){const t=e0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:s,compute:l}=e||{},c=T.useRef(a),u=T.useRef(l),d=T.useRef(void 0);u.current=l;const f=T.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=T.useState(u.current?u.current(f):f);return dN(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:y=>{if(!i){const m=cz(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const g=u.current(m);Ki(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,i,n,s]),T.useEffect(()=>r._removeUnmounted()),h}function pPe(e){const t=e0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:s}=e,l=oz(a._names.array,r),c=T.useMemo(()=>xe(a._formValues,r,xe(a._defaultValues,r,s)),[a,r,s]),u=hPe({control:a,name:r,defaultValue:c,exact:!0}),d=fPe({control:a,name:r,exact:!0}),f=T.useRef(e),h=T.useRef(a.register(r,{...e.rules,value:u,...Yn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=T.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(d.validatingFields,r)},error:{enumerable:!0,get:()=>xe(d.errors,r)}}),[d,r]),y=T.useCallback(x=>h.current.onChange({target:{value:sz(x),name:r},type:Qg.CHANGE}),[r]),m=T.useCallback(()=>h.current.onBlur({target:{value:xe(a._formValues,r),name:r},type:Qg.BLUR}),[r,a._formValues]),g=T.useCallback(x=>{const b=xe(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),v=T.useMemo(()=>({name:r,value:u,...Yn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:m,ref:g}),[r,n,d.disabled,y,m,g,u]);return T.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Yn(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,j)=>{const S=xe(a._fields,_);S&&S._f&&(S._f.mount=j)};if(b(r,!0),x){const _=Cr(xe(a._options.defaultValues,r));jt(a._defaultValues,r,_),sr(xe(a._formValues,r))&&jt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),T.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),T.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const mPe=e=>e.render(pPe(e));var uz=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Bf=e=>Array.isArray(e)?e:[e],j2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},kn=e=>ur(e)&&!Object.keys(e).length,fN=e=>e.type==="file",Xa=e=>typeof e=="function",Jg=e=>{if(!oN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dz=e=>e.type==="select-multiple",hN=e=>e.type==="radio",vPe=e=>hN(e)||Rp(e),Ib=e=>Jg(e)&&e.isConnected;function gPe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=sr(e)?n++:e[t[n++]];return e}function yPe(e){for(const t in e)if(e.hasOwnProperty(t)&&!sr(e[t]))return!1;return!0}function hr(e,t){const r=Array.isArray(t)?t:Zx(t)?[t]:cN(t),n=r.length===1?e:gPe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ur(n)&&kn(n)||Array.isArray(n)&&yPe(n))&&hr(e,r.slice(0,-1)),e}var fz=e=>{for(const t in e)if(Xa(e[t]))return!0;return!1};function Zg(e,t={}){const r=Array.isArray(e);if(ur(e)||r)for(const n in e)Array.isArray(e[n])||ur(e[n])&&!fz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Zg(e[n],t[n])):mn(e[n])||(t[n]=!0);return t}function hz(e,t,r){const n=Array.isArray(e);if(ur(e)||n)for(const a in e)Array.isArray(e[a])||ur(e[a])&&!fz(e[a])?sr(t)||n_(r[a])?r[a]=Array.isArray(e[a])?Zg(e[a],[]):{...Zg(e[a])}:hz(e[a],mn(t)?{}:t[a],r[a]):r[a]=!Ki(e[a],t[a]);return r}var nf=(e,t)=>hz(e,t,Zg(t));const _2={value:!1,isValid:!1},S2={value:!0,isValid:!0};var pz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!sr(e[0].attributes.value)?sr(e[0].value)||e[0].value===""?S2:{value:e[0].value,isValid:!0}:S2:_2}return _2},mz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>sr(e)?e:t?e===""?NaN:e&&+e:r&&bi(e)?new Date(e):n?n(e):e;const C2={isValid:!1,value:null};var vz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C2):C2;function N2(e){const t=e.ref;return fN(t)?t.files:hN(t)?vz(e.refs).value:dz(t)?[...t.selectedOptions].map(({value:r})=>r):Rp(t)?pz(e.refs).value:mz(sr(t.value)?e.ref.value:t.value,e)}var xPe=(e,t,r,n)=>{const a={};for(const i of e){const s=xe(t,i);s&&jt(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},ey=e=>e instanceof RegExp,af=e=>sr(e)?e:ey(e)?e.source:ur(e)?ey(e.value)?e.value.source:e.value:e,P2=e=>({isOnSubmit:!e||e===Ya.onSubmit,isOnBlur:e===Ya.onBlur,isOnChange:e===Ya.onChange,isOnAll:e===Ya.all,isOnTouch:e===Ya.onTouched});const E2="AsyncFunction";var bPe=e=>!!e&&!!e.validate&&!!(Xa(e.validate)&&e.validate.constructor.name===E2||ur(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===E2)),wPe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),A2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const zf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=xe(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(zf(l,t))break}else if(ur(l)&&zf(l,t))break}}};function k2(e,t,r){const n=xe(e,r);if(n||Zx(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=xe(t,i),l=xe(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var jPe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return kn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Ya.all))},_Pe=(e,t,r)=>!e||!t||e===t||Bf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),SPe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,CPe=(e,t)=>!lN(xe(e,t)).length&&hr(e,t),NPe=(e,t,r)=>{const n=Bf(xe(e,r));return jt(n,"root",t[r]),jt(e,r,n),e},Jm=e=>bi(e);function O2(e,t,r="validate"){if(Jm(e)||Array.isArray(e)&&e.every(Jm)||Yn(e)&&!e)return{type:r,message:Jm(e)?e:"",ref:t}}var ic=e=>ur(e)&&!ey(e)?e:{value:e,message:""},T2=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:g,mount:v}=e._f,x=xe(r,m);if(!v||t.has(m))return{};const b=l?l[0]:s,_=A=>{a&&b.reportValidity&&(b.setCustomValidity(Yn(A)?"":A||""),b.reportValidity())},j={},S=hN(s),C=Rp(s),N=S||C,P=(g||fN(s))&&sr(s.value)&&sr(x)||Jg(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,E=uz.bind(null,m,n,j),k=(A,R,O,I=Bi.maxLength,$=Bi.minLength)=>{const M=A?R:O;j[m]={type:A?I:$,message:M,ref:s,...E(A?I:$,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(P||mn(x))||Yn(x)&&!x||C&&!pz(l).isValid||S&&!vz(l).isValid)){const{value:A,message:R}=Jm(c)?{value:!!c,message:c}:ic(c);if(A&&(j[m]={type:Bi.required,message:R,ref:b,...E(Bi.required,R)},!n))return _(R),j}if(!P&&(!mn(f)||!mn(h))){let A,R;const O=ic(h),I=ic(f);if(!mn(x)&&!isNaN(x)){const $=s.valueAsNumber||x&&+x;mn(O.value)||(A=$>O.value),mn(I.value)||(R=$<I.value)}else{const $=s.valueAsDate||new Date(x),M=z=>new Date(new Date().toDateString()+" "+z),D=s.type=="time",L=s.type=="week";bi(O.value)&&x&&(A=D?M(x)>M(O.value):L?x>O.value:$>new Date(O.value)),bi(I.value)&&x&&(R=D?M(x)<M(I.value):L?x<I.value:$<new Date(I.value))}if((A||R)&&(k(!!A,O.message,I.message,Bi.max,Bi.min),!n))return _(j[m].message),j}if((u||d)&&!P&&(bi(x)||i&&Array.isArray(x))){const A=ic(u),R=ic(d),O=!mn(A.value)&&x.length>+A.value,I=!mn(R.value)&&x.length<+R.value;if((O||I)&&(k(O,A.message,R.message),!n))return _(j[m].message),j}if(p&&!P&&bi(x)){const{value:A,message:R}=ic(p);if(ey(A)&&!x.match(A)&&(j[m]={type:Bi.pattern,message:R,ref:s,...E(Bi.pattern,R)},!n))return _(R),j}if(y){if(Xa(y)){const A=await y(x,r),R=O2(A,b);if(R&&(j[m]={...R,...E(Bi.validate,R.message)},!n))return _(R.message),j}else if(ur(y)){let A={};for(const R in y){if(!kn(A)&&!n)break;const O=O2(await y[R](x,r),b,R);O&&(A={...O,...E(R,O.message)},_(O.message),n&&(j[m]=A))}if(!kn(A)&&(j[m]={ref:b,...A},!n))return j}}return _(!0),j};const PPe={mode:Ya.onSubmit,reValidateMode:Ya.onChange,shouldFocusError:!0};function EPe(e={}){let t={...PPe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=ur(t.defaultValues)||ur(t.values)?Cr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Cr(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:j2(),state:j2()},p=t.criteriaMode===Ya.all,y=B=>K=>{clearTimeout(u),u=setTimeout(B,K)},m=async B=>{if(!t.disabled&&(d.isValid||f.isValid||B)){const K=t.resolver?kn((await C()).errors):await P(n,!0);K!==r.isValid&&h.state.next({isValid:K})}},g=(B,K)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(l.mount)).forEach(Z=>{Z&&(K?jt(r.validatingFields,Z,K):hr(r.validatingFields,Z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!kn(r.validatingFields)}))},v=(B,K=[],Z,ne,ue=!0,ce=!0)=>{if(ne&&Z&&!t.disabled){if(s.action=!0,ce&&Array.isArray(xe(n,B))){const ye=Z(xe(n,B),ne.argA,ne.argB);ue&&jt(n,B,ye)}if(ce&&Array.isArray(xe(r.errors,B))){const ye=Z(xe(r.errors,B),ne.argA,ne.argB);ue&&jt(r.errors,B,ye),CPe(r.errors,B)}if((d.touchedFields||f.touchedFields)&&ce&&Array.isArray(xe(r.touchedFields,B))){const ye=Z(xe(r.touchedFields,B),ne.argA,ne.argB);ue&&jt(r.touchedFields,B,ye)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=nf(a,i)),h.state.next({name:B,isDirty:k(B,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jt(i,B,K)},x=(B,K)=>{jt(r.errors,B,K),h.state.next({errors:r.errors})},b=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},_=(B,K,Z,ne)=>{const ue=xe(n,B);if(ue){const ce=xe(i,B,sr(Z)?xe(a,B):Z);sr(ce)||ne&&ne.defaultChecked||K?jt(i,B,K?ce:N2(ue._f)):O(B,ce),s.mount&&m()}},j=(B,K,Z,ne,ue)=>{let ce=!1,ye=!1;const Ie={name:B};if(!t.disabled){if(!Z||ne){(d.isDirty||f.isDirty)&&(ye=r.isDirty,r.isDirty=Ie.isDirty=k(),ce=ye!==Ie.isDirty);const lt=Ki(xe(a,B),K);ye=!!xe(r.dirtyFields,B),lt?hr(r.dirtyFields,B):jt(r.dirtyFields,B,!0),Ie.dirtyFields=r.dirtyFields,ce=ce||(d.dirtyFields||f.dirtyFields)&&ye!==!lt}if(Z){const lt=xe(r.touchedFields,B);lt||(jt(r.touchedFields,B,Z),Ie.touchedFields=r.touchedFields,ce=ce||(d.touchedFields||f.touchedFields)&&lt!==Z)}ce&&ue&&h.state.next(Ie)}return ce?Ie:{}},S=(B,K,Z,ne)=>{const ue=xe(r.errors,B),ce=(d.isValid||f.isValid)&&Yn(K)&&r.isValid!==K;if(t.delayError&&Z?(c=y(()=>x(B,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?jt(r.errors,B,Z):hr(r.errors,B)),(Z?!Ki(ue,Z):ue)||!kn(ne)||ce){const ye={...ne,...ce&&Yn(K)?{isValid:K}:{},errors:r.errors,name:B};r={...r,...ye},h.state.next(ye)}},C=async B=>{g(B,!0);const K=await t.resolver(i,t.context,xPe(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(B),K},N=async B=>{const{errors:K}=await C(B);if(B)for(const Z of B){const ne=xe(K,Z);ne?jt(r.errors,Z,ne):hr(r.errors,Z)}else r.errors=K;return K},P=async(B,K,Z={valid:!0})=>{for(const ne in B){const ue=B[ne];if(ue){const{_f:ce,...ye}=ue;if(ce){const Ie=l.array.has(ce.name),lt=ue._f&&bPe(ue._f);lt&&d.validatingFields&&g([ne],!0);const $r=await T2(ue,l.disabled,i,p,t.shouldUseNativeValidation&&!K,Ie);if(lt&&d.validatingFields&&g([ne]),$r[ce.name]&&(Z.valid=!1,K))break;!K&&(xe($r,ce.name)?Ie?NPe(r.errors,$r,ce.name):jt(r.errors,ce.name,$r[ce.name]):hr(r.errors,ce.name))}!kn(ye)&&await P(ye,K,Z)}}return Z.valid},E=()=>{for(const B of l.unMount){const K=xe(n,B);K&&(K._f.refs?K._f.refs.every(Z=>!Ib(Z)):!Ib(K._f.ref))&&W(B)}l.unMount=new Set},k=(B,K)=>!t.disabled&&(B&&K&&jt(i,B,K),!Ki(z(),a)),A=(B,K,Z)=>cz(B,l,{...s.mount?i:sr(K)?a:bi(B)?{[B]:K}:K},Z,K),R=B=>lN(xe(s.mount?i:a,B,t.shouldUnregister?xe(a,B,[]):[])),O=(B,K,Z={})=>{const ne=xe(n,B);let ue=K;if(ne){const ce=ne._f;ce&&(!ce.disabled&&jt(i,B,mz(K,ce)),ue=Jg(ce.ref)&&mn(K)?"":K,dz(ce.ref)?[...ce.ref.options].forEach(ye=>ye.selected=ue.includes(ye.value)):ce.refs?Rp(ce.ref)?ce.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ue)?ye.checked=!!ue.find(Ie=>Ie===ye.value):ye.checked=ue===ye.value||!!ue)}):ce.refs.forEach(ye=>ye.checked=ye.value===ue):fN(ce.ref)?ce.ref.value="":(ce.ref.value=ue,ce.ref.type||h.state.next({name:B,values:Cr(i)})))}(Z.shouldDirty||Z.shouldTouch)&&j(B,ue,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(B)},I=(B,K,Z)=>{for(const ne in K){if(!K.hasOwnProperty(ne))return;const ue=K[ne],ce=B+"."+ne,ye=xe(n,ce);(l.array.has(B)||ur(ue)||ye&&!ye._f)&&!cl(ue)?I(ce,ue,Z):O(ce,ue,Z)}},$=(B,K,Z={})=>{const ne=xe(n,B),ue=l.array.has(B),ce=Cr(K);jt(i,B,ce),ue?(h.array.next({name:B,values:Cr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&h.state.next({name:B,dirtyFields:nf(a,i),isDirty:k(B,ce)})):ne&&!ne._f&&!mn(ce)?I(B,ce,Z):O(B,ce,Z),A2(B,l)&&h.state.next({...r,name:B}),h.state.next({name:s.mount?B:void 0,values:Cr(i)})},M=async B=>{s.mount=!0;const K=B.target;let Z=K.name,ne=!0;const ue=xe(n,Z),ce=lt=>{ne=Number.isNaN(lt)||cl(lt)&&isNaN(lt.getTime())||Ki(lt,xe(i,Z,lt))},ye=P2(t.mode),Ie=P2(t.reValidateMode);if(ue){let lt,$r;const dn=K.type?N2(ue._f):sz(B),wr=B.type===Qg.BLUR||B.type===Qg.FOCUS_OUT,se=!wPe(ue._f)&&!t.resolver&&!xe(r.errors,Z)&&!ue._f.deps||SPe(wr,xe(r.touchedFields,Z),r.isSubmitted,Ie,ye),Be=A2(Z,l,wr);jt(i,Z,dn),wr?(ue._f.onBlur&&ue._f.onBlur(B),c&&c(0)):ue._f.onChange&&ue._f.onChange(B);const bt=j(Z,dn,wr),ir=!kn(bt)||Be;if(!wr&&h.state.next({name:Z,type:B.type,values:Cr(i)}),se)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?wr&&m():wr||m()),ir&&h.state.next({name:Z,...Be?{}:bt});if(!wr&&Be&&h.state.next({...r}),t.resolver){const{errors:dt}=await C([Z]);if(ce(dn),ne){const nt=k2(r.errors,n,Z),Nn=k2(dt,n,nt.name||Z);lt=Nn.error,Z=Nn.name,$r=kn(dt)}}else g([Z],!0),lt=(await T2(ue,l.disabled,i,p,t.shouldUseNativeValidation))[Z],g([Z]),ce(dn),ne&&(lt?$r=!1:(d.isValid||f.isValid)&&($r=await P(n,!0)));ne&&(ue._f.deps&&L(ue._f.deps),S(Z,$r,lt,bt))}},D=(B,K)=>{if(xe(r.errors,K)&&B.focus)return B.focus(),1},L=async(B,K={})=>{let Z,ne;const ue=Bf(B);if(t.resolver){const ce=await N(sr(B)?B:ue);Z=kn(ce),ne=B?!ue.some(ye=>xe(ce,ye)):Z}else B?(ne=(await Promise.all(ue.map(async ce=>{const ye=xe(n,ce);return await P(ye&&ye._f?{[ce]:ye}:ye)}))).every(Boolean),!(!ne&&!r.isValid)&&m()):ne=Z=await P(n);return h.state.next({...!bi(B)||(d.isValid||f.isValid)&&Z!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:Z}:{},errors:r.errors}),K.shouldFocus&&!ne&&zf(n,D,B?ue:l.mount),ne},z=B=>{const K={...s.mount?i:a};return sr(B)?K:bi(B)?xe(K,B):B.map(Z=>xe(K,Z))},X=(B,K)=>({invalid:!!xe((K||r).errors,B),isDirty:!!xe((K||r).dirtyFields,B),error:xe((K||r).errors,B),isValidating:!!xe(r.validatingFields,B),isTouched:!!xe((K||r).touchedFields,B)}),G=B=>{B&&Bf(B).forEach(K=>hr(r.errors,K)),h.state.next({errors:B?r.errors:{}})},F=(B,K,Z)=>{const ne=(xe(n,B,{_f:{}})._f||{}).ref,ue=xe(r.errors,B)||{},{ref:ce,message:ye,type:Ie,...lt}=ue;jt(r.errors,B,{...lt,...K,ref:ne}),h.state.next({name:B,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&ne&&ne.focus&&ne.focus()},J=(B,K)=>Xa(B)?h.state.subscribe({next:Z=>"values"in Z&&B(A(void 0,K),Z)}):A(B,K,!0),U=B=>h.state.subscribe({next:K=>{_Pe(B.name,K.name,B.exact)&&jPe(K,B.formState||d,Ye,B.reRenderRoot)&&B.callback({values:{...i},...r,...K,defaultValues:a})}}).unsubscribe,V=B=>(s.mount=!0,f={...f,...B.formState},U({...B,formState:f})),W=(B,K={})=>{for(const Z of B?Bf(B):l.mount)l.mount.delete(Z),l.array.delete(Z),K.keepValue||(hr(n,Z),hr(i,Z)),!K.keepError&&hr(r.errors,Z),!K.keepDirty&&hr(r.dirtyFields,Z),!K.keepTouched&&hr(r.touchedFields,Z),!K.keepIsValidating&&hr(r.validatingFields,Z),!t.shouldUnregister&&!K.keepDefaultValue&&hr(a,Z);h.state.next({values:Cr(i)}),h.state.next({...r,...K.keepDirty?{isDirty:k()}:{}}),!K.keepIsValid&&m()},de=({disabled:B,name:K})=>{(Yn(B)&&s.mount||B||l.disabled.has(K))&&(B?l.disabled.add(K):l.disabled.delete(K))},Q=(B,K={})=>{let Z=xe(n,B);const ne=Yn(K.disabled)||Yn(t.disabled);return jt(n,B,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:B}},name:B,mount:!0,...K}}),l.mount.add(B),Z?de({disabled:Yn(K.disabled)?K.disabled:t.disabled,name:B}):_(B,!0,K.value),{...ne?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:af(K.min),max:af(K.max),minLength:af(K.minLength),maxLength:af(K.maxLength),pattern:af(K.pattern)}:{},name:B,onChange:M,onBlur:M,ref:ue=>{if(ue){Q(B,K),Z=xe(n,B);const ce=sr(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,ye=vPe(ce),Ie=Z._f.refs||[];if(ye?Ie.find(lt=>lt===ce):ce===Z._f.ref)return;jt(n,B,{_f:{...Z._f,...ye?{refs:[...Ie.filter(Ib),ce,...Array.isArray(xe(a,B))?[{}]:[]],ref:{type:ce.type,name:B}}:{ref:ce}}}),_(B,!1,void 0,ce)}else Z=xe(n,B,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(oz(l.array,B)&&s.action)&&l.unMount.add(B)}}},te=()=>t.shouldFocusError&&zf(n,D,l.mount),q=B=>{Yn(B)&&(h.state.next({disabled:B}),zf(n,(K,Z)=>{const ne=xe(n,Z);ne&&(K.disabled=ne._f.disabled||B,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ue=>{ue.disabled=ne._f.disabled||B}))},0,!1))},H=(B,K)=>async Z=>{let ne;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ue=Cr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:ye}=await C();r.errors=ce,ue=Cr(ye)}else await P(n);if(l.disabled.size)for(const ce of l.disabled)hr(ue,ce);if(hr(r.errors,"root"),kn(r.errors)){h.state.next({errors:{}});try{await B(ue,Z)}catch(ce){ne=ce}}else K&&await K({...r.errors},Z),te(),setTimeout(te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},ve=(B,K={})=>{xe(n,B)&&(sr(K.defaultValue)?$(B,Cr(xe(a,B))):($(B,K.defaultValue),jt(a,B,Cr(K.defaultValue))),K.keepTouched||hr(r.touchedFields,B),K.keepDirty||(hr(r.dirtyFields,B),r.isDirty=K.defaultValue?k(B,Cr(xe(a,B))):k()),K.keepError||(hr(r.errors,B),d.isValid&&m()),h.state.next({...r}))},ge=(B,K={})=>{const Z=B?Cr(B):a,ne=Cr(Z),ue=kn(B),ce=ue?a:ne;if(K.keepDefaultValues||(a=Z),!K.keepValues){if(K.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(nf(a,i))]);for(const Ie of Array.from(ye))xe(r.dirtyFields,Ie)?jt(ce,Ie,xe(i,Ie)):$(Ie,xe(ce,Ie))}else{if(oN&&sr(B))for(const ye of l.mount){const Ie=xe(n,ye);if(Ie&&Ie._f){const lt=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Jg(lt)){const $r=lt.closest("form");if($r){$r.reset();break}}}}if(K.keepFieldsRef)for(const ye of l.mount)$(ye,xe(ce,ye));else n={}}i=t.shouldUnregister?K.keepDefaultValues?Cr(a):{}:Cr(ce),h.array.next({values:{...ce}}),h.state.next({values:{...ce}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Ki(B,a)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:K.keepDirtyValues?K.keepDefaultValues&&i?nf(a,i):r.dirtyFields:K.keepDefaultValues&&B?nf(a,B):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(B,K)=>ge(Xa(B)?B(i):B,K),Le=(B,K={})=>{const Z=xe(n,B),ne=Z&&Z._f;if(ne){const ue=ne.refs?ne.refs[0]:ne.ref;ue.focus&&(ue.focus(),K.shouldSelect&&Xa(ue.select)&&ue.select())}},Ye=B=>{r={...r,...B}},Gt={control:{register:Q,unregister:W,getFieldState:X,handleSubmit:H,setError:F,_subscribe:U,_runSchema:C,_focusError:te,_getWatch:A,_getDirty:k,_setValid:m,_setFieldArray:v,_setDisabledField:de,_setErrors:b,_getFieldArray:R,_reset:ge,_resetDefaultValues:()=>Xa(t.defaultValues)&&t.defaultValues().then(B=>{Ae(B,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:q,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(B){s=B},get _defaultValues(){return a},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:V,trigger:L,register:Q,handleSubmit:H,watch:J,setValue:$,getValues:z,reset:Ae,resetField:ve,clearErrors:G,unregister:W,setError:F,setFocus:Le,getFieldState:X};return{...Gt,formControl:Gt}}function R2(e={}){const t=T.useRef(void 0),r=T.useRef(void 0),[n,a]=T.useState({isDirty:!1,isValidating:!1,isLoading:Xa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=EPe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,dN(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),T.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),T.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),T.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),T.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),T.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),T.useEffect(()=>{e.values&&!Ki(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[i,e.values]),T.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=lz(n,i),t.current}const $2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},gz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?$2(n.ref,r,e):n.refs&&n.refs.forEach(a=>$2(a,r,e))}},APe=(e,t)=>{t.shouldUseNativeValidation&&gz(e,t);const r={};for(const n in e){const a=xe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(kPe(t.names||Object.keys(e),n)){const s=Object.assign({},xe(r,n));jt(s,"root",i),jt(r,n,s)}else jt(r,n,i)}return r},kPe=(e,t)=>e.some(r=>r.startsWith(t+"."));var OPe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=uz(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},M2=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&gz({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:APe(OPe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}};const I2=dPe,yz=w.createContext({}),sf=({...e})=>o.jsx(yz.Provider,{value:{name:e.name},children:o.jsx(mPe,{...e})}),t0=()=>{const e=w.useContext(yz),t=w.useContext(xz),{getFieldState:r,formState:n}=e0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},xz=w.createContext({}),fc=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return o.jsx(xz.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:ie("space-y-2",e),...t})})});fc.displayName="FormItem";const hc=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=t0();return o.jsx(_e,{ref:r,className:ie(n&&"text-destructive",e),htmlFor:a,...t})});hc.displayName="FormLabel";const pc=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=t0();return o.jsx(xM,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});pc.displayName="FormControl";const TPe=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=t0();return o.jsx("p",{ref:r,id:n,className:ie("text-sm text-muted-foreground",e),...t})});TPe.displayName="FormDescription";const mc=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=t0(),s=a?String(a==null?void 0:a.message):t;return s?o.jsx("p",{ref:n,id:i,className:ie("text-sm font-medium text-destructive",e),...r,children:s}):null});mc.displayName="FormMessage";const RPe=az({email:Ff().trim().email({message:"Email invalide"}),password:Ff().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),$Pe=az({email:Ff().trim().email({message:"Email invalide"}),password:Ff().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:Ff().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function MPe(){const{user:e,loading:t,signIn:r,signUp:n}=Ca(),a=xp(),[i,s]=w.useState(!1);w.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=R2({resolver:M2(RPe),defaultValues:{email:"",password:""}}),c=R2({resolver:M2($Pe),defaultValues:{email:"",password:"",displayName:""}}),u=async f=>{s(!0);const{error:h}=await r(f.email,f.password);s(!1),h?h.message.includes("Invalid login credentials")?qr({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?qr({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):qr({title:"Erreur",description:h.message,variant:"destructive"}):(qr({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},d=async f=>{s(!0);const{error:h}=await n(f.email,f.password,f.displayName);s(!1),h?h.message.includes("already registered")?qr({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):qr({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):qr({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:o.jsxs(dr,{className:"w-full max-w-md",children:[o.jsxs(ln,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Lv,{variant:"full",color:"dark"})}),o.jsx(cn,{children:"FinPlan Studio"}),o.jsx(mh,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),o.jsx(fr,{children:o.jsxs(Ea,{defaultValue:"login",className:"w-full",children:[o.jsxs(la,{className:"grid w-full grid-cols-2",children:[o.jsx(ut,{value:"login",children:"Connexion"}),o.jsx(ut,{value:"signup",children:"Inscription"})]}),o.jsx(mt,{value:"login",className:"mt-4",children:o.jsx(I2,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[o.jsx(sf,{control:l.control,name:"email",render:({field:f})=>o.jsxs(fc,{children:[o.jsx(hc,{children:"Email"}),o.jsx(pc,{children:o.jsx(be,{type:"email",placeholder:"vous@exemple.com",...f})}),o.jsx(mc,{})]})}),o.jsx(sf,{control:l.control,name:"password",render:({field:f})=>o.jsxs(fc,{children:[o.jsx(hc,{children:"Mot de passe"}),o.jsx(pc,{children:o.jsx(be,{type:"password",placeholder:"",...f})}),o.jsx(mc,{})]})}),o.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&o.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),o.jsx(mt,{value:"signup",className:"mt-4",children:o.jsx(I2,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[o.jsx(sf,{control:c.control,name:"displayName",render:({field:f})=>o.jsxs(fc,{children:[o.jsx(hc,{children:"Nom complet"}),o.jsx(pc,{children:o.jsx(be,{placeholder:"Jean Dupont",...f})}),o.jsx(mc,{})]})}),o.jsx(sf,{control:c.control,name:"email",render:({field:f})=>o.jsxs(fc,{children:[o.jsx(hc,{children:"Email"}),o.jsx(pc,{children:o.jsx(be,{type:"email",placeholder:"vous@exemple.com",...f})}),o.jsx(mc,{})]})}),o.jsx(sf,{control:c.control,name:"password",render:({field:f})=>o.jsxs(fc,{children:[o.jsx(hc,{children:"Mot de passe"}),o.jsx(pc,{children:o.jsx(be,{type:"password",placeholder:"",...f})}),o.jsx(mc,{})]})}),o.jsxs(ae,{type:"submit",className:"w-full",disabled:i,children:[i&&o.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const IPe=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function DPe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var s;try{const{data:l}=await pe.auth.getSession(),c=(s=l==null?void 0:l.session)==null?void 0:s.access_token,d=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:f}=await pe.from("user_roles").select("*"),h=new Map;f&&f.forEach(y=>h.set(y.user_id,y.role));const p=d.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(p)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(s,l)=>{try{await pe.from("user_roles").upsert({user_id:s,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===s?{...u,role:l}:u)),qr({title:"Rle mis  jour"})}catch{qr({title:"Erreur",variant:"destructive"})}};return r?o.jsx(_i,{className:"h-6 w-6 animate-spin mx-auto"}):o.jsxs(dr,{children:[o.jsx(ln,{children:o.jsx(cn,{children:"Gestion des Utilisateurs"})}),o.jsx(fr,{children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Email"}),o.jsx(le,{children:"Rle"})]})}),o.jsxs(Wt,{children:[e.map(s=>o.jsxs(we,{children:[o.jsx(Y,{className:"font-medium",children:s.display_name||""}),o.jsx(Y,{className:"text-sm text-muted-foreground",children:s.email}),o.jsx(Y,{children:o.jsxs(at,{value:s.role,onValueChange:l=>i(s.id,l),children:[o.jsx(tt,{className:"w-32",children:o.jsx(it,{})}),o.jsx(rt,{children:IPe.map(l=>o.jsx(De,{value:l,children:l},l))})]})})]},s.id)),e.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const D2=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],LPe=["hidden","read","write"],Db=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],FPe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},Lb={hidden:{label:"Masqu",icon:tI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:z6,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:Sv,color:"bg-green-100 text-green-800"}};function BPe(){const{isAdmin:e,loading:t}=Ca(),r=xp(),[n,a]=w.useState({}),[i,s]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:h}=await pe.from("tab_permissions").select("*");if(h)throw h;const p={};D2.forEach(y=>{p[y]={},Db.forEach(m=>{p[y][m.key]="hidden"})}),f==null||f.forEach(y=>{p[y.role]&&(p[y.role][y.tab_key]=y.permission)}),a(p)}catch{}finally{s(!1)}},d=async(f,h,p)=>{c(`${f}:${h}`);try{await pe.from("tab_permissions").upsert({role:f,tab_key:h,permission:p},{onConflict:"role,tab_key"}),a(y=>({...y,[f]:{...y[f],[h]:p}})),qr({title:"Permission mise  jour"})}catch{qr({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):e?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rI,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),o.jsxs(Ea,{defaultValue:"users",className:"space-y-6",children:[o.jsxs(la,{className:"grid w-full max-w-md grid-cols-2",children:[o.jsxs(ut,{value:"users",className:"flex items-center gap-2",children:[o.jsx(pu,{className:"h-4 w-4"}),"Utilisateurs"]}),o.jsxs(ut,{value:"permissions",className:"flex items-center gap-2",children:[o.jsx(tW,{className:"h-4 w-4"}),"Permissions"]})]}),o.jsx(mt,{value:"users",children:o.jsx(DPe,{})}),o.jsx(mt,{value:"permissions",className:"space-y-6",children:o.jsxs(dr,{children:[o.jsxs(ln,{children:[o.jsx(cn,{children:"Matrice des Permissions"}),o.jsx(mh,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),o.jsx(fr,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"w-32",children:"Rle"}),Db.map(f=>o.jsx(le,{className:"text-center min-w-[140px]",children:f.label},f.key))]})}),o.jsx(Wt,{children:D2.map(f=>o.jsxs(we,{children:[o.jsx(Y,{children:o.jsx(Me,{variant:f==="admin"?"default":"secondary",children:FPe[f]})}),Db.map(h=>{var m;const p=((m=n[f])==null?void 0:m[h.key])||"hidden",y=`${f}:${h.key}`;return o.jsx(Y,{className:"text-center p-2",children:f==="admin"?o.jsxs(Me,{className:Lb.write.color,children:[o.jsx(Sv,{className:"h-3 w-3 mr-1"}),Lb.write.label]}):o.jsxs(at,{value:p,onValueChange:g=>d(f,h.key,g),disabled:l===y,children:[o.jsx(tt,{className:"w-28",children:o.jsx(it,{})}),o.jsx(rt,{children:LPe.map(g=>{const{label:v,icon:x}=Lb[g];return o.jsx(De,{value:g,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x,{className:"h-3 w-3"}),v]})},g)})})]})},h.key)})]},f))})]})})})]})})]})]}):null}const Fb=[50,100,200,500,1e3,2e3,5e3,1e4];function zPe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function UPe(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[p,y]=w.useState(!0),[m,g]=w.useState(!1),v=w.useCallback(async()=>{if(e){m||y(!0);try{const[U,V,W,de,Q,te]=await Promise.all([pe.from("costflow_references").select("*").order("code"),pe.from("costflow_products").select("*").order("name"),pe.from("costflow_bom").select("*"),pe.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),pe.from("costflow_suppliers").select("*").order("name"),pe.from("costflow_product_categories").select("*").order("name")]);U.data&&r(U.data.map(zPe)),V.data&&a(V.data.map(q=>({id:q.id,name:q.name,family:q.family||"Standard",main_supplier:q.main_supplier||"",coefficient:Number(q.coefficient)||1.3,price_ttc:Number(q.price_ttc)||0,default_volume:q.default_volume||500,comments:q.comments||"",category_id:q.category_id||null,created_at:q.created_at,updated_at:q.updated_at}))),W.data&&s(W.data.map(q=>({id:q.id,product_id:q.product_id,reference_id:q.reference_id,quantity:Number(q.quantity)||1}))),de.data&&c(de.data.map(q=>({id:q.id,reference_id:q.reference_id,file_name:q.file_name,file_path:q.file_path,file_size:q.file_size||0,version:q.version||1,uploaded_at:q.uploaded_at}))),Q.data&&d(Q.data.map(q=>({id:q.id,name:q.name,contact_name:q.contact_name||"",email:q.email||"",phone:q.phone||"",country:q.country||"France",comments:q.comments||"",created_at:q.created_at,updated_at:q.updated_at}))),te.data&&h(te.data.map(q=>({id:q.id,name:q.name,description:q.description||"",color:q.color||"#6366f1",created_at:q.created_at})))}catch(U){console.error("CostFlow fetch error:",U)}finally{y(!1),g(!0)}}},[e,m]);w.useEffect(()=>{v()},[v]);const x=async U=>{if(!e)return;const V=U.prices||{},{error:W}=await pe.from("costflow_references").insert({user_id:e.id,code:U.code,name:U.name,category:U.category||"Mcanique",revision:U.revision||"A",supplier:U.supplier||"",currency:U.currency||"EUR",comments:U.comments||"",price_vol_50:V[50]||0,price_vol_100:V[100]||0,price_vol_200:V[200]||0,price_vol_500:V[500]||0,price_vol_1000:V[1e3]||0,price_vol_2000:V[2e3]||0,price_vol_5000:V[5e3]||0,price_vol_10000:V[1e4]||0});W?(Ce.error("Erreur cration rfrence"),console.error(W)):(Ce.success("Rfrence cre"),v())},b=async(U,V)=>{if(!e)return;const W={};V.code!==void 0&&(W.code=V.code),V.name!==void 0&&(W.name=V.name),V.category!==void 0&&(W.category=V.category),V.revision!==void 0&&(W.revision=V.revision),V.supplier!==void 0&&(W.supplier=V.supplier),V.currency!==void 0&&(W.currency=V.currency),V.comments!==void 0&&(W.comments=V.comments),V.prices&&(W.price_vol_50=V.prices[50]??0,W.price_vol_100=V.prices[100]??0,W.price_vol_200=V.prices[200]??0,W.price_vol_500=V.prices[500]??0,W.price_vol_1000=V.prices[1e3]??0,W.price_vol_2000=V.prices[2e3]??0,W.price_vol_5000=V.prices[5e3]??0,W.price_vol_10000=V.prices[1e4]??0);const{error:de}=await pe.from("costflow_references").update(W).eq("id",U);de?(Ce.error("Erreur mise  jour"),console.error(de)):(Ce.success("Rfrence mise  jour"),v())},_=async U=>{const{error:V}=await pe.from("costflow_references").delete().eq("id",U);V?(Ce.error("Erreur suppression"),console.error(V)):(Ce.success("Rfrence supprime"),v())},j=async(U,V="skip")=>{if(!e||U.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const W={imported:0,skipped:0,updated:0,errors:[]},de=t.map(q=>q.code),Q=U.filter(q=>!de.includes(q.code||"")),te=U.filter(q=>de.includes(q.code||""));if(Q.length>0){const q=Q.map(ve=>{const ge=ve.prices||{};return{user_id:e.id,code:ve.code,name:ve.name||ve.code,category:ve.category||"Mcanique",revision:ve.revision||"A",supplier:ve.supplier||"",currency:ve.currency||"EUR",comments:ve.comments||"",price_vol_50:ge[50]||0,price_vol_100:ge[100]||0,price_vol_200:ge[200]||0,price_vol_500:ge[500]||0,price_vol_1000:ge[1e3]||0,price_vol_2000:ge[2e3]||0,price_vol_5000:ge[5e3]||0,price_vol_10000:ge[1e4]||0}}),{error:H}=await pe.from("costflow_references").insert(q);H?W.errors.push(`Erreur insertion : ${H.message}`):W.imported=Q.length}if(te.length>0)if(V==="skip")W.skipped=te.length;else for(const q of te){const H=t.find(Ae=>Ae.code===q.code);if(!H)continue;const ve=q.prices||{},{error:ge}=await pe.from("costflow_references").update({name:q.name||q.code,supplier:q.supplier||"",currency:q.currency||"EUR",comments:q.comments||"",price_vol_50:ve[50]||0,price_vol_100:ve[100]||0,price_vol_200:ve[200]||0,price_vol_500:ve[500]||0,price_vol_1000:ve[1e3]||0,price_vol_2000:ve[2e3]||0,price_vol_5000:ve[5e3]||0,price_vol_10000:ve[1e4]||0}).eq("id",H.id);ge?W.errors.push(`Erreur mise  jour ${q.code}`):W.updated++}return v(),W},S=async U=>{if(!e)return;const{error:V}=await pe.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""});V?(Ce.error("Erreur cration produit"),console.error(V)):(Ce.success("Produit cr"),v())},C=async(U,V)=>{if(!e)return;const{error:W}=await pe.from("costflow_products").update(V).eq("id",U);W?(Ce.error("Erreur mise  jour"),console.error(W)):(Ce.success("Produit mis  jour"),v())},N=async U=>{const{error:V}=await pe.from("costflow_products").delete().eq("id",U);V?(Ce.error("Erreur suppression"),console.error(V)):(Ce.success("Produit supprim"),v())},P=async(U,V,W)=>{if(!e)return;const{error:de}=await pe.from("costflow_bom").insert({user_id:e.id,product_id:U,reference_id:V,quantity:W});de?(Ce.error("Erreur ajout nomenclature"),console.error(de)):v()},E=async(U,V)=>{const{error:W}=await pe.from("costflow_bom").update({quantity:V}).eq("id",U);W?(Ce.error("Erreur mise  jour"),console.error(W)):v()},k=async U=>{const{error:V}=await pe.from("costflow_bom").delete().eq("id",U);V?(Ce.error("Erreur suppression"),console.error(V)):v()},A=async(U,V)=>{if(!e)return;const W=`${e.id}/${U}/${Date.now()}_${V.name}`,{error:de}=await pe.storage.from("technical-plans").upload(W,V);if(de){Ce.error("Erreur upload fichier"),console.error(de);return}const Q=l.filter(H=>H.reference_id===U),te=Q.length>0?Math.max(...Q.map(H=>H.version)):0,{error:q}=await pe.from("costflow_reference_files").insert({user_id:e.id,reference_id:U,file_name:V.name,file_path:W,file_size:V.size,version:te+1});q?(Ce.error("Erreur enregistrement fichier"),console.error(q)):(Ce.success("Fichier upload"),v())},R=async(U,V)=>{await pe.storage.from("technical-plans").remove([V]);const{error:W}=await pe.from("costflow_reference_files").delete().eq("id",U);W?(Ce.error("Erreur suppression fichier"),console.error(W)):v()},O=U=>{const{data:V}=pe.storage.from("technical-plans").getPublicUrl(U);return V.publicUrl},I=async U=>{const{data:V,error:W}=await pe.storage.from("technical-plans").createSignedUrl(U,3600);return W?(Ce.error("Erreur accs fichier"),null):V.signedUrl},$=(U,V)=>{const W=i.filter(q=>q.product_id===U),de=n.find(q=>q.id===U);if(!de)return 0;const Q=Fb.reduce((q,H)=>Math.abs(H-V)<Math.abs(q-V)?H:q);let te=0;for(const q of W){const H=t.find(ve=>ve.id===q.reference_id);H&&(te+=q.quantity*(H.prices[Q]||0))}return te*de.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:f,loading:p,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:j,createProduct:S,updateProduct:C,deleteProduct:N,createProductWithBom:async(U,V)=>{if(!e)return;const{data:W,error:de}=await pe.from("costflow_products").insert({user_id:e.id,name:U.name,family:U.family||"Standard",main_supplier:U.main_supplier||"",coefficient:U.coefficient||1.3,price_ttc:U.price_ttc||0,default_volume:U.default_volume||500,comments:U.comments||""}).select("id").single();if(de||!W){Ce.error("Erreur cration produit"),console.error(de);return}const Q=W.id;if(V.length>0){const te=V.map(H=>({user_id:e.id,product_id:Q,reference_id:H.referenceId,quantity:H.quantity})),{error:q}=await pe.from("costflow_bom").insert(te);q&&(Ce.error("Erreur ajout nomenclature"),console.error(q))}Ce.success(`Produit "${U.name}" cr avec ${V.length} rfrence(s)`),v()},addBomEntry:P,updateBomEntry:E,removeBomEntry:k,uploadFile:A,deleteFile:R,getFileUrl:O,getSignedUrl:I,createSupplier:async U=>{if(!e)return;const{error:V}=await pe.from("costflow_suppliers").insert({user_id:e.id,name:U.name,contact_name:U.contact_name||"",email:U.email||"",phone:U.phone||"",country:U.country||"France",comments:U.comments||""});V?(Ce.error("Erreur cration fournisseur"),console.error(V)):(Ce.success("Fournisseur cr"),v())},updateSupplier:async(U,V)=>{if(!e)return;const{error:W}=await pe.from("costflow_suppliers").update(V).eq("id",U);W?(Ce.error("Erreur mise  jour fournisseur"),console.error(W)):(Ce.success("Fournisseur mis  jour"),v())},deleteSupplier:async U=>{const{error:V}=await pe.from("costflow_suppliers").delete().eq("id",U);V?(Ce.error("Erreur suppression fournisseur"),console.error(V)):(Ce.success("Fournisseur supprim"),v())},createProductCategory:async U=>{if(!e)return;const{error:V}=await pe.from("costflow_product_categories").insert({user_id:e.id,name:U.name,description:U.description||"",color:U.color||"#6366f1"});V?(Ce.error("Erreur cration catgorie"),console.error(V)):(Ce.success("Catgorie cre"),v())},updateProductCategory:async(U,V)=>{if(!e)return;const{error:W}=await pe.from("costflow_product_categories").update(V).eq("id",U);W?(Ce.error("Erreur mise  jour catgorie"),console.error(W)):(Ce.success("Catgorie mise  jour"),v())},deleteProductCategory:async U=>{await pe.from("costflow_products").update({category_id:null}).eq("category_id",U);const{error:V}=await pe.from("costflow_product_categories").delete().eq("id",U);V?(Ce.error("Erreur suppression catgorie"),console.error(V)):(Ce.success("Catgorie supprime"),v())},calculateProductCost:$,calculateProductCosts:U=>{const V={};for(const W of Fb)V[W]=$(U,W);return V},VOLUME_TIERS:Fb,refresh:v}}const Ti=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ti.displayName="Textarea";const VPe=ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eo=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ie(VPe({variant:t}),e),...r}));eo.displayName="Alert";const WPe=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));WPe.displayName="AlertTitle";const to=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));to.displayName="AlertDescription";const Bb=["EUR","USD","GBP","CHF","CNY","JPY"],km=[50,100,200,500,1e3,2e3,5e3,1e4];function sc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function of(e){return e.code.trim().length>0}function HPe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=w.useState([sc()]),[s,l]=w.useState(!1),[c,u]=w.useState("skip"),[d,f]=w.useState(null),h=w.useRef(null),p=w.useRef(null),y=a.filter(N=>of(N)).length,m=a.filter(N=>N.code&&n.includes(N.code)).length,g=(N,P,E)=>{i(k=>{const A=[...k];return A[N]={...A[N],[P]:E},A[N].valid=of(A[N]),A[N].isDuplicate=A[N].code?n.includes(A[N].code):!1,A})},v=(N,P,E)=>{i(k=>{const A=[...k];return A[N]={...A[N],prices:{...A[N].prices,[P]:E}},A})},x=N=>{i(P=>P.length===1?[sc()]:P.filter((E,k)=>k!==N))},b=()=>i(N=>[...N,sc()]),_=w.useCallback(N=>{const P=N.clipboardData.getData("text/plain");if(!P.includes("	")&&!P.includes(`
`))return;N.preventDefault();const E=P.split(`
`).map(I=>I.trim()).filter(I=>I.length>0),k=E[0].toLowerCase(),O=(k.includes("code")||k.includes("nom")||k.includes("name")?E.slice(1):E).map(I=>{const $=I.split("	"),M=sc();return M.code=($[0]||"").trim(),M.name=($[1]||"").trim(),M.supplier=($[2]||"").trim(),M.currency=Bb.includes(($[3]||"").trim().toUpperCase())?($[3]||"EUR").trim().toUpperCase():"EUR",km.forEach((D,L)=>{const z=parseFloat(($[4+L]||"").replace(",","."));isNaN(z)||(M.prices[D]=z)}),M.unit=($[12]||"pice").trim(),M.comments=($[13]||"").trim(),M.valid=of(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter(I=>I.code||I.name);O.length>0&&i(I=>I.length===1&&!I[0].code&&!I[0].name?O:[...I,...O])},[]),j=N=>{var k;const P=(k=N.target.files)==null?void 0:k[0];if(!P)return;const E=new FileReader;E.onload=A=>{var z;const R=(z=A.target)==null?void 0:z.result;if(!R)return;const O=R.includes("	")?"	":R.includes(";")?";":",",I=R.split(`
`).map(X=>X.trim()).filter(X=>X.length>0),$=I[0].toLowerCase(),L=($.includes("code")||$.includes("nom")?I.slice(1):I).map(X=>{const G=X.split(O),F=sc();return F.code=(G[0]||"").trim(),F.name=(G[1]||"").trim(),F.supplier=(G[2]||"").trim(),F.currency=Bb.includes((G[3]||"").trim().toUpperCase())?(G[3]||"EUR").trim().toUpperCase():"EUR",km.forEach((J,U)=>{const V=parseFloat((G[4+U]||"").replace(",","."));isNaN(V)||(F.prices[J]=V)}),F.unit=(G[12]||"pice").trim(),F.comments=(G[13]||"").trim(),F.valid=of(F),F.isDuplicate=F.code?n.includes(F.code):!1,F}).filter(X=>X.code||X.name);L.length>0&&i(L)},E.readAsText(P),p.current&&(p.current.value="")},S=async()=>{const N=a.filter(k=>of(k));if(N.length===0)return;l(!0);const P=N.map(k=>({code:k.code,name:k.name||k.code,supplier:k.supplier||"",currency:k.currency||"EUR",prices:k.prices||{},comments:k.comments||"",category:"Mcanique",revision:"A"})),E=await r(P,c);f(E),l(!1)},C=()=>{i([sc()]),f(null),t(!1)};return d?o.jsx(Tr,{open:e,onOpenChange:C,children:o.jsxs(yr,{className:"max-w-md",children:[o.jsx(xr,{children:o.jsxs(br,{className:"flex items-center gap-2",children:[o.jsx(JM,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[d.imported>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Me,{variant:"default",className:"bg-green-600",children:d.imported}),o.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),d.updated>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Me,{variant:"secondary",children:d.updated}),o.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),d.skipped>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Me,{variant:"outline",children:d.skipped}),o.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),d.errors.length>0&&o.jsx(eo,{variant:"destructive",children:o.jsx(to,{children:d.errors.map((N,P)=>o.jsx("div",{className:"text-xs",children:N},P))})})]}),o.jsx(ae,{onClick:C,className:"w-full",children:"Fermer"})]})}):o.jsx(Tr,{open:e,onOpenChange:C,children:o.jsxs(yr,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(xr,{children:[o.jsx(br,{children:"Importer des rfrences"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(la,{className:"w-full",children:[o.jsxs(ut,{value:"paste",className:"flex-1",children:[o.jsx(ZM,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(ut,{value:"file",className:"flex-1",children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(mt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(eo,{children:[o.jsx(sh,{className:"h-4 w-4"}),o.jsxs(to,{children:[o.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",o.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),m>0&&o.jsxs(eo,{children:[o.jsx(hu,{className:"h-4 w-4"}),o.jsxs(to,{className:"flex items-center justify-between",children:[o.jsxs("span",{children:[m," code(s) dj existant(s)"]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(ae,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),o.jsx(ae,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),o.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),km.map(N=>o.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:N},N)),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:a.map((N,P)=>o.jsxs("tr",{className:`border-t ${N.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[o.jsx("td",{className:"px-1 py-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(be,{className:`h-8 text-xs ${N.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:N.code,onChange:E=>g(P,"code",E.target.value)}),N.isDuplicate&&o.jsx(hu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(be,{className:"h-8 text-xs",placeholder:"Nom...",value:N.name,onChange:E=>g(P,"name",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(be,{className:"h-8 text-xs",value:N.supplier,onChange:E=>g(P,"supplier",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsxs(at,{value:N.currency,onValueChange:E=>g(P,"currency",E),children:[o.jsx(tt,{className:"h-8 text-xs",children:o.jsx(it,{})}),o.jsx(rt,{children:Bb.map(E=>o.jsx(De,{value:E,children:E},E))})]})}),km.map(E=>o.jsx("td",{className:"px-1 py-1",children:o.jsx(be,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:N.prices[E]??"",onChange:k=>v(P,E,parseFloat(k.target.value)||0),placeholder:"0"})},E)),o.jsx("td",{className:"px-1 py-1",children:o.jsx(be,{className:"h-8 text-xs",value:N.unit,onChange:E=>g(P,"unit",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(be,{className:"h-8 text-xs",value:N.comments,onChange:E=>g(P,"comments",E.target.value)})}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>x(P),className:"text-destructive hover:text-destructive/80",children:o.jsx(Ai,{className:"h-4 w-4"})})})]},P))})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ae,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),o.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&o.jsxs("span",{className:"text-xs text-yellow-600",children:[m," doublon(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),o.jsxs(mt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(eo,{children:[o.jsx(sh,{className:"h-4 w-4"}),o.jsxs(to,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(es,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:p,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:j}),o.jsx(ae,{variant:"outline",onClick:()=>{var N;return(N=p.current)==null?void 0:N.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ae,{variant:"outline",onClick:C,children:[o.jsx(Ai,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ae,{onClick:S,disabled:y===0||s,children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const qPe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],KPe=["EUR","USD","GBP","CHF","CNY","JPY"],GPe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),YPe=[50,100,200,500,1e3,2e3,5e3,1e4];function XPe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:s}){const[l,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[p,y]=w.useState(null),[m,g]=w.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),v=e.filter(j=>j.code.toLowerCase().includes(l.toLowerCase())||j.name.toLowerCase().includes(l.toLowerCase())||j.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),g({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=j=>{y(j),g({code:j.code,name:j.name,category:j.category,revision:j.revision,supplier:j.supplier,currency:j.currency,comments:j.comments,prices:{...j.prices}}),h(!0)},_=async()=>{if(!m.code||!m.name)return;const j={...m,supplier:m.supplier==="none"?"":m.supplier};p?await n(p.id,j):await r(j),h(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(pS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(be,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:j=>c(j.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ae,{variant:"outline",onClick:()=>d(!0),children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(Tr,{open:f,onOpenChange:h,children:[o.jsx(Kx,{asChild:!0,children:o.jsxs(ae,{onClick:x,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),o.jsxs(yr,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[o.jsx(xr,{children:o.jsx(br,{children:p?"Modifier la rfrence":"Nouvelle rfrence"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Code *"}),o.jsx(be,{value:m.code,onChange:j=>g({...m,code:j.target.value}),placeholder:"REF-001"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Nom *"}),o.jsx(be,{value:m.name,onChange:j=>g({...m,name:j.target.value}),placeholder:"Nom de la pice"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Catgorie"}),o.jsxs(at,{value:m.category,onValueChange:j=>g({...m,category:j}),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:qPe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Rvision"}),o.jsxs(at,{value:m.revision,onValueChange:j=>g({...m,revision:j}),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:GPe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Fournisseur"}),o.jsxs(at,{value:m.supplier,onValueChange:j=>g({...m,supplier:j}),children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Slectionner..."})}),o.jsxs(rt,{children:[o.jsx(De,{value:"none",children:"Aucun"}),t.map(j=>o.jsx(De,{value:j.name,children:j.name},j.id))]})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Devise"}),o.jsxs(at,{value:m.currency,onValueChange:j=>g({...m,currency:j}),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:KPe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs(_e,{className:"text-sm font-semibold",children:["Grille de prix par volume (",m.currency,")"]}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:YPe.map(j=>o.jsxs("div",{children:[o.jsxs(_e,{className:"text-xs text-muted-foreground",children:[j," units"]}),o.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:m.prices[j]||"",onChange:S=>g({...m,prices:{...m.prices,[j]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},j))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(_e,{children:"Commentaires"}),o.jsx(Ti,{value:m.comments,onChange:j=>g({...m,comments:j.target.value}),rows:2})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:_,children:p?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Rv."}),o.jsx(le,{children:"Fournisseur"}),o.jsx(le,{children:"Devise"}),o.jsx(le,{className:"text-right",children:"Prix @500"}),o.jsx(le,{className:"text-right",children:"Prix @1000"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[v.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),v.map(j=>{var S,C;return o.jsxs(we,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(j),children:[o.jsx(Y,{className:"font-mono-numbers font-medium",children:j.code}),o.jsx(Y,{children:j.name}),o.jsx(Y,{children:o.jsx(Me,{variant:"secondary",children:j.category})}),o.jsx(Y,{children:j.revision}),o.jsx(Y,{children:j.supplier||"-"}),o.jsx(Y,{children:j.currency}),o.jsx(Y,{className:"text-right font-mono-numbers",children:((S=j.prices[500])==null?void 0:S.toFixed(2))||"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:((C=j.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),b(j)},children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),a(j.id)},children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},j.id)})]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),o.jsx(HPe,{open:u,onOpenChange:d,onImport:i,existingCodes:e.map(j=>j.code)})]})}const QPe=[50,100,200,500,1e3,2e3,5e3,1e4];function JPe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const s=w.useRef(null),l=t.filter(f=>f.reference_id===e.id),c=async f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];h&&await r(e.id,h),s.current&&(s.current.value="")},u=async f=>{const h=await a(f.file_path);h&&window.open(h,"_blank")},d=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:i,children:o.jsx(GM,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(Me,{variant:"secondary",children:e.category}),o.jsxs(Me,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&o.jsx(Me,{variant:"outline",children:e.supplier})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:QPe.map(f=>{var h;return o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[f," u."]}),o.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[f])==null?void 0:h.toFixed(2))||""})]},f)})})]}),e.comments&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Commentaires"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),o.jsxs("div",{children:[o.jsx("input",{ref:s,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=s.current)==null?void 0:f.click()},children:[o.jsx(es,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Fichier"}),o.jsx(le,{children:"Version"}),o.jsx(le,{children:"Taille"}),o.jsx(le,{children:"Date"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:l.map(f=>o.jsxs(we,{children:[o.jsxs(Y,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-4 w-4 text-muted-foreground"}),f.file_name]}),o.jsx(Y,{children:o.jsxs(Me,{variant:"outline",children:["v",f.version]})}),o.jsx(Y,{className:"font-mono-numbers text-muted-foreground",children:d(f.file_size)}),o.jsx(Y,{className:"text-muted-foreground",children:new Date(f.uploaded_at).toLocaleDateString("fr-FR")}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>u(f),children:o.jsx(Sy,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(f.id,f.file_path),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},f.id))})]})]})]})}const ZPe=[50,100,200,500,1e3,2e3,5e3,1e4],eEe=["Standard","Premium","conomique","Custom"];function Om(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function tEe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,s]=w.useState(""),[l,c]=w.useState("Standard"),[u,d]=w.useState(""),[f,h]=w.useState([Om()]),[p,y]=w.useState(!1),[m,g]=w.useState(null),v=w.useRef(null),x=w.useCallback(R=>{if(!R.trim())return{found:!1,referenceId:null,referenceName:""};const O=r.find(I=>I.code.toLowerCase()===R.trim().toLowerCase());return O?{found:!0,referenceId:O.id,referenceName:O.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(R,O,I)=>{h($=>{const M=[...$];if(M[R]={...M[R],[O]:I},O==="refCode"){const D=x(I);M[R]={...M[R],...D}}return M})},_=R=>{h(O=>O.length===1?[Om()]:O.filter((I,$)=>$!==R))},j=()=>h(R=>[...R,Om()]),S=w.useCallback(R=>{const O=R.clipboardData.getData("text/plain");if(!O.includes("	")&&!O.includes(`
`))return;R.preventDefault();const I=O.split(`
`).map(z=>z.trim()).filter(z=>z.length>0),$=I[0].toLowerCase(),L=($.includes("code")||$.includes("ref")||$.includes("rfrence")?I.slice(1):I).map(z=>{const X=z.split("	"),G=(X[0]||"").trim(),F=parseFloat((X[1]||"1").replace(",","."))||1,J=parseInt(X[2]||"200")||200,U=x(G);return{refCode:G,quantity:F,volume:J,...U}}).filter(z=>z.refCode.length>0);L.length>0&&h(z=>z.length===1&&!z[0].refCode?L:[...z,...L])},[x]),C=R=>{var $;const O=($=R.target.files)==null?void 0:$[0];if(!O)return;const I=new FileReader;I.onload=M=>{var U;const D=(U=M.target)==null?void 0:U.result;if(!D)return;const L=D.includes("	")?"	":D.includes(";")?";":",",z=D.split(`
`).map(V=>V.trim()).filter(V=>V.length>0),X=z[0].toLowerCase(),J=(X.includes("code")||X.includes("ref")?z.slice(1):z).map(V=>{const W=V.split(L),de=(W[0]||"").trim(),Q=parseFloat((W[1]||"1").replace(",","."))||1,te=parseInt(W[2]||"200")||200,q=x(de);return{refCode:de,quantity:Q,volume:te,...q}}).filter(V=>V.refCode.length>0);J.length>0&&h(J)},I.readAsText(O),v.current&&(v.current.value="")},N=f.filter(R=>R.refCode.trim()&&R.found&&R.referenceId),P=f.filter(R=>R.refCode.trim()&&!R.found),E=N.length,k=async()=>{if(!(!i.trim()||E===0)){y(!0);try{const R=N.map(O=>({referenceId:O.referenceId,quantity:O.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},R),g({success:!0,productName:i,refCount:E,errors:P.map(O=>O.refCode)})}catch{g({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},A=()=>{s(""),c("Standard"),d(""),h([Om()]),g(null),t(!1)};return m?o.jsx(Tr,{open:e,onOpenChange:A,children:o.jsxs(yr,{className:"max-w-md",children:[o.jsx(xr,{children:o.jsxs(br,{className:"flex items-center gap-2",children:[m.success?o.jsx(JM,{className:"h-5 w-5 text-emerald-500"}):o.jsx(hu,{className:"h-5 w-5 text-destructive"}),m.success?"Produit cr":"Erreur"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[m.success&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm",children:["Le produit ",o.jsx("strong",{children:m.productName})," a t cr avec ",o.jsx("strong",{children:m.refCount})," rfrence(s)."]}),m.errors.length>0&&o.jsxs(eo,{children:[o.jsx(hu,{className:"h-4 w-4"}),o.jsxs(to,{children:[o.jsxs("span",{className:"font-medium",children:[m.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),o.jsx("span",{className:"text-xs ml-1",children:m.errors.join(", ")})]})]})]}),!m.success&&o.jsx("p",{className:"text-sm text-destructive",children:m.errors[0]})]}),o.jsx(ae,{onClick:A,className:"w-full",children:"Fermer"})]})}):o.jsx(Tr,{open:e,onOpenChange:A,children:o.jsxs(yr,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(xr,{children:[o.jsx(br,{children:"Importer des produits"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(la,{className:"w-full",children:[o.jsxs(ut,{value:"paste",className:"flex-1",children:[o.jsx(ZM,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(ut,{value:"file",className:"flex-1",children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(mt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(eo,{children:[o.jsx(sh,{className:"h-4 w-4"}),o.jsxs(to,{children:[o.jsx("strong",{children:"Comment utiliser :"}),o.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[o.jsxs("li",{children:["Saisissez le ",o.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),o.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),o.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),o.jsxs("li",{children:["Les rfrences ",o.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Nom du produit *"}),o.jsx(be,{value:i,onChange:R=>s(R.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Famille *"}),o.jsxs(at,{value:l,onValueChange:c,children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:eEe.map(R=>o.jsx(De,{value:R,children:R},R))})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Fournisseur"}),o.jsxs(at,{value:u,onValueChange:d,children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Slectionner..."})}),o.jsxs(rt,{children:[o.jsx(De,{value:" ",children:"Aucun"}),n.map(R=>o.jsx(De,{value:R,children:R},R))]})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[o.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:f.map((R,O)=>o.jsxs("tr",{className:`border-t ${R.refCode&&!R.found?"bg-destructive/5":""}`,children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx(be,{className:`h-8 text-xs ${R.refCode&&!R.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:R.refCode,onChange:I=>b(O,"refCode",I.target.value)}),R.found&&o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:R.referenceName})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(be,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:R.quantity,onChange:I=>b(O,"quantity",parseInt(I.target.value)||1)})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(at,{value:String(R.volume),onValueChange:I=>b(O,"volume",parseInt(I)),children:[o.jsx(tt,{className:"h-8 text-xs",children:o.jsx(it,{})}),o.jsx(rt,{children:ZPe.map(I=>o.jsx(De,{value:String(I),children:I},I))})]})}),o.jsx("td",{className:"px-2 py-1",children:R.refCode&&(R.found?o.jsx(Me,{variant:"secondary",className:"text-xs",children:" Trouve"}):o.jsx(Me,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>_(O),className:"text-destructive hover:text-destructive/80",children:o.jsx(Ai,{className:"h-4 w-4"})})})]},O))})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ae,{variant:"outline",size:"sm",onClick:j,children:"+ Ajouter une rfrence"}),o.jsxs("div",{className:"flex items-center gap-3",children:[P.length>0&&o.jsxs("span",{className:"text-xs text-destructive",children:[P.length," non trouve(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[E," rfrence(s) valide(s)"]})]})]})]}),o.jsxs(mt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(eo,{children:[o.jsx(sh,{className:"h-4 w-4"}),o.jsxs(to,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(es,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:v,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),o.jsx(ae,{variant:"outline",onClick:()=>{var R;return(R=v.current)==null?void 0:R.click()},children:"Choisir un fichier"})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ae,{variant:"outline",onClick:A,children:[o.jsx(Ai,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ae,{onClick:k,disabled:!i.trim()||E===0||p,children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Crer le produit (",E," rf.)"]})]})]})})}function rEe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:s,onImportProduct:l,calculateProductCosts:c}){const[u,d]=w.useState(""),[f,h]=w.useState(!1),[p,y]=w.useState(!1),[m,g]=w.useState(null),[v,x]=w.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var P;const N=((P=r.find(E=>E.id===C.category_id))==null?void 0:P.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||N.toLowerCase().includes(u.toLowerCase())}),_=()=>{g(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},j=C=>{g(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{v.name&&(m?await a(m.id,v):await n(v),y(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(pS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(be,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>d(C.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ae,{variant:"outline",onClick:()=>h(!0),children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(Tr,{open:p,onOpenChange:y,children:[o.jsx(Kx,{asChild:!0,children:o.jsxs(ae,{onClick:_,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),o.jsxs(yr,{className:"max-w-lg",children:[o.jsx(xr,{children:o.jsx(br,{children:m?"Modifier le produit":"Nouveau produit"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(_e,{children:"Nom *"}),o.jsx(be,{value:v.name,onChange:C=>x({...v,name:C.target.value}),placeholder:"Nom du produit"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Catgorie"}),o.jsxs(at,{value:v.category_id||"none",onValueChange:C=>x({...v,category_id:C==="none"?null:C}),children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Aucune catgorie"})}),o.jsxs(rt,{children:[o.jsx(De,{value:"none",children:"Aucune"}),r.map(C=>o.jsx(De,{value:C.id,children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Fournisseur principal"}),o.jsx(be,{value:v.main_supplier,onChange:C=>x({...v,main_supplier:C.target.value})})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Coefficient (MO + assemblage)"}),o.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.coefficient,onChange:C=>x({...v,coefficient:parseFloat(C.target.value)||1})})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Volume d'achat par dfaut"}),o.jsx(be,{type:"number",className:"font-mono-numbers",value:v.default_volume,onChange:C=>x({...v,default_volume:parseInt(C.target.value)||500})})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Prix TTC public ()"}),o.jsx(be,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.price_ttc,onChange:C=>x({...v,price_ttc:parseFloat(C.target.value)||0})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(_e,{children:"Commentaires"}),o.jsx(Ti,{value:v.comments,onChange:C=>x({...v,comments:C.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:S,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Fournisseur"}),o.jsx(le,{className:"text-right",children:"Coef."}),o.jsx(le,{className:"text-right",children:"Cot @500"}),o.jsx(le,{className:"text-right",children:"Prix TTC"}),o.jsx(le,{className:"text-right",children:"Marge"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[b.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const P=c(C.id)[500]||0,E=C.price_ttc>0?(C.price_ttc/1.2-P)/(C.price_ttc/1.2)*100:0;return o.jsxs(we,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(C),children:[o.jsx(Y,{className:"font-medium",children:C.name}),o.jsx(Y,{children:(()=>{const k=r.find(A=>A.id===C.category_id);return k?o.jsxs(Me,{variant:"outline",className:"gap-1",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:k.color}}),k.name]}):o.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),o.jsx(Y,{children:C.main_supplier||"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),o.jsx(Y,{className:"text-right font-mono-numbers",children:P>0?`${P.toFixed(2)} `:"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),o.jsx(Y,{className:`text-right font-mono-numbers font-medium ${E>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${E.toFixed(1)}%`:"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),j(C)},children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),i(C.id)},children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),o.jsx(tEe,{open:f,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const lf=[50,100,200,500,1e3,2e3,5e3,1e4];function nEe({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:s,onBack:l}){const[c,u]=w.useState(""),[d,f]=w.useState(1),h=r.filter(b=>b.product_id===e.id),p=s(e.id),y=e.price_ttc/1.2,m=lf.map(b=>({volume:`${b}`,cost:p[b]||0,margin:y>0?Math.max(0,y-(p[b]||0)):0})),g=async()=>{c&&(await n(e.id,c,d),u(""),f(1))},v=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!v.has(b.id));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:l,children:o.jsx(GM,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:e.name}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsxs(Me,{variant:"outline",children:["Coef. ",e.coefficient]}),o.jsxs(Me,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Rfrence"}),o.jsx(le,{className:"text-right",children:"Qt"}),lf.map(b=>o.jsxs(le,{className:"text-right text-xs",children:["@",b]},b)),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[h.map(b=>{const _=t.find(j=>j.id===b.reference_id);return _?o.jsxs(we,{children:[o.jsx(Y,{className:"font-mono-numbers",children:_.code}),o.jsx(Y,{children:_.name}),o.jsx(Y,{className:"text-right",children:o.jsx(be,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:j=>a(b.id,parseFloat(j.target.value)||1)})}),lf.map(j=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:((_.prices[j]||0)*b.quantity).toFixed(2)},j)),o.jsx(Y,{children:o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),o.jsxs(we,{className:"font-semibold bg-muted/30",children:[o.jsxs(Y,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),lf.map(b=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(p[b]||0).toFixed(2)},b)),o.jsx(Y,{})]}),y>0&&o.jsxs(we,{className:"font-semibold",children:[o.jsx(Y,{colSpan:3,className:"text-right",children:"Marge ()"}),lf.map(b=>{const _=y-(p[b]||0);return o.jsx(Y,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),o.jsx(Y,{})]})]})]}),o.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(_e,{className:"text-xs",children:"Rfrence"}),o.jsxs(at,{value:c,onValueChange:u,children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Choisir une rfrence..."})}),o.jsx(rt,{children:x.map(b=>o.jsxs(De,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),o.jsxs("div",{className:"w-20",children:[o.jsx(_e,{className:"text-xs",children:"Qt"}),o.jsx(be,{type:"number",min:1,className:"font-mono-numbers",value:d,onChange:b=>f(parseInt(b.target.value)||1)})]}),o.jsxs(ae,{size:"sm",onClick:g,disabled:!c,children:[o.jsx(Or,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),o.jsx(nn,{width:"100%",height:300,children:o.jsxs(Td,{data:m,children:[o.jsx(an,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(lr,{dataKey:"volume",tick:{fontSize:12}}),o.jsx(cr,{tick:{fontSize:12}}),o.jsx(Ft,{formatter:b=>`${b.toFixed(2)} `}),o.jsx(qt,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&o.jsx(qt,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function aEe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState({name:"",description:"",color:"#6366f1"}),d=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},f=p=>{l(p),u({name:p.name,description:p.description,color:p.color}),i(!0)},h=async()=>{c.name.trim()&&(s?await r(s.id,c):await t(c),i(!1))};return o.jsxs("div",{className:"financial-card p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"section-title flex items-center gap-2",children:[o.jsx(nW,{className:"h-4 w-4"})," Catgories de produits"]}),o.jsxs(Tr,{open:a,onOpenChange:i,children:[o.jsx(Kx,{asChild:!0,children:o.jsxs(ae,{size:"sm",onClick:d,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),o.jsxs(yr,{className:"max-w-md",children:[o.jsx(xr,{children:o.jsx(br,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Nom *"}),o.jsx(be,{value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Description"}),o.jsx(Ti,{value:c.description,onChange:p=>u({...c,description:p.target.value}),rows:2,placeholder:"Description optionnelle"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Couleur"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),o.jsx(be,{value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:h,children:s?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Couleur"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Description"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(p=>o.jsxs(we,{children:[o.jsx(Y,{children:o.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:p.color}})}),o.jsx(Y,{className:"font-medium",children:p.name}),o.jsx(Y,{className:"text-muted-foreground text-sm",children:p.description||"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>f(p),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))})]})]})}const li=[50,100,200,500,1e3,2e3,5e3,1e4];function iEe({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(!1),[c,u]=w.useState(new Set),[d,f]=w.useState(new Set),h=g=>{const v=new Set(c);v.has(g)?v.delete(g):v.add(g),u(v)},p=g=>{const v=new Set(d);v.has(g)?v.delete(g):v.add(g),f(v)},y=()=>{const g=e.filter(b=>c.size===0||c.has(b.id)),v=["Produit","Famille","Coef.",...li.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=g.map(b=>{const _=n(b.id),j=b.price_ttc/1.2,S=j>0?((j-(_[500]||0))/j*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...li.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([v,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),Ce.success("Donnes produits copies")},m=()=>{const g=t.filter(b=>d.size===0||d.has(b.id)),v=["Code","Nom","Catgorie","Fournisseur",...li.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=g.map(b=>[b.code,b.name,b.category,b.supplier,...li.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([v,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Ce.success("Donnes rfrences copies")};return o.jsxs(Ea,{defaultValue:"products",className:"space-y-4",children:[o.jsxs(la,{children:[o.jsx(ut,{value:"products",children:"Export Produits"}),o.jsx(ut,{value:"references",children:"Export Rfrences"}),o.jsx(ut,{value:"margins",children:"Analyse Marges"})]}),o.jsxs(mt,{value:"products",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),o.jsxs(ae,{variant:"outline",onClick:y,children:[a?o.jsx(ih,{className:"h-4 w-4 mr-1"}):o.jsx(IP,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"w-8"}),o.jsx(le,{children:"Produit"}),o.jsx(le,{children:"Famille"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(le,{className:"text-right",children:"Prix TTC"})]})}),o.jsx(Wt,{children:e.map(g=>{const v=n(g.id);return o.jsxs(we,{className:"cursor-pointer",onClick:()=>h(g.id),children:[o.jsx(Y,{children:o.jsx("input",{type:"checkbox",checked:c.has(g.id),readOnly:!0})}),o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{children:o.jsx(Me,{variant:"secondary",children:g.family})}),li.map(x=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(v[x]||0).toFixed(2)},x)),o.jsx(Y,{className:"text-right font-mono-numbers",children:g.price_ttc.toFixed(2)})]},g.id)})})]})})]}),o.jsxs(mt,{value:"references",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:d.size>0?`${d.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),o.jsxs(ae,{variant:"outline",onClick:m,children:[s?o.jsx(ih,{className:"h-4 w-4 mr-1"}):o.jsx(IP,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"w-8"}),o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Fournisseur"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(le,{children:"Devise"})]})}),o.jsx(Wt,{children:t.map(g=>o.jsxs(we,{className:"cursor-pointer",onClick:()=>p(g.id),children:[o.jsx(Y,{children:o.jsx("input",{type:"checkbox",checked:d.has(g.id),readOnly:!0})}),o.jsx(Y,{className:"font-mono-numbers",children:g.code}),o.jsx(Y,{children:g.name}),o.jsx(Y,{children:g.supplier||"-"}),li.map(v=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(g.prices[v]||0).toFixed(2)},v)),o.jsx(Y,{children:g.currency})]},g.id))})]})})]}),o.jsx(mt,{value:"margins",className:"space-y-4",children:o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Prix HT"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["Marge @",g]},g))]})}),o.jsx(Wt,{children:e.map(g=>{const v=n(g.id),x=g.price_ttc/1.2;return o.jsxs(we,{children:[o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),li.map(b=>{const _=x>0?(x-(v[b]||0))/x*100:0;return o.jsx(Y,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},g.id)})})]})})})]})}const L2={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function sEe({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=w.useState(""),[s,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(L2),h=e.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.contact_name.toLowerCase().includes(a.toLowerCase())||g.email.toLowerCase().includes(a.toLowerCase())),p=()=>{u(null),f(L2),l(!0)},y=g=>{u(g.id),f({name:g.name,contact_name:g.contact_name,email:g.email,phone:g.phone,country:g.country,comments:g.comments}),l(!0)},m=async()=>{d.name.trim()&&(c?await r(c,d):await t(d),l(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(pS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(be,{placeholder:"Rechercher un fournisseur...",value:a,onChange:g=>i(g.target.value),className:"pl-9"})]}),o.jsxs(ae,{onClick:p,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Contact"}),o.jsx(le,{children:"Email"}),o.jsx(le,{children:"Tlphone"}),o.jsx(le,{children:"Pays"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[h.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(g=>o.jsxs(we,{children:[o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{children:g.contact_name||"-"}),o.jsx(Y,{children:g.email||"-"}),o.jsx(Y,{children:g.phone||"-"}),o.jsx(Y,{children:g.country}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(g),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(g.id),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},g.id))]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),o.jsx(Tr,{open:s,onOpenChange:l,children:o.jsxs(yr,{className:"max-w-lg",children:[o.jsx(xr,{children:o.jsx(br,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(_e,{children:"Nom *"}),o.jsx(be,{value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"Nom du fournisseur"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Contact"}),o.jsx(be,{value:d.contact_name,onChange:g=>f({...d,contact_name:g.target.value}),placeholder:"Nom du contact"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Email"}),o.jsx(be,{type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Tlphone"}),o.jsx(be,{value:d.phone,onChange:g=>f({...d,phone:g.target.value}),placeholder:"+33 ..."})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Pays"}),o.jsx(be,{value:d.country,onChange:g=>f({...d,country:g.target.value}),placeholder:"France"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(_e,{children:"Commentaires"}),o.jsx(Ti,{value:d.comments,onChange:g=>f({...d,comments:g.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:m,disabled:!d.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function oEe(){const{user:e}=Ca(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,s]=w.useState(!0),l=w.useCallback(async()=>{if(e)try{const[m,g]=await Promise.all([pe.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),pe.from("costflow_meeting_tasks").select("*").order("sort_order")]);m.data&&r(m.data.map(v=>({id:v.id,meeting_date:v.meeting_date,title:v.title||"",content:v.content||"",created_at:v.created_at,updated_at:v.updated_at}))),g.data&&a(g.data.map(v=>({id:v.id,meeting_id:v.meeting_id,description:v.description,is_completed:v.is_completed||!1,sort_order:v.sort_order||0,created_at:v.created_at})))}catch(m){console.error("Meetings fetch error:",m)}finally{s(!1)}},[e]);return w.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async m=>{if(!e)return;const{error:g}=await pe.from("costflow_meetings").insert({user_id:e.id,meeting_date:m.meeting_date||new Date().toISOString().split("T")[0],title:m.title||"",content:m.content||""});g?(Ce.error("Erreur cration runion"),console.error(g)):(Ce.success("Runion cre"),l())},updateMeeting:async(m,g)=>{if(!e)return;const{error:v}=await pe.from("costflow_meetings").update(g).eq("id",m);v?(Ce.error("Erreur mise  jour runion"),console.error(v)):l()},deleteMeeting:async m=>{const{error:g}=await pe.from("costflow_meetings").delete().eq("id",m);g?(Ce.error("Erreur suppression runion"),console.error(g)):(Ce.success("Runion supprime"),l())},createTask:async(m,g)=>{if(!e)return;const v=n.filter(_=>_.meeting_id===m),x=v.length>0?Math.max(...v.map(_=>_.sort_order)):-1,{error:b}=await pe.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:m,description:g,sort_order:x+1});b?(Ce.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(m,g)=>{if(!e)return;const{error:v}=await pe.from("costflow_meeting_tasks").update(g).eq("id",m);v?(Ce.error("Erreur mise  jour tche"),console.error(v)):l()},deleteTask:async m=>{const{error:g}=await pe.from("costflow_meeting_tasks").delete().eq("id",m);g?(Ce.error("Erreur suppression tche"),console.error(g)):l()},getTasksForMeeting:m=>n.filter(g=>g.meeting_id===m),refresh:l}}function sn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function hs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function lEe(e,t){const r=sn(e);return isNaN(t)?hs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const bz=6048e5,cEe=864e5,wz=6e4,jz=36e5;let uEe={};function r0(){return uEe}function Ju(e,t){var l,c,u,d;const r=r0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=sn(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function ty(e){return Ju(e,{weekStartsOn:1})}function _z(e){const t=sn(e),r=t.getFullYear(),n=hs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ty(n),i=hs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=ty(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function ry(e){const t=sn(e);return t.setHours(0,0,0,0),t}function F2(e){const t=sn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function dEe(e,t){const r=ry(e),n=ry(t),a=+r-F2(r),i=+n-F2(n);return Math.round((a-i)/cEe)}function fEe(e){const t=_z(e),r=hs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ty(r)}function Sz(e,t){const r=t*7;return lEe(e,r)}function hEe(e){return hs(e,Date.now())}function a_(e,t){const r=ry(e),n=ry(t);return+r==+n}function pEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mEe(e){if(!pEe(e)&&typeof e!="number")return!1;const t=sn(e);return!isNaN(Number(t))}function vEe(e,t){const r=sn(e.start),n=sn(e.end);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=i;)c.push(sn(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a?c.reverse():c}function gEe(e){const t=sn(e),r=hs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yEe(e,t){const r=t==null?void 0:t.weekStartsOn,n=sn(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const xEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bEe=(e,t,r)=>{let n;const a=xEe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const wEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Ee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SEe={date:Gc({formats:wEe,defaultWidth:"full"}),time:Gc({formats:jEe,defaultWidth:"full"}),dateTime:Gc({formats:_Ee,defaultWidth:"full"})},CEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NEe=(e,t,r,n)=>CEe[e];function mi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const PEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},REe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$Ee={ordinalNumber:REe,era:mi({values:PEe,defaultWidth:"wide"}),quarter:mi({values:EEe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:AEe,defaultWidth:"wide"}),day:mi({values:kEe,defaultWidth:"wide"}),dayPeriod:mi({values:OEe,defaultWidth:"wide",formattingValues:TEe,defaultFormattingWidth:"wide"})};function vi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?IEe(l,f=>f.test(s)):MEe(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function MEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function IEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Cz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const DEe=/^(\d+)(th|st|nd|rd)?/i,LEe=/\d+/i,FEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BEe={any:[/^b/i,/^(a|c)/i]},zEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UEe={any:[/1/i,/2/i,/3/i,/4/i]},VEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YEe={ordinalNumber:Cz({matchPattern:DEe,parsePattern:LEe,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:FEe,defaultMatchWidth:"wide",parsePatterns:BEe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:zEe,defaultMatchWidth:"wide",parsePatterns:UEe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:VEe,defaultMatchWidth:"wide",parsePatterns:WEe,defaultParseWidth:"any"}),day:vi({matchPatterns:HEe,defaultMatchWidth:"wide",parsePatterns:qEe,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:KEe,defaultMatchWidth:"any",parsePatterns:GEe,defaultParseWidth:"any"})},XEe={code:"en-US",formatDistance:bEe,formatLong:SEe,formatRelative:NEe,localize:$Ee,match:YEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QEe(e){const t=sn(e);return dEe(t,gEe(t))+1}function JEe(e){const t=sn(e),r=+ty(t)-+fEe(t);return Math.round(r/bz)+1}function Nz(e,t){var d,f,h,p;const r=sn(e),n=r.getFullYear(),a=r0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=hs(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=Ju(s,t),c=hs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ju(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ZEe(e,t){var l,c,u,d;const r=r0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Nz(e,t),i=hs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ju(i,t)}function eAe(e,t){const r=sn(e),n=+Ju(r,t)-+ZEe(r,t);return Math.round(n/bz)+1}function _t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Es={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_t(r+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return _t(a,t.length)}},oc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Es.y(e,t)},Y:function(e,t,r,n){const a=Nz(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return _t(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):_t(i,t.length)},R:function(e,t){const r=_z(e);return _t(r,t.length)},u:function(e,t){const r=e.getFullYear();return _t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Es.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=eAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):_t(a,t.length)},I:function(e,t,r){const n=JEe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Es.d(e,t)},D:function(e,t,r){const n=QEe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return _t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return _t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return _t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=oc.noon:n===0?a=oc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=oc.evening:n>=12?a=oc.afternoon:n>=4?a=oc.morning:a=oc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Es.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Es.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Es.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Es.s(e,t)},S:function(e,t){return Es.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return U2(n);case"XXXX":case"XX":return Yo(n);case"XXXXX":case"XXX":default:return Yo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return U2(n);case"xxxx":case"xx":return Yo(n);case"xxxxx":case"xxx":default:return Yo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+z2(n,":");case"OOOO":default:return"GMT"+Yo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+z2(n,":");case"zzzz":default:return"GMT"+Yo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return _t(n,t.length)},T:function(e,t,r){const n=e.getTime();return _t(n,t.length)}};function z2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+_t(i,2)}function U2(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):Yo(e,t)}function Yo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=_t(Math.trunc(n/60),2),i=_t(n%60,2);return r+a+t+i}const V2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return V2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",V2(n,t)).replace("{{time}}",Pz(a,t))},rAe={p:Pz,P:tAe},nAe=/^D+$/,aAe=/^Y+$/,iAe=["D","DD","YY","YYYY"];function sAe(e){return nAe.test(e)}function oAe(e){return aAe.test(e)}function lAe(e,t,r){const n=cAe(e,t,r);if(console.warn(n),iAe.includes(e))throw new RangeError(n)}function cAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fAe=/^'([^]*?)'?$/,hAe=/''/g,pAe=/[a-zA-Z]/;function Ba(e,t,r){var d,f,h,p,y,m,g,v;const n=r0(),a=(r==null?void 0:r.locale)??n.locale??XEe,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=sn(e);if(!mEe(l))throw new RangeError("Invalid time value");let c=t.match(dAe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=rAe[b];return _(x,a.formatLong)}return x}).join("").match(uAe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:mAe(x)};if(B2[b])return{isToken:!0,value:x};if(b.match(pAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&oAe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&sAe(b))&&lAe(b,t,String(e));const _=B2[b[0]];return _(l,b,a.localize,u)}).join("")}function mAe(e){const t=e.match(fAe);return t?t[1].replace(hAe,"'"):e}function vAe(e){return a_(e,hEe(e))}function gAe(e,t){const n=wAe(e);let a;if(n.date){const c=jAe(n.date,2);a=_Ae(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,l;if(n.time&&(s=SAe(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=CAe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+l)}const Tm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wAe(e){const t={},r=e.split(Tm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Tm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Tm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function jAe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function _Ae(e,t){if(t===null)return new Date(NaN);const r=e.match(yAe);if(!r)return new Date(NaN);const n=!!r[4],a=cf(r[1]),i=cf(r[2])-1,s=cf(r[3]),l=cf(r[4]),c=cf(r[5])-1;if(n)return kAe(t,l,c)?NAe(t,l,c):new Date(NaN);{const u=new Date(0);return!EAe(t,i,s)||!AAe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function cf(e){return e?parseInt(e):1}function SAe(e){const t=e.match(xAe);if(!t)return NaN;const r=zb(t[1]),n=zb(t[2]),a=zb(t[3]);return OAe(r,n,a)?r*jz+n*wz+a*1e3:NaN}function zb(e){return e&&parseFloat(e.replace(",","."))||0}function CAe(e){if(e==="Z")return 0;const t=e.match(bAe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return TAe(n,a)?r*(n*jz+a*wz):NaN}function NAe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const PAe=[31,null,31,30,31,30,31,31,30,31,30,31];function Ez(e){return e%400===0||e%4===0&&e%100!==0}function EAe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(PAe[t]||(Ez(e)?29:28))}function AAe(e,t){return t>=1&&t<=(Ez(e)?366:365)}function kAe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function OAe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function TAe(e,t){return t>=0&&t<=59}function RAe(e,t){return Sz(e,-t)}const $Ae={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},MAe=(e,t,r)=>{let n;const a=$Ae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},IAe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},DAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LAe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FAe={date:Gc({formats:IAe,defaultWidth:"full"}),time:Gc({formats:DAe,defaultWidth:"full"}),dateTime:Gc({formats:LAe,defaultWidth:"full"})},BAe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},zAe=(e,t,r,n)=>BAe[e],UAe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},VAe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},WAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},HAe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},qAe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},KAe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},GAe=["MMM","MMMM"],YAe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&GAe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:KAe,era:mi({values:UAe,defaultWidth:"wide"}),quarter:mi({values:VAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:WAe,defaultWidth:"wide"}),day:mi({values:HAe,defaultWidth:"wide"}),dayPeriod:mi({values:qAe,defaultWidth:"wide"})},XAe=/^(\d+)(ime|re|me|er|e)?/i,QAe=/\d+/i,JAe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},ZAe={any:[/^av/i,/^ap/i]},eke={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},tke={any:[/1/i,/2/i,/3/i,/4/i]},rke={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},nke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},ake={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},ike={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},ske={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},oke={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},lke={ordinalNumber:Cz({matchPattern:XAe,parsePattern:QAe,valueCallback:e=>parseInt(e)}),era:vi({matchPatterns:JAe,defaultMatchWidth:"wide",parsePatterns:ZAe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:eke,defaultMatchWidth:"wide",parsePatterns:tke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:rke,defaultMatchWidth:"wide",parsePatterns:nke,defaultParseWidth:"any"}),day:vi({matchPatterns:ake,defaultMatchWidth:"wide",parsePatterns:ike,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:ske,defaultMatchWidth:"any",parsePatterns:oke,defaultParseWidth:"any"})},$c={code:"fr",formatDistance:MAe,formatLong:FAe,formatRelative:zAe,localize:YAe,match:lke,options:{weekStartsOn:1,firstWeekContainsDate:4}};var cke="Separator",W2="horizontal",uke=["horizontal","vertical"],Az=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=W2,...a}=e,i=dke(n)?n:W2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Te.div,{"data-orientation":i,...l,...a,ref:t})});Az.displayName=cke;function dke(e){return uke.includes(e)}var kz=Az;const i_=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(kz,{ref:a,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));i_.displayName=kz.displayName;function fke(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:s,deleteTask:l,getTasksForMeeting:c}=oEe(),[u,d]=w.useState(null),[f,h]=w.useState(!1),[p,y]=w.useState(!1),[m,g]=w.useState(new Date().toISOString().split("T")[0]),[v,x]=w.useState(""),[b,_]=w.useState(""),[j,S]=w.useState(!1),[C,N]=w.useState(""),[P,E]=w.useState(""),k=e.find(L=>L.id===u),A=u?c(u):[],R=async()=>{v.trim()&&(await r({meeting_date:m,title:v}),x(""),g(new Date().toISOString().split("T")[0]),h(!1))},O=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},I=async()=>{!u||!P.trim()||(await i(u,P.trim()),E(""))},$=()=>{k&&(N(k.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},D=({tasks:L,inFullscreen:z=!1})=>o.jsxs("div",{className:"space-y-1.5",children:[L.map(X=>o.jsxs("div",{className:"flex items-start gap-2 group",children:[o.jsx(Qx,{checked:X.is_completed,onCheckedChange:G=>s(X.id,{is_completed:!!G}),className:"mt-0.5"}),o.jsx("span",{className:`text-sm flex-1 ${X.is_completed?"line-through text-muted-foreground":""}`,children:X.description}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(X.id),children:o.jsx(Ai,{className:"h-3 w-3"})})]},X.id)),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(be,{placeholder:"Nouvelle tche",value:z?P:b,onChange:X=>z?E(X.target.value):_(X.target.value),onKeyDown:X=>X.key==="Enter"&&(z?I():O()),className:"text-sm"}),o.jsx(ae,{size:"sm",onClick:z?I:O,disabled:!(z?P:b).trim(),children:o.jsx(Or,{className:"h-4 w-4"})})]})]});return t?o.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[o.jsxs(dr,{className:"w-64 shrink-0 flex flex-col",children:[o.jsx(ln,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(cn,{className:"text-sm font-medium",children:"Runions"}),o.jsxs(Tr,{open:f,onOpenChange:h,children:[o.jsx(Kx,{asChild:!0,children:o.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[o.jsx(Or,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),o.jsxs(yr,{children:[o.jsx(xr,{children:o.jsx(br,{children:"Nouvelle runion BE"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Date"}),o.jsx(be,{type:"date",value:m,onChange:L=>g(L.target.value)})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Titre / Objet"}),o.jsx(be,{placeholder:"Ex: Runion BE hebdomadaire",value:v,onChange:L=>x(L.target.value),onKeyDown:L=>L.key==="Enter"&&R()})]}),o.jsx(ae,{onClick:R,disabled:!v.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),o.jsxs(fr,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(L=>{const z=L.id===u,X=c(L.id).length,G=c(L.id).filter(F=>F.is_completed).length;return o.jsxs("button",{onClick:()=>d(L.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${z?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[o.jsx("div",{className:"font-medium truncate",children:Ba(new Date(L.meeting_date),"dd/MM/yyyy")}),o.jsx("div",{className:`text-xs truncate ${z?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.title||"Sans titre"}),X>0&&o.jsxs("div",{className:`text-xs mt-0.5 ${z?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",G,"/",X," tches"]})]},L.id)})]})]}),o.jsx(dr,{className:"flex-1 flex flex-col overflow-hidden",children:k?o.jsxs(o.Fragment,{children:[o.jsx(ln,{className:"pb-2 shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(cn,{className:"text-lg flex items-center gap-2",children:[o.jsx(Km,{className:"h-5 w-5 text-primary"}),Ba(new Date(k.meeting_date),"EEEE d MMMM yyyy",{locale:$c})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:k.title})]}),o.jsx(ae,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(k.id),d(null))},children:o.jsx(un,{className:"h-4 w-4"})})]})}),o.jsxs(fr,{className:"flex-1 overflow-auto space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[o.jsx(fu,{className:"h-4 w-4"})," Compte-rendu"]}),o.jsxs("div",{className:"flex gap-1",children:[!j&&o.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"}),o.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:o.jsx(X6,{className:"h-3.5 w-3.5"})})]})]}),j?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):o.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:k.content||o.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),o.jsx(i_,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),o.jsx(D,{tasks:A})]})]}),o.jsx(Tr,{open:p,onOpenChange:y,children:o.jsxs(yr,{className:"max-w-4xl h-[80vh] flex flex-col",children:[o.jsx(xr,{children:o.jsxs(br,{className:"flex items-center gap-2",children:[o.jsx(Km,{className:"h-5 w-5 text-primary"}),k&&Ba(new Date(k.meeting_date),"EEEE d MMMM yyyy",{locale:$c}),k&&o.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",k.title]})]})}),o.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[o.jsx(fu,{className:"h-4 w-4"})," Compte-rendu"]}),!j&&o.jsx(ae,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:$,children:"Modifier"})]}),j?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{size:"sm",onClick:M,children:"Enregistrer"}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):o.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(k==null?void 0:k.content)||o.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),o.jsx(i_,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),o.jsx(D,{tasks:A,inFullscreen:!0})]})]})]})})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx(Km,{className:"h-12 w-12 mx-auto opacity-30"}),o.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function hke(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState(!0),c=w.useCallback(async()=>{try{const[b,_,j]=await Promise.all([pe.from("costflow_planning_colors").select("*").order("sort_order"),pe.from("costflow_planning_rows").select("*").order("sort_order"),pe.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(j.error)throw j.error;t(b.data||[]),n(_.data||[]),i(j.data||[])}catch(b){Ce.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);w.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await pe.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:s,createColor:async(b,_)=>{const j=await u();if(!j)return;const{data:S,error:C}=await pe.from("costflow_planning_colors").insert({user_id:j,name:b,color:_,sort_order:e.length}).select().single();if(C){Ce.error(C.message);return}t(N=>[...N,S])},updateColor:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_colors").update(_).eq("id",b);if(j){Ce.error(j.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await pe.from("costflow_planning_colors").delete().eq("id",b);if(_){Ce.error(_.message);return}t(j=>j.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:j,error:S}=await pe.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){Ce.error(S.message);return}n(C=>[...C,j])},updateRow:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_rows").update({label:_}).eq("id",b);if(j){Ce.error(j.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await pe.from("costflow_planning_rows").delete().eq("id",b);if(_){Ce.error(_.message);return}n(j=>j.filter(S=>S.id!==b)),i(j=>j.filter(S=>S.row_id!==b))},createBlock:async(b,_,j,S,C)=>{const N=await u();if(!N)return;const{data:P,error:E}=await pe.from("costflow_planning_blocks").insert({user_id:N,row_id:b,start_month:_,duration:j,color_id:S,label:C}).select().single();if(E){Ce.error(E.message);return}i(k=>[...k,P])},updateBlock:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_blocks").update(_).eq("id",b);if(j){Ce.error(j.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await pe.from("costflow_planning_blocks").delete().eq("id",b);if(_){Ce.error(_.message);return}i(j=>j.filter(S=>S.id!==b))}}}function pke(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useCallback(async()=>{try{const{data:c,error:u}=await pe.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){Ce.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return w.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var p;const{data:d}=await pe.auth.getUser(),f=(p=d.user)==null?void 0:p.id;if(!f)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await pe.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){Ce.error(y.message);return}t(m=>m.map(g=>g.id===h.id?{...g,content:u,updated_at:new Date().toISOString()}:g))}else{const{data:y,error:m}=await pe.from("costflow_planning_notes").insert({user_id:f,block_id:c,content:u}).select().single();if(m){Ce.error(m.message);return}t(g=>[y,...g])}Ce.success("Note sauvegarde")}}}function mke({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:s}){const[l,c]=w.useState("");if(w.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=s[r.start_month-1]||`M${r.start_month}`,d=r.start_month+r.duration-1,f=s[d-1]||`M${d}`;return o.jsx(Tr,{open:e,onOpenChange:t,children:o.jsxs(yr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(xr,{children:o.jsxs(br,{className:"flex items-center gap-2",children:[n&&o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),o.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",f,")"]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ti,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[a&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),o.jsxs(ae,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[o.jsx(hS,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function vke(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var pN="ScrollArea",[Oz,hOe]=Cn(pN),[gke,ka]=Oz(pN),Tz=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[p,y]=w.useState(null),[m,g]=w.useState(null),[v,x]=w.useState(0),[b,_]=w.useState(0),[j,S]=w.useState(!1),[C,N]=w.useState(!1),P=Ge(t,k=>c(k)),E=hd(a);return o.jsx(gke,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(Te.div,{dir:E,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Tz.displayName=pN;var Rz="ScrollAreaViewport",$z=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=ka(Rz,r),l=w.useRef(null),c=Ge(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$z.displayName=Rz;var Di="ScrollAreaScrollbar",mN=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(yke,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(xke,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(Mz,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(vN,{...n,ref:t}):null});mN.displayName=Di;var yke=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),[i,s]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Bn,{present:r||i,children:o.jsx(Mz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xke=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),i=e.orientation==="horizontal",s=a0(()=>c("SCROLL_END"),100),[l,c]=vke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),o.jsx(Bn,{present:r||l!=="hidden",children:o.jsx(vN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Mz=w.forwardRef((e,t)=>{const r=ka(Di,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=w.useState(!1),l=e.orientation==="horizontal",c=a0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return Zu(r.viewport,c),Zu(r.content,c),o.jsx(Bn,{present:n||i,children:o.jsx(vN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),vN=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ka(Di,e.__scopeScrollArea),i=w.useRef(null),s=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Bz(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return Cke(h,s.current,l,p)}return r==="horizontal"?o.jsx(bke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=H2(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(wke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=H2(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),bke=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ka(Di,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=Ge(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Dz,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":n0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Uz(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ay(s.paddingLeft),paddingEnd:ay(s.paddingRight)}})}})}),wke=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ka(Di,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=Ge(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Dz,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":n0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Uz(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ay(s.paddingTop),paddingEnd:ay(s.paddingBottom)}})}})}),[jke,Iz]=Oz(Di),Dz=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ka(Di,r),[y,m]=w.useState(null),g=Ge(t,P=>m(P)),v=w.useRef(null),x=w.useRef(""),b=p.viewport,_=n.content-n.viewport,j=Pr(d),S=Pr(c),C=a0(f,10);function N(P){if(v.current){const E=P.clientX-v.current.left,k=P.clientY-v.current.top;u({x:E,y:k})}}return w.useEffect(()=>{const P=E=>{const k=E.target;(y==null?void 0:y.contains(k))&&j(E,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,_,j]),w.useEffect(S,[n,S]),Zu(y,C),Zu(p.content,C),o.jsx(jke,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Pr(i),onThumbPointerUp:Pr(s),onThumbPositionChange:S,onThumbPointerDown:Pr(l),children:o.jsx(Te.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:je(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(P))}),onPointerMove:je(e.onPointerMove,N),onPointerUp:je(e.onPointerUp,P=>{const E=P.target;E.hasPointerCapture(P.pointerId)&&E.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),ny="ScrollAreaThumb",Lz=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Iz(ny,e.__scopeScrollArea);return o.jsx(Bn,{present:r||a.hasThumb,children:o.jsx(_ke,{ref:t,...n})})}),_ke=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ka(ny,r),s=Iz(ny,r),{onThumbPositionChange:l}=s,c=Ge(t,f=>s.onThumbChange(f)),u=w.useRef(void 0),d=a0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Nke(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(Te.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:je(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:y,y:m})}),onPointerUp:je(e.onPointerUp,s.onThumbPointerUp)})});Lz.displayName=ny;var gN="ScrollAreaCorner",Fz=w.forwardRef((e,t)=>{const r=ka(gN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Ske,{...e,ref:t}):null});Fz.displayName=gN;var Ske=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ka(gN,r),[i,s]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return Zu(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Zu(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(Te.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ay(e){return e?parseInt(e,10):0}function Bz(e,t){const r=e/t;return isNaN(r)?0:r}function n0(e){const t=Bz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Cke(e,t,r,n="ltr"){const a=n0(r),i=a/2,s=t||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return zz([c,u],f)(e)}function H2(e,t,r="ltr"){const n=n0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=vh(e,c);return zz([0,s],[0,l])(u)}function zz(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Uz(e,t){return e>0&&e<t}var Nke=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function a0(e,t){const r=Pr(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Zu(e,t){const r=Pr(t);Fr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Vz=Tz,Pke=$z,Eke=Fz;const Wz=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Vz,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[o.jsx(Pke,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Hz,{}),o.jsx(Eke,{})]}));Wz.displayName=Vz.displayName;const Hz=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(mN,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Lz,{className:"relative flex-1 rounded-full bg-border"})}));Hz.displayName=mN.displayName;function Ake({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:s,onOpenBlockNote:l}){const c=d=>i.find(f=>f.id===d),u=[...n].sort((d,f)=>d.start_month-f.start_month);return o.jsx(Tr,{open:e,onOpenChange:t,children:o.jsxs(yr,{className:"max-w-3xl max-h-[85vh]",children:[o.jsx(xr,{children:o.jsxs(br,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-5 w-5"}),"Notes  ",r]})}),o.jsx(Wz,{className:"max-h-[65vh] pr-2",children:u.length===0?o.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):o.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=c(d.color_id),h=a.find(g=>g.block_id===d.id),p=s[d.start_month-1]||`M${d.start_month}`,y=d.start_month+d.duration-1,m=s[y-1]||`M${y}`;return o.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(d)},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f&&o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f.color}}),o.jsx("span",{className:"font-medium text-sm",children:d.label||(f==null?void 0:f.name)||"Bloc"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[p,"  ",m]})]}),h?o.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},d.id)})})})]})})}const qz=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function kke(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:qz[(n-1)%12],globalIndex:n});return r}function Oke(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:s,createRow:l,updateRow:c,deleteRow:u,createBlock:d,updateBlock:f,deleteBlock:h}=hke(),{notes:p,getNotesForBlock:y,getNotesForBlocks:m,upsertNote:g}=pke(),[v,x]=w.useState(1),[b,_]=w.useState(12),[j,S]=w.useState(""),[C,N]=w.useState(null),[P,E]=w.useState(""),[k,A]=w.useState(!1),[R,O]=w.useState(""),[I,$]=w.useState("#3b82f6"),[M,D]=w.useState(null),[L,z]=w.useState(!1),[X,G]=w.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[F,J]=w.useState(null),[U,V]=w.useState(null),[W,de]=w.useState(!1),[Q,te]=w.useState(null),[q,H]=w.useState(!1),[ve,ge]=w.useState(null),Ae=w.useRef(null),Le=kke(v,b),Ye=Le.length;Le.map(se=>se.label);const $t=se=>e.find(Be=>Be.id===se),Gt=se=>{const Be=[...se].sort((dt,nt)=>dt.start_month-nt.start_month),bt=[],ir=[];for(const dt of Be){const nt=dt.start_month+dt.duration;let Nn=!1;for(let fn=0;fn<ir.length;fn++)if(dt.start_month>=ir[fn]){ir[fn]=nt,bt.push({blockId:dt.id,lane:fn}),Nn=!0;break}Nn||(bt.push({blockId:dt.id,lane:ir.length}),ir.push(nt))}return{lanes:bt,maxLane:ir.length}},B=()=>{j.trim()&&(l(j.trim()),S(""))},K=se=>{P.trim()&&c(se,P.trim()),N(null)},Z=(se,Be)=>{var bt;G({row_id:se,start_month:Be,duration:1,color_id:((bt=e[0])==null?void 0:bt.id)||"",label:""}),J(null),z(!0)},ne=se=>{G({row_id:se.row_id,start_month:se.start_month,duration:se.duration,color_id:se.color_id||"",label:se.label}),J(se.id),z(!0)},ue=()=>{const{row_id:se,start_month:Be,duration:bt,color_id:ir,label:dt}=X,nt=ir||null;F?f(F,{row_id:se,start_month:Be,duration:bt,color_id:nt,label:dt}):d(se,Be,bt,nt,dt),z(!1)},ce=()=>{R.trim()&&(M?i(M,{name:R.trim(),color:I}):a(R.trim(),I),O(""),$("#3b82f6"),D(null),A(!1))},ye=se=>{D(se.id),O(se.name),$(se.color),A(!0)},Ie=se=>{V(se),de(!0)},lt=(se,Be)=>{se.preventDefault();const bt=Ae.current;if(!bt)return;const ir=bt.getBoundingClientRect(),dt=ir.width/Ye,nt=Math.floor((se.clientX-ir.left)/dt)+v;ge({blockId:Be.id,offsetMonth:nt-Be.start_month})},$r=w.useCallback(se=>{if(!ve||!Ae.current)return;const Be=Ae.current.getBoundingClientRect(),bt=Be.width/Ye;let dt=Math.floor((se.clientX-Be.left)/bt)+v-ve.offsetMonth;const nt=r.find(Nn=>Nn.id===ve.blockId);nt&&(dt=Math.max(1,Math.min(dt,36-nt.duration)),dt!==nt.start_month&&f(ve.blockId,{start_month:dt}))},[ve,r,f,Ye,v]),dn=w.useCallback(()=>{ge(null)},[]);if(n)return o.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const wr=Array.from({length:36},(se,Be)=>{const bt=Be+1,ir=Math.floor(Be/12)+1,dt=`${qz[Be%12]} (A${ir})`;return{value:bt,label:dt}});return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(dr,{children:[o.jsx(ln,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(cn,{className:"text-sm font-medium",children:"Lgende des couleurs"}),o.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{D(null),O(""),$("#3b82f6"),A(!0)},children:[o.jsx(Or,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),o.jsx(fr,{children:e.length===0?o.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):o.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(se=>o.jsxs("div",{className:"flex items-center gap-2 group",children:[o.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:se.color}}),o.jsx("span",{className:"text-sm",children:se.name}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>ye(se),children:o.jsx(Sv,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>s(se.id),children:o.jsx(Ai,{className:"h-3 w-3"})})]},se.id))})})]}),o.jsxs(dr,{children:[o.jsx(ln,{className:"pb-2",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(cn,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(be,{placeholder:"Nouveau produit",value:j,onChange:se=>S(se.target.value),onKeyDown:se=>se.key==="Enter"&&B(),className:"h-7 text-xs w-48"}),o.jsxs(ae,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:B,disabled:!j.trim(),children:[o.jsx(Or,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(_e,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),o.jsxs(at,{value:String(v),onValueChange:se=>{const Be=Number(se);x(Be),Be>b&&_(Be)},children:[o.jsx(tt,{className:"h-7 text-xs w-32",children:o.jsx(it,{})}),o.jsx(rt,{children:wr.map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(_e,{className:"text-xs whitespace-nowrap",children:"Fin :"}),o.jsxs(at,{value:String(b),onValueChange:se=>{const Be=Number(se);_(Be),Be<v&&x(Be)},children:[o.jsx(tt,{className:"h-7 text-xs w-32",children:o.jsx(it,{})}),o.jsx(rt,{children:wr.filter(se=>se.value>=v).map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ye," mois affichs"]})]})]})}),o.jsx(fr,{className:"overflow-x-auto p-0",children:o.jsxs("div",{className:"min-w-[900px]",onMouseMove:$r,onMouseUp:dn,onMouseLeave:dn,children:[o.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${Ye}, 1fr)`},children:[o.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),Le.map((se,Be)=>o.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:se.label},Be))]}),t.length===0&&o.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(se=>{const Be=r.filter(nt=>nt.row_id===se.id),{lanes:bt,maxLane:ir}=Gt(Be),dt=Math.max(44,ir*32+12);return o.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${Ye}, 1fr)`,minHeight:dt},children:[o.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:dt},children:C===se.id?o.jsx(be,{value:P,onChange:nt=>E(nt.target.value),onBlur:()=>K(se.id),onKeyDown:nt=>nt.key==="Enter"&&K(se.id),autoFocus:!0,className:"h-6 text-xs"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"truncate flex-1 font-medium",children:se.label}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{te({id:se.id,label:se.label}),H(!0)},title:"Voir toutes les notes",children:o.jsx(fu,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{N(se.id),E(se.label)},children:o.jsx(Sv,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(se.id)},children:o.jsx(un,{className:"h-3 w-3"})})]})}),o.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${Ye+2}`,minHeight:dt},ref:Ae,children:[o.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${Ye}, 1fr)`},children:Le.map((nt,Nn)=>o.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>Z(se.id,nt.globalIndex)},Nn))}),Be.map(nt=>{const Nn=nt.start_month+nt.duration;if(Nn<=v||nt.start_month>b)return null;const fn=$t(nt.color_id),$p=(fn==null?void 0:fn.color)||"#94a3b8",Mp=Math.max(nt.start_month,v),Md=Math.min(Nn,b+1),si=`${(Mp-v)/Ye*100}%`,i0=`${(Md-Mp)/Ye*100}%`,qe=bt.find(En=>En.blockId===nt.id),Et=4+((qe==null?void 0:qe.lane)||0)*32,Pn=y(nt.id),Un=Pn.length>0&&Pn[0].content.trim()!=="";return o.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:si,width:i0,backgroundColor:$p,top:Et,height:28,cursor:ve?"grabbing":"grab",zIndex:(ve==null?void 0:ve.blockId)===nt.id?10:1},onMouseDown:En=>lt(En,nt),onDoubleClick:()=>ne(nt),onClick:En=>{ve||(En.stopPropagation(),Ie(nt))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[o.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:nt.label||(fn==null?void 0:fn.name)||""}),Un&&o.jsx(rW,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},nt.id)})]})]},se.id)})]})})]}),o.jsx(Tr,{open:k,onOpenChange:A,children:o.jsxs(yr,{className:"max-w-sm",children:[o.jsx(xr,{children:o.jsx(br,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Nom / Dfinition"}),o.jsx(be,{value:R,onChange:se=>O(se.target.value),placeholder:"Ex: Sortie publique valide"})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Couleur"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"color",value:I,onChange:se=>$(se.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),o.jsx(be,{value:I,onChange:se=>$(se.target.value),className:"w-28 text-sm"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:ce,disabled:!R.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&o.jsx(ae,{variant:"destructive",onClick:()=>{s(M),A(!1)},children:"Supprimer"})]})]})]})}),o.jsx(Tr,{open:L,onOpenChange:z,children:o.jsxs(yr,{className:"max-w-sm",children:[o.jsx(xr,{children:o.jsx(br,{children:F?"Modifier le bloc":"Nouveau bloc"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Label"}),o.jsx(be,{value:X.label,onChange:se=>G(Be=>({...Be,label:se.target.value})),placeholder:"Ex: Prototype"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Mois de dbut"}),o.jsxs(at,{value:String(X.start_month),onValueChange:se=>G(Be=>({...Be,start_month:Number(se)})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:wr.map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Dure (mois)"}),o.jsxs(at,{value:String(X.duration),onValueChange:se=>G(Be=>({...Be,duration:Number(se)})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsx(rt,{children:Array.from({length:24},(se,Be)=>Be+1).map(se=>o.jsxs(De,{value:String(se),children:[se," mois"]},se))})]})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Couleur"}),o.jsxs(at,{value:X.color_id||"none",onValueChange:se=>G(Be=>({...Be,color_id:se==="none"?"":se})),children:[o.jsx(tt,{children:o.jsx(it,{})}),o.jsxs(rt,{children:[o.jsx(De,{value:"none",children:"Sans couleur"}),e.map(se=>o.jsx(De,{value:se.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:se.color}}),se.name]})},se.id))]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:ue,className:"flex-1",children:F?"Mettre  jour":"Crer"}),F&&o.jsx(ae,{variant:"destructive",onClick:()=>{h(F),z(!1)},children:"Supprimer"})]})]})]})}),o.jsx(mke,{open:W,onOpenChange:de,block:U,color:U?$t(U.color_id):void 0,existingNote:U?y(U.id)[0]:void 0,onSave:g,monthLabels:wr.map(se=>se.label)}),Q&&o.jsx(Ake,{open:q,onOpenChange:H,rowLabel:Q.label,rowBlocks:r.filter(se=>se.row_id===Q.id),notes:m(r.filter(se=>se.row_id===Q.id).map(se=>se.id)),colors:e,monthLabels:wr.map(se=>se.label),onOpenBlockNote:Ie})]})}function Tke(){const e=UPe(),[t,r]=w.useState(null),[n,a]=w.useState(null),[i,s]=w.useState("references");return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsx(js,{tabKey:"costflow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),o.jsxs(Ea,{value:i,onValueChange:s,className:"space-y-4",children:[o.jsxs(la,{children:[o.jsx(ut,{value:"references",children:" Rfrences"}),o.jsx(ut,{value:"products",children:" Produits"}),o.jsx(ut,{value:"suppliers",children:" Fournisseurs"}),o.jsx(ut,{value:"costs",children:" Cots & Export"}),o.jsx(ut,{value:"meetings",children:" Runions BE"}),o.jsx(ut,{value:"planning",children:" Planning Dev"})]}),o.jsx(mt,{value:"references",children:t?o.jsx(JPe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):o.jsx(XPe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),o.jsx(mt,{value:"products",children:n?o.jsx(nEe,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(rEe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),o.jsx(aEe,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),o.jsx(mt,{value:"suppliers",children:o.jsx(sEe,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),o.jsx(mt,{value:"costs",children:o.jsx(iEe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),o.jsx(mt,{value:"meetings",children:o.jsx(fke,{})}),o.jsx(mt,{value:"planning",children:o.jsx(Oke,{})})]})]})})}function Rke(){const{user:e,userRole:t}=Ca(),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState(!0),c=t==="admin"||t==="finance",u=w.useCallback(async()=>{if(e){l(!0);try{const[g,v]=await Promise.all([pe.from("timetracking_categories").select("*").order("name"),pe.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);g.data&&n(g.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),v.data&&i(v.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(g){console.error("TimeTracking fetch error:",g)}finally{l(!1)}}},[e]);return w.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:s,canManageCategories:c,createCategory:async(g,v)=>{if(!e)return;const{error:x}=await pe.from("timetracking_categories").insert({user_id:e.id,name:g,color:v});x?(Ce.error("Erreur cration catgorie"),console.error(x)):(Ce.success("Catgorie cre"),u())},updateCategory:async(g,v)=>{const{error:x}=await pe.from("timetracking_categories").update(v).eq("id",g);x?(Ce.error("Erreur mise  jour catgorie"),console.error(x)):(Ce.success("Catgorie mise  jour"),u())},deleteCategory:async g=>{const{error:v}=await pe.from("timetracking_categories").delete().eq("id",g);v?(Ce.error("Erreur suppression catgorie"),console.error(v)):(Ce.success("Catgorie supprime"),u())},createEntry:async g=>{if(!e)return;const{error:v}=await pe.from("timetracking_entries").insert({user_id:e.id,date:g.date,category_id:g.category_id||null,task_description:g.task_description,duration_minutes:g.duration_minutes||0,comments:g.comments||""});v?(Ce.error("Erreur cration entre"),console.error(v)):(Ce.success("Temps enregistr"),u())},updateEntry:async(g,v)=>{const{error:x}=await pe.from("timetracking_entries").update(v).eq("id",g);x?(Ce.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async g=>{const{error:v}=await pe.from("timetracking_entries").delete().eq("id",g);v?(Ce.error("Erreur suppression"),console.error(v)):u()},refresh:u}}function Ub(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function $ke({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,s]=w.useState(()=>Ju(new Date,{weekStartsOn:1})),[l,c]=w.useState(new Date),[u,d]=w.useState(!1),[f,h]=w.useState(null),[p,y]=w.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),m=yEe(i,{weekStartsOn:1}),g=vEe({start:i,end:m}),v=w.useMemo(()=>e.filter(N=>a_(gAe(N.date),l)),[e,l]),x=w.useMemo(()=>{const N={};return g.forEach(P=>{const E=Ba(P,"yyyy-MM-dd");N[E]=e.filter(k=>k.date===E).reduce((k,A)=>k+A.duration_minutes,0)}),N},[e,g]),b=v.reduce((N,P)=>N+P.duration_minutes,0),_=N=>t.find(P=>P.id===N),j=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),d(!0)},S=N=>{h(N.id),y({task_description:N.task_description,category_id:N.category_id||"",duration_hours:Math.floor(N.duration_minutes/60),duration_minutes:N.duration_minutes%60,comments:N.comments}),d(!0)},C=async()=>{if(!p.task_description.trim())return;const N=p.duration_hours*60+p.duration_minutes,P={date:Ba(l,"yyyy-MM-dd"),task_description:p.task_description,category_id:p.category_id||null,duration_minutes:N,comments:p.comments};f?await n(f,P):await r(P),d(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ae,{variant:"outline",size:"icon",onClick:()=>s(RAe(i,1)),children:o.jsx(D6,{className:"h-4 w-4"})}),o.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",Ba(i,"d MMMM",{locale:$c})," au ",Ba(m,"d MMMM yyyy",{locale:$c})]}),o.jsx(ae,{variant:"outline",size:"icon",onClick:()=>s(Sz(i,1)),children:o.jsx(L6,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map(N=>{const P=Ba(N,"yyyy-MM-dd"),E=x[P]||0,k=a_(N,l);return o.jsxs("button",{onClick:()=>c(N),className:`p-3 rounded-lg border text-center transition-colors ${k?"bg-primary text-primary-foreground border-primary":vAe(N)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[o.jsx("div",{className:"text-xs font-medium",children:Ba(N,"EEE",{locale:$c})}),o.jsx("div",{className:"text-lg font-bold",children:Ba(N,"d")}),E>0&&o.jsx("div",{className:`text-xs mt-1 ${k?"text-primary-foreground/80":"text-muted-foreground"}`,children:Ub(E)})]},P)})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:Ba(l,"EEEE d MMMM yyyy",{locale:$c})}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(dS,{className:"h-3.5 w-3.5"}),"Total : ",Ub(b)]})]}),o.jsxs(ae,{onClick:j,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Tche"}),o.jsx(le,{className:"text-right",children:"Dure"}),o.jsx(le,{children:"Commentaire"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[v.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),v.map(N=>{const P=_(N.category_id);return o.jsxs(we,{children:[o.jsx(Y,{children:P?o.jsxs(Me,{variant:"outline",className:"gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),P.name]}):o.jsx("span",{className:"text-muted-foreground",children:""})}),o.jsx(Y,{className:"font-medium",children:N.task_description}),o.jsx(Y,{className:"text-right font-mono-numbers",children:Ub(N.duration_minutes)}),o.jsx(Y,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:N.comments||""}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>S(N),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>a(N.id),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},N.id)})]})]})}),o.jsx(Tr,{open:u,onOpenChange:d,children:o.jsxs(yr,{className:"max-w-md",children:[o.jsx(xr,{children:o.jsx(br,{children:f?"Modifier la tche":"Nouvelle tche"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Tche *"}),o.jsx(be,{value:p.task_description,onChange:N=>y({...p,task_description:N.target.value}),placeholder:"Description de la tche..."})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Catgorie"}),o.jsxs(at,{value:p.category_id||"none",onValueChange:N=>y({...p,category_id:N==="none"?"":N}),children:[o.jsx(tt,{children:o.jsx(it,{placeholder:"Slectionner..."})}),o.jsxs(rt,{children:[o.jsx(De,{value:"none",children:"Aucune"}),t.map(N=>o.jsx(De,{value:N.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]})},N.id))]})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Dure"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{type:"number",min:0,max:23,className:"w-20 text-right",value:p.duration_hours,onChange:N=>y({...p,duration_hours:parseInt(N.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),o.jsx(be,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:p.duration_minutes,onChange:N=>y({...p,duration_minutes:parseInt(N.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Commentaire"}),o.jsx(Ti,{value:p.comments,onChange:N=>y({...p,comments:N.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:C,disabled:!p.task_description.trim(),children:f?"Mettre  jour":"Ajouter"})})]})})]})}const Mke=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function Ike({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState("#6366f1"),h=()=>{l(null),u(""),f("#6366f1"),i(!0)},p=m=>{l(m.id),u(m.name),f(m.color),i(!0)},y=async()=>{c.trim()&&(s?await r(s,{name:c,color:d}):await t(c,d),i(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),o.jsxs(ae,{onClick:h,children:[o.jsx(Or,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(we,{children:[o.jsx(le,{className:"w-12",children:"Couleur"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[e.length===0&&o.jsx(we,{children:o.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(m=>o.jsxs(we,{children:[o.jsx(Y,{children:o.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:m.color}})}),o.jsx(Y,{className:"font-medium",children:m.name}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>p(m),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:o.jsx(un,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))]})]})}),o.jsx(Tr,{open:a,onOpenChange:i,children:o.jsxs(yr,{className:"max-w-sm",children:[o.jsx(xr,{children:o.jsx(br,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Nom *"}),o.jsx(be,{value:c,onChange:m=>u(m.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),o.jsxs("div",{children:[o.jsx(_e,{children:"Couleur"}),o.jsx("div",{className:"flex gap-2 mt-2",children:Mke.map(m=>o.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${d===m?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:m},onClick:()=>f(m)},m))})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ae,{onClick:y,disabled:!c.trim(),children:s?"Mettre  jour":"Crer"})})]})})]})}function Dke(){const e=Rke();return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),o.jsxs(Ea,{defaultValue:"entries",className:"space-y-4",children:[o.jsxs(la,{children:[o.jsx(ut,{value:"entries",children:" Mes entres"}),e.canManageCategories&&o.jsx(ut,{value:"categories",children:" Catgories"})]}),o.jsx(mt,{value:"entries",children:o.jsx($ke,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&o.jsx(mt,{value:"categories",children:o.jsx(Ike,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const q2="novaride_financial_state_v5";function Lke(){const{user:e,isAdmin:t,getTabPermission:r}=Ca(),[n,a]=w.useState([]),[i,s]=w.useState(!0),l=w.useCallback(()=>!!e,[e,t]),c=w.useCallback(async()=>{if(!e){s(!1);return}try{const{data:m}=await pe.from("snapshots").select("*").order("created_at",{ascending:!1});m&&a(m.map(g=>({id:g.id,name:g.name,comment:g.comment,createdAt:g.created_at,stateData:JSON.stringify(g.state_data)})))}catch{}finally{s(!1)}},[e]);w.useEffect(()=>{c()},[c]);const u=w.useCallback(async(m,g)=>{if(!e)return!1;try{const v=localStorage.getItem(q2);if(!v)return!1;const{data:x,error:b}=await pe.from("snapshots").insert({user_id:e.id,name:m,comment:g,state_data:JSON.parse(v)}).select().single();if(b||!x)return!1;const _=x;return a(j=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...j]),qr({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),d=w.useCallback(m=>{const g=n.find(v=>v.id===m);return g?(localStorage.setItem(q2,g.stateData),qr({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),f=w.useCallback(async m=>!1,[]),h=w.useCallback(async m=>e?(await pe.from("snapshots").delete().eq("id",m),a(g=>g.filter(v=>v.id!==m)),!0):!1,[e]),p=w.useCallback(async(m,g)=>!1,[]),y=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:d,duplicateSnapshot:f,deleteSnapshot:h,renameSnapshot:p,formatDate:y}}var Kz="AlertDialog",[Fke,pOe]=Cn(Kz,[o5]),_s=o5(),Gz=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return o.jsx(_5,{...n,...r,modal:!0})};Gz.displayName=Kz;var Bke="AlertDialogTrigger",Yz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(S5,{...a,...n,ref:t})});Yz.displayName=Bke;var zke="AlertDialogPortal",Xz=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return o.jsx(C5,{...n,...r})};Xz.displayName=zke;var Uke="AlertDialogOverlay",Qz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(JC,{...a,...n,ref:t})});Qz.displayName=Uke;var Yc="AlertDialogContent",[Vke,Wke]=Fke(Yc),Hke=wM("AlertDialogContent"),Jz=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=_s(r),s=w.useRef(null),l=Ge(t,s),c=w.useRef(null);return o.jsx(mCe,{contentName:Yc,titleName:Zz,docsSlug:"alert-dialog",children:o.jsx(Vke,{scope:r,cancelRef:c,children:o.jsxs(ZC,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:je(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Hke,{children:n}),o.jsx(Kke,{contentRef:s})]})})})});Jz.displayName=Yc;var Zz="AlertDialogTitle",eU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(eN,{...a,...n,ref:t})});eU.displayName=Zz;var tU="AlertDialogDescription",rU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(tN,{...a,...n,ref:t})});rU.displayName=tU;var qke="AlertDialogAction",nU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(rN,{...a,...n,ref:t})});nU.displayName=qke;var aU="AlertDialogCancel",iU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Wke(aU,r),i=_s(r),s=Ge(t,a);return o.jsx(rN,{...i,...n,ref:s})});iU.displayName=aU;var Kke=({contentRef:e})=>{const t=`\`${Yc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yc}\` by passing a \`${tU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Gke=Gz,Yke=Yz,Xke=Xz,sU=Qz,oU=Jz,lU=nU,cU=iU,uU=eU,dU=rU;const K2=Gke,G2=Yke,Qke=Xke,fU=w.forwardRef(({className:e,...t},r)=>o.jsx(sU,{className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));fU.displayName=sU.displayName;const s_=w.forwardRef(({className:e,...t},r)=>o.jsxs(Qke,{children:[o.jsx(fU,{}),o.jsx(oU,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));s_.displayName=oU.displayName;const o_=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});o_.displayName="AlertDialogHeader";const l_=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});l_.displayName="AlertDialogFooter";const c_=w.forwardRef(({className:e,...t},r)=>o.jsx(uU,{ref:r,className:ie("text-lg font-semibold",e),...t}));c_.displayName=uU.displayName;const u_=w.forwardRef(({className:e,...t},r)=>o.jsx(dU,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));u_.displayName=dU.displayName;const d_=w.forwardRef(({className:e,...t},r)=>o.jsx(lU,{ref:r,className:ie(MS(),e),...t}));d_.displayName=lU.displayName;const f_=w.forwardRef(({className:e,...t},r)=>o.jsx(cU,{ref:r,className:ie(MS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));f_.displayName=cU.displayName;function Jke(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=Lke(),{getTabPermission:s,isAdmin:l}=Ca(),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(!1),m=s("snapshots")==="write",g=async()=>{if(!c.trim()){qr({title:"Nom requis",variant:"destructive"});return}p(!0),await r(c.trim(),d.trim()||void 0)&&(u(""),f("")),p(!1)};return t?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx(js,{tabKey:"snapshots",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),m&&o.jsxs(dr,{children:[o.jsxs(ln,{children:[o.jsxs(cn,{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),o.jsx(mh,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),o.jsx(fr,{children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Nom"}),o.jsx(be,{value:c,onChange:v=>u(v.target.value),placeholder:"Ex: Budget V2 valid"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{children:"Commentaire (optionnel)"}),o.jsx(Ti,{value:d,onChange:v=>f(v.target.value),placeholder:"Notes...",rows:1})]}),o.jsxs(ae,{onClick:g,disabled:h,children:[h?o.jsx(_i,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(hS,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),o.jsxs(dr,{children:[o.jsxs(ln,{children:[o.jsxs(cn,{className:"flex items-center gap-2",children:[o.jsx(eI,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),o.jsxs(mh,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),o.jsx(fr,{children:e.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):o.jsx("div",{className:"space-y-3",children:e.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:v.name}),o.jsx(Me,{variant:"outline",className:"text-xs",children:i(v.createdAt)})]}),v.comment&&o.jsx("p",{className:"text-sm text-muted-foreground",children:v.comment})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[m&&o.jsxs(K2,{children:[o.jsx(G2,{asChild:!0,children:o.jsxs(ae,{variant:"outline",size:"sm",children:[o.jsx(Sy,{className:"h-4 w-4 mr-1"}),"Charger"]})}),o.jsxs(s_,{children:[o.jsxs(o_,{children:[o.jsx(c_,{children:"Restaurer cette sauvegarde ?"}),o.jsxs(u_,{children:["Les donnes actuelles seront remplaces par  ",v.name," . Cette action rechargera la page."]})]}),o.jsxs(l_,{children:[o.jsx(f_,{children:"Annuler"}),o.jsx(d_,{onClick:()=>n(v.id),children:"Restaurer"})]})]})]}),l&&o.jsxs(K2,{children:[o.jsx(G2,{asChild:!0,children:o.jsx(ae,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:o.jsx(un,{className:"h-4 w-4"})})}),o.jsxs(s_,{children:[o.jsxs(o_,{children:[o.jsxs(c_,{children:["Supprimer  ",v.name,"  ?"]}),o.jsx(u_,{children:"Cette action est irrversible."})]}),o.jsxs(l_,{children:[o.jsx(f_,{children:"Annuler"}),o.jsx(d_,{onClick:()=>a(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},v.id))})})]})]})})}const Zke=()=>{const e=Fl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},eOe=new A9,tOe=()=>o.jsx(O9,{client:eOe,children:o.jsx(a9,{children:o.jsx(QY,{children:o.jsxs(eX,{children:[o.jsx(BW,{}),o.jsx(yH,{}),o.jsx(P7,{children:o.jsxs(x7,{children:[o.jsx(Ur,{path:"/auth",element:o.jsx(MPe,{})}),o.jsx(Ur,{path:"/home",element:o.jsx(An,{tabKey:"home",children:o.jsx(sX,{})})}),o.jsx(Ur,{path:"/",element:o.jsx(An,{tabKey:"product-plan",children:o.jsx(Vn,{children:o.jsx($_e,{})})})}),o.jsx(Ur,{path:"/organisation",element:o.jsx(An,{tabKey:"organisation",children:o.jsx(Vn,{children:o.jsx(SCe,{})})})}),o.jsx(Ur,{path:"/charges",element:o.jsx(An,{tabKey:"charges",children:o.jsx(Vn,{children:o.jsx(kCe,{})})})}),o.jsx(Ur,{path:"/crm",element:o.jsx(An,{tabKey:"crm",children:o.jsx(Vn,{children:o.jsx(DCe,{})})})}),o.jsx(Ur,{path:"/previsionnel",element:o.jsx(An,{tabKey:"previsionnel",children:o.jsx(Vn,{children:o.jsx(gNe,{})})})}),o.jsx(Ur,{path:"/funding",element:o.jsx(An,{tabKey:"funding",children:o.jsx(Vn,{children:o.jsx(xNe,{})})})}),o.jsx(Ur,{path:"/scenarios",element:o.jsx(An,{tabKey:"scenarios",children:o.jsx(Vn,{children:o.jsx(wNe,{})})})}),o.jsx(Ur,{path:"/valuation",element:o.jsx(An,{tabKey:"valuation",children:o.jsx(Vn,{children:o.jsx(RNe,{})})})}),o.jsx(Ur,{path:"/investment-summary",element:o.jsx(An,{tabKey:"investment-summary",children:o.jsx(Vn,{children:o.jsx(INe,{})})})}),o.jsx(Ur,{path:"/costflow",element:o.jsx(An,{tabKey:"costflow",children:o.jsx(Vn,{children:o.jsx(Tke,{})})})}),o.jsx(Ur,{path:"/timetracking",element:o.jsx(An,{tabKey:"timetracking",children:o.jsx(Vn,{children:o.jsx(Dke,{})})})}),o.jsx(Ur,{path:"/snapshots",element:o.jsx(An,{tabKey:"snapshots",children:o.jsx(Vn,{children:o.jsx(Jke,{})})})}),o.jsx(Ur,{path:"/permissions",element:o.jsx(An,{children:o.jsx(Vn,{children:o.jsx(BPe,{})})})}),o.jsx(Ur,{path:"*",element:o.jsx(Zke,{})})]})})]})})})});vM(document.getElementById("root")).render(o.jsx(tOe,{}));
